{"version":3,"file":"static/js/main.59cb8141.js","mappings":"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","sources":["src/styles/theme.js","src/config/config.js","src/utils/StripeService.js","src/utils/StripePlatform.js","src/context/AuthContext.js","src/components/Navigation.js","src/components/RoadmapSection.js","src/data/mockData.js","src/screens/HomeScreen.js","src/screens/ClientProfile.js","src/components/FloatingSaveButton.js","src/components/AddServiceModal.js","src/components/ProfessionalServiceCard.js","src/components/ConfirmationModal.js","src/components/ServiceManager.js","src/components/RecordedPets.js","src/components/EditableSection.js","src/components/ProfessionalTab.js","src/components/DatePicker.js","src/components/BackHeader.js","src/components/CrossPlatformView.js","src/screens/MyProfile.js","src/components/CustomButton.js","src/screens/SignIn.js","src/screens/SignUp.js","src/screens/ResetPassword.js","src/screens/ResetPasswordConfirm.js","src/screens/Dashboard.js","src/screens/SearchProfessionals.js","src/screens/ProfessionalDashboard.js","src/screens/BecomeProfessional.js","src/screens/MoreScreen.js","src/components/UnavailableTimeSlot.js","src/components/AvailabilityBookingCard.js","src/components/TimePicker.js","src/components/AddAvailabilityModal.js","src/components/DefaultSettingsModal.js","src/components/AvailabilityBottomSheet.js","src/components/UnavailableTimesModal.js","src/screens/AvailabilitySettings.js","src/screens/MyPets.js","src/screens/ClientHistory.js","src/utils/dateTimeValidation.js","src/components/AddOccurrenceModal.js","src/components/RequestBookingModal.js","src/screens/MessageHistory.js","src/components/StripeCardElement.js","src/screens/PaymentMethods.js","src/screens/Settings.js","src/screens/PrivacyPolicy.js","src/screens/ProfessionalSettings.js","src/screens/TermsOfService.js","src/screens/HelpFAQ.js","src/screens/ContactUs.js","src/components/SearchBar.js","src/screens/Clients.js","src/components/CostCalculationModal.js","src/components/ServiceCard.js","src/screens/ProfessionalProfile.js","src/components/ContractList.js","src/components/ClientPicker.js","src/components/ContractTemplate.js","src/components/ChronicleSummary.js","src/components/QuestionInput.js","src/components/ChronicleForm.js","src/screens/MyContracts.js","src/screens/ChangePassword.js","src/screens/AddPet.js","src/components/CustomMultiSelect.js","src/components/SearchRefiner.js","src/components/ProfessionalList.js","src/components/MapView.js","src/screens/SearchProfessionalsListing.js","src/components/BookingCard.js","src/screens/MyBookings.js","src/components/AddRateModal.js","src/screens/BookingDetails.js","src/screens/ServiceManagerScreen.js","src/screens/BlogScreen.js","src/screens/BlogPost.js","src/screens/Waitlist.js","App.js","src/screens/AboutScreen.js","node_modules/moment/locale|sync|/^/.//.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// theme.js\nimport { DefaultTheme } from 'react-native-paper';\n\nexport const theme = {\n  ...DefaultTheme,\n  // the regular and header fonts are the fonts used in the app\n  fonts: {\n    ...DefaultTheme.fonts,\n    regular: {\n      fontFamily: 'PlayfairDisplay',\n    },\n    header: {\n      fontFamily: 'Futura',\n    }\n  },\n  typography: {\n    header: {\n      fontFamily: 'Futura',\n    },\n    body: {\n      fontFamily: 'PlayfairDisplay',\n    }\n  },\n  colors: {\n    ...DefaultTheme.colors,\n    mainColors: {\n      main: '#6A6C51',\n      secondary: '#5D6C51',\n      tertiary: '#516C53',\n      quaternary: '#516C61',\n      quinary: '#516A6C',\n      senary: '#515D6C',\n    },\n    primary: '#6A6C51', // Primary color for buttons and header background\n    secondary: '#516C61',\n    background: '#f6f6f6',\n    backgroundContrast: '#F6F3FC',\n    calendarColor: '#A99E6B', // Olive (yellowish) color for calendar (partially unavailable, available)\n    calendarColorYellowBrown: '#8A8C6D', // Yellow-brown color for calendar (booked today, but time is available)\n    text: 'black', // Text color for text bodies\n    whiteText: 'white', // Text color for headers and buttons\n    placeHolderText: '#A9A9A9',\n    accent: '#03dac4', // Accent color if needed\n    error: '#B00020',\n    surface: '#f6f6f6',\n    border: '#6A6C51',\n    inputBackground: '#f6f6f6',\n    receivedMessage: '#e7eae6',\n    // headerBorder: '#e0e0e0',\n    danger: '#A52A2A',\n  },\n  fontSizes: {\n    small: 12,\n    smallMedium: 14,\n    medium: 16,\n    mediumLarge: 18,\n    large: 20,\n    largeLarge: 24,\n    extraLarge: 26,\n  },\n  spacing: {\n    small: 8,\n    medium: 16,\n    large: 24,\n  },\n};","// src/config/config.js\nimport { Platform } from 'react-native';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\n\nlet API_BASE_URL;\n\nif (Platform.OS === 'android') {\n  API_BASE_URL = API_BASE_URL_ANDROID;\n} else if (Platform.OS === 'ios') {\n  API_BASE_URL = API_BASE_URL_IOS;\n} else {\n  API_BASE_URL = API_BASE_URL_WEB;\n}\n\nexport { API_BASE_URL };\n","import { Platform } from 'react-native';\nimport { getStripeModule } from './StripePlatform';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\nimport axios from 'axios';\n\nlet stripeInstance = null;\n\n// Get the appropriate base URL based on platform\nconst getBaseUrl = () => {\n  if (Platform.OS === 'android') {\n    return API_BASE_URL_ANDROID;\n  } else if (Platform.OS === 'ios') {\n    return API_BASE_URL_IOS;\n  }\n  return API_BASE_URL_WEB;\n};\n\nexport const initStripe = async () => {\n  if (!stripeInstance) {\n    stripeInstance = await getStripeModule();\n  }\n  return stripeInstance;\n};\n\nexport const createPaymentMethod = async (paymentDetails) => {\n  try {\n    // This function now only handles native platform\n    if (Platform.OS === 'web') {\n      throw new Error('Web platform should use stripe.createPaymentMethod directly');\n    }\n\n    const stripe = await initStripe();\n    const result = await stripe.createPaymentMethod({\n      type: 'card',\n      card: paymentDetails.card,\n    });\n    \n    if (result.error) {\n      console.error('Stripe error:', result.error);\n      throw new Error(result.error.message);\n    }\n\n    return {\n      paymentMethod: {\n        id: result.paymentMethod.id,\n        last4: result.paymentMethod.card.last4,\n        brand: result.paymentMethod.card.brand,\n        type: 'card'\n      },\n      error: null,\n    };\n  } catch (error) {\n    console.error('Payment method creation error:', error);\n    return {\n      paymentMethod: null,\n      error: {\n        message: error.message || 'Failed to create payment method',\n      },\n    };\n  }\n};\n\nexport const useStripe = () => {\n  if (Platform.OS === 'web') {\n    return {\n      createPaymentMethod: async (options) => {\n        const stripe = await initStripe();\n        return stripe.createPaymentMethod(options);\n      },\n    };\n  }\n  return stripeInstance;\n}; ","import { Platform } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\n\nexport const getStripeModule = async () => {\n  if (Platform.OS === 'web') {\n    const { loadStripe } = await import('@stripe/stripe-js');\n    const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n    if (!stripe) {\n      throw new Error('Failed to initialize Stripe');\n    }\n    return stripe;\n  } else {\n    const { useStripe } = await import('@stripe/stripe-react-native');\n    return useStripe();\n  }\n}; ","import React, { createContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { Dimensions, Platform } from 'react-native';\nimport { navigate } from '../../App';\nimport { initStripe } from '../utils/StripeService';\n\nexport const SCREEN_WIDTH = Dimensions.get('window').width;\nexport const SCREEN_HEIGHT = Dimensions.get('window').height;\n\nexport const AuthContext = createContext();\n\n// Add getStorage function\nexport const getStorage = async (key) => {\n  try {\n    if (Platform.OS === 'web') {\n      return sessionStorage.getItem(key);\n    } else {\n      return await AsyncStorage.getItem(key);\n    }\n  } catch (error) {\n    console.error('Error getting from storage:', error);\n    return null;\n  }\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [isApprovedProfessional, setIsApprovedProfessional] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [screenWidth, setScreenWidth] = useState(Dimensions.get('window').width);\n  const [firstName, setFirstName] = useState('');\n\n  // SET TO \"true\" FOR NO API CALLS\n  const [is_prototype, setIsPrototype] = useState(true);\n\n  // Set is_DEBUG to false by default in prototype mode\n  const [is_DEBUG, setIsDebug] = useState(false);\n\n  // Preload Stripe modules when user signs in\n  useEffect(() => {\n    if (isSignedIn && !is_prototype) {\n      initStripe();\n    }\n  }, [isSignedIn, is_prototype]);\n\n  // Separate screen width handling from auth\n  useEffect(() => {\n    const handleDimensionsChange = ({ window }) => {\n      setScreenWidth(window.width);\n    };\n\n    const subscription = Dimensions.addEventListener('change', handleDimensionsChange);\n\n    return () => {\n      if (subscription?.remove) {\n        subscription.remove();\n      }\n    };\n  }, []); // No dependencies needed for dimension changes\n\n  // Handle initial auth state separately\n  useEffect(() => {\n    const loadInitialAuth = async () => {\n      try {\n        if (is_prototype) {\n          // In prototype mode, set default professional state\n          setIsSignedIn(true);\n          setUserRole('professional');\n          setIsApprovedProfessional(true);\n          await AsyncStorage.multiSet([\n            ['userRole', 'professional'],\n            ['isApprovedProfessional', 'true']\n          ]);\n          return;\n        }\n\n        const authStatus = await checkAuthStatus();\n        if (authStatus.isSignedIn) {\n          await fetchUserName();\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadInitialAuth();\n  }, []); // Only run on mount\n\n  const fetchUserName = async () => {\n    if (is_prototype) {\n      // In prototype mode, set a default name\n      setFirstName('John');\n      return;\n    }\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        if (is_DEBUG) {\n          console.error('No token found');\n        }\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/users/v1/get-name/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setFirstName(response.data.first_name);\n    } catch (error) {\n      console.error('Error fetching user name:', error.response ? error.response.data : error.message);\n    }\n  };\n\n  // Single useEffect for auth state management\n  useEffect(() => {\n    const loadAuthState = async () => {\n      try {\n        // Ensure storedApproval is retrieved correctly and handle null or undefined values\n        let token, storedRole, storedApproval;\n\n        if (Platform.OS === \"web\") {\n          token = sessionStorage.getItem('userToken');\n          storedRole = sessionStorage.getItem('userRole');\n          storedApproval = sessionStorage.getItem('isApprovedProfessional');\n          if (is_DEBUG) {\n            console.log(\"MBA got token:\", token, \"storedRole:\", storedRole, \"StoredApproval:\", storedApproval);\n          }\n        } else {\n          [token, storedRole, storedApproval] = await AsyncStorage.multiGet([\n            'userToken',\n            'userRole',\n            'isApprovedProfessional'\n          ]);\n        }\n\n        // Handle null or undefined storedApproval\n        const isApproved = storedApproval ? storedApproval[1] === 'true' : false;\n\n        // If we have stored values, use them\n        if (token) {\n          if (is_DEBUG) {\n            console.log(\"MBA got into load auth state if token. storedRole:\", storedRole);\n          }\n          setIsSignedIn(true);\n          setUserRole(storedRole || 'petOwner');\n          setIsApprovedProfessional(isApproved);\n\n          if (is_DEBUG) {\n            console.log('Initial auth state set:', {\n              role: storedRole || 'petOwner',\n              isApproved: isApproved\n            });\n          }\n        } else {\n          if (is_DEBUG) {\n            console.log('No token found, setting to signed out state');\n          }\n          setIsSignedIn(false);\n          setUserRole(null);\n          setIsApprovedProfessional(false);\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setLoading(false);\n        if (is_DEBUG) {\n          console.log('Finished loadAuthState');\n        }\n      }\n    };\n\n    loadAuthState();\n  }, []); // Only run on mount\n\n  useEffect(() => {\n    if (isSignedIn) {\n      fetchUserName();\n    }\n  }, [isSignedIn]);\n\n  const getProfessionalStatus = async (token) => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/professional-status/v1/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      console.log('Professional status response:', response.data);\n      \n      const { is_approved } = response.data;\n      \n      // Set approval status only\n      setIsApprovedProfessional(is_approved);\n      await AsyncStorage.setItem('isApprovedProfessional', String(is_approved));\n      \n      // Just return the status without modifying roles\n      return {\n        isApprovedProfessional: is_approved,\n        suggestedRole: is_approved ? 'professional' : 'petOwner'\n      };\n    } catch (error) {\n      console.error('Error getting professional status:', error.response?.data || error);\n      return {\n        isApprovedProfessional: false,\n        suggestedRole: 'petOwner'\n      };\n    }\n  };\n\n  const signIn = async (token, refreshTokenValue) => {\n    try {\n      if (Platform.OS === \"web\") {\n        sessionStorage.setItem('userToken', token);\n        sessionStorage.setItem('refreshToken', refreshTokenValue);\n      } else {\n        await AsyncStorage.multiSet([\n          ['userToken', token],\n          ['refreshToken', refreshTokenValue],\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log('MBA sign in token', token, 'refreshToken', refreshTokenValue);\n      }\n      setIsSignedIn(true);\n      \n      if (is_prototype) {\n        // In prototype mode, set default values without API calls\n        const initialRole = 'professional';\n        setUserRole(initialRole);\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('userRole', initialRole);\n        } else {\n          await AsyncStorage.setItem('userRole', initialRole);\n        }\n        setIsApprovedProfessional(true);\n        return {\n          userRole: initialRole,\n          isApprovedProfessional: true\n        };\n      }\n      \n      // Get professional status and set initial role\n      const status = await getProfessionalStatus(token);\n\n      const initialRole = status.suggestedRole;\n      \n      // Set and store the role\n      setUserRole(initialRole);\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userRole', initialRole);\n      } else {\n        await AsyncStorage.setItem('userRole', initialRole);\n      }\n      \n      // Add logging to track access and refresh tokens during signIn\n      if (is_DEBUG) {\n        console.log('Access token stored:', token);\n        console.log('Refresh token stored:', refreshTokenValue);\n      }\n\n      return {\n        userRole: initialRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error during sign in:', error);\n      throw error;\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await AsyncStorage.multiRemove([\n        'userToken', \n        'refreshToken', \n        'userRole', \n        'isApprovedProfessional'\n      ]);\n\n      await sessionStorage.removeItem('userToken');\n      await sessionStorage.removeItem('refreshToken');\n      await sessionStorage.removeItem('userRole');\n      await sessionStorage.removeItem('isApprovedProfessional');\n    } catch (error) {\n      console.error('Error clearing storage:', error);\n    }\n\n    // Set state updates\n    setIsSignedIn(false);\n    setIsApprovedProfessional(false);\n    setUserRole(null);\n\n    // Ensure state updates are processed before navigation\n    setTimeout(() => {\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('explicitSignOut', 'true');\n      }\n      navigate('SignIn');\n    }, 0);\n  };\n\n  const switchRole = async () => {\n    if (isApprovedProfessional) {\n      if (is_DEBUG) {\n        console.log(\"MBA userRole\", userRole);\n      }\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      setUserRole(newRole);\n      try {\n        if (Platform.OS === \"web\") {\n          sessionStorage.setItem('userRole', newRole);\n        } else {\n          await AsyncStorage.setItem('userRole', newRole);\n        }\n        \n        // Verify the role was stored correctly\n        const storedRole = Platform.OS === \"web\" ? sessionStorage.getItem('userRole') : await AsyncStorage.getItem('userRole');\n        console.log(\"MBA Stored role:\", storedRole);\n\n        console.log(\"MBA New role:\", newRole);\n\n      } catch (error) {\n        console.error('Error updating role in storage:', error);\n      }\n    } else {\n      console.log('User is not an approved professional, cannot switch roles');\n    }\n\n    // Add logging in switchRole to track isApprovedProfessional state\n    console.log('Switching role. Current isApprovedProfessional:', isApprovedProfessional);\n  };\n\n  const validateToken = async (token) => {\n    try {\n      if (is_prototype) {\n        // In prototype mode, always return true for token validation\n        if (is_DEBUG) {\n          console.log('Prototype mode: Mock token validation successful');\n        }\n        return true;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/verify/`, {\n        token: token\n      });\n\n      return true;\n    } catch (error) {\n      console.log('Token validation error:', error.response?.status);\n      return false;\n    }\n  };\n\n  const refreshUserToken = async (refreshToken) => {\n    try {\n      if (is_prototype) {\n        // In prototype mode, return a mock token\n        if (is_DEBUG) {\n          console.log('Prototype mode: Mock token refresh successful');\n        }\n        const mockNewToken = 'mock_refreshed_token';\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('userToken', mockNewToken);\n        } else {\n          await AsyncStorage.setItem('userToken', mockNewToken);\n        }\n        return mockNewToken;\n      }\n\n      // Ensure refresh token is retrieved correctly in refreshUserToken\n      const refreshToken = Platform.OS === \"web\" ? sessionStorage.getItem('refreshToken') : await AsyncStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        console.error('No refresh token found');\n        return null;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken\n      });\n      const newToken = response.data.access;\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userToken', newToken);\n      } else {\n        await AsyncStorage.setItem('userToken', newToken);\n      }\n      return newToken;\n    } catch (error) {\n      console.error('Error refreshing token:', error.response?.status);\n      return null;\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      // Check for explicit sign out flag first\n      if (Platform.OS === 'web') {\n        const wasExplicitSignOut = sessionStorage.getItem('explicitSignOut') === 'true';\n        if (wasExplicitSignOut) {\n          // Clear the flag\n          sessionStorage.removeItem('explicitSignOut');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n      }\n\n      // Get current route/path\n      let currentPath = '';\n      if (Platform.OS === 'web') {\n        currentPath = window.location.pathname.slice(1);\n      } else {\n        currentPath = await AsyncStorage.getItem('currentRoute');\n      }\n\n      // Check if we're on the home page or root URL\n      const isHomePage = !currentPath || currentPath === '' || currentPath.toLowerCase() === 'home';\n\n      if (is_prototype) {\n        const token = Platform.OS === \"web\" ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n        if (!token) {\n          if (is_DEBUG) {\n            console.log('Prototype mode: No token found, signing out');\n          }\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n\n        if (is_DEBUG) {\n          console.log('Prototype mode: Token found, setting signed in state');\n        }\n        setIsSignedIn(true);\n        const storedRole = Platform.OS === \"web\" ? sessionStorage.getItem('userRole') : await AsyncStorage.getItem('userRole');\n\n        if (is_DEBUG) {\n          console.log(\"MBA setting user role\", storedRole);\n        }\n        setUserRole(storedRole === 'professional' || storedRole === 'petOwner' ? storedRole : 'petOwner');\n        setIsApprovedProfessional(true);\n        return {\n          isSignedIn: true,\n          userRole: storedRole === 'professional' || storedRole === 'petOwner' ? storedRole : 'petOwner',\n          isApprovedProfessional: true\n        };\n      }\n\n      let token, refreshToken, storedRole, storedApproval;\n\n      if (Platform.OS === \"web\") {\n        token = sessionStorage.getItem('userToken');\n        refreshToken = sessionStorage.getItem('refreshToken');\n        storedRole = sessionStorage.getItem('userRole');\n        storedApproval = sessionStorage.getItem('isApprovedProfessional');\n      } else {\n        [token, refreshToken, storedRole, storedApproval] = await AsyncStorage.multiGet([\n          'userToken',\n          'refreshToken',\n          'userRole',\n          'isApprovedProfessional'\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log(\"MBA userToken:\", token);\n        console.log(\"MBA refreshToken:\", refreshToken);\n        console.log(\"MBA storedRole:\", storedRole);\n        console.log(\"MBA isApprovedProfessional:\", isApprovedProfessional);\n        console.log(\"MBA storedApproval:\", storedApproval);\n        console.log(\"Current path:\", currentPath);\n        console.log(\"Is home page:\", isHomePage);\n      }\n\n      // Handle no tokens scenario\n      if (!token || !refreshToken) {\n        console.log('No tokens found - handling based on current route');\n        \n        // If we're on the home page or root URL, just return unauthenticated state\n        if (isHomePage) {\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        \n        // For any other page, sign out and redirect\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // Rest of the existing token validation logic\n      let currentToken = token;\n      let isValid = false;\n\n      if (currentToken) {\n        isValid = await validateToken(currentToken);\n      }\n\n      if (!isValid && refreshToken) {\n        const newToken = await refreshUserToken(refreshToken);\n        if (newToken) {\n          currentToken = newToken;\n          isValid = true;\n        }\n      }\n\n      if (!isValid) {\n        console.log('No valid token available - handling based on current route');\n        if (isHomePage) {\n          navigate('Home');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // At this point we have a valid token\n      console.log('Token validation successful, checking professional status with token:', currentToken);\n      const status = await getProfessionalStatus(currentToken);\n      console.log('Professional status check result:', status);\n\n      setIsSignedIn(true);\n      setIsApprovedProfessional(status.isApprovedProfessional);\n\n      // If on SearchProfessionalsListing, force petOwner role but don't store it\n      if (currentPath === 'SearchProfessionalsListing') {\n        setUserRole('petOwner');\n        return {\n          isSignedIn: true,\n          userRole: 'petOwner',\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // For all other cases, use the stored role if it exists\n      if (storedRole) {\n        const role = storedRole;\n\n        setUserRole(role);\n        return {\n          isSignedIn: true,\n          userRole: role,\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // Only set a new role if we don't have one stored (first login)\n\n      const newRole = status.suggestedRole || 'petOwner';\n\n      setUserRole(newRole);\n      await AsyncStorage.setItem('userRole', newRole);\n\n      return {\n        isSignedIn: true,\n        userRole: newRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error in checkAuthStatus:', error);\n      await signOut();\n      return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n    } finally {\n      if (is_DEBUG) {\n        console.log('=== Ending checkAuthStatus ===');\n      }\n    }\n  };\n\n  // Add useEffect to persist role changes\n  useEffect(() => {\n    if (is_prototype && isSignedIn) {\n      AsyncStorage.setItem('userRole', userRole || 'professional');\n      AsyncStorage.setItem('isApprovedProfessional', String(isApprovedProfessional));\n    }\n  }, [is_prototype, isSignedIn, userRole, isApprovedProfessional]);\n\n  // Ensure isApprovedProfessional is set to true in prototype mode\n  useEffect(() => {\n    if (is_prototype) {\n      setIsApprovedProfessional(true);\n      if (is_DEBUG) {\n        console.log('Prototype mode: isApprovedProfessional set to true');\n      }\n    }\n  }, [is_prototype]);\n\n  return (\n    <AuthContext.Provider value={{ \n      isSignedIn, \n      setIsSignedIn,\n      userRole,\n      setUserRole,\n      isApprovedProfessional, \n      setIsApprovedProfessional,\n      loading,\n      signIn,\n      signOut,\n      switchRole,\n      screenWidth,\n      checkAuthStatus,\n      firstName,\n      is_prototype,\n      setIsPrototype,\n      is_DEBUG,\n      setIsDebug\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, Platform, SafeAreaView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Appbar, Menu, useTheme } from 'react-native-paper';\n\nlet previousRoute, currentRoute;\n\nexport const handleBack = async (navigation) => {\n  try {\n    if (Platform.OS === 'web') {\n      previousRoute = sessionStorage.getItem('previousRoute');\n      currentRoute = sessionStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        sessionStorage.setItem('currentRoute', previousRoute);\n        sessionStorage.setItem('previousRoute', currentRoute);\n        // if (is_DEBUG) {\n        //   console.log('Previous Route:', previousRoute);\n        //   console.log('Current Route:', currentRoute);\n        // }\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    } else {\n      previousRoute = await AsyncStorage.getItem('previousRoute');\n      currentRoute = await AsyncStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        await AsyncStorage.setItem('currentRoute', previousRoute);\n        await AsyncStorage.setItem('previousRoute', currentRoute);\n        // console.log('Previous Route:', previousRoute);\n        // console.log('Current Route:', currentRoute);\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    }\n\n    if (previousRoute === currentRoute) {\n      // console.log('Two routes are the same');\n      navigation.navigate('More');\n      return;\n    }\n  } catch (error) {\n    console.error('Error handling back navigation:', error);\n    navigation.navigate('More');\n  }\n};\n\nexport const navigateToFrom = async (navigation, toLocation, fromLocation, params = {}) => {\n  try {\n    // if (is_DEBUG) {\n    //   console.log('Navigating from:', fromLocation, 'to:', toLocation);\n    // }\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('previousRoute', fromLocation);\n      sessionStorage.setItem('currentRoute', toLocation);\n      // console.log('Web - Set previousRoute:', fromLocation);\n      // console.log('Web - Set currentRoute:', toLocation);\n    } else {\n      await AsyncStorage.setItem('previousRoute', fromLocation);\n      await AsyncStorage.setItem('currentRoute', toLocation);\n      // console.log('Mobile - Set previousRoute:', fromLocation);\n      // console.log('Mobile - Set currentRoute:', toLocation);\n    }\n    setTimeout(() => {\n      navigation.navigate(toLocation, params);\n    }, 50);\n  } catch (error) {\n    console.error('Error navigating:', error);\n    navigation.navigate(toLocation, params);\n  }\n};\n\nexport default function Navigation({ navigation }) {\n  const [visible, setVisible] = useState(false);\n  const [isMobile, setIsMobile] = useState(Dimensions.get('window').width < 900);\n  const { colors } = useTheme();\n  const { isSignedIn, is_DEBUG, userRole } = useContext(AuthContext);\n\n  const openMenu = () => setVisible(true);\n  const closeMenu = () => setVisible(false);\n\n  useEffect(() => {\n    const updateLayout = () => {\n      setIsMobile(Dimensions.get('window').width < 900);\n    };\n\n    const subscription = Dimensions.addEventListener('change', updateLayout);\n\n    return () => {\n      subscription?.remove();\n    };\n  }, []);\n\n  const professionalsTitle = Platform.OS === 'web' ? 'Search Pros' : 'Professionals';\n\n  const handleNavigation = async (screenName) => {\n    closeMenu();\n    if (is_DEBUG) {\n      console.log('Screen name:', screenName);\n    }\n    try {\n      if (Platform.OS === 'web') {\n        // Web: Use sessionStorage\n        const currentRoute = sessionStorage.getItem('currentRoute');\n        if (currentRoute) {\n          sessionStorage.setItem('previousRoute', currentRoute);\n        }\n        sessionStorage.setItem('currentRoute', screenName);\n      } else {\n        // Mobile: Use AsyncStorage\n        const currentRoute = await AsyncStorage.getItem('currentRoute');\n        if (currentRoute) {\n          await AsyncStorage.setItem('previousRoute', currentRoute);\n        }\n        await AsyncStorage.setItem('currentRoute', screenName);\n      }\n      navigation.navigate(screenName);\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(screenName);\n    }\n  };\n\n  // Initialize route tracking on component mount\n  useEffect(() => {\n    const initializeRouteTracking = async () => {\n      try {\n        if (Platform.OS === 'web') {\n          // Web: Use sessionStorage\n          const currentRoute = sessionStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            sessionStorage.setItem('currentRoute', initialRoute);\n          }\n        } else {\n          // Mobile: Use AsyncStorage\n          const currentRoute = await AsyncStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            await AsyncStorage.setItem('currentRoute', initialRoute);\n          }\n        }\n      } catch (error) {\n        console.error('Error initializing route tracking:', error);\n      }\n    };\n\n    initializeRouteTracking();\n  }, [isSignedIn, userRole]);\n\n  const renderMenuItems = () => {\n    if (!isSignedIn) {\n      if (isMobile) {\n        return [\n          { title: 'Sign In', icon: 'login', route: 'SignIn' },\n          { title: 'Sign Up', icon: 'account-plus', route: 'SignUp' },\n          { title: 'Become a Pro', icon: 'account-heart', route: 'BecomeProfessional' },\n          { title: 'Search Pros', icon: 'magnify', route: 'SearchProfessionalsListing' },\n          { title: 'More', icon: 'dots-horizontal', route: 'More' },\n        ];\n      }\n      return [\n        { title: 'Sign In', icon: 'login', route: 'SignIn' },\n        { title: 'Sign Up', icon: 'account-plus', route: 'SignUp' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else if (userRole === 'professional') {\n      return [\n        { title: 'Pro Dashboard', icon: 'view-dashboard', route: 'ProfessionalDashboard' },\n        { title: 'MyBookings', icon: 'account-group', route: 'MyBookings' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Availability', icon: 'clock-outline', route: 'AvailabilitySettings' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else {\n      return [\n        { title: 'Dashboard', icon: 'view-dashboard', route: 'Dashboard' },\n        { title: professionalsTitle, icon: 'magnify', route: 'SearchProfessionalsListing' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Become a Pro', icon: 'paw', route: 'BecomeProfessional' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    }\n  };\n\n  const renderMobileNavBar = () => {\n    const menuItems = renderMenuItems();\n    const itemWidth = Dimensions.get('window').width / menuItems.length;\n    return (\n      <View style={styles.customNavBar}>\n        {menuItems.map((item, index) => (\n          <TouchableOpacity\n            key={index}\n            style={[styles.navButton, { width: itemWidth }]}\n            onPress={() => handleNavigation(item.route)}\n          >\n            <MaterialCommunityIcons \n              name={item.icon} \n              size={24} \n              color={theme.colors.whiteText} \n            />\n            <Text style={styles.navText} numberOfLines={2} ellipsizeMode=\"tail\">\n              {item.title}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  };\n\n  const renderWebNavItems = () => {\n    const menuItems = renderMenuItems();\n    return menuItems.map((item, index) => (\n      <TouchableOpacity\n        key={index}\n        style={styles.webNavItem}\n        onPress={() => handleNavigation(item.route)}\n      >\n        <Text style={styles.webNavText}>{item.title}</Text>\n      </TouchableOpacity>\n    ));\n  };\n\n  return (\n    <>\n      {Platform.OS === 'web' ? (\n        <Appbar.Header style={[styles.header, { backgroundColor: colors.primary }]}>\n          <View style={[styles.titleContainer, {flex: isMobile || isSignedIn ? 1 : undefined}]}>\n            <TouchableOpacity onPress={() => handleNavigation('Home')} style={{ width: 150 }}>\n              <Text style={[styles.title, { color: colors.whiteText, width: 110 }]}>CrittrCove</Text>\n            </TouchableOpacity>\n          </View>\n          {!isMobile && !isSignedIn ? (\n            <View style={styles.titleContainer2}>\n              <TouchableOpacity onPress={() => handleNavigation('BecomeProfessional')} style={styles.navLinkContainer}>\n                <MaterialCommunityIcons name=\"account-heart\" size={20} color={theme.colors.whiteText} />\n                <Text style={[styles.title, { color: theme.colors.whiteText, width: 110, fontWeight: '100', marginLeft: 4, fontSize: 16 }]}>Become a Pro</Text>\n              </TouchableOpacity>\n              <TouchableOpacity onPress={() => handleNavigation('SearchProfessionalsListing')} style={styles.navLinkContainer}>\n                <MaterialCommunityIcons name=\"magnify\" size={20} color={theme.colors.whiteText} />\n                <Text style={[styles.title, { color: theme.colors.whiteText, width: 110, fontWeight: '100', marginLeft: 4, fontSize: 16 }]}>Search Pros</Text>\n              </TouchableOpacity>\n            </View>\n          ) : null}\n          {isMobile ? (\n            <Menu\n              visible={visible}\n              onDismiss={closeMenu}\n              anchor={\n                <Appbar.Action\n                  icon={() => <MaterialCommunityIcons name=\"menu\" size={24} color={colors.whiteText} />}\n                  onPress={openMenu}\n                />\n              }\n            >\n              {renderMenuItems().map((item, index) => (\n                <Menu.Item \n                  key={index} \n                  onPress={() => handleNavigation(item.route)} \n                  title={item.title}\n                  titleStyle={{ fontFamily: theme.fonts.regular.fontFamily, fontWeight: '600' }}\n                />\n              ))}\n            </Menu>\n          ) : (\n            <View style={styles.desktopNav}>\n              {renderWebNavItems()}\n            </View>\n          )}\n        </Appbar.Header>\n      ) : (\n        <View style={styles.container}>\n          {renderMobileNavBar()}\n        </View>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    backgroundColor: theme.colors.primary,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    backgroundColor: theme.colors.primary,\n  },\n  titleContainer: {\n    justifyContent: 'center',\n  },\n  titleContainer2: {\n    flex: 1,\n    justifyContent: 'center',\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n  title: {\n    textAlign: 'left',\n    marginLeft: theme.spacing.medium,\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  desktopNav: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  navItem: {\n    marginHorizontal: theme.spacing.medium,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    cursor: 'pointer',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  customNavBar: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    paddingVertical: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  navButton: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 60,\n    paddingHorizontal: 5,\n  },\n  navText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n    marginTop: 5,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  webNavItem: {\n    marginHorizontal: theme.spacing.medium,\n  },\n  webNavText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  navLinkContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginHorizontal: 6,\n  },\n});\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet, Modal, Platform } from 'react-native';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\n\nconst RoadmapSection = () => {\n  const [selectedMilestone, setSelectedMilestone] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const { screenWidth } = useContext(AuthContext);\n  const isMobile = screenWidth < 768;\n\n  const roadmapData = [\n    {\n      id: 1,\n    //   number: '01',\n      title: 'Prototype Launch',\n      description: 'Initial release of CrittrCove webpage and landing page with no signup or app functionality.',\n      icon: 'dog',\n      color: theme.colors.mainColors.senary // Royal Blue\n    },\n    {\n      id: 2,\n    //   number: '02',\n      title: 'Launch of MVP',\n      description: 'This is when users will be able to sign up and use the app fully for the first time on the website! For a full feature list, please check our blog or discord.',\n      icon: 'dragon',\n      color: theme.colors.mainColors.quinary // Medium Purple\n    },\n    {\n      id: 3,\n    //   number: '03',\n      title: 'Launch of App',\n      description: 'Mobile app release with real-time messaging, notifications, and payment integration. For a full feature list, please check our blog or discord.',\n      icon: 'cat',\n      color: theme.colors.mainColors.quaternary // Royal Blue\n    },\n    {\n      id: 4,\n    //   number: '04',\n      title: 'Community Features',\n      description: 'Adding social features, pet communities, and expert advice forums.',\n      icon: 'fish',\n      color: theme.colors.mainColors.main // Medium Purple\n    }\n  ];\n\n  const handleMilestonePress = (milestone) => {\n    setSelectedMilestone(milestone);\n    setModalVisible(true);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Roadmap</Text>\n      \n      {isMobile ? (\n        // Mobile Layout\n        <View style={styles.mobileContainer}>\n          {roadmapData.map((milestone, index) => (\n            <View key={milestone.id} style={[\n              styles.mobileItemContainer,\n              index === roadmapData.length - 1 ? { marginBottom: 0 } : null\n            ]}>\n              <TouchableOpacity\n                style={styles.mobileMarker}\n                onPress={() => handleMilestonePress(milestone)}\n              >\n                <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                  <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n                </View>\n              </TouchableOpacity>\n              <Text style={styles.mobileMilestoneTitle}>{milestone.title}</Text>\n              {index < roadmapData.length - 1 && (\n                <View style={styles.mobileDashedLine} />\n              )}\n            </View>\n          ))}\n        </View>\n      ) : (\n        // Web Layout\n        <View style={styles.webContainer}>\n          <View style={[styles.dashedLine, {\n            width: '80%',\n            left: '10%'\n          }]} />\n          {roadmapData.map((milestone, index) => (\n            <TouchableOpacity\n              key={milestone.id}\n              style={[\n                styles.webMarker,\n                { \n                  left: `${10 + (index * (80 / (roadmapData.length - 1)))}%`,\n                }\n              ]}\n              onPress={() => handleMilestonePress(milestone)}\n            >\n              <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n              </View>\n              <Text style={styles.webMilestoneTitle}>{milestone.title}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      )}\n\n      {/* Modal for milestone details */}\n      <Modal\n        visible={modalVisible}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            {selectedMilestone && (\n              <>\n                <View style={[styles.modalIconContainer, { backgroundColor: selectedMilestone.color }]}>\n                  <Text style={styles.modalNumber}>{selectedMilestone.number}</Text>\n                  <FontAwesome5 \n                    name={selectedMilestone.icon} \n                    size={40} \n                    color=\"white\"\n                  />\n                </View>\n                <Text style={styles.modalTitle}>{selectedMilestone.title}</Text>\n                <Text style={styles.modalDescription}>\n                  {selectedMilestone.description}\n                </Text>\n                <TouchableOpacity\n                  style={[styles.closeButton, { backgroundColor: selectedMilestone.color }]}\n                  onPress={() => setModalVisible(false)}\n                >\n                  <Text style={styles.closeButtonText}>Close</Text>\n                </TouchableOpacity>\n              </>\n            )}\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 40,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileContainer: {\n    width: '100%',\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  mobileItemContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 80,\n    position: 'relative',\n  },\n  mobileMarker: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  mobileMilestoneTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    marginTop: 15,\n    textAlign: 'center',\n    marginBottom: 30,\n  },\n  mobileDashedLine: {\n    position: 'absolute',\n    width: 2,\n    height: 60,\n    bottom: -50,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webContainer: {\n    // height: 200,\n    position: 'relative',\n    marginTop: 20,\n    marginBottom: 120,\n    width: '100%',\n  },\n  dashedLine: {\n    position: 'absolute',\n    height: 2,\n    top: 30,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webMarker: {\n    position: 'absolute',\n    alignItems: 'center',\n    width: 120,\n    transform: [{ translateX: -60 }], // Center the marker\n  },\n  webMilestoneTitle: {\n    marginTop: 10,\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    textAlign: 'center',\n  },\n  markerContainer: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 15,\n    width: '90%',\n    maxWidth: 400,\n    alignItems: 'center',\n  },\n  modalIconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalNumber: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    position: 'absolute',\n    top: 10,\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    lineHeight: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  closeButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '100%',\n    alignItems: 'center',\n  },\n  closeButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\nexport default RoadmapSection; ","// First, declare the BOOKING_STATES constant\nexport const BOOKING_STATES = {\n  // # Initial States\n  DRAFT: 'Draft',\n  PENDING_INITIAL_PROFESSIONAL_CHANGES: 'Pending initial Professional Changes',\n    \n  // # Review States\n  PENDING_PROFESSIONAL_CHANGES: 'Pending Professional Changes',\n  PENDING_CLIENT_APPROVAL: 'Pending Client Approval',\n    \n  // # Active States\n  CONFIRMED: 'Confirmed',\n  CONFIRMED_PENDING_PROFESSIONAL_CHANGES: 'Confirmed Pending Professional Changes',\n  CONFIRMED_PENDING_CLIENT_APPROVAL: 'Confirmed Pending Client Approval',\n    \n  // # Terminal States\n  COMPLETED: 'Completed',\n  DENIED: 'Denied',\n  CANCELLED: 'Cancelled',\n\n  // # States where professionals can edit\n  PROFESSIONAL_EDITABLE_STATES: [\n    'Draft',\n    'Pending initial Professional Changes',\n    'Pending Professional Changes',\n    'Confirmed Pending Professional Changes',\n    'Confirmed'\n  ]\n};\n\nexport const ALL_SERVICES = \"All Services\";\nexport const SERVICE_TYPES = [\n  ALL_SERVICES,\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\",\n];\n\nexport const TIME_OPTIONS = [\n  '15 min',\n  '30 min',\n  '45 min',\n  '1 hr',\n  '2 hr',\n  '4 hr',\n  '8 hr',\n  '24 hr',\n  'overnight',\n  'per day',\n  'per visit'\n];\n\nexport const mockAdditionalRates = {\n  'Fish Tank Cleaning': [\n    { title: 'Extended Stay (7+ days)', amount: 15 },\n    { title: 'Pickup/Dropoff Service', amount: 25 },\n    { title: 'Special Diet Handling', amount: 10 },\n    { title: 'Medication Administration', amount: 15 },\n  ],\n  'Ferrier': [\n    { title: 'Extended Hours', amount: 20 },\n    { title: 'Training Session', amount: 30 },\n    { title: 'Grooming', amount: 25 },\n  ],\n  'Dog Walking': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Plant Watering', amount: 5 },\n    { title: 'Photo Updates', amount: 5 },\n  ],\n  'Reptile Boarding & Habitat Maintenance': [\n    { title: 'Plant Watering', amount: 10 },\n    { title: 'Mail Collection', amount: 5 },\n    { title: 'Extended Visit (4+ hrs)', amount: 30 },\n  ],\n  'Bird Feeding': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Multiple Route Options', amount: 5 },\n    { title: 'Training During Walk', amount: 20 },\n  ],\n};\n\nexport const mockServicesForCards = [\n  {\n    id: 1,\n    name: 'Fish Tank Cleaning',\n    startingPrice: 25,\n    animalTypes: ['Fish'],\n    icon: 'fish',\n    additionalRates: mockAdditionalRates['Fish Tank Cleaning']\n  },\n  {\n    id: 2,\n    name: 'Ferrier',\n    startingPrice: 30,\n    animalTypes: ['Dogs'],\n    icon: 'horse',\n    additionalRates: mockAdditionalRates['Ferrier']\n  },\n  {\n    id: 3,\n    name: 'Dog Walking',\n    startingPrice: 40,\n    animalTypes: ['Dogs'],\n    icon: 'dog',\n    additionalRates: mockAdditionalRates['Dog Walking']\n  },\n  {\n    id: 4,\n    name: 'Reptile Boarding & Habitat Maintenance',\n    startingPrice: 35,\n    animalTypes: ['Reptiles'],\n    icon: 'snake',\n    additionalRates: mockAdditionalRates['Reptile Boarding & Habitat Maintenance']\n  },\n  {\n    id: 5,\n    name: 'Bird Feeding',\n    startingPrice: 45,\n    animalTypes: ['Birds'],\n    icon: 'bird',\n    additionalRates: mockAdditionalRates['Bird Feeding']\n  }\n];\n\nexport const GENERAL_CATEGORIES = [\n  'Farm Animals', \n  'Domestic',\n  'Exotic',\n  'Aquatic',\n  'Invertibrates',\n];\n\nexport const mockPets = [\n  {\n    id: '1',\n    name: 'Max',\n    animal_type: 'Dog',\n    breed: 'border collie',\n    age: {\n      months: 0,\n      years: 5,\n    },\n    weight: 32,\n    sex: 'Male',\n    friendlyWithChildren: true,\n    friendlyWithCats: false,\n    friendlyWithDogs: true,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: true,\n    adoptionDate: '2020-01-15',\n    description: 'Loves to play fetch and go for walks.',\n    energyLevel: 'High',\n    feedingSchedule: 'Morning',\n    leftAlone: '1-4 hours',\n    medication: null,\n    additionalInstructions: 'Needs daily exercise.',\n    vetName: 'Dr. Smith',\n    vetAddress: '123 Vet St.',\n    vetPhone: '555-1234',\n    insuranceProvider: 'Pet Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '2',\n    name: 'Whiskers',\n    animal_type: 'Cat',\n    breed: 'tammy ammy',\n    age: {\n      months: 3,\n      years: 4,\n    },\n    weight: 16,\n    sex: 'Female',\n    friendlyWithChildren: true,\n    friendlyWithCats: true,\n    friendlyWithDogs: false,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: false,\n    adoptionDate: '2019-05-20',\n    description: 'Enjoys lounging in the sun.',\n    energyLevel: 'Low',\n    feedingSchedule: 'Twice a day',\n    leftAlone: '4-8 hours',\n    medication: null,\n    additionalInstructions: 'Prefers quiet environments.',\n    vetName: 'Dr. Jones',\n    vetAddress: '456 Vet Ave.',\n    vetPhone: '555-5678',\n    insuranceProvider: 'Pet Health Insurance',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '3',\n    name: 'Buddy',\n    animal_type: 'snake',\n    breed: 'leopard gecko',\n    age: {\n      months: 0,\n      years: 2,\n    },\n    weight: 1,\n    sex: 'Male',\n    friendlyWithChildren: false,\n    friendlyWithCats: false,\n    friendlyWithDogs: false,\n    spayedNeutered: false,\n    houseTrained: false,\n    microchipped: false,\n    adoptionDate: '2021-08-10',\n    description: 'A calm and quiet pet.',\n    energyLevel: 'Low',\n    feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n    leftAlone: 'Can be left alone indefinitely',\n    medication: null,\n    additionalInstructions: 'Keep in a warm environment.',\n    vetName: 'Dr. Green',\n    vetAddress: '789 Vet Blvd.',\n    vetPhone: '555-9012',\n    insuranceProvider: 'Reptile Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n];\n\nexport const mockProfessionals = [\n  {\n    id: '1',\n    name: 'John Doe',\n    profilePicture: require('../../assets/user1.png'),\n    reviews: 4.5,\n    price: 25,\n    bio: 'Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.',\n    location: 'Colorado Springs, CO',\n    coordinates: { latitude: 38.8339, longitude: -104.8214 },\n    serviceTypes: ['House Sitting', 'Dog Walking'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '2',\n    name: 'Jane Smith',\n    profilePicture: require('../../assets/user2.png'),\n    reviews: 4.8,\n    price: 30,\n    bio: 'Specialized in exotic pets.',\n    location: 'Manitou Springs, CO',\n    coordinates: { latitude: 38.8597, longitude: -104.9172 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '3',\n    name: 'Mike Wilson',\n    profilePicture: require('../../assets/user3.png'),\n    reviews: 4.7,\n    price: 28,\n    bio: 'Dog trainer with 5 years experience.',\n    location: 'Security-Widefield, CO',\n    coordinates: { latitude: 38.7478, longitude: -104.7288 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '4',\n    name: 'Sarah Johnson',\n    profilePicture: require('../../assets/user4.png'),\n    reviews: 4.9,\n    price: 35,\n    bio: 'Veterinary technician, great with medical needs.',\n    location: 'Fountain, CO',\n    coordinates: { latitude: 38.6822, longitude: -104.7008 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats', 'exotics'],\n  },\n  {\n    id: '5',\n    name: 'Tom Brown',\n    profilePicture: require('../../assets/user5.png'),\n    reviews: 4.6,\n    price: 27,\n    bio: 'Experienced with large breeds.',\n    location: 'Black Forest, CO',\n    coordinates: { latitude: 39.0128, longitude: -104.7008 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  // Additional professionals further out\n  {\n    id: '6',\n    name: 'Lisa Anderson',\n    profilePicture: require('../../assets/user6.png'),\n    reviews: 4.4,\n    price: 32,\n    bio: 'Experienced with birds and small animals.',\n    location: 'Monument, CO',\n    coordinates: { latitude: 39.0917, longitude: -104.8722 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '7',\n    name: 'David Clark',\n    profilePicture: require('../../assets/user7.png'),\n    reviews: 4.7,\n    price: 29,\n    bio: 'Specializing in puppy care and training.',\n    location: 'Woodland Park, CO',\n    coordinates: { latitude: 38.9939, longitude: -105.0569 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '8',\n    name: 'Emma White',\n    profilePicture: require('../../assets/user8.png'),\n    reviews: 4.8,\n    price: 33,\n    bio: 'Experienced with senior pets.',\n    location: 'Pueblo West, CO',\n    coordinates: { latitude: 38.3494, longitude: -104.7224 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '9',\n    name: 'James Miller',\n    profilePicture: require('../../assets/user9.png'),\n    reviews: 4.5,\n    price: 26,\n    bio: 'Great with high-energy dogs.',\n    location: 'Castle Rock, CO',\n    coordinates: { latitude: 39.3722, longitude: -104.8561 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '10',\n    name: 'Rachel Green',\n    profilePicture: require('../../assets/user10.png'),\n    reviews: 4.9,\n    price: 34,\n    bio: 'Experienced with reptiles and amphibians.',\n    location: 'Palmer Lake, CO',\n    coordinates: { latitude: 39.1153, longitude: -104.9158 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics'],\n  }\n];\n\nexport const mockClients = [\n  {\n    id: '1',\n    name: 'Alice Johnson',\n    pet_types: ['Dog', 'Cat'],\n    last_booking: '2024-01-15',\n    pets: ['1', '2'], // References to pet IDs\n    email: 'alice@example.com',\n    phone: '555-0101',\n    address: '123 Pine St, Colorado Springs, CO',\n  },\n  {\n    id: '2',\n    name: 'Bob Wilson',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-01',\n    pets: ['3'],\n    email: 'bob@example.com',\n    phone: '555-0102',\n    address: '456 Oak Ave, Colorado Springs, CO',\n  },\n  {\n    id: '3',\n    name: 'Carol Martinez',\n    pet_types: ['Cat', 'Exotic'],\n    last_booking: '2024-01-28',\n    pets: ['4', '5'],\n    email: 'carol@example.com',\n    phone: '555-0103',\n    address: '789 Maple Dr, Colorado Springs, CO',\n  },\n  {\n    id: '4',\n    name: 'David Brown',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-05',\n    pets: ['6'],\n    email: 'david@example.com',\n    phone: '555-0104',\n    address: '321 Elm St, Colorado Springs, CO',\n  },\n  {\n    id: '5',\n    name: 'Eva Garcia',\n    pet_types: ['Exotic'],\n    last_booking: '2024-01-20',\n    pets: ['7'],\n    email: 'eva@example.com',\n    phone: '555-0105',\n    address: '654 Birch Ln, Colorado Springs, CO',\n  }\n];\n\n// Availability Tab\nexport const fetchAvailabilityData = () => {\n  return new Promise((resolve) => {\n    // to get the bookings, we need to fetch the booking table on backend\n    // to get available/unavailable dates we need to fetch the availability table on backend\n    setTimeout(() => {\n      resolve({\n        availableDates: {\n          '2025-02-01': { startTime: '09:00', endTime: '17:00' },\n          '2025-02-02': { startTime: '10:00', endTime: '18:00' },\n          '2025-02-03': { startTime: '09:00', endTime: '17:00' },\n        },\n        unavailableDates: {\n          '2025-02-04': { startTime: '00:00', endTime: '24:00' },\n          '2025-02-05': { startTime: '10:00', endTime: '18:00' },\n        },\n        bookings: {\n          '2025-02-06': [\n            { id: 'bk1', startTime: '14:00', endTime: '16:00', client_name: 'Charlie', service_type: 'Dog Walking' },\n            { id: 'bk2', startTime: '16:00', endTime: '18:00', client_name: 'Bob', service_type: 'Dog Walking' },\n            { id: 'bk3', startTime: '18:00', endTime: '20:00', client_name: 'Nick', service_type: 'Pet Boarding' },\n            { id: 'bk4', startTime: '20:00', endTime: '22:00', client_name: 'Alfred', service_type: 'Drop-In Visits (30 min)' }\n          ],\n          '2025-02-07': [\n            { id: 'bk5', startTime: '10:00', endTime: '12:00', client_name: 'Uhtred', service_type: 'Dog Walking' }\n          ],\n        },\n      });\n    }, 1000);\n  });\n};\n\n// Add mock update functions\nexport const updateAvailability = (updates) => {\n  console.log(\"updateAvailability\", updates);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: updates });\n    }, 500);\n  });\n};\n\nexport const updateBooking = (bookingData) => {\n  console.log(\"updateBooking\", bookingData);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: bookingData });\n    }, 500);\n  });\n};\n\nconst sharedBookingDetails = {\n  booking_id: 'bk1',\n  status: 'Confirmed',\n  client_name: 'matt aertker',\n  professional_name: 'matt2 aertker2',\n  service_details: {\n    service_type: 'Ferrier'\n  },\n  pets: [\n    {\n      pet_id: 3,\n      name: 'Jack',\n      species: 'DOG',\n      breed: 'Golden'\n    }\n  ],\n  occurrences: [\n    {\n      occurrence_id: 10,\n      start_date: '2025-02-01',\n      end_date: '2025-02-02',\n      start_time: '15:06',\n      end_time: '16:06',\n      calculated_cost: '61.04',\n      base_total: '$26.04',\n      rates: {\n        base_rate: '25.00',\n        additional_animal_rate: '5.00',\n        additional_animal_rate_applies: false,\n        applies_after: 2,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '35.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$5.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$5.00'\n          }\n        ]\n      }\n    },\n    {\n      occurrence_id: 9,\n      start_date: '2025-03-13',\n      end_date: '2025-03-14',\n      start_time: '09:00',\n      end_time: '14:00',\n      calculated_cost: '120.08',\n      base_total: '$35.04',\n      rates: {\n        base_rate: '29.00',\n        additional_animal_rate: '8.00',\n        additional_animal_rate_applies: false,\n        applies_after: 1,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '40.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$35.04'\n          }\n        ]\n      }\n    }\n  ],\n  cost_summary: {\n    subtotal: 181.12,\n    platform_fee: 18.11,\n    taxes: 15.94,\n    total_client_cost: 215.17,\n    total_sitter_payout: 163.01,\n    is_prorated: true\n  }\n};\n\n// Initialize mockBookingDetails with existing mock data\nconst mockBookingDetails = {\n  '1234': {\n    ...sharedBookingDetails,\n    id: '1234',\n    clientName: 'John Doe',\n    status: BOOKING_STATES.CONFIRMED,\n    startDate: '2024-02-20',\n    startTime: '14:00',\n  },\n  '5678': {\n    ...sharedBookingDetails,\n    id: '5678',\n    clientName: 'Margarett Laporte',\n    status: BOOKING_STATES.CANCELLED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56782': {\n    ...sharedBookingDetails,\n    id: '56782',\n    clientName: 'Zoe Aerial',\n    status: BOOKING_STATES.DENIED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5673': {\n    ...sharedBookingDetails,\n    id: '5673',\n    clientName: 'Matt Clark',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5674': {\n    ...sharedBookingDetails,\n    id: '5674',\n    clientName: 'Mark Smith',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '5675',\n    clientName: 'Lauren Smith',\n    status: BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '56712',\n    clientName: 'Matt Smith',\n    status: BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56713': {\n    ...sharedBookingDetails,\n    id: '567123',\n    clientName: 'Albert Einstein',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '3749': {...sharedBookingDetails,\n    id: '567132',\n    clientName: 'Dr. Mike Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91011': {\n    ...sharedBookingDetails,\n    id: '91011',\n    clientName: 'Dr. Bla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91012': {\n    ...sharedBookingDetails,\n    id: '91012',\n    clientName: 'Dr. Blabla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  }\n};\n\n// Map mockProfessionalBookings from mockBookingDetails\nexport const mockProfessionalBookings = Object.values(mockBookingDetails)\n  .map(booking => ({\n    id: booking.id,\n    clientName: booking.clientName,\n    status: booking.status,\n    date: booking.startDate,\n    time: booking.startTime,\n    serviceType: booking.serviceType,\n    numberOfPets: booking.numberOfPets || 1,\n    totalCost: booking.costs?.totalClientCost || 0,\n    professionalPayout: booking.costs?.professionalPayout || 0\n  }));\n\n// Add the createBooking function\nexport const createBooking = async (clientId, freelancerId, initialData = {}) => {\n  const newBookingId = `booking_${Date.now()}`;\n  \n  const newBooking = {\n    id: newBookingId,\n    clientId: clientId,\n    freelancerId: freelancerId,\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    clientName: initialData.clientName || 'TBD',\n    professionalName: initialData.professionalName || 'TBD',\n    serviceType: initialData.serviceType || 'TBD',\n    animalType: initialData.animalType || 'TBD',\n    numberOfPets: initialData.numberOfPets || 0,\n    duration: initialData.duration || 0,\n    occurrences: initialData.occurrences || [],\n    rates: {\n      baseRate: 0,\n      additionalPetRate: 0,\n      extraServices: []\n    },\n    costs: {\n      baseTotal: 0,\n      additionalPetTotal: 0,\n      extraServicesTotal: 0,\n      subtotal: 0,\n      clientFee: 0,\n      taxes: 0,\n      totalClientCost: 0,\n      professionalPayout: 0\n    },\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    ...initialData\n  };\n\n  // Add to mock database\n  mockBookingDetails[newBookingId] = newBooking;\n  \n  console.log('Created new booking:', {\n    bookingId: newBookingId,\n    booking: newBooking,\n    allBookings: Object.keys(mockBookingDetails)\n  });\n\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n  return newBookingId;\n};\n\n// Update fetchBookingDetails with better logging\nexport const fetchBookingDetails = async (bookingId) => {\n  // console.log('Fetching booking details');\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  const bookingDetails = mockBookingDetails[bookingId];\n  if (!bookingDetails) {\n    console.error('Booking not found:', {\n      requestedId: bookingId,\n      availableBookings: Object.keys(mockBookingDetails)\n    });\n    throw new Error('Booking not found');\n  }\n  \n  return bookingDetails;\n};\n\n// Export mockBookingDetails for debugging\nexport const _mockBookingDetails = mockBookingDetails;\n\n// Add new mock function for updating booking status\nexport const updateBookingStatus = async (bookingId, newStatus, reason = '', metadata = {}) => {\n  console.log('updateBookingStatus called with:', {\n    bookingId,\n    newStatus,\n    reason,\n    metadata,\n    availableBookings: Object.keys(mockBookingDetails)\n  });\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  // Find the booking by ID regardless of the key\n  const bookingKey = Object.keys(mockBookingDetails).find(key => \n    mockBookingDetails[key].id === bookingId\n  );\n  \n  if (!bookingKey) {\n    console.error('Booking not found in mockBookingDetails. Available bookings:', \n      Object.keys(mockBookingDetails),\n      '\\nFull mockBookingDetails:', mockBookingDetails\n    );\n    throw new Error('Booking not found');\n  }\n  \n  // Create updated booking object\n  mockBookingDetails[bookingKey] = {\n    ...mockBookingDetails[bookingKey],\n    status: newStatus,\n    statusReason: reason,\n    updated_at: new Date().toISOString(),\n    ...metadata\n  };\n\n  console.log('Updated booking:', mockBookingDetails[bookingKey]);\n  return mockBookingDetails[bookingKey];\n};\n\n// Make sure to update MyBookings.js to use the same BOOKING_STATES constant\nexport const mockClientBookings = [\n  {\n    id: '91011',\n    professionalName: 'Sarah Wilson',\n    status: BOOKING_STATES.CONFIRMED,\n    date: '2024-02-22',\n    time: '10:00',\n    serviceType: 'Dog Walking',\n    numberOfPets: 2,\n    totalCost: 75.00,\n  },\n  {\n    id: '91012',\n    professionalName: 'Mike Johnson',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    date: '2024-02-23',\n    time: '11:00',\n    serviceType: 'Pet Sitting',\n    numberOfPets: 1,\n    totalCost: 50.00,\n  },\n];\n\n// Assuming current user ID is 101 for testing\nexport const CURRENT_USER_ID = 101;\n\nexport const mockConversations = [\n  {\n    id: 'conv_1',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 202,\n    name: \"Dr. Sarah Smith\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'd be happy to help! What kind of pet do you have?\",\n    timestamp: \"2024-02-21T07:05:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_2',\n    participant1_id: 303,\n    participant2_id: CURRENT_USER_ID,\n    name: \"Dr. Mike Johnson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'm available! Let's set up a booking\",\n    timestamp: \"2024-02-21T15:35:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_3',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 204,\n    name: \"Dr. Emily Wilson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your cat's checkup is scheduled\",\n    timestamp: \"2024-02-20T10:15:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_4',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 205,\n    name: \"Dr. James Anderson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"See you tomorrow at 2 PM\",\n    timestamp: \"2024-02-19T16:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_5',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 206,\n    name: \"Dr. Lisa Brown\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How is Max doing today?\",\n    timestamp: \"2024-02-18T09:30:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_6',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 207,\n    name: \"Dr. Robert Taylor\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The medication has been prescribed\",\n    timestamp: \"2024-02-17T14:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_7',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 208,\n    name: \"Dr. Maria Garcia\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your appointment is confirmed\",\n    timestamp: \"2024-02-16T11:25:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_8',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 209,\n    name: \"Dr. David Lee\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Let's schedule a follow-up\",\n    timestamp: \"2024-02-15T13:40:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_9',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 210,\n    name: \"Dr. Sarah Martinez\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The test results are ready\",\n    timestamp: \"2024-02-14T15:55:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_10',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 211,\n    name: \"Dr. John White\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How's the new diet working?\",\n    timestamp: \"2024-02-13T08:15:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_11',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 212,\n    name: \"Dr. Anna Clark\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Vaccination reminder\",\n    timestamp: \"2024-02-12T10:30:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_12',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 213,\n    name: \"Dr. Thomas Wright\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Surgery scheduled for next week\",\n    timestamp: \"2024-02-11T12:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_13',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 214,\n    name: \"Dr. Patricia Moore\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Emergency consultation available\",\n    timestamp: \"2024-02-10T17:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_14',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 215,\n    name: \"Dr. Kevin Hall\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Treatment plan updated\",\n    timestamp: \"2024-02-09T14:10:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_15',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 216,\n    name: \"Dr. Rachel Green\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Prescription ready for pickup\",\n    timestamp: \"2024-02-08T16:35:00Z\",\n    unread: true\n  }\n];\n\nexport const mockMessages = {\n  'conv_1': [\n    {\n      message_id: 1,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Hi, I'm interested in your pet sitting services\",\n      timestamp: \"2024-02-21T14:00:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 2,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: 202,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'd be happy to help! What kind of pet do you have?\",\n      timestamp: \"2024-02-21T14:05:00Z\",\n      booking_id: null,\n      status: \"sent\",\n      is_booking_request: false,\n      metadata: {}\n    }\n  ],\n  'conv_2': [\n    {\n      message_id: 3,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Looking for a dog walker next week\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 4,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      type: 'booking_request',\n      data: {\n        serviceType: \"Dog Walking\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' }\n        ],\n        occurrences: [\n          {\n            startDate: '2024-02-28',\n            endDate: '2024-02-28',\n            startTime: '14:00',\n            endTime: '15:00'\n          }\n        ]\n      },\n      timestamp: \"2024-02-21T15:35:00Z\",\n      status: \"sent\",\n      is_booking_request: true,\n      metadata: {}\n    },\n    {\n      message_id: 5,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'll take a look!\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n  ]\n};\n\n// Helper function to create a new conversation\nexport const createNewConversation = (professionalId, professionalName, clientId, clientName) => {\n  const conversationId = `conv_${Date.now()}`;\n  const isCurrentUserClient = clientId === CURRENT_USER_ID;\n  \n  return {\n    id: conversationId,\n    participant1_id: isCurrentUserClient ? clientId : professionalId,\n    participant2_id: isCurrentUserClient ? professionalId : clientId,\n    role_map: {\n      participant1_role: isCurrentUserClient ? \"client\" : \"professional\",\n      participant2_role: isCurrentUserClient ? \"professional\" : \"client\"\n    },\n    lastMessage: \"\",\n    timestamp: new Date().toISOString(),\n    unread: false,\n    bookingStatus: null\n  };\n};\n\nexport const DEFAULT_SERVICES = [\n  {\n    serviceName: 'Dog Walking',\n    animalTypes: 'Dogs',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '10',\n  },\n  {\n    serviceName: 'Cat Sitting',\n    animalTypes: 'Cats',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '5',\n  },\n  {\n    serviceName: 'Exotic Pet Care',\n    animalTypes: 'Lizards, Birds',\n    rates: { base_rate: '25' },\n    additionalAnimalRate: '15',\n  },\n];\n\nexport const SERVICE_TYPE_SUGGESTIONS = [\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\", \n];\n\nexport const ANIMAL_TYPE_SUGGESTIONS = [\n  'Dog',\n  'Cat',\n  'Cow',\n  'Calf',\n  'Lizard',\n  'Bird',\n  'Rabbit',\n  'Fish',\n];\n\nexport const BLOG_POSTS = [\n  {\n    id: 'blog_1',\n    title: 'What Your Dog is Really Saying',\n    author: {\n      id: 'author_1',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Professional dog trainer and animal behavior specialist with over 10 years of experience.'\n    },\n    publishDate: '2024-02-22',\n    readTime: '8 min',\n    tags: ['Dogs', 'Behavior', 'Training', 'Pet Care'],\n    content: `You know that moment when your dog tilts their head at you like you just asked them to solve a calculus problem? Turns out, they're not the only ones trying to understand youthey've been communicating with you this whole time, and you probably didn't even realize it.\n\nDogs may not speak English (yetgive them time), but they have an entire language built on tail wags, ear positions, and those big, soulful eyes they use to manipulate you into giving them extra treats. Learning to read their body language isn't just a party trickit can help prevent stress, deepen your bond, and maybe even stop your dog from embarrassing you at the dog park. So, let's finally crack the code on what your dog has been trying to tell you.\n\nTail Wagging: Not Always a Sign of Happiness\nOne of the biggest myths out there is that a wagging tail means a happy dog. Nope. Not always. A dog's tail is basically their mood ring, and the way they wag tells a whole different story.\nLoose, full-body wag (with bonus butt wiggles): This is the classic \"OMG YOU'RE HOME!!\" happy dance. A+ vibes.\nSlow wag, tail held high: The \"I'm analyzing this situation\" wag. Suspicious, calculating, possibly deciding if you're worth their energy.\nStiff, fast wag with a raised tail: Yikes. This is \"I'm on edge, don't mess with me\" energy. Proceed with caution.\nLow, fast wag: \"I'm nervous, and I don't know what's happening, so I'm just gonna keep wiggling and hope for the best.\"\nTucked tail: Fear. If the tail is all the way tucked under, your dog is basically saying, \"I regret everything, please don't yell at me.\"\nEven the direction of the wag mattersresearchers found that dogs wag more to the right when they're happy and to the left when they're unsure or stressed (Quaranta et al., 2007). Yes, your dog's tail literally has anxiety tells.\n\nEars and Eyes: The Silent Storytellers\nDogs don't just talk with their tailsthey also use their ears and eyes like tiny, furry actors in a silent film.\nSoft eyes, relaxed ears: Your dog is living their best life. No stress, just vibes.\nWide eyes, whites showing (a.k.a. \"whale eye\"): \"I am uncomfortable with the energy we have created in this room.\" This is a warning signyour dog feels uneasy or trapped.\nPerked-up ears: \"I heard something, and I will investigate.\" Could be excitement, curiosity, or them preparing to bark at absolutely nothing.\nEars pinned back: \"I'm nervous\" or \"I did something bad, and I hope you don't notice.\" Classic guilty dog move.\nEver notice how some dogs do a little squint when they're happy? It's their version of a smile. On the flip side, prolonged direct eye contactespecially with an unfamiliar dogcan be a challenge. So, if you're having a staring contest with a dog you just metmaybe don't.\n\nThe Freeze: When Your Dog Hits Pause (And You Should Pay Attention)\nIf a dog suddenly stops moving and stiffens, pay attention. Freezing is often their last warning before things escalate to growling, snapping, or biting. A lot of people miss this and then wonder why their dog \"suddenly\" lashed out.\nYou might see this when:\nA child is hugging a dog (which, fun fact, most dogs hate).\nSomeone is petting a dog too aggressively.\nThe dog feels cornered and has no escape route.\nResearch by Rooney Clark and Casey (2016) helped show that when a dog freezes, in some way or another they are stressed, its best to give them space in that moment and take a mental note of your newest training goal! Sometimes, they just need a minute to de-escalate, like when you have to breathe through a customer service call that's not going well.\n\nMouth Matters: Smiles vs. Stress\nDogs can technically smile, but it's not always what you think.\nLoose, open mouth, tongue hanging out: Happy, relaxed, living their best life.\nClosed mouth, tight lips: Alert or unsure. They're analyzing the situation.\nLips pulled back, slight teeth showing: Some dogs do a \"submissive grin,\" which isn't aggressionit's their way of saying, \"Hey, I'm friendly!\"\nWrinkled nose, full teeth bared: This is aggression. Back off.\nExcessive yawning in a new situation: Dogs don't just yawn when they're tiredthey also yawn when they're stressed. To put it simply, they are overstimulated. (Glenk, 2020) Don't be fooled by the parrot dog, sometimes they yawn because they saw you yawn first! (D'Aniello, 2019)\n\nConclusion: Your Dog Has Been Sending You TextsNow You Can Finally Read Them\nDogs may not be able to talk (yet), but they've been communicating loud and clear this whole time. That tail wag? Could be excitement, could be stress. That little squint? Doggy love. The full-body freeze? That's a big ol' \"DO NOT DISTURB\" sign.\nThe more you pay attention, the better you'll understand your dogand the fewer awkward misunderstandings you'll have (like mistaking a stress yawn for a nap cue). As we said in the beginning, your dog already knows exactly how to read you. They know your routine, when you're about to leave the house, and how to guilt-trip you into sharing your snacks. The least you can do is return the favor.\nSo next time your dog gives you the side-eye, perks their ears, or flops over dramatically after a single walk, you'll finally know what they're saying. And let's be honestit's probably, \"I love you now give me a treat.\"`,\n    references: [\n      {\n        title: '7 tips for canine body language',\n        authors: 'American Society for the Prevention of Cruelty to Animals (ASPCA)',\n        publication: 'ASPCApro',\n        url: 'https://www.aspcapro.org/resource/7-tips-canine-body-language'\n      },\n      {\n        title: \"Therapy dogs' salivary cortisol levels vary during animal-assisted interventions\",\n        authors: 'Glenk, L. M., Kothgassner, O. D., Stetina, B. U., Palme, R., & Kepplinger, B.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2020,\n        doi: '10.3389/fvets.2020.564201'\n      },\n      {\n        title: 'The importance of associative learning in cross-species social bonding: Dogs and humans',\n        authors: \"D'Aniello, B., Scandurra, A., Alterisio, A., Aria, M., & Siniscalchi, M.\",\n        publication: 'Frontiers in Psychology',\n        year: 2019,\n        doi: '10.3389/fpsyg.2019.01678'\n      },\n      {\n        title: 'Oxytocin-gaze positive loop and the coevolution of human-dog bonds',\n        authors: 'Nagasawa, M., Mitsui, S., En, S., Ohtani, N., Ohta, M., Sakuma, Y., Onaka, T., Mogi, K., & Kikusui, T.',\n        publication: 'Science',\n        year: 2015,\n        doi: '10.1126/science.1261022'\n      },\n      {\n        title: 'Asymmetric tail-wagging responses by dogs to different emotive stimuli',\n        authors: 'Quaranta, A., Siniscalchi, M., & Vallortigara, G.',\n        publication: 'Current Biology',\n        year: 2007,\n        doi: '10.1016/j.cub.2007.02.008'\n      },\n      {\n        title: 'Minimizing fear and anxiety in working dogs: A review',\n        authors: 'Rooney, N. J., Clark, C. C. A., & Casey, R. A.',\n        publication: 'Journal of Veterinary Behavior',\n        year: 2016,\n        doi: '10.1016/j.jveb.2016.11.001'\n      }\n    ],\n    likes: 245,\n    comments: 56,\n    shares: 89\n  },\n  {\n    id: 'blog_2',\n    title: 'What Your Cat is Really Saying',\n    author: {\n      id: 'author_2',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Feline behavior specialist and veterinarian with a focus on cat-human relationships.'\n    },\n    publishDate: '2024-02-23',\n    readTime: '7 min',\n    tags: ['Cats', 'Behavior', 'Pet Care', 'Communication'],\n    content: `Ever wonder why your cat stares at you before slowly blinking or why they randomly sprint across the house at 2 AM? While cats may seem mysterious, they actually have a complex system of communicationif you know what to look for. Unlike dogs, who wear their emotions on their tails (literally), cats are more subtle. But once you learn their signals, you'll start to see what your cat has been trying to tell you all along.\n\nThe Myth of the Aloof Cat: Do They Actually Care About You?\nMany people think cats are independent and don't bond with their owners the way dogs do. But research suggests otherwise. A study by Vitale et al. (2019) found that cats form secure attachments to their owners, much like infants do with their caregivers. In an experiment where cats were briefly separated from their owners, many showed signs of distress when left alone and relief upon their owner's return. So yes, your cat does care about youthey just have their own way of showing it.\n\nThe Slow Blink: A Feline \"I Love You\"\nOne of the best-kept secrets of cat communication is the slow blink. If your cat locks eyes with you and then slowly closes and opens their eyes, congratulations! You've just received a cat's version of a smile. Research completed in 2020 (Humphrey) found that when humans slowly blink at their cats, the cats are more likely to return the gesture and approach them in a friendly manner. So, next time you want to say \"I love you\" to your cat, skip the baby talk and try a slow blink instead.\n\nTail Talk: Not Just for Dogs\nA cat's tail is like a built-in mood ring. Learning to read tail signals can help you avoid scratches and strengthen your bond.\nTail up, tip curved: A friendly, confident cat greeting. If your cat walks toward you with their tail high, they're happy to see you.\nPuffed-up tail: This is a defensive reaction. Your cat is startled or feels threatened.\nLow, slow-wagging tail: Unlike dogs, a slow-wagging cat tail isn't a good signit often signals irritation or mild aggression.\nTail wrapped around you or another cat: This is a sign of affection, almost like holding hands.\n\nPurring: More Than Just Happiness\nEveryone loves the soothing sound of a purring cat, but did you know cats don't just purr when they're happy? While contentment is a common reason, studies suggest cats also purr when they're stressed, in pain, or even trying to heal themselves. The frequency of cat purrs (between 25 and 150 Hz) has been linked to tissue regeneration and bone healing in studies on vibrational therapy (Muggenthaler, 2001). So, if your cat is purring at the vet's office, they may not be enjoying themselvesthey might just be self-soothing.\n\nHeadbutting and Kneading: Strange but Sweet Gestures\nHeadbutting (bunting): When your cat gently bumps their head against you, they're not just being cutethey're marking you with their scent glands, claiming you as their own (Rodan, 2015).\nKneading: The rhythmic pressing of paws against a soft surface (or your lap) is a behavior kittens use to stimulate milk flow. In adult cats, it's a sign of comfort and contentment (Brown & Bradshaw, 2016).\n\nDo Cats Really Ignore Their Names?\nIf you've ever called your cat and been met with a flick of the ear but no movement, you might think they don't recognize their name. But research says otherwise. A study by Saito & Shinozuka (2013) found that cats can distinguish their names from other words, even in a household with multiple cats. They just don't always feel the need to respond. Unlike dogs, who evolved to seek human approval, cats evolved as solitary hunters. They hear youthey're just deciding whether you're worth getting up for.\n\nThe Zoomies: Science Behind the 2 AM Sprints\nThose sudden, chaotic bursts of energyalso known as \"zoomies\"are actually a by normal part of feline behavior. Cats are natural hunters, and their instincts tell them to be most active at dawn and dusk. If your cat has zoomies at odd hours, they might just be burning off excess energy. Providing interactive play during the day can help prevent nighttime sprints (Turner, 2021).\n\nConclusion: The More You Watch, the More You Understand\nCats may seem mysterious, but once you learn their language, they're basically tiny, furry drama queens with very specific ways of expressing love (and judgment). That slow blink? A kiss. That tail flick? A warning. The 2 AM zoomies? Either pent-up energy or an exorcismwe may never know.\n\nThe more you pay attention to their signals, the better you'll understand them. And honestly your cat already understands you. They know exactly how to guilt-trip you into giving extra treats, how to wake you up precisely one minute before your alarm, and how to act like they don't careright before curling up in your lap.\n\nAt the end of the day, cats aren't ignoring us. They're just selectively participating. And now that you can read their signals, you're officially part of their very exclusive club.`,\n    references: [\n      {\n        title: 'Communication in the domestic cat: within- and between-species',\n        authors: 'Brown, S. L., & Bradshaw, J. W. S.',\n        publication: 'Animal Behaviour',\n        year: 2016,\n        doi: '10.1016/j.anbehav.2016.05.015'\n      },\n      {\n        title: 'Feline Behavioral Health and Welfare',\n        authors: 'Rodan, I., & Heath, S.',\n        publication: 'Elsevier Health Sciences',\n        year: 2015\n      },\n      {\n        title: 'The felid purr: A healing mechanism?',\n        authors: 'Muggenthaler, E. von.',\n        publication: 'Proceedings of the 12th International Conference on Low Frequency Noise and Vibration',\n        year: 2001,\n        url: 'https://www.researchgate.net/publication/272259095_The_felid_purr_A_healing_mechanism'\n      },\n      {\n        title: 'Vocal recognition of owners by domestic cats (Felis catus)',\n        authors: 'Saito, A., & Shinozuka, K.',\n        publication: 'Animal Cognition',\n        year: 2013,\n        doi: '10.1007/s10071-013-0620-4'\n      },\n      {\n        title: 'The mechanics of social interactions between cats and their owners',\n        authors: 'Turner, D. C.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2021,\n        doi: '10.3389/fvets.2021.650143'\n      },\n      {\n        title: 'Attachment bonds between domestic cats and humans',\n        authors: 'Vitale, K. R., Behnke, A. C., & Udell, M. A. R.',\n        publication: 'Current Biology',\n        year: 2019,\n        doi: '10.1016/j.cub.2019.08.036'\n      },\n      {\n        title: 'The role of cat eye narrowing movements in cathuman communication',\n        authors: 'Humphrey, T., Proops, L., & McComb, K.',\n        publication: 'Scientific Reports',\n        year: 2020,\n        doi: '10.1038/s41598-020-73426-0'\n      }\n    ],\n    likes: 312,\n    comments: 78,\n    shares: 102\n  },\n  {\n    id: 'blog_3',\n    title: 'What Your Bird is Really Saying',\n    author: {\n      id: 'author_3',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Avian specialist and researcher focusing on bird behavior and communication.'\n    },\n    publishDate: '2024-02-24',\n    readTime: '6 min',\n    tags: ['Birds', 'Behavior', 'Pet Care', 'Avian Communication'],\n    content: `Ever look at your bird and think, What's going on in that tiny dinosaur brain of yours? Well, good newsbirds may not text, but they do have an entire language made up of wing flutters, tail flicks, and the occasional judgmental stare. And if you learn to read these signals, you'll finally understand what your feathered friend has been trying to tell you all along.\n\nLet's break down the mysterious world of bird body language so you can stop guessing and start actually communicating with your avian BFF.\n\nThe Head Tilt: Curious or Plotting Something?\nThat adorable head tilt your bird does isn't just to make you go awwit's actually their way of getting a better look at something. Birds process images differently than we do, so when they tilt their head, they're adjusting their angle to see more clearly (Massen et al., 2014).\n\nSlow, curious head tilt: They're interested in what's happening and trying to analyze the situation. Basically, they're bird detectives.\nFrequent or extreme tilting: Could indicate a vision issue or neurological problemif it looks excessive, a vet visit is a good idea (Massen et al., 2014).\nOne-eye stare, body stiffened: A sign they're feeling cautious or potentially threatened. If they were a human, this would be the equivalent of side-eye.\n\nFeather Fluffing: Cozy or Cranky?\nFeather movements say a lot about how a bird is feeling. Think of them as mood indicators, kind of like how we use facial expressionsexcept, you know, with more feathers.\n\nFluffed-up feathers for a few seconds: Just getting comfortable. If your bird puffs up and then smooths back down, they're basically stretching.\nConstantly fluffed-up feathers: Not good. This can be a sign of illness, stress, or even feeling cold (Massen et al., 2014).\nFeathers sleeked back tight to the body: Your bird is nervous or possibly feeling aggressive. Approach with caution (Pika & Bugnyar, 2011).\n\nThe Wing Flutter: Excitement or Back Off?\nBirds use their wings for way more than just flyingthey also use them to communicate. Unfortunately, no sign language because birds dont have thumbs\n\nExcited, quick flutters: Happiness! Your bird is basically doing a little happy dance (Osaka University, 2023).\nSlow, controlled wing movements: This can be a \"stay away\" signal, kind of like putting up a hand to say \"not now.\"\nOne wing slightly drooped: Could be a sign of injurytime to check in with your vet.\n\nBunting: Love, Not a Headbutt Attack\nIf your bird presses or rubs their beak against you, congratulationsthey're bunting, which is a sign of affection (Pika & Bugnyar, 2011).\n\nGentle beak rubbing: They're marking you as part of their flock. You're officially theirs now.\nAggressive, sudden beak nudging: Might mean \"Hey, stop that\" or \"Give me attention NOW.\"\n\nThe Stare-Down: Challenge or Trust?\nUnlike with dogs, where prolonged eye contact can be a dominance move, birds love staring at their favorite humans. It's actually a good thingeye contact helps strengthen bonds (Osaka University, 2023).\n\nSoft, relaxed eyes: A sign of trust and comfort. They're chilling.\nWide eyes with pinning pupils: Intense excitementor potential aggression. If they suddenly go from relaxed to laser-focused, read the room.\n\nTail Wagging: A Whole Different Story Than Dogs\nIf you thought tail wagging only meant happiness (like with dogs), think againbirds have their own unique tail signals.\n\nFast, side-to-side tail wagging: Happy and excited! Your bird is feeling good.\nSlow, deliberate tail flick: Annoyed or getting ready to give you a warning. Think of this as their way of saying \"I'm this close to losing it.\"\nTail fanned out: Displaying dominance or excitementthis is common in birds like parrots when they're trying to show off.\n\nThe Playful Side: Hanging Upside Down & Wing Spreading\nSome birds (especially parrots) love hanging upside down like little acrobats. This is usually a sign of happiness and playfulness. If your bird does this often, they're feeling safe and confident.\n\nUpside-down hanging: Your bird is comfortable with you and their surroundings. They trust you.\nOne wing slightly lifted while playing: This can be an invitation to interactkind of like a bird's version of waving at you.\n\nConclusion: Your Bird Has Been SpeakingNow You're Fluent\nBirds may not use words the way we do (unless you have a talkative parrot), but their body language speaks volumes. From fluffed feathers to head tilts and beak bunts, every little movement is a clue to how they're feeling.\n\nThe more you watch and learn, the better you'll understand their unique way of communicating. And let's be realyour bird already knows exactly how to get your attention. Whether it's staring at you until you feel guilty enough to offer a treat or flapping their wings dramatically for no reason, they've got you trained.\n\nNow that you can finally read their signals, you're one step closer to becoming the ultimate bird whisperer. Just don't be surprised if they start giving you even more attitude now that you know what's up.`,\n    references: [\n      {\n        title: 'Facial display and blushing: Means of visual communication in blue-and-yellow macaws',\n        authors: 'Massen, J. J. M., Vermunt, D. A., & Sterck, E. H. M.',\n        publication: 'PLoS ONE',\n        year: 2014,\n        doi: '10.1371/journal.pone.0108794'\n      },\n      {\n        title: 'The use of referential gestures in ravens (Corvus corax) in the wild',\n        authors: 'Pika, S., & Bugnyar, T.',\n        publication: 'Nature Communications',\n        year: 2011,\n        doi: '10.1038/ncomms1567'\n      },\n      {\n        title: 'Wild birds gesture \"after you\" to insist their mate go first',\n        authors: 'Osaka University',\n        publication: 'Scientific American',\n        year: 2023,\n        url: 'https://www.scientificamerican.com/article/wild-birds-gesture-after-you-to-insist-their-mate-go-first/'\n      }\n    ],\n    likes: 198,\n    comments: 45,\n    shares: 67\n  }\n];","import React, { useState, useEffect, useContext } from 'react';\nimport { View, ScrollView, Image, StyleSheet, Linking, Dimensions, Platform, TouchableOpacity, TextInput } from 'react-native';\nimport { Button, Text, Card, Title, Paragraph, useTheme } from 'react-native-paper';\nimport { ImageBackground } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport RoadmapSection from '../components/RoadmapSection';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { FontAwesome6 } from '@expo/vector-icons';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\n\nconst { width: windowWidth, height: windowHeight } = Dimensions.get('window');\n\n// Define a sample reviews array\nconst reviews = [\n  {\n    image: require('../../assets/user1.png'),\n    text: \"\\\"CrittrCove has been amazing for finding reliable pet professionals!\",\n    author: \"John Smith\"\n  },\n  {\n    image: require('../../assets/user2.png'),\n    text: \"\\\"Great experience with pet sitting services!\",\n    author: \"Jane Doe\"\n  },\n  {\n    image: require('../../assets/user3.png'),\n    text: \"\\\"Found the perfect sitter for my exotic pets!\",\n    author: \"Sudhakar Vuluvala\"\n  },\n  {\n    image: require('../../assets/user4.png'),\n    text: \"\\\"I've had a fantastic experience with CrittrCove's pet grooming services!\",\n    author: \"Alice Brown\"\n  }\n];\n\n// Define the ReviewImage component\nconst ReviewImage = ({ source, style }) => {\n  if (Platform.OS === 'web') {\n    return <img src={source} style={style} alt=\"\" />;\n  }\n  return <Image source={source} style={style} />;\n};\n\nexport default function HomeScreen({ navigation }) {\n  const { colors } = useTheme();\n  const { screenWidth } = useContext(AuthContext);\n  const isMobileView = screenWidth < 660;\n  const openAppStore = (url) => {\n    Linking.openURL(url);\n  };\n\n  // Add state for social media popup visibility\n  const [isUserScrolling, setIsUserScrolling] = useState(false);\n\n  const AutoScrollSection = ({ data, renderItem, title, cardWidth = 320 }) => {\n    const scrollViewRef = React.useRef(null);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [userScrolling, setUserScrolling] = useState(false);\n    const autoScrollTimerRef = React.useRef(null);\n\n    // Auto-scroll effect\n    useEffect(() => {\n      if (!userScrolling) {\n        autoScrollTimerRef.current = setInterval(() => {\n          if (scrollViewRef.current) {\n            const nextIndex = (currentIndex + 1) % data.length;\n            scrollToIndex(nextIndex);\n          }\n        }, 3000);\n      }\n\n      return () => {\n        if (autoScrollTimerRef.current) {\n          clearInterval(autoScrollTimerRef.current);\n        }\n      };\n    }, [currentIndex, userScrolling, data.length]);\n\n    const scrollToIndex = (index) => {\n      if (scrollViewRef.current) {\n        scrollViewRef.current.scrollTo({\n          x: index * cardWidth,\n          animated: true\n        });\n        setCurrentIndex(index);\n      }\n    };\n\n    const handleScroll = (event) => {\n      const contentOffset = event.nativeEvent.contentOffset.x;\n      const index = Math.round(contentOffset / cardWidth);\n      setCurrentIndex(index);\n    };\n\n    const handleScrollBegin = () => {\n      setUserScrolling(true);\n      if (autoScrollTimerRef.current) {\n        clearInterval(autoScrollTimerRef.current);\n      }\n    };\n\n    const handleScrollEnd = () => {\n      // Reset after a short delay to prevent immediate auto-scroll\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    const handleDotPress = (index) => {\n      setUserScrolling(true);\n      scrollToIndex(index);\n      // Reset auto-scroll after a delay\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    return (\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <View style={styles.scrollContainer}>\n          <ScrollView\n            ref={scrollViewRef}\n            horizontal\n            showsHorizontalScrollIndicator={true}\n            style={[styles.scrollContainer, { WebkitOverflowScrolling: 'touch' }]}\n            contentContainerStyle={styles.scrollContent}\n            onScroll={handleScroll}\n            scrollEventThrottle={16}\n            pagingEnabled={Platform.OS !== 'web'}\n            onScrollBeginDrag={handleScrollBegin}\n            onScrollEndDrag={handleScrollEnd}\n            onMomentumScrollEnd={handleScrollEnd}\n          >\n            {data.map((item, index) => renderItem(item, index))}\n          </ScrollView>\n          {/* Clickable scroll indicators */}\n          <View style={styles.scrollIndicators}>\n            {data.map((_, index) => (\n              <TouchableOpacity\n                key={index}\n                onPress={() => handleDotPress(index)}\n                style={styles.scrollIndicatorButton}\n              >\n                <View\n                  style={[\n                    styles.scrollIndicator,\n                    currentIndex === index && styles.scrollIndicatorActive\n                  ]}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n          {/* Scroll hint for mobile */}\n          {Platform.OS !== 'web' && (\n            <View style={styles.scrollHint}>\n              <Text style={styles.scrollHintText}>Swipe for more</Text>\n              <MaterialCommunityIcons name=\"gesture-swipe-horizontal\" size={24} color={theme.colors.primary} />\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ReviewsSection = () => {\n    const renderReview = (review, index) => (\n      <View key={index} style={styles.reviewCard}>\n        <Text style={styles.reviewText}>{review.text}</Text>\n        <View style={styles.reviewAuthorContainer}>\n          <ReviewImage\n            source={review.image}\n            style={styles.reviewerImage}\n          />\n          <View>\n            <Text style={styles.reviewAuthorName}>{review.author}</Text>\n            <Text style={styles.reviewAuthorTitle}>Client Review</Text>\n            <View style={styles.starsContainer}>\n              {[1, 2, 3, 4, 5].map((_, index) => (\n                <MaterialCommunityIcons \n                  key={index}\n                  name=\"star\"\n                  size={16}\n                  color={theme.colors.primary}\n                  style={styles.starIcon}\n                />\n              ))}\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n\n    return (\n      <AutoScrollSection\n        data={reviews}\n        renderItem={renderReview}\n        title=\"Kind Words From Users\"\n      />\n    );\n  };\n\n  const BlogSection = () => {\n    const renderBlogPost = (post, index) => (\n      <TouchableOpacity \n        key={post.id} \n        style={[\n          styles.blogCard,\n          { marginRight: index === BLOG_POSTS.length - 1 ? 0 : 10 }\n        ]} \n        onPress={() => navigateToFrom(navigation, 'BlogPost', 'Home', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]} numberOfLines={2}>\n              {post.title}\n            </Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}>  </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {post.content.slice(0, 100)}...\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.slice(0, 2).map((tag, tagIndex) => (\n                <View \n                  key={tagIndex} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n\n    return (\n      <AutoScrollSection\n        data={BLOG_POSTS}\n        renderItem={renderBlogPost}\n        title=\"Blog\"\n        cardWidth={320}\n      />\n    );\n  };\n\n  const Features = () => {\n    const [activeTab, setActiveTab] = useState('owners'); // Default to owners tab\n\n    // Add roadmap colors array\n    const roadmapColors = ['#515d6c', '#516a6c', '#516C61', '#6A6C51'];\n\n    // Update the feature item structure and styles\n    const featureItemStyle = {\n      flexDirection: 'row',\n      marginBottom: 20,\n      alignItems: 'flex-start',\n      width: '100%',\n    };\n\n    const featureContentStyle = {\n      flex: 1,\n      marginLeft: 5,\n    };\n\n    return (\n      <View style={styles.featuresSection}>\n        <Text style={styles.sectionTitle}>How It Works</Text>\n        <View style={styles.toggleContainer}>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'owners' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('owners')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'owners' && styles.toggleButtonTextActive]}>For Pet Owners</Text>\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'sitters' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('sitters')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'sitters' && styles.toggleButtonTextActive]}>For Pet Professionals</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.featuresContainer}>\n          {activeTab === 'owners' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Owners</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome6 name=\"person-running\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Your Profile</Text>\n                    <Text style={styles.featureText}>Submit details about you and your requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"horse-human\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Pet Profile</Text>\n                    <Text style={styles.featureText}>Submit details about your pet and sitting requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <MaterialCommunityIcons name=\"professional-hexagon\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Search for Pro's</Text>\n                    <Text style={styles.featureText}>You can use our marketplace to find the best pro for your desired service.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <FontAwesome5 name=\"calendar-check\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Confirm Your Booking</Text>\n                    <Text style={styles.featureText}>Coordinate directly with your professional to finalize details.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Sign up Today!</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n          {activeTab === 'sitters' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Professionals</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome name=\"sign-in\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Apply to Join Pro Community</Text>\n                    <Text style={styles.featureText}>Submit your specialties, documents, bio, and availability to begin.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"plus-circle\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Create Services</Text>\n                    <Text style={styles.featureText}>Create services to offer to pet owners.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <FontAwesome6 name=\"handshake-simple\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Get Matched with Clients</Text>\n                    <Text style={styles.featureText}>Pet owners in your area will reach out to you for yourservices.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <MaterialIcons name=\"auto-graph\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Grow Your Business</Text>\n                    <Text style={styles.featureText}>Manage bookings and get support as you build your pet service business.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Become a Professional</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ContactSection = () => {\n    const [state, handleSubmit] = useForm(\"mkgobpro\");\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleFormSubmit = async (e) => {\n      e.preventDefault();\n      const formData = {\n        name: name,\n        email: email,\n        message: message\n      };\n      \n      await handleSubmit(formData);\n      \n      if (state.succeeded) {\n        setName('');\n        setEmail('');\n        setMessage('');\n      }\n    };\n\n    if (state.succeeded) {\n      return (\n        <View style={styles.contactSection}>\n          <View style={styles.contactContainer}>\n            <Text style={[styles.sectionTitle, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.contactSection}>\n        <View style={styles.contactContainer}>\n          <Text style={styles.sectionTitle}>Contact Us</Text>\n          <TextInput\n            placeholder=\"Your Name\"\n            style={styles.input}\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Email\"\n            style={styles.input}\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Message\"\n            style={[styles.input, styles.messageInput]}\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[\n                styles.actionButton,\n                state.submitting && styles.disabledButton\n              ]}\n              onPress={handleFormSubmit}\n              disabled={state.submitting}\n            >\n              <Text style={styles.buttonText}>\n                {state.submitting ? 'Sending...' : 'Send'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const ServiceCard = ({ icon, title, description, color }) => {\n    const cardStyles = {\n      container: {\n        width: isMobileView ? '90%' : '45%',\n        minWidth: isMobileView ? 'auto' : 300,\n        maxWidth: 500,\n        padding: 20,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 4,\n        elevation: 3,\n        marginBottom: 20,\n        alignSelf: 'center',\n      },\n      header: {\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginBottom: 15,\n      },\n      iconContainer: {\n        width: 60,\n        height: 60,\n        borderRadius: 30,\n        backgroundColor: `${theme.colors.primary}15`,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginBottom: 15,\n      },\n      title: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n        fontFamily: theme.fonts.header.fontFamily,\n        textAlign: 'center',\n        marginBottom: 10,\n      },\n      description: {\n        fontSize: 16,\n        lineHeight: 24,\n        color: theme.colors.text,\n        fontFamily: theme.fonts.regular.fontFamily,\n        textAlign: 'center',\n      },\n    };\n\n    return (\n      <View style={cardStyles.container}>\n        <View style={cardStyles.header}>\n          <View style={cardStyles.iconContainer}>\n            <MaterialCommunityIcons name={icon} size={32} color={color} />\n          </View>\n          <Text style={cardStyles.title}>{title}</Text>\n        </View>\n        <Text style={cardStyles.description}>{description}</Text>\n      </View>\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.heroSection}>\n        <Image\n          source={require('../../assets/hero-image.jpg')}\n          style={styles.heroImage}\n          resizeMode=\"cover\"\n        />\n        <Text style={styles.heroText}>Welcome to CrittrCove</Text>\n      </View>\n\n      {/* Service Highlights Section */}\n      <View style={styles.serviceHighlightsSection}>\n        <Text style={styles.mainServiceTitle}>Marketplace for Pet Owners and Care Professionals</Text>\n        \n        <View style={[styles.servicesGrid, { \n          flexDirection: isMobileView ? 'column' : 'row',\n          alignItems: isMobileView ? 'center' : 'flex-start',\n        }]}>\n          <ServiceCard\n            icon=\"paw\"\n            title=\"All Animals Welcome\"\n            description=\"From common pets to exotic animals, we connect you with professionals experienced in caring for any type of animal companion.\"\n            color={theme.colors.mainColors.senary}\n          />\n          <ServiceCard\n            icon=\"calendar-clock\"\n            title=\"Flexible Booking Options\"\n            description=\"Book single visits, multiple days, or set up recurring services. Create subscription plans or schedule services months in advance.\"\n            color={theme.colors.mainColors.quinary}\n          />\n          <ServiceCard\n            icon=\"shield-check\"\n            title=\"Verified Professionals\"\n            description=\"All professionals are thoroughly vetted and must maintain active insurance coverage to provide services through our platform.\"\n            color={theme.colors.mainColors.main}\n          />\n          <ServiceCard\n            icon=\"tune-variant\"\n            title=\"Customizable Services\"\n            description=\"Professionals can create custom service packages and pricing plans tailored to your specific needs and preferences.\"\n            color={theme.colors.mainColors.quaternary}\n          />\n        </View>\n      </View>\n\n      <Features />\n      <ReviewsSection />\n      <BlogSection />\n\n      {/* Roadmap Section */}\n      <RoadmapSection />\n\n      {/* FAQ Section */}\n      {/* <View style={styles.section}>\n        <Text style={styles.sectionTitle}>FAQs</Text>\n         {faqs.map((faq, index) => (\n          <View key={index} style={styles.faqItem}>\n            <TouchableOpacity \n              style={styles.faqButton}\n              onPress={() => setSelectedFaq(selectedFaq === index ? null : index)}\n            >\n              <Text style={styles.faqQuestion}>{faq.question}</Text>\n              <Text style={styles.faqToggle}>{selectedFaq === index ? '-' : '+'}</Text>\n            </TouchableOpacity>\n            {selectedFaq === index && (\n              <Text style={styles.faqAnswer}>{faq.answer}</Text>\n            )}\n          </View>\n        ))} \n      </View> */}\n\n      {/* Waitlist Section */}\n      <View style={[styles.section, styles.waitlistSection]}>\n        <Text style={styles.sectionTitle}>Join Our Waitlist</Text>\n        <Text style={styles.waitlistDescription}>\n          Get exclusive bonus offers, promotions, and discounts when the app and website launches by signing up on our waitlist today!\n        </Text>\n        <TouchableOpacity \n          style={[styles.actionButton, styles.waitlistButton]} \n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.buttonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Contact Us Section */}\n      <ContactSection />\n\n      {/* Footer */}\n      <View style={styles.footer}>\n        <View style={styles.socialIconsRow}>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://www.instagram.com/thezensitter')}\n          >\n            <FontAwesome name=\"instagram\" size={24} color=\"white\" />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://discord.com/your-profile')}\n          >\n            <FontAwesome5 name=\"discord\" size={24} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.footerLinksRow}>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'PrivacyPolicy', 'Home')}>Privacy Policy</Text>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'TermsOfService', 'Home')}>Terms of Service</Text>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingBottom: 80, // Add padding to the bottom of the content\n  },\n  heroSection: {\n    height: Platform.OS === 'web' ? '70vh' : windowHeight * 0.5,\n    justifyContent: 'center',\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  heroImage: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n  },\n  heroText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n    color: 'white',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: {width: -1, height: 1},\n    textShadowRadius: 10\n  },\n  section: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignItems: 'center',\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 10,\n    textAlign: 'center',\n    color: 'black',\n  },\n  card: {\n    marginBottom: 10,\n  },\n  appButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 10,\n  },\n  appButton: {\n    width: '45%',\n  },\n  reviewsSection: {\n    // height: 350,\n    marginBottom: 20,\n  },\n  reviewsBackground: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewsOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  reviewsSubtitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 20,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  reviewsContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40, // Add space for indicators\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewCard: {\n    width: 300,\n    height: 200,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginRight: 10,\n  },\n  reviewCardMobile: {\n    width: '100%',\n    height: '100%',\n  },\n  reviewQuote: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n  },\n  reviewText: {\n    fontSize: 18,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginBottom: 15,\n    flex: 1,\n  },\n  reviewAuthorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  reviewerImage: {\n    width: 45,\n    height: 60,\n    borderRadius: 8,\n    marginRight: 10,\n    objectFit: 'cover',\n  },\n  reviewAuthorName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewAuthorTitle: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginTop: 2,\n  },\n  paginationDots: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 10,\n  },\n  paginationDot: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: 'white',\n    margin: 5,\n  },\n  paginationDotActive: {\n    backgroundColor: 'black',\n  },\n  featuresSection: {\n    marginBottom: 80,\n    marginTop: 20,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 10,\n  },\n  toggleButton: {\n    padding: 10,\n    backgroundColor: 'white',\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  featuresContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  featureColumn: {\n    width: SCREEN_WIDTH < 768 ? '90%' : '100%',\n    maxWidth: 600,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  columnTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featuresList: {\n    width: '100%',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 20,\n  },\n  featureItem: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    alignItems: 'flex-start',\n    width: '100%',\n  },\n  featureIconCircle: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 5,\n  },\n  featureIcon: {\n    fontSize: 40,\n  },\n  featureTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featureText: {\n    fontSize: theme.fontSizes.mediumLarge + 2,\n    color: 'black',\n    lineHeight: 22,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    backgroundColor: '#6A6C51',\n    width: '50%',\n    padding: 5,\n    borderRadius: 5,\n    alignItems: 'center',\n  },\n  buttonContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  blogSection: {\n    marginBottom: 20,\n    alignItems: 'center',\n  },\n  blogCard: {\n    width: 300,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    padding: 15,\n    marginRight: 10,\n  },\n  authorContainer: {\n    flexDirection: 'column',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginBottom: 10,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n  },\n  readTime: {\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 16,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  roadmapSection: {\n    marginBottom: 20,\n  },\n  roadmapImage: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  roadmapOverlayText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n  },\n  faqSection: {\n    marginBottom: 20,\n  },\n  faqItem: {\n    marginBottom: 10,\n  },\n  faqButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  faqQuestion: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  faqToggle: {\n    fontSize: 14,\n    color: 'gray',\n  },\n  faqAnswer: {\n    fontSize: 16,\n  },\n  contactSection: {\n    // maxWidth: 800,\n    width: '100%',\n    // display: 'flex',\n    // flexDirection: 'column',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: 20,\n  },\n  contactContainer: {\n    width: '100%',\n    maxWidth: 600,\n  },\n  input: {\n    padding: 10,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 5,\n  },\n  footer: {\n    padding: 20,\n    backgroundColor: theme.colors.primary,\n    alignItems: 'center',\n  },\n  socialIconsRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 15,\n  },\n  socialIcon: {\n    marginHorizontal: 15,\n    padding: 5,\n  },\n  footerLinksRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  footerLink: {\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginHorizontal: 15,\n    textDecorationLine: 'underline',\n  },\n  successMessage: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginTop: 10,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 100,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  validationError: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: -5,\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4,\n  },\n  starIcon: {\n    marginRight: 2,\n  },\n  waitlistSection: {\n    // backgroundColor: '#f5f5f5',\n    marginVertical: 20,\n    borderRadius: 10,\n  },\n  waitlistDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    paddingHorizontal: 20,\n    lineHeight: 24,\n  },\n  waitlistButton: {\n    marginTop: 10,\n    width: '80%',\n    maxWidth: 300,\n    padding: 15,\n  },\n  scrollIndicators: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  scrollIndicatorButton: {\n    padding: 10, // Increase touch target\n    marginHorizontal: -6, // Compensate for padding while maintaining visual spacing\n  },\n  scrollIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: theme.colors.border,\n    marginHorizontal: 4,\n  },\n  scrollIndicatorActive: {\n    backgroundColor: theme.colors.primary,\n    width: 24,\n  },\n  scrollHint: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 10,\n  },\n  scrollHintText: {\n    color: theme.colors.primary,\n    marginRight: 5,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  scrollContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  scrollContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  serviceHighlightsSection: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignItems: 'center',\n  },\n  mainServiceTitle: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 40,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  servicesGrid: {\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    gap: 20,\n    width: '100%',\n  },\n});\n","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, SafeAreaView, StatusBar, Alert } from 'react-native';\nimport { Text, TextInput, Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\n\nconst fetchClientProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        name: 'Alice Johnson',\n        email: 'alice@example.com',\n        phone: '(555) 123-4567',\n        age: '32',\n        address: '123 Main St',\n        city: 'San Francisco',\n        state: 'CA',\n        zip: '94122',\n        country: 'USA',\n        bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://example.com/max.jpg' },\n          { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n          { id: '3', name: 'Rocky', type: 'Dog', breed: 'Beagle', age: 2, photo: 'https://example.com/rocky.jpg' },\n        ],\n        emergencyContact: {\n          name: 'John Smith',\n          phone: '(555) 987-6543',\n        },\n        authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n      });\n    }, 1000);\n  });\n};\n\nconst ClientProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({});\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const { isApprovedProfessional, switchRole } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n\n  useEffect(() => {\n    fetchClientProfileData().then((data) => {\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n    }\n  };\n\n  const saveProfile = async () => {\n    const profileData = {\n      profilePhoto,\n      name,\n      email,\n      phone,\n      age,\n      address,\n      city,\n      state,\n      zip,\n      country,\n      bio,\n      pets,\n      emergencyContact,\n      authorizedHouseholdMembers,\n    };\n\n    setIsLoading(true);\n\n    // Simulate API call to save profile data\n    setTimeout(() => {\n      console.log(\"Profile data saved:\", profileData);\n      setIsLoading(false);\n      Alert.alert(\"Success\", \"Profile saved successfully!\");\n    }, 1000);\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode(prevState => ({...prevState, [section]: !prevState[section]}));\n  };\n\n  const renderEditableField = (label, value, onChangeText, section) => {\n    return editMode[section] ? (\n      <TextInput\n        label={label}\n        value={value}\n        onChangeText={onChangeText}\n        style={styles.input}\n      />\n    ) : (\n      <Text style={styles.fieldText}>{label}: {value}</Text>\n    );\n  };\n\n  const addHouseholdMember = () => {\n    if (editMode.household) {\n      setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, '']);\n    }\n  };\n\n  const updateHouseholdMember = (index, value) => {\n    if (editMode.household) {\n      const updatedMembers = [...authorizedHouseholdMembers];\n      updatedMembers[index] = value;\n      setAuthorizedHouseholdMembers(updatedMembers);\n    }\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300; // Adjust this value based on your popup width\n            const popupHeight = 200; // Adjust this value based on your popup height\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight,\n              left: px - scrollViewX - (popupWidth - width) / 2,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const renderIcon = (name, size, color, onPress) => {\n    return (\n      <TouchableOpacity onPress={onPress}>\n        <Ionicons name={name} size={size} color={color} />\n      </TouchableOpacity>\n    );\n  };\n\n  const ContentWrapper = Platform.OS === 'ios' ? SafeAreaView : View;\n\n  const saveSection = (section) => {\n    // Implement the save logic for each section\n    console.log(`Saving ${section} section`);\n    Alert.alert(\"Success\", `${section} information saved successfully!`);\n    toggleEditMode(section);\n  };\n\n  const handleSwitchToProfessional = () => {\n    switchRole();\n    navigation.navigate('ProfessionalProfile');\n  };\n\n  const handleGoBack = () => {\n    navigation.goBack();\n  };\n\n  const renderSaveButton = (section) => {\n    if (editMode[section]) {\n      return (\n        <Button \n          mode=\"contained\" \n          onPress={() => saveSection(section)}\n          style={styles.sectionSaveButton}\n        >\n          Save {section}\n        </Button>\n      );\n    }\n    return null;\n  };\n\n  const renderProfilePhoto = () => {\n    if (profilePhoto) {\n      return <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />;\n    } else {\n      return (\n        <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n          <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n        </View>\n      );\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return windowWidth < 600 ? '90%' : '60%';\n    }\n    return '90%';\n  };\n\n  // Use isApprovedProfessional from context or localIsApprovedProfessional from AsyncStorage\n  const showSwitchToProfessionalButton = isApprovedProfessional || localIsApprovedProfessional;\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <View style={styles.headerLeft}>\n          <TouchableOpacity onPress={() => navigation.navigate('More')} style={styles.backButton}>\n            <Ionicons name=\"chevron-back\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n          <Text style={styles.headerText}>Client Profile</Text>\n        </View>\n        {showSwitchToProfessionalButton && (\n          <Button \n            mode=\"contained\" \n            onPress={handleSwitchToProfessional}\n            style={styles.switchProfileButton}\n          >\n            Switch to Professional\n          </Button>\n        )}\n      </View>\n      <ScrollView \n        ref={scrollViewRef}\n        contentContainerStyle={styles.scrollViewContent}\n      >\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={styles.profileHeader}>\n            <TouchableOpacity onPress={pickImage}>\n              {renderProfilePhoto()}\n            </TouchableOpacity>\n            <View style={styles.profileInfo}>\n              <Text style={styles.name}>{name}</Text>\n              <Text style={styles.location}>{city}, {state}</Text>\n            </View>\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Personal Information</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('personal'))}\n            </View>\n            {renderEditableField('Name', name, setName, 'personal')}\n            {renderEditableField('Email', email, setEmail, 'personal')}\n            {renderEditableField('Phone', phone, setPhone, 'personal')}\n            {renderEditableField('Age', age, setAge, 'personal')}\n            {renderSaveButton('personal')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Address</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('address'))}\n            </View>\n            {renderEditableField('Address', address, setAddress, 'address')}\n            {renderEditableField('City', city, setCity, 'address')}\n            {renderEditableField('State', state, setState, 'address')}\n            {renderEditableField('ZIP', zip, setZip, 'address')}\n            {renderEditableField('Country', country, setCountry, 'address')}\n            {renderSaveButton('address')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>About Me</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('bio'))}\n            </View>\n            {editMode.bio ? (\n              <TextInput\n                multiline\n                numberOfLines={4}\n                value={bio}\n                onChangeText={setBio}\n                style={styles.bioInput}\n              />\n            ) : (\n              <Text style={styles.fieldText}>{bio}</Text>\n            )}\n            {renderSaveButton('bio')}\n          </View>\n\n          <View style={styles.section}>\n            <TouchableOpacity onPress={() => navigation.navigate('MyPets')}>\n              <Text style={styles.sectionTitle}>My Pets</Text>\n            </TouchableOpacity>\n            {pets.map((pet) => (\n              <TouchableOpacity \n                key={pet.id} \n                style={styles.petItem}\n                onPress={() => navigation.navigate('PetProfile', { petId: pet.id })}\n              >\n                <View style={styles.petItemContent}>\n                  <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n                  <View style={styles.petInfo}>\n                    <Text style={styles.petName}>{pet.name}</Text>\n                    <Text style={styles.petDetails}>{pet.type}  {pet.breed}  {pet.age} years old</Text>\n                  </View>\n                </View>\n              </TouchableOpacity>\n            ))}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Emergency Contact</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('emergency'))}\n            </View>\n            {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({...emergencyContact, name: text}), 'emergency')}\n            {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({...emergencyContact, phone: text}), 'emergency')}\n            {renderSaveButton('emergency')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n              <View style={styles.iconContainer}>\n                <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                  <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n                {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('household'))}\n              </View>\n            </View>\n            {authorizedHouseholdMembers.map((member, index) => (\n              editMode.household ? (\n                <TextInput\n                  key={index}\n                  label={`Member ${index + 1}`}\n                  value={member}\n                  onChangeText={(text) => updateHouseholdMember(index, text)}\n                  style={styles.input}\n                />\n              ) : (\n                <Text key={index} style={styles.fieldText}>{member}</Text>\n              )\n            ))}\n            {editMode.household && (\n              <Button mode=\"outlined\" onPress={addHouseholdMember} style={styles.addButton}>\n                Add Household Member\n              </Button>\n            )}\n            {renderSaveButton('household')}\n          </View>\n        </View>\n      </ScrollView>\n\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  content: {\n    alignSelf: 'center',\n    maxWidth: 800,\n    paddingTop: 16, // Add some padding at the top\n  },\n  switchProfileButton: {\n    alignSelf: 'flex-end',\n    marginBottom: 16,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  sectionSaveButton: {\n    marginTop: 16,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginTop: 10,\n    color: theme.colors.primary,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  fieldText: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  iconContainer: {\n    flexDirection: 'row',\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 10,\n  },\n  modalContent: {\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  modalText: {\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  profileInfo: {\n    alignItems: 'center',\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  switchProfileButton: {\n    backgroundColor: theme.colors.primary,\n  },\n});\n\nexport default ClientProfile;\n","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { theme } from '../styles/theme';\n\nconst FloatingSaveButton = ({ visible, onSave, btnText }) => {\n  if (!visible) return null;\n//   console.log('visible: ', visible)\n\n  return (\n    <View style={[\n      styles.floatingButtonContainer,\n      Platform.OS === 'web' ? styles.webButton : styles.mobileButton\n    ]}>\n      <Button \n        mode=\"contained\" \n        onPress={onSave}\n        style={styles.floatingButton}\n      >\n        {btnText}\n      </Button>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  floatingButtonContainer: {\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 16,\n    zIndex: 9999,\n  },\n  webButton: {\n    position: 'sticky',\n    bottom: 20,\n    backgroundColor: 'transparent',\n  },\n  mobileButton: {\n    position: 'absolute',\n    bottom: Platform.OS === 'web' ? 80 : 100,\n    paddingBottom: Platform.OS === 'web' ? 20 : 20,\n  },\n  floatingButton: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 25,\n    paddingHorizontal: 20,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    maxWidth: 600,\n  },\n});\n\nexport default FloatingSaveButton;","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  Alert,\n  ScrollView,\n  Platform,\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { TIME_OPTIONS, GENERAL_CATEGORIES, SERVICE_TYPE_SUGGESTIONS, ANIMAL_TYPE_SUGGESTIONS } from '../data/mockData';\n\nconst AddServiceModal = ({ \n  visible, \n  onClose, \n  onSave,\n  initialService = null,\n  setHasUnsavedChanges \n}) => {\n  const [currentService, setCurrentService] = useState({\n    serviceName: '',\n    serviceDescription: '',\n    animalTypes: '',\n    rates: { \n      base_rate: '',\n      additionalAnimalRate: '',\n      holidayRate: ''\n    },\n    lengthOfService: '',\n    categories: [],\n  });\n  const [additionalRates, setAdditionalRates] = useState([]);\n  const [showValidationErrors, setShowValidationErrors] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [serviceDropdownPosition, setServiceDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [animalDropdownPosition, setAnimalDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [categoryDropdownPosition, setCategoryDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n\n  const serviceInputRef = useRef(null);\n  const animalInputRef = useRef(null);\n  const categoryInputRef = useRef(null);\n  const timeInputRef = useRef(null);\n\n  const categoryDropdownRef = useRef(null);\n  const animalDropdownRef = useRef(null);\n  const serviceDropdownRef = useRef(null);\n  const timeDropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (initialService) {\n      setCurrentService(initialService);\n      setSelectedCategories(initialService.categories || []);\n      setAdditionalRates(initialService.additionalRates || []);\n    }\n  }, [initialService]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showCategoryDropdown && \n          categoryDropdownRef.current && \n          !categoryDropdownRef.current.contains(event.target)) {\n        setShowCategoryDropdown(false);\n      }\n      if (showAnimalDropdown && \n          animalDropdownRef.current && \n          !animalDropdownRef.current.contains(event.target)) {\n        setShowAnimalDropdown(false);\n      }\n      if (showServiceDropdown && \n          serviceDropdownRef.current && \n          !serviceDropdownRef.current.contains(event.target)) {\n        setShowServiceDropdown(false);\n      }\n      if (showTimeDropdown && \n          timeDropdownRef.current && \n          !timeDropdownRef.current.contains(event.target)) {\n        setShowTimeDropdown(false);\n      }\n    };\n\n    if (visible) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showCategoryDropdown, showAnimalDropdown, showServiceDropdown, showTimeDropdown, visible]);\n\n  const measureDropdown = (inputRef, setPosition, inputType) => {\n    if (inputRef.current) {\n      inputRef.current.measure((x, y, width, height, pageX, pageY) => {\n        setPosition({ \n          top: y + height - 6,\n          left: x, \n          width: '100%',\n        });\n      });\n    }\n  };\n\n  const handleServiceTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, serviceName: text }));\n  };\n\n  const handleAnimalTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, animalTypes: text }));\n  };\n\n  const handleCategorySelect = (category) => {\n    setSelectedCategories(prev => {\n      if (prev.includes(category)) {\n        return prev.filter(c => c !== category);\n      }\n      return [...prev, category];\n    });\n  };\n\n  const getFilteredServiceSuggestions = () => {\n    if (!currentService?.serviceName) return SERVICE_TYPE_SUGGESTIONS;\n    return SERVICE_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.serviceName.toLowerCase())\n    );\n  };\n\n  const getFilteredAnimalSuggestions = () => {\n    if (!currentService?.animalTypes) return ANIMAL_TYPE_SUGGESTIONS;\n    return ANIMAL_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.animalTypes.toLowerCase())\n    );\n  };\n\n  const addAdditionalRate = () => {\n    setAdditionalRates(prev => [...prev, { label: '', value: '', description: '' }]);\n  };\n\n  const updateAdditionalRate = (index, key, value) => {\n    setAdditionalRates(prev =>\n      prev.map((rate, i) => (i === index ? { ...rate, [key]: value } : rate))\n    );\n  };\n\n  const handleAddService = async () => {\n    if (!currentService.serviceName?.trim() ||\n        !currentService.animalTypes?.trim() ||\n        !currentService.rates.base_rate?.trim() ||\n        !currentService.rates.additionalAnimalRate?.trim() ||\n        !currentService.rates.holidayRate?.trim() ||\n        !currentService.lengthOfService?.trim()) {\n      setShowValidationErrors(true);\n      return;\n    }\n\n    try {\n      const serviceToSave = {\n        ...currentService,\n        additionalRates,\n        categories: selectedCategories,\n      };\n\n      await onSave(serviceToSave);\n      setHasUnsavedChanges(true);\n      resetForm();\n      onClose();\n    } catch (error) {\n      console.error('Error saving service:', error);\n      Alert.alert('Error', 'Failed to save service');\n    }\n  };\n\n  const resetForm = () => {\n    setCurrentService({\n      serviceName: '',\n      serviceDescription: '',\n      animalTypes: '',\n      rates: { \n        base_rate: '',\n        additionalAnimalRate: '',\n        holidayRate: ''\n      },\n      lengthOfService: '',\n      categories: [],\n    });\n    setSelectedCategories([]);\n    setAdditionalRates([]);\n    setShowValidationErrors(false);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <ScrollView style={styles.modalScroll}>\n            <Text style={styles.modalTitle}>\n              {initialService ? 'Edit Service' : 'Add New Service'}\n            </Text>\n            \n            <View style={[styles.inputWrapper, { zIndex: 4 }]}>\n              <Text style={styles.inputLabel}>General Categories</Text>\n              <TouchableOpacity\n                ref={categoryInputRef}\n                style={[styles.input, styles.categoryInput]}\n                onPress={() => {\n                  measureDropdown(categoryInputRef, setCategoryDropdownPosition, 'category');\n                  setShowCategoryDropdown(!showCategoryDropdown);\n                }}\n              >\n                <Text style={selectedCategories.length ? styles.selectedText : styles.placeholderText}>\n                  {selectedCategories.length ? selectedCategories.join(', ') : 'Select categories'}\n                </Text>\n                <MaterialCommunityIcons \n                  name={showCategoryDropdown ? \"chevron-up\" : \"chevron-down\"} \n                  size={24} \n                  color={theme.colors.primary} \n                />\n              </TouchableOpacity>\n              {showCategoryDropdown && (\n                <View \n                  ref={categoryDropdownRef}\n                  style={[styles.categoryDropdownContainer, categoryDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.categoryScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {GENERAL_CATEGORIES.map((category, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => handleCategorySelect(category)}\n                        style={styles.categoryItem}\n                      >\n                        <Text style={styles.categoryText}>{category}</Text>\n                        <View style={styles.checkmarkContainer}>\n                          {selectedCategories.includes(category) && (\n                            <MaterialCommunityIcons \n                              name=\"check\" \n                              size={20} \n                              color={theme.colors.primary} \n                            />\n                          )}\n                        </View>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 3 }]}>\n              <Text style={styles.inputLabel}>Animal Type</Text>\n              <TextInput\n                ref={animalInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.animalTypes?.trim() && styles.inputError\n                ]}\n                placeholder=\"Animal Type\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.animalTypes}\n                onChangeText={handleAnimalTypeChange}\n                onFocus={() => {\n                  setShowAnimalDropdown(true);\n                  measureDropdown(animalInputRef, setAnimalDropdownPosition, 'animal');\n                }}\n              />\n              {showAnimalDropdown && (\n                <View \n                  ref={animalDropdownRef}\n                  style={[styles.suggestionsContainer, animalDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredAnimalSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, animalTypes: suggestion }));\n                          setShowAnimalDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 2 }]}>\n              <Text style={styles.inputLabel}>Service Name</Text>\n              <TextInput\n                ref={serviceInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.serviceName?.trim() && styles.inputError\n                ]}\n                placeholder=\"Service Name\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceName}\n                onChangeText={handleServiceTypeChange}\n                onFocus={() => {\n                  setShowServiceDropdown(true);\n                  measureDropdown(serviceInputRef, setServiceDropdownPosition, 'service');\n                }}\n              />\n              {showServiceDropdown && (\n                <View \n                  ref={serviceDropdownRef}\n                  style={[styles.suggestionsContainer, serviceDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredServiceSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, serviceName: suggestion }));\n                          setShowServiceDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Service Description</Text>\n              <TextInput\n                style={[styles.input, styles.descriptionInput]}\n                placeholder=\"Service Description\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceDescription}\n                onChangeText={(text) =>\n                  setCurrentService((prev) => ({ ...prev, serviceDescription: text }))\n                }\n                multiline\n              />\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Length of Service</Text>\n              <TouchableOpacity\n                ref={timeInputRef}\n                style={[\n                  styles.input,\n                  styles.timeInput,\n                  showValidationErrors && !currentService?.lengthOfService?.trim() && styles.inputError\n                ]}\n                onPress={() => setShowTimeDropdown(!showTimeDropdown)}\n              >\n                <Text style={currentService?.lengthOfService ? styles.selectedText : styles.placeholderText}>\n                  {currentService?.lengthOfService || 'Select length of service'}\n                </Text>\n                <MaterialCommunityIcons\n                  name={showTimeDropdown ? 'chevron-up' : 'chevron-down'}\n                  size={24}\n                  color={theme.colors.primary}\n                />\n              </TouchableOpacity>\n              {showTimeDropdown && (\n                <View \n                  ref={timeDropdownRef}\n                  style={styles.timeDropdownContainer}\n                >\n                  <ScrollView\n                    style={{ maxHeight: 200 }}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {TIME_OPTIONS.map((option, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        style={styles.timeDropdownItem}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, lengthOfService: option }));\n                          setShowTimeDropdown(false);\n                        }}\n                      >\n                        <Text\n                          style={[\n                            styles.timeDropdownText,\n                            currentService?.lengthOfService === option && styles.selectedTimeOption,\n                          ]}\n                        >\n                          {option}\n                        </Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <Text style={styles.inputLabel}>Base Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.base_rate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 25\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.base_rate ? `$${currentService.rates.base_rate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    base_rate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Additional Animal Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.additionalAnimalRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 20\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.additionalAnimalRate ? `$${currentService.rates.additionalAnimalRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    additionalAnimalRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Holiday Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.holidayRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 30\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.holidayRate ? `$${currentService.rates.holidayRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    holidayRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            {additionalRates.map((rate, idx) => (\n              <View key={idx} style={styles.additionalRateRow}>\n                <Text style={styles.additionalRateTitle}>Rate #{idx + 1}</Text>\n                <Text style={styles.inputLabel}>Rate Title</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.label?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Animal with medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.label || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'label', text)}\n                />\n                <Text style={styles.inputLabel}>Rate Amount</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.value?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"$ Ex. 20\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  keyboardType=\"decimal-pad\"\n                  value={rate.value ? `$${rate.value}` : ''}\n                  onChangeText={(value) => updateAdditionalRate(idx, 'value', value.replace(/[^0-9.]/g, '').replace('$', ''))}\n                />\n                <Text style={styles.inputLabel}>Rate Description</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.description?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Rate for animal needing medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.description || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'description', text)}\n                />\n                <TouchableOpacity \n                  onPress={() => {\n                    setAdditionalRates(prevRates => prevRates.filter((_, i) => i !== idx));\n                  }}\n                  style={styles.deleteRateButton}\n                >\n                  <Text style={styles.deleteRateButtonText}>Delete Additional Rate</Text>\n                </TouchableOpacity>\n              </View>\n            ))}\n\n            <TouchableOpacity onPress={addAdditionalRate} style={styles.addRateButton}>\n              <Text style={styles.addRateText}>+ Add Additional Rate</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.modalButtons}>\n            <TouchableOpacity\n              style={styles.cancelButton}\n              onPress={() => {\n                resetForm();\n                onClose();\n              }}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.saveButton} onPress={handleAddService}>\n              <Text style={styles.saveButtonText}>\n                {initialService ? 'Save Changes' : 'Add Service'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '50%',\n  },\n  modalScroll: {\n    maxHeight: '90%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  inputWrapper: {\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.surface,\n    color: theme.colors.text,\n  },\n  inputError: {\n    borderColor: theme.colors.error,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    marginTop: 15,\n    fontWeight: '500',\n  },\n  categoryInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  timeInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  selectedText: {\n    color: theme.colors.text,\n  },\n  placeholderText: {\n    color: theme.colors.placeHolderText,\n  },\n  categoryDropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  categoryScrollView: {\n    maxHeight: 200,\n  },\n  categoryItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  categoryText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  checkmarkContainer: {\n    width: 24,\n    alignItems: 'center',\n  },\n  suggestionsContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  suggestionScrollView: {\n    maxHeight: 200,\n  },\n  suggestionText: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    color: theme.colors.text,\n  },\n  timeDropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  timeDropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  timeDropdownText: {\n    color: theme.colors.text,\n  },\n  selectedTimeOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  descriptionInput: {\n    height: 80,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  additionalRateRow: {\n    marginTop: 20,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  additionalRateTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  deleteRateButton: {\n    backgroundColor: theme.colors.error,\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 10,\n    alignItems: 'center',\n  },\n  deleteRateButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  addRateButton: {\n    marginTop: 15,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    alignItems: 'center',\n  },\n  addRateText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 20,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    marginLeft: 10,\n  },\n  saveButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default AddServiceModal;\n","import React, { useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ProfessionalServiceCard = ({ \n  item, \n  index, \n  isCollapsed, \n  onEdit, \n  onDelete, \n  onToggleCollapse \n}) => {\n  const { screenWidth } = useContext(AuthContext);\n\n  return (\n    <View style={styles.serviceCard}>\n      <View style={styles.topRow}>\n        <Text style={styles.serviceName}>{item.serviceName}</Text>\n        <View style={styles.topRowIcons}>\n          <TouchableOpacity onPress={() => onDelete(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"trash-can\" size={24} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => onEdit(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"pencil\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </View>\n      \n      {isCollapsed ? (\n        <View style={styles.collapsedContent}>\n          <Text style={styles.rateText}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n        </View>\n      ) : (\n        <View style={styles.contentRow}>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Additional Animal: ${item.rates.additionalAnimalRate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Holiday Rate: ${item.rates.holidayRate || 'N/A'}</Text>\n          {item.additionalRates && item.additionalRates.map((rate, idx) => (\n            <Text key={idx} style={[styles.rateText, { \n              fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n            }]}>\n              {rate.label}: ${rate.value} {rate.description ? `(${rate.description})` : ''}\n            </Text>\n          ))}\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Duration: {item.lengthOfService || 'N/A'}</Text>\n        </View>\n      )}\n\n      <TouchableOpacity \n        onPress={() => onToggleCollapse(index)} \n        style={styles.collapseButton}\n      >\n        <MaterialCommunityIcons \n          name={isCollapsed ? \"chevron-down\" : \"chevron-up\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    marginVertical: 8,\n    padding: 12,\n    position: 'relative',\n  },\n  topRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  topRowIcons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  iconButton: {\n    padding: 4,\n  },\n  contentRow: {\n    gap: 4,\n  },\n  collapsedContent: {\n    marginTop: 4,\n  },\n  rateText: {\n    color: theme.colors.text,\n  },\n  collapseButton: {\n    position: 'absolute',\n    bottom: 8,\n    right: 8,\n    padding: 4,\n  },\n});\n\nexport default ProfessionalServiceCard;","import React from 'react';\nimport { Modal, View, Text, TouchableOpacity, StyleSheet, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ConfirmationModal = ({ \n  visible, \n  onClose, \n  onConfirm, \n  actionText,\n  isLoading = false\n}) => {\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalText}>\n            Are you sure you want to {actionText}?\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.cancelButton]}\n              onPress={onClose}\n              disabled={isLoading}\n            >\n              <Text style={[\n                styles.cancelButtonText,\n                isLoading && styles.disabledText\n              ]}>\n                Cancel\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              style={[\n                styles.button, \n                styles.confirmButton,\n                isLoading && styles.disabledButton\n              ]}\n              onPress={onConfirm}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n              ) : (\n                <Text style={styles.confirmButtonText}>Confirm</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 400,\n  },\n  modalText: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    textAlign: 'center',\n    color: theme.colors.text,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  confirmButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  confirmButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  disabledText: {\n    opacity: 0.5,\n  },\n});\n\nexport default ConfirmationModal;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, FlatList } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddServiceModal from './AddServiceModal';\nimport ProfessionalServiceCard from './ProfessionalServiceCard';\nimport ConfirmationModal from './ConfirmationModal';\nimport { Portal } from 'react-native-paper';\n\nconst ServiceManager = ({ services, setServices, setHasUnsavedChanges, isProfessionalTab = false }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [editingService, setEditingService] = useState(null);\n  const [collapsedServices, setCollapsedServices] = useState([]);\n  const [allCollapsed, setAllCollapsed] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [serviceToDelete, setServiceToDelete] = useState(null);\n  const [hoveredButton, setHoveredButton] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState(null);\n  const [collapseTooltipPosition, setCollapseTooltipPosition] = useState(null);\n  const buttonRef = useRef(null);\n  const collapseButtonRef = useRef(null);\n\n  const toggleCollapseAll = () => {\n    if (allCollapsed) {\n      setCollapsedServices([]);\n    } else {\n      setCollapsedServices(services.map((_, index) => index));\n    }\n    setAllCollapsed(!allCollapsed);\n  };\n\n  const handleEditService = (index) => {\n    const serviceToEdit = { ...services[index], index };\n    setEditingService(serviceToEdit);\n    setShowModal(true);\n  };\n\n  const handleDeleteService = (index) => {\n    setServiceToDelete(index);\n    setShowDeleteModal(true);\n  };\n\n  const handleSaveService = (updatedService) => {\n    if (editingService !== null) {\n      setServices(prev => \n        prev.map((service, index) => \n          index === editingService.index ? updatedService : service\n        )\n      );\n    } else {\n      setServices(prev => [...prev, updatedService]);\n    }\n    setHasUnsavedChanges(true);\n    setEditingService(null);\n  };\n\n  const toggleCollapse = (index) => {\n    setCollapsedServices((prev) =>\n      prev.includes(index)\n        ? prev.filter((i) => i !== index)\n        : [...prev, index]\n    );\n  };\n\n  const confirmDelete = () => {\n    setServices(prevServices => \n      prevServices.filter((_, i) => i !== serviceToDelete)\n    );\n    setHasUnsavedChanges(true);\n    setShowDeleteModal(false);\n  };\n\n  const showTooltip = (ref, tooltipText, setPosition) => {\n    if (ref.current) {\n      setTimeout(() => {\n        // Get the button's DOM element\n        const element = ref.current;\n        // Get the button's bounding rectangle relative to the viewport\n        const rect = element.getBoundingClientRect();\n        \n        \n        setPosition({\n          x: rect.left + (rect.width / 2),\n          y: rect.top, // Position tooltip at the top of the button\n          text: tooltipText\n        });\n        \n        \n        setHoveredButton(tooltipText);\n      }, 0);\n    }\n  };\n\n  // {console.log('Services:', services)}\n\n  return (\n    <View style={styles.container}>\n      <View style={[styles.serviceListContainer, { paddingHorizontal: isProfessionalTab ? 0 : 20 }]}>\n        <View style={styles.headerButtons}>\n          <Text style={styles.sectionTitle}>Services</Text>\n          <View style={styles.headerActions}>\n            <TouchableOpacity \n              ref={collapseButtonRef}\n              onPress={toggleCollapseAll} \n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(\n                    collapseButtonRef, \n                    allCollapsed ? 'Expand All' : 'Collapse All', \n                    setCollapseTooltipPosition\n                  );\n                } catch (error) {\n                  console.error('Error showing collapse tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setCollapseTooltipPosition(null);\n              }}\n            >\n              <MaterialCommunityIcons \n                name={allCollapsed ? \"chevron-down\" : \"chevron-up\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              ref={buttonRef}\n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(buttonRef, 'Add Service', setTooltipPosition);\n                } catch (error) {\n                  console.error('Error showing add tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setTooltipPosition(null);\n              }}\n              onPress={() => {\n                setEditingService(null);\n                setShowModal(true);\n              }}\n            >\n              <MaterialCommunityIcons \n                name=\"plus\" \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        {(Array.isArray(services) && services.length > 0) ? (\n          <FlatList\n            data={services}\n            renderItem={({ item, index }) => {\n              // console.log('Before ProfessionalServiceCard render:', { item, index });\n              \n              if (!item || typeof item !== 'object') {\n                console.warn('Invalid item detected:', item);\n                return null;\n              }\n              \n              return (\n                <ProfessionalServiceCard\n                  key={`service-${index}`}\n                  item={item}\n                  {...item}\n                  service={item}\n                  onEdit={() => handleEditService(index)}\n                  onDelete={() => handleDeleteService(index)}\n                  isCollapsed={collapsedServices.includes(index)}\n                  onToggleCollapse={() => toggleCollapse(index)}\n                  isProfessionalTab={isProfessionalTab}\n                />\n              );\n            }}\n            keyExtractor={(item, index) => `service-${index}`}\n          />\n        ) : (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>No services yet</Text>\n            <TouchableOpacity \n              style={styles.addButton}\n              onPress={() => setShowModal(true)}\n            >\n              <Text style={styles.addButtonText}>Add Services</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      </View>\n      \n\n      <AddServiceModal\n        visible={showModal}\n        onClose={() => {\n          setShowModal(false);\n          setEditingService(null);\n        }}\n        onSave={handleSaveService}\n        initialService={editingService}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n      />\n\n      <ConfirmationModal\n        visible={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        onConfirm={confirmDelete}\n        actionText=\"delete this service\"\n      />\n\n      {tooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: tooltipPosition.y - 40,\n                left: tooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{tooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n\n      {collapseTooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: collapseTooltipPosition.y - 40,\n                left: collapseTooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{collapseTooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 9998,\n    elevation: 9998,\n  },\n  serviceListContainer: {\n    flex: 1,\n    paddingVertical: 0,\n  },\n  headerButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerButton: {\n    marginLeft: 20,\n    padding: 8,\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  buttonTooltip: {\n    position: 'absolute',\n    bottom: '100%',\n    left: '50%',\n    transform: [{ translateX: -35 }],\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    width: 70,\n    textAlign: 'center',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -1,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 10000,\n    elevation: 10000,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  portalTooltip: {\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    width: 70,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  tooltipText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  emptyText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    marginBottom: 20,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n});\n\nexport default ServiceManager;\n","import React from 'react';\nimport { View, Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst RecordedPets = ({ pets }) => {\n  return (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>My Pets</Text>\n      {pets.map((pet) => (\n        <TouchableOpacity key={pet.id} style={styles.petItem}>\n          <View style={styles.petItemContent}>\n            <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type}  {pet.breed}  {pet.age} years old</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      ))}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n});\n\nexport default RecordedPets;","import React from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst EditableSection = ({ \n  title, \n  value, \n  onChangeText, \n  editMode, \n  toggleEditMode, \n  setHasUnsavedChanges,\n  getContentWidth,\n  multiline = true \n}) => {\n  const renderEditableField = () => {\n    return editMode ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${title.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  return (\n    <View style={styles.section}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <TouchableOpacity onPress={toggleEditMode}>\n          <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n        </TouchableOpacity>\n      </View>\n      {renderEditableField()}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    // marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n});\n\nexport default EditableSection;","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  Image,\n  TouchableOpacity,\n  ScrollView,\n  StyleSheet,\n  Modal,\n} from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport ServiceManager from './ServiceManager';\nimport { theme } from '../styles/theme';\nimport RecordedPets from './RecordedPets';\nimport EditableSection from './EditableSection';\nimport * as ImagePicker from 'expo-image-picker';\n\nconst ProfessionalTab = ({ \n  services, \n  setServices, \n  setHasUnsavedChanges,\n  getContentWidth,\n  pets,\n  editMode,\n  toggleEditMode\n}) => {\n  const [professionalPhoto, setProfessionalPhoto] = useState(null);\n  const [professionalBio, setProfessionalBio] = useState('');\n  const [portfolioPhotos, setPortfolioPhotos] = useState([]);\n  const [facilities, setFacilities] = useState('');\n  const [skills, setSkills] = useState({\n    certifications: [],\n    experience: '',\n    specialties: [],\n  });\n  const [selectedFacilities, setSelectedFacilities] = useState([]);\n  const [facilitiesModalVisible, setFacilitiesModalVisible] = useState(false);\n  const [tempSelectedFacilities, setTempSelectedFacilities] = useState([]);\n\n  const FACILITY_OPTIONS = [\n    // Living Situation\n    { id: 'apartment', label: 'Lives in an apartment' },\n    { id: 'house', label: 'Lives in a house' },\n    { id: 'fenced_yard', label: 'Has a fenced yard' },\n    \n    // Household Environment\n    { id: 'non_smoking', label: 'Non-smoking household' },\n    { id: 'no_children', label: 'No children present' },\n    { id: 'has_children', label: 'Children present' },\n    { id: 'security_system', label: 'Has security system' },\n    \n    // Pet Policies\n    { id: 'dogs_bed', label: 'Dogs allowed on bed' },\n    { id: 'dogs_furniture', label: 'Dogs allowed on furniture' },\n    { id: 'crate_available', label: 'Crate available' },\n    { id: 'separate_areas', label: 'Can separate pets' },\n    \n    // Care Details\n    { id: 'potty_0_2', label: 'Potty breaks every 0-2 hours' },\n    { id: 'potty_2_4', label: 'Potty breaks every 2-4 hours' },\n    { id: 'potty_4_6', label: 'Potty breaks every 4-6 hours' },\n    \n    // Resident Pets\n    { id: 'no_pets', label: 'No resident pets' },\n    { id: 'has_dogs', label: 'Has resident dogs' },\n    { id: 'has_cats', label: 'Has resident cats' },\n    \n    // Additional Features\n    { id: 'air_conditioned', label: 'Air-conditioned' },\n    { id: 'outdoor_area', label: 'Has outdoor play area' },\n    { id: 'emergency_transport', label: 'Emergency transport available' },\n  ];\n\n  const pickProfessionalPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfessionalPhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const addPortfolioPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: false,\n      quality: 1,\n      aspect: [4, 3],\n      allowsMultipleSelection: true,\n      selectionLimit: 10,\n    });\n\n    if (!result.canceled) {\n      const newPhotos = result.assets.map(asset => ({\n        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        uri: asset.uri,\n        caption: 'New portfolio photo'\n      }));\n      \n      setPortfolioPhotos(prev => [...prev, ...newPhotos]);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, multiline = false) => {\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${label.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  const toggleFacility = (facilityId) => {\n    setSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n    setHasUnsavedChanges(true);\n  };\n\n  const openFacilitiesModal = () => {\n    setTempSelectedFacilities([...selectedFacilities]);\n    setFacilitiesModalVisible(true);\n  };\n\n  const saveFacilities = () => {\n    setSelectedFacilities(tempSelectedFacilities);\n    setFacilitiesModalVisible(false);\n    setHasUnsavedChanges(true);\n  };\n\n  const toggleTempFacility = (facilityId) => {\n    setTempSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n  };\n\n  return (\n    <View style={styles.centeredContent}>\n      {/* Professional Photo Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Profile Photo (Professional)</Text>\n        </View>\n        <View style={styles.profileHeader}>\n          <TouchableOpacity onPress={pickProfessionalPhoto}>\n            {professionalPhoto ? (\n              <Image source={{ uri: professionalPhoto }} style={styles.profilePhoto} />\n            ) : (\n              <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n              </View>\n            )}\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {/* Professional Bio Section */}\n      <EditableSection\n        title=\"Professional Bio\"\n        value={professionalBio}\n        onChangeText={setProfessionalBio}\n        editMode={editMode.professionalBio}\n        toggleEditMode={() => toggleEditMode('professionalBio')}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n        getContentWidth={getContentWidth}\n      />\n\n      {/* Services Section */}\n      <View style={styles.section}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={true}\n        />\n      </View>\n\n      {/* Portfolio Photos Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Portfolio Photos</Text>\n          <TouchableOpacity onPress={addPortfolioPhoto}>\n            <MaterialCommunityIcons \n              name=\"plus\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.portfolioGrid}>\n          {portfolioPhotos.map((photo) => (\n            <TouchableOpacity \n              key={photo.id} \n              style={styles.portfolioCard}\n              onPress={() => {\n                // Handle photo edit/view\n                // Could add modal to edit caption or view full size\n              }}\n            >\n              <View style={styles.portfolioImageContainer}>\n                <Image \n                  source={{ uri: photo.uri }} \n                  style={styles.portfolioPhoto} \n                />\n              </View>\n              <Text style={styles.portfolioCaption}>{photo.caption}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n        {portfolioPhotos.length === 0 && (\n          <Text style={styles.emptyText}>\n            No portfolio photos added yet\n          </Text>\n        )}\n      </View>\n        \n      { /* My Pets Section (Read-Only) */}\n      <RecordedPets pets={pets} />\n\n      {/* Home & Facilities Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Home & Facilities</Text>\n          <TouchableOpacity onPress={openFacilitiesModal}>\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.facilitiesContainer}>\n          {selectedFacilities.map((facilityId) => {\n            const facility = FACILITY_OPTIONS.find(f => f.id === facilityId);\n            return (\n              <View key={facilityId} style={styles.facilityTag}>\n                <Text style={styles.facilityTagText}>{facility.label}</Text>\n              </View>\n            );\n          })}\n          {selectedFacilities.length === 0 && (\n            <Text style={styles.emptyText}>No facilities selected</Text>\n          )}\n        </View>\n\n        {/* Facilities Selection Modal */}\n        <Modal\n          visible={facilitiesModalVisible}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setFacilitiesModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <View style={styles.modalContent}>\n              <View style={styles.modalHeader}>\n                <Text style={styles.modalTitle}>Select Home & Facilities</Text>\n                <TouchableOpacity onPress={() => setFacilitiesModalVisible(false)}>\n                  <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n                </TouchableOpacity>\n              </View>\n              \n              <ScrollView style={styles.modalScroll}>\n                {FACILITY_OPTIONS.map((facility) => (\n                  <TouchableOpacity\n                    key={facility.id}\n                    style={[\n                      styles.modalFacilityTag,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagSelected\n                    ]}\n                    onPress={() => toggleTempFacility(facility.id)}\n                  >\n                    <Text style={[\n                      styles.modalFacilityText,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagTextSelected\n                    ]}>\n                      {facility.label}\n                    </Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n\n              <View style={styles.modalFooter}>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.cancelButton]}\n                  onPress={() => setFacilitiesModalVisible(false)}\n                >\n                  <Text style={styles.modalButtonText}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.saveButton]}\n                  onPress={saveFacilities}\n                >\n                  <Text style={styles.modalButtonText2}>Save</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </Modal>\n      </View>\n\n      {/* Skills & Experience Section */}\n      {/* <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Skills & Experience</Text>\n          <TouchableOpacity onPress={() => toggleEditMode('skills')}>\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n        {renderEditableField('Experience', skills.experience, \n          (text) => setSkills(prev => ({ ...prev, experience: text })), \n          'skills', \n          true\n        )}\n      </View> */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n    width: '100%',\n    maxWidth: 600,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  portfolioGrid: {\n    width: '100%',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  portfolioCard: {\n    width: '48%',\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    overflow: 'hidden',\n    elevation: 2,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.23,\n    shadowRadius: 2.62,\n  },\n  portfolioImageContainer: {\n    aspectRatio: 4/3,\n    width: '100%',\n  },\n  portfolioPhoto: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n  },\n  portfolioCaption: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    padding: 8,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.placeholder,\n    marginTop: 16,\n  },\n  facilitiesContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    paddingHorizontal: 4,\n  },\n  facilityTag: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  facilityTagSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  facilityTagText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.small,\n  },\n  facilityTagTextSelected: {\n    color: theme.colors.surface,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  modalScroll: {\n    maxHeight: '70%',\n  },\n  modalFacilityTag: {\n    padding: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  modalFacilityText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n  },\n  modalFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n  },\n  modalButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '48%',\n    alignItems: 'center',\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  modalButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  modalButtonText2: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ProfessionalTab;","import React, { useState } from 'react';\nimport { Platform, TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\n\n// Called in DefaultSettingsModal.js\n// Called in MyProfile.js\n// Called in BookingDetails.js\n\nconst DatePicker = ({ \n  value, \n  onChange, \n  placeholder = 'Select Date',\n  displayFormat = (date) => date // Optional custom display format\n}) => {\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const dateValue = value ? new Date(value) : new Date();\n\n  const handleChange = (event, selectedDate) => {\n    if (Platform.OS === 'android') {\n      setShowDatePicker(false);\n    }\n    if (selectedDate) {\n      onChange(selectedDate.toISOString().split('T')[0]);\n    }\n  };\n\n  if (Platform.OS === 'web') {\n    return (\n      <input\n        type=\"date\"\n        value={value || ''}\n        onChange={(e) => onChange(e.target.value)}\n        style={styles.webDatePicker}\n      />\n    );\n  } else if (Platform.OS === 'ios') {\n    return (\n      <DateTimePicker\n        value={dateValue}\n        mode=\"date\"\n        display=\"default\"\n        onChange={handleChange}\n      />\n    );\n  } else {\n    return (\n      <>\n        <TouchableOpacity \n          onPress={() => setShowDatePicker(true)}\n          style={styles.androidButton}\n        >\n          <Text style={styles.dateText}>\n            {value ? displayFormat(value) : placeholder}\n          </Text>\n        </TouchableOpacity>\n        {Platform.OS === 'android' && showDatePicker && (\n          <DateTimePicker\n            value={dateValue}\n            mode=\"date\"\n            display=\"default\"\n            onChange={handleChange}\n          />\n        )}\n      </>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  webDatePicker: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontSize: theme.fontSizes.medium,\n  },\n  androidButton: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default DatePicker;","import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst BackHeader = ({ \n  title, \n  onBackPress, \n  rightIcon = null, // Optional right icon\n  onRightPress = null, // Optional right icon press handler\n  rightComponent = null, // Add this prop\n  customStyles = {} \n}) => {\n  const navigation = useNavigation();\n\n  return (\n    <View style={[styles.header, customStyles]}>\n      <TouchableOpacity onPress={onBackPress} style={styles.backButton}>\n        <MaterialCommunityIcons \n          name=\"arrow-left\" \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n      \n      <Text style={styles.headerText}>{title}</Text>\n      \n      {rightComponent ? rightComponent : (\n        rightIcon && (\n          <TouchableOpacity \n            onPress={onRightPress} \n            style={styles.rightButton}\n          >\n            <MaterialCommunityIcons \n              name={rightIcon} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        )\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n    zIndex: 100,\n    elevation: 100,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    flex: 1, // This allows the title to take up remaining space\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rightButton: {\n    marginLeft: 16,\n  },\n});\n\nexport default BackHeader;","import React, { useState, useEffect } from 'react';\nimport { View, SafeAreaView, Platform, StatusBar, StyleSheet, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst CrossPlatformView = ({ \n  children, \n  style,\n  useSafeArea = true,\n  backgroundColor = theme.colors.background,\n  fullWidthHeader = false,\n  contentWidth = '800px'\n}) => {\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  // For web platform\n  if (Platform.OS === 'web') {\n    // Split children into header and content if fullWidthHeader is true\n    const headerContent = fullWidthHeader ? children[0] : null;\n    const mainContent = fullWidthHeader ? children.slice(1) : children;\n\n    return (\n      <div style={{ \n        backgroundColor, \n        width: '100%',\n        maxWidth: '100vw',\n        overflowX: 'hidden'\n      }}>\n        {fullWidthHeader && (\n          <div style={{ \n            width: '100%', \n            backgroundColor,\n            maxWidth: '100vw',\n            overflowX: 'hidden'\n          }}>\n            {headerContent}\n          </div>\n        )}\n        <div style={{\n          ...styles.webContainer,\n          ...style,\n          maxWidth: contentWidth,\n          margin: '0 auto',\n          width: '100%',\n          overflowX: 'hidden'\n        }}>\n          {mainContent}\n        </div>\n      </div>\n    );\n  }\n\n  // For iOS\n  if (Platform.OS === 'ios' && useSafeArea) {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor }, style]}>\n        {children}\n      </SafeAreaView>\n    );\n  }\n\n  // For Android or when SafeAreaView is disabled\n  return (\n    <View style={[\n      styles.container,\n      { \n        paddingTop: useSafeArea ? StatusBar.currentHeight : 0,\n        backgroundColor \n      },\n      style\n    ]}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n    width: '100%',\n    maxWidth: '100%',\n    overflow: 'hidden',\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default CrossPlatformView;","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { View, ScrollView, StyleSheet, Text, TextInput, TouchableOpacity, Image, Platform, StatusBar, Alert, useWindowDimensions } from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport { Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport ServiceManager from '../components/ServiceManager';\nimport ProfessionalTab from '../components/ProfessionalTab';\nimport RecordedPets from '../components/RecordedPets';\nimport EditableSection from '../components/EditableSection';\nimport DatePicker from '../components/DatePicker';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { DEFAULT_SERVICES } from '../data/mockData';\n\nconst MyProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({\n    professional: false,\n    services: false,\n    bio: false,\n    professionalBio: false,\n    portfolio: false,\n    facilities: false,\n    skills: false,\n  });\n\n  const [services, setServices] = useState(DEFAULT_SERVICES);\n  \n  const [activeTab, setActiveTab] = useState('client');\n  const [rates, setRates] = useState({\n    inHouse: '',\n    overnight: '',\n    dropBys: '',\n    boarding: '',\n    dayCare: '',\n  });\n  const { isApprovedProfessional } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const [photoNeedsSaving, setPhotoNeedsSaving] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [birthday, setBirthday] = useState('');\n  const [calculatedAge, setCalculatedAge] = useState(null);\n\n  useEffect(() => {\n    const fetchMyProfileData = async () => {\n      // Simulate fetching profile data\n      const data = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            name: 'Alice Johnson',\n            email: 'alice@example.com',\n            phone: '(555) 123-4567',\n            age: '32',\n            address: '123 Main St',\n            city: 'San Francisco',\n            state: 'CA',\n            zip: '94122',\n            country: 'USA',\n            bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n            pets: [\n              { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://www.google.com/imgres?q=dog%20photo%20with%20https%20url&imgurl=https%3A%2F%2Fdog.ceo%2Fimg%2Fdog-api-fb.jpg&imgrefurl=https%3A%2F%2Fdog.ceo%2Fdog-api%2F&docid=BfjWdSj7jNl2rM&tbnid=gvZ-PT7ESUiKRM&vet=12ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA..i&w=1200&h=630&hcb=2&ved=2ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA' },\n              { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n              { id: '3', name: 'Rocky', type: 'Exotic', breed: 'Lizard Gecko', age: 2, photo: 'https://example.com/rocky.jpg' },\n            ],\n            emergencyContact: {\n              name: 'John Smith',\n              phone: '(555) 987-6543',\n            },\n            authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n          });\n        }, 1000);\n      });\n\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    };\n\n    fetchMyProfileData();\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const saveProfilePhoto = () => {\n    setPhotoNeedsSaving(false);\n    Alert.alert('Success', 'Profile photo updated successfully');\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300;\n            const popupHeight = 200;\n            \n            // Calculate position relative to window width to prevent overflow\n            const maxLeftPosition = windowWidth - popupWidth - 20; // 20px safety margin\n            const calculatedLeft = px - (popupWidth / 2);\n            const safeLeft = Math.min(maxLeftPosition, Math.max(20, calculatedLeft));\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight - 10, // 10px gap above the icon\n              left: safeLeft,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode((prevState) => ({ ...prevState, [section]: !prevState[section] }));\n  };\n\n  const getContentWidth = () => {\n    // For web, cap at 600px, for mobile use window width minus padding\n    if (Platform.OS === 'web') {\n      return '100%';\n    }\n    // For mobile, account for safe areas and padding\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, type = 'text') => {\n    const isBio = label.toLowerCase() === 'bio';\n    \n    if (type === 'birthday') {\n      return editMode[section] ? (\n        <View style={[styles.input, { width: getContentWidth() }]}>\n          <DatePicker\n            value={birthday}\n            onChange={updateBirthday} // TODO: need to implement the backend call here\n            placeholder=\"Select Birthday\"\n          />\n        </View>\n      ) : (\n        <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n          {`Age: ${calculatedAge || age || 'Not specified'}`}\n        </Text>\n      );\n    }\n\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          isBio && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={isBio}\n        numberOfLines={isBio ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {isBio ? value : `${label}: ${value || 'Not specified'}`}\n      </Text>\n    );\n  };\n\n  const saveChanges = () => {\n    setHasUnsavedChanges(false);\n    setEditMode({}); // Reset all edit modes to false\n    Alert.alert('Success', 'Changes saved successfully');\n  };\n\n  const updateBirthday = async (date) => {\n    setBirthday(date);\n    setHasUnsavedChanges(true);\n    \n    try {\n      // Replace with your actual API endpoint\n      const response = await fetch('/api/calculate-age', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ birthday: date }),\n      });\n      \n      const data = await response.json();\n      setCalculatedAge(data.age);\n    } catch (error) {\n      console.error('Error calculating age:', error);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"My Profile\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView \n        ref={scrollViewRef} \n        contentContainerStyle={styles.scrollViewContent}\n        style={styles.scrollView}\n      >\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n            style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n            <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>Account Info</Text>\n          </TouchableOpacity>\n          {isApprovedProfessional && (\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n              onPress={() => setActiveTab('professional')}\n            >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>Professional</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n        {activeTab === 'client' && (\n          <View style={styles.centeredContent}>\n            <View style={styles.profileHeader}>\n              <Text style={styles.name}>Profile Photo</Text>\n              <TouchableOpacity onPress={pickImage}>\n                {profilePhoto ? (\n                  <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />\n                ) : (\n                  <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                    <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n                  </View>\n                )}\n              </TouchableOpacity>\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Personal Information</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('personal')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', name, setName, 'personal')}\n              {renderEditableField('Email', email, setEmail, 'personal')}\n              {renderEditableField('Phone', phone, setPhone, 'personal')}\n              {renderEditableField('Birthday', birthday, setBirthday, 'personal', 'birthday')}\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Address</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('address')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Address', address, setAddress, 'address')}\n              {renderEditableField('City', city, setCity, 'address')}\n              {renderEditableField('State', state, setState, 'address')}\n              {renderEditableField('ZIP', zip, setZip, 'address')}\n              {renderEditableField('Country', country, setCountry, 'address')}\n              {/* {editMode.address && <Button mode=\"contained\" onPress={() => toggleEditMode('address')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <EditableSection\n              title=\"About Me\"\n              value={bio}\n              onChangeText={setBio}\n              editMode={editMode.bio}\n              toggleEditMode={() => toggleEditMode('bio')}\n              setHasUnsavedChanges={setHasUnsavedChanges}\n              getContentWidth={getContentWidth}\n            />\n            <RecordedPets pets={pets} />\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Emergency Contact</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('emergency')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({ ...emergencyContact, name: text }), 'emergency')}\n              {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({ ...emergencyContact, phone: text }), 'emergency')}\n              {/* {editMode.emergency && <Button mode=\"contained\" onPress={() => toggleEditMode('emergency')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <View style={[\n              styles.section, \n              Platform.OS !== 'web' && styles.lastSection\n            ]}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n                <View style={styles.iconContainer}>\n                  <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                    <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                  <TouchableOpacity onPress={() => toggleEditMode('household')}>\n                    <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                </View>\n              </View>\n              {authorizedHouseholdMembers.map((member, index) => (\n                editMode.household ? (\n                  <TextInput\n                    key={index}\n                    value={member}\n                    onChangeText={(text) => {\n                      const updatedMembers = [...authorizedHouseholdMembers];\n                      updatedMembers[index] = text;\n                      setHasUnsavedChanges(true);\n                      setAuthorizedHouseholdMembers(updatedMembers);\n                    }}\n                    style={[styles.input, { width: getContentWidth() }]}\n                  />\n                ) : (\n                  <Text key={index} style={[styles.fieldText, { width: getContentWidth() }]}>{member}</Text>\n                )\n              ))}\n              {editMode.household && (\n                <View style={{ width: getContentWidth() }}>\n                  <Button \n                    mode=\"outlined\" \n                    onPress={() => setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, ''])} \n                    style={styles.addButton}\n                  >\n                    Add Household Member\n                  </Button>\n                </View>\n              )}\n            </View>\n          </View>\n        )}\n        {activeTab === 'professional' && (\n          <ProfessionalTab\n            services={services}\n            setServices={setServices}\n            setHasUnsavedChanges={setHasUnsavedChanges}\n            getContentWidth={getContentWidth}\n            pets={pets}\n            editMode={editMode}\n            toggleEditMode={toggleEditMode}\n          />\n        )}\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={saveChanges}\n        btnText={'Save Changes'}\n      />\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    padding: 16,\n    alignItems: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n    // borderWidth: 1,\n    // borderColor: theme.colors.border,\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    marginHorizontal: 5,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  profilePhoto: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: '#fff',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: '#fff',\n    borderWidth: 1,\n    borderColor: theme.colors.placeholder,\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  lastSection: {\n    marginBottom: 100, // Extra padding for last section on mobile\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 10,\n    borderRadius: 5,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    marginTop: 10,\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    maxWidth: '90vw', // Ensure popup doesn't exceed viewport width\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    // marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  fieldText: {\n    marginBottom: 10,\n  },\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  fieldContainer: {\n    marginBottom: 16,\n  },\n  fieldLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 4,\n  },\n  birthdayContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 16,\n  },\n  ageText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default MyProfile;\n","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nexport default function CustomButton({ title, onPress }) {\n  return (\n    <TouchableOpacity style={styles.button} onPress={onPress}>\n      <Text style={styles.buttonText}>{title}</Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingVertical: theme.spacing.small,\n    paddingHorizontal: theme.spacing.medium,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginVertical: theme.spacing.small,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useContext, useEffect } from 'react';\nimport { View, TextInput, Text, StyleSheet, TouchableOpacity, Dimensions, Alert, ActivityIndicator, Platform, Keyboard } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { AuthContext } from '../context/AuthContext';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n  const { signIn, is_prototype } = useContext(AuthContext);\n\n  const handleLogin = async () => {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      Keyboard.dismiss();\n    }\n\n    setLoading(true);\n    try {\n      if (is_prototype) {\n        // Mock tokens for prototype mode\n        const mockAccess = 'mock_access_token';\n        const mockRefresh = 'mock_refresh_token';\n        \n        // Pass mock tokens to signIn and get the status\n        const status = await signIn(mockAccess, mockRefresh);\n        console.log('Sign in status (prototype):', status);\n        \n        // Navigate based on status\n        if (status && status.userRole === 'professional') {\n          navigation.navigate('ProfessionalDashboard');\n        } else {\n          navigation.navigate('Dashboard');\n        }\n        return;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/`, {\n        email: email.toLowerCase(),\n        password: password,\n      });\n\n      const { access, refresh } = response.data;\n      \n      // Pass both tokens to signIn and get the status\n      const status = await signIn(access, refresh);\n      console.log('Sign in status:', status);\n      \n      // Navigate based on status\n      if (status && status.userRole === 'professional') {\n        navigation.navigate('ProfessionalDashboard');\n      } else {\n        navigation.navigate('Dashboard');\n      }\n    } catch (error) {\n      console.error('Login failed', error);\n      const errorMessage = error.response && error.response.status === 401\n        ? 'Invalid credentials. Please try again.'\n        : 'An unexpected error occurred.';\n\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Login Failed', errorMessage);\n      } else {\n        setSuccessMessage(`Login Failed: ${errorMessage}`);\n      }\n\n      setIsEmailValid(false);\n      setIsPasswordValid(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add useEffect to handle document-wide keyboard events\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleDocumentKeyPress = (e) => {\n        if (e.key === 'Enter') {\n          handleLogin();\n        }\n      };\n\n      document.addEventListener('keydown', handleDocumentKeyPress);\n\n      // Cleanup listener when component unmounts\n      return () => {\n        document.removeEventListener('keydown', handleDocumentKeyPress);\n      };\n    }\n  }, [email, password]); // Dependencies ensure we have latest state values\n\n  // Keep the existing handleKeyPress for input fields\n  const handleKeyPress = (e) => {\n    if (Platform.OS === 'web' && e.nativeEvent.key === 'Enter') {\n      handleLogin();\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Sign In</Text>\n      {is_prototype && (\n        <Text style={styles.prototypeWarning}>\n          Prototype Mode: You can sign in with anything for email and password\n        </Text>\n      )}\n      <TextInput\n        style={[styles.input, !isEmailValid && styles.invalidInput]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setIsEmailValid(true);\n        }}\n        autoCapitalize=\"none\"\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <TextInput\n        style={[styles.input, !isPasswordValid && styles.invalidInput]}\n        placeholder=\"Password\"\n        secureTextEntry\n        value={password}\n        onChangeText={(text) => {\n          setPassword(text);\n          setIsPasswordValid(true);\n        }}\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <CustomButton title=\"Login\" onPress={handleLogin} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      <TouchableOpacity onPress={() => navigation.navigate('ResetPassword')}>\n        <Text style={styles.link}>Forgot Password?</Text>\n      </TouchableOpacity>\n      <TouchableOpacity onPress={() => navigation.navigate('SignUp')}>\n        <Text style={styles.link}>Sign Up</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center', // Center the content horizontally\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  invalidInput: {\n    borderColor: 'red',\n  },\n  link: {\n    color: theme.colors.primary,\n    marginTop: theme.spacing.small,\n    textAlign: 'center',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  prototypeWarning: {\n    backgroundColor: '#FFF3CD',\n    color: '#856404',\n    padding: theme.spacing.small,\n    marginBottom: theme.spacing.medium,\n    borderRadius: 4,\n    textAlign: 'center',\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n  },\n});\n","import React, { useState, useContext } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, KeyboardAvoidingView, Platform, ScrollView, Alert } from 'react-native';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext'; // Import AuthContext\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignUp() {\n  const navigation = useNavigation();\n  const { setIsSignedIn } = useContext(AuthContext); // Use AuthContext to update auth state\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleSignUp = async () => {\n    if (password !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    // Updated data structure to match new backend expectations\n    const userData = {\n      name: `${firstName.trim()} ${lastName.trim()}`, // Combine first and last name\n      email: email.trim().toLowerCase(),\n      password: password,\n      password2: confirmPassword, // Add confirmation password\n      phone_number: '', // Add empty phone number for now\n    };\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/register/`, userData);\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Account created successfully!', [\n          { text: 'OK', onPress: () => navigation.navigate('MyProfile') }\n        ]);\n      } else {\n        setSuccessMessage('Account created successfully!');\n        setTimeout(() => {\n          navigation.navigate('MyProfile');\n        }, 1500);\n      }\n      setIsSignedIn(true);\n    } catch (error) {\n      let errorMessage = 'Signup Failed: An error occurred during signup.';\n      if (error.response) {\n        const errorData = error.response.data;\n        // Handle specific field errors\n        if (errorData) {\n          const firstError = Object.entries(errorData)[0];\n          if (firstError) {\n            const [field, messages] = firstError;\n            errorMessage = `${field}: ${Array.isArray(messages) ? messages[0] : messages}`;\n          }\n        }\n      }\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      keyboardVerticalOffset={Platform.OS === 'ios' ? 64 : 0}\n    >\n      <ScrollView contentContainerStyle={styles.scrollContainer}>\n        <Text style={styles.title}>Sign Up</Text>\n        {[\n          { placeholder: \"First Name\", value: firstName, onChangeText: setFirstName },\n          { placeholder: \"Last Name\", value: lastName, onChangeText: setLastName },\n          { placeholder: \"Email\", value: email, onChangeText: setEmail, keyboardType: \"email-address\", autoCapitalize: \"none\" },\n          { placeholder: \"Password\", value: password, onChangeText: setPassword, secureTextEntry: true },\n          { placeholder: \"Confirm Password\", value: confirmPassword, onChangeText: setConfirmPassword, secureTextEntry: true }\n        ].map((input, index) => (\n          <TextInput\n            key={index}\n            style={styles.input}\n            placeholder={input.placeholder}\n            value={input.value}\n            onChangeText={input.onChangeText}\n            keyboardType={input.keyboardType}\n            autoCapitalize={input.autoCapitalize}\n            secureTextEntry={input.secureTextEntry}\n          />\n        ))}\n        <CustomButton title=\"Sign Up\" onPress={handleSignUp} />\n        {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n        {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContainer: {\n    padding: theme.spacing.medium,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexGrow: 1, // Ensure the ScrollView takes up the full height\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, Alert, ActivityIndicator, Dimensions, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPassword() {\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handleResetPassword = async () => {\n    if (!email) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Please enter your email address.');\n      } else {\n        setSuccessMessage('Error: Please enter your email address.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password/`, { email });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'A reset password link has been sent to your email.', [\n          { text: 'OK', onPress: () => navigation.navigate('Home') }\n        ]);\n      } else {\n        setSuccessMessage('A reset password link has been sent to your email.');\n        setTimeout(() => {\n          navigation.navigate('Home');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 404) {\n        setEmailError(true);\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Email is not associated with any user.');\n        } else {\n          setSuccessMessage('Error: Email is not associated with any user.');\n        }\n      } else {\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Failed to send reset password email. Please try again later.');\n        } else {\n          setSuccessMessage('Error: Failed to send reset password email. Please try again later.');\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={[styles.input, emailError && styles.inputError]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setEmailError(false);\n        }}\n        keyboardType=\"email-address\"\n        autoCapitalize=\"none\"\n      />\n      <CustomButton title=\"Reset Password\" onPress={handleResetPassword} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, Alert, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPasswordConfirm({ route }) {\n  const { uid, token } = route.params;\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handlePasswordReset = async () => {\n    if (newPassword !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password-confirm/${uid}/${token}/`, {\n        new_password: newPassword,\n      });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Your password has been reset.', [\n          { text: 'OK', onPress: () => navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm') }\n        ]);\n      } else {\n        setSuccessMessage('Your password has been reset.');\n        setTimeout(() => {\n          navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      const errorMessage = 'Failed to reset password. Please try again later.';\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={styles.input}\n        placeholder=\"New Password\"\n        value={newPassword}\n        onChangeText={setNewPassword}\n        secureTextEntry\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Confirm Password\"\n        value={confirmPassword}\n        onChangeText={setConfirmPassword}\n        secureTextEntry\n      />\n      <CustomButton title=\"Reset Password\" onPress={handlePasswordReset} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useEffect, useContext } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst Dashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { firstName, screenWidth } = useContext(AuthContext);\n  const { signOut } = useContext(AuthContext);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  // Mock data - replace with actual API calls\n  const upcomingBookings = [\n    { id: '56782', profepsronalsional: 'Jane Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', profepsronalsional: 'John Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming pet care services.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {upcomingBookings.map((booking) => (\n              <TouchableOpacity\n                key={booking.id}\n                onPress={() => navigateToFrom(navigation, 'BookingDetails', 'Dashboard', { bookingId: booking.id })}\n                style={styles.bookingItem}\n              >\n                <List.Item\n                  titleStyle={dynamicStyles.listItemTitle}\n                  descriptionStyle={dynamicStyles.listItemDescription}\n                  title={`${booking.pet} with ${booking.profepsronalsional}`}\n                  description={`${booking.date} at ${booking.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button \n              labelStyle={dynamicStyles.buttonText} \n              onPress={() => navigateToFrom(navigation, 'MyBookings', 'Dashboard')}\n            >\n              View All Bookings\n            </Button>\n          </Card.Actions>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"magnify\" size={size} color={color} /> : \"magnify\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'SearchProfessionalsListing', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                Find a Professional\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"paw\" size={size} color={color} /> : \"paw\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'MyPets', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Pets\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 4 : 0,\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n});\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { \n  View, \n  Text, \n  ScrollView, \n  TouchableOpacity, \n  TextInput, \n  KeyboardAvoidingView, \n  Platform, \n  Dimensions,\n  ActivityIndicator,\n  Alert,\n  StyleSheet\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { Picker } from '@react-native-picker/picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport * as Location from 'expo-location';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { mockProfessionals } from '../data/mockData';\n\nconst SearchProfessionals = ({ navigation }) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [showStartDatePicker, setShowStartDatePicker] = useState(false);\n  const [showEndDatePicker, setShowEndDatePicker] = useState(false);\n  const [location, setLocation] = useState({ country: 'USA', state: '', city: 'Colorado Springs' });\n  const [animalType, setAnimalType] = useState('');\n  const [exoticType, setExoticType] = useState('');\n  const [serviceType, setServiceType] = useState('');\n  const [petCount, setPetCount] = useState({ dogs: 0, cats: 0, exotics: 0 });\n  const [repeatService, setRepeatService] = useState('');\n  const [showServicePicker, setShowServicePicker] = useState(false);\n  const [showAnimalTypePicker, setShowAnimalTypePicker] = useState(false);\n  const [showRepeatServicePicker, setShowRepeatServicePicker] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  const styles = StyleSheet.create({\n    contentContainer: {\n      flex: 1,\n      width: '100%',\n      maxWidth: 600,\n      alignSelf: 'center',\n    },\n    scrollContent: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    filtersContainer: {\n      padding: 16,\n    },\n    picker: {\n      marginBottom: 10,\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterInput: {\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterButton: {\n      marginBottom: 10,\n      padding: 10,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterText: {\n      color: theme.colors.text,\n    },\n    petCountContainer: {\n      marginBottom: 20,\n    },\n    petCounter: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginBottom: 10,\n    },\n    petType: {\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    counterControls: {\n      flexDirection: 'row',\n      alignItems: 'center',\n    },\n    petCount: {\n      marginHorizontal: 10,\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    searchButton: {\n      backgroundColor: theme.colors.primary,\n      padding: 12,\n      borderRadius: 5,\n      alignItems: 'center',\n      marginTop: 20,\n    },\n    searchButtonText: {\n      color: '#fff',\n      fontSize: theme.fontSizes.medium,\n    },\n    datePickerContainer: {\n      marginBottom: 10,\n    },\n    webDatePicker: {\n      padding: 5,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      width: '100%',\n    },\n    webHeader: {\n      maxWidth: 1200,\n      width: '100%',\n      alignSelf: 'center',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  });\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  const handleSearch = async () => {\n    setIsLoading(true);\n    try {\n      const { status } = await Location.requestForegroundPermissionsAsync();\n      let userLocation;\n      \n      if (status === 'granted') {\n        const location = await Location.getCurrentPositionAsync({});\n        userLocation = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      } else {\n        userLocation = {\n          latitude: 38.8339,\n          longitude: -104.8214,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      }\n\n      const searchParams = {\n        startDate: startDate.toISOString(),\n        endDate: endDate.toISOString(),\n        location: userLocation,\n        animalType,\n        exoticType,\n        serviceType,\n        petCount,\n        repeatService,\n        initialProfessionals: mockProfessionals.filter(professional => \n          (!serviceType || professional.serviceTypes.includes(serviceType)) &&\n          (!animalType || professional.animalTypes.includes(animalType))\n        )\n      };\n\n      // Store data based on platform\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('searchParams', JSON.stringify(searchParams));\n      } else {\n        await AsyncStorage.setItem('searchParams', JSON.stringify(searchParams));\n      }\n\n      navigation.navigate('SearchProfessionalsListing');\n    } catch (error) {\n      console.error('Error getting location:', error);\n      Alert.alert('Error', 'Failed to get location. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDateChange = (setter) => (event, date) => {\n    if (Platform.OS !== 'web') {\n      setter(date || new Date());\n    }\n  };\n\n  const renderDatePicker = (date, setDate, showPicker, setShowPicker, label) => {\n    if (Platform.OS === 'web') {\n      return (\n        <View style={styles.datePickerContainer}>\n          <Text>{label}:</Text>\n          <input\n            type=\"date\"\n            value={date.toISOString().split('T')[0]}\n            onChange={(e) => setDate(new Date(e.target.value))}\n            style={styles.webDatePicker}\n          />\n        </View>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n            <Text style={styles.filterText}>{label}: {date.toDateString()}</Text>\n          </TouchableOpacity>\n          {showPicker && (\n            <DateTimePicker\n              value={date}\n              mode=\"date\"\n              display={Platform.OS === 'ios' ? 'spinner' : 'default'}\n              onChange={(event, selectedDate) => {\n                setShowPicker(false);\n                if (selectedDate) setDate(selectedDate);\n              }}\n              style={styles.datePicker}\n            />\n          )}\n        </View>\n      );\n    }\n  };\n\n  const renderPicker = (selectedValue, setSelectedValue, showPicker, setShowPicker, label, options) => (\n    <View>\n      <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n        <Text style={styles.filterText}>{label}: {selectedValue || 'Select'}</Text>\n      </TouchableOpacity>\n      {showPicker && (\n        <Picker\n          selectedValue={selectedValue}\n          onValueChange={(itemValue) => {\n            setSelectedValue(itemValue);\n            setShowPicker(false);\n          }}\n          style={styles.picker}\n        >\n          {options.map((option, index) => (\n            <Picker.Item key={index} label={option.label} value={option.value} />\n          ))}\n        </Picker>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Search Professionals\" \n        onBackPress={() => navigation.goBack()}\n      />\n      <KeyboardAvoidingView \n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'} \n        style={styles.contentContainer}\n      >        \n        <ScrollView contentContainerStyle={styles.scrollContent}>\n          <View style={styles.filtersContainer}>\n            {renderPicker(serviceType, setServiceType, showServicePicker, setShowServicePicker, 'Service Type', [\n              { label: 'Select Service Type', value: '' },\n              { label: 'House Sitting', value: 'House Sitting' },\n              { label: 'Dog Walking', value: 'Dog Walking' },\n              { label: 'Drop-ins', value: 'Drop-ins' },\n              { label: 'Boarding', value: 'Boarding' },\n              { label: 'Day Care', value: 'Day Care' },\n              { label: 'Training', value: 'Training' },\n            ])}\n\n            <View style={styles.petCountContainer}>\n              <Text style={styles.label}>Number of Pets:</Text>\n              {['dogs', 'cats', 'exotics'].map((type) => (\n                <View key={type} style={styles.petCounter}>\n                  <Text style={styles.petType}>{type.charAt(0).toUpperCase() + type.slice(1)}</Text>\n                  <View style={styles.counterControls}>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: Math.max(0, petCount[type] - 1) })}>\n                      <MaterialCommunityIcons name=\"minus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                    <Text style={styles.petCount}>{petCount[type]}</Text>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: petCount[type] + 1 })}>\n                      <MaterialCommunityIcons name=\"plus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              ))}\n            </View>\n\n            {animalType === 'exotic' && (\n              <TextInput\n                style={styles.filterInput}\n                placeholder=\"Type of Exotic Pet\"\n                value={exoticType}\n                onChangeText={setExoticType}\n              />\n            )}\n\n            {renderDatePicker(startDate, setStartDate, showStartDatePicker, setShowStartDatePicker, 'Start Date')}\n            {renderDatePicker(endDate, setEndDate, showEndDatePicker, setShowEndDatePicker, 'End Date')}\n\n            {renderPicker(repeatService, setRepeatService, showRepeatServicePicker, setShowRepeatServicePicker, 'One-time or Repeat?', [\n              { label: 'One-time or Repeat?', value: '' },\n              { label: 'One-time', value: 'One-time' },\n              { label: 'Repeat Weekly', value: 'Repeat Weekly' },\n            ])}\n\n            <TouchableOpacity \n              style={[styles.searchButton, isLoading && styles.searchButtonDisabled]} \n              onPress={handleSearch}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator color=\"#fff\" />\n              ) : (\n                <Text style={styles.searchButtonText}>Search</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </CrossPlatformView>\n  );\n};\n\nexport default SearchProfessionals;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst ProfessionalDashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { signOut, firstName, is_prototype, screenWidth, is_DEBUG } = useContext(AuthContext);\n  const [upcomingBookings, setUpcomingBookings] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    emptyStateText: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.smallMedium,\n      marginBottom: 16,\n      textAlign: 'center',\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  const refreshToken = async () => {\n    try {\n      const refreshToken = await AsyncStorage.getItem('refreshToken');\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken,\n      });\n      const { access } = response.data;\n      await AsyncStorage.setItem('userToken', access);\n      return access;\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      await signOut();\n      navigation.navigate('SignIn');\n    }\n  };\n\n  // Prototype data\n  const prototypeBookings = [\n    { id: '56782', client: 'John Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', client: 'Jane Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const fetchDashboardData = async () => {\n    if (is_prototype) {\n      setUpcomingBookings(prototypeBookings);\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setUpcomingBookings(response.data.upcoming_bookings || []);\n    } catch (error) {\n      if (error.response?.status === 401) {\n        const newToken = await refreshToken();\n        if (newToken) {\n          try {\n            const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n              headers: { Authorization: `Bearer ${newToken}` }\n            });\n            setUpcomingBookings(response.data.upcoming_bookings || []);\n          } catch (retryError) {\n            console.error('Error fetching dashboard data after token refresh:', retryError);\n          }\n        }\n      } else {\n        console.error('Error fetching dashboard data:', error);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, [is_prototype]);\n\n  // TODO: Fetch client requests from the backend\n  const clientRequests = [\n    { id: '1', client: 'Alice Johnson', pet: 'Fluffy (Rabbit)', date: '2023-05-20', time: '09:00' },\n    { id: '2', client: 'Bob Williams', pet: 'Spike (Iguana)', date: '2023-05-22', time: '16:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const navigateToServiceManager = async () => {\n    if (is_DEBUG) {\n      console.log('Setting previousRoute to:', 'ProfessionalDashboard');\n      console.log('Setting currentRoute to:', 'ServiceManager');\n    }\n    setTimeout(async () => {\n      await navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard');\n    }, 100);\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {is_prototype ? 'John Doe' : firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming activities.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {isLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"small\" color={colors.primary} />\n              </View>\n            ) : upcomingBookings.length > 0 ? (\n              upcomingBookings.map((booking) => (\n                <TouchableOpacity\n                  key={is_prototype ? booking.id : booking.booking_id}\n                  onPress={() => navigateToFrom(navigation, 'BookingDetails', 'ProfessionalDashboard', { \n                    bookingId: is_prototype ? booking.id : booking.booking_id \n                  })}\n                  style={styles.bookingItem}\n                >\n                  <List.Item\n                    titleStyle={dynamicStyles.listItemTitle}\n                    descriptionStyle={dynamicStyles.listItemDescription}\n                    title={is_prototype ? \n                      `${booking.client} - ${booking.pet}` :\n                      `${booking.client_name} - ${booking.pets.slice(0, 3).map(pet => pet.name).join(', ')}${booking.pets.length > 3 ? '...' : ''} (${booking.pets.slice(0, 3).map(pet => pet.species).join(', ')}${booking.pets.length > 3 ? '...' : ''})`\n                    }\n                    description={is_prototype ?\n                      `${booking.date} at ${booking.time}` :\n                      `${booking.start_date} at ${booking.start_time}`\n                    }\n                    left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                    right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                  />\n                </TouchableOpacity>\n              ))\n            ) : (\n              <View style={styles.emptyStateContainer}>\n                <Paragraph style={dynamicStyles.emptyStateText}>No bookings yet!</Paragraph>\n                <Button \n                  mode=\"contained\" \n                  onPress={() => navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard')}\n                  style={styles.createServiceButton}\n                  labelStyle={dynamicStyles.buttonText}\n                >\n                  Create Services\n                </Button>\n              </View>\n            )}\n          </Card.Content>\n          {upcomingBookings.length > 0 && (\n            <Card.Actions>\n              <Button \n                onPress={() => navigateToFrom(navigation, 'MyBookings', 'ProfessionalDashboard')}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                View All Bookings\n              </Button>\n            </Card.Actions>\n          )}\n        </Card>\n\n        {/* <Card style={styles.card}>\n          <Card.Content>\n            <Title>Client Requests</Title>\n            {clientRequests.map((request) => (\n              <TouchableOpacity\n                key={request.id}\n                onPress={() => navigation.navigate('RequestDetails', { requestId: request.id })}\n              >\n                <List.Item\n                  title={`${request.client} - ${request.pet}`}\n                  description={`${request.date} at ${request.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"account-clock\" name=\"account-clock\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button onPress={() => navigation.navigate('ClientRequests')}>View All Requests</Button>\n          </Card.Actions>\n        </Card> */}\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"clock\" size={size} color={color} /> : \"clock\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'AvailabilitySettings', 'ProfessionalDashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                {Platform.OS === 'web' ? 'Update Availability' : 'Availability'}\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"briefcase\" size={size} color={color} /> : \"briefcase\"}\n                mode=\"outlined\" \n                onPress={navigateToServiceManager}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Services\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Professional Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    gap: 8,\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 0 : 0,\n    flex: Platform.OS === 'web' ? 1 : 0,\n    minWidth: Platform.OS === 'web' ? 200 : 'auto',\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  loadingContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  createServiceButton: {\n    marginTop: 8,\n  },\n});\n\nexport default ProfessionalDashboard;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TextInput, StyleSheet, ScrollView, SafeAreaView, Platform, StatusBar, TouchableOpacity, ActivityIndicator, Alert, Dimensions, Image } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport * as ImagePicker from 'expo-image-picker';\nimport { AuthContext } from '../context/AuthContext';\nimport { navigateToFrom, handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\n// TODO: mention to user initially we are doing a manual verification process, will implement automation later.\nconst BecomeProfessional = ({ navigation }) => {\n  const [selectedPets, setSelectedPets] = useState({\n    dog: false,\n    cat: false,\n    exotics: false,\n  });\n  const [about, setAbout] = useState('');\n  const [certifications, setCertifications] = useState([]);\n  const [insuranceProof, setInsuranceProof] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { is_DEBUG } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeNavigation = async () => {\n      const currentRoute = Platform.OS === 'web' ? sessionStorage.getItem('currentRoute') : await AsyncStorage.getItem('currentRoute');\n      if (currentRoute !== 'BecomeProfessional') {\n        await navigateToFrom(navigation, 'BecomeProfessional', currentRoute);\n      } else {\n        if (is_DEBUG) {\n          console.log('Error, currentRoute is BecomeProfessional');\n        }\n      }\n    };\n    initializeNavigation();\n  }, []);\n\n  const handleBackPress = () => {\n    handleBack(navigation);\n  };\n\n  const togglePetSelection = (pet) => {\n    setSelectedPets({ ...selectedPets, [pet]: !selectedPets[pet] });\n  };\n\n  const pickCertification = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newCertification = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setCertifications([...certifications, newCertification]);\n    }\n  };\n\n  const pickInsuranceProof = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newProof = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setInsuranceProof([...insuranceProof, newProof]);\n    }\n  };\n\n  const removeCertification = (index) => {\n    setCertifications(certifications.filter((_, i) => i !== index));\n  };\n\n  const removeInsuranceProof = (index) => {\n    setInsuranceProof(insuranceProof.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n\n    \n      // Original submission logic for non-prototype mode\n      setTimeout(() => {\n        setIsSubmitting(false);\n        setSelectedPets({\n          dog: false,\n          cat: false,\n          exotics: false,\n        });\n        setAbout('');\n        setCertifications([]);\n        setInsuranceProof([]);\n        if (Platform.OS === 'web') {\n          window.confirm('Success: Your application has been submitted successfully!') && navigation.navigate('More');\n        } else {\n          Alert.alert('Success', 'Your application has been submitted successfully!', [\n            { text: 'OK', onPress: () => navigation.navigate('More', { screen: 'More', transition: 'slide' }) },\n          ]);\n        }\n      }, 2000);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={handleBackPress} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>Become a Professional</Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <Text style={styles.title}>Become a Professional</Text>\n        \n        <Text style={styles.label}>Select Pets You Can Sit:</Text>\n        <View style={styles.checkboxContainer}>\n          {['dog', 'cat', 'exotics'].map((pet) => (\n            <TouchableOpacity\n              key={pet}\n              style={[\n                styles.petButton,\n                selectedPets[pet] && styles.selectedPetButton,\n              ]}\n              onPress={() => togglePetSelection(pet)}\n            >\n              <MaterialCommunityIcons\n                name={pet === 'exotics' ? 'turtle' : pet}\n                size={24}\n                color={selectedPets[pet] ? '#fff' : theme.colors.primary}\n              />\n              <Text style={[styles.petButtonText, selectedPets[pet] && styles.selectedPetButtonText]}>\n                {pet.charAt(0).toUpperCase() + pet.slice(1)}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        <Text style={styles.label}>About You:</Text>\n        <TextInput\n          style={styles.textInput}\n          multiline\n          numberOfLines={4}\n          placeholder=\"Write a little about yourself...\"\n          value={about}\n          onChangeText={setAbout}\n        />\n\n        <Text style={styles.label}>Upload Certifications/Resume:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickCertification}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Documents</Text>\n        </TouchableOpacity>\n        {certifications.map((cert, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: cert.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {cert.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeCertification(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <Text style={styles.label}>Upload Insurance Proof:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickInsuranceProof}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Insurance</Text>\n        </TouchableOpacity>\n        {insuranceProof.map((proof, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: proof.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {proof.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeInsuranceProof(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity style={styles.submitButton} onPress={handleSubmit} disabled={isSubmitting}>\n          <Text style={styles.submitButtonText}>Submit Application</Text>\n        </TouchableOpacity>\n        {isSubmitting && <ActivityIndicator style={styles.loadingIndicator} size=\"small\" color={theme.colors.primary} />}\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20,\n    width: Platform.OS === 'web' && Dimensions.get('window').width > 600 ? '40%' : '90%',\n    alignSelf: 'center',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  petButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 5,\n    backgroundColor: '#fff',\n  },\n  selectedPetButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  petButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n  },\n  selectedPetButtonText: {\n    color: '#fff',\n  },\n  textInput: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 20,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  certificationText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginTop: 5,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: '#fff',\n    fontSize: theme.fontSizes.medium,\n  },\n  loadingIndicator: {\n    marginTop: 10, // Add margin to separate the loading indicator from the submit button\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  uploadedFileContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 8,\n  },\n  uploadedFilePreview: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n    marginRight: 8,\n  },\n  removeFileButton: {\n    padding: 4,\n    marginLeft: 'auto',\n  },\n});\n\nexport default BecomeProfessional;\n","import React, { useContext, useEffect } from 'react';\nimport { View, StyleSheet, Alert, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { List, Divider, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst MoreScreen = ({ navigation }) => {\n  const { isSignedIn, isApprovedProfessional, userRole, switchRole, signOut } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeRoutes = async () => {\n      try {\n        const initialRoute = isSignedIn \n          ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n          : 'Home';\n\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('currentRoute', initialRoute);\n          sessionStorage.setItem('previousRoute', 'More');\n        } else {\n          await AsyncStorage.setItem('currentRoute', initialRoute);\n          await AsyncStorage.setItem('previousRoute', 'More');\n        }\n      } catch (error) {\n        console.error('Error initializing routes:', error);\n      }\n    };\n\n    initializeRoutes();\n  }, [isSignedIn, userRole]);\n\n  const handleNavigation = async (route) => {\n    try {\n      await navigateToFrom(navigation, route, 'More');\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(route);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut();\n      // Clear navigation history on logout\n      if (Platform.OS === 'web') {\n        sessionStorage.removeItem('currentRoute');\n        sessionStorage.removeItem('previousRoute');\n      } else {\n        await AsyncStorage.multiRemove(['currentRoute', 'previousRoute']);\n      }\n      Alert.alert('Logged Out', 'You have been successfully logged out.');\n      navigation.navigate('Home');\n    } catch (error) {\n      console.error('Logout failed', error);\n      Alert.alert('Logout Failed', 'An error occurred while logging out.');\n    }\n  };\n\n  const handleSwitchRole = async () => {\n    if (isApprovedProfessional) {\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      // console.log('Current role:', userRole);\n      // console.log('Switching to:', newRole);\n      \n      await switchRole();\n      \n      // Store new route before navigating\n      const newRoute = newRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard';\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('currentRoute', newRoute);\n      } else {\n        await AsyncStorage.setItem('currentRoute', newRoute);\n      }\n      \n      // Add a small delay to ensure state is updated before navigation\n      setTimeout(() => {\n        // console.log('Navigating to:', newRoute);\n        navigation.navigate(newRoute);\n      }, 0);\n    } else {\n      Alert.alert('Not Approved', 'You are not approved as a professional yet.');\n      handleNavigation('BecomeProfessional');\n    }\n  };\n\n  const menuItems = {\n    notSignedIn: [\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      // ADD after MVP is released\n    //   { title: 'Help/FAQ', icon: 'help-circle', route: 'HelpFAQ' },\n    //   { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    //   { title: 'Settings', icon: 'cog', route: 'Settings' },\n    ],\n    petOwner: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Become a Professional', icon: 'account-tie', route: 'BecomeProfessional' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n    professional: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Services', icon: 'briefcase-outline', route: 'ServiceManager' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n  };\n\n  const renderMenuItems = () => {\n    let items;\n    if (!isSignedIn) {\n      items = menuItems.notSignedIn;\n    } else if (userRole === 'professional') {\n      items = menuItems.professional;\n    } else {\n      items = menuItems.petOwner;\n    }\n\n    return items.map((item, index) => (\n      <List.Item\n        key={index}\n        title={item.title}\n        titleStyle={styles.listItemTitle}\n        left={props => \n          Platform.OS === 'web' \n            ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n            : <List.Icon {...props} icon={item.icon} />}\n        onPress={() => handleNavigation(item.route)}\n        style={Platform.OS === 'web' ? styles.webListItem : null}\n      />\n    ));\n  };\n\n  const renderWebView = () => (\n    <View style={styles.webContainer}>\n      <View style={styles.webContent}>\n        <List.Section style={styles.webListSection}>\n          {renderMenuItems()}\n        </List.Section>\n        {isSignedIn && isApprovedProfessional && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"outlined\" \n              onPress={handleSwitchRole} \n              style={styles.webButton}\n              labelStyle={styles.buttonText}\n            >\n              Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n            </Button>\n          </View>\n        )}\n        {isSignedIn && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"contained\" \n              onPress={handleLogout} \n              style={[styles.webButton, styles.logoutButton]}\n              labelStyle={styles.buttonText}\n            >\n              Log Out\n            </Button>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderMobileView = () => (\n    <SafeAreaView style={styles.container}>\n      <List.Section>\n        {renderMenuItems()}\n      </List.Section>\n      {isSignedIn && isApprovedProfessional && (\n        <View style={styles.switchRoleButtonContainer}>\n          <Button mode=\"outlined\" onPress={handleSwitchRole} style={styles.switchRoleButton}>\n            Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n          </Button>\n        </View>\n      )}\n      {isSignedIn && (\n        <View style={styles.logoutButtonContainer}>\n          <Button mode=\"contained\" onPress={handleLogout} style={styles.logoutButton}>\n            Log Out\n          </Button>\n        </View>\n      )}\n    </SafeAreaView>\n  );\n\n  return Platform.OS === 'web' ? renderWebView() : renderMobileView();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  logoutButtonContainer: {\n    padding: 16,\n  },\n  logoutButton: {\n    backgroundColor: theme.colors.error,\n  },\n  switchRoleButtonContainer: {\n    padding: 16,\n  },\n  switchRoleButton: {\n    borderColor: theme.colors.primary,\n  },\n  // Web-specific styles\n  webContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    padding: 16,\n  },\n  webListSection: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  webButtonContainer: {\n    marginBottom: 16,\n  },\n  webButton: {\n    width: '100%',\n  },\n  listItemTitle: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n    fontSize: 16,\n  },\n  buttonText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  }\n});\n\nexport default MoreScreen;\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\n\nconst UnavailableTimeSlot = ({ startTime, endTime, reason, onPress, onRemove }) => {\n  const [showAllServices, setShowAllServices] = useState(false);\n  \n  const isAllDay = startTime === '00:00' && endTime === '24:00';\n\n  const formatTime = (time) => {\n    if (isAllDay) {\n      return 'All Day';\n    }\n    \n    if (typeof time === 'string') {\n      try {\n        const date = parse(time, 'HH:mm', new Date());\n        return format(date, 'h:mm a');\n      } catch (error) {\n        console.warn(`Invalid time format: ${time}`);\n        return 'Invalid Time';\n      }\n    } else if (time instanceof Date) {\n      return format(time, 'h:mm a');\n    } else {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const formatServicesDisplay = () => {\n    const services = reason?.replace('Unavailable for: ', '').split(', ') || [];\n    \n    if (services.length === 0) return 'No services specified';\n    if (services.length === 10) return 'All Services';\n    return `${services.length} ${services.length === 1 ? 'Service' : 'Services'}`;\n  };\n\n  return (\n    <>\n      <View style={styles.container}>\n        <TouchableOpacity \n          style={styles.removeButton} \n          onPress={onRemove}\n        >\n          <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n        </TouchableOpacity>\n        \n        <View style={styles.contentContainer}>\n          <Text style={styles.time}>\n            {isAllDay ? 'All Day' : `${formatTime(startTime)} - ${formatTime(endTime)}`}\n          </Text>\n          <View style={styles.serviceContainer}>\n            <Text style={styles.reason}>{formatServicesDisplay()}</Text>\n            {reason && (\n              <TouchableOpacity \n                onPress={() => setShowAllServices(true)}\n                style={styles.seeMoreButton}\n              >\n                <Text style={styles.seeMoreText}>See All</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n        </View>\n      </View>\n\n      <Modal\n        visible={showAllServices}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setShowAllServices(false)}\n      >\n        <TouchableOpacity \n          style={styles.modalOverlay}\n          activeOpacity={1}\n          onPress={() => setShowAllServices(false)}\n        >\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Unavailable Services</Text>\n              <TouchableOpacity onPress={() => setShowAllServices(false)}>\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <Text style={styles.modalTime}>\n              {formatTime(startTime)} - {formatTime(endTime)}\n            </Text>\n            {reason?.replace('Unavailable for: ', '').split(', ').map((service, index) => (\n              <Text key={index} style={styles.serviceItem}> {service}</Text>\n            ))}\n          </View>\n        </TouchableOpacity>\n      </Modal>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.lightGrey,\n    borderRadius: 5,\n    marginBottom: 5,\n  },\n  removeButton: {\n    padding: 5,\n    marginRight: 5,\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  time: {\n    fontSize: theme.fontSizes.small,\n    fontWeight: 'bold',\n    flex: 1,\n  },\n  serviceContainer: {\n    flex: 2,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  reason: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n    marginRight: 8,\n  },\n  seeMoreButton: {\n    padding: 4,\n    borderRadius: 4,\n    backgroundColor: theme.colors.primary,\n  },\n  seeMoreText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '80%',\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  modalTime: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 12,\n  },\n  serviceItem: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    paddingVertical: 4,\n  },\n});\n\nexport default UnavailableTimeSlot;\n","// First, create a new BookingCard component\n// src/components/BookingCard.js\n\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\n\nconst AvailabilityBookingCard = ({ booking, onPress, onEdit }) => {\n  const navigation = useNavigation();\n  const formatTime = (time) => {\n    try {\n      const date = parse(time, 'HH:mm', new Date());\n      return format(date, 'h:mm a');\n    } catch (error) {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const handlePress = () => {\n    if (onPress) {\n      onPress(booking);\n    }\n  };\n\n  return (\n    <TouchableOpacity \n      style={styles.card} \n      onPress={handlePress}\n    >\n      <View style={styles.cardContent}>\n        <View style={styles.timeContainer}>\n          <MaterialCommunityIcons name=\"clock-outline\" size={20} color={theme.colors.primary} />\n          <Text style={styles.timeText}>\n            {formatTime(booking.startTime)} - {formatTime(booking.endTime)}\n          </Text>\n        </View>\n        <Text style={styles.clientName}>Booked with {booking.client_name}</Text>\n      </View>\n      <TouchableOpacity \n        style={styles.editButton} \n        onPress={handlePress}\n      >\n        <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n      </TouchableOpacity>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n  },\n  cardContent: {\n    flex: 1,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  timeText: {\n    marginLeft: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  clientName: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n  },\n  editButton: {\n    padding: 8,\n  },\n});\n\nexport default AvailabilityBookingCard;","import React from 'react';\nimport { View, Text, StyleSheet, Platform, TouchableOpacity, Dimensions } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst TimePicker = ({ \n  label, \n  value, \n  onChange, \n  fullWidth = false, \n  containerStyle,\n  error,\n  disabled = false \n}) => {\n  const [showPicker, setShowPicker] = React.useState(false);\n  const windowWidth = Dimensions.get('window').width;\n  const isMobileWeb = Platform.OS === 'web' && windowWidth < 768;\n\n  const handleChange = (event, selectedDate) => {\n    setShowPicker(Platform.OS === 'ios');\n    if (selectedDate) {\n      onChange(selectedDate);\n    }\n  };\n\n  const showTimepicker = () => {\n    setShowPicker(true);\n  };\n\n  const renderTimeDisplay = () => (\n    <TouchableOpacity \n      onPress={showTimepicker}\n      style={[\n        styles.timeButton, \n        !fullWidth && styles.compactTimeButton,\n        error && styles.errorBorder,\n        disabled && styles.disabled\n      ]}\n      disabled={disabled}\n    >\n      <Text style={[styles.timeText, disabled && styles.disabledText]}>\n        {value.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n      </Text>\n      <MaterialCommunityIcons \n        name=\"clock-outline\" \n        size={24} \n        color={disabled ? theme.colors.placeholder : theme.colors.text} \n      />\n    </TouchableOpacity>\n  );\n\n  if (Platform.OS === 'web') {\n    return (\n      <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n        {label && <Text style={[styles.label, error && styles.errorText]}>{label}</Text>}\n        <View style={[\n          styles.webInputContainer,\n          !fullWidth && styles.compactTimeButton,\n          error && styles.errorBorder,\n          disabled && styles.disabled\n        ]}>\n          <input\n            type=\"time\"\n            value={value.toTimeString().slice(0, 5)}\n            onChange={(e) => onChange(new Date(`2000-01-01T${e.target.value}`))}\n            style={styles.webInput}\n            disabled={disabled}\n          />\n          <MaterialCommunityIcons \n            name=\"clock-outline\" \n            size={24} \n            color={disabled ? theme.colors.placeholder : theme.colors.text}\n            style={styles.webIcon}\n          />\n        </View>\n        {error && <Text style={styles.errorMessage}>{error}</Text>}\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n      {label && <Text style={[styles.label, error && styles.errorText]}>{label}</Text>}\n      {renderTimeDisplay()}\n      {error && <Text style={styles.errorMessage}>{error}</Text>}\n      {showPicker && (\n        <DateTimePicker\n          value={value}\n          mode=\"time\"\n          is24Hour={true}\n          display=\"default\"\n          onChange={handleChange}\n          disabled={disabled}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: 8,\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  label: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 8,\n    fontWeight: '500',\n  },\n  timeButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.whiteText,\n    minHeight: 48,\n  },\n  compactTimeButton: {\n    width: 150,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n  webInputContainer: {\n    position: 'relative',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.whiteText,\n    overflow: 'hidden',\n  },\n  webInput: {\n    padding: 12,\n    paddingRight: 40,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    height: 48,\n    border: 'none',\n    outline: 'none',\n    backgroundColor: 'transparent',\n    color: theme.colors.text,\n  },\n  webIcon: {\n    position: 'absolute',\n    right: 12,\n    top: '50%',\n    transform: 'translateY(-50%)',\n    pointerEvents: 'none',\n  },\n  errorBorder: {\n    borderColor: theme.colors.error,\n  },\n  errorText: {\n    color: theme.colors.error,\n  },\n  errorMessage: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n  },\n  disabled: {\n    backgroundColor: theme.colors.disabled,\n    opacity: 0.7,\n  },\n  disabledText: {\n    color: theme.colors.placeholder,\n  },\n});\n\nexport default TimePicker;\n\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, Platform, Dimensions, ScrollView } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport UnavailableTimeSlot from './UnavailableTimeSlot';\nimport { format, parse } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBookingCard from './AvailabilityBookingCard';\nimport { useNavigation } from '@react-navigation/native';\nimport TimePicker from './TimePicker';\n\nconst { width, height: SCREEN_HEIGHT } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst AddAvailabilityModal = ({ isVisible: propIsVisible, onClose, onSave, selectedDates, currentAvailability, bookings, onRemoveTimeSlot }) => {\n  const [isVisible, setIsVisible] = useState(propIsVisible);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [modalWidth, setModalWidth] = useState(getModalWidth());\n  const [activeView, setActiveView] = useState('bookings');\n  const [editingBooking, setEditingBooking] = useState(null);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    setIsVisible(propIsVisible);\n  }, [propIsVisible]);\n\n  function getModalWidth() {\n    const { width } = Dimensions.get('window');\n    return width < 600 ? width * 0.9 : width * 0.4;\n  }\n\n  useEffect(() => {\n    const updateWidth = () => {\n      setModalWidth(getModalWidth());\n    };\n\n    const dimensionsHandler = Dimensions.addEventListener('change', updateWidth);\n\n    return () => {\n      dimensionsHandler.remove();\n    };\n  }, []);\n\n  const isTimeSlotUnavailable = () => {\n    if (!startTime || !endTime || isAllDay) return false;\n    \n    return selectedDates.some(date => {\n      const existingTimes = currentAvailability[date]?.unavailableTimes || [];\n      return existingTimes.some(time => {\n        const [existingStartHour, existingStartMin] = time.startTime.split(':').map(Number);\n        const [existingEndHour, existingEndMin] = time.endTime.split(':').map(Number);\n        const newStartStr = format(startTime, 'HH:mm');\n        const newEndStr = format(endTime, 'HH:mm');\n        const [newStartHour, newStartMin] = newStartStr.split(':').map(Number);\n        const [newEndHour, newEndMin] = newEndStr.split(':').map(Number);\n        \n        return newStartHour === existingStartHour && \n               newStartMin === existingStartMin && \n               newEndHour === existingEndHour && \n               newEndMin === existingEndMin;\n      });\n    });\n  };\n\n  const handleMarkUnavailable = () => {\n    if (selectedServices.length === 0 || isTimeSlotUnavailable()) return;\n    \n    const services = selectedServices.includes(ALL_SERVICES) \n      ? SERVICE_TYPES.filter(service => service !== ALL_SERVICES) \n      : selectedServices;\n\n    onSave({\n      dates: selectedDates,\n      isAllDay,\n      startTime: isAllDay ? null : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? null : format(endTime, 'HH:mm'),\n      isUnavailable: true,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n  };\n\n  const handleMarkAvailable = () => {\n    if (selectedServices.length === 0 || !isTimeSlotUnavailable()) return;\n\n    const newStartStr = format(startTime, 'HH:mm');\n    const newEndStr = format(endTime, 'HH:mm');\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== newStartStr || time.endTime !== newEndStr\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(selectedDates[0], { startTime: newStartStr, endTime: newEndStr }, updatedAvailability, selectedDates);\n  };\n\n  const handleRemoveTimeSlot = (date, timeSlot) => {\n    if (selectedDates.length === 1) {\n      onRemoveTimeSlot(date, timeSlot);\n      return;\n    }\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== timeSlot.startTime || time.endTime !== timeSlot.endTime\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(date, timeSlot, updatedAvailability, selectedDates);\n  };\n\n  const renderUnavailableTimes = () => {\n    if (selectedDates.length === 0) return null;\n\n    const date = selectedDates[0];\n    const unavailableTimes = currentAvailability[date]?.unavailableTimes || [];\n\n    if (unavailableTimes.length === 0) return null;\n\n    return (\n      <View style={styles.unavailableTimesContainer}>\n        <Text style={styles.sectionTitle}>Unavailable Times:</Text>\n        <ScrollView>\n          {unavailableTimes.map((time, index) => (\n            <UnavailableTimeSlot\n              key={index}\n              startTime={time.startTime}\n              endTime={time.endTime}\n              reason={time.reason}\n              onRemove={() => handleRemoveTimeSlot(date, time)}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    );\n  };\n\nconst renderTimePicker = () => (\n  <>\n    <View style={styles.timePickerContainer}>\n      <Text>Start Time:</Text>\n      <TimePicker\n        value={startTime}\n        onChange={setStartTime}\n        showPicker={showStartTimePicker}\n        setShowPicker={setShowStartTimePicker}\n        fullWidth\n      />\n    </View>\n    <View style={styles.timePickerContainer}>\n      <Text>End Time:</Text>\n      <TimePicker\n        value={endTime}\n        onChange={setEndTime}\n        showPicker={showEndTimePicker}\n        setShowPicker={setShowEndTimePicker}\n        fullWidth\n      />\n    </View>\n  </>\n);\n\nconst formatSelectedDates = () => {\n  if (!selectedDates || selectedDates.length === 0) return '';\n  \n  const startDate = selectedDates[0];\n  const endDate = selectedDates[selectedDates.length - 1];\n  \n  if (startDate === endDate) {\n    return startDate;\n  }\n  \n  return `${startDate} - ${endDate}`;\n};\n\nconst handleEditBooking = async (booking) => {\n  setEditingBooking(booking);\n  // Implement your booking edit logic here\n  try {\n    const response = await updateBooking({\n      ...booking,\n      // Add your updated booking data\n    });\n    \n    if (response.success) {\n      // Update local state\n      // Implement your state update logic\n    }\n  } catch (error) {\n    console.error('Failed to update booking:', error);\n  }\n};\n\nconst renderToggleButtons = () => (\n  <View style={styles.toggleContainer}>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'unavailable' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('unavailable')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'unavailable' && styles.activeToggleText\n      ]}>\n        Unavailable Times\n      </Text>\n    </TouchableOpacity>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'bookings' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('bookings')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'bookings' && styles.activeToggleText\n      ]}>\n        Bookings\n      </Text>\n    </TouchableOpacity>\n  </View>\n);\n\nconst renderBookings = () => {\n  const dateBookings = selectedDates.reduce((acc, date) => {\n    if (bookings[date]) {\n      acc.push(...bookings[date].map(booking => ({\n        ...booking,\n        date\n      })));\n    }\n    return acc;\n  }, []);\n\n  if (dateBookings.length === 0) {\n    return (\n      <View style={styles.emptyState}>\n        <MaterialCommunityIcons \n          name=\"calendar-blank\" \n          size={48} \n          color={theme.colors.textSecondary} \n        />\n        <Text style={styles.emptyStateText}>No bookings for selected dates</Text>\n      </View>\n    );\n  }\n\n  const handleBookingPress = (booking) => {\n    onClose();\n    \n    // Navigate after a short delay\n    setTimeout(() => {\n      navigation.navigate('BookingDetails', { bookingId: booking.id });\n    }, 300);\n  };\n\n  return (\n    <View style={styles.bookingsContainer}>\n      <ScrollView \n        style={styles.bookingsList}\n        nestedScrollEnabled={true}\n      >\n        {dateBookings.map((booking, index) => (\n          <AvailabilityBookingCard\n            key={index}\n            booking={booking}\n            onPress={() => handleBookingPress(booking)}\n            onEdit={() => handleBookingPress(booking)}\n          />\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[styles.modalContent, { width: modalWidth }]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {selectedDates.length > 1 ? 'Edit Multiple Days' : 'Edit Availability'}\n            </Text>\n            <TouchableOpacity \n              style={styles.closeButton} \n              onPress={onClose}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.text} \n              />\n            </TouchableOpacity>\n          </View>\n\n          <Text style={styles.selectedDatesText}>\n            Selected Dates: {formatSelectedDates()}\n          </Text>\n\n          {renderToggleButtons()}\n          \n          <ScrollView \n            style={styles.contentScrollView}\n            nestedScrollEnabled={true}\n          >\n            {activeView === 'unavailable' ? (\n              <View style={styles.unavailableTimesWrapper}>\n                {renderUnavailableTimes()}\n              </View>\n            ) : (\n              <View style={styles.bookingsWrapper}>\n                {renderBookings()}\n              </View>\n            )}\n\n            <View style={styles.availabilityControls}>\n              <View style={styles.inputWrapper}>\n                <Text style={styles.inputLabel}>Service Type(s) *</Text>\n                <TouchableOpacity\n                  style={[\n                    styles.input,\n                    styles.customDropdown,\n                    selectedServices.length === 0 && styles.inputError\n                  ]}\n                  onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n                >\n                  <Text style={{\n                    color: selectedServices.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n                  }}>\n                    {selectedServices.length > 0 \n                      ? selectedServices.includes(ALL_SERVICES)\n                        ? \"All Services\"\n                        : selectedServices.length > 1\n                          ? `${selectedServices.length} services selected`\n                          : selectedServices[0]\n                      : \"Select service type(s)\"\n                    }\n                  </Text>\n                  <MaterialCommunityIcons \n                    name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                    size={24} \n                    color={theme.colors.primary} \n                  />\n                </TouchableOpacity>\n                \n                {showServiceDropdown && (\n                  <View style={styles.dropdownContainer}>\n                    <ScrollView style={styles.dropdownScroll}>\n                      {SERVICE_TYPES.map((service) => (\n                        <TouchableOpacity\n                          key={service}\n                          style={styles.dropdownItem}\n                          onPress={() => {\n                            if (service === ALL_SERVICES) {\n                              setSelectedServices(\n                                selectedServices.includes(ALL_SERVICES) \n                                  ? [] \n                                  : [ALL_SERVICES]\n                              );\n                            } else {\n                              setSelectedServices(prev => {\n                                // Remove \"All Services\" if it was selected\n                                const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                                \n                                if (prev.includes(service)) {\n                                  return withoutAll.filter(s => s !== service);\n                                } else {\n                                  return [...withoutAll, service];\n                                }\n                              });\n                            }\n                          }}\n                        >\n                          <View style={styles.dropdownItemContent}>\n                            <Text style={[\n                              styles.dropdownText,\n                              selectedServices.includes(service) && styles.selectedOption\n                            ]}>\n                              {service}\n                            </Text>\n                            {selectedServices.includes(service) && (\n                              <MaterialCommunityIcons \n                                name=\"check\" \n                                size={20} \n                                color={theme.colors.primary} \n                              />\n                            )}\n                          </View>\n                        </TouchableOpacity>\n                      ))}\n                    </ScrollView>\n                  </View>\n                )}\n              </View>\n\n              <View style={styles.switchContainer}>\n                <Text>All Day</Text>\n                <Switch value={isAllDay} onValueChange={setIsAllDay} />\n              </View>\n\n              {!isAllDay && renderTimePicker()}\n\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.availableButton,\n                    (selectedServices.length === 0 || !isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkAvailable}\n                  disabled={selectedServices.length === 0 || !isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Available\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.unavailableButton,\n                    (selectedServices.length === 0 || isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkUnavailable}\n                  disabled={selectedServices.length === 0 || isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Unavailable\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 17,\n    maxHeight: SCREEN_HEIGHT * 0.7,\n    zIndex: 1,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 15,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  closeButton: {\n    padding: 5,\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginTop: 20,\n    gap: 10,\n  },\n  availabilityButton: {\n    padding: 10,\n    borderRadius: 5,\n    flex: 1,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  availabilityButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  unavailableTimesContainer: {\n    marginTop: 20,\n    maxHeight: 200,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  \n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    fontWeight: '500',\n  },\n  \n  input: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  \n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 40,\n  },\n  \n  dropdownContainer: {\n    position: 'absolute',\n    top: '95%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    marginTop: 2,\n    maxHeight: 160,\n    zIndex: 1000,\n    elevation: 5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  \n  dropdownScroll: {\n    maxHeight: 160,\n  },\n  \n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    height: 40,\n  },\n  \n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n  },\n  \n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  \n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  \n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    padding: 4,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    margin: 2,\n  },\n  activeToggle: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleText: {\n    textAlign: 'center',\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  activeToggleText: {\n    color: theme.colors.whiteText,\n    fontWeight: '500',\n  },\n  bookingsList: {\n    maxHeight: 300,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 32,\n  },\n  emptyStateText: {\n    marginTop: 16,\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    textAlign: 'center',\n  },\n  contentScrollView: {\n    flex: 1,\n    width: '100%',\n  },\n  availabilityControls: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    width: '100%',\n  },\n  bookingsContainer: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  unavailableTimesWrapper: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  bookingsWrapper: {\n    marginBottom: 16,\n  },\n  selectedDatesText: {\n    marginVertical: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default AddAvailabilityModal;\n","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, ScrollView, Platform, Dimensions, Animated } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\n\nconst { width } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst ALL_DAYS = \"All Days\";\nconst DAYS_OF_WEEK = [\n  ALL_DAYS,\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n];\n\nconst DefaultSettingsModal = ({ isVisible, onClose, onSave, defaultSettings }) => {\n  const { screenWidth } = useContext(AuthContext);\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [settings, setSettings] = useState(defaultSettings || {\n    Monday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n\n  const [showTimePicker, setShowTimePicker] = useState({ visible: false, type: '', value: '' });\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [isCurrentlyUnavailable, setIsCurrentlyUnavailable] = useState(false);\n  const [showDayDropdown, setShowDayDropdown] = useState(false);\n\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const slideAnim = useRef(new Animated.Value(600)).current;\n\n  const handleClose = () => {\n    // Animate out\n    Animated.parallel([\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true,\n      }),\n      Animated.timing(slideAnim, {\n        toValue: 600,\n        duration: 300,\n        useNativeDriver: true,\n      })\n    ]).start(() => {\n      // Call onClose after animations complete\n      onClose();\n    });\n  };\n\n  useEffect(() => {\n    if (isVisible) {\n      // Fade in the background overlay\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 300,\n        useNativeDriver: true,\n      }).start();\n\n      // Slide up the modal content\n      Animated.spring(slideAnim, {\n        toValue: 0,\n        tension: 50,\n        friction: 8,\n        useNativeDriver: true,\n      }).start();\n    }\n  }, [isVisible]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      const dropdownButton = document.getElementById('dropdown-button');\n      const dropdownContainer = document.getElementById('dropdown-container');\n      \n      // If click is not on the button and not inside the dropdown, close it\n      if (showDayDropdown && \n          dropdownContainer && \n          !dropdownContainer.contains(event.target) &&\n          !dropdownButton.contains(event.target)) {\n        setShowDayDropdown(false);\n      }\n    };\n\n    if (Platform.OS === 'web') {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showDayDropdown]);\n\n  const handleSave = () => {\n    onSave({\n      ...settings,\n      [selectedDays[0]]: {\n        ...settings[selectedDays[0]],\n        isUnavailable: !isCurrentlyUnavailable\n      }\n    });\n  };\n\n  const updateDaySettings = (day, newSettings) => {\n    setSettings(prevSettings => ({\n      ...prevSettings,\n      [day]: { ...prevSettings[day], ...newSettings }\n    }));\n  };\n\n  const handleDaySelection = (day) => {\n    setSelectedDays(current => {\n      if (day === ALL_DAYS) {\n        return current.includes(ALL_DAYS) \n          ? [] \n          : DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n      }\n      \n      const withoutAll = current.filter(d => d !== ALL_DAYS);\n      if (withoutAll.includes(day)) {\n        return withoutAll.filter(d => d !== day);\n      } else {\n        if (withoutAll.length + 1 === DAYS_OF_WEEK.length - 1) {\n          return DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n        } else {\n          return [...withoutAll, day];\n        }\n      }\n    });\n  };\n\n  const handleAvailabilityChange = (makeAvailable) => {\n    console.log(\"Selected days:\", selectedDays);\n    if (selectedDays.length === 0) return;\n\n    const daysToUpdate = selectedDays.includes(ALL_DAYS) \n      ? DAYS_OF_WEEK.filter(day => day !== ALL_DAYS)\n      : selectedDays;\n    \n    console.log(\"Days to update:\", daysToUpdate);\n    console.log(\"Current settings:\", settings);\n    console.log(\"Making available:\", makeAvailable);\n\n    const newSettings = { ...settings };\n    daysToUpdate.forEach(day => {\n      console.log(`Updating ${day}`);\n      newSettings[day] = {\n        ...settings[day],\n        isUnavailable: !makeAvailable,\n        startTime: settings[selectedDays[0]].startTime,\n        endTime: settings[selectedDays[0]].endTime,\n        isAllDay: settings[selectedDays[0]].isAllDay,\n        endDate: settings[selectedDays[0]].endDate\n      };\n    });\n    \n    console.log(\"New settings:\", newSettings);\n    setSettings(newSettings);\n    onSave(newSettings);\n    setIsCurrentlyUnavailable(!makeAvailable);\n  };\n\n  const renderTimePicker = (type, value, onChange) => {\n    if (Platform.OS === 'web') {\n      return (\n        <input\n          type=\"time\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          style={styles.webTimePicker}\n        />\n      );\n    } else if (Platform.OS === 'ios') {\n        return (\n            <DateTimePicker\n          value={new Date(`2000-01-01T${value}`)}\n          mode=\"time\"\n          is24Hour={false}\n          display=\"default\"\n          onChange={(event, selectedTime) => {\n            if (selectedTime) {\n              onChange(selectedTime.toTimeString().slice(0, 5));\n            }\n          }}\n        />\n        )\n    } else {\n      return (\n        <>\n          <TouchableOpacity onPress={() => setShowTimePicker({ visible: true, type, value })}>\n            <Text>{value}</Text>\n          </TouchableOpacity>\n          {Platform.OS === 'android' && showTimePicker.visible && showTimePicker.type === type && (\n            <DateTimePicker\n              value={new Date(`2000-01-01T${showTimePicker.value}`)}\n              mode=\"time\"\n              is24Hour={false}\n              display=\"default\"\n              onChange={(event, selectedTime) => {\n                setShowTimePicker({ visible: false, type: '', value: '' });\n                if (selectedTime) {\n                  onChange(selectedTime.toTimeString().slice(0, 5));\n                }\n              }}\n            />\n          )}\n        </>\n      );\n    }\n  };\n\n  const renderEndDatePicker = () => {\n    const daySettings = settings[selectedDays[0]];\n    \n    return (\n      <DatePicker\n        value={daySettings.endDate}\n        onChange={(date) => updateDaySettings(selectedDays[0], { endDate: date })}\n        placeholder=\"Select End Date\"\n      />\n    );\n  };\n\n  const renderDaySettings = () => {\n    const daySettings = settings[selectedDays[0]] || {\n      isAllDay: false,\n      startTime: '09:00',\n      endTime: '17:00',\n      endDate: null\n    };\n    \n    return (\n      <View style={styles.daySettingsContainer}>\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>All Day:</Text>\n          <Switch\n            value={daySettings.isAllDay}\n            onValueChange={(value) => {\n              if (selectedDays.length === 0) return;\n              const newSettings = { ...settings };\n              selectedDays.forEach(day => {\n                newSettings[day] = {\n                  ...newSettings[day],\n                  isAllDay: value\n                };\n              });\n              setSettings(newSettings);\n            }}\n            disabled={selectedDays.length === 0}\n          />\n        </View>\n        {!daySettings.isAllDay && (\n          <>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>Start Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'startTime',\n                  daySettings.startTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        startTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'endTime',\n                  daySettings.endTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        endTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n          </>\n        )}\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Date:</Text>\n          <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n            <DatePicker\n              value={daySettings.endDate}\n              onChange={(date) => {\n                if (selectedDays.length === 0) return;\n                const newSettings = { ...settings };\n                selectedDays.forEach(day => {\n                  newSettings[day] = {\n                    ...newSettings[day],\n                    endDate: date\n                  };\n                });\n                setSettings(newSettings);\n              }}\n              placeholder=\"Select End Date\"\n              disabled={selectedDays.length === 0}\n            />\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const checkCurrentAvailability = (days, settings) => {\n    if (!days || days.length === 0) return false;\n    \n    return days.some(day => settings[day]?.isUnavailable);\n  };\n\n  useEffect(() => {\n    if (selectedDays.length > 0) {\n      const isUnavailable = checkCurrentAvailability(selectedDays, settings);\n      setIsCurrentlyUnavailable(isUnavailable);\n    } else {\n      setIsCurrentlyUnavailable(false);\n    }\n  }, [selectedDays, settings]);\n\n  const renderDaySelector = () => (\n    <View style={styles.inputWrapper}>\n      <Text style={styles.inputLabel}>Day(s) *</Text>\n      <TouchableOpacity\n        id=\"dropdown-button\"\n        style={[\n          styles.input,\n          styles.customDropdown,\n          selectedDays.length === 0 && styles.inputError\n        ]}\n        onPress={() => setShowDayDropdown(!showDayDropdown)}\n      >\n        <Text style={{\n          color: selectedDays.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n        }}>\n          {selectedDays.length === 0 \n            ? 'Select Days' \n            : selectedDays.includes(ALL_DAYS)\n              ? 'All Days'\n              : selectedDays.length > 2\n                ? `${selectedDays.length} Days Selected`\n                : selectedDays.join(', ')}\n        </Text>\n        <MaterialCommunityIcons \n          name={showDayDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n      \n      {showDayDropdown && (\n        <View \n          id=\"dropdown-container\"\n          style={styles.dropdownContainer}\n        >\n          <ScrollView style={styles.dropdownScroll}>\n            {DAYS_OF_WEEK.map((day) => (\n              <TouchableOpacity\n                key={day}\n                style={styles.dropdownItem}\n                onPress={() => handleDaySelection(day)}\n              >\n                <View style={styles.dropdownItemContent}>\n                  <Text style={[\n                    styles.dropdownText,\n                    selectedDays.includes(day) && styles.selectedOption\n                  ]}>\n                    {day}\n                  </Text>\n                  {selectedDays.includes(day) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={20} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </View>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={isVisible}\n      transparent={true}\n      onRequestClose={handleClose}\n    >\n      <Animated.View style={[\n        styles.modalContainer,\n        {\n          opacity: fadeAnim,\n        }\n      ]}>\n        <Animated.View style={[\n          styles.modalContent,\n          {\n            width: screenWidth < 600 ? '90%' : 600,\n            transform: [{ translateY: slideAnim }]\n          }\n        ]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Default Settings</Text>\n            <TouchableOpacity onPress={handleClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          {renderDaySelector()}\n          {renderDaySettings()}\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => handleAvailabilityChange(true)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => handleAvailabilityChange(false)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </Animated.View>\n      </Animated.View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    borderRadius: 17,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  settingContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dayContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 5,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 12,\n    marginTop: 20,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 15,\n  },\n  tab: {\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderBottomWidth: 2,\n    borderBottomColor: 'transparent',\n  },\n  selectedTab: {\n    borderBottomColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedTabText: {\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  daySettingsContainer: {\n    marginBottom: 15,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  webDatePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  inputLabel: {\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  disabledText: {\n    color: theme.colors.placeHolderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  enabledText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default DefaultSettingsModal;\n","import React, { useState, useRef, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, Switch, Animated } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport TimePicker from './TimePicker';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\n\nconst AvailabilityBottomSheet = ({ \n  selectedDates, \n  currentAvailability,\n  onClose,\n  onViewUnavailableTimes,\n  onSave,\n  onMinimize\n}) => {\n  const { screenWidth } = useContext(AuthContext);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const animatedHeight = useRef(new Animated.Value(1)).current;\n  const animatedOpacity = useRef(new Animated.Value(1)).current;\n  const slideAnimation = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    // Start the entrance animation when the component mounts\n    Animated.spring(slideAnimation, {\n      toValue: 1,\n      useNativeDriver: true,\n      tension: 50,\n      friction: 8\n    }).start();\n  }, []);\n\n  const getAvailabilityStatus = () => {\n    if (!selectedDates || selectedDates.length === 0) return 'Unknown';\n\n    const date = selectedDates[0];\n    const dateAvailability = currentAvailability[date];\n\n    if (!dateAvailability) return 'Available';\n    if (!dateAvailability.isAvailable) return 'Unavailable';\n    if (dateAvailability.unavailableTimes?.length > 0) return 'Partially Available';\n    return 'Available';\n  };\n\n  const getStatusColor = () => {\n    const status = getAvailabilityStatus();\n    switch (status) {\n      case 'Available':\n        return theme.colors.success;\n      case 'Partially Available':\n        return theme.colors.warning;\n      case 'Unavailable':\n        return theme.colors.error;\n      default:\n        return theme.colors.text;\n    }\n  };\n\n  const formatDateRange = () => {\n    if (!selectedDates || selectedDates.length === 0) return '';\n    \n    if (selectedDates.length === 1) {\n      return format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy');\n    }\n\n    return `${format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd')} - ${format(parse(selectedDates[selectedDates.length - 1], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy')}`;\n  };\n\n  const validateAndSave = (isAvailable) => {\n    if (selectedServices.length === 0) {\n      setError('Please select at least one service type');\n      return;\n    }\n    setError(null);\n    onSave({ \n      startTime: isAllDay ? '00:00' : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? '24:00' : format(endTime, 'HH:mm'),\n      services: selectedServices,\n      isAvailable,\n      isAllDay\n    });\n  };\n\n  const toggleMinimized = () => {\n    const toValue = isMinimized ? 1 : 0;\n    \n    // Call onMinimize first to start the background fade\n    const newMinimizedState = !isMinimized;\n    onMinimize?.(newMinimizedState);\n    \n    // Then start our animations\n    Animated.parallel([\n      Animated.timing(animatedHeight, {\n        toValue,\n        duration: 300,\n        useNativeDriver: false\n      }),\n      Animated.timing(animatedOpacity, {\n        toValue,\n        duration: 300,\n        useNativeDriver: false\n      })\n    ]).start(() => {\n      setIsMinimized(newMinimizedState);\n    });\n  };\n\n  const handleClose = () => {\n    // Animate the slide down\n    Animated.timing(slideAnimation, {\n      toValue: 0,\n      duration: 300,\n      useNativeDriver: true\n    }).start(() => {\n      // Call the onClose prop after animation completes\n      onClose();\n    });\n  };\n\n  const maxHeight = 550; // Adjust this value based on your content\n  const minHeight = 96;\n\n  const containerHeight = animatedHeight.interpolate({\n    inputRange: [0, 1],\n    outputRange: [minHeight, maxHeight]\n  });\n\n  const renderHandle = () => {\n    if (Platform.OS === 'web') {\n      return (\n        <TouchableOpacity \n          onPress={toggleMinimized}\n          style={styles.handleContainer}\n        >\n          <MaterialCommunityIcons \n            name={isMinimized ? \"chevron-up\" : \"chevron-down\"}\n            size={24}\n            color={theme.colors.text}\n          />\n        </TouchableOpacity>\n      );\n    }\n\n    return (\n      <TouchableOpacity \n        onPress={toggleMinimized}\n        style={styles.handleContainer}\n      >\n        <View style={styles.handle} />\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={[\n      styles.overlay,\n      { pointerEvents: isMinimized ? 'box-none' : 'auto' } // Allow clicks through when minimized\n    ]}>\n      <Animated.View \n        style={[\n          styles.container,\n          { \n            height: containerHeight,\n            transform: [{\n              translateY: slideAnimation.interpolate({\n                inputRange: [0, 1],\n                outputRange: [600, 0]\n              })\n            }]\n          }\n        ]}\n      >\n        {renderHandle()}\n        \n        <View style={[styles.header, isMinimized && styles.headerMinimized]}>\n          {!isMinimized && (\n            <TouchableOpacity onPress={handleClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          )}\n          <View style={styles.headerCenter}>\n            <Text style={styles.dateText}>{formatDateRange()}</Text>\n            <Text style={[styles.statusText, { color: getStatusColor() }]}>\n              {getAvailabilityStatus()}\n            </Text>\n          </View>\n          {!isMinimized && (\n            <Animated.View style={{ opacity: animatedOpacity }}>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={onViewUnavailableTimes}\n              >\n                <MaterialCommunityIcons \n                  name=\"clock-outline\" \n                  size={24} \n                  color={theme.colors.primary} \n                />\n                <Text style={styles.actionButtonText}>\n                  {'Unavailable\\nTimes'}\n                </Text>\n              </TouchableOpacity>\n            </Animated.View>\n          )}\n        </View>\n\n        <Animated.View \n          style={[\n            styles.content,\n            { opacity: animatedOpacity }\n          ]}\n        >\n          <View style={styles.serviceSection}>\n            <Text style={[styles.label, { textAlign: 'center' }]}>Change Availability for Services</Text>\n            <TouchableOpacity\n              style={[styles.serviceSelector, error && selectedServices.length <= 0 && styles.serviceSelectorError]}\n              onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n            >\n              <Text style={styles.serviceSelectorText}>\n                {selectedServices.length > 0 \n                  ? selectedServices.includes(ALL_SERVICES)\n                    ? \"All Services\"\n                    : selectedServices.length > 1\n                      ? `${selectedServices.length} services selected`\n                      : selectedServices[0]\n                  : \"Select service type(s)\"\n                }\n              </Text>\n              <MaterialCommunityIcons \n                name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {error && selectedServices.length <= 0 && !showServiceDropdown && <Text style={styles.errorText}>{error}</Text>}\n\n            {showServiceDropdown && (\n              <View style={styles.dropdownContainer}>\n                <ScrollView style={styles.dropdownScroll}>\n                  {SERVICE_TYPES.map((service) => (\n                    <TouchableOpacity\n                      key={service}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        if (service === ALL_SERVICES) {\n                          setSelectedServices(\n                            selectedServices.includes(ALL_SERVICES) \n                              ? [] \n                              : [ALL_SERVICES]\n                          );\n                        } else {\n                          setSelectedServices(prev => {\n                            const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                            if (prev.includes(service)) {\n                              return withoutAll.filter(s => s !== service);\n                            } else {\n                              return [...withoutAll, service];\n                            }\n                          });\n                        }\n                      }}\n                    >\n                      <View style={styles.dropdownItemContent}>\n                        <Text style={[\n                          styles.dropdownText,\n                          selectedServices.includes(service) && styles.selectedOption\n                        ]}>\n                          {service}\n                        </Text>\n                        {selectedServices.includes(service) && (\n                          <MaterialCommunityIcons \n                            name=\"check\" \n                            size={20} \n                            color={theme.colors.primary} \n                          />\n                        )}\n                      </View>\n                    </TouchableOpacity>\n                  ))}\n                </ScrollView>\n              </View>\n            )}\n          </View>\n\n          <View style={styles.timeToggleContainer}>\n            <Text style={styles.label}>Time Selection</Text>\n            <View style={styles.customToggle}>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(true)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  isAllDay && styles.toggleButtonTextActive\n                ]}>All Day</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  !isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(false)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  !isAllDay && styles.toggleButtonTextActive\n                ]}>Custom Hours</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          {!isAllDay && (\n            <View style={styles.timeSection}>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>Start Time</Text>\n                <TimePicker\n                  value={startTime}\n                  onChange={setStartTime}\n                  fullWidth\n                />\n              </View>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>End Time</Text>\n                <TimePicker\n                  value={endTime}\n                  onChange={setEndTime}\n                  fullWidth\n                />\n              </View>\n            </View>\n          )}\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => validateAndSave(true)}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => validateAndSave(false)}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </Animated.View>\n      </Animated.View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    width: '100%',\n    pointerEvents: 'box-none', // This allows clicks to pass through to elements behind\n  },\n  container: {\n    backgroundColor: theme.colors.surface,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 16,\n    maxWidth: 800,\n    width: '100%',\n    alignSelf: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: -2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  handleContainer: {\n    width: '100%',\n    height: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 4,\n  },\n  handle: {\n    width: 40,\n    height: 4,\n    backgroundColor: theme.colors.border,\n    borderRadius: 2,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 24,\n    paddingRight: 8,\n    marginTop: 4, // Add a small margin to separate from the chevron\n  },\n  headerMinimized: {\n    marginBottom: 8,\n    paddingBottom: 12, // Add padding at the bottom when minimized\n    justifyContent: 'space-between',\n  },\n  headerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  closeButton: {\n    width: 60,\n    height: 40,\n    marginBottom: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  statusText: {\n    fontSize: theme.fontSizes.medium,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    width: 60,\n    alignItems: 'center',\n  },\n  actionButtonText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.primary,\n    marginTop: 4,\n    textAlign: 'center',\n    lineHeight: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    gap: 24,\n  },\n  timeToggleContainer: {\n    // marginBottom: 8,\n  },\n  customToggle: {\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 4,\n    // marginTop: 8,\n    gap: 8,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonInactive: {\n    backgroundColor: 'transparent',\n  },\n  toggleButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeSection: {\n    flexDirection: 'row',\n    gap: 16,\n  },\n  timeContainer: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSection: {\n    position: 'relative',\n    zIndex: 1,\n  },\n  serviceSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.background,\n  },\n  serviceSelectorText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginTop: 24,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSelectorError: {\n    borderColor: theme.colors.error,\n    borderWidth: 1,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AvailabilityBottomSheet; ","import React, { useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, ScrollView, Animated } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst UnavailableTimesModal = ({ \n  visible, \n  onClose, \n  selectedDates,\n  currentAvailability,\n  onRemoveTimeSlot,\n  bookings\n}) => {\n  const navigation = useNavigation();\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const slideAnim = useRef(new Animated.Value(600)).current;\n\n  useEffect(() => {\n    if (visible) {\n      // Fade in the background overlay\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 300,\n        useNativeDriver: true,\n      }).start();\n\n      // Slide up the modal content\n      Animated.spring(slideAnim, {\n        toValue: 0,\n        tension: 50,\n        friction: 8,\n        useNativeDriver: true,\n      }).start();\n    }\n  }, [visible]);\n\n  const handleClose = () => {\n    // Animate out\n    Animated.parallel([\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true,\n      }),\n      Animated.timing(slideAnim, {\n        toValue: 600,\n        duration: 300,\n        useNativeDriver: true,\n      })\n    ]).start(() => {\n      // Call onClose after animations complete\n      onClose();\n    });\n  };\n\n  const formatTime = (time) => {\n    const [hours, minutes] = time.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours), parseInt(minutes));\n    return format(date, 'h:mm a');\n  };\n\n  const handleBookingPress = async (bookingId) => {\n    onClose(); // Close the modal first\n    await navigateToFrom(navigation, 'BookingDetails', 'AvailabilitySettings', { bookingId });\n  };\n\n  const getUnavailableTimes = () => {\n    if (!selectedDates || selectedDates.length === 0) return [];\n\n    const allTimes = [];\n    const processedTimes = new Set(); // Track processed time slots\n\n    selectedDates.forEach(date => {\n      const dateBookings = bookings[date] || [];\n      const dateAvailability = currentAvailability[date];\n\n      // Add bookings first\n      dateBookings.forEach(booking => {\n        const timeKey = `${date}-${booking.startTime}-${booking.endTime}`;\n        if (!processedTimes.has(timeKey)) {\n          allTimes.push({\n            date,\n            startTime: booking.startTime,\n            endTime: booking.endTime,\n            reason: `${booking.service_type}\\nBooked with ${booking.client_name}`,\n            isBooking: true,\n            clientId: booking.clientId\n          });\n          processedTimes.add(timeKey);\n        }\n      });\n\n      // Add personal unavailable times, excluding any that overlap with bookings\n      if (dateAvailability?.unavailableTimes) {\n        dateAvailability.unavailableTimes\n          .filter(time => !time.clientId) // Only include non-booking unavailable times\n          .forEach(time => {\n            const timeKey = `${date}-${time.startTime}-${time.endTime}`;\n            if (!processedTimes.has(timeKey)) {\n              allTimes.push({\n                date,\n                startTime: time.startTime,\n                endTime: time.endTime,\n                reason: time.reason,\n                isBooking: false\n              });\n              processedTimes.add(timeKey);\n            }\n          });\n      }\n    });\n\n    // Sort by date and then by start time\n    return allTimes.sort((a, b) => {\n      if (a.date !== b.date) return a.date.localeCompare(b.date);\n      return a.startTime.localeCompare(b.startTime);\n    });\n  };\n\n  const renderActionButton = (item) => {\n    if (item.isBooking) {\n      return (\n        <TouchableOpacity\n          style={styles.bookingButton}\n          onPress={() => handleBookingPress(item.clientId)}\n        >\n          <MaterialCommunityIcons name=\"arrow-right\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n      );\n    }\n    \n    return (\n      <TouchableOpacity\n        style={styles.removeButton}\n        onPress={() => onRemoveTimeSlot(item.date, item)}\n      >\n        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n      </TouchableOpacity>\n    );\n  };\n\n  const renderTimeSlot = (item, index) => {\n    const formattedDate = format(parse(item.date, 'yyyy-MM-dd', new Date()), 'MMM d, yyyy');\n    const formattedStartTime = formatTime(item.startTime);\n    const formattedEndTime = formatTime(item.endTime);\n\n    return (\n      <View key={index} style={styles.timeSlotContainer}>\n        <View style={styles.dateHeader}>\n          <Text style={styles.dateText}>{formattedDate}</Text>\n        </View>\n        <View style={[\n          styles.timeSlotContent,\n          item.isBooking && styles.bookingContent\n        ]}>\n          <View style={styles.timeAndReason}>\n            <Text style={styles.timeText}>\n              {formattedStartTime} - {formattedEndTime}\n            </Text>\n            <Text style={styles.reasonText}>\n              {item.reason}\n            </Text>\n          </View>\n          {renderActionButton(item)}\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      onRequestClose={handleClose}\n    >\n      <Animated.View style={[\n        styles.modalContainer,\n        {\n          opacity: fadeAnim,\n        }\n      ]}>\n        <Animated.View style={[\n          styles.modalContent,\n          {\n            transform: [{ translateY: slideAnim }]\n          }\n        ]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Unavailable Times</Text>\n            <TouchableOpacity onPress={handleClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          \n          <ScrollView style={styles.timesList}>\n            {getUnavailableTimes().map((item, index) => renderTimeSlot(item, index))}\n            {getUnavailableTimes().length === 0 && (\n              <Text style={styles.emptyText}>No unavailable times for selected date(s)</Text>\n            )}\n          </ScrollView>\n        </Animated.View>\n      </Animated.View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  timesList: {\n    maxHeight: '90%',\n  },\n  timeSlotContainer: {\n    marginBottom: 15,\n  },\n  dateHeader: {\n    marginBottom: 8,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  timeSlotContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    backgroundColor: theme.colors.background,\n    padding: 12,\n    borderRadius: 8,\n  },\n  bookingContent: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 2,\n  },\n  timeAndReason: {\n    flex: 1,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reasonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.textSecondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  removeButton: {\n    padding: 5,\n    marginLeft: 10,\n  },\n  bookingButton: {\n    padding: 5,\n    marginLeft: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    width: 34,\n    height: 34,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 1,\n    elevation: 2,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    marginTop: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default UnavailableTimesModal; ","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ScrollView, Platform, StatusBar, Dimensions, ActivityIndicator, Animated } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Calendar } from 'react-native-calendars';\nimport moment from 'moment';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddAvailabilityModal from '../components/AddAvailabilityModal';\nimport DefaultSettingsModal from '../components/DefaultSettingsModal';\nimport { format, parse } from 'date-fns';\nimport { SERVICE_TYPES, fetchAvailabilityData, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBottomSheet from '../components/AvailabilityBottomSheet';\nimport UnavailableTimesModal from '../components/UnavailableTimesModal';\nimport { useNavigation } from '@react-navigation/native';\n\nconst daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst AvailabilitySettings = () => {\n  const [markedDates, setMarkedDates] = useState({});\n  const [selectedDates, setSelectedDates] = useState([]);\n  const [isAddModalVisible, setIsAddModalVisible] = useState(false);\n  const [isSettingsModalVisible, setIsSettingsModalVisible] = useState(false);\n  const [defaultAvailability, setDefaultAvailability] = useState('available');\n  const [currentAvailability, setCurrentAvailability] = useState({});\n  const [bookings, setBookings] = useState({});\n  const [defaultSettings, setDefaultSettings] = useState({\n    Monday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showBottomSheet, setShowBottomSheet] = useState(false);\n  const [showUnavailableTimesModal, setShowUnavailableTimesModal] = useState(false);\n  const [isClosing, setIsClosing] = useState(false);\n  const [isBottomSheetMinimized, setIsBottomSheetMinimized] = useState(false);\n  const navigation = useNavigation();\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    const loadAvailabilityData = async () => {\n      try {\n        setIsLoading(true);\n        const data = await fetchAvailabilityData();\n        updateMarkedDates(data.availableDates, data.unavailableDates, data.bookings);\n        \n        const combinedAvailability = {};\n        Object.keys(data.availableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: true,\n            unavailableTimes: [] // Initialize empty array for partially unavailable times\n          };\n        });\n        Object.keys(data.unavailableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: false,\n            unavailableTimes: [{\n              startTime: data.unavailableDates[date].startTime,\n              endTime: data.unavailableDates[date].endTime,\n              reason: ' Personal Time'\n            }]\n          };\n        });\n        Object.keys(data.bookings).forEach(date => {\n          if (!combinedAvailability[date]) {\n            combinedAvailability[date] = { \n              isAvailable: true,\n              unavailableTimes: []\n            };\n          }\n          combinedAvailability[date].unavailableTimes = [\n            ...combinedAvailability[date].unavailableTimes,\n            ...data.bookings[date].map(booking => ({\n              startTime: booking.startTime,\n              endTime: booking.endTime,\n              reason: ` Booked with ${booking.client_name}`,\n              clientId: booking.clientId // Assuming each booking has a clientId\n            }))\n          ];\n        });\n        setCurrentAvailability(combinedAvailability);\n        setBookings(data.bookings);\n      } catch (err) {\n        setError('Failed to load availability data');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadAvailabilityData();\n  }, []);\n\n  const updateMarkedDates = (availableDates, unavailableDates, bookings) => {\n    const newMarkedDates = {};\n\n    // Helper function to check if all services are selected for a time slot\n    const hasAllServices = (reason) => {\n      if (!reason) return false;\n      const services = reason.replace('Unavailable for: ', '').split(', ');\n      return services.length === (SERVICE_TYPES.length - 1);\n    };\n\n    Object.entries(unavailableDates).forEach(([date, time]) => {\n      const isFullDay = time.startTime === '00:00' && time.endTime === '24:00';\n      const allServicesSelected = hasAllServices(time.reason);\n      \n      newMarkedDates[date] = {\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    Object.entries(availableDates).forEach(([date, time]) => {\n      if (!newMarkedDates[date]) {\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    Object.entries(bookings).forEach(([date, bookingList]) => {\n      const isFullDay = bookingList.some(booking => \n        booking.startTime === '00:00' && booking.endTime === '24:00'\n      );\n      newMarkedDates[date] = { \n        marked: true,\n        dotColor: theme.colors.primary,\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay ? theme.colors.primary : theme.colors.calendarColorYellowBrown,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    setMarkedDates(newMarkedDates);\n  };\n\n  const toggleBottomSheet = (show) => {\n    if (show) {\n      setIsClosing(false);\n      setShowBottomSheet(true);\n      Animated.timing(fadeAnim, {\n        toValue: 0.5,\n        duration: 300,\n        useNativeDriver: true,\n      }).start();\n    } else {\n      setIsClosing(true);\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true,\n      }).start(() => {\n        setShowBottomSheet(false);\n        setIsClosing(false);\n      });\n    }\n  };\n\n  const handleBottomSheetMinimize = (minimized) => {\n    setIsBottomSheetMinimized(minimized);\n    Animated.timing(fadeAnim, {\n      toValue: minimized ? 0 : 0.5,\n      duration: 300,\n      useNativeDriver: true,\n    }).start();\n  };\n\n  const onDayPress = (day) => {\n    const { dateString } = day;\n    const selectedDate = new Date(dateString);\n    selectedDate.setDate(selectedDate.getDate() + 1); // Adjust for timezone offset\n    selectedDate.setHours(0, 0, 0, 0);\n  \n    if (selectedDates.length === 0) {\n      setSelectedDates([dateString]);\n      toggleBottomSheet(true);\n    } else if (selectedDates.length >= 1) {\n      const firstDate = new Date(selectedDates[0]);\n      firstDate.setDate(firstDate.getDate() + 1); // Adjust for timezone offset\n      firstDate.setHours(0, 0, 0, 0);    \n\n      if (selectedDate.getTime() === firstDate.getTime()) {\n        return;\n      }\n\n      if (selectedDate < firstDate) {\n        setSelectedDates([dateString]);\n        toggleBottomSheet(true);\n        return;\n      }\n\n      const range = [];\n      const currentDate = new Date(firstDate);\n      const endDate = new Date(selectedDate);\n\n      while (currentDate <= endDate) {\n        range.push(format(currentDate, 'yyyy-MM-dd'));\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    \n      setSelectedDates(range);\n    }\n  };\n\n  const handleAddAvailability = (availabilityData) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n\n    availabilityData.dates.forEach(date => {\n      const allServicesSelected = availabilityData.serviceTypes.includes(ALL_SERVICES) || \n                                 availabilityData.serviceTypes.length === SERVICE_TYPES.length - 1;\n\n      if (!availabilityData.isAvailable) {\n        newCurrentAvailability[date] = {\n          isAvailable: false,\n          unavailableTimes: [{\n            startTime: availabilityData.startTime,\n            endTime: availabilityData.endTime,\n            reason: availabilityData.reason\n          }]\n        };\n\n        newMarkedDates[date] = {\n          customStyles: {\n            container: {\n              backgroundColor: availabilityData.isAllDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'white' }\n          }\n        };\n      } else {\n        newCurrentAvailability[date] = {\n          isAvailable: true,\n          unavailableTimes: []\n        };\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n    setIsAddModalVisible(false);\n    setSelectedDates([]);\n  };\n\n  const applyDefaultSettingsToCalendar = (settings) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n    \n    const today = new Date();\n    const oneYearFromNow = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());\n\n    const daysMapping = {\n      'Sunday': 0,\n      'Monday': 1,\n      'Tuesday': 2,\n      'Wednesday': 3,\n      'Thursday': 4,\n      'Friday': 5,\n      'Saturday': 6\n    };\n\n    Object.entries(settings).forEach(([day, daySettings]) => {\n      let currentDate = new Date(Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()));\n      const targetDayNumber = daysMapping[day];\n      \n      while (currentDate <= (daySettings.endDate ? new Date(daySettings.endDate) : oneYearFromNow)) {\n        const currentDayNumber = currentDate.getUTCDay();\n        const dateString = currentDate.toISOString().split('T')[0];\n        \n        if (currentDayNumber === targetDayNumber) {\n          if (daySettings.isUnavailable) {\n            if (daySettings.isAllDay) {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: 'lightgrey' },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: false,\n                unavailableTimes: [{ startTime: '00:00', endTime: '24:00', reason: 'Default Setting' }]\n              };\n            } else {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: theme.colors.calendarColor },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: true,\n                unavailableTimes: [{\n                  startTime: daySettings.startTime,\n                  endTime: daySettings.endTime,\n                  reason: 'Default Setting'\n                }]\n              };\n            }\n          } else {\n            // Reset to available\n            delete newMarkedDates[dateString];\n            delete newCurrentAvailability[dateString];\n          }\n        }\n        currentDate.setUTCDate(currentDate.getUTCDate() + 1);\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n  };\n\n  //TODO: implement this in future for making clients on bookings clickable\n  // const handleClientPress = (clientId) => {\n  //   // Navigate to the client history page\n  //   // You'll need to implement this navigation logic\n  //   console.log(`Navigating to client history for client ID: ${clientId}`);\n  // };\n\n  const IconComponent = Platform.OS === 'web' ? MaterialCommunityIcons : Icon;\n\n  const renderArrow = (direction) => {\n    let iconName;\n    if (Platform.OS === 'web') {\n      iconName = direction === 'left' ? 'chevron-left' : 'chevron-right';\n    } else {\n      iconName = direction === 'left' ? 'chevron-back' : 'chevron-forward';\n    }\n    return (\n      <IconComponent \n        name={iconName} \n        size={24} \n        color={theme.colors.primary}\n      />\n    );\n  };\n\n  const handleDefaultSettingsSave = (newSettings) => {\n    console.log(\"Before updating defaultSettings:\", defaultSettings);\n    console.log(\"New settings to be applied:\", newSettings);\n    setDefaultSettings(newSettings);\n    \n    // Add a setTimeout to check the state after update\n    setTimeout(() => {\n      console.log(\"After updating defaultSettings:\", defaultSettings);\n    }, 0);\n    \n    // Call applyDefaultSettingsToCalendar to update the calendar view\n    applyDefaultSettingsToCalendar(newSettings);\n    setIsSettingsModalVisible(false);\n  };\n\n  const handleSaveAvailability = (data) => {\n    const { startTime, endTime, services, isAvailable } = data;\n    const isAllDay = startTime === '00:00' && endTime === '24:00';\n    handleAddAvailability({\n      dates: selectedDates,\n      isAllDay,\n      startTime,\n      endTime,\n      isUnavailable: !isAvailable,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n    toggleBottomSheet(false);\n    setSelectedDates([]);\n  };\n\n  // TODO: make this actually remove the timeslot on the backend\n  const handleRemoveTimeSlot = (date, timeSlot, updatedAvailability, selectedDates) => {\n    if (updatedAvailability && selectedDates) {\n      // Handle multiple dates\n      setCurrentAvailability(prev => ({\n        ...prev,\n        ...updatedAvailability\n      }));\n\n      // Update marked dates for multiple dates\n      const newMarkedDates = { ...markedDates };\n      selectedDates.forEach(date => {\n        if (updatedAvailability[date]?.unavailableTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n        }\n      });\n      setMarkedDates(newMarkedDates);\n    } else {\n      // Handle single date (existing functionality)\n      setCurrentAvailability(prev => {\n        const currentDateAvailability = prev[date];\n        if (!currentDateAvailability) return prev;\n\n        const filteredTimes = currentDateAvailability.unavailableTimes.filter(\n          time => !(time.startTime === timeSlot.startTime && time.endTime === timeSlot.endTime)\n        );\n\n        // Update marked dates for single date\n        const newMarkedDates = { ...markedDates };\n        if (filteredTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n          setMarkedDates(newMarkedDates);\n        }\n\n        return {\n          ...prev,\n          [date]: {\n            ...currentDateAvailability,\n            unavailableTimes: filteredTimes\n          }\n        };\n      });\n    }\n  };\n\n  const handleViewBookings = () => {\n    if (selectedDates.length > 0) {\n      navigation.navigate('MyBookings', {\n        selectedDates,\n        initialTab: 'Upcoming'\n      });\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={styles.loadingText}>Loading availability...</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  if (error) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <TouchableOpacity \n            style={styles.retryButton}\n            onPress={() => {\n              setError(null);\n              loadAvailabilityData();\n            }}\n          >\n            <Text style={styles.retryButtonText}>Retry</Text>\n          </TouchableOpacity>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      <SafeAreaView style={styles.container}>\n        <ScrollView \n          style={styles.scrollView} \n          contentContainerStyle={styles.scrollContent}\n        >\n          <View style={styles.centeredContainer}>\n            <View style={styles.header}>\n              <Text style={styles.title}>Availability</Text>\n              <TouchableOpacity \n                style={styles.defaultSettingsButton} \n                onPress={() => setIsSettingsModalVisible(true)}\n              >\n                <Text style={styles.defaultSettingsText}>Default Settings</Text>\n                <IconComponent \n                  name={Platform.OS === 'web' ? 'cog' : 'settings-outline'} \n                  size={24} \n                  color={theme.colors.text} \n                />\n              </TouchableOpacity>\n            </View>\n\n            {/* TODO: make the calendar look more user friendly */}\n            <Calendar\n              markedDates={{\n                ...markedDates,\n                ...selectedDates.reduce((acc, date) => ({\n                  ...acc,\n                  [date]: {\n                    ...markedDates[date],\n                    selected: true,\n                    customStyles: {\n                      container: {\n                        backgroundColor: theme.colors.primary,\n                        width: selectedDates.length === 1 ? 35 : '100%',\n                        height: 35,\n                        borderRadius: selectedDates.length === 1 ? 17.5 : 0,\n                        ...(selectedDates.length > 1 && {\n                          borderRadius: 0,\n                          ...(date === selectedDates[0] && {\n                            borderTopLeftRadius: 17.5,\n                            borderBottomLeftRadius: 17.5,\n                          }),\n                          ...(date === selectedDates[selectedDates.length - 1] && {\n                            borderTopRightRadius: 17.5,\n                            borderBottomRightRadius: 17.5,\n                          }),\n                        }),\n                      },\n                      text: { \n                        color: 'white',\n                        fontWeight: 'bold',\n                      }\n                    }\n                  }\n                }), {})\n              }}\n              markingType={'custom'}\n              theme={{\n                'stylesheet.calendar.main': {\n                  week: {\n                    marginVertical: 0,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around',\n                  },\n                  dayContainer: {\n                    flex: 1,\n                    alignItems: 'center',\n                    padding: 0,\n                    margin: 0,\n                  }\n                },\n                'stylesheet.calendar.header': {\n                  header: {\n                    paddingLeft: 10,\n                    paddingRight: 10,\n                    paddingBottom: 20,\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  }\n                }\n              }}\n              style={{\n                paddingBottom: 20,\n                paddingLeft: 10,\n                paddingRight: 10\n              }}\n              onDayPress={onDayPress}\n              renderArrow={renderArrow}\n            />\n\n            {/* Color Code Key */}\n            <View style={styles.colorKeyContainer}>\n              <Text style={styles.colorKeyTitle}>Color Code Key:</Text>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: 'lightgrey' }]} />\n                <Text style={styles.colorKeyText}>Unavailable All Day</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColor }]} />\n                <Text style={styles.colorKeyText}>Partially Unavailable</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColorYellowBrown }]} />\n                <Text style={styles.colorKeyText}>Booked Dates</Text>\n              </View>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n\n      {(showBottomSheet || isClosing) && (\n        <>\n          <Animated.View \n            style={[\n              styles.overlay,\n              {\n                opacity: fadeAnim,\n                backgroundColor: 'black',\n                pointerEvents: isBottomSheetMinimized ? 'none' : 'auto'\n              }\n            ]} \n          />\n          <View style={[\n            styles.bottomSheetContainer,\n            { pointerEvents: 'box-none' }\n          ]}>\n            <AvailabilityBottomSheet\n              selectedDates={selectedDates}\n              currentAvailability={currentAvailability}\n              onClose={() => {\n                toggleBottomSheet(false);\n                setSelectedDates([]);\n              }}\n              onViewUnavailableTimes={() => {\n                setShowUnavailableTimesModal(true);\n              }}\n              onSave={handleSaveAvailability}\n              onViewBookings={handleViewBookings}\n              onMinimize={handleBottomSheetMinimize}\n            />\n          </View>\n        </>\n      )}\n\n      <UnavailableTimesModal\n        visible={showUnavailableTimesModal}\n        onClose={() => setShowUnavailableTimesModal(false)}\n        selectedDates={selectedDates}\n        currentAvailability={currentAvailability}\n        onRemoveTimeSlot={handleRemoveTimeSlot}\n        bookings={bookings}\n      />\n\n      <DefaultSettingsModal\n        isVisible={isSettingsModalVisible}\n        onClose={() => setIsSettingsModalVisible(false)}\n        onSave={handleDefaultSettingsSave}\n        defaultSettings={defaultSettings}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n  },\n  bottomSheetOverlay: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  centeredContainer: {\n    maxWidth: 1000,\n    width: '100%',\n    alignSelf: 'center',\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  addButton: {\n    position: 'absolute',\n    right: 20,\n    bottom: 20,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  defaultSettingsButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  defaultSettingsText: {\n    marginRight: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  colorKeyContainer: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    elevation: 2,\n  },\n  colorKeyTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  colorKeyItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5,\n  },\n  colorBox: {\n    width: 20,\n    height: 20,\n    borderRadius: 3,\n    marginRight: 10,\n  },\n  colorKeyText: {\n    fontSize: 14,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.error,\n    textAlign: 'center',\n    marginBottom: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n  },\n  retryButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'black',\n  },\n  bottomSheetContainer: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n});\n\nexport default AvailabilitySettings;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, Image, Platform, SafeAreaView, StatusBar, Dimensions, ActivityIndicator } from 'react-native';\nimport { Card, Title, Paragraph, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst MyPets = ({ navigation }) => {\n  const [pets, setPets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { screenWidth } = useContext(AuthContext);\n\n  useEffect(() => {\n    fetchPets();\n  }, []);\n\n  const fetchPets = async () => {\n    setLoading(true);\n    try {\n      // Simulate network delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // Mock data\n      const mockPets = [\n        {\n          id: '1',\n          name: 'Max',\n          animal_type: 'Dog',\n          breed: 'border collie',\n          age: {\n            months: 0,\n            years: 5,\n          },\n          weight: 32,\n          sex: 'Male',\n          friendlyWithChildren: true,\n          friendlyWithCats: false,\n          friendlyWithDogs: true,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: true,\n          adoptionDate: '2020-01-15',\n          description: 'Loves to play fetch and go for walks.',\n          energyLevel: 'High',\n          feedingSchedule: 'Morning',\n          leftAlone: '1-4 hours',\n          medication: null,\n          additionalInstructions: 'Needs daily exercise.',\n          vetName: 'Dr. Smith',\n          vetAddress: '123 Vet St.',\n          vetPhone: '555-1234',\n          insuranceProvider: 'Pet Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '2',\n          name: 'Whiskers',\n          animal_type: 'Cat',\n          breed: 'tammy ammy',\n          age: {\n            months: 3,\n            years: 4,\n          },\n          weight: 16,\n          sex: 'Female',\n          friendlyWithChildren: true,\n          friendlyWithCats: true,\n          friendlyWithDogs: false,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: false,\n          adoptionDate: '2019-05-20',\n          description: 'Enjoys lounging in the sun.',\n          energyLevel: 'Low',\n          feedingSchedule: 'Twice a day',\n          leftAlone: '4-8 hours',\n          medication: null,\n          additionalInstructions: 'Prefers quiet environments.',\n          vetName: 'Dr. Jones',\n          vetAddress: '456 Vet Ave.',\n          vetPhone: '555-5678',\n          insuranceProvider: 'Pet Health Insurance',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '3',\n          name: 'Buddy',\n          animal_type: 'Lizard',\n          breed: 'leopard gecko',\n          age: {\n            months: 0,\n            years: 2,\n          },\n          weight: 1,\n          sex: 'Male',\n          friendlyWithChildren: false,\n          friendlyWithCats: false,\n          friendlyWithDogs: false,\n          spayedNeutered: false,\n          houseTrained: false,\n          microchipped: false,\n          adoptionDate: '2021-08-10',\n          description: 'A calm and quiet pet.',\n          energyLevel: 'Low',\n          feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n          leftAlone: 'Can be left alone indefinitely',\n          medication: null,\n          additionalInstructions: 'Keep in a warm environment.',\n          vetName: 'Dr. Green',\n          vetAddress: '789 Vet Blvd.',\n          vetPhone: '555-9012',\n          insuranceProvider: 'Reptile Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n      ];\n\n      setPets(mockPets);\n    } catch (error) {\n      console.error('Error fetching pets:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const PetCard = ({ pet }) => (\n    <TouchableOpacity \n      onPress={() => {\n        if (Platform.OS === 'web') {\n          // Store pet data before navigation\n          sessionStorage.setItem('editPetData', JSON.stringify(pet));\n          // Navigate and immediately clean URL\n          navigation.navigate('AddPet');\n          window.history.replaceState({}, '', '/AddPet');\n        } else {\n          navigation.navigate('AddPet', { pet });\n        }\n      }}\n    >\n      <Card style={styles.petCard}>\n        <Card.Content style={styles.petCardContent}>\n          {pet.image ? (\n            <Image source={{ uri: pet.image }} style={styles.petImage} />\n          ) : (\n            <View style={styles.petImagePlaceholder}>\n              <MaterialCommunityIcons \n                name={getAnimalIcon(pet.animal_type ? pet.animal_type : 'paw')} \n                size={40} \n                color={theme.colors.primary} \n              />\n            </View>\n          )}\n          <View style={styles.petInfo}>\n            <Title>{pet.name}</Title>\n            <Paragraph>{pet.animal_type ? pet.animal_type : 'paw'}</Paragraph>\n            <Paragraph>{pet.age.years} years {pet.age.months} months old</Paragraph>\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  );\n\n  const getAnimalIcon = (animalType) => {\n    switch (animalType.toLowerCase()) {\n      case 'dog':\n        return 'dog';\n      case 'cat':\n        return 'cat';\n      case 'rabbit':\n        return 'rabbit';\n      case 'reptile':\n      case 'lizard':\n        return 'snake';\n      case 'snake':\n        return 'snake';\n      case 'turtle':\n        return 'turtle';\n      case 'bird':\n      case 'parrot':\n        return 'bird';\n      case 'horse':\n        return 'horse';\n      case 'fish':\n        return 'fish';\n      default:\n        return 'paw';\n    }\n  };\n\n  const getCardWidth = () => {\n    if (screenWidth <= 600) {\n      return '90%';\n    } else if (screenWidth <= 800) {\n      return '60%';\n    } else {\n      return '30%';\n    }\n  };\n\n  const Content = () => {\n    if (loading) {\n      return (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      );\n    }\n\n    return (\n      <ScrollView contentContainerStyle={[\n        styles.scrollContent,\n        Platform.OS === 'web' && { alignItems: 'center' },\n        { marginBottom: 15 }\n      ]}>\n        <View style={[styles.contentWrapper, { width: getCardWidth() }]}>\n          {pets.map(pet => (\n            <PetCard key={pet.id} pet={pet} />\n          ))}\n          <Button\n            mode=\"contained\"\n            onPress={() => navigation.navigate('AddPet', { pet: {} })}\n            style={styles.addButton}\n            icon={({ size, color }) => (\n              <MaterialCommunityIcons name=\"plus\" size={size} color={color} />\n            )}\n          >\n            Add Pet\n          </Button>\n        </View>\n      </ScrollView>\n    );\n  };\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, { paddingTop: StatusBar.currentHeight }]}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 16,\n  },\n  contentWrapper: {\n    alignSelf: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    marginBottom: 16,\n  },\n  petCard: {\n    marginBottom: 16,\n    transform: [{ scale: Platform.OS === 'web' ? (screenWidth <= 800 && screenWidth > 600 ? 1.15 : 1) : 1 }],\n  },\n  petCardContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n  },\n  petImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  addButton: {\n    marginTop: 5,\n    alignSelf: 'center',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default MyPets;\n","import React from 'react';\nimport { View, StyleSheet, ScrollView, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst ClientHistory = ({ route, navigation }) => {\n  const { clientId } = route.params;\n  const { colors } = useTheme();\n\n  // Mock data - replace with actual data from your backend\n  const clientData = {\n    id: clientId,\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    phone: '(123) 456-7890',\n    contracts: [\n      { id: '1', date: '2023-05-01', status: 'Completed' },\n      { id: '2', date: '2023-04-15', status: 'Pending' },\n    ],\n    invoices: [\n      { id: '1', date: '2023-05-02', amount: '$100', status: 'Paid' },\n      { id: '2', date: '2023-04-16', amount: '$75', status: 'Unpaid' },\n    ],\n    upcomingBookings: [\n      { id: '1', date: '2023-06-01', service: 'Dog Walking' },\n      { id: '2', date: '2023-06-15', service: 'Cat Sitting' },\n    ],\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>{clientData.name}</Title>\n          <Paragraph>Email: {clientData.email}</Paragraph>\n          <Paragraph>Phone: {clientData.phone}</Paragraph>\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Upcoming Bookings</Title>\n          {clientData.upcomingBookings.map(booking => (\n            <List.Item\n              key={booking.id}\n              title={`Booking ${booking.id}`}\n              description={`Date: ${booking.date} - Service: ${booking.service}`}\n              left={props => <List.Icon {...props} icon=\"calendar\" />}\n            />\n          ))}\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Contracts</Title>\n          {clientData.contracts.map(contract => (\n            <List.Item\n              key={contract.id}\n              title={`Contract ${contract.id}`}\n              description={`Date: ${contract.date} - Status: ${contract.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Contracts', 'ClientHistory', { clientId })}>View All Contracts</Button>\n        </Card.Actions>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Invoices</Title>\n          {clientData.invoices.map(invoice => (\n            <List.Item\n              key={invoice.id}\n              title={`Invoice ${invoice.id}`}\n              description={`Date: ${invoice.date} - Amount: ${invoice.amount} - Status: ${invoice.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Invoices', 'ClientHistory', { clientId })}>View All Invoices</Button>\n        </Card.Actions>\n      </Card>\n\n      <View style={styles.messageButtonContainer}>\n        <Button \n          mode=\"contained\" \n          onPress={() => navigateToFrom(navigation, 'Messages', 'ClientHistory', { clientId })}\n          style={styles.messageButton}\n        >\n          View Messages\n        </Button>\n      </View>\n    </ScrollView>\n  );\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, styles.androidContainer]}>\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidContainer: {\n    paddingTop: StatusBar.currentHeight,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 90, // Extra padding for iOS and Android\n  },\n  card: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  messageButtonContainer: {\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n    marginTop: 16,\n  },\n  messageButton: {\n    width: '100%',\n  },\n});\n\nexport default ClientHistory;\n","/**\n * Validates that the end date/time is not before the start date/time\n * @param {string} startDate - Start date in ISO format\n * @param {string} endDate - End date in ISO format (optional)\n * @param {string} startTime - Start time in HH:mm format\n * @param {string} endTime - End time in HH:mm format\n * @returns {Object} - { isValid: boolean, error: string | null }\n */\nexport const validateDateTimeRange = (startDate, endDate, startTime, endTime) => {\n  // Convert dates and times to comparable format\n  const [startHour, startMinute] = startTime.split(':').map(Number);\n  const [endHour, endMinute] = endTime.split(':').map(Number);\n  \n  const startDateTime = new Date(startDate);\n  startDateTime.setHours(startHour, startMinute, 0);\n  \n  let endDateTime;\n  if (endDate) {\n    endDateTime = new Date(endDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  } else {\n    // If no end date, use start date\n    endDateTime = new Date(startDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  }\n\n  if (endDateTime < startDateTime) {\n    return {\n      isValid: false,\n      error: 'End date/time cannot be before start date/time'\n    };\n  }\n\n  return {\n    isValid: true,\n    error: null\n  };\n}; ","import React, { useState, useEffect } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet, ScrollView, Picker, ActivityIndicator, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport { format } from 'date-fns';\nimport { TIME_OPTIONS } from '../data/mockData';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst ANIMAL_COUNT_OPTIONS = ['1', '2', '3', '4', '5'];\n\nconst WebScrollStyles = `\n  .modal-scroll-container {\n    max-height: 60vh;\n    overflow-y: scroll !important;\n    padding-right: 16px;\n    display: block;\n    position: relative;\n    scrollbar-width: auto;\n    scrollbar-color: rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1);\n  }\n\n  .modal-scroll-container::-webkit-scrollbar {\n    width: 10px;\n    background-color: #F5F5F5;\n    display: block;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.1);\n    border: 1px solid #ccc;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid #aaa;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb:hover {\n    background: rgba(0, 0, 0, 0.7);\n  }\n`;\n\nconst ScrollableContent = ({ children }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <>\n        <style>{WebScrollStyles}</style>\n        <div className=\"modal-scroll-container\">\n          {children}\n        </div>\n      </>\n    );\n  }\n  \n  return (\n    <ScrollView showsVerticalScrollIndicator={true} persistentScrollbar={true}>\n      {children}\n    </ScrollView>\n  );\n};\n\nconst AddOccurrenceModal = ({ \n  visible, \n  onClose, \n  onAdd, \n  defaultRates, \n  hideRates = false,\n  initialOccurrence = null,\n  isEditing = false,\n  modalTitle = 'Add New Occurrence'\n}) => {\n\n  // Helper function to create a Date object from a time string\n  const createTimeDate = (timeStr) => {\n    if (timeStr instanceof Date) return timeStr;\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours, 10));\n    date.setMinutes(parseInt(minutes, 10));\n    return date;\n  };\n\n  const [occurrence, setOccurrence] = useState(() => {\n    \n    \n    if (initialOccurrence) {\n      const initialState = {\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      };\n      \n      return initialState;\n    }\n\n    const defaultState = {\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: defaultRates?.additionalRates || []\n      }\n    };\n    \n    return defaultState;\n  });\n\n  // Reset occurrence when initialOccurrence changes or when modal visibility changes\n  useEffect(() => {\n    if (!visible) {\n      // Reset to default state when modal closes\n      if (!initialOccurrence) {\n        setOccurrence({\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date().toISOString().split('T')[0],\n          startTime: new Date(),\n          endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n          rates: {\n            baseRate: defaultRates?.baseRate || '0',\n            additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n            appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n            holidayRate: defaultRates?.holidayRate || '0',\n            timeUnit: defaultRates?.timeUnit || 'per visit',\n            additionalRates: []\n          }\n        });\n        setTimeUnit(defaultRates?.timeUnit || 'per visit');\n      }\n    } else if (initialOccurrence) {\n      // Only set occurrence data if we're editing\n      setOccurrence({\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      });\n      setTimeUnit(initialOccurrence.rates.timeUnit || 'per visit');\n    }\n  }, [visible, initialOccurrence, defaultRates]);\n\n  const [showAddRate, setShowAddRate] = useState(false);\n  const [newRate, setNewRate] = useState({ name: '', amount: '' });\n  const [timeUnit, setTimeUnit] = useState(initialOccurrence?.rates?.timeUnit || occurrence.rates.timeUnit);\n  const [isLoading, setIsLoading] = useState(false);\n  const [validationError, setValidationError] = useState(null);\n\n  const calculateTotal = () => {\n    // If we have a totalCost from the initialOccurrence, use that\n    if (initialOccurrence?.totalCost) {\n      return parseFloat(initialOccurrence.totalCost).toFixed(2);\n    }\n\n    // Otherwise calculate it\n    const baseAmount = parseFloat(occurrence.rates.baseRate) || 0;\n    const additionalAnimalAmount = parseFloat(occurrence.rates.additionalAnimalRate) || 0;\n    const holidayAmount = parseFloat(occurrence.rates.holidayRate) || 0;\n    const customRatesAmount = occurrence.rates.additionalRates?.reduce((sum, rate) => \n      sum + (parseFloat(rate.amount) || 0), 0) || 0;\n\n    const subtotal = baseAmount + additionalAnimalAmount + holidayAmount + customRatesAmount;\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n\n    return totalClientCost.toFixed(2);\n  };\n\n  const handleAdd = async () => {\n    try {\n      setIsLoading(true);\n      \n      const occurrenceData = {\n        ...occurrence,\n        startTime: format(occurrence.startTime, 'HH:mm'),\n        endTime: format(occurrence.endTime, 'HH:mm'),\n        rates: {\n          ...occurrence.rates,\n          baseRate: parseFloat(occurrence.rates.baseRate) || 0,\n          additionalAnimalRate: parseFloat(occurrence.rates.additionalAnimalRate) || 0,\n          appliesAfterAnimals: occurrence.rates.appliesAfterAnimals,\n          holidayRate: parseFloat(occurrence.rates.holidayRate) || 0,\n          additionalRates: occurrence.rates.additionalRates.map(rate => ({\n            ...rate,\n            amount: parseFloat(rate.amount) || 0\n          })),\n          timeUnit,\n        },\n        totalCost: parseFloat(calculateTotal())\n      };\n\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      await onAdd(occurrenceData);\n\n      setOccurrence({\n        startDate: new Date().toISOString().split('T')[0],\n        endDate: new Date().toISOString().split('T')[0],\n        startTime: new Date(),\n        endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n        rates: {\n          baseRate: defaultRates?.baseRate || 0,\n          additionalAnimalRate: defaultRates?.additionalAnimalRate || 0,\n          appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n          holidayRate: defaultRates?.holidayRate || 0,\n          additionalRates: [],\n          timeUnit: 'per visit'\n        }\n      });\n      setShowAddRate(false);\n      setNewRate({ name: '', amount: '' });\n      \n      await new Promise(resolve => setTimeout(resolve, 500));\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n    } finally {\n      setIsLoading(false);\n      onClose();\n    }\n  };\n\n  const handleAddRate = () => {\n    if (newRate.name && newRate.amount) {\n      setOccurrence(prev => ({\n        ...prev,\n        rates: {\n          ...prev.rates,\n          additionalRates: [...prev.rates.additionalRates, {\n            ...newRate,\n            amount: parseFloat(newRate.amount)\n          }]\n        }\n      }));\n      setNewRate({ name: '', amount: '' });\n      setShowAddRate(false);\n    }\n  };\n\n  const handleDeleteRate = (index) => {\n    setOccurrence(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        additionalRates: prev.rates.additionalRates.filter((_, i) => i !== index)\n      }\n    }));\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleSubmit = () => {\n    // Validate the date/time range\n    const validation = validateDateTimeRange(\n      occurrence.startDate,\n      occurrence.endDate,\n      format(occurrence.startTime, 'HH:mm'),\n      format(occurrence.endTime, 'HH:mm')\n    );\n\n    if (!validation.isValid) {\n      setValidationError(validation.error);\n      return;\n    }\n\n    handleAdd();\n  };\n\n  const resetForm = () => {\n    setOccurrence({\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: []\n      }\n    });\n    setTimeUnit(defaultRates?.timeUnit || 'per visit');\n    setShowAddRate(false);\n    setNewRate({ name: '', amount: '' });\n    setValidationError(null);\n  };\n\n  const renderPickerItems = (options) => {\n    return options.map((option) => (\n      <Picker.Item \n        key={option} \n        label={option} \n        value={option}\n        style={styles.pickerItem}\n      />\n    ));\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={handleClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {modalTitle}\n            </Text>\n            <TouchableOpacity style={styles.closeButton} onPress={handleClose}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollableContent>\n            <View style={styles.dateTimeSection}>\n              <Text style={styles.sectionTitle}>Date & Time</Text>\n              \n              <View style={styles.dateTimeContainer}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Date</Text>\n                  <DatePicker\n                    value={occurrence.startDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, startDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Time</Text>\n                  <TimePicker\n                    value={occurrence.startTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, startTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n            <View style={styles.dateTimeSection}>\n              <View style={[styles.dateTimeContainer, {marginTop: 15}]}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Date</Text>\n                  <DatePicker\n                    value={occurrence.endDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, endDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Time</Text>\n                  <TimePicker\n                    value={occurrence.endTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, endTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n\n            {validationError && (\n              <Text style={styles.errorText}>{validationError}</Text>\n            )}\n\n            {!hideRates && (\n              <>\n                <View style={styles.rateSection}>\n                  <View style={[styles.rateContainer, {marginTop: 15}]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Base Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.baseRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            baseRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Per</Text>\n                      <Picker\n                        selectedValue={timeUnit}\n                        onValueChange={(itemValue) => setTimeUnit(itemValue)}\n                        style={styles.picker}\n                      >\n                        {renderPickerItems(TIME_OPTIONS)}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Additional Animal Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.additionalAnimalRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            additionalAnimalRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Applies After</Text>\n                      <Picker\n                        selectedValue={occurrence.rates.appliesAfterAnimals}\n                        onValueChange={(itemValue) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            appliesAfterAnimals: itemValue\n                          }\n                        }))}\n                        style={styles.picker}\n                      >\n                        {ANIMAL_COUNT_OPTIONS.map((option) => (\n                          <Picker.Item key={option} label={`${option} animal${option === '1' ? '' : 's'}`} value={option} />\n                        ))}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Holiday Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.holidayRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            holidayRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                  </View>\n                </View>\n\n                <View style={styles.rateSection}>\n                  <Text style={[styles.label, {marginTop: 10, marginBottom: 0}]}>Additional Rates</Text>\n                  {occurrence.rates.additionalRates.map((rate, index) => (\n                    <View key={index} style={[styles.rateRow, {marginTop: 10, marginBottom: 0}]}>\n                      <TextInput\n                        style={[styles.input, styles.rateInput]}\n                        value={rate.name}\n                        editable={false}\n                      />\n                      <View style={[styles.rateAmountContainer]}>\n                        <TextInput\n                          style={[styles.input, styles.rateAmountInput]}\n                          value={rate.amount.toString()}\n                          editable={false}\n                        />\n                      </View>\n                      <TouchableOpacity onPress={() => handleDeleteRate(index)}>\n                        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n                      </TouchableOpacity>\n                    </View>\n                  ))}\n\n                  {showAddRate ? (\n                    <>\n                      <View style={styles.rateLabelContainer}>\n                        <Text style={styles.rateTitleLabel}>Rate Title</Text>\n                        <Text style={styles.rateAmountLabel}>Rate Amount</Text>\n                      </View>\n                      <View style={styles.rateRow}>\n                        <TextInput\n                          style={[styles.input, styles.rateInput]}\n                          value={newRate.name}\n                          onChangeText={(text) => setNewRate(prev => ({ ...prev, name: text }))}\n                          placeholder=\"Rate Title\"\n                        />\n                        <View style={[styles.rateAmountContainer]}>\n                          <TextInput\n                            style={[styles.input, styles.rateAmountInput]}\n                            value={newRate.amount}\n                            onChangeText={(text) => setNewRate(prev => ({ \n                              ...prev, \n                              amount: text.replace(/[^0-9.]/g, '') \n                            }))}\n                            keyboardType=\"decimal-pad\"\n                            placeholder=\"0.00\"\n                          />\n                        </View>\n                        <TouchableOpacity onPress={handleAddRate}>\n                          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n                        </TouchableOpacity>\n                      </View>\n                    </>\n                  ) : (\n                    <TouchableOpacity \n                      style={styles.addRateButton}\n                      onPress={() => setShowAddRate(true)}\n                    >\n                      <Text style={styles.addRateButtonText}>Add custom rate</Text>\n                    </TouchableOpacity>\n                  )}\n                </View>\n              \n\n                <View style={styles.totalSection}>\n                  <Text style={styles.totalLabel}>Total:</Text>\n                  <Text style={styles.totalAmount}>${calculateTotal()}</Text>\n                </View>\n\n              </>\n            )}\n\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity\n                style={[styles.button, styles.cancelButton]}\n                onPress={handleClose}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={[styles.button, styles.addButton]}\n                onPress={handleSubmit}\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  <ActivityIndicator color={theme.colors.surface} />\n                ) : (\n                  <Text style={styles.addButtonText}>{isEditing ? 'Save' : 'Add'}</Text>\n                )}\n              </TouchableOpacity>\n            </View>\n          </ScrollableContent>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateTimeSection: {\n    // marginBottom: 10,\n  },\n  dateTimeContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 15,\n    // marginBottom: 15,\n  },\n  dateTimeColumn: {\n    flex: 1,\n  },\n  topSpacing: {\n    marginTop: 15,\n  },\n  rateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n    marginBottom: 10,\n  },\n  rateInput: {\n    flex: 2,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountContainer: {\n    flex: 1,\n  },\n  rateAmountInput: {\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addRateButton: {\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n    // marginTop: ,\n  },\n  addRateButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n  },\n  dollarSign: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 15,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addButtonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateLabelContainer: {\n    flexDirection: 'row',\n    marginTop: 10,\n    marginBottom: 5,\n  },\n  rateTitleLabel: {\n    flex: 2,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginLeft: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    gap: 10,\n  },\n  baseRateInput: {\n    flex: 1,\n  },\n  timeUnitInput: {\n    flex: 1,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    height: 39,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 8,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedDropdownText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  pickerItem: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AddOccurrenceModal;","import React, { useState } from 'react';\nimport { View, StyleSheet, Modal, ScrollView, TouchableOpacity } from 'react-native';\nimport { Button, Text, TextInput } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport AddOccurrenceModal from './AddOccurrenceModal';\nimport { format } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPE_SUGGESTIONS, mockPets } from '../data/mockData';\nimport ConfirmationModal from './ConfirmationModal';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst RequestBookingModal = ({ visible, onClose, onSubmit, services = SERVICE_TYPE_SUGGESTIONS, pets = mockPets }) => {\n  const [selectedService, setSelectedService] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [occurrences, setOccurrences] = useState([]);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [occurrenceErrors, setOccurrenceErrors] = useState({});\n\n  const resetForm = () => {\n    setSelectedService('');\n    setSelectedPets([]);\n    setOccurrences([]);\n    setSelectedOccurrence(null);\n  };\n\n  const validateOccurrences = (occs) => {\n    const errors = {};\n    let isValid = true;\n\n    occs.forEach((occ, index) => {\n      const validation = validateDateTimeRange(\n        occ.startDate,\n        occ.endDate,\n        occ.startTime,\n        occ.endTime\n      );\n\n      if (!validation.isValid) {\n        errors[index] = validation.error;\n        isValid = false;\n      }\n    });\n\n    setOccurrenceErrors(errors);\n    return isValid;\n  };\n\n  const handleSubmit = () => {\n    if (occurrences.length === 0) return;\n\n    // Validate all occurrences before submitting\n    if (!validateOccurrences(occurrences)) {\n      return;\n    }\n\n    const bookingData = {\n      serviceType: selectedService,\n      pets: selectedPets.map(petId => pets.find(p => p.id === petId)),\n      occurrences: occurrences\n    };\n\n    // Create a booking request message\n    const bookingRequestMessage = {\n      type: 'booking_request',\n      data: bookingData,\n      timestamp: new Date().toISOString()\n    };\n\n    onSubmit(bookingRequestMessage);\n    resetForm();\n    onClose();\n  };\n\n  const handleDeleteOccurrence = async (occurrenceToDelete) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      setOccurrences(prev => prev.filter(occ => \n        occ.startDate !== occurrenceToDelete.startDate || \n        occ.startTime !== occurrenceToDelete.startTime\n      ));\n    } finally {\n      setConfirmationModal({ \n        visible: false, \n        actionText: '', \n        onConfirm: null, \n        isLoading: false \n      });\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrence) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrence),\n      isLoading: false\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleOpenOccurrenceModal = () => {\n    setShowServiceDropdown(false);\n    setShowPetDropdown(false);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const handleOccurrenceUpdate = (newOccurrence) => {\n    const { startDate, endDate, startTime, endTime } = newOccurrence;\n    \n    // Validate the new occurrence\n    const validation = validateDateTimeRange(startDate, endDate, startTime, endTime);\n    \n    if (!validation.isValid) {\n      // Show error in the AddOccurrenceModal\n      // You'll need to add error handling in the AddOccurrenceModal component\n      return false;\n    }\n\n    if (selectedOccurrence) {\n      setOccurrences(prev => prev.map(occ => \n        occ === selectedOccurrence ? \n        { startDate, endDate, startTime, endTime } : \n        occ\n      ));\n    } else {\n      setOccurrences(prev => [...prev, { startDate, endDate, startTime, endTime }]);\n    }\n    setSelectedOccurrence(null);\n    setShowAddOccurrenceModal(false);\n    return true;\n  };\n\n  const renderServiceDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{selectedService || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {services.map((service) => (\n              <TouchableOpacity\n                key={service}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setSelectedService(service);\n                  setShowServiceDropdown(false);\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  selectedService === service && styles.selectedOption\n                ]}>\n                  {service}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderPetSelector = () => (\n    <View style={{ zIndex: 2 }}>\n      {selectedPets.map((petId) => {\n        const pet = pets.find(p => p.id === petId);\n        return (\n          <View key={petId} style={styles.petItem}>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type}  {pet.breed}</Text>\n            </View>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter(id => id !== petId))}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.error} \n              />\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n      \n      <TouchableOpacity\n        style={styles.addPetButton}\n        onPress={() => setShowPetDropdown(!showPetDropdown)}\n      >\n        <MaterialCommunityIcons \n          name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={20} \n          color={theme.colors.primary} \n        />\n        <Text style={styles.addPetText}>\n          {selectedPets.length === 0 ? 'Select Pets' : 'Add Pet'}\n        </Text>\n      </TouchableOpacity>\n      \n      {showPetDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true} style={styles.petDropdown}>\n            {pets\n              .filter(pet => !selectedPets.includes(pet.id))\n              .map((pet) => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setSelectedPets(prev => [...prev, pet.id]);\n                    setShowPetDropdown(false);\n                  }}\n                >\n                  <View>\n                    <Text style={styles.dropdownPetName}>{pet.name}</Text>\n                    <Text style={styles.dropdownPetDetails}>\n                      {pet.type}  {pet.breed}\n                    </Text>\n                  </View>\n                </TouchableOpacity>\n              ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderOccurrenceCard = (occ, index) => (\n    <View key={index}>\n      <TouchableOpacity \n        style={[\n          styles.occurrenceCard,\n          occurrenceErrors[index] && styles.occurrenceCardError\n        ]}\n      >\n        <View style={styles.occurrenceDetails}>\n          <Text style={styles.dateText}>\n            {occ.endDate && occ.startDate !== occ.endDate ? \n              `${format(new Date(occ.startDate), 'MMM d, yyyy')} - ${format(new Date(occ.endDate), 'MMM d, yyyy')}` :\n              format(new Date(occ.startDate), 'MMM d, yyyy')\n            }\n          </Text>\n          <Text style={styles.timeText}>\n            {`${occ.startTime} - ${occ.endTime}`}\n          </Text>\n          {occurrenceErrors[index] && (\n            <Text style={styles.errorText}>{occurrenceErrors[index]}</Text>\n          )}\n        </View>\n        <View style={styles.occurrenceActions}>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => confirmDeleteOccurrence(occ)}\n          >\n            <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => {\n              setSelectedOccurrence(occ);\n              handleOpenOccurrenceModal();\n            }}\n          >\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={visible}\n      onRequestClose={handleClose}\n      animationType=\"slide\"\n      transparent={true}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Booking</Text>\n          \n          <ScrollView style={styles.scrollView}>\n            {/* Service Selection */}\n            <Text style={styles.label}>Select Service</Text>\n            {renderServiceDropdown()}\n\n            {/* Pet Selection */}\n            <Text style={styles.label}>Select Pets</Text>\n            {renderPetSelector()}\n\n            {/* Date & Time Selection */}\n            <Text style={styles.label}>Select Date & Time</Text>\n            {occurrences.map((occ, index) => renderOccurrenceCard(occ, index))}\n\n            <TouchableOpacity\n              style={styles.addOccurrenceButton}\n              onPress={() => {\n                setSelectedOccurrence(null);\n                handleOpenOccurrenceModal();\n              }}\n            >\n              <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n              <Text style={styles.addOccurrenceText}>Add Date & Time</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.buttonContainer}>\n            <Button mode=\"outlined\" onPress={handleClose} style={styles.button}>\n              Cancel\n            </Button>\n            <Button \n              mode=\"contained\" \n              onPress={handleSubmit}\n              style={styles.button}\n              disabled={!selectedService || selectedPets.length === 0 || occurrences.length === 0}\n            >\n              Submit\n            </Button>\n          </View>\n        </View>\n      </View>\n\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => setShowAddOccurrenceModal(false)}\n        onAdd={handleOccurrenceUpdate}\n        hideRates={true}\n        initialOccurrence={selectedOccurrence}\n        modalTitle={selectedOccurrence ? 'Edit Occurrence' : 'Add New Occurrence'}\n      />\n\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: '', \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  scrollView: {\n    maxHeight: '70%',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginTop: 15,\n    marginBottom: 10,\n  },\n  serviceOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  serviceButton: {\n    marginBottom: 10,\n  },\n  petOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  petButton: {\n    marginBottom: 10,\n  },\n  dateContainer: {\n    gap: 10,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n  },\n  timePickerWrapper: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    marginBottom: 20,\n    zIndex: 3,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n    elevation: 5,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n  },\n  actionButton: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    borderRadius: 4,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n  },\n  detailText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n  occurrenceCardError: {\n    borderColor: theme.colors.error,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n  },\n});\n\nexport default RequestBookingModal; ","import React, { useState, useCallback, useRef, useEffect, useContext } from 'react';\nimport { View, StyleSheet, FlatList, KeyboardAvoidingView, Platform, SafeAreaView, StatusBar, TextInput, Text, TouchableOpacity, Dimensions, Alert } from 'react-native';\nimport { Button, Card, Paragraph, useTheme, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons'; // Import the icon library\nimport { theme } from '../styles/theme';\nimport { AuthContext, getStorage } from '../context/AuthContext';\nimport RequestBookingModal from '../components/RequestBookingModal';\nimport { createBooking, BOOKING_STATES, mockConversations, mockMessages, CURRENT_USER_ID } from '../data/mockData';\nimport { format } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\n// First, create a function to generate dynamic styles\nconst createStyles = (screenWidth) => StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: screenWidth > 1000 ? 0 : 0,\n    paddingRight: screenWidth > 1000 ? 0 : 0,\n    paddingLeft: screenWidth > 1000 ? 0 : 0,\n    height: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n    position: 'fixed',\n    top: 64,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  filterButton: {\n    marginLeft: 'auto',\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    maxWidth: screenWidth > 1000 ? '100%' : 1000,\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'hidden',\n    height: '100%',\n  },\n  conversationListContainer: {\n    width: screenWidth <= 1000 ? '100%' : '30%',\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    borderRightWidth: 2,\n    backgroundColor: theme.colors.surface,\n    overflow: 'auto',\n  },\n  conversationItem: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    width: '100%',\n  },\n  selectedConversation: {\n    backgroundColor: theme.colors.primary + '20',\n    borderLeftWidth: 3,\n    borderLeftColor: theme.colors.primary,\n  },\n  conversationName: {\n    fontSize: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  messageSection: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    height: '100%',\n    marginLeft: screenWidth > 1000 ? 0 : 0,\n    maxWidth: Platform.OS === 'web' ? \n      (screenWidth <= 1000 ? '100%' : '70%') : \n      '100%',\n    alignSelf: screenWidth <= 1000 ? 'stretch' : 'flex-start',\n    width: screenWidth <= 1000 ? '100%' : 'auto',\n    overflow: 'hidden',\n    paddingRight: screenWidth > 1000 ? 100 : 0,\n    paddingBottom: 60,\n  },\n  messagesContainer: {\n    flex: 1,\n    overflow: 'auto',\n    width: '100%',\n    position: 'absolute',\n    padding: 16,\n    paddingTop: screenWidth > 1000 ? 72 : 0,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  messageList: {\n    // padding: 16,\n    width: '100%',\n    paddingTop: 80, // the list is inverted, so we need to pad the top to account for the footer on mobile\n  },\n  messageInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n  },\n  attachButton: {\n    padding: 8,\n  },\n  messageInput: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    marginHorizontal: 8,\n  },\n  sendButton: {\n    borderRadius: 20,\n  },\n  messageCard: {\n    marginVertical: 4,\n    maxWidth: screenWidth > 1000 ? '40%' : '60%',\n    borderRadius: 12,\n    overflow: 'hidden',\n  },\n  // This is for the messages that are sent and received\n  messageContent: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n  },\n  sentMessage: {\n    alignSelf: 'flex-end',\n    backgroundColor: theme.colors.primary,\n  },\n  receivedMessage: {\n    alignSelf: 'flex-start',\n    backgroundColor: theme.colors.receivedMessage,\n  },\n  messageText: {\n    fontSize: 16,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentMessageContainer: {\n    alignItems: 'flex-end',\n    marginBottom: 4,\n  },\n  receivedMessageContainer: {\n    alignItems: 'flex-start',\n    marginBottom: 4,\n  },\n  senderAbove: {\n    fontWeight: 'bold',\n    marginBottom: 4,\n    fontSize: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  sentSenderName: {\n    alignSelf: 'flex-end',\n  },\n  receivedSenderName: {\n    alignSelf: 'flex-start',\n  },\n  timestampBelow: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentTimestamp: {\n    alignSelf: 'flex-end',\n  },\n  receivedTimestamp: {\n    alignSelf: 'flex-start',\n  },\n  sentMessageText: {\n    color: theme.colors.whiteText,\n  },\n  receivedMessageText: {\n    color: theme.colors.text,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  input: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    maxHeight: 100,\n  },\n  webInput: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    paddingVertical: '8px',\n    paddingLeft: '12px',\n    height: screenWidth <= 600 ? 36 : 40,\n    border: '1px solid ' + theme.colors.border,\n    borderRadius: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontSize: screenWidth <= 600 ? '14px' : 'inherit',\n    appearance: 'none',\n    touchAction: 'manipulation',\n    WebkitTapHighlightColor: 'transparent',\n    WebkitUserSelect: 'none',\n    userSelect: 'none',\n  },\n  conversationContent: {\n    flex: 1,\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  conversationTime: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n  },\n  conversationLastMessage: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  unreadMessage: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  bookingStatusContainer: {\n    backgroundColor: theme.colors.primary + '20',\n    padding: 4,\n    borderRadius: 4,\n    alignSelf: 'flex-start',\n  },\n  bookingStatus: {\n    fontSize: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  requestBookingButton: {\n    marginTop: 4,\n    height: 28,\n    alignSelf: 'flex-start',\n  },\n  requestBookingLabel: {\n    fontSize: 12,\n    marginVertical: 0,\n  },\n  messageListContainer: {\n    flex: 1,\n  },\n  inputWrapper: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    zIndex: 1,\n    width: '100%',\n    padding: screenWidth > 600 ? 16 : 8,\n  },\n  inputInnerContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    marginRight: screenWidth <= 600 ? 4 : 8,\n    \n  },\n  attachButton: {\n    padding: 8,\n    marginRight: 8,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButton: {\n    marginLeft: 8,\n    borderRadius: 20,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n  },\n  attachButtonContainer: {\n    position: 'relative',\n    zIndex: 2,\n  },\n  dropdownMenu: {\n    position: 'absolute',\n    bottom: '100%',\n    left: 0,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: -2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    marginBottom: 8,\n    minWidth: 150,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownItem: {\n    padding: 12,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 14,\n    marginLeft: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeConversationText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileMessageView: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n    position: 'relative',\n    backgroundColor: theme.colors.background,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  backButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n  },\n  backButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileHeader: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    position: 'relative',\n    zIndex: 10,\n  },\n  mobileContent: {\n    flex: 1,\n    position: 'relative',\n    height: 'calc(100% - 56px)',\n  },\n  mobileContainer: {\n    paddingTop: 0,\n    paddingLeft: 0,\n    paddingRight: 0,\n  },\n  sendButtonMobile: {\n    width: 24,\n    height: 24,\n    minWidth: 0,\n    padding: 0,\n    marginLeft: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  messageHeader: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 2,\n  },\n  messageHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    paddingVertical: 16,\n    paddingHorizontal: 8,\n  },\n  mobileHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  backArrow: {\n    position: 'absolute',\n    left: 16,\n    padding: 8,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    maxWidth: 500,\n  },\n  sentBookingRequest: {\n    alignSelf: 'flex-end',\n    marginLeft: '20%',\n  },\n  receivedBookingRequest: {\n    alignSelf: 'flex-start',\n    marginRight: '20%',\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  detailText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  viewBookingButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  viewBookingText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    backgroundColor: theme.colors.primary + '15',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 12,\n  },\n  statusText: {\n    color: theme.colors.primary,\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nconst MessageHistory = ({ navigation, route }) => {\n  const { colors } = useTheme();\n  const { screenWidth } = useContext(AuthContext);\n  const styles = createStyles(screenWidth);\n  \n  // Add loading states\n  const [isLoadingConversations, setIsLoadingConversations] = useState(true);\n  const [isLoadingMessages, setIsLoadingMessages] = useState(false);\n  \n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [selectedConversationData, setSelectedConversationData] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [isSending, setIsSending] = useState(false);\n  const [showRequestModal, setShowRequestModal] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const { is_DEBUG, is_prototype, isApprovedProfessional } = useContext(AuthContext);\n  const [conversations, setConversations] = useState([]);\n  const [hasMore, setHasMore] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n  // Clear data on unmount\n  useEffect(() => {\n    return () => {\n      setConversations([]);\n      setMessages([]);\n      setSelectedConversation(null);\n      setSelectedConversationData(null);\n      setIsLoadingConversations(is_prototype ? false :true);\n      setIsLoadingMessages(false);\n      setCurrentPage(1);\n      setHasMore(true);\n    };\n  }, []);\n\n  // Function to fetch conversations\n  const fetchConversations = async () => {\n    try {\n      setIsLoadingConversations(true);\n      \n      if (is_prototype) {\n        // In prototype mode, use mock data\n        console.log('MBABOSS Setting mock conversations in prototype mode');\n        setConversations(mockConversations);\n        if (mockConversations.length > 0 && screenWidth > 1000) {\n          setSelectedConversation(mockConversations[0].id);\n        }\n        setIsLoadingConversations(false);\n        return;\n      }\n\n      console.log('MBABOSS Fetching conversations...');\n      const token = await getStorage('userToken');\n      console.log('MBABOSS User token exists:', !!token);\n      \n      // Log the full request details\n      const requestUrl = `${API_BASE_URL}/api/conversations/v1/`;\n      console.log('MBABOSS Making request to:', requestUrl);\n      \n      const response = await axios.get(requestUrl, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      console.log('MBABOSS Conversations response status:', response.status);\n      console.log('MBABOSS Conversations data:', response.data);\n      \n      if (response.data && Array.isArray(response.data)) {\n        setConversations(response.data);\n        \n        // Auto-select first conversation on web\n        if (response.data.length > 0 && screenWidth > 1000) {\n          console.log('MBABOSS Auto-selecting first conversation:', response.data[0].conversation_id);\n          setSelectedConversation(response.data[0].conversation_id);\n        }\n      } else {\n        console.error('Invalid response format:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n      if (error.response) {\n        console.error('Error response:', error.response.data);\n        console.error('Error status:', error.response.status);\n      } else if (error.request) {\n        console.error('No response received:', error.request);\n      } else {\n        console.error('Error setting up request:', error.message);\n      }\n    } finally {\n      setIsLoadingConversations(false);\n    }\n  };\n\n  // Function to fetch messages for a conversation\n  const fetchMessages = async (conversationId, page = 1) => {\n    try {\n      if (page === 1) {\n        setIsLoadingMessages(true);\n      } else {\n        setIsLoadingMore(true);\n      }\n      \n      const token = await getStorage('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/messages/v1/conversation/${conversationId}/?page=${page}`, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (page === 1) {\n        setMessages(response.data.messages);\n      } else {\n        setMessages(prev => [...prev, ...response.data.messages]);\n      }\n      \n      setHasMore(response.data.has_more);\n      setCurrentPage(page);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    } finally {\n      setIsLoadingMessages(false);\n      setIsLoadingMore(false);\n    }\n  };\n\n  // Function to send a message\n  const SendNormalMessage = async (messageContent) => {\n    if (is_prototype) {\n      // Keep existing prototype message send logic\n      try {\n        const messageData = {\n          content: messageContent,\n          sender: 'Me',\n          timestamp: new Date().toISOString(),\n        };\n\n        const response = await new Promise((resolve) => {\n          setTimeout(() => {\n            resolve({ status: 200, data: messageData });\n          }, 1000);\n        });\n\n        console.log('MBABOSS Message sent:', response.data);\n        setMessages(prevMessages => [response.data, ...prevMessages]);\n        return response.data;\n      } catch (error) {\n        console.error('Error sending message:', error);\n        throw error;\n      }\n    } else {\n      try {\n        const token = await getStorage('userToken');\n        const response = await axios.post(`${API_BASE_URL}/api/messages/v1/send_norm_message/`, {\n          conversation_id: selectedConversation,\n          content: messageContent\n        }, {\n          headers: { \n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n\n        // Add new message to the beginning of the list since FlatList is inverted\n        setMessages(prevMessages => [response.data, ...prevMessages]);\n\n        // Update conversation's last message\n        setConversations(prev => prev.map(conv => \n          conv.conversation_id === selectedConversation \n            ? {\n                ...conv,\n                last_message: messageContent,\n                last_message_time: response.data.timestamp\n              }\n            : conv\n        ));\n\n        return response.data;\n      } catch (error) {\n        console.error('Error sending message:', error);\n        throw error;\n      }\n    }\n  };\n\n  // Effect to load initial data\n  useEffect(() => {\n    console.log('MBABOSS MessageHistory mounted, is_prototype:', is_prototype);\n    if (is_prototype) {\n      console.log('MBABOSS Setting mock conversations');\n      setIsLoadingConversations(false);\n      setConversations(mockConversations);\n      if (mockConversations.length > 0 && screenWidth > 1000) {\n        setSelectedConversation(mockConversations[0].id);\n      }\n    } else {\n      console.log('MBABOSS Fetching real conversations');\n      fetchConversations();\n    }\n  }, [is_prototype, screenWidth]);\n\n  // Effect to load messages when conversation is selected\n  useEffect(() => {\n    if (!selectedConversation) return;\n\n    if (is_prototype) {\n      const conversation = mockConversations.find(conv => conv.id === selectedConversation);\n      if (conversation) {\n        const conversationMessages = mockMessages[selectedConversation] || [];\n        setMessages(conversationMessages);\n        setSelectedConversationData(conversation);\n      }\n    } else {\n      fetchMessages(selectedConversation);\n      const conversation = conversations.find(conv => conv.conversation_id === selectedConversation);\n      setSelectedConversationData(conversation);\n    }\n  }, [selectedConversation, is_prototype]);\n\n  // Add loadMoreMessages function for infinite scroll\n  const loadMoreMessages = () => {\n    if (hasMore && !isLoadingMore && !is_prototype) {\n      fetchMessages(selectedConversation, currentPage + 1);\n    }\n  };\n\n  const isCurrentUserMessage = useCallback((message) => {\n    return message.sender === 'Me';\n  }, []);\n\n  const renderBookingRequestMessage = useCallback(({ item }) => {\n    const isFromMe = item.sender === CURRENT_USER_ID;\n    \n    return (\n      <BookingRequestMessage \n        data={item.data}\n        isFromMe={isFromMe}\n        timestamp={item.timestamp}\n        onAccept={() => {\n          navigation.navigate('BookingDetails', {\n            bookingId: null,\n            initialData: {\n              serviceType: item.data.serviceType,\n              pets: item.data.pets,\n              occurrences: item.data.occurrences,\n              status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n              clientName: selectedConversationData.name || selectedConversationData.other_user_name,\n              professionalName: 'Me'\n            }\n          });\n        }}\n      />\n    );\n  }, [navigation, selectedConversationData, CURRENT_USER_ID]);\n\n  const renderMessage = useCallback(({ item }) => {\n    if (item.type === 'booking_request') {\n      return renderBookingRequestMessage({ item });\n    }\n\n    // Existing message rendering code\n    // Update message rendering to use sent_by_other_user\n    const isFromMe = !item.sent_by_other_user;\n    return (\n      <View style={isFromMe ? styles.sentMessageContainer : styles.receivedMessageContainer}>\n        {/* <Text style={[\n          styles.senderAbove,\n          isFromMe ? styles.sentSenderName : styles.receivedSenderName\n        ]}>\n          {isFromMe ? 'Me' : selectedConversationData?.name || selectedConversationData?.other_user_name}\n        </Text> */}\n        <View style={[\n          styles.messageCard, \n          isFromMe ? styles.sentMessage : styles.receivedMessage\n        ]}>\n          <View style={styles.messageContent}>\n            <Text style={[\n              styles.messageText,\n              isFromMe ? styles.sentMessageText : styles.receivedMessageText\n            ]}>\n              {item.content}\n            </Text>\n          </View>\n        </View>\n        {/* <Text style={[\n          styles.timestampBelow,\n          isFromMe ? styles.sentTimestamp : styles.receivedTimestamp\n        ]}>\n          {new Date(item.timestamp).toLocaleTimeString()}\n        </Text> */}\n      </View>\n    );\n  }, [selectedConversationData, renderBookingRequestMessage]);\n\n  const WebInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await SendNormalMessage(message.trim());\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputInnerContainer}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          style={styles.webInput}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handleSend();\n            }\n          }}\n          disabled={isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend} \n          disabled={isSending}\n          style={[styles.sendButton, screenWidth <= 600 && styles.sendButtonMobile]}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.whiteText} size=\"small\" />\n          ) : screenWidth <= 600 ? (\n            <MaterialCommunityIcons name=\"arrow-up\" size={16} color={theme.colors.whiteText} />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MobileInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await SendNormalMessage(message.trim());\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={inputRef}\n          style={styles.input}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChangeText={setMessage}\n          multiline\n          blurOnSubmit={false}\n          editable={!isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend}\n          disabled={isSending}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.primary} size=\"small\" />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MessageInput = Platform.OS === 'web' ? <WebInput /> : <MobileInput />;\n  \n  const handleRequestBooking = async () => {\n    const currentConversation = conversations.find(c => c.conversation_id === selectedConversation);\n    console.log('MBABOSS Current conversation:', currentConversation);\n    console.log('MBABOSS CURRENT_USER_ID:', CURRENT_USER_ID);\n    console.log('MBABOSS Selected conversation ID:', selectedConversation);\n    \n    if (!currentConversation) {\n      console.log('MBABOSS No conversation found');\n      return;\n    }\n\n    // Log participant and role information\n    console.log('MBABOSS Participant1 ID:', currentConversation.participant1_id);\n    console.log('MBABOSS Participant2 ID:', currentConversation.participant2_id);\n    console.log('MBABOSS Role map:', currentConversation.role_map);\n\n    // Check if current user is the professional by checking their role in the conversation\n    const isProfessional = \n      (currentConversation.participant1_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant1_role === \"professional\") ||\n      (currentConversation.participant2_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant2_role === \"professional\");\n    \n    console.log('MBABOSS Is Professional?', isProfessional);\n\n    if (isProfessional) {\n      console.log('MBABOSS User is professional - creating booking and navigating to details');\n      try {\n        // Get the client ID (the other participant)\n        const clientId = currentConversation.participant1_id === CURRENT_USER_ID ? \n          currentConversation.participant2_id : currentConversation.participant1_id;\n        const professionalId = CURRENT_USER_ID;\n        \n        console.log('MBABOSS Creating booking with:', {\n          clientId,\n          professionalId,\n          clientName: currentConversation.name || currentConversation.other_user_name\n        });\n\n        const bookingId = await createBooking(\n          clientId,\n          professionalId,\n          {\n            clientName: currentConversation.name || currentConversation.other_user_name,\n            professionalName: 'Me',\n            status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n          }\n        );\n\n        console.log('MBABOSS Created booking with ID:', bookingId);\n\n        if (bookingId) {\n          console.log('MBABOSS Navigating to BookingDetails with:', {\n            bookingId,\n            initialData: null\n          });\n          \n          navigation.navigate('BookingDetails', {\n            bookingId: bookingId,\n            initialData: null\n          });\n        }\n      } catch (error) {\n        console.error('Error creating booking:', error);\n        Alert.alert('Error', 'Unable to create booking. Please try again.');\n      }\n    } else {\n      console.log('MBABOSS User is client - showing request modal');\n      setShowRequestModal(true);\n    }\n    \n    setShowDropdown(false);\n  };\n\n  const handleModalSubmit = async (modalData) => {\n    try {\n      const bookingId = await createBooking(\n        'client123',\n        'freelancer123',\n        {\n          ...modalData,\n          professionalName: 'Professional Name',\n          clientName: 'Me',\n          status: 'Pending',\n        }\n      );\n\n      console.log('MBABOSS Created booking with ID:', bookingId);\n\n      setShowRequestModal(false);\n      navigation.navigate('BookingDetails', {\n        bookingId: bookingId,\n        initialData: null\n      });\n    } catch (error) {\n      console.error('Error creating booking:', error);\n      Alert.alert(\n        'Error',\n        'Unable to create booking. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new function to handle booking request messages\n  const handleBookingRequest = async (bookingRequestMessage) => {\n    try {\n      // Add the booking request message to the current conversation\n      const newMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: selectedConversationData?.participant1_id,\n        participant2_id: selectedConversationData?.participant2_id,\n        sender: CURRENT_USER_ID,\n        role_map: selectedConversationData?.role_map,\n        type: 'booking_request',\n        data: bookingRequestMessage.data,\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      setMessages(prevMessages => [...prevMessages, newMessage]);\n      setShowRequestModal(false);\n    } catch (error) {\n      console.error('Error sending booking request:', error);\n      Alert.alert(\n        'Error',\n        'Unable to send booking request. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new header component\n  const renderHeader = () => {\n    if (screenWidth <= 1000 && selectedConversation) {\n      return null;\n    }\n    return (\n      <View style={styles.headerContainer}>\n        <Text style={styles.headerTitle}>Conversations</Text>\n        <Button \n          mode=\"text\" \n          onPress={() => {/* Handle filter */}}\n          style={styles.filterButton}\n        >\n          Filter\n        </Button>\n      </View>\n    );\n  };\n\n  // Update the conversation list component\n  const renderConversationList = () => (\n    <View style={styles.conversationListContainer}>\n      {conversations.map((conv) => {\n        const otherParticipantName = conv.participant1_id === CURRENT_USER_ID ? \n          conv.participant2_name : conv.participant1_name;\n        \n        return (\n          <TouchableOpacity\n            key={conv.conversation_id}\n            style={[\n              styles.conversationItem,\n              selectedConversation === conv.conversation_id && styles.selectedConversation\n            ]}\n            onPress={() => setSelectedConversation(conv.conversation_id)}\n          >\n            <View style={styles.conversationContent}>\n              <View style={styles.conversationHeader}>\n                <Text style={styles.conversationName}>\n                  {otherParticipantName || conv.name || conv.other_user_name || 'Unknown'}\n                </Text>\n                <Text style={styles.conversationTime}>\n                  {new Date(conv.last_message_time).toLocaleTimeString()}\n                </Text>\n              </View>\n              <Text \n                style={[\n                  styles.conversationLastMessage,\n                  selectedConversation === conv.conversation_id && styles.activeConversationText,\n                  conv.unread && styles.unreadMessage\n                ]} \n                numberOfLines={1}\n              >\n                {conv.last_message}\n              </Text>\n              {conv.bookingStatus && (\n                <View style={[\n                  styles.bookingStatusContainer,\n                  styles[`booking${conv.bookingStatus}Status`] || styles.bookingPendingStatus\n                ]}>\n                  <Text style={styles.bookingStatus}>\n                    {conv.bookingStatus}\n                  </Text>\n                </View>\n              )}\n            </View>\n          </TouchableOpacity>\n        );\n      })}\n    </View>\n  );\n\n  // Update the message section to handle empty states and fix positioning\n  const renderMessageSection = () => {\n    if (!selectedConversation) {\n      return null;\n    }\n\n    return (\n      <View style={styles.messageSection}>\n        {screenWidth > 1000 && selectedConversationData && (\n          <View style={styles.messageHeader}>\n            <Text style={styles.messageHeaderName}>\n              {selectedConversationData.name || selectedConversationData.other_user_name}\n            </Text>\n          </View>\n        )}\n        <View style={styles.messagesContainer}>\n          {messages.length === 0 ? (\n            <Text style={{ padding: 16, color: theme.colors.placeholder }}>\n              No messages yet. Start the conversation!\n            </Text>\n          ) : (\n            <FlatList\n              data={messages}\n              renderItem={renderMessage}\n              keyExtractor={item => (item.message_id || Date.now().toString())}\n              style={styles.messageList}\n              onEndReached={loadMoreMessages}\n              onEndReachedThreshold={0.5}\n              inverted={true}\n              contentContainerStyle={{\n                flexGrow: 1,\n                justifyContent: 'flex-end',\n                paddingBottom: 16\n              }}\n              maintainVisibleContentPosition={{\n                minIndexForVisible: 0,\n                autoscrollToTopThreshold: 10\n              }}\n            />\n          )}\n        </View>\n        <View style={styles.inputWrapper}>\n          <View style={styles.attachButtonContainer}>\n            <TouchableOpacity \n              style={styles.attachButton}\n              onPress={() => setShowDropdown(!showDropdown)}\n            >\n              <MaterialCommunityIcons \n                name={showDropdown ? \"close\" : \"plus\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {showDropdown && (\n              <View style={styles.dropdownMenu}>\n                <TouchableOpacity \n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    handleRequestBooking();\n                    setShowDropdown(false);\n                  }}\n                >\n                  <MaterialCommunityIcons \n                    name=\"calendar-plus\" \n                    size={20} \n                    color={theme.colors.primary} \n                  />\n                  <Text style={styles.dropdownText}>\n                    {selectedConversationData && (\n                      (selectedConversationData.participant1_id === CURRENT_USER_ID && \n                       selectedConversationData.role_map.participant1_role === \"professional\") ||\n                      (selectedConversationData.participant2_id === CURRENT_USER_ID && \n                       selectedConversationData.role_map.participant2_role === \"professional\")\n                    ) ? \"Create Booking\" : \"Request Booking\"}\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            )}\n          </View>\n          <View style={styles.inputContainer}>\n            {Platform.OS === 'web' ? <WebInput /> : <MobileInput />}\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const renderMobileHeader = () => (\n    <View style={styles.mobileHeader}>\n      <View style={styles.mobileHeaderContent}>\n        <TouchableOpacity \n          style={styles.backArrow}\n          onPress={() => setSelectedConversation(null)}\n        >\n          <MaterialCommunityIcons \n            name=\"arrow-left\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Text style={styles.mobileHeaderName}>\n          {selectedConversationData?.name || selectedConversationData?.other_user_name}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Move BookingRequestMessage inside the component\n  const BookingRequestMessage = ({ data, onAccept, isFromMe, timestamp }) => {\n    const navigation = useNavigation();\n    \n    const handleViewBooking = () => {\n      navigation.navigate('BookingDetails', {\n        bookingId: data.bookingId,\n        readOnly: !isFromMe // Make fields read-only for client\n      });\n    };\n\n    // Handle both old and new message formats\n    const renderDates = () => {\n      if (data.dates) {\n        // New format\n        return data.dates.map((date, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(date.startDate), 'MMM d, yyyy')} {date.startTime} - {date.endTime}\n          </Text>\n        ));\n      } else if (data.occurrences) {\n        // Old format\n        return data.occurrences.map((occ, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(occ.startDate), 'MMM d, yyyy')} {occ.startTime} - {occ.endTime}\n          </Text>\n        ));\n      }\n      return null;\n    };\n\n    return (\n      <View style={[\n        styles.bookingRequestCard,\n        isFromMe ? styles.sentBookingRequest : styles.receivedBookingRequest\n      ]}>\n        <View style={styles.bookingRequestHeader}>\n          <MaterialCommunityIcons name=\"calendar-clock\" size={24} color={theme.colors.primary} />\n          <Text style={styles.bookingRequestTitle}>\n            {data.messageType === 'professional_changes' ? 'Booking Update' : \n             data.messageType === 'client_approval' ? 'Booking Approval' : \n             'Booking Request'}\n          </Text>\n        </View>\n        \n        {data.status && (\n          <View style={styles.statusContainer}>\n            <Text style={styles.statusText}>\n              Status: {data.status}\n            </Text>\n          </View>\n        )}\n        \n        <View style={styles.bookingRequestDetails}>\n          <Text style={styles.detailLabel}>Service:</Text>\n          <Text style={styles.detailText}>{data.serviceType}</Text>\n          \n          {data.pets && (\n            <>\n              <Text style={styles.detailLabel}>Pets:</Text>\n              <Text style={styles.detailText}>\n                {data.pets.map(pet => pet.name).join(', ')}\n              </Text>\n            </>\n          )}\n          \n          <Text style={styles.detailLabel}>Dates:</Text>\n          {renderDates()}\n          \n          {data.totalCost !== undefined && (\n            <>\n              <Text style={styles.detailLabel}>Total Cost:</Text>\n              <Text style={styles.detailText}>\n                ${data.totalCost.toFixed(2)}\n              </Text>\n            </>\n          )}\n        </View>\n\n        <TouchableOpacity \n          style={styles.viewBookingButton}\n          onPress={handleViewBooking}\n        >\n          <Text style={styles.viewBookingText}>View Booking Details</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  };\n\n  // Add new component for empty state\n  const renderEmptyState = () => (\n    <View style={{\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 20,\n    }}>\n      <MaterialCommunityIcons \n        name=\"message-text-outline\" \n        size={64} \n        color={theme.colors.placeholder}\n        style={{ marginBottom: 16 }}\n      />\n      <Text style={{\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n        marginBottom: 8,\n        textAlign: 'center'\n      }}>\n        No Messages Yet\n      </Text>\n      <Text style={{\n        fontSize: 16,\n        color: theme.colors.placeholder,\n        marginBottom: 24,\n        textAlign: 'center'\n      }}>\n        {is_prototype ? \n          'Create services to start getting bookings and messages from clients' :\n          'Search professionals to find services and start messaging'}\n      </Text>\n      <Button\n        mode=\"contained\"\n        onPress={() => navigation.navigate(is_prototype ? 'Services' : 'SearchProfessionalListing')}\n        style={{ borderRadius: 8 }}\n      >\n        {is_prototype ? 'Create Services' : 'Find Professionals'}\n      </Button>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={[\n      styles.container,\n      screenWidth <= 1000 && selectedConversation && styles.mobileContainer\n    ]}>\n      {isLoadingConversations ? (\n        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading conversations...</Text>\n        </View>\n      ) : conversations.length > 0 ? (\n        <>\n          {renderHeader()}\n          <View style={[\n            styles.contentContainer,\n            screenWidth <= 1000 && selectedConversation && styles.mobileContent\n          ]}>\n            {screenWidth <= 1000 ? (\n              selectedConversation ? (\n                <View style={styles.mobileMessageView}>\n                  {renderMobileHeader()}\n                  <View style={styles.mobileContent}>\n                    {isLoadingMessages ? (\n                      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n                        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                        <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading messages...</Text>\n                      </View>\n                    ) : (\n                      renderMessageSection()\n                    )}\n                  </View>\n                </View>\n              ) : (\n                renderConversationList()\n              )\n            ) : (\n              <>\n                {renderConversationList()}\n                {isLoadingMessages ? (\n                  <View style={[styles.messageSection, { justifyContent: 'center', alignItems: 'center' }]}>\n                    <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                    <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading messages...</Text>\n                  </View>\n                ) : (\n                  renderMessageSection()\n                )}\n              </>\n            )}\n          </View>\n        </>\n      ) : (\n        renderEmptyState()\n      )}\n      \n      <RequestBookingModal\n        visible={showRequestModal}\n        onClose={() => setShowRequestModal(false)}\n        onSubmit={handleBookingRequest}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default MessageHistory;\n\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, TextInput, StyleSheet } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\nimport { AuthContext } from '../context/AuthContext';\n\n// Only import Stripe-related modules if we're not in prototype mode\nlet stripePromise = null;\nlet Elements = null;\nlet useStripe = null;\nlet useElements = null;\nlet CardElement = null;\nlet IbanElement = null;\n\n// Initialize Stripe conditionally\nconst initializeStripe = async () => {\n  if (Platform.OS === 'web') {\n    const stripe = await import('@stripe/stripe-js');\n    const stripeReact = await import('@stripe/react-stripe-js');\n    stripePromise = stripe.loadStripe(STRIPE_PUBLISHABLE_KEY);\n    Elements = stripeReact.Elements;\n    useStripe = stripeReact.useStripe;\n    useElements = stripeReact.useElements;\n    CardElement = stripeReact.CardElement;\n    IbanElement = stripeReact.IbanElement;\n  }\n};\n\n// Only import CardField for native platforms\nlet CardField = null;\nif (Platform.OS !== 'web') {\n  // Dynamic import to avoid web compilation issues\n  import('@stripe/stripe-react-native').then(module => {\n    CardField = module.CardField;\n  });\n}\n\nconst ELEMENT_OPTIONS = {\n  supportedCountries: ['US'],\n  style: {\n    base: {\n      color: '#32325d',\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: 'antialiased',\n      fontSize: '16px',\n      '::placeholder': {\n        color: '#aab7c4'\n      }\n    },\n    invalid: {\n      color: '#fa755a',\n      iconColor: '#fa755a'\n    }\n  }\n};\n\nconst WebPaymentForm = ({ onChange, paymentType }) => {\n  const stripe = useStripe && useStripe();\n  const elements = useElements && useElements();\n  const [bankFields, setBankFields] = useState({\n    accountNumber: '',\n    routingNumber: ''\n  });\n\n  useEffect(() => {\n    if (stripe && elements) {\n      onChange({\n        complete: false,\n        stripe,\n        elements,\n        paymentType\n      });\n    }\n  }, [stripe, elements, paymentType]);\n\n  const handleBankFieldChange = (field, value) => {\n    const updatedFields = {\n      ...bankFields,\n      [field]: value\n    };\n    setBankFields(updatedFields);\n\n    const isAccountNumberValid = updatedFields.accountNumber.length >= 9;\n    const isRoutingNumberValid = updatedFields.routingNumber.length === 9;\n\n    onChange({\n      complete: isAccountNumberValid && isRoutingNumberValid,\n      value: updatedFields,\n      stripe,\n      elements,\n      paymentType\n    });\n  };\n\n  return (\n    <div style={{ padding: '10px 0' }}>\n      {paymentType === 'card' ? (\n        <CardElement \n          options={ELEMENT_OPTIONS}\n          onChange={(event) => onChange({\n            ...event,\n            stripe,\n            elements,\n            paymentType\n          })}\n        />\n      ) : (\n        <div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Account Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Account Number\"\n              value={bankFields.accountNumber}\n              onChange={(e) => handleBankFieldChange('accountNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Routing Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Routing Number\"\n              value={bankFields.routingNumber}\n              onChange={(e) => handleBankFieldChange('routingNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst NativePaymentElement = ({ onChange, paymentType }) => {\n  if (!CardField) {\n    return null;\n  }\n\n  if (paymentType === 'bank') {\n    // For native platforms, use regular inputs for bank accounts\n    return (\n      <View style={[{ marginRight: 20 }]}>\n        <TextInput\n          placeholder=\"Account Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length >= 9,\n            value: { accountNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n        <TextInput\n          placeholder=\"Routing Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length === 9,\n            value: { routingNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n      </View>\n    );\n  }\n\n  return (\n    <CardField\n      postalCodeEnabled={false}\n      onCardChange={onChange}\n      style={{\n        width: '100%',\n        height: 50,\n        marginVertical: 10,\n      }}\n    />\n  );\n};\n\nexport const StripePaymentElement = ({ onChange, paymentType }) => {\n\n  useEffect(() => {\n    initializeStripe();\n  }, []);\n\n  if (Platform.OS === 'web' && Elements && stripePromise) {\n    return (\n      <Elements stripe={stripePromise}>\n        <WebPaymentForm onChange={onChange} paymentType={paymentType} />\n      </Elements>\n    );\n  }\n\n  return <NativePaymentElement onChange={onChange} paymentType={paymentType} />;\n};\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 4,\n    marginVertical: 5,\n    paddingHorizontal: 10,\n  },\n  bankInputsContainer: {\n    marginHorizontal: 16,\n    marginBottom: 16,\n  },\n  bankInput: {\n    marginBottom: 16,\n  },\n  container: {\n    padding: 16,\n  },\n}); ","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform, Dimensions } from 'react-native';\nimport { Card, Button, IconButton, TextInput, SegmentedButtons, Dialog, Portal, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { useNavigation } from '@react-navigation/native'; \nimport CrossPlatformView from '../components/CrossPlatformView';\nimport STRIPE_PUBLISHABLE_KEY from '../../.env';\nimport axios from 'axios';\nimport { createPaymentMethod } from '../utils/StripeService';\nimport { StripeCardElement } from '../components/StripeCardElement';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { StripePaymentElement } from '../components/StripeCardElement';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst MAX_WIDTH = 500; // Maximum width for web view\n\nconst PaymentMethods = () => {\n  const navigation = useNavigation();\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [confirmPrimaryDialogVisible, setConfirmPrimaryDialogVisible] = useState(false);\n  const [selectedMethod, setSelectedMethod] = useState(null);\n  const [primaryAction, setPrimaryAction] = useState(null); // 'payment' or 'receive'\n  const [newPaymentMethod, setNewPaymentMethod] = useState({\n    type: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvc: '',\n    accountNumber: '',\n    routingNumber: '',\n  });\n  const { isApprovedProfessional, is_DEBUG } = useContext(AuthContext);\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [deleteDialogVisible, setDeleteDialogVisible] = useState(false);\n  const [methodToDelete, setMethodToDelete] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const stripe = Platform.OS !== 'web' ? stripeModule()?.useStripe() : null;\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [cardComplete, setCardComplete] = useState(false);\n  const [cardElement, setCardElement] = useState(null);\n  const [stripeElement, setStripeElement] = useState(null);\n  const [bankAccountComplete, setBankAccountComplete] = useState({\n    accountNumber: false,\n    routingNumber: false\n  });\n  const [verificationModalVisible, setVerificationModalVisible] = useState(false);\n  const [verificationAmounts, setVerificationAmounts] = useState({\n    first: '',\n    second: ''\n  });\n  const [verifyingMethod, setVerifyingMethod] = useState(null);\n  const [modalLoading, setModalLoading] = useState(false);\n\n  useEffect(() => {\n    // Fetch payment methods from backend\n    // This is a placeholder. Replace with actual API calls.\n    setPaymentMethods([\n      { \n        id: '1', \n        type: 'bank', \n        accountNumber: '****1234', \n        routingNumber: '123456789', \n        isPrimaryPayment: true,\n        isPrimaryReceive: true,\n        is_verified: true \n      },\n      { \n        id: '2', \n        type: 'card', \n        last4: '4242', \n        brand: 'Visa', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      },\n      { \n        id: '3', \n        type: 'bank', \n        accountNumber: '****5678', \n        routingNumber: '987654321', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      }\n    ]);\n  }, []);\n\n  // Check if Stripe is ready\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      console.log('Stripe loading started');\n      setLoading(true);\n      const checkStripeReady = async () => {\n        try {\n          const stripe = await import('@stripe/stripe-js');\n          const stripeReact = await import('@stripe/react-stripe-js');\n          if (stripe && stripeReact) {\n            console.log('Stripe modules loaded');\n            setLoading(false);\n          }\n        } catch (error) {\n          console.error('Error loading Stripe modules:', error);\n          setLoading(false);\n        }\n      };\n      checkStripeReady();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  if (loading) {\n    if (is_DEBUG) {\n      console.log('Loading indicator should be visible');\n    }\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  const renderPaymentMethod = (method) => (\n    <Card key={method.id} style={styles.card}>\n      <Card.Content>\n        <View style={styles.cardContent}>\n          <View style={styles.methodInfo}>\n            <Text style={styles.methodType}>\n              {method.type === 'card' \n                ? `${method.brand}  ${method.last4}` \n                : `Bank Account ${method.accountNumber || ' undefined'}`}\n            </Text>\n            {method.bankName && <Text style={styles.bankName}>{method.bankName}</Text>}\n            {!method.is_verified && (\n              <Text style={styles.verificationNeeded}>\n                {method.type === 'card' \n                  ? 'Card Verification In Progress'\n                  : 'Bank Account Verification Required'}\n              </Text>\n            )}\n          </View>\n          <View style={styles.cardActions}>\n            {!method.is_verified && method.type === 'bank' && (\n              <Button\n                onPress={() => handleVerifyBankAccount(method)}\n                mode=\"contained\"\n              >\n                Verify\n              </Button>\n            )}\n            {method.is_verified && (\n              <>\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />}\n                  onPress={() => handleEditMethod(method)}\n                />\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"delete\" size={20} color={theme.colors.error} />}\n                  onPress={() => handleDeleteMethod(method)}\n                />\n              </>\n            )}\n          </View>\n        </View>\n        {method.is_verified && (\n          <View style={styles.primaryOptionsContainer}>\n            <View style={styles.checkboxRow}>\n              <IconButton\n                icon={() => (\n                  <MaterialCommunityIcons \n                    name={method.isPrimaryPayment ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                    size={24} \n                    color={theme.colors.primary}\n                  />\n                )}\n                onPress={() => handleSetPrimary(method.id, 'payment')}\n                style={styles.checkbox}\n              />\n              <Text style={styles.checkboxLabel}>\n                {method.isPrimaryPayment ? \"Primary Payment Method\" : \"Make Primary Payment Method\"}\n              </Text>\n            </View>\n            {(method.type === 'bank' && isApprovedProfessional) && (\n              <View style={styles.checkboxRow}>\n                <IconButton\n                  icon={() => (\n                    <MaterialCommunityIcons \n                      name={method.isPrimaryReceive ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                  onPress={() => handleSetPrimary(method.id, 'receive')}\n                  style={styles.checkbox}\n                />\n                <Text style={styles.checkboxLabel}>\n                  {method.isPrimaryReceive ? \"Primary Receive Method\" : \"Make Primary Receive Method\"}\n                </Text>\n              </View>\n            )}\n          </View>\n        )}\n      </Card.Content>\n    </Card>\n  );\n\n  const handleAddMethod = async () => {\n    setError(null);\n    setSelectedMethod(null);\n    setNewPaymentMethod({\n      type: 'card',\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: '',\n      routingNumber: '',\n    });\n    setModalVisible(true);\n    if (is_DEBUG) {\n      console.log('MBA: Setting modalLoading to true');\n    }\n    setModalLoading(true);\n\n    if (Platform.OS === 'web') {\n      if (is_DEBUG) {\n        console.log('MBA: Initializing Stripe elements for web');\n      }\n      if (!cardElement || !cardElement.stripe || !cardElement.elements) {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements not initialized, setting up now');\n        }\n        try {\n          const { loadStripe } = await import('@stripe/stripe-js');\n          const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n          if (stripe) {\n            if (is_DEBUG) {\n              console.log('MBA: Stripe loaded successfully');\n            }\n            const elements = stripe.elements();\n            setCardElement({\n              stripe,\n              elements,\n              complete: false,\n              paymentType: 'card',\n              value: {}\n            });\n          }\n        } catch (error) {\n          if (is_DEBUG) {\n            console.error('MBA: Error initializing Stripe elements:', error);\n          }\n        }\n      } else {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements already initialized');\n        }\n      }\n    }\n    // Add a short delay before setting modalLoading to false\n    setTimeout(() => {\n      if (is_DEBUG) {\n        console.log('MBA: Setting modalLoading to false');\n      }\n      setModalLoading(false);\n    }, 500); // 500ms delay\n  };\n\n  const handleEditMethod = (method) => {\n    setError('');\n    setSelectedMethod({ ...method });\n    setNewPaymentMethod({\n      type: method.type,\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: method.accountNumber || '',\n      routingNumber: method.routingNumber || '',\n    });\n    setModalVisible(true);\n  };\n\n  const handleDeleteMethod = (method) => {\n    setMethodToDelete({ ...method });\n    setDeleteError(null);\n    setDeleteDialogVisible(true);\n  };\n\n  const handleSetPrimary = (id, type) => {\n    setSelectedMethod({ id });\n    setPrimaryAction(type);\n    setConfirmPrimaryDialogVisible(true);\n  };\n\n  const confirmSetPrimary = async () => {\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the change\n      setPaymentMethods(prevMethods =>\n        prevMethods.map(method => ({\n          ...method,\n          ...(primaryAction === 'payment' && {\n            isPrimaryPayment: method.id === selectedMethod.id\n          }),\n          ...(primaryAction === 'receive' && {\n            isPrimaryReceive: method.id === selectedMethod.id\n          })\n        }))\n      );\n      \n      console.log('Primary method updated:', selectedMethod);\n    } catch (error) {\n      console.error('Failed to update primary method:', error);\n    } finally {\n      setIsConfirming(false);\n      setConfirmPrimaryDialogVisible(false);\n      setPrimaryAction(null);\n    }\n  };\n\n  const confirmDeleteMethod = async () => {\n    if (methodToDelete.isPrimaryPayment && methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This payment method is set as both your primary payment and receive method. Please select another payment method for both before deleting this one.\");\n      return;\n    }\n    \n    if (methodToDelete.isPrimaryPayment) {\n      setDeleteError(\"This is your primary payment method. Please select another payment method before deleting this one.\");\n      return;\n    }\n\n    if (methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This is your primary receive method. Please select another receive method before deleting this one.\");\n      return;\n    }\n\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the deletion\n      setPaymentMethods(prevMethods => prevMethods.filter(method => method.id !== methodToDelete.id));\n      \n      console.log('Payment method deleted:', methodToDelete);\n      setDeleteDialogVisible(false);\n    } catch (error) {\n      console.error('Failed to delete payment method:', error);\n      setDeleteError('An error occurred while deleting the payment method. Please try again.');\n    } finally {\n      setIsConfirming(false);\n    }\n  };\n\n  const renderAddMethodModal = () => {\n    if (is_DEBUG) {\n      console.log('MBA: Rendering Add Payment Method Modal');\n      console.log('MBA: modalLoading state:', modalLoading);\n    }\n    return (\n      <Portal>\n        <Dialog visible={modalVisible} onDismiss={() => setModalVisible(false)} style={styles.dialog}>\n          <Dialog.Title>Add Payment Method</Dialog.Title>\n          <IconButton\n            icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n            onPress={() => setModalVisible(false)}\n            style={styles.closeButton}\n          />\n          <Dialog.Content>\n            {modalLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                <Text style={styles.loadingText}>Loading...</Text>\n              </View>\n            ) : (\n              <>\n                <SegmentedButtons\n                  value={newPaymentMethod.type}\n                  onValueChange={(value) => setNewPaymentMethod({ ...newPaymentMethod, type: value })}\n                  buttons={[\n                    { value: 'card', label: 'Credit Card' },\n                    { value: 'bank', label: 'Bank Account' },\n                  ]}\n                  style={styles.segmentedButtons}\n                />\n                <StripePaymentElement \n                  key={newPaymentMethod.type}\n                  onChange={handlePaymentChange}\n                  paymentType={newPaymentMethod.type}\n                />\n                {error && <Text style={styles.errorText}>{error}</Text>}\n              </>\n            )}\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={() => setModalVisible(false)} disabled={loading}>Cancel</Button>\n            <Button \n              onPress={handleSavePaymentMethod} \n              disabled={loading || (\n                (newPaymentMethod.type === 'card' && !cardComplete) ||\n                (newPaymentMethod.type === 'bank' && (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber))\n              )}\n              loading={loading}\n            >\n              Save\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    );\n  };\n\n  const renderConfirmPrimaryDialog = () => (\n    <Portal>\n      <Dialog visible={confirmPrimaryDialogVisible} onDismiss={() => setConfirmPrimaryDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>\n          {primaryAction === 'receive' ? 'Confirm Primary Receive Method' : 'Confirm Primary Payment Method'}\n        </Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setConfirmPrimaryDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text>\n            {primaryAction === 'receive' \n              ? \"Are you sure you want to make this your primary receive method?\"\n              : \"Are you sure you want to make this your primary payment method?\"\n            }\n          </Text>\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>\n                {primaryAction === 'receive' \n                  ? \"Updating primary receive method...\"\n                  : \"Updating primary payment method...\"\n                }\n              </Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setConfirmPrimaryDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmSetPrimary} disabled={isConfirming}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const renderDeleteConfirmDialog = () => (\n    <Portal>\n      <Dialog visible={deleteDialogVisible} onDismiss={() => setDeleteDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Confirm Delete Payment Method</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setDeleteDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          {deleteError ? (\n            <Text style={styles.errorText}>{deleteError}</Text>\n          ) : (\n            <Text>Are you sure you want to delete this payment method?</Text>\n          )}\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>Deleting payment method...</Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setDeleteDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmDeleteMethod} disabled={isConfirming || deleteError}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerifyBankAccount = (method) => {\n    setVerifyingMethod(method);\n    setVerificationAmounts({ first: '', second: '' });\n    setVerificationModalVisible(true);\n    setError(null);\n  };\n\n  const renderVerificationModal = () => (\n    <Portal>\n      <Dialog visible={verificationModalVisible} onDismiss={() => setVerificationModalVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Verify Bank Account</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setVerificationModalVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text style={styles.verificationText}>\n            A deposit will be made to your bank account in 1-2 business days of adding your bank account. Please enter the two small deposit amounts that were made to your account:\n          </Text>\n          <View style={styles.amountsContainer}>\n            <TextInput\n              label=\"First Amount (cents)\"\n              value={verificationAmounts.first}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, first: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"32\"\n            />\n            <TextInput\n              label=\"Second Amount (cents)\"\n              value={verificationAmounts.second}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, second: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"45\"\n            />\n          </View>\n          {error && <Text style={styles.errorText}>{error}</Text>}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setVerificationModalVisible(false)} disabled={loading}>\n            Cancel\n          </Button>\n          <Button\n            onPress={handleVerificationSubmit}\n            loading={loading}\n            disabled={loading || !verificationAmounts.first || !verificationAmounts.second}\n          >\n            Verify\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerificationSubmit = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!verifyingMethod) {\n        throw new Error('Missing required verification data');\n      }\n\n      const firstAmount = parseInt(verificationAmounts.first);\n      const secondAmount = parseInt(verificationAmounts.second);\n\n      if ([firstAmount, secondAmount].some(amount => isNaN(amount) || amount < 1 || amount > 99)) {\n        throw new Error('Please enter valid amounts between 1 and 99 cents');\n      }\n\n      // Simulate backend API call\n      const simulateBackendVerification = () => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          // Simulate success for amounts 32 and 45, fail for others\n          if (firstAmount === 12 && secondAmount === 12) {\n            resolve({ success: true });\n          } else {\n            reject(new Error('The amounts entered do not match our records. Please verify the amounts and try again.'));\n          }\n        }, 1000);\n      });\n\n      const result = await simulateBackendVerification();\n\n      // Update the UI if verification succeeds\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === verifyingMethod.id\n            ? { ...m, is_verified: true }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setVerificationModalVisible(false);\n      setVerifyingMethod(null);\n      setVerificationAmounts({ first: '', second: '' });\n      setError('Bank account successfully verified!');\n    } catch (err) {\n      console.error('Verification error:', err);\n      setError(err.message || 'Failed to verify bank account. Please check the amounts and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add card verification handler\n  const handleVerifyCard = async (method) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Create a SetupIntent on your backend\n      const setupIntent = await axios.post('/api/create-setup-intent', {\n        payment_method_id: method.id\n      });\n\n      // Confirm the SetupIntent with Stripe\n      const result = await cardElement.stripe.confirmCardSetup(\n        setupIntent.client_secret,\n        {\n          payment_method: method.id\n        }\n      );\n\n      console.log('Card verification result:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n\n      // Update the payment method status in your lists\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === method.id\n            ? { ...m, status: 'verified', verificationNeeded: false }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setError('Card successfully verified!');\n    } catch (err) {\n      console.error('Card verification error:', err);\n      setError(err.message || 'Failed to verify card');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add these functions back after handleAddMethod\n  const handlePaymentChange = (event) => {\n    console.log('Payment change event:', event);\n    if (Platform.OS === 'web') {\n      if (newPaymentMethod.type === 'card') {\n        setCardComplete(event.complete);\n      } else {\n        // For bank accounts, track both fields\n        if (event.value) {\n          setBankAccountComplete(prev => ({\n            ...prev,\n            accountNumber: event.value.accountNumber?.length >= 9 || prev.accountNumber,\n            routingNumber: event.value.routingNumber?.length === 9 || prev.routingNumber\n          }));\n        }\n        setCardComplete(bankAccountComplete.accountNumber && bankAccountComplete.routingNumber);\n      }\n\n      setCardElement({\n        stripe: event.stripe,\n        elements: event.elements,\n        complete: event.complete,\n        paymentType: newPaymentMethod.type,\n        value: event.value\n      });\n\n      // Update newPaymentMethod state if it's a bank account\n      if (newPaymentMethod.type === 'bank' && event.value) {\n        setNewPaymentMethod(prev => ({\n          ...prev,\n          accountNumber: event.value.accountNumber || prev.accountNumber,\n          routingNumber: event.value.routingNumber || prev.routingNumber,\n        }));\n      }\n    } else {\n      setCardComplete(event.complete);\n      setCardElement(event);\n    }\n  };\n\n  const handleSavePaymentMethod = async () => {\n    if (newPaymentMethod.type === 'card') {\n      if (!cardComplete) {\n        setError('Please complete card details');\n        return;\n      }\n    } else if (newPaymentMethod.type === 'bank') {\n      if (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber) {\n        setError('Please complete both account number and routing number');\n        return;\n      }\n    }\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      if (Platform.OS === 'web') {\n        if (!cardElement.stripe || !cardElement.elements) {\n          throw new Error('Stripe not initialized');\n        }\n\n        let result;\n        if (newPaymentMethod.type === 'card') {\n          // Handle credit card\n          result = await cardElement.stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement.elements.getElement(CardElement),\n          });\n\n          console.log('Card payment method result:', result);\n\n          if (result.error) {\n            throw new Error(result.error.message);\n          }\n\n          const paymentMethodData = {\n            id: result.paymentMethod.id,\n            type: 'card',\n            last4: result.paymentMethod.card.last4,\n            brand: result.paymentMethod.card.brand,\n            is_verified: false\n          };\n\n          // Only add to payForServicesMethods since cards can't be used for receiving\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n        } else {\n          // Handle bank account\n          result = await cardElement.stripe.createToken('bank_account', {\n            country: 'US',\n            currency: 'usd',\n            routing_number: cardElement.value.routingNumber,\n            account_number: cardElement.value.accountNumber,\n            account_holder_type: 'individual',\n          });\n          \n          console.log('Bank token creation result:', result);\n\n          if (result.error || !result.token) {\n            throw new Error(result.error?.message || 'Invalid routing number. Please check and try again.');\n          }\n\n          const paymentMethodData = {\n            id: result.token.id,\n            type: 'bank',\n            accountNumber: `****${result.token.bank_account.last4}`,\n            routingNumber: cardElement.value.routingNumber,\n            bankName: result.token.bank_account.bank_name,\n            is_verified: false\n          };\n\n          // Update the appropriate list based on where it was added\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n\n          setError(\n            'Bank account added but requires verification. Two small deposits will be made to your account in 1-2 business days. ' +\n            'Please check your account and return to verify the amounts.'\n          );\n        }\n\n        setModalVisible(false);\n      } else {\n        // Native platform handling\n        const { paymentMethod, error } = await createPaymentMethod({\n          type: newPaymentMethod.type,\n          card: cardElement,\n          is_receive_payment: selectedMethod?.isPrimaryReceive || false,\n        });\n\n        if (error) {\n          throw new Error(error.message);\n        }\n\n        // Update the appropriate list\n        setPaymentMethods(prev => [...prev, paymentMethod]);\n      }\n\n      setModalVisible(false);\n    } catch (err) {\n      console.error('Payment method error:', err);\n      setError(err.message || 'Failed to save payment method');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Payment Methods\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView style={styles.container} contentContainerStyle={styles.contentContainer}>\n        <View style={styles.sectionContainer}>\n          <View style={styles.headerContainer}>\n            <Text style={styles.sectionTitle}>Payment Methods</Text>\n            <IconButton\n              icon={() => <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />}\n              onPress={() => handleAddMethod()}\n              style={styles.addIconButton}\n            />\n          </View>\n          {paymentMethods.map(method => renderPaymentMethod(method))}\n        </View>\n\n        {renderAddMethodModal()}\n        {renderConfirmPrimaryDialog()}\n        {renderDeleteConfirmDialog()}\n        {renderVerificationModal()}\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    overflow: 'hidden',\n  },\n  contentContainer: {\n    padding: 16,\n    alignItems: 'center',\n    width: '100%',\n  },\n  sectionContainer: {\n    width: '100%',\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n  },\n  card: {\n    marginBottom: 16,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  addButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  segmentedButtons: {\n    marginBottom: 16,\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n    minHeight: 40,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  cardContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  methodInfo: {\n    flex: 1,\n  },\n  methodType: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  primaryOptionsContainer: {\n    marginTop: 8,\n    gap: 4,\n  },\n  checkboxRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  checkbox: {\n    margin: 0,\n    padding: 0,\n  },\n  checkboxLabel: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginLeft: -8,\n  },\n  cardActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dialog: {\n    width: Platform.OS === 'web' ? '90%' : '100%',\n    alignSelf: 'center',\n    maxWidth: 500,\n    marginHorizontal: Platform.OS === 'web' ? 'auto' : 16,\n  },\n  input: {\n    marginBottom: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginLeft: 8,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: 5,\n    top: 5,\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.7)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bankName: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginTop: 4,\n  },\n  verificationNeeded: {\n    color: theme.colors.error,\n    fontSize: 12,\n    marginTop: 4,\n  },\n  amountsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n    marginBottom: 16,\n  },\n  amountInput: {\n    width: '48%',\n  },\n  verificationText: {\n    marginBottom: 8,\n    fontSize: 14,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n    width: '100%',\n  },\n  addIconButton: {\n    margin: 0,\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default PaymentMethods;\n","import React, { useContext } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, Text, TouchableOpacity, StatusBar } from 'react-native';\nimport { List, Divider } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Settings = ({ navigation }) => {\n  \n  const settingsItems = [\n    { title: 'Change Password', icon: 'lock-reset', route: 'ChangePassword' },\n    { title: 'Notification Preferences', icon: 'bell-outline', route: 'NotificationPreferences' },\n    { title: 'Privacy Settings', icon: 'shield-account', route: 'PrivacySettings' },\n    { title: 'Language', icon: 'translate', route: 'LanguageSettings' },\n    { title: 'Display & Accessibility', icon: 'palette', route: 'DisplaySettings' },\n    { title: 'Data Usage', icon: 'chart-bar', route: 'DataUsage' },\n    { title: 'About', icon: 'information-outline', route: 'About' },\n  ];\n\n  const renderSettingsItems = () => {\n    return settingsItems.map((item, index) => (\n      <React.Fragment key={index}>\n        <List.Item\n          title={item.title}\n          left={props => \n            Platform.OS === 'web' \n              ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n              : <List.Icon {...props} icon={item.icon} />\n          }\n          onPress={() => navigation.navigate(item.route)}\n          style={Platform.OS === 'web' ? styles.webListItem : null}\n        />\n        {index < settingsItems.length - 1 && <Divider />}\n      </React.Fragment>\n    ));\n  };\n\n  const renderContent = () => (\n    <List.Section style={styles.listSection}>\n      {renderSettingsItems()}\n    </List.Section>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Settings\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        {renderContent()}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n  },\n  listSection: {\n    backgroundColor: theme.colors.surface,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  warningContainer: {\n    backgroundColor: '#FFF3CD',\n    padding: theme.spacing.small,\n    marginHorizontal: theme.spacing.small,\n    marginTop: theme.spacing.small,\n    borderRadius: 4,\n  },\n  warningText: {\n    color: '#856404',\n    textAlign: 'center',\n  },\n});\n\nexport default Settings;\n","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { handleBack } from '../components/Navigation';\n\nconst appName = 'Zen Exotics';\n\nconst privacy_policy_info = [\n  {sectionTitle: \"Information We Collect\", \n    paragraph: \"When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\", \n    listItems: {listItem: \"Personal Information: Name, email, phone number, address, and service preferences.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.\",\n                listItem: \"Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.\",\n                listItem: \"Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n    }},\n  {}\n];\n\nconst PrivacyPolicy = () => {\n  const navigation = useNavigation();\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Privacy Policy\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView \n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <Text style={styles.title}>Privacy Policy for {appName}</Text>\n        <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n        \n        <Text style={styles.paragraph}>\n          By accessing or using {appName}, you agree to the practices described in this Privacy Policy. If you do not agree with these terms, please discontinue the use of our services immediately.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Information We Collect</Text>\n        <Text style={styles.paragraph}>\n          When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\n        </Text>\n        <Text style={styles.listItem}> Personal Information: Name, email, phone number, address, and service preferences.</Text>\n        <Text style={styles.listItem}> Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.</Text>\n        <Text style={styles.listItem}> Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.</Text>\n        <Text style={styles.listItem}> Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.</Text>\n        <Text style={styles.listItem}> Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.</Text>\n        <Text style={styles.listItem}> Cookies and Tracking: We use cookies and tracking technologies to improve user experience and monitor traffic patterns. You can disable cookies in your browser settings.</Text>\n\n        <Text style={styles.sectionTitle}>How We Use Your Data</Text>\n        <Text style={styles.paragraph}>We use the data we collect to:</Text>\n        <Text style={styles.listItem}> Facilitate bookings and transactions between professionals and clients.</Text>\n        <Text style={styles.listItem}> Verify professional eligibility through background checks.</Text>\n        <Text style={styles.listItem}> Provide customer support and resolve disputes between users.</Text>\n        <Text style={styles.listItem}> Improve app functionality through analytics and feedback.</Text>\n        <Text style={styles.listItem}> Manage communications between professionals and clients.</Text>\n        <Text style={styles.listItem}> Use health data for internal analysis and marketing purposes. We retain control over how this data is used.</Text>\n\n        <Text style={styles.sectionTitle}>Sharing of Information</Text>\n        <Text style={styles.paragraph}>We may share your data in the following ways:</Text>\n        <Text style={styles.listItem}> With Other Users: For bookings, we share relevant information between professionals and pet owners.</Text>\n        <Text style={styles.listItem}> With Third-Party Providers: Payment processors, analytics providers, and background check services may access limited information to perform their services.</Text>\n        <Text style={styles.listItem}> Legal and Compliance Purposes: We may disclose information if required by law or to protect the safety and security of our users.</Text>\n        <Text style={styles.listItem}> Business Transfers: In case of a merger, sale, or acquisition, your data may be transferred to a new owner.</Text>\n        <Text style={styles.listItem}> Aggregated Data: We may share non-identifiable, aggregated data for research or business purposes.</Text>\n\n        <Text style={styles.sectionTitle}>Your Rights and Choices</Text>\n        <Text style={styles.listItem}> Account Management: You can update or delete your account information through the app settings.</Text>\n        <Text style={styles.listItem}> Health Data Access: You may review the health data associated with your pets but agree that we control its use.</Text>\n        <Text style={styles.listItem}> Location Services: Manage your location preferences through your device settings.</Text>\n        <Text style={styles.listItem}> Cookie Preferences: You can opt out of personalized ads and tracking through your browser settings.</Text>\n\n        <Text style={styles.sectionTitle}>Security and Data Retention</Text>\n        <Text style={styles.paragraph}>\n          We implement reasonable security measures to protect your data, though no system is entirely secure. We retain your data as long as needed for operational purposes or as required by law.\n        </Text>\n\n        <Text style={styles.sectionTitle}>International Data Transfers</Text>\n        <Text style={styles.paragraph}>\n          Your data may be processed or stored in countries outside your own. By using the app, you agree to these transfers, even if those countries have different data protection laws.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Changes to This Privacy Policy</Text>\n        <Text style={styles.paragraph}>\n          We may update this policy from time to time to reflect changes in our practices or services. We will notify you of significant changes through the app or via email. Continued use of the app constitutes acceptance of the revised policy.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Contact Us</Text>\n        <Text style={styles.paragraph}>\n          If you have questions or concerns about this policy, please contact us:\n        </Text>\n        <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n        <Text style={styles.listItem}>Phone: 7195106341</Text>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    width: '100%',\n    maxWidth: 800,\n    alignSelf: 'center',\n  },\n  contentContainer: {\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n});\n\nexport default PrivacyPolicy;\n","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ProfessionalSettings = () => {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Professional Settings</Text>\n      <Text>Manage your professional profile and preferences here.</Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default ProfessionalSettings;","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\n\nconst appName = 'Zen Exotics';\n\nconst TermsOfService = () => {\n  const navigation = useNavigation();\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Terms of Service\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <Text>Terms of Service coming soon. Right now we are in prototype mode, so no data is saved except for email/name if you choose to contact us through this platform, then it is saved for marketing purposes.</Text>\n      \n      <ScrollView \n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <Text style={styles.title}>Terms of Service for {appName}</Text>\n\n        <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n        \n        <Text style={styles.paragraph}>\n          Welcome to {appName}! By using our platform, mobile application, or any services offered through our platform (collectively, \"the Service\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, you must discontinue use of the Service immediately.\n        </Text>\n\n        <Text style={styles.sectionTitle}>1. Description of Service</Text>\n        <Text style={styles.paragraph}>\n          {appName} provides an online platform for connecting pet owners with professionals specializing in exotic animals, as well as dogs and cats. Users can book services, communicate with professionals, and manage pet-related services, including payments and reviews.\n        </Text>\n\n        <Text style={styles.sectionTitle}>2. User Accounts</Text>\n        <Text style={styles.paragraph}>\n          To use certain features of the Service, you must create an account. You are responsible for keeping your account information accurate and secure.\n        </Text>\n        <Text style={styles.listItem}> Eligibility: Users must be at least 18 years old to create an account.</Text>\n        <Text style={styles.listItem}> Account Security: You are responsible for all activities under your account. Notify us immediately if you suspect unauthorized use.</Text>\n        <Text style={styles.listItem}> Account Termination: We reserve the right to suspend or terminate accounts at our sole discretion for violations of these Terms.</Text>\n\n        <Text style={styles.sectionTitle}>3. User Conduct and Acceptable Use</Text>\n        <Text style={styles.paragraph}>By using the Service, you agree:</Text>\n        <Text style={styles.listItem}> To provide accurate and complete information.</Text>\n        <Text style={styles.listItem}> Not to engage in fraudulent or unlawful activities.</Text>\n        <Text style={styles.listItem}> Not to use the Service for spam, harassment, or abusive behavior toward other users.</Text>\n        <Text style={styles.listItem}> To comply with all local, national, and international laws applicable to your activities on the platform.</Text>\n        <Text style={styles.paragraph}>Failure to comply with these rules may result in account suspension or termination.</Text>\n\n        <Text style={styles.sectionTitle}>4. Pet and Health Information</Text>\n        <Text style={styles.paragraph}>\n          You acknowledge that the Service involves the collection and sharing of health-related data for pets. By using the Service, you agree to provide accurate medical information for your animals and grant us permission to use and share this data as outlined in our Privacy Policy.\n        </Text>\n\n        <Text style={styles.sectionTitle}>5. Payment Terms</Text>\n        <Text style={styles.paragraph}>\n          All transactions between pet owners and professionals must be processed through the platform's payment system, powered by Stripe. You agree to the following:\n        </Text>\n        <Text style={styles.listItem}> Booking Fees: You will be charged the agreed-upon amount at the time of booking.</Text>\n        <Text style={styles.listItem}> Cancellations and Refunds: Cancellations are subject to our cancellation policy, which may result in partial or no refunds.</Text>\n        <Text style={styles.listItem}> Payouts to Professionals: Professionals must provide accurate payment information and comply with local tax regulations.</Text>\n\n        <Text style={styles.sectionTitle}>6. Liability and Disclaimer of Warranties</Text>\n        <Text style={styles.paragraph}>\n          You acknowledge that {appName} does not guarantee the quality or safety of services provided by professionals. Our platform only facilitates connections between users.\n        </Text>\n        <Text style={styles.listItem}> We are not liable for any injury, damage, or loss caused during the provision of pet care services.</Text>\n        <Text style={styles.listItem}> The Service is provided \"as is\" and \"as available\" without warranties of any kind, express or implied.</Text>\n\n        <Text style={styles.sectionTitle}>7. Dispute Resolution Between Users</Text>\n        <Text style={styles.paragraph}>\n          Disputes between users (e.g., pet owners and professionals) must first be addressed directly between the parties. If no resolution is reached, {appName} may mediate but is not responsible for the outcome.\n        </Text>\n\n        <Text style={styles.sectionTitle}>8. Limitation of Liability</Text>\n        <Text style={styles.paragraph}>In no event shall {appName}, its affiliates, officers, employees, or partners be liable for:</Text>\n        <Text style={styles.listItem}> Indirect, incidental, or consequential damages arising from the use of the Service.</Text>\n        <Text style={styles.listItem}> Any claims exceeding the amount you paid through the Service within the last six months.</Text>\n\n        <Text style={styles.sectionTitle}>9. Termination and Suspension</Text>\n        <Text style={styles.paragraph}>We reserve the right to suspend or terminate access to the Service at any time without notice if:</Text>\n        <Text style={styles.listItem}> You breach these Terms.</Text>\n        <Text style={styles.listItem}> Your actions jeopardize the safety or security of the platform or other users.</Text>\n\n        <Text style={styles.sectionTitle}>10. Modifications to the Service and Terms</Text>\n        <Text style={styles.paragraph}>\n          We may modify these Terms or the Service at any time. Significant changes will be communicated via email or in-app notifications. Continued use of the Service after changes constitutes acceptance of the revised Terms.\n        </Text>\n\n        <Text style={styles.sectionTitle}>11. Intellectual Property Rights</Text>\n        <Text style={styles.paragraph}>\n          All content, trademarks, and logos on the platform are owned by or licensed to {appName}. You may not copy, modify, or distribute content without express permission.\n        </Text>\n\n        <Text style={styles.sectionTitle}>12. Governing Law and Dispute Resolution</Text>\n        <Text style={styles.paragraph}>\n          These Terms are governed by the laws of El Paso County, Colorado, without regard to conflict of law principles.\n        </Text>\n        <Text style={styles.listItem}> Arbitration Clause: All disputes arising under these Terms shall be resolved through binding arbitration in Colorado Springs, Colorado.</Text>\n        <Text style={styles.listItem}> Class Action Waiver: You agree to waive your right to participate in class action lawsuits.</Text>\n\n        <Text style={styles.sectionTitle}>13. Indemnification</Text>\n        <Text style={styles.paragraph}>\n          You agree to indemnify and hold harmless {appName}, its affiliates, officers, and employees from any claims, damages, or liabilities arising from your use of the Service or breach of these Terms.\n        </Text>\n\n        <Text style={styles.sectionTitle}>14. Third-Party Links and Services</Text>\n        <Text style={styles.paragraph}>\n          The platform may contain links to third-party websites or services. {appName} is not responsible for the content or actions of those third parties.\n        </Text>\n\n        <Text style={styles.sectionTitle}>15. Contact Us</Text>\n        <Text style={styles.paragraph}>\n          If you have questions about these Terms, please contact us:\n        </Text>\n        <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n        <Text style={styles.listItem}>Phone: 7195106341</Text>\n\n        <Text style={styles.sectionTitle}>Acknowledgment of Agreement</Text>\n        <Text style={styles.paragraph}>\n          By accessing or using {appName}, you acknowledge that you have read, understood, and agreed to these Terms of Service.\n        </Text>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n  },\n  contentContainer: {\n    paddingBottom: 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n  testSection: {\n    marginBottom: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    padding: 10,\n    borderRadius: 4,\n  },\n});\n\nexport default TermsOfService;\n","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst HelpFAQ = () => {\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Help / FAQ</Text>\n      <Text>Frequently asked questions and help topics go here...</Text>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default HelpFAQ;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\n\nconst ContactUs = () => {\n  const navigation = useNavigation();\n  const { screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const handleSubmit = async () => {\n    if (!name || !email || !message) {\n      setSuccessMessage('Please fill in all fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSuccessMessage('');\n    \n    // Use backend API in production mode\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/contact/`, {\n        name,\n        email,\n        message\n      });\n\n      if (response.status === 200) {\n        setSuccessMessage('Your message has been sent successfully!');\n        setName('');\n        setEmail('');\n        setMessage('');\n      } else {\n        throw new Error('Failed to send message');\n      }\n    } catch (error) {\n      setSuccessMessage(error.response?.data?.error || 'Failed to send message. Please try again later.');\n      console.error(error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Show success message from either Formspree or backend\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader title=\"Contact Us\" onBackPress={() => navigation.navigate('More')} />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView \n      fullWidthHeader={true}\n      contentWidth={maxContentWidth}\n    >\n      <BackHeader \n        title=\"Contact Us\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={styles.container}>\n        <View style={[styles.contentWrapper, { width: contentWidth }]}>\n          <Text style={styles.title}>Contact Us</Text>\n          <Text style={styles.subtitle}>Get in touch with our support team</Text>\n          \n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Name\"\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Email\"\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            style={[styles.input, styles.messageInput]}\n            placeholder=\"Your Message\"\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          {successMessage ? (\n            <Text style={styles.successMessage}>\n              {successMessage}\n            </Text>\n          ) : null}\n          \n          <TouchableOpacity \n            style={[styles.button, isSubmitting && styles.disabledButton]} \n            onPress={handleSubmit}\n            disabled={isSubmitting || (state.submitting)}\n          >\n            <Text style={styles.buttonText}>\n              {isSubmitting || (state.submitting) ? 'Sending...' : 'Send Message'}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 120,\n    textAlignVertical: 'top',\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 10,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  successMessage: {\n    color: theme.colors.success,\n    textAlign: 'center',\n    marginBottom: 10,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n    width: '100%',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n});\n\nexport default ContactUs;\n","import React, { useState, useRef, useEffect, forwardRef, memo } from 'react';\nimport { View, TextInput, StyleSheet, Platform } from 'react-native';\nimport { IconButton, useTheme } from 'react-native-paper';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nconst SearchBar = forwardRef(({ placeholder, onChangeText, initialValue = '', style }, ref) => {\n  const { colors } = useTheme();\n  const [value, setValue] = useState(initialValue);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (initialValue !== value) {\n      setValue(initialValue);\n    }\n  }, [initialValue]);\n\n  const handleChangeText = (text) => {\n    if (text !== value) {\n      setValue(text);\n      onChangeText(text);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style, { backgroundColor: colors.surface }]}>\n      <IconButton\n        icon={() => <MaterialIcons name=\"search\" size={24} color={colors.primary} />}\n        onPress={() => inputRef.current?.focus()}\n      />\n      <TextInput\n        ref={inputRef}\n        style={[styles.input, { color: colors.text }]}\n        placeholder={placeholder}\n        placeholderTextColor={colors.placeholder}\n        value={value}\n        onChangeText={handleChangeText}\n        autoFocus={true}\n        keyboardType=\"default\"\n        returnKeyType=\"search\"\n        blurOnSubmit={false}\n      />\n    </View>\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 25, // Make it circular\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    paddingVertical: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default memo(SearchBar);\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { View, StyleSheet, FlatList, TouchableOpacity, Platform, SafeAreaView, StatusBar, TouchableWithoutFeedback } from 'react-native';\nimport { Chip, Card, Title, Paragraph, Button, Portal, Modal, useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport SearchBar from '../components/SearchBar';\nimport { mockClients } from '../data/mockData';\n\nconst Clients = ({ navigation }) => {\n  const { colors } = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilters, setSelectedFilters] = useState([]);\n  const [tempFilters, setTempFilters] = useState([]);\n  const [isFilterModalVisible, setIsFilterModalVisible] = useState(false);\n  const [clients, setClients] = useState([]);\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      setClients(mockClients);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const filters = [\n    { label: 'Dog Sitting', value: 'Dog' },\n    { label: 'Cat Sitting', value: 'Cat' },\n    { label: 'Exotic Sitting', value: 'Exotic' },\n    { label: 'Last Week', value: 'week' },\n    { label: 'Last Month', value: 'month' },\n    { label: 'Last Year', value: 'year' },\n  ];\n\n  const toggleFilter = useCallback((filter) => {\n    setTempFilters(prevFilters =>\n      prevFilters.includes(filter)\n        ? prevFilters.filter(f => f !== filter)\n        : [...prevFilters, filter]\n    );\n  }, []);\n\n  const applyFilters = useCallback(() => {\n    setSelectedFilters(tempFilters);\n    setIsFilterModalVisible(false);\n  }, [tempFilters]);\n\n  const filteredClients = useMemo(() => {\n    return clients.filter(client => {\n      const matchesSearch = client.name.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesFilters = selectedFilters.length === 0 || selectedFilters.every(filter => {\n        if (['Dog', 'Cat', 'Exotic'].includes(filter)) {\n          return client.pet_types.includes(filter);\n        }\n        const lastBookingDate = new Date(client.last_booking);\n        const currentDate = new Date();\n        switch (filter) {\n          case 'week':\n            const weekAgo = new Date();\n            weekAgo.setDate(currentDate.getDate() - 7);\n            return lastBookingDate >= weekAgo;\n          case 'month':\n            const monthAgo = new Date();\n            monthAgo.setMonth(currentDate.getMonth() - 1);\n            return lastBookingDate >= monthAgo;\n          case 'year':\n            const yearAgo = new Date();\n            yearAgo.setFullYear(currentDate.getFullYear() - 1);\n            return lastBookingDate >= yearAgo;\n          default:\n            return true;\n        }\n      });\n      return matchesSearch && matchesFilters;\n    });\n  }, [clients, searchQuery, selectedFilters]);\n\n  const renderClient = useCallback(({ item }) => (\n    <TouchableOpacity onPress={() => navigation.navigate('ClientHistory', { clientId: item.id })}>\n      <Card style={styles.clientCard}>\n        <Card.Content>\n          <Title>{item.name}</Title>\n          <Paragraph>Last booking: {item.last_booking}</Paragraph>\n          <View style={styles.petTypes}>\n            {item.pet_types.map(pet => (\n              <Chip key={pet} style={styles.petChip}>{pet}</Chip>\n            ))}\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  ), [navigation]);\n\n  const handleSearchChange = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n\n  return Platform.OS === 'web' ? (\n    <View style={styles.container}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </View>\n  ) : (\n    <SafeAreaView style={[styles.container, styles.androidSafeArea]}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidSafeArea: {\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  searchAndFilterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    margin: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  searchBar: {\n    flex: 1,\n    marginRight: 8,\n    marginLeft: Platform.OS === 'web' ? 0 : 8,\n  },\n  filterButton: {\n    minWidth: 80,\n    marginRight: Platform.OS === 'web' ? 0 : 8,\n  },\n  clientList: {\n    padding: 16,\n  },\n  clientCard: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  petTypes: {\n    flexDirection: 'row',\n    marginTop: 8,\n  },\n  petChip: {\n    marginRight: 8,\n  },\n  noClientsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 5,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '90%',\n  },\n  modalTitle: {\n    marginBottom: 10,\n  },\n  filtersContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 20,\n  },\n  filterChip: {\n    margin: 4,\n  },\n  applyButton: {\n    marginTop: 10,\n  },\n  closeButton: {\n    marginTop: 10,\n    alignSelf: 'flex-end',\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    zIndex: 1,\n  },\n});\n\nexport default Clients;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Modal,\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Switch,\n} from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport DatePicker from './DatePicker';\nimport { theme } from '../styles/theme';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nexport const CostCalculationModal = ({\n  visible,\n  onClose,\n  serviceName,\n  additionalRates = [],\n  professionalName = \"Professional\",\n  onContactPress,\n}) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [additionalAnimals, setAdditionalAnimals] = useState(0);\n  const [isHolidayRate, setIsHolidayRate] = useState(false);\n  const [selectedRates, setSelectedRates] = useState({});\n  const [totalCost, setTotalCost] = useState(0);\n  const [platformFees, setPlatformFees] = useState(0);\n\n  const BASE_RATE = 20;\n  const ADDITIONAL_ANIMAL_RATE = 10;\n  const HOLIDAY_RATE = 40;\n  const PLATFORM_FEE_PERCENTAGE = 0.10;\n\n  const calculateTotalCost = () => {\n    // Start with either holiday rate or base rate\n    let subtotal = isHolidayRate ? HOLIDAY_RATE : BASE_RATE;\n    \n    // Add additional animal costs\n    subtotal += additionalAnimals * ADDITIONAL_ANIMAL_RATE;\n    \n    // Add any selected additional rates\n    Object.entries(selectedRates).forEach(([_, rate]) => {\n      if (rate.selected) {\n        subtotal += rate.amount;\n      }\n    });\n\n    setTotalCost(subtotal);\n    setPlatformFees(subtotal * PLATFORM_FEE_PERCENTAGE);\n  };\n\n  useEffect(() => {\n    // Initialize selectedRates object\n    const ratesObj = {};\n    additionalRates.forEach(rate => {\n      ratesObj[rate.title] = { ...rate, selected: false };\n    });\n    setSelectedRates(ratesObj);\n  }, [additionalRates]);\n\n  useEffect(() => {\n    calculateTotalCost();\n  }, [additionalAnimals, isHolidayRate, selectedRates]);\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <TouchableOpacity \n            style={styles.closeIcon} \n            onPress={onClose}\n          >\n            <MaterialIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n\n          <Text style={styles.modalTitle}>{serviceName}</Text>\n          \n          <ScrollView \n            style={styles.scrollContent} \n            showsVerticalScrollIndicator={true}\n            persistentScrollbar={true}\n          >\n            {/* Date Selection\n            <View style={styles.dateSection}>\n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>Start Date:</Text>\n                <DatePicker\n                  value={startDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setStartDate(date);\n                  }}\n                />\n              </View>\n              \n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>End Date:</Text>\n                <DatePicker\n                  value={endDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setEndDate(date);\n                  }}\n                />\n              </View>\n            </View> */}\n\n            {/* Base Rate */}\n            <View style={styles.rateItem}>\n              <Text>Base Rate</Text>\n              <Text>${BASE_RATE}</Text>\n            </View>\n\n            {/* Additional Animals */}\n            <View style={styles.rateItem}>\n              <Text>Additional Animals (${ADDITIONAL_ANIMAL_RATE} each)</Text>\n              <View style={styles.counterContainer}>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(Math.max(0, additionalAnimals - 1))}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"remove\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <Text style={styles.counterText}>{additionalAnimals}</Text>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(additionalAnimals + 1)}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"add\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n\n            {/* Holiday Rate */}\n            <View style={styles.rateItem}>\n              <Text>Holiday Rate (${HOLIDAY_RATE})</Text>\n              <Switch\n                value={isHolidayRate}\n                onValueChange={setIsHolidayRate}\n                trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n              />\n            </View>\n\n            {/* Additional Rates */}\n            {Object.entries(selectedRates).map(([title, rate]) => (\n              <View key={title} style={styles.rateItem}>\n                <Text>{title} (${rate.amount})</Text>\n                <Switch\n                  value={rate.selected}\n                  onValueChange={(value) => {\n                    setSelectedRates({\n                      ...selectedRates,\n                      [title]: { ...rate, selected: value },\n                    });\n                  }}\n                  trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n                />\n              </View>\n            ))}\n\n            {/* Total and Fees */}\n            <View style={styles.totalSection}>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Subtotal:</Text>\n                <Text style={styles.totalAmount}>${totalCost}</Text>\n              </View>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Service Fees (10%):</Text>\n                <Text style={styles.totalAmount}>${platformFees.toFixed(2)}</Text>\n              </View>\n              <View style={[styles.totalItem, styles.finalTotal]}>\n                <Text style={[styles.totalLabel, styles.finalTotalText]}>Total Cost:</Text>\n                <Text style={[styles.totalAmount, styles.finalTotalText]}>${(totalCost + platformFees).toFixed(2)}</Text>\n              </View>\n            </View>\n          </ScrollView>\n\n          <TouchableOpacity \n            style={styles.contactButton} \n            onPress={onContactPress}\n          >\n            <Text style={styles.contactButtonText}>Contact {professionalName}</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 20,\n    paddingRight: 15,\n    width: '90%',\n    maxHeight: '43%',\n    maxWidth: 400,\n  },\n  scrollContent: {\n    flexGrow: 0,\n    marginBottom: 10,\n    paddingRight: 12,\n    marginRight: -7,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center',\n    marginTop: 5,\n    paddingHorizontal: 30,\n  },\n  dateSection: {\n    marginBottom: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  dateColumn: {\n    flex: 1,\n  },\n  dateLabel: {\n    marginBottom: 8,\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.text,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  counterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  counterButton: {\n    padding: 5,\n  },\n  counterText: {\n    marginHorizontal: 10,\n    fontSize: theme.fontSizes.medium,\n  },\n  totalSection: {\n    marginTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 15,\n  },\n  totalItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  finalTotal: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 10,\n    marginTop: 5,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  finalTotalText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  closeButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  closeButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  closeIcon: {\n    position: 'absolute',\n    right: 15,\n    top: 15,\n    zIndex: 1,\n    padding: 5,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  contactButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { CostCalculationModal } from './CostCalculationModal';\nimport { mockConversations, mockMessages, createNewConversation } from '../data/mockData';\n\nexport const ServiceCard = ({ \n  service, \n  onHeartPress, \n  isFavorite, \n  professionalName,\n  professionalId,\n  navigation\n}) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalId\n    );\n\n    if (existingConversation) {\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    } else {\n      // Create new conversation using the helper function\n      const newConversation = createNewConversation(\n        professionalId,\n        professionalName,\n        'current_user_id', // Replace with actual current user ID\n        'Me' // Current user name\n      );\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Navigate directly to MessageHistory\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    }\n    setIsModalVisible(false);\n  };\n\n  return (\n    <View style={styles.serviceCard}>\n      {/* <TouchableOpacity \n        style={styles.heartButton}\n        onPress={() => onHeartPress(service.id)}\n      >\n        <MaterialIcons \n          name={isFavorite ? \"favorite\" : \"favorite-border\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity> */}\n      \n      <View style={styles.contentContainer}>\n        <MaterialCommunityIcons name={service.icon} size={30} color={theme.colors.primary} />\n        <Text numberOfLines={2} style={styles.serviceName}>{service.name}</Text>\n        <Text style={styles.startingPrice}>Starting at ${service.startingPrice}</Text>\n        <View style={styles.animalTypeContainer}>\n          {service.animalTypes.map((type, index) => (\n            <Text key={index} style={styles.animalType}>{type}</Text>\n          ))}\n        </View>\n      </View>\n\n      <TouchableOpacity \n        style={styles.calculateButton}\n        onPress={() => setIsModalVisible(true)}\n      >\n        <Text style={styles.calculateButtonText}>Calculate Cost</Text>\n      </TouchableOpacity>\n\n      <CostCalculationModal\n        visible={isModalVisible}\n        onClose={() => setIsModalVisible(false)}\n        serviceName={service.name}\n        additionalRates={service.additionalRates || []}\n        professionalName={professionalName}\n        professionalId={professionalId}\n        onContactPress={handleContactPress}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 12,\n    marginRight: 12,\n    width: 280,\n    height: 220,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    position: 'relative',\n    justifyContent: 'space-between',\n  },\n  heartButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    zIndex: 1,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: '600',\n    marginTop: 8,\n    marginBottom: 6,\n    fontFamily: theme.fonts.header.fontFamily,\n    flexShrink: 1,\n  },\n  startingPrice: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.secondary,\n    marginBottom: 6,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  animalTypeContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 4,\n    marginBottom: 8,\n  },\n  animalType: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.secondary,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calculateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 'auto',\n  },\n  calculateButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n});\n\nexport default ServiceCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, Modal } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { Calendar } from 'react-native-calendars';\nimport { mockPets } from '../data/mockData';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport ServiceCard from '../components/ServiceCard';\nimport { mockServicesForCards } from '../data/mockData';\nimport { mockConversations, mockMessages } from '../data/mockData';\n// Conditionally import WebMap component\nconst WebMap = Platform.OS === 'web' ? require('react-leaflet').MapContainer : null;\n\n// Mock API function to fetch profile data\nconst fetchProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        // profilePhoto: 'https://example.com/profile-photo.jpg',\n        bio: \"Hi! I'm an experienced pet professional who loves all animals. I have 5 years of experience caring for dogs, cats, and exotic pets.\",\n        petPhotos: [\n          // 'https://example.com/pet-photo-1.jpg',\n          // 'https://example.com/pet-photo-2.jpg',\n        ],\n        services: ['Dog Boarding', 'Dog Walking', 'Drop-In Visits', 'House Sitting'],\n        rates: {\n          boarding: '35',\n          daycare: '25',\n          houseSitting: '40',\n          dropInVisits: '20',\n          dogWalking: '15'\n        },\n        name: 'John Doe',\n        location: 'New York, NY'\n      });\n    }, 1000);\n  });\n};\n\nconst mockReviews = [\n  {\n    id: 1,\n    name: 'Noah M.',\n    service: 'Fish Tank Cleaning',\n    date: 'Dec 02, 2024',\n    rating: 5,\n    text: 'Dina was fantastic with our dog! Sent lots of photos and clearly made sure she was comfortable. Will definitely use again!',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 2,\n    name: 'Kaily J.',\n    service: 'Ferrier',\n    date: 'Nov 26, 2024',\n    rating: 4,\n    text: 'Dina always takes such good care of Elijah. He was having tummy problems today and she kept me updated all day on how he was doing.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 3,\n    name: 'Nadia U.',\n    service: 'Reptile Boarding & Habitat Maintenance',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'She took such great care of our puppy! Sent pictures and videos the whole time, her backyard was super nice and clean  my puppy was definitely in great hands! Bonus her dogs were so sweet with our puppy.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 4,\n    name: 'Vanessa G.',\n    service: 'Bird Feeding',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'Dina was great! She communicated through the whole stay and sent plenty of videos and photos. 10/10',\n    photo: 'https://via.placeholder.com/50'\n  }\n];\n\nconst useResponsiveLayout = () => {\n  const { width } = useWindowDimensions();\n  const [isWideScreen, setIsWideScreen] = useState(true);\n\n  useEffect(() => {\n    setIsWideScreen(Platform.OS === 'web' && width >= 900);\n  }, [width]);\n\n  return isWideScreen;\n};\n\n// Move this outside the component\nif (Platform.OS === 'web') {\n  const style = document.createElement('style');\n  style.textContent = `\n    .services-scroll::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    .services-scroll::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar:horizontal {\n      height: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid white;\n      background-color: rgba(0, 0, 0, .5);\n    }\n  `;\n  document.head.appendChild(style);\n}\n\nconst ProfessionalProfile = ({ route, navigation }) => {\n  const { width: windowWidth } = useWindowDimensions();\n  const [professionalData, setProfessionalData] = useState(null);\n  const [canGoBack, setCanGoBack] = useState(false);\n  const [bioModalVisible, setBioModalVisible] = useState(false);\n  const [reviewsModalVisible, setReviewsModalVisible] = useState(false);\n  const [specialistModalVisible, setSpecialistModalVisible] = useState(false);\n  const [favoriteServices, setFavoriteServices] = useState([]);\n  const [servicesModalVisible, setServicesModalVisible] = useState(false);\n  const isWideScreen = useResponsiveLayout();\n  const dynamicStyles = {\n    profileSection: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      display: windowWidth >= 600 ? 'flex' : 'block',\n    },\n    profileSectionMobile: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      maxWidth: 500,\n      alignSelf: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    servicesBox: {\n      backgroundColor: theme.colors.surface,\n      padding: 24,\n      paddingTop: 0,\n      borderRadius: 12,\n      marginTop: 24,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 4,\n      elevation: 3,\n      width: '100%',\n      maxWidth: Platform.OS === 'web' ? 600 : undefined,\n      alignSelf: 'center',\n    },\n  };\n\n  useEffect(() => {\n    // Check if we can go back and if SearchProfessionalsListing exists in history\n    const state = navigation.getState();\n    const hasHistory = state.routes.some(route => route.name === 'SearchProfessionalsListing');\n    setCanGoBack(navigation.canGoBack() && hasHistory);\n  }, [navigation]);\n\n  const handleBack = () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.removeItem('currentProfessional');\n      // Always use navigate to ensure consistent behavior\n      navigation.navigate('SearchProfessionalsListing');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  // Handle browser back button\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handlePopState = () => {\n        handleBack();\n      };\n\n      window.addEventListener('popstate', handlePopState);\n      return () => window.removeEventListener('popstate', handlePopState);\n    }\n  }, []);\n\n  useEffect(() => {\n    const loadProfessionalData = async () => {\n      if (route?.params?.professional) {\n        setProfessionalData(route.params.professional);\n      } else if (Platform.OS === 'web') {\n        // Try to get professional data from sessionStorage on web reload\n        const storedProfessional = sessionStorage.getItem('currentProfessional');\n        if (storedProfessional) {\n          setProfessionalData(JSON.parse(storedProfessional));\n        } else {\n          // If no data, redirect back to search\n          navigation.replace('SearchProfessionalsListing');\n        }\n      }\n    };\n\n    loadProfessionalData();\n  }, [route?.params?.professional]);\n\n  // Store professional data in AsyncStorage for mobile\n  useEffect(() => {\n    if (Platform.OS !== 'web' && professionalData) {\n      AsyncStorage.setItem('currentProfessional', JSON.stringify(professionalData));\n    }\n  }, [professionalData]);\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return Math.min(1000, windowWidth - 32); // 32px for padding\n    }\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const toggleFavorite = (serviceId) => {\n    setFavoriteServices(prev => \n      prev.includes(serviceId) \n        ? prev.filter(id => id !== serviceId)\n        : [...prev, serviceId]\n    );\n  };\n\n  const renderServices = () => (\n    <View style={styles.servicesSection}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>Services</Text>\n        <TouchableOpacity \n          style={styles.seeAllButton}\n          onPress={() => setServicesModalVisible(true)}\n        >\n          <Text style={styles.seeAllButtonText}>See All</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.servicesWrapper}>\n        <ScrollView \n          horizontal\n          showsHorizontalScrollIndicator={true}\n          style={[\n            styles.servicesScroll,\n            Platform.OS === 'web' && { \n              className: 'services-scroll',\n              overflowX: 'scroll'\n            }\n          ]}\n          contentContainerStyle={styles.servicesScrollContent}\n          persistentScrollbar={true}\n        >\n          {mockServicesForCards.slice(0, 5).map(service => (\n            <ServiceCard \n              key={service.id}\n              service={service}\n              onHeartPress={toggleFavorite}\n              isFavorite={favoriteServices.includes(service.id)}\n              professionalName={professionalData.name}\n              professionalId={professionalData.id}\n              navigation={navigation}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    </View>\n  );\n\n  if (!professionalData) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Professional Profile\" \n          onBackPress={handleBack}\n        />\n        <View style={styles.centered}>\n          <Text>Loading...</Text>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  const renderProfilePhoto = () => {\n    if (professionalData.profilePicture) {\n      return <Image source={{ uri: professionalData.profilePicture }} style={styles.profilePhoto} />;\n    }\n    return (\n      <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n        <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n      </View>\n    );\n  };\n\n  const renderSpecialistExperience = () => (\n    <View style={styles.specialistSection}>\n      <Text style={styles.sectionTitle}>Specialist Experience</Text>\n      <TruncatedText text={professionalData?.bio || ''} />\n    </View>\n  );\n\n  const renderRatingStars = () => (\n    <View style={styles.ratingContainer}>\n      <MaterialCommunityIcons name=\"star\" size={24} color={theme.colors.primary} />\n      <Text style={styles.rating}>{professionalData.reviews}</Text>\n      <Text style={[styles.reviewCount, { marginLeft: 12 }]}>({professionalData.reviewCount || 50} reviews)</Text>\n    </View>\n  );\n\n  // Add new component for truncated text with Read More\n  const TruncatedText = ({ text, maxLines = 3 }) => (\n    <View>\n      <Text \n        numberOfLines={maxLines} \n        style={styles.specialistText}\n      >\n        {text}\n      </Text>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setSpecialistModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderMap = () => {\n    if (Platform.OS === 'web' && WebMap) {\n      const { MapContainer, TileLayer, Marker } = require('react-leaflet');\n      return (\n        <View style={styles.mapContainer}>\n          <MapContainer\n            center={[38.8339, -104.8214]} // Default coordinates\n            zoom={13}\n            style={{ height: 400, width: '100%' }}\n          >\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            <Marker position={[38.8339, -104.8214]} />\n          </MapContainer>\n        </View>\n      );\n    }\n    // For mobile, return null or a placeholder\n    return null;\n  };\n\n  const renderPets = () => {\n    if (!mockPets || mockPets.length === 0) return null;\n    \n    return (\n      <View style={styles.petsSection}>\n        <Text style={styles.sectionTitle}>Pets</Text>\n        {mockPets.map((pet, index) => (\n          <View key={pet.id} style={styles.petItem}>\n            <View style={styles.petPhoto}>\n              <MaterialCommunityIcons \n                name={pet.animal_type.toLowerCase() === 'dog' ? 'dog' : \n                      pet.animal_type.toLowerCase() === 'cat' ? 'cat' : 'snake'} \n                size={30} \n                color={theme.colors.primary} \n              />\n            </View>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petBreed}>{pet.breed}</Text>\n              <Text style={styles.petDetails}>\n                {`${pet.weight} lbs, ${pet.age.years} years${pet.age.months ? ` ${pet.age.months} months` : ''}`}\n              </Text>\n            </View>\n          </View>\n        ))}\n      </View>\n    );\n  };\n\n  const styles2 = StyleSheet.create({\n    modalContent: {\n      backgroundColor: theme.colors.background,\n      padding: 24,\n      borderRadius: 12,\n      width: Platform.OS === 'web' ? \n        (windowWidth <= 650 ? '90%' : '60%') : \n        '90%',\n      maxWidth: 800,\n      maxHeight: '90%',\n    },\n  });\n\n  // Create services array from professionalData\n  const services = [\n    { name: 'Boarding', price: \"25\" },\n    { name: 'Doggy Day Care', price: \"30\" },\n    { name: 'House Sitting', price: \"40\" },\n    { name: 'Drop-In Visits', price: \"35\" },\n    { name: 'Dog Walking', price: \"45\" }\n  ];\n\n  const HomeFeature = ({ text }) => (\n    <View style={styles.featureBubble}>\n      <Text style={styles.featureText}>{text}</Text>\n    </View>\n  );\n\n  const renderReviews = () => (\n    <View style={styles.reviewsSection}>\n      <Text style={styles.sectionTitle}>Reviews</Text>\n      <View style={styles.reviewsGrid}>\n        {mockReviews.slice(0, 4).map(renderReview)}\n      </View>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setReviewsModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more reviews</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderReview = (review) => (\n    <View key={review.id} style={styles.reviewItem}>\n      <View style={styles.reviewHeader}>\n        <Image source={{ uri: review.photo }} style={styles.reviewerPhoto} />\n        <View style={styles.reviewerInfo}>\n          <Text style={styles.reviewerName}>{review.name}</Text>\n          <View style={styles.reviewMeta}>\n            <View style={styles.starContainer}>\n              {[...Array(5)].map((_, index) => (\n                <MaterialCommunityIcons\n                  key={index}\n                  name={index < review.rating ? \"star\" : \"star-outline\"}\n                  size={16}\n                  color={theme.colors.primary}\n                />\n              ))}\n            </View>\n            <View style={styles.serviceInfo}>\n              <MaterialCommunityIcons name=\"home\" size={16} color={theme.colors.secondary} />\n              <Text style={styles.serviceText}>{review.service}  {review.date}</Text>\n            </View>\n          </View>\n        </View>\n      </View>\n      <Text style={styles.reviewText}>{review.text}</Text>\n    </View>\n  );\n\n  const renderHomeSection = () => (\n    <View style={styles.homeSection}>\n      <Text style={styles.sectionTitle}>Home</Text>\n      <View style={styles.homeFeaturesGrid}>\n        <HomeFeature text=\"No children present\" />\n        <HomeFeature text=\"Has security system\" />\n        <HomeFeature text=\"Non-smoking household\" />\n        <HomeFeature text=\"Has 2 dogs\" />\n        <HomeFeature text=\"Dogs allowed on bed\" />\n        <HomeFeature text=\"Dogs allowed on furniture\" />\n        <HomeFeature text=\"Potty breaks every 0-2 hours\" />\n      </View>\n    </View>\n\n  );\n\n  const renderAboutSection = () => (\n    <View style={styles.aboutSection}>\n      <Text style={styles.sectionTitle}>About {professionalData.name}</Text>\n      <View style={styles.aboutSubsections}>\n        <View style={styles.communicationSection}>\n          <Text style={styles.subsectionTitle}>Communication</Text>\n          <Text>22 repeat pet parents</Text>\n          <Text>100% response rate</Text>\n          <Text>Usually responds in a few minutes</Text>\n          <Text>90% bookings with photo updates</Text>\n        </View>\n        <View style={styles.skillsSection}>\n          <Text style={styles.subsectionTitle}>Skills</Text>\n          <Text>3 years of experience</Text>\n        </View>\n      </View> \n    </View>\n  );\n\n  const renderAvailability = () => (\n    <View style={dynamicStyles.servicesBox}>\n      <View style={styles.calendarSection}>\n        <Text style={[styles.sectionTitle, { marginBottom: 0 }]}>Availability</Text>\n        <Calendar\n          style={styles.calendar}\n          theme={{\n            calendarBackground: theme.colors.surface,\n            selectedDayBackgroundColor: theme.colors.primary,\n            selectedDayTextColor: '#ffffff',\n            todayTextColor: theme.colors.primary,\n          }}\n        />\n      </View>\n    </View>\n  );\n\n  const renderGallery = () => {\n    return (\n      <View style={styles.gallerySection}>\n        <Text style={styles.sectionTitle}>53 Photos</Text>\n        <View style={styles.photoGrid}>\n          {[1, 2, 3, 4].map((_, index) => (\n            <Image \n              key={index}\n              source={{ uri: 'https://via.placeholder.com/150' }}\n              style={styles.galleryPhoto}\n                      />\n          ))}\n        </View>\n      </View>\n    );\n  };\n\n  const additionalStyles = StyleSheet.create({\n    servicesSection: {\n      marginBottom: 24,\n    },\n    sectionHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 16,\n    },\n    seeAllButton: {\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 8,\n      alignSelf: 'flex-start',\n      minWidth: 'auto',\n      width: 'auto',\n    },\n    seeAllButtonText: {\n      color: theme.colors.primary,\n      fontSize: 16,\n      fontWeight: '600',\n      textAlign: 'center',\n    },\n    servicesScroll: {\n      marginHorizontal: -24, // To counteract parent padding\n      paddingHorizontal: 24,\n    },\n    modalServicesGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: 16,\n      justifyContent: 'center',\n      padding: 16,\n    },\n  });\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalData.id\n    );\n\n    if (existingConversation) {\n      // Use replace instead of navigate to avoid navigation stack issues\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id\n      });\n    } else {\n      // Create new conversation\n      const newConversation = {\n        id: `conv_${Date.now()}`,\n        name: professionalData.name,\n        professionalId: professionalData.id,\n        lastMessage: '',\n        timestamp: new Date().toISOString(),\n        unread: false,\n        bookingStatus: null\n      };\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Use replace instead of navigate\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id\n      });\n    }\n  };\n\n  // Add this new function to render profile section based on screen size\n  const renderProfileSection = () => {\n    if (windowWidth >= 600) {\n      // Web version - original layout\n      return (\n        <View style={[styles.leftColumn, !isWideScreen && styles.leftColumnMobile]}>\n          <View style={[styles.profileSection, !isWideScreen && styles.profileSectionMobile]}>\n            {renderProfilePhoto()}\n            <Text style={styles.name}>{professionalData.name}</Text>\n            <Text style={styles.location}>{professionalData.location}</Text>\n            {renderRatingStars()}\n            <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n              <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n            </TouchableOpacity>\n          </View>\n          {isWideScreen && renderAvailability()}\n          {isWideScreen && renderMap()}\n          {isWideScreen && mockPets && mockPets.length > 0 && renderPets()}\n        </View>\n      );\n    } else {\n      // Mobile version - fixed layout\n      return (\n        <View style={[dynamicStyles.profileSection, dynamicStyles.profileSectionMobile]}>\n          {renderProfilePhoto()}\n          <Text style={styles.name}>{professionalData.name}</Text>\n          <Text style={styles.location}>{professionalData.location}</Text>\n          {renderRatingStars()}\n          <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n            <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth=\"1200px\">\n      <BackHeader \n        title=\"Professional Profile\" \n        onBackPress={handleBack}\n      />\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={[styles.twoColumnLayout, !isWideScreen && styles.singleColumnLayout]}>\n            {renderProfileSection()}\n            <View style={styles.rightColumn}>\n              {renderGallery()}\n              {renderServices()}\n              {!isWideScreen && renderAvailability()}\n              {renderSpecialistExperience()}\n              {renderReviews()}\n              {renderHomeSection()}\n              {!isWideScreen && renderMap()}\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n\n      {/* Bio Modal */}\n      <Modal\n        visible={bioModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setBioModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <Text style={styles.bioText}>{professionalData.bio}</Text>\n            <TouchableOpacity \n              style={styles.closeButton}\n              onPress={() => setBioModalVisible(false)}\n            >\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Reviews Modal */}\n      <Modal\n        visible={reviewsModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setReviewsModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Reviews</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setReviewsModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              {mockReviews.map((review) => (\n                <View key={review.id} style={styles.modalReviewItem}>\n                  {renderReview(review)}\n                </View>\n              ))}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Specialist Experience Modal */}\n      <Modal\n        visible={specialistModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setSpecialistModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Specialist Experience</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setSpecialistModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <Text style={styles.bioText}>{professionalData?.bio}</Text>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Services Modal */}\n      <Modal\n        visible={servicesModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setServicesModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Services</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setServicesModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <View style={styles.modalServicesGrid}>\n                {mockServicesForCards.map(service => (\n                  <ServiceCard \n                    key={service.id}\n                    service={service}\n                    onHeartPress={toggleFavorite}\n                    isFavorite={favoriteServices.includes(service.id)}\n                    professionalName={professionalData.name}\n                    professionalId={professionalData.id}\n                    navigation={navigation}\n                  />\n                ))}\n              </View>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: 'auto',\n  },\n  content: {\n    alignSelf: 'center',\n    padding: 24,\n  },\n  topSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n    marginBottom: 24,\n  },\n  gallerySection: {\n    maxHeight: 400,\n    overflow: 'hidden',\n    marginBottom: 24,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    maxHeight: 320,\n    overflow: 'auto',\n  },\n  bottomSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  servicesSection: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    backgroundColor: theme.colors.background,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  aboutSection: {\n    maxHeight: 300,\n    overflow: 'auto',\n    marginBottom: 24,\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n  },\n  profileHeader: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  profileInfo: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  hostingSection: {\n    marginTop: 24,\n  },\n  hostTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  weightRanges: {\n    gap: 8,\n  },\n  weightRange: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  galleryPhoto: {\n    width: Platform.OS === 'web' ? 100 : 50,\n    height: Platform.OS === 'web' ? 100 : 50,\n    borderRadius: 8,\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    marginBottom: 16,\n    alignSelf: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 4,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    marginBottom: 8,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  service: {\n    fontSize: 16,\n    marginBottom: 5,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  rateLabel: {\n    flex: 1,\n    fontSize: 16,\n  },\n  rateInput: {\n    flex: 1,\n    backgroundColor: theme.colors.surface,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addPhotoButton: {\n    width: 100,\n    height: 100,\n    margin: 5,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  ratingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  rating: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginLeft: 5,\n  },\n  reviewCount: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginLeft: 4,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignSelf: 'center',\n  },\n  contactButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    textAlign: 'center',\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  statItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 10,\n  },\n  statText: {\n    fontSize: 16,\n    marginLeft: 5,\n  },\n  bioText: {\n    fontSize: 18,\n    lineHeight: 28,\n    color: theme.colors.text,\n    overflow: 'hidden',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  serviceText: {\n    fontSize: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  servicePrice: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  skillsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  skillBadge: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    margin: 5,\n  },\n  skillText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  photoGallery: {\n    flexDirection: 'row',\n  },\n  calculatorText: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRatesButton: {\n    marginTop: 16,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    backgroundColor: theme.colors.surface,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  additionalRatesText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calendarSection: {\n    marginTop: 24,\n  },\n  readMoreButton: {\n    marginTop: 8,\n  },\n  readMoreText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewsSection: {\n    marginVertical: 32,\n    width: '100%',\n    backgroundColor: theme.colors.background,\n  },\n  reviewItem: {\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    maxWidth: Platform.OS === 'web' ? 600 : undefined,\n  },\n  servicesSection: {\n    backgroundColor: theme.colors.surface,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginBottom: 24,\n  },\n  mapContainer: {\n    height: 400,\n    width: '100%',\n    marginVertical: 24,\n  },\n  map: {\n    flex: 1,\n  },\n  petsSection: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  petItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    padding: 12,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  petInfo: {\n    marginLeft: 12,\n    flex: 1,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 2,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petBreed: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginBottom: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  aboutSubsections: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  communicationSection: {\n    flex: 1,\n  },\n  skillsSection: {\n    flex: 1,\n  },\n  homeDetails: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n  },\n  noReviews: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontStyle: 'italic',\n    textAlign: 'center',\n    marginTop: 16,\n  },\n  twoColumnLayout: {\n    flexDirection: 'row',\n    gap: 24,\n  },\n  singleColumnLayout: {\n    flexDirection: 'column',\n  },\n  leftColumn: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    maxWidth: Platform.OS === 'web' ? 400 : undefined,\n  },\n  rightColumn: {\n    flex: Platform.OS === 'web' ? 2 : undefined,\n  },\n  calendar: {\n    height: 300,\n    marginTop: 16,\n  },\n  serviceText: {\n    fontSize: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '100',\n  },\n  homeFeaturesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    marginTop: 16,\n  },\n  featureBubble: {\n    backgroundColor: theme.colors.surface,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  featureText: {\n    fontSize: 14,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewItem: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  reviewHeader: {\n    flexDirection: 'row',\n    marginBottom: 12,\n  },\n  reviewerPhoto: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  reviewerInfo: {\n    flex: 1,\n  },\n  reviewerName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  reviewText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalScroll: {\n    maxHeight: Platform.OS === 'web' ? '70vh' : '80%',\n  },\n  closeButton: {\n    marginTop: 16,\n    alignItems: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 8,\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalCloseIcon: {\n    padding: 8,\n  },\n  modalScrollContent: {\n    paddingBottom: 24,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: Platform.OS === 'web' ? 40 : 20,\n  },\n  reviewsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    marginTop: 16,\n  },\n  reviewItem: {\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    flex: 1,\n    minWidth: Platform.OS === 'web' ? 300 : '100%',\n    // maxWidth: Platform.OS === 'web' ? 'calc(50% - 8px)' : undefined,\n    marginBottom: 0, // Remove default margin since we're using gap\n  },\n  specialistSection: {\n    marginTop: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  specialistText: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalReviewItem: {\n    marginBottom: 16,\n    width: '100%',\n  },\n  leftColumnMobile: {\n    maxWidth: '100%',\n    alignItems: 'center',\n  },\n  seeAllButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8,\n    alignSelf: 'flex-start',\n    minWidth: 'auto',\n    width: 'auto',\n  },\n  seeAllButtonText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalServicesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    justifyContent: 'center',\n    padding: 16,\n  },\n  reviewMeta: {\n    gap: 4,\n  },\n  starContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n});\n\nexport default ProfessionalProfile;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst ContractList = () => {\n  const [contracts, setContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchContracts();\n  }, []);\n\n  const fetchContracts = async () => {\n    setLoading(true);\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setContracts(response.data);\n    } catch (error) {\n      console.error('Error fetching contracts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Contracts</Text>\n      {contracts.length === 0 ? (\n        <Text style={styles.noContractsText}>No contracts yet</Text>\n      ) : (\n        contracts.map((contract) => (\n          <View key={contract.id} style={styles.card}>\n            <Text style={styles.contractTitle}>{contract.title}</Text>\n            <Text style={styles.clientName}>Client: {contract.client_name}</Text>\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Share</Text>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Edit</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        ))\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 50,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  noContractsText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  contractTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractList;\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, Modal, Platform, StyleSheet } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst ClientPicker = ({ clients, selectedClient, onSelectClient }) => {\n  const [showClientPicker, setShowClientPicker] = useState(false);\n\n  if (Platform.OS === 'web') {\n    return (\n      <Picker\n        selectedValue={selectedClient}\n        onValueChange={(itemValue) => onSelectClient(itemValue)}\n        style={styles.picker}\n      >\n        <Picker.Item label=\"Select a client...\" value=\"\" />\n        {clients.map(client => (\n          <Picker.Item key={client.id} label={client.name} value={client.name} />\n        ))}\n      </Picker>\n    );\n  } else {\n    return (\n      <View>\n        <TouchableOpacity\n          style={styles.dropdownButton}\n          onPress={() => setShowClientPicker(true)}\n        >\n          <Text style={styles.dropdownButtonText}>\n            {selectedClient || \"Select a client...\"}\n          </Text>\n          <MaterialCommunityIcons \n            name=\"chevron-down\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Modal\n          visible={showClientPicker}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setShowClientPicker(false)}\n        >\n          <View style={styles.pickerModalContainer}>\n            <View style={styles.pickerContainer}>\n              <Picker\n                selectedValue={selectedClient}\n                onValueChange={(itemValue) => {\n                  onSelectClient(itemValue);\n                  setShowClientPicker(false);\n                }}\n                style={styles.modalPicker}\n              >\n                <Picker.Item label=\"Select a client...\" value=\"\" />\n                {clients.map(client => (\n                  <Picker.Item key={client.id} label={client.name} value={client.name} />\n                ))}\n              </Picker>\n            </View>\n            <TouchableOpacity\n              style={styles.pickerCloseButton}\n              onPress={() => setShowClientPicker(false)}\n            >\n              <Text style={styles.pickerCloseButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </Modal>\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n    width: '90%',\n  },\n  modalPicker: {\n    width: '90%',\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ClientPicker;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, TextInput, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\nimport ClientPicker from './ClientPicker'; // Import the new component\n\nconst ContractTemplate = ({ templates }) => {\n  const [isTemplateModalVisible, setTemplateModalVisible] = useState(false);\n  const [isEditModalVisible, setEditModalVisible] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [contractContent, setContractContent] = useState('');\n  const [clients, setClients] = useState([]);\n  const [selectedClient, setSelectedClient] = useState('');\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/clients/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setClients(response.data);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const handleTemplateSelect = (template) => {\n    setSelectedTemplate(template);\n    setContractContent(template.description);\n    setTemplateModalVisible(false);\n    setEditModalVisible(true);\n  };\n\n  const handleAddSignableField = () => {\n    setContractContent((prevContent) => `${prevContent}\\n[signable] ___________ [end signable]`);\n  };\n\n  const handleSubmitContract = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.post(\n        `${API_BASE_URL}/api/contracts/`,\n        {\n          template: selectedTemplate.id,\n          content: contractContent,\n          client: selectedClient,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log('Contract submitted:', response.data);\n      setEditModalVisible(false);\n    } catch (error) {\n      console.error('Error submitting contract:', error);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Create New Contract</Text>\n      <TouchableOpacity style={styles.button} onPress={() => setTemplateModalVisible(true)}>\n        <Text style={styles.buttonText}>Use Template</Text>\n      </TouchableOpacity>\n\n      {/* Template Selection Modal */}\n      <Modal\n        visible={isTemplateModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setTemplateModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Select a Template</Text>\n            <ScrollView contentContainerStyle={styles.templateGrid}>\n              {templates.length === 0 ? (\n                <Text style={styles.noTemplatesText}>No templates yet</Text>\n              ) : (\n                templates.map((template) => (\n                  <TouchableOpacity\n                    key={template.id}\n                    style={styles.templateBox}\n                    onPress={() => handleTemplateSelect(template)}\n                  >\n                    <Text style={styles.templateTitle}>{template.title}</Text>\n                  </TouchableOpacity>\n                ))\n              )}\n            </ScrollView>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setTemplateModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Edit Contract Modal */}\n      <Modal\n        visible={isEditModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setEditModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Edit Contract</Text>\n            <View style={styles.clientPickerContainer}>\n              <Text style={styles.sectionTitle}>Select a Client</Text>\n              <ClientPicker\n                clients={clients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n            </View>\n            <TextInput\n              style={styles.textArea}\n              placeholder=\"Contract Content\"\n              value={contractContent}\n              onChangeText={setContractContent}\n              multiline\n            />\n            <TouchableOpacity style={styles.button} onPress={handleAddSignableField}>\n              <Text style={styles.buttonText}>Add Signable Field</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button} onPress={handleSubmitContract}>\n              <Text style={styles.buttonText}>Submit Contract</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setEditModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  noTemplatesText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  textArea: {\n    width: '100%',\n    height: 100,\n    padding: 10,\n    borderColor: theme.colors.primary,\n    borderWidth: 1,\n    borderRadius: 5,\n    marginBottom: 10,\n    textAlignVertical: 'top',\n  },\n  clientPickerContainer: {\n    width: '100%', // Ensure the client picker container takes full width\n    marginBottom: 10,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractTemplate;\n","import React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ChronicleSummary = ({ chronicles }) => {\n  if (!chronicles || chronicles.length === 0) {\n    return (\n      <View style={styles.emptyContainer}>\n        <Text style={styles.emptyText}>No chronicles yet</Text>\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Chronicles</Text>\n      {chronicles.map((chronicle) => (\n        <View key={chronicle.id} style={styles.card}>\n          <Text style={styles.chronicleTitle}>{chronicle.title}</Text>\n          <Text style={styles.clientName}>Client: {chronicle.client}</Text>\n          <Text style={styles.petName}>Pet: {chronicle.pets.join(', ')}</Text>\n          <Text style={styles.summary}>{chronicle.summary}</Text>\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Edit</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Send to Client</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      ))}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    marginTop: 16,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  chronicleTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  petName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 2,\n  },\n  summary: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ChronicleSummary;\n","import React, { useState, useRef, useLayoutEffect } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, ScrollView, StyleSheet, Platform, Modal, Dimensions } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst QuestionInput = ({ value, onChange }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const inputRef = useRef(null);\n\n  const [layout, setLayout] = useState(null);\n\nconst handleLayout = (event) => {\n  const { x, y, width, height } = event.nativeEvent.layout;\n    setLayout({ x, y, width, height });\n  };\n\n  const presetQuestions = [\n    \"What is your favorite animal?\",\n    \"How many pets do you have?\",\n    \"What's your experience with exotic pets?\",\n    \"Do you have any allergies to animals?\",\n    \"What type of exotic pet are you interested in?\",\n    \"Have you owned an exotic pet before?\",\n    \"Are you familiar with the care requirements for exotic pets?\",\n    \"Do you have a veterinarian experienced with exotic animals?\",\n    \"What's your living situation? (House, apartment, etc.)\",\n    \"Are there any local regulations about exotic pet ownership in your area?\",\n  ];\n\n  const handleChange = (text) => {\n    onChange(text);\n  };\n\n  useLayoutEffect(() => {\n    if (showDropdown && inputRef.current) {\n      inputRef.current.measure((fx, fy, width, height, px, py) => {\n        if (!isNaN(py) && !isNaN(height)) {\n          const newTop = py + height;\n          const newLeft = px;\n          const newWidth = width;\n            \n          setDropdownPosition({ top: newTop, left: newLeft, width: newWidth });\n        }\n      });\n    }\n\n    // Lock/unlock scrolling\n    if (Platform.OS === 'web') {\n      document.body.style.overflow = showDropdown ? 'hidden' : 'auto';\n    }\n\n    return () => {\n      if (Platform.OS === 'web') {\n        document.body.style.overflow = 'auto';\n      }\n    };\n  }, [showDropdown, layout]);\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  return (\n    <View style={styles.outerContainer}>\n      <View style={styles.container}>\n        <View style={styles.inputContainer} ref={inputRef} onLayout={handleLayout}>\n          <TextInput\n            style={styles.input}\n            value={value}\n            onChangeText={handleChange}\n            placeholder=\"Enter or select a question\"\n            multiline\n          />\n          <TouchableOpacity \n            style={styles.dropdownButton}\n            onPress={toggleDropdown}\n          >\n            <MaterialCommunityIcons \n              name={showDropdown ? \"chevron-up\" : \"chevron-down\"} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <Modal\n          visible={showDropdown}\n          transparent={true}\n          animationType=\"none\"\n          onRequestClose={toggleDropdown}\n        >\n          <TouchableOpacity\n            style={styles.modalOverlay}\n            activeOpacity={1}\n            onPress={toggleDropdown}\n          >\n            <View style={[styles.dropdownContainer, { top: dropdownPosition.top, left: dropdownPosition.left, width: dropdownPosition.width }]}>\n              <ScrollView style={styles.dropdownList}>\n                {presetQuestions.map((q, i) => (\n                  <TouchableOpacity\n                    key={i}\n                    style={styles.dropdownItem}\n                    onPress={() => {\n                      handleChange(q);\n                      toggleDropdown();\n                    }}\n                  >\n                    <Text style={styles.dropdownItemText}>{q}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            </View>\n          </TouchableOpacity>\n        </Modal>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  outerContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  container: {\n    width: SCREEN_WIDTH - 80, // Match the answer input width\n    maxWidth: 600,\n    alignItems: 'center',\n  },\n  inputContainer: {\n    width: '100%',\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    minHeight: 60,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    padding: 4,\n  },\n  modalOverlay: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.background,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    maxHeight: 200,\n    zIndex: 1000, // Ensure it appears on top\n    ...Platform.select({\n      web: {\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      },\n      default: {\n        elevation: 4,\n      },\n    }),\n  },\n  dropdownList: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default QuestionInput;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, ScrollView, Modal, Platform, Dimensions, Image, ActivityIndicator, Pressable } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport * as ImagePicker from 'expo-image-picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport QuestionInput from './QuestionInput';\nimport ClientPicker from './ClientPicker';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst ChronicleForm = ({ onCreateChronicle }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedClient, setSelectedClient] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [questions, setQuestions] = useState([{ question: '', answer: '', isPreset: true }]);\n  const [summary, setSummary] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [showClientPicker, setShowClientPicker] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n\n  const mockClients = [\n    { id: '1', name: 'John Doe', pets: [{ id: '1', name: 'Max' }, { id: '2', name: 'Bella' }] },\n    { id: '2', name: 'Jane Smith', pets: [{ id: '3', name: 'Luna' }, { id: '4', name: 'Charlie' }] }\n  ];\n\n  const pickImages = async () => {\n    try {\n      setIsUploading(true);\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n      });\n\n      if (!result.canceled) {\n        setPhotos([...photos, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error uploading images:', error);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index] = { ...newQuestions[index], [field]: value };\n    setQuestions(newQuestions);\n  };\n\n  const handleCreateChronicle = () => {\n    setIsCreating(true);\n    const newChronicle = {\n      id: Date.now(),\n      client: selectedClient,\n      pets: selectedPets,\n      summary,\n      questions,\n      photos,\n      title: `Chronicle for ${selectedClient}`,\n    };\n\n    setTimeout(() => {\n      console.log('Sending data to backend:', newChronicle);\n      onCreateChronicle(newChronicle);\n      setIsCreating(false);\n      setModalVisible(false);\n      resetForm();\n    }, 2000);\n  };\n\n  const resetForm = () => {\n    setSelectedClient('');\n    setSelectedPets([]);\n    setSummary('');\n    setQuestions([{ question: '', answer: '' }]);\n    setPhotos([]);\n  };\n\n  const addNewQuestion = () => {\n    setQuestions([...questions, { question: '', answer: '', isPreset: false }]);\n  };\n\n  const renderClientSelection = () => {\n    if (Platform.OS === 'web') {\n      return (\n        <Picker\n          selectedValue={selectedClient}\n          onValueChange={(itemValue) => setSelectedClient(itemValue)}\n          style={styles.picker}\n        >\n          <Picker.Item label=\"Select a client...\" value=\"\" />\n          {mockClients.map(client => (\n            <Picker.Item key={client.id} label={client.name} value={client.name} />\n          ))}\n        </Picker>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity\n            style={styles.dropdownButton}\n            onPress={() => setShowClientPicker(true)}\n          >\n            <Text style={styles.dropdownButtonText}>\n              {selectedClient || \"Select a client...\"}\n            </Text>\n            <MaterialCommunityIcons \n              name=\"chevron-down\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n          <Modal\n            visible={showClientPicker}\n            transparent={true}\n            animationType=\"slide\"\n          >\n            <View style={styles.pickerModalContainer}>\n              <View style={styles.pickerContainer}>\n                <Picker\n                  selectedValue={selectedClient}\n                  onValueChange={(itemValue) => {\n                    setSelectedClient(itemValue);\n                    setShowClientPicker(false);\n                  }}\n                >\n                  <Picker.Item label=\"Select a client...\" value=\"\" />\n                  {mockClients.map(client => (\n                    <Picker.Item key={client.id} label={client.name} value={client.name} />\n                  ))}\n                </Picker>\n              </View>\n              <TouchableOpacity\n                style={styles.pickerCloseButton}\n                onPress={() => setShowClientPicker(false)}\n              >\n                <Text style={styles.pickerCloseButtonText}>Close</Text>\n              </TouchableOpacity>\n            </View>\n          </Modal>\n        </View>\n      );\n    }\n  };\n\n  const PhotoPreview = ({ photo }) => (\n    <View style={styles.photoContainer}>\n      <Image source={{ uri: photo.uri }} style={styles.photo} />\n    </View>\n  );\n\n  return (\n    <View>\n      <TouchableOpacity style={styles.createButton} onPress={() => setModalVisible(true)}>\n        <Text style={styles.createButtonText}>Create New Chronicle</Text>\n      </TouchableOpacity>\n\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={[styles.modalContent, Platform.OS === 'web' && styles.webModalContent]}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Create New Chronicle</Text>\n              <TouchableOpacity onPress={() => setModalVisible(false)}>\n                <Text style={styles.closeButtonText}></Text>\n              </TouchableOpacity>\n            </View>\n\n            <ScrollView>\n              <Text style={styles.label}>Select Client</Text>\n              <ClientPicker\n                clients={mockClients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n\n              <Text style={styles.label}>Select Pets</Text>\n              {selectedClient && mockClients.find(c => c.name === selectedClient)?.pets.map(pet => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={[\n                    styles.petOption,\n                    selectedPets.includes(pet.name) && styles.selectedPet\n                  ]}\n                  onPress={() => {\n                    if (selectedPets.includes(pet.name)) {\n                      setSelectedPets(selectedPets.filter(p => p !== pet.name));\n                    } else {\n                      setSelectedPets([...selectedPets, pet.name]);\n                    }\n                  }}\n                >\n                  <Text style={styles.petOptionText}>{pet.name}</Text>\n                </TouchableOpacity>\n              ))}\n\n              <Text style={styles.label}>Summary</Text>\n              <TextInput\n                style={styles.summaryInput}\n                multiline\n                value={summary}\n                onChangeText={setSummary}\n                placeholder=\"Write a summary of the chronicle\"\n                textAlignVertical=\"top\"\n              />\n\n              {questions.map((item, index) => (\n                <View key={index} style={styles.questionContainer}>\n                  <Text style={styles.label}>Question {index + 1}</Text>\n                  <QuestionInput\n                    value={item.question}\n                    onChange={(text) => updateQuestion(index, 'question', text)}\n                  />\n                  <View style={styles.answerInputContainer}>\n                    <TextInput\n                      style={[styles.input, styles.answerInput]}\n                      value={item.answer}\n                      onChangeText={(text) => updateQuestion(index, 'answer', text)}\n                      placeholder=\"Enter answer\"\n                      multiline\n                    />\n                  </View>\n                </View>\n              ))}\n\n              <TouchableOpacity style={styles.addQuestionButton} onPress={addNewQuestion}>\n                <MaterialCommunityIcons name=\"plus\" size={20} color={theme.colors.primary} />\n                <Text style={styles.addQuestionButtonText}>Add Another Question</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.uploadButton} \n                onPress={pickImages}\n                disabled={isUploading}\n              >\n                <MaterialCommunityIcons \n                  name=\"camera\" \n                  size={24} \n                  color={isUploading ? theme.colors.disabled : theme.colors.primary} \n                />\n                <Text style={[\n                  styles.uploadButtonText,\n                  isUploading && styles.uploadingText\n                ]}>\n                  {isUploading ? 'Uploading...' : 'Upload Photos'}\n                </Text>\n                {isUploading && (\n                  <ActivityIndicator \n                    size=\"small\" \n                    color={theme.colors.primary} \n                    style={styles.uploadingSpinner} \n                  />\n                )}\n              </TouchableOpacity>\n\n              <ScrollView horizontal style={styles.photoPreview}>\n                {photos.map((photo, index) => (\n                  <PhotoPreview key={index} photo={photo} />\n                ))}\n              </ScrollView>\n            </ScrollView>\n\n            <View style={styles.modalButtonContainer}>\n              <TouchableOpacity \n                style={styles.cancelButton} \n                onPress={() => {\n                  setModalVisible(false);\n                  resetForm();\n                }}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.submitButton} \n                onPress={handleCreateChronicle}\n                disabled={isCreating}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isCreating ? 'Creating Chronicle...' : 'Create Chronicle'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  createButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  createButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '90%',\n    maxHeight: '80%',\n  },\n  webModalContent: {\n    width: screenWidth > 600 ? '40%' : '90%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  closeButtonText: {\n    fontSize: 20,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    minHeight: 20,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n  },\n  petOption: {\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n  },\n  selectedPet: {\n    backgroundColor: theme.colors.primary,\n  },\n  petOptionText: {\n    color: theme.colors.text,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 16,\n  },\n  uploadButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  photoPreview: {\n    flexDirection: 'row',\n    marginTop: 16,\n  },\n  photoThumbnail: {\n    width: 80,\n    height: 80,\n    marginRight: 8,\n    borderRadius: 4,\n  },\n  questionContainer: {\n    marginBottom: 16,\n    width: '100%',\n    alignItems: 'center',\n  },\n  modalButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  cancelButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginLeft: 8,\n  },\n  submitButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  addQuestionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 8,\n    marginBottom: 16,\n    zIndex: 1, // Lower than dropdown\n  },\n  addQuestionButtonText: {\n    marginLeft: 8,\n    zIndex: 1, // Lower than dropdown\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  answerInputContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  answerInput: {\n    width: screenWidth - 80,\n    maxWidth: 600,\n    minHeight: 60,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    marginTop: 8,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  summaryInput: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    padding: 8,\n    height: 100, // Set a fixed height\n    textAlignVertical: 'top',\n    ...Platform.select({\n      web: {\n        minHeight: 100,\n      },\n      ios: {\n        paddingTop: 8, // Add some padding to the top for iOS\n      },\n      android: {\n        paddingTop: 8, // Add some padding to the top for Android\n      },\n    }),\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  photoContainer: {\n    marginRight: 8,\n  },\n  photo: {\n    width: 100,\n    height: 100,\n    borderRadius: 8,\n  },\n});\n\nexport default ChronicleForm;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, SafeAreaView, StatusBar, Platform, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport ContractList from '../components/ContractList';\nimport ContractTemplate from '../components/ContractTemplate'; // Import ContractTemplate\nimport ChronicleSummary from '../components/ChronicleSummary';\nimport ChronicleForm from '../components/ChronicleForm';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyContracts = () => {\n  const [activeTab, setActiveTab] = useState('contracts');\n  const [chronicles, setChronicles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [templates, setTemplates] = useState([]);\n\n  useEffect(() => {\n    if (activeTab === 'chronicles') {\n      fetchChronicles();\n    }\n  }, [activeTab]);\n\n  const fetchChronicles = async () => {\n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    const mockChronicles = [\n      {\n        id: 1,\n        title: 'Fluffy\\'s Adventure',\n        client: 'John Doe',\n        pets: ['Fluffy'],\n        summary: 'Fluffy had a great time at the park today!',\n      },\n      {\n        id: 2,\n        title: 'Max\\'s Playdate',\n        client: 'Jane Smith',\n        pets: ['Max'],\n        summary: 'Max enjoyed playing with other dogs at the beach.',\n      },\n    ];\n\n    setChronicles(mockChronicles);\n    setLoading(false);\n  };\n\n  const fetchTemplates = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/templates/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setTemplates(response.data);\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates(); // Fetch templates when component mounts\n  }, []);\n\n  const handleCreateChronicle = (newChronicle) => {\n    setChronicles((prevChronicles) => [...prevChronicles, newChronicle]);\n  };\n\n  return (\n    <SafeAreaView style={styles.safeArea}>\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={styles.container}>\n          <Text style={styles.title}>My Contracts & Chronicles</Text>\n          \n          <View style={styles.tabContainer}>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'contracts' && styles.activeTab]}\n              onPress={() => setActiveTab('contracts')}\n            >\n              <Text style={[styles.tabText, activeTab === 'contracts' && styles.activeTabText]}>Contracts</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'chronicles' && styles.activeTab]}\n              onPress={() => setActiveTab('chronicles')}\n            >\n              <Text style={[styles.tabText, activeTab === 'chronicles' && styles.activeTabText]}>Critter Chronicles</Text>\n            </TouchableOpacity>\n          </View>\n\n          {activeTab === 'contracts' && (\n            <View style={styles.contentContainer}>\n              <ContractTemplate templates={templates} />\n              <ContractList />\n            </View>\n          )}\n\n          {activeTab === 'chronicles' && (\n            <View style={styles.contentContainer}>\n              {loading ? (\n                <View style={styles.loadingContainer}>\n                  <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                </View>\n              ) : (\n                <>\n                  <ChronicleForm onCreateChronicle={handleCreateChronicle} />\n                  <ChronicleSummary chronicles={chronicles} />\n                </>\n              )}\n            </View>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  safeArea: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  container: {\n    flex: 1,\n    padding: 16,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    color: theme.colors.primary,\n    textAlign: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    width: '100%',\n    maxWidth: 500,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginHorizontal: 4,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  contentContainer: {\n    width: '100%',\n    maxWidth: 500,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  useTemplateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 16,\n    alignItems: 'center',\n  },\n  useTemplateButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    backgroundColor: theme.colors.primary,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default MyContracts;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TouchableOpacity, StatusBar } from 'react-native';\nimport { TextInput, Button, Text } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ChangePassword = ({ navigation }) => {\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const { isSignedIn } = useContext(AuthContext);\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    const getToken = async () => {\n      const storedToken = await AsyncStorage.getItem('userToken');\n      setToken(storedToken);\n    };\n    getToken();\n  }, []);\n\n  const handleChangePassword = async () => {\n    setError('');\n    setSuccess('');\n\n    if (newPassword !== confirmPassword) {\n      setError('New passwords do not match');\n      return;\n    }\n\n    if (!isSignedIn || !token) {\n      setError('You are not authenticated. Please log in again.');\n      return;\n    }\n\n    try {\n      console.log('Sending request to:', `${API_BASE_URL}/api/users/change-password/`);\n      console.log('Request payload:', {\n        current_password: currentPassword,\n        new_password: newPassword,\n      });\n      console.log('Auth token:', token);\n\n      const response = await axios.post(\n        `${API_BASE_URL}/api/users/change-password/`,\n        {\n          current_password: currentPassword,\n          new_password: newPassword,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      console.log('Response:', response);\n\n      if (response.status === 200) {\n        setSuccess('Password changed successfully');\n        setCurrentPassword('');\n        setNewPassword('');\n        setConfirmPassword('');\n      }\n    } catch (error) {\n      console.error('Error details:', error);\n      setError(error.response?.data?.error || 'Failed to change password');\n    }\n  };\n\n  const renderHeader = () => (\n    <View style={styles.header}>\n      <TouchableOpacity onPress={() => navigation.navigate('Settings')} style={styles.backButton}>\n        <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n      </TouchableOpacity>\n      <Text style={styles.headerText}>Change Password</Text>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {renderHeader()}\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        <TextInput\n          label=\"Current Password\"\n          value={currentPassword}\n          onChangeText={setCurrentPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"New Password\"\n          value={newPassword}\n          onChangeText={setNewPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"Confirm New Password\"\n          value={confirmPassword}\n          onChangeText={setConfirmPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n        {success ? <Text style={styles.successText}>{success}</Text> : null}\n        <Button mode=\"contained\" onPress={handleChangePassword} style={styles.button}>\n          Change Password\n        </Button>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 20,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n  },\n  button: {\n    marginTop: 20,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  successText: {\n    color: theme.colors.success,\n    marginBottom: 10,\n  },\n});\n\nexport default ChangePassword;\n","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TextInput as RNTextInput, TouchableOpacity, ScrollView, Image, Dimensions } from 'react-native';\nimport { Text, Appbar, Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { format } from 'date-fns';\nimport { theme } from '../styles/theme';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport DatePicker from '../components/DatePicker';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst WebInput = ({ label, value, onChangeText, type = 'text', style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <textarea\n        value={value}\n        onChange={(e) => {\n          if (type === 'number' && isNaN(e.target.value)) return;\n          onChangeText(e.target.value);\n        }}\n        style={{ ...styles.webInput, ...style }} // Merge default and custom styles\n        rows={1}\n        maxLength={type === 'text' ? 1000 : undefined}\n      />\n    </View>\n  );\n};\n\nconst MobileInput = ({ label, value, onChangeText, keyboardType = 'default', maxLength, style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <RNTextInput\n        value={value}\n        onChangeText={onChangeText}\n        style={[style, styles.input]} // Ensure custom style is applied first\n        keyboardType={keyboardType}\n        maxLength={maxLength}\n        multiline={true}\n      />\n    </View>\n  );\n};\n\nconst TextInput = Platform.OS === 'web' ? WebInput : MobileInput;\n\nconst AddPet = ({ route }) => {\n  const navigation = useNavigation();\n  \n  // Get initial pet data\n  const [petData] = useState(() => {\n    if (Platform.OS === 'web') {\n      const stored = sessionStorage.getItem('editPetData');\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    }\n    return route.params?.pet || {};\n  });\n\n  // Clean URL on mount\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      if (window.location.search) {\n        window.history.replaceState({}, '', '/AddPet');\n      }\n      // Store pet data if it exists in route params\n      if (route.params?.pet) {\n        sessionStorage.setItem('editPetData', JSON.stringify(route.params.pet));\n      }\n    }\n    // Cleanup on unmount\n    return () => {\n      if (Platform.OS === 'web' && !window.location.pathname.includes('AddPet')) {\n        sessionStorage.removeItem('editPetData');\n      }\n    };\n  }, []);\n\n  // Use petData instead of route.params.pet throughout the component\n  const pet = petData;\n\n  const [petName, setPetName] = useState('');\n  const [petType, setPetType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For actual pet type\n  const [animalType, setAnimalType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For toggle buttons\n  const [weight, setWeight] = useState('');\n  const [breed, setBreed] = useState('');\n  const [ageYears, setAgeYears] = useState('');\n  const [ageMonths, setAgeMonths] = useState('');\n  const [sex, setSex] = useState(null);\n  const [friendlyWithChildren, setFriendlyWithChildren] = useState(null);\n  const [friendlyWithCats, setFriendlyWithCats] = useState(null);\n  const [friendlyWithDogs, setFriendlyWithDogs] = useState(null);\n  const [spayedNeutered, setSpayedNeutered] = useState(null);\n  const [houseTrained, setHouseTrained] = useState(null);\n  const [microchipped, setMicrochipped] = useState(null);\n  const [adoptionDate, setAdoptionDate] = useState(new Date());\n  const [description, setDescription] = useState('');\n  const [profileImage, setProfileImage] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n\n  // New state variables for Care Information\n  const [pottyBreakSchedule, setPottyBreakSchedule] = useState(null);\n  const [customPottyBreak, setCustomPottyBreak] = useState('');\n  const [energyLevel, setEnergyLevel] = useState(null);\n  const [feedingSchedule, setFeedingSchedule] = useState(null);\n  const [customFeedingSchedule, setCustomFeedingSchedule] = useState('');\n  const [leftAlone, setLeftAlone] = useState(null);\n  const [customLeftAlone, setCustomLeftAlone] = useState('');\n  const [medication, setMedication] = useState(null);\n  const [medicationDetails, setMedicationDetails] = useState('');\n  const [additionalInstructions, setAdditionalInstructions] = useState('');\n\n  // Add these new state variables at the top of the AddPet component\n  const [vetName, setVetName] = useState('');\n  const [vetAddress, setVetAddress] = useState('');\n  const [vetPhone, setVetPhone] = useState('');\n  const [vetDocuments, setVetDocuments] = useState([]);\n  const [insuranceProvider, setInsuranceProvider] = useState('');\n  const [galleryImages, setGalleryImages] = useState([]);\n  const [estimatedBirthday, setEstimatedBirthday] = useState(new Date());\n  const [showDatePicker, setShowDatePicker] = useState(false);\n\n  useEffect(() => {\n    setHasUnsavedChanges(false);\n\n    if (pet) {\n      // Populate fields with existing pet data or set to empty string if not available\n      setPetName(pet.name ? pet.name : '');\n      setPetType(pet.animal_type ? pet.animal_type : '');\n      setAnimalType(pet.animal_type === 'Cat' || pet.animal_type === 'Dog' ? pet.animal_type : 'Exotic');\n      setBreed(pet.breed ? pet.breed : '');\n      setWeight(pet.weight ? pet.weight : '');\n      setAgeYears(pet.age && pet.age.years ? pet.age.years : '');\n      setAgeMonths(pet.age && pet.age.months ? pet.age.months : '');\n      setSex(pet.sex ? pet.sex : '');\n      setFriendlyWithChildren(pet.friendlyWithChildren !== undefined ? pet.friendlyWithChildren : null);\n      setFriendlyWithCats(pet.friendlyWithCats !== undefined ? pet.friendlyWithCats : null);\n      setFriendlyWithDogs(pet.friendlyWithDogs !== undefined ? pet.friendlyWithDogs : null);\n      setSpayedNeutered(pet.spayedNeutered !== undefined ? pet.spayedNeutered : null);\n      setHouseTrained(pet.houseTrained !== undefined ? pet.houseTrained : null);\n      setMicrochipped(pet.microchipped !== undefined ? pet.microchipped : null);\n      setAdoptionDate(pet.adoptionDate ? new Date(pet.adoptionDate) : new Date()); // Default to current date if not available\n      setDescription(pet.description ? pet.description : '');\n      setEnergyLevel(pet.energyLevel ? pet.energyLevel : '');\n\n      // Check if feedingSchedule is an array\n      if (Array.isArray(pet.feedingSchedule)) {\n        setFeedingSchedule(pet.feedingSchedule[0]); // Set to 'Custom'\n        setCustomFeedingSchedule(pet.feedingSchedule[1]); // Set custom instructions\n      } else {\n        setFeedingSchedule(pet.feedingSchedule ? pet.feedingSchedule : ''); // Populate feeding schedule\n        setCustomFeedingSchedule(''); // Reset custom feeding schedule\n      }\n\n      setLeftAlone(pet.leftAlone ? pet.leftAlone : '');\n      setMedication(pet.medication ? pet.medication : '');\n      setAdditionalInstructions(pet.additionalInstructions ? pet.additionalInstructions : '');\n      setVetName(pet.vetName ? pet.vetName : '');\n      setVetAddress(pet.vetAddress ? pet.vetAddress : '');\n      setVetPhone(pet.vetPhone ? pet.vetPhone : '');\n      setInsuranceProvider(pet.insuranceProvider ? pet.insuranceProvider : '');\n      setVetDocuments(pet.veterinarian && pet.veterinarian.documents ? pet.veterinarian.documents : []);\n      setGalleryImages(pet.galleryImages ? pet.galleryImages : []);\n      \n      // Set estimated birthday if available\n      if (pet.age) {\n        const today = new Date();\n        const estimatedDate = new Date(today.getFullYear() - pet.age.years, today.getMonth() - pet.age.months);\n        setEstimatedBirthday(estimatedDate);\n      }\n    } else {\n      // If pet is not defined, initialize fields to empty strings\n      setPetName('');\n      setPetType('');\n      setAnimalType('');\n      setWeight('');\n      setAgeYears('');\n      setAgeMonths('');\n      setSex('');\n      setFriendlyWithChildren(null);\n      setFriendlyWithCats(null);\n      setFriendlyWithDogs(null);\n      setSpayedNeutered(null);\n      setHouseTrained(null);\n      setMicrochipped(null);\n      setAdoptionDate(new Date());\n      setDescription('');\n      setEnergyLevel('');\n      setFeedingSchedule(''); // Initialize feeding schedule\n      setCustomFeedingSchedule(''); // Initialize custom feeding schedule\n      setLeftAlone('');\n      setMedication('');\n      setAdditionalInstructions('');\n      setVetName('');\n      setVetAddress('');\n      setVetPhone('');\n      setInsuranceProvider('');\n      setVetDocuments([]);\n      setGalleryImages([]);\n    }\n  }, [pet]);\n\n  useEffect(() => {\n    if (ageYears && ageMonths) {\n      const today = new Date();\n      const estimatedDate = new Date(today.getFullYear() - parseInt(ageYears), today.getMonth() - parseInt(ageMonths));\n      setEstimatedBirthday(estimatedDate);\n    }\n  }, [ageYears, ageMonths]);\n\n  const calculateAge = (birthday) => {\n    const today = new Date();\n    const birthDate = new Date(birthday);\n    let ageYears = today.getFullYear() - birthDate.getFullYear();\n    let ageMonths = today.getMonth() - birthDate.getMonth();\n\n    if (ageMonths < 0) {\n      ageYears--;\n      ageMonths += 12;\n    }\n\n    setAgeYears(ageYears.toString());\n    setAgeMonths(ageMonths.toString());\n  };\n\n  const pickImage = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfileImage(result.assets[0].uri);\n    }\n  };\n\n  const renderEstimatedBirthday = () => (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>Estimated Birthday:</Text>\n      <TouchableOpacity onPress={() => setShowDatePicker(true)}>\n        <Text style={styles.dateText}>\n          {format(estimatedBirthday, 'yyyy-MM-dd')}\n        </Text>\n      </TouchableOpacity>\n      {showDatePicker && (\n        <DatePicker\n          value={estimatedBirthday}\n          onChange={(date) => {\n            if (date) {\n              setEstimatedBirthday(date);\n              calculateAge(date); // Calculate age when date is selected\n              setHasUnsavedChanges(true); // Set hasUnsavedChanges to true when date is selected\n            }\n            setShowDatePicker(false);\n          }}\n        />\n      )}\n    </View>\n  );\n\n  const renderTab = (type) => (\n    <TouchableOpacity\n      style={[\n        styles.tab,\n        animalType === type && styles.activeTab,\n        type === 'Dog' && styles.leftTab,\n        type === 'Exotic' && styles.rightTab,\n      ]}\n      onPress={() => {\n        setAnimalType(type); // Set the pet type\n        setHasUnsavedChanges(true); // Set hasUnsavedChanges to true\n      }}\n    >\n      <Text style={styles.tabText}>{type}</Text>\n    </TouchableOpacity>\n  );\n\n  const renderToggleButtons = (options, value, setValue, customInput = false, customValue = '', setCustomValue = () => {}) => (\n    <View style={styles.toggleContainer}>\n      <View style={styles.buttonRow}>\n        {options.map((option) => (\n          <TouchableOpacity\n            key={option}\n            style={[styles.yesNoButton, value === option && styles.activeYesNoButton]}\n            onPress={() => setValue(option)}\n          >\n            <Text style={styles.yesNoText}>{option}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n      {((customInput && value === 'Custom') || (options.includes('Pill') && value)) && (\n        Platform.OS === 'web' ? (\n          <View style={styles.inputContainer}>\n            <textarea\n              value={customValue}\n              onChange={(e) => setCustomValue(e.target.value)}\n              style={styles.webInput}\n              placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n            />\n          </View>\n        ) : (\n          <TextInput\n            value={customValue}\n            onChangeText={setCustomValue}\n            style={[styles.customInput, { width: '100%' }]}\n            placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n          />\n        )\n      )}\n    </View>\n  );\n\n  const renderYesNoButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === true && styles.activeYesNoButton]}\n        onPress={() => setValue(true)}\n      >\n        <Text style={styles.yesNoText}>Yes</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === false && styles.activeYesNoButton]}\n        onPress={() => setValue(false)}\n      >\n        <Text style={styles.yesNoText}>No</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderSexButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Male' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Male'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Male</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Female' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Female'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Female</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const handleSaveProfile = () => {\n    setIsSubmitting(true);\n    setHasUnsavedChanges(false);\n\n    const petData = {\n      // Basic Info\n      petName,\n      petType: (animalType !== 'Exotic') ? animalType : petType,\n      weight,\n      breed,\n      estimatedBirthday,\n      age: {\n        years: ageYears,\n        months: ageMonths\n      },\n      sex,\n      profileImage,\n      description,\n      adoptionDate: format(adoptionDate, 'yyyy-MM-dd'),\n\n      // Temperament & Training\n      friendlyWithChildren,\n      friendlyWithCats,\n      friendlyWithDogs,\n      spayedNeutered,\n      houseTrained,\n      microchipped,\n\n      // Care Information\n      pottyBreakSchedule: pottyBreakSchedule === 'Custom' ? customPottyBreak : pottyBreakSchedule,\n      energyLevel,\n      feedingSchedule: feedingSchedule === 'Custom' ? customFeedingSchedule : feedingSchedule,\n      leftAlone: leftAlone === 'Custom' ? customLeftAlone : leftAlone,\n      medication: medication ? {\n        type: medication,\n        details: medicationDetails\n      } : null,\n      additionalInstructions,\n\n      // Health Information\n      veterinarian: {\n        name: vetName,\n        address: vetAddress,\n        phone: vetPhone,\n        documents: vetDocuments.map(doc => ({\n          uri: doc.uri,\n          type: doc.type,\n          name: doc.fileName || 'document'\n        }))\n      },\n      insuranceProvider,\n\n      // Photo Gallery\n      galleryImages: galleryImages.map(img => ({\n        uri: img.uri,\n        type: img.type,\n        name: img.fileName || 'image'\n      }))\n    };\n\n    console.log('Pet Profile Data:', JSON.stringify(petData, null, 2));\n\n    // Simulate API call\n    setTimeout(() => {\n      setIsSubmitting(false);\n      // alert('Pet profile saved successfully!');\n      // Navigate back or clear form\n      // setHasUnsavedChanges(false);\n    }, 1000);\n  };\n\n  const pickVetDocuments = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsMultipleSelection: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setVetDocuments([...vetDocuments, ...result.assets]);\n    }\n  };\n\n  const pickGalleryImages = async () => {\n    try {\n      // Request permissions first (for iOS)\n      if (Platform.OS !== 'web') {\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== 'granted') {\n          alert('Sorry, we need camera roll permissions to make this work!');\n          return;\n        }\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n        aspect: [1, 1],\n      });\n\n      if (!result.canceled) {\n        setGalleryImages(prevImages => [...prevImages, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error picking images:', error);\n      alert('Error selecting images. Please try again.');\n    }\n  };\n\n  // Function to handle input changes and set unsaved changes\n  const handleInputChange = (setter) => (value) => {\n    setter(value);\n    setHasUnsavedChanges(true);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => navigation.navigate('MyPets')} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>\n          {pet && Object.keys(pet).length > 0 ? 'Edit Pet' : 'Add a New Pet'}\n        </Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.formContainer}>\n          {/* Pet Details Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"paw\" size={20} /> Pet Details\n          </Text>\n          {/* Profile Photo */}\n          <Text style={styles.label}>Profile Photo</Text>\n          <TouchableOpacity onPress={pickImage} style={styles.profileImageContainer}>\n            {profileImage ? (\n              <Image source={{ uri: profileImage }} style={styles.profileImage} />\n            ) : (\n              <View style={styles.profileImagePlaceholder}>\n                <MaterialCommunityIcons name=\"camera\" size={40} color=\"#ccc\" />\n              </View>\n            )}\n          </TouchableOpacity>\n          {/* Pet Type Selection */}\n          <View style={styles.tabContainer}>\n            {renderTab('Dog')}\n            {renderTab('Cat')}\n            {renderTab('Exotic')}\n          </View>\n          <TextInput \n            label=\"Pet Name\" \n            value={petName} \n            onChangeText={handleInputChange(setPetName)} \n            placeholder={pet ? pet.name : \"Enter pet name\"} \n          />\n          {animalType === 'Exotic' && (\n            <TextInput \n              label=\"Pet Type\" \n              value={pet.animal_type ? pet.animal_type : ''} \n              onChangeText={handleInputChange(setPetType)} \n              placeholder={pet ? pet.animal_type : \"Enter pet type\"} \n            />\n          )}\n          <TextInput \n            label=\"Weight (lbs)\" \n            value={weight.toString()} \n            onChangeText={handleInputChange(setWeight)} \n            keyboardType=\"numeric\" \n          />\n          {renderEstimatedBirthday()}\n          <TextInput\n            label=\"Age in Years\"\n            value={ageYears.toString() ? ageYears.toString() : ''}\n            onChangeText={handleInputChange(setAgeYears)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput\n            label=\"Age in Months\"\n            value={ageMonths === '' ? '' : ageMonths === '0' ? '0' : ageMonths.toString()}\n            onChangeText={handleInputChange(setAgeMonths)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput \n            label=\"Breed\" \n            value={breed} \n            onChangeText={handleInputChange(setBreed)} \n          />\n          <Text style={styles.boldLabel}>Sex:</Text>\n          {renderSexButtons(sex, setSex)}\n          {(animalType === 'Dog' || animalType === 'Cat') && (\n            <>\n                <Text style={styles.boldLabel}>Friendly with Children:</Text>\n                {renderYesNoButtons(friendlyWithChildren, setFriendlyWithChildren)}\n                <Text style={styles.boldLabel}>Friendly with Cats:</Text>\n                {renderYesNoButtons(friendlyWithCats, setFriendlyWithCats)}\n                <Text style={styles.boldLabel}>Friendly with Dogs:</Text>\n                {renderYesNoButtons(friendlyWithDogs, setFriendlyWithDogs)}\n                <Text style={styles.boldLabel}>Spayed/Neutered:</Text>\n                {renderYesNoButtons(spayedNeutered, setSpayedNeutered)}\n                <Text style={styles.boldLabel}>House Trained:</Text>\n                {renderYesNoButtons(houseTrained, setHouseTrained)}\n                <Text style={styles.boldLabel}>Microchipped:</Text>\n                {renderYesNoButtons(microchipped, setMicrochipped)}\n            </>\n            )}\n          <Text style={styles.boldLabel}>Adoption Date:</Text>\n          {/* TODO: change this to the DatePicker.js file i have */}\n          {Platform.OS === 'web' ? (\n            <View style={styles.timePickerContainer}>\n              <input\n                type=\"date\"\n                value={format(adoptionDate, 'yyyy-MM-dd')}\n                onChange={(e) => {\n                  const date = new Date(e.target.value);\n                  setAdoptionDate(date);\n                }}\n                style={styles.webTimePicker}\n              />\n            </View>\n          ) : (\n            <DateTimePicker\n              value={adoptionDate}\n              mode=\"date\"\n              display=\"default\"\n              onChange={(event, selectedDate) => {\n                if (selectedDate) {\n                  setAdoptionDate(selectedDate);\n                }\n              }}\n            />\n          )}\n          <View style={{ height: 16 }} />\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Pet Description\"\n              value={description}\n              onChangeText={handleInputChange(setDescription)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n            />\n          </View>\n\n          {/* Care Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"heart\" size={20} /> Care Information\n          </Text>\n          {(petType === 'Dog') && (\n            <>\n              <Text style={styles.boldLabel}>Potty Break Schedule:</Text>\n              {renderToggleButtons(['2 hours', '4 hours', '8 hours', 'Custom'], pottyBreakSchedule, setPottyBreakSchedule, true, customPottyBreak, setCustomPottyBreak)}\n            </>\n          )}\n          <Text style={styles.boldLabel}>Energy Level:</Text>\n          {renderToggleButtons(['High', 'Moderate', 'Low'], energyLevel, setEnergyLevel)}\n          <Text style={styles.boldLabel}>Feeding Schedule:</Text>\n          {renderToggleButtons(['Morning', 'Twice a day', 'Custom'], feedingSchedule, setFeedingSchedule, true, customFeedingSchedule, setCustomFeedingSchedule)}\n          <Text style={styles.boldLabel}>Can Be Left Alone:</Text>\n          {renderToggleButtons(['<1 hour', '1-4 hours', '4-8 hours', 'Custom'], leftAlone, setLeftAlone, true, customLeftAlone, setCustomLeftAlone)}\n          <Text style={styles.boldLabel}>Medication:</Text>\n          {renderToggleButtons(['Pill', 'Topical', 'Injection'], medication, setMedication, true, medicationDetails, setMedicationDetails)}\n          {/* <View style={{ height: 16 }} /> */}\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Anything Else The Professional Should Know\"\n              value={additionalInstructions}\n              onChangeText={handleInputChange(setAdditionalInstructions)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n              placeholder=\"Add custom instructions\"\n            />\n          </View>\n\n          {/* Health Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"medical-bag\" size={20} /> Health Information\n          </Text>\n\n          <TextInput \n            label=\"Veterinarian Name\"\n            value={vetName}\n            onChangeText={handleInputChange(setVetName)}\n          />\n\n          <TextInput \n            label=\"Veterinarian Address\"\n            value={vetAddress}\n            onChangeText={handleInputChange(setVetAddress)}\n            multiline\n          />\n\n          <TextInput \n            label=\"Veterinarian Phone\"\n            value={vetPhone}\n            onChangeText={handleInputChange(setVetPhone)}\n            keyboardType=\"phone-pad\"\n          />\n\n          <TextInput \n            label=\"Pet Insurance Provider\"\n            value={insuranceProvider}\n            onChangeText={handleInputChange(setInsuranceProvider)}\n            style={styles.input}\n          />\n\n          <Text style={styles.boldLabel}>Veterinary Documents:</Text>\n          <View style={styles.documentsContainer}>\n            <TouchableOpacity style={styles.uploadButton} onPress={pickVetDocuments}>\n              <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Upload Documents</Text>\n            </TouchableOpacity>\n            {vetDocuments.length > 0 && (\n              <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.documentsList}>\n                {vetDocuments.map((doc, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: doc.uri }}\n                    style={styles.documentThumbnail}\n                  />\n                ))}\n              </ScrollView>\n            )}\n          </View>\n\n          {/* Photo Gallery Section */}\n          <View style={styles.gallerySection && styles.scrollViewContent}>\n            <Text style={styles.sectionHeader}>\n              <MaterialCommunityIcons name=\"image-multiple\" size={20} /> Photo Gallery\n            </Text>\n\n            <TouchableOpacity style={styles.uploadButton} onPress={pickGalleryImages}>\n              <MaterialCommunityIcons name=\"image-plus\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Add Photos</Text>\n            </TouchableOpacity>\n\n            {galleryImages.length > 0 && (\n              <View style={styles.galleryContainer}>\n                {galleryImages.map((image, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: image.uri }}\n                    style={styles.galleryThumbnail}\n                    resizeMode=\"cover\"\n                  />\n                ))}\n              </View>\n            )}\n          </View>\n        </View>\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={handleSaveProfile}\n        btnText={'Save Profile'}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  formContainer: {\n    width: Platform.OS === 'web' && screenWidth > 600 ? '40%' : '90%',\n    alignItems: 'center', // Center horizontally\n    paddingBottom: 16,\n  },\n  profileImageContainer: {\n    marginBottom: 16,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n  },\n  profileImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inputContainer: {\n    // marginBottom: 8,\n    width: '100%', // Ensure the container takes full width\n    alignItems: 'center', // Center the input within the container\n    paddingBottom: Platform.OS === 'web' ? 0 : 40,\n    flex: 1,\n  },\n  label: {\n    fontSize: 16,\n    marginBottom: 8,\n    marginTop: 16,\n    textAlign: 'center', // Center the label text\n  },\n  boldLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  sectionHeader: {\n    fontSize: 25,\n    fontWeight: 'bold',\n    marginVertical: 16,\n    alignSelf: 'flex-start',\n    textAlign: 'left',\n  },\n  webInput: {\n    width: '100%', // Full width for web input\n    minHeight: 24, // Set a minimum height\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    resize: 'none', // Prevent textarea from being resizable\n  },\n  input: {\n    width: '100%', // Full width for mobile input\n    height: 40, // Set a consistent height for mobile inputs\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n  },\n  descriptionInput: {\n    width: '100%',\n    minHeight: 90, // Increased height for better visibility\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    textAlignVertical: 'center',\n    // marginTop: 32, // Added margin to separate from the adoption date\n  },\n  customInput: {\n    width: '100%',\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    marginBottom: 8, // Add a smaller margin bottom\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: '#ccc',\n  },\n  activeTab: {\n    backgroundColor: '#ddd',\n  },\n  leftTab: {\n    borderTopLeftRadius: 10,\n    borderBottomLeftRadius: 10,\n  },\n  rightTab: {\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n  },\n  tabText: {\n    fontSize: 16,\n  },\n  toggleContainer: {\n    width: '100%',\n    marginBottom: 8, // Reduce this from 16 to 8\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    marginBottom: 8,\n  },\n  yesNoContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  yesNoButton: {\n    marginHorizontal: 10,\n    padding: 10,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 80, // Ensure the button is wide enough to prevent text wrapping\n  },\n  activeYesNoButton: {\n    backgroundColor: '#ddd',\n  },\n  yesNoText: {\n    fontSize: 16,\n  },\n  datePicker: {\n    marginBottom: 16,\n    padding: 10,\n    // borderWidth: 1,\n    // borderColor: '#ccc',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  dateText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    textAlign: 'center',\n  },\n  saveButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 16,\n  },\n  webTimePicker: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    fontSize: 16,\n  },\n  documentsContainer: {\n    marginVertical: 10,\n    width: '100%',\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  documentsList: {\n    minHeight: 100 + 20, // Add fixed height to prevent collapse\n  },\n  documentThumbnail: {\n    width: 100,\n    height: 100,\n    marginRight: 10,\n    borderRadius: 4,\n  },\n  gallerySection: {\n    width: '100%',\n    marginTop: 16,\n  },\n  galleryContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    width: '100%',\n  },\n  galleryThumbnail: {\n    width: 100,\n    height: 100,\n    borderRadius: 4,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    paddingBottom: 100, // Add padding to prevent content from being hidden behind the button\n  },\n});\n\nexport default AddPet;\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst CustomMultiSelect = ({\n  label,\n  data,\n  value,\n  onChange,\n  placeholder,\n  isOpen,\n  setIsOpen,\n  containerStyle,\n  zIndex = 1,\n}) => {\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleClickOutside = (event) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [setIsOpen]);\n\n  const getDisplayText = () => {\n    if (value.length === 0) return placeholder;\n    \n    const selectedItems = value.map(v => data.find(item => item.value === v)?.label || '');\n    const displayText = selectedItems[0];\n    \n    if (selectedItems.length > 1) {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText + ', ...';\n    } else {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText;\n    }\n  };\n\n  const handleRemoveItem = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.filter(v => v !== itemValue);\n    onChange(newValue);\n  };\n\n  const handleItemSelect = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.includes(itemValue)\n      ? value.filter(v => v !== itemValue)\n      : [...value, itemValue];\n    onChange(newValue);\n  };\n\n  return (\n    <View style={[styles.container, { zIndex }, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      <View ref={dropdownRef} style={styles.dropdownContainer}>\n        <TouchableOpacity\n          style={styles.header}\n          onPress={() => setIsOpen(!isOpen)}\n        >\n          <Text style={value.length ? styles.selectedText : styles.placeholderText}>\n            {getDisplayText()}\n          </Text>\n          <MaterialCommunityIcons \n            name={isOpen ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n\n        {isOpen && (\n          <View style={[styles.dropdown, { zIndex: zIndex + 1 }]}>\n            <ScrollView \n              nestedScrollEnabled={true}\n              style={styles.scrollView}\n              contentContainerStyle={styles.scrollViewContent}\n            >\n              {data.map((item) => (\n                <TouchableOpacity\n                  key={item.value}\n                  style={styles.item}\n                  onPress={(e) => handleItemSelect(item.value, e)}\n                  activeOpacity={0.7}\n                >\n                  <Text style={styles.itemText}>{item.label}</Text>\n                  {value.includes(item.value) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          </View>\n        )}\n\n        {!isOpen && value.length > 0 && (\n          <View style={styles.chipsContainer}>\n            {value.map((v) => {\n              const item = data.find(item => item.value === v);\n              if (!item) return null;\n              return (\n                <View key={v} style={styles.chip}>\n                  <Text style={styles.chipText}>{item.label}</Text>\n                  <TouchableOpacity \n                    onPress={(e) => handleRemoveItem(v, e)}\n                    style={styles.chipRemove}\n                  >\n                    <MaterialCommunityIcons \n                      name=\"close\" \n                      size={18} \n                      color={theme.colors.text} \n                    />\n                  </TouchableOpacity>\n                </View>\n              );\n            })}\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n  },\n  dropdownContainer: {\n    position: 'relative',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    // height: 50,\n    padding: 6,\n    // paddingHorizontal: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n  },\n  dropdown: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 4,\n    elevation: 1000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 9999,\n  },\n  scrollView: {\n    maxHeight: 200,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  item: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    color: theme.colors.placeholderText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    // padding: 8,\n    gap: 8,\n    marginTop: 8,\n  },\n  chip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 16,\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n  },\n  chipText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipRemove: {\n    padding: 2,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n});\n\nexport default CustomMultiSelect;","import React, { useState, useRef, useCallback } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Platform, TextInput, ScrollView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport Dropdown from 'react-native-element-dropdown/src/components/Dropdown';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport Slider from '@react-native-community/slider';\nimport { GooglePlacesAutocomplete } from 'react-native-google-places-autocomplete';\nimport DatePicker from '../components/DatePicker';\nimport { debounce } from 'lodash';\nimport MultiSelect from 'react-native-element-dropdown/src/components/MultiSelect';\nimport CustomMultiSelect from '../components/CustomMultiSelect';\nimport { SERVICE_TYPES, GENERAL_CATEGORIES } from '../data/mockData';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\n\nconst generalCategoriesData = GENERAL_CATEGORIES.map(category => ({\n  label: category,\n  value: category.toLowerCase().replace(/\\s+/g, '-')\n}));\n\nconst LocationInput = ({ value, onChange, suggestions, onSuggestionSelect }) => {\n  const locationInputRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const debouncedFetch = useCallback(\n    debounce(async (text) => {\n      if (text.length < 1) return;\n      \n      try {\n        const response = await fetch(\n          `https://nominatim.openstreetmap.org/search?format=json&q=${text}&countrycodes=us&limit=5`,\n          {\n            headers: {\n              'Accept': 'application/json',\n              'User-Agent': 'ZenExotics Mobile App'\n            }\n          }\n        );\n        const data = await response.json();\n        const suggestions = data.map(item => ({\n          display_name: item.display_name,\n          lat: item.lat,\n          lon: item.lon\n        }));\n        onSuggestionSelect(suggestions);\n      } catch (error) {\n        console.error('Error fetching locations:', error);\n        onSuggestionSelect([]);\n      }\n    }, 300),\n    [onSuggestionSelect]\n  );\n\n  return (\n    <View style={[styles.locationInputWrapper, { zIndex: 2 }]}>\n      <TextInput\n        ref={locationInputRef}\n        style={styles.locationInput}\n        placeholder=\"Enter city, state, or zip\"\n        value={value}\n        onChangeText={(text) => {\n          onChange(text);\n          if (text.length < 1) {\n            onSuggestionSelect([]);\n          } else {\n            debouncedFetch(text);\n          }\n        }}\n      />\n      {suggestions.length > 0 && (\n        <View style={styles.suggestionsWrapper}>\n          <ScrollView \n            style={styles.suggestionsContainer}\n            keyboardShouldPersistTaps=\"always\"\n            nestedScrollEnabled={true}\n          >\n            {suggestions.map((suggestion, index) => (\n              <TouchableOpacity\n                key={index}\n                style={styles.suggestionItem}\n                onPress={() => {\n                  onChange(suggestion.display_name);\n                  onSuggestionSelect([]);\n                }}\n              >\n                <Text>{suggestion.display_name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst SearchRefiner = ({ onFiltersChange }) => {\n  const [filters, setFilters] = useState({\n    category: '',\n    location: '',\n    animalType: '',\n    service: '',\n    startDate: new Date(),\n    endDate: new Date(),\n    selectedPets: [],\n    minRate: 0,\n    maxRate: 250\n  });\n  const [location, setLocation] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [selectedGeneralCategories, setSelectedGeneralCategories] = useState([]);\n  const [selectedAnimalTypes, setSelectedAnimalTypes] = useState([]);\n  const [isServiceDropdownOpen, setIsServiceDropdownOpen] = useState(false);\n  const [isAnimalDropdownOpen, setIsAnimalDropdownOpen] = useState(false);\n  const [isGeneralDropdownOpen, setIsGeneralDropdownOpen] = useState(false);\n\n  const categories = SERVICE_TYPES.map(service => ({\n    label: service,\n    value: service.toLowerCase().replace(/\\s+/g, '-').replace(/[()]/g, '')\n  }));\n\n  const animalTypes = [\n    { label: 'Dogs', value: 'dog' },\n    { label: 'Cats', value: 'cat' },\n    { label: 'Birds', value: 'bird' },\n    { label: 'Small Animals', value: 'small-animal' }\n  ];\n\n  const handleFilterChange = (key, value) => {\n    const newFilters = { ...filters, [key]: value };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const renderPriceRange = () => (\n    <View style={styles.section}>\n      <Text style={styles.label}>Rate Range</Text>\n      <View style={styles.priceRangeContainer}>\n        <Text>${filters.minRate}</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={250}\n          step={5}\n          value={filters.maxRate}\n          onValueChange={(value) => handleFilterChange('maxRate', value)}\n          minimumTrackTintColor={theme.colors.primary}\n          maximumTrackTintColor={theme.colors.border}\n        />\n        <Text>${filters.maxRate}</Text>\n      </View>\n    </View>\n  );\n\n  const renderLocationInput = () => (\n    <View style={[styles.section, { zIndex: 4000 }]}>\n      <Text style={styles.label}>Location</Text>\n      <LocationInput\n        value={location}\n        onChange={setLocation}\n        suggestions={locationSuggestions}\n        onSuggestionSelect={setLocationSuggestions}\n      />\n    </View>\n  );\n\n  const renderDatePickers = () => (\n    <View style={styles.section}>\n      <View style={styles.datePickersContainer}>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>Start Date</Text>\n          <DatePicker\n            value={filters.startDate}\n            onChange={(date) => handleFilterChange('startDate', date)}\n          />\n        </View>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>End Date</Text>\n          <DatePicker\n            value={filters.endDate}\n            onChange={(date) => handleFilterChange('endDate', date)}\n          />\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Refine Search</Text>\n      \n      {renderLocationInput()}\n\n      <View style={[styles.section, { zIndex: 3001 }]}>\n        <CustomMultiSelect\n          label=\"General Categories\"\n          data={generalCategoriesData}\n          value={selectedGeneralCategories}\n          onChange={(newValue) => {\n            setSelectedGeneralCategories(newValue);\n            handleFilterChange('general', newValue);\n          }}\n          placeholder=\"Select general categories\"\n          isOpen={isGeneralDropdownOpen}\n          setIsOpen={setIsGeneralDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 3000 }]}>\n        <CustomMultiSelect\n          label=\"Animal Types\"\n          data={animalTypes}\n          value={selectedAnimalTypes}\n          onChange={(newValue) => {\n            setSelectedAnimalTypes(newValue);\n            handleFilterChange('animalTypes', newValue);\n          }}\n          placeholder=\"Select animal types\"\n          isOpen={isAnimalDropdownOpen}\n          setIsOpen={setIsAnimalDropdownOpen}\n          zIndex={2000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 2000 }]}>\n        <CustomMultiSelect\n          label=\"Service Categories\"\n          data={categories}\n          value={selectedServices}\n          onChange={(newValue) => {\n            setSelectedServices(newValue);\n            handleFilterChange('services', newValue);\n          }}\n          placeholder=\"Select services\"\n          isOpen={isServiceDropdownOpen}\n          setIsOpen={setIsServiceDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderDatePickers()}\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderPriceRange()}\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    height: '100%',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.large,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  section: {\n    marginBottom: theme.spacing.large,\n    position: 'relative',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdown: {\n    height: 50,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  datePickerContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  datePickerWrapper: {\n    maxWidth: 200,\n  },\n  dateLabel: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  rateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  priceRangeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  slider: {\n    flex: 1,\n    height: 40,\n    marginHorizontal: 10,\n  },\n  locationInputWrapper: {\n    position: 'relative',\n    marginBottom: theme.spacing.small,\n  },\n  locationInput: {\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: theme.spacing.small,\n    backgroundColor: theme.colors.background,\n  },\n  suggestionsWrapper: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    zIndex: 1000,\n  },\n  suggestionsContainer: {\n    flex: 1,\n  },\n  suggestionItem: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  datePickersContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  selectedText: {\n    fontSize: theme.fontSizes.large + 2,\n    color: '#000000',\n    fontWeight: '1200',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.placeholderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedItem: {\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n    borderWidth: 8,\n    borderColor: theme.colors.primary,\n  },\n  dropdownIcon: {\n    width: 20,\n    height: 20,\n  },\n  itemContainer: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedChip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    marginRight: theme.spacing.small,\n    marginBottom: theme.spacing.small,\n  },\n  selectedChipText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: '#000000',\n    marginRight: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: theme.spacing.small,\n  },\n  dropdownItemSelected: {\n    backgroundColor: 'white',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 4,\n    margin: 2,\n  },\n  dropdownItemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItemTextSelected: {\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n});\n\nexport default SearchRefiner;","import React from 'react';\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst ProfessionalCard = ({ professional, onPress }) => {\n  const navigation = useNavigation();\n  \n  const handlePress = () => {\n    navigation.navigate('ProfessionalProfile', { \n      professional: professional \n    });\n  };\n\n  return (\n    <TouchableOpacity style={styles.listItem} onPress={handlePress}>\n      <Image \n        source={{ uri: professional.profilePicture }} \n        style={styles.profileImage}\n      />\n      <View style={styles.infoContainer}>\n        <View style={styles.header}>\n          <Text style={styles.name}>{professional.id}. {professional.name}</Text>\n          <View style={styles.starProfessionalBadge}>\n            <Text style={styles.price}>from ${professional.price}/night</Text>\n            {/* <Text style={styles.starProfessionalText}>Star Professional</Text> */}\n          </View>\n        </View>\n        <Text style={styles.location}>{professional.location}</Text>\n        <View style={styles.stats}>\n          <View style={styles.rating}>\n            <MaterialCommunityIcons name=\"star\" size={16} color={theme.colors.primary} />\n            <Text style={styles.ratingText}>{professional.rating ? professional.rating : '4.5'}</Text>\n            <Text style={styles.reviews}>- {professional.reviewCount ? professional.reviewCount : '52'} reviews</Text>\n          </View>\n        </View>\n        \n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst ProfessionalList = ({ professionals, onLoadMore, onProfessionalSelect }) => {\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={professionals}\n        renderItem={({ item }) => (\n          <ProfessionalCard \n            professional={item}\n            onPress={onProfessionalSelect}\n          />\n        )}\n        keyExtractor={item => item.id}\n        onEndReached={onLoadMore}\n        onEndReachedThreshold={0.5}\n        contentContainerStyle={styles.listContent}\n        style={styles.list}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  list: {\n    flex: 1,\n    height: '100%',\n  },\n  listContent: {\n    flexGrow: 1,\n  },\n  listItem: {\n    flexDirection: 'row',\n    padding: theme.spacing.medium,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: theme.spacing.medium,\n  },\n  infoContainer: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing.small,\n  },\n  name: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starProfessionalBadge: {\n    backgroundColor: theme.colors.primary,\n    padding: 4,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  starProfessionalText: {\n    fontSize: theme.fontSizes.small + 2,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  rating: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  ratingText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  reviews: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginLeft: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  repeats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  price: {\n    fontSize: theme.fontSizes.medium + 2,\n    fontWeight: 'bold',\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default ProfessionalList;","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { theme } from '../styles/theme';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default marker icons in Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nconst MapView = ({ professionals, onMarkerPress, region }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <WebMapComponent\n        professionals={professionals}\n        onMarkerPress={onMarkerPress}\n        region={region}\n      />\n    );\n  }\n\n  return (\n    <NativeMapComponent\n      professionals={professionals}\n      onMarkerPress={onMarkerPress}\n      region={region}\n    />\n  );\n};\n\nconst WebMapComponent = ({ professionals, onMarkerPress, region }) => {\n  const NumberedMarkerIcon = (number) => {\n    return L.divIcon({\n      className: 'custom-marker',\n      html: `<div style=\"\n        background-color: ${theme.colors.primary};\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: bold;\n      \">${number}</div>`,\n    });\n  };\n\n  return (\n    <div style={styles.mapContainer}>\n      <MapContainer\n        center={[region.latitude, region.longitude]}\n        zoom={13}\n        style={{ height: 'calc(100vh - 64px)', width: '100%' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {professionals.map((professional, index) => (\n          <Marker\n            key={professional.id}\n            position={[professional.coordinates.latitude, professional.coordinates.longitude]}\n            icon={NumberedMarkerIcon(index + 1)}\n            eventHandlers={{\n              click: () => onMarkerPress(professional),\n            }}\n          >\n            <Popup>\n              <div style={styles.popupContent}>\n                <h3>{index + 1}. {professional.name}</h3>\n                <p>{professional.location}</p>\n                <p>Starting at ${professional.startingRate}/night</p>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n      </MapContainer>\n    </div>\n  );\n};\n\nconst NativeMapComponent = ({ professionals, onMarkerPress, region }) => {\n  return (\n    <View style={styles.mapContainer}>\n      {/* Implement native map component here if needed */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mapContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    // height: 'calc(100vh - 64px)',\n  },\n  map: {\n    flex: 1,\n  },\n  markerContainer: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 20,\n    padding: theme.spacing.small,\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  markerText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  calloutContainer: {\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.small,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  calloutText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  popupContent: {\n    padding: 10,\n  },\n});\n\nexport default MapView;","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, Dimensions, TouchableOpacity, Text, useWindowDimensions } from 'react-native';\nimport SearchRefiner from '../components/SearchRefiner';\nimport ProfessionalList from '../components/ProfessionalList';\nimport MapView from '../components/MapView';\nimport { theme } from '../styles/theme';\nimport { mockProfessionals } from '../data/mockData'; // Import mock data\nimport MaterialCommunityIcons from '@expo/vector-icons/MaterialCommunityIcons';\n\nconst SearchProfessionalsListing = ({ navigation, route }) => {\n  const { width } = useWindowDimensions();\n  const isMobile = width < 1000;\n  const [activeView, setActiveView] = useState(isMobile ? 'filters' : 'all');\n  const [professionals, setProfessionals] = useState(mockProfessionals); // Use mock data\n  const [filters, setFilters] = useState({});\n  const [region, setRegion] = useState({\n    latitude: 38.8339,\n    longitude: -104.8214,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421,\n  });\n\n  useEffect(() => {\n    // Update active view when screen size changes\n    setActiveView(width < 1000 ? 'filters' : 'all');\n  }, [width]);\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', () => {\n      if (isMobile) {\n        setActiveView('filters');\n      }\n    });\n\n    return unsubscribe;\n  }, [navigation, isMobile]);\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    // Implement filtering logic here\n  };\n\n  const handleLoadMore = () => {\n    // Implement pagination logic\n  };\n\n  const handleProfessionalSelect = (professional) => {\n    navigation.navigate('ProfessionalProfile', { professional });\n  };\n\n  const renderContent = () => {\n    if (!isMobile) {\n      return (\n        <View style={styles.container}>\n          <View style={styles.filterColumn}>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n          </View>\n          <View style={styles.listColumn}>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </View>\n          <View style={styles.mapColumn}>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </View>\n        </View>\n      );\n    }\n\n    // Mobile view\n    return (\n      <View style={styles.containerMobile}>\n        {activeView === 'filters' && (\n          <>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n            <TouchableOpacity \n              style={styles.searchButton}\n              onPress={() => setActiveView('list')}\n            >\n              <Text style={styles.searchButtonText}>Search</Text>\n            </TouchableOpacity>\n          </>\n        )}\n        \n        {activeView === 'list' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <Text style={styles.mobileHeaderText}>Professionals</Text>\n              <View style={styles.mobileHeaderRight}>\n                <TouchableOpacity onPress={() => setActiveView('filters')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"filter\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => setActiveView('map')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"map\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </>\n        )}\n        \n        {activeView === 'map' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <TouchableOpacity onPress={() => setActiveView('list')}>\n                <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </>\n        )}\n      </View>\n    );\n  };\n\n  return renderContent();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    height: 'calc(100vh - 64px)',\n    maxHeight: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n  },\n  column: {\n    flex: 1,\n  },\n  filterColumn: {\n    flex: Platform.OS === 'web' ? 0.25 : 1,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  listColumn: {\n    flex: Platform.OS === 'web' ? 0.4 : 1,\n    backgroundColor: theme.colors.background,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  mapColumn: {\n    flex: Platform.OS === 'web' ? 0.35 : 1,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  mobileNav: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n  },\n  navButton: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n  },\n  activeNavButton: {\n    backgroundColor: theme.colors.secondary,\n    borderRadius: 5,\n  },\n  navButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  containerMobile: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderBottomWidth: 2,\n    padding: 10,\n    marginHorizontal: 10,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeaderText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  headerIcon: {\n    padding: 8,\n    marginLeft: 16,\n  },\n  mapButton: {\n    marginLeft: 20,\n  },\n  searchButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  searchButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default SearchProfessionalsListing;\n\n","// components/BookingCard.js\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst BookingCard = ({ booking, type, onViewDetails, onCancel }) => {\n  const { id, status, date, time } = booking;\n  const name = type === 'professional' ? booking.clientName : booking.professionalName;\n\n  return (\n    <TouchableOpacity \n      style={styles.card}\n      onPress={() => onViewDetails()}\n      activeOpacity={0.7}\n    >\n      <View>\n        <View style={styles.header}>\n          <Text style={styles.bookingId}>Booking #{id}</Text>\n          <Text style={[\n            styles.status,\n            { color: status === 'Confirmed' ? theme.colors.success : theme.colors.warning }\n          ]}>\n            {status}\n          </Text>\n        </View>\n\n        <Text style={styles.name}>\n          {type === 'professional' ? 'Client: ' : 'Professional: '}{name}\n        </Text>\n        \n        <Text style={styles.datetime}>\n          {date} at {time}\n        </Text>\n\n        <View style={styles.buttonContainer}>\n          <TouchableOpacity\n            style={[styles.button, styles.viewButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onViewDetails();\n            }}\n          >\n            <Text style={styles.buttonText}>View Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity\n            style={[styles.button, styles.cancelButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onCancel();\n            }}\n          >\n            <Text style={[styles.buttonText, styles.cancelButtonText]}>\n              Cancel Booking\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  bookingId: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  status: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  name: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  datetime: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  button: {\n    flex: 1,\n    padding: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  viewButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, FlatList, TouchableOpacity, ActivityIndicator, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport BookingCard from '../components/BookingCard';\nimport { mockProfessionalBookings, mockClientBookings } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyBookings = () => {\n  const navigation = useNavigation();\n  const { isApprovedProfessional, userRole, is_DEBUG } = useContext(AuthContext);\n  const [activeTab, setActiveTab] = useState(userRole === 'professional' ? 'professional' : 'client');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Handle role changes\n  useEffect(() => {\n    if (userRole === 'professional' && isApprovedProfessional) {\n      setActiveTab('professional');\n    }\n  }, [userRole, isApprovedProfessional]);\n\n  const fetchBookings = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Real API call logic\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      if (is_DEBUG) {\n        console.log('Fetching real bookings:', {\n          isApprovedProfessional,\n          userRole,\n          activeTab\n        });\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (activeTab === 'professional') {\n        setBookings(response.data.bookings.professional_bookings || []);\n      } else {\n        setBookings(response.data.bookings.client_bookings || []);\n      }\n    } catch (error) {\n      console.error('Error fetching bookings:', error);\n      setError('Failed to fetch bookings');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch bookings when component mounts or when dependencies change\n  useEffect(() => {\n    if (is_DEBUG) {\n      console.log('Fetching bookings due to dependency change:', {\n        activeTab,\n        userRole,\n        isApprovedProfessional\n      });\n    }\n    fetchBookings();\n  }, [activeTab, userRole, isApprovedProfessional]);\n\n  // Handle search\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n    \n    if (!query.trim()) {\n      fetchBookings();\n      return;\n    }\n\n    const searchLower = query.toLowerCase();\n    const filtered = bookings.filter(booking => {\n      if (activeTab === 'professional') {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.clientName.toLowerCase().includes(searchLower)\n        );\n      } else {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.professionalName.toLowerCase().includes(searchLower)\n        );\n      }\n    });\n\n    setBookings(filtered);\n  };\n\n  const handleViewDetails = async (booking) => {\n    if (is_DEBUG) {\n      console.log('Navigating to booking details:', {\n        bookingId: booking.booking_id || booking.id,\n        isProfessional: activeTab === 'professional'\n      });\n    }\n    \n    await navigateToFrom(navigation, 'BookingDetails', 'MyBookings', {\n      bookingId: booking.booking_id || booking.id,\n      isProfessional: activeTab === 'professional'\n    });\n  };\n\n  const handleCancelBooking = async (bookingId) => {\n    // Implement booking cancellation logic\n    if (is_DEBUG) {\n      console.log('Cancel booking:', bookingId);\n    }\n  };\n\n  const renderBookingCard = ({ item }) => (\n    <BookingCard\n      booking={{\n        id: item.booking_id || item.id,\n        clientName: item.client_name || item.clientName,\n        professionalName: item.professional_name || item.professionalName,\n        serviceName: item.service_type || item.serviceName,\n        date: item.start_date || item.date,\n        time: item.start_time || item.time,\n        status: item.status\n      }}\n      type={activeTab}\n      onViewDetails={() => handleViewDetails(item)}\n      onCancel={() => handleCancelBooking(item.booking_id || item.id)}\n    />\n  );\n\n  const EmptyStateMessage = () => (\n    <View style={styles.emptyStateContainer}>\n      <MaterialCommunityIcons \n        name={error ? \"alert-circle-outline\" : \"calendar-blank-outline\"} \n        size={64} \n        color={error ? theme.colors.error : theme.colors.primary} \n      />\n      <Text style={styles.emptyStateTitle}>\n        {error ? 'Error Getting Bookings' : 'No Bookings Found'}\n      </Text>\n      <Text style={styles.emptyStateSubtitle}>\n        {error \n          ? 'There was an error fetching your bookings. Please try again later.' \n          : activeTab === 'professional' \n            ? isApprovedProfessional \n              ? 'Create a service to start receiving bookings'\n              : 'Apply to become a professional to start receiving bookings'\n            : 'Browse available services to make your first booking'\n        }\n      </Text>\n      {!error && (\n        <TouchableOpacity\n          style={styles.createServiceButton}\n          onPress={() => navigation.navigate(\n            activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'ServiceManager'\n                : 'BecomeProfessional'\n              : 'SearchProfessionalsListing'\n          )}\n        >\n          <Text style={styles.createServiceButtonText}>\n            {activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'Create Service'\n                : 'Become Professional'\n              : 'Browse Services'\n            }\n          </Text>\n        </TouchableOpacity>\n      )}\n      {error && (\n        <TouchableOpacity\n          style={styles.retryButton}\n          onPress={fetchBookings}\n        >\n          <Text style={styles.retryButtonText}>Retry</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"My Bookings\"\n        onBackPress={() => handleBack(navigation)} // Use default 'More' route\n      />\n      \n      <View style={styles.container}>\n      {isApprovedProfessional && (\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n            onPress={() => setActiveTab('professional')}\n          >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>\n                Professional Bookings\n              </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n              <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>\n                Client Bookings\n              </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      <View style={styles.searchContainer}>\n          <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.placeholder} />\n        <TextInput\n          style={styles.searchInput}\n            placeholder=\"Search by Booking ID or Name\"\n          value={searchQuery}\n          onChangeText={handleSearch}\n        />\n      </View>\n\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n        ) : bookings.length > 0 ? (\n        <FlatList\n          data={bookings}\n          renderItem={renderBookingCard}\n          keyExtractor={item => (item.booking_id || item.id || Math.random().toString()).toString()}\n          contentContainerStyle={styles.listContainer}\n        />\n        ) : (\n          <EmptyStateMessage />\n      )}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    maxWidth: Platform.OS === 'web' ? 632 : 600, // 600 + padding for scrollbar\n    alignSelf: 'center',\n    padding: 16,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    maxHeight: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    backgroundColor: theme.colors.background,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  tab: {\n    flex: 1,\n    padding: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.primary,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeTabText: {\n    color: theme.colors.surface,\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 8,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  listContainer: {\n    paddingBottom: 16,\n    paddingHorizontal: Platform.OS === 'web' ? 16 : 0, // Space for scrollbar\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n  },\n  emptyStateTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginTop: 16,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  emptyStateSubtitle: {\n    fontSize: 16,\n    color: theme.colors.placeholder,\n    textAlign: 'center',\n    marginTop: 8,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  createServiceButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  createServiceButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  retryButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default MyBookings;","import React, { useState } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst AddRateModal = ({ visible, onClose, onAdd }) => {\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleAdd = () => {\n    if (!name || !amount) return;\n    onAdd({\n      name,\n      amount: parseFloat(amount),\n      description\n    });\n    setName('');\n    setAmount('');\n    setDescription('');\n    onClose();\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Add New Rate</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Rate Name *</Text>\n            <TextInput\n              style={styles.input}\n              value={name}\n              onChangeText={setName}\n              placeholder=\"Enter rate name\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Amount *</Text>\n            <TextInput\n              style={styles.input}\n              value={amount}\n              onChangeText={setAmount}\n              keyboardType=\"numeric\"\n              placeholder=\"Enter amount\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Description (optional)</Text>\n            <TextInput\n              style={[styles.input, styles.descriptionInput]}\n              value={description}\n              onChangeText={setDescription}\n              placeholder=\"Enter description\"\n              multiline\n            />\n          </View>\n\n          <TouchableOpacity\n            style={[styles.addButton, (!name || !amount) && styles.disabledButton]}\n            onPress={handleAdd}\n            disabled={!name || !amount}\n          >\n            <Text style={styles.addButtonText}>Add Rate</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  inputContainer: {\n    marginBottom: 15,\n  },\n  label: {\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  descriptionInput: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n});\n\nexport default AddRateModal;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, ActivityIndicator, TextInput, Alert, Platform, Modal } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { fetchBookingDetails, createBooking, updateBookingStatus, mockMessages, mockConversations, CURRENT_USER_ID, BOOKING_STATES } from '../data/mockData';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AddRateModal from '../components/AddRateModal';\nimport { format } from 'date-fns';\nimport AddOccurrenceModal from '../components/AddOccurrenceModal';\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { handleBack } from '../components/Navigation';\n\nconst LAST_VIEWED_BOOKING_ID = 'last_viewed_booking_id';\n\n// Replace with Services that professional offers\nconst SERVICE_OPTIONS = ['Dog Walking', 'Pet Sitting', 'House Sitting', 'Drop-In Visits'];\n// Replace with Animal types that the client owns\nconst ANIMAL_OPTIONS = ['Dog', 'Cat', 'Bird', 'Small Animal'];\n// Replace with the pets that the client has in their \"my pets\" tab\nconst PET_OPTIONS = [\n  { id: 'dog1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' },\n  { id: 'cat1', name: 'Luna', type: 'Cat', breed: 'Siamese' },\n  // Add more default options or fetch from an API\n];\n\nconst mockUpdateBookingPets = async (bookingId, pets) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst mockUpdateBookingService = async (bookingId, serviceDetails) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst formatDateWithoutTimezone = (dateString) => {\n  if (!dateString) return new Date();\n  // Split the date string to avoid timezone issues\n  const [year, month, day] = dateString.split('-').map(num => parseInt(num, 10));\n  return new Date(year, month - 1, day); // month is 0-based in JS Date\n};\n\nconst calculateTimeUnits = (startDate, endDate, startTime, endTime, timeUnit) => {\n  const start = new Date(`${startDate}T${startTime}`);\n  const end = new Date(`${endDate}T${endTime}`);\n  const diffMs = end - start;\n  \n  switch(timeUnit) {\n    case '15 min':\n      return Math.ceil(diffMs / (15 * 60 * 1000));\n    case '30 min':\n      return Math.ceil(diffMs / (30 * 60 * 1000));\n    case '45 min':\n      return Math.ceil(diffMs / (45 * 60 * 1000));\n    case '1 hr':\n      return Math.ceil(diffMs / (60 * 60 * 1000));\n    case '2 hr':\n      return Math.ceil(diffMs / (2 * 60 * 60 * 1000));\n    case '4 hr':\n      return Math.ceil(diffMs / (4 * 60 * 60 * 1000));\n    case '8 hr':\n      return Math.ceil(diffMs / (8 * 60 * 60 * 1000));\n    case '24 hr':\n    case 'per day':\n      return Math.ceil(diffMs / (24 * 60 * 60 * 1000));\n    case 'overnight':\n      return 1; // Overnight is typically counted as one unit\n    case 'per visit':\n      return 1; // Per visit is counted as one unit\n    default:\n      return 1;\n  }\n};\n\nconst calculateOccurrenceCost = (occurrence) => {\n  // If occurrence doesn't have rates, return 0\n  if (!occurrence.rates) {\n    return 0;\n  }\n  \n  const timeUnits = calculateTimeUnits(\n    occurrence.startDate,\n    occurrence.endDate,\n    occurrence.startTime,\n    occurrence.endTime,\n    occurrence.rates.timeUnit\n  );\n  \n  const baseTotal = occurrence.rates.baseRate * timeUnits;\n  const additionalRatesTotal = (occurrence.rates.additionalRates || [])\n    .reduce((sum, rate) => sum + parseFloat(rate.amount || 0), 0);\n    \n  return baseTotal + additionalRatesTotal;\n};\n\nconst RequestChangesModal = ({ visible, onClose, onSubmit, loading }) => {\n  const [reason, setReason] = useState('');\n\n  return (\n    <Modal visible={visible} transparent animationType=\"fade\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Changes</Text>\n          <TextInput\n            style={styles.reasonInput}\n            placeholder=\"Enter reason for changes...\"\n            value={reason}\n            onChangeText={setReason}\n            multiline\n            numberOfLines={4}\n          />\n          <View style={styles.modalButtons}>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.cancelButton]}\n              onPress={onClose}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.submitButton]}\n              onPress={() => onSubmit(reason)}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\n              ) : (\n                <Text style={styles.submitButtonText}>Submit</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst BookingDetails = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { is_DEBUG } = useContext(AuthContext);\n  const [booking, setBooking] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isProfessionalView, setIsProfessionalView] = useState(false);\n  const [isPetsEditMode, setIsPetsEditMode] = useState(false);\n  const [isServiceEditMode, setIsServiceEditMode] = useState(false);\n  const [editedBooking, setEditedBooking] = useState({\n    serviceDetails: {\n      type: '',\n      animalType: '',\n      numberOfPets: 0\n    },\n    rates: {\n      additionalPetRate: 0,\n      holidayFee: 0,\n      weekendFee: 0,\n      extraServices: []\n    }\n  });\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [timeDropdownPosition, setTimeDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const timeInputRef = useRef(null);\n  const [showAddRateModal, setShowAddRateModal] = useState(false);\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showPetRateDropdown, setShowPetRateDropdown] = useState(false);\n  const [showAdditionalPetRate, setShowAdditionalPetRate] = useState(true);\n  const [showHolidayRate, setShowHolidayRate] = useState(true);\n  const [showWeekendRate, setShowWeekendRate] = useState(true);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [expandedOccurrenceId, setExpandedOccurrenceId] = useState(null);\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [isPetsSaving, setIsPetsSaving] = useState(false);\n  const [isServiceSaving, setIsServiceSaving] = useState(false);\n  const [showRequestChangesModal, setShowRequestChangesModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [availablePets, setAvailablePets] = useState([]);\n  const [isLoadingPets, setIsLoadingPets] = useState(false);\n  const [availableServices, setAvailableServices] = useState([]);\n  const [isLoadingServices, setIsLoadingServices] = useState(false);\n\n  useEffect(() => {\n    const fetchBooking = async () => {\n      setLoading(true);\n      \n      try {\n        let bookingId = route.params?.bookingId;\n        let initialData = route.params?.initialData;\n        let isProfessional = route.params?.isProfessional;\n        setIsProfessionalView(isProfessional);\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetching booking with params:', {\n            bookingId,\n            initialData,\n            isProfessional\n          });\n        }\n\n        // Real API call\n        if (!bookingId) {\n          navigation.replace('MyBookings');\n          return;\n        }\n\n        let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        const response = await axios.get(\n          `${API_BASE_URL}/api/bookings/v1/${bookingId}/?is_prorated=true`,\n          { headers: { Authorization: `Bearer ${token}` }}\n        );\n\n        // Transform API response to match the expected format\n        const transformedBooking = {\n          ...response.data,\n          id: response.data.booking_id,\n          clientName: response.data.client_name,\n          professionalName: response.data.professional_name,\n          serviceType: response.data.service_details.service_type,\n          animalType: response.data.service_details.animal_type,\n          numberOfPets: response.data.service_details.num_pets,\n          costs: response.data.cost_summary,\n          status: response.data.status\n        };\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetched and transformed booking data:', transformedBooking);\n        }\n        setBooking(transformedBooking);\n      } catch (error) {\n        console.error('Error fetching booking details:', error);\n        Alert.alert(\n          'Error',\n          'Unable to load booking details. Please try again.',\n          [{ text: 'OK', onPress: () => navigation.replace('MyBookings') }]\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBooking();\n  }, [route.params?.bookingId, navigation]);\n\n  // Add helper function to safely display data\n  const getDisplayValue = (value, placeholder = 'TBD') => {\n    if (value === null || value === undefined || value === '') {\n      return placeholder;\n    }\n    return value;\n  };\n\n  // Reset edit mode when component mounts or reloads\n  useEffect(() => {\n    setIsPetsEditMode(false);\n    setIsServiceEditMode(false);\n  }, []);\n\n  // Add this useEffect to properly initialize editedBooking\n  useEffect(() => {\n    if (booking) {\n      if (is_DEBUG) {\n        console.log('BookingDetails: Booking updated, current value:', booking);\n      }\n      setEditedBooking({\n        ...booking,\n        serviceDetails: {\n          type: booking.serviceType || '',\n          animalType: booking.animalType || '',\n          numberOfPets: (booking.pets || []).length  // Initialize based on pets array length\n        },\n        rates: {\n          additionalPetRate: booking.rates?.additionalPetRate ?? 0,\n          holidayFee: booking.rates?.holidayFee ?? 0,\n          weekendFee: booking.rates?.weekendFee ?? 0,\n          extraServices: booking.rates?.extraServices || []\n        }\n      });\n    }\n  }, [booking]);\n\n  const canEdit = () => {\n\n    if (!booking) {\n      console.log('BookingDetails: Booking is undefined');\n      return false;\n    }\n\n    if (is_DEBUG) {\n      console.log('Booking edit ability:', booking.can_edit);\n    }\n\n    // For real API mode, use the backend's can_edit field\n    return booking.can_edit;\n  };\n\n  // Add function to fetch available pets\n  const fetchAvailablePets = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available pets with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingPets(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/available_pets/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailablePets(response.data);\n      if (is_DEBUG) {\n        console.log('available pets:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available pets:', error);\n      Alert.alert('Error', 'Failed to fetch available pets');\n    } finally {\n      setIsLoadingPets(false);\n    }\n  };\n\n  const togglePetsEditMode = async () => {\n    if (isPetsEditMode) {\n      // Save changes\n      try {\n        setIsPetsSaving(true);\n        \n        setBooking(prev => ({\n          ...prev,\n          pets: selectedPets\n        }));\n        setIsPetsEditMode(false);\n      } catch (error) {\n        console.error('Error updating pets:', error);\n        Alert.alert('Error', 'Failed to update pets');\n      } finally {\n        setIsPetsSaving(false);\n      }\n    } else {\n      setSelectedPets(booking.pets || []);\n      setIsPetsEditMode(true);\n    }\n  };\n\n  const renderPetSelector = () => {\n    if (!isPetsEditMode) {\n      return (\n        <View>\n          {booking?.pets?.length > 0 ? (\n            booking.pets.map((pet, index) => (\n              <View key={index} style={styles.petRow}>\n                <Text style={styles.petName}>\n                  {pet.name}  {pet.species} {pet.breed && ` ${pet.breed}`}\n                </Text>\n              </View>\n            ))\n          ) : (\n            <Text style={styles.noContentText}>No pets added to this booking</Text>\n          )}\n        </View>\n      );\n    }\n\n    return (\n      <View>\n        {selectedPets.map((pet, index) => (\n          <View key={index} style={styles.petRow}>\n            <Text style={styles.petName}>\n              {pet.name}  {pet.species} {pet.breed && ` ${pet.breed}`}\n            </Text>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter((_, i) => i !== index))}\n            >\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity\n          style={styles.addPetButton}\n          onPress={async () => {\n            if (!showPetDropdown) {\n              await fetchAvailablePets();\n            }\n            setShowPetDropdown(!showPetDropdown);\n          }}\n        >\n          <Text style={styles.addPetText}>Add Pet</Text>\n          <MaterialCommunityIcons \n            name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.text} \n          />\n        </TouchableOpacity>\n\n        {showPetDropdown && (\n          <View style={styles.dropdownList}>\n            <ScrollView nestedScrollEnabled={true} style={{ maxHeight: 200 }}>\n              {isLoadingPets ? (\n                <ActivityIndicator style={{ padding: 10 }} />\n              ) : (\n                availablePets.filter(pet => !selectedPets.some(selected => selected.pet_id === pet.pet_id))\n                  .map((pet) => (\n                    <TouchableOpacity\n                      key={pet.pet_id || pet.id}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        setSelectedPets(prev => [...prev, pet]);\n                        setShowPetDropdown(false);\n                      }}\n                    >\n                      <Text style={styles.dropdownText}>\n                        {pet.name}  {pet.species} {pet.breed && ` ${pet.breed}`}\n                      </Text>\n                    </TouchableOpacity>\n                  ))\n              )}\n              {!isLoadingPets && availablePets.length === 0 && (\n                <Text style={styles.noContentText}>No pets available</Text>\n              )}\n            </ScrollView>\n          </View>\n        )}\n      </View>\n    );\n  };\n\n  // Add function to fetch available services\n  const fetchAvailableServices = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available services with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingServices(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/available_services/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailableServices(response.data);\n      if (is_DEBUG) {\n        console.log('available services:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available services:', error);\n      Alert.alert('Error', 'Failed to fetch available services');\n    } finally {\n      setIsLoadingServices(false);\n    }\n  };\n\n  const toggleServiceEditMode = async () => {\n    if (isServiceEditMode) {\n      // Save changes\n      try {\n        setIsServiceSaving(true);\n        \n        setBooking(prev => ({\n          ...prev,\n          service_details: editedBooking.service_details\n        }));\n        setIsServiceEditMode(false);\n      } catch (error) {\n        console.error('Error updating service:', error);\n        Alert.alert('Error', 'Failed to update service details');\n      } finally {\n        setIsServiceSaving(false);\n      }\n    } else {\n      setEditedBooking(prev => ({\n        ...prev,\n        service_details: {\n          ...booking.service_details\n        }\n      }));\n      await fetchAvailableServices();\n      setIsServiceEditMode(true);\n    }\n  };\n\n  const StatusBadge = ({ status }) => (\n    <View style={styles.statusContainer}>\n      <Text style={styles.statusLabel}>Booking Status:</Text>\n      <View style={[\n        styles.statusBadge,\n        { backgroundColor: getStatusColor(status).backgroundColor }\n      ]}>\n        <Text style={[\n          styles.statusText,\n          { color: getStatusColor(status).textColor }\n        ]}>\n          {status}\n        </Text>\n      </View>\n    </View>\n  );\n\n  const getStatusColor = (status) => {\n    const colors = {\n      Pending: { backgroundColor: theme.colors.warning + '20', textColor: theme.colors.warning },\n      Confirmed: { backgroundColor: theme.colors.success + '20', textColor: theme.colors.success },\n      Canceled: { backgroundColor: theme.colors.error + '20', textColor: theme.colors.error },\n      Completed: { backgroundColor: theme.colors.primary + '20', textColor: theme.colors.primary },\n    };\n    return colors[status] || colors.Pending;\n  };\n\n  const handleRemoveService = (index) => {\n    // Add this function since it's referenced in the code\n    if (is_DEBUG) {\n      console.log('Removing service at index:', index);\n    }\n  };\n\n  const renderEditButton = () => (\n    canEdit() && (\n      <TouchableOpacity \n        onPress={togglePetsEditMode}\n        style={[styles.editButton, isPetsEditMode && styles.saveButton]}\n        testID=\"edit-button\"\n        disabled={isPetsSaving}\n      >\n        {isPetsSaving ? (\n          <ActivityIndicator size=\"small\" color={theme.colors.primary} />\n        ) : (\n          isPetsEditMode ? (\n            <Text style={styles.saveButtonText}>Save Pets</Text>\n          ) : (\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          )\n        )}\n      </TouchableOpacity>\n    )\n  );\n\n  const handleUpdatePets = (text) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      serviceDetails: {\n        ...prev.serviceDetails,\n        numberOfPets: text\n      }\n    }));\n  };\n\n  const handleUpdateDuration = (newDuration) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      duration: parseInt(newDuration),\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const handleRemoveRate = (index) => {\n    const updatedRates = [...editedBooking.rates.extraServices];\n    updatedRates.splice(index, 1);\n    \n    setEditedBooking(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        extraServices: updatedRates\n      }\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const recalculateTotals = async () => {\n    try {\n      const baseTotal = editedBooking.rates.baseRate * editedBooking.quantity;\n      const extraServicesTotal = editedBooking.rates.extraServices.reduce((sum, service) => sum + service.amount, 0);\n      const holidayFee = editedBooking.rates.holidayFee || 0;\n      const weekendFee = editedBooking.rates.weekendFee || 0;\n      \n      // Calculate additional pet fees (assuming 1 pet included in base rate)\n      const additionalPets = Math.max(0, editedBooking.numberOfPets - 1);\n      const additionalPetTotal = additionalPets * (editedBooking.rates.additionalPetRate || 0);\n      \n      const subtotal = baseTotal + extraServicesTotal + holidayFee + weekendFee + additionalPetTotal;\n      const clientFee = subtotal * 0.10;\n      const taxes = subtotal * 0.09;\n      const totalClientCost = subtotal + clientFee + taxes;\n      const professionalPayout = subtotal * 0.90;\n\n      setEditedBooking(prev => ({\n        ...prev,\n        costs: {\n          baseTotal,\n          extraServicesTotal,\n          additionalPetTotal,\n          subtotal,\n          clientFee,\n          taxes,\n          totalClientCost,\n          professionalPayout\n        }\n      }));\n    } catch (error) {\n      console.error('Error recalculating totals:', error);\n    }\n  };\n\n  const calculateTotalCosts = (occurrences) => {\n    const subtotal = occurrences.reduce((sum, occ) => \n      sum + parseFloat(occ.calculated_cost || 0), 0);\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n    const totalSitterPayout = subtotal * 0.90; // 90% of subtotal goes to sitter\n    \n    return {\n      subtotal,\n      platform_fee: platformFee,\n      taxes,\n      total_client_cost: totalClientCost,\n      total_sitter_payout: totalSitterPayout\n    };\n  };\n\n  const handleSaveOccurrence = async (updatedOccurrence) => {\n    if (is_DEBUG) {\n      console.log('Saving occurrence:', updatedOccurrence);\n    }\n\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n\n      // Transform the occurrence data for the backend\n      const occurrenceData = {\n        occurrence_id: updatedOccurrence.id || updatedOccurrence.occurrence_id,  // Try both id and occurrence_id\n        start_date: updatedOccurrence.startDate,\n        end_date: updatedOccurrence.endDate,\n        start_time: updatedOccurrence.startTime,\n        end_time: updatedOccurrence.endTime,\n        rates: {\n          base_rate: updatedOccurrence.rates.baseRate,\n          additional_animal_rate: updatedOccurrence.rates.additionalAnimalRate,\n          applies_after: updatedOccurrence.rates.appliesAfterAnimals,\n          unit_of_time: updatedOccurrence.rates.timeUnit.toUpperCase().replace(/ /g, '_'),\n          holiday_rate: updatedOccurrence.rates.holidayRate,\n          holiday_days: 0,\n          additional_rates: updatedOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${rate.amount}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending occurrence data to backend:', occurrenceData);\n      }\n\n      // Real API mode\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // First update the occurrence\n      const updateResponse = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend update response:', updateResponse.data);\n      }\n\n      // Then fetch the latest booking data to ensure we have the most up-to-date state\n      const bookingResponse = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/?is_prorated=true`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Fetched updated booking data:', bookingResponse.data);\n      }\n\n      // Transform API response to match the expected format\n      const transformedBooking = {\n        ...bookingResponse.data,\n        id: bookingResponse.data.booking_id,\n        clientName: bookingResponse.data.client_name,\n        professionalName: bookingResponse.data.professional_name,\n        serviceType: bookingResponse.data.service_details.service_type,\n        animalType: bookingResponse.data.service_details.animal_type,\n        numberOfPets: bookingResponse.data.service_details.num_pets,\n        costs: bookingResponse.data.cost_summary,\n        status: bookingResponse.data.status\n      };\n\n      // Update the booking state with the fresh data\n      setBooking(transformedBooking);\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error saving occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to save occurrence details');\n    }\n  };\n\n  const handleAddOccurrence = async (newOccurrence) => {\n    try {\n      if (!booking) return;\n\n      if (is_DEBUG) {\n        console.log('Adding new occurrence:', newOccurrence);\n      }\n\n      // Real API mode\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Transform the occurrence data to match backend expectations\n      const occurrenceData = {\n        start_date: newOccurrence.startDate,\n        end_date: newOccurrence.endDate,\n        start_time: newOccurrence.startTime,\n        end_time: newOccurrence.endTime,\n        rates: {\n          base_rate: newOccurrence.rates.baseRate,\n          additional_animal_rate: newOccurrence.rates.additionalAnimalRate,\n          applies_after: newOccurrence.rates.appliesAfterAnimals,\n          holiday_rate: newOccurrence.rates.holidayRate,\n          unit_of_time: newOccurrence.rates.timeUnit.toUpperCase().replace(' ', '_'),\n          additional_rates: newOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${parseFloat(rate.amount).toFixed(2)}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending new occurrence data to backend:', occurrenceData);\n      }\n\n      const response = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend response:', response.data);\n      }\n\n      // Update booking status and data from response\n      if (response.data.booking_status) {\n        setBooking(prevBooking => ({\n          ...prevBooking,\n          status: response.data.booking_status\n        }));\n      }\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to add occurrence');\n    }\n  };\n\n  const handleStatusUpdateAfterEdit = async () => {\n    if (!booking) return;\n\n    // If booking is already in a pending changes state, no need to update\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n    ].includes(booking.status)) {\n      return;\n    }\n\n    // Update status based on current status\n    let newStatus;\n    if (booking.status === BOOKING_STATES.CONFIRMED) {\n      newStatus = BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES;\n    } else {\n      newStatus = BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES;\n    }\n\n    await handleStatusUpdate(newStatus);\n  };\n\n  const handleDateTimeCardPress = (occurrence) => {\n    if (is_DEBUG) {\n      console.log('Original occurrence:', occurrence);\n    }\n\n    const transformedOccurrence = {\n      id: occurrence.occurrence_id,\n      occurrence_id: occurrence.occurrence_id,  // Make sure we set both id and occurrence_id\n      startDate: occurrence.start_date,\n      endDate: occurrence.end_date,\n      startTime: occurrence.start_time,\n      endTime: occurrence.end_time,\n      rates: {\n        baseRate: occurrence.rates?.base_rate?.toString() || '0',\n        additionalAnimalRate: occurrence.rates?.additional_animal_rate?.toString() || '0',\n        appliesAfterAnimals: occurrence.rates?.applies_after?.toString() || '1',\n        holidayRate: occurrence.rates?.holiday_rate?.toString() || '0',\n        timeUnit: occurrence.rates?.unit_of_time?.toLowerCase().replace(/_/g, ' ') || 'per visit',\n        additionalRates: (occurrence.rates?.additional_rates || [])\n          .filter(rate => rate.title !== 'Booking Details Cost')\n          .map(rate => ({\n            name: rate.title,\n            description: rate.description || '',\n            amount: (rate.amount?.replace(/[^0-9.]/g, '') || '0').toString()\n          }))\n      },\n      totalCost: occurrence.calculated_cost?.toString() || '0',\n      baseTotal: (occurrence.base_total?.replace(/[^0-9.]/g, '') || '0').toString(),\n      multiple: calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n    };\n\n    if (is_DEBUG) {\n      console.log('Transformed occurrence for modal:', transformedOccurrence);\n    }\n    setSelectedOccurrence(transformedOccurrence);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const getTimeUnitDisplay = (unit) => {\n    if (!unit) return 'per visit';\n    const formatted = unit.toLowerCase().replace('_', ' ');\n    return formatted;\n  };\n\n  const calculateMultiple = (baseTotal, baseRate) => {\n    if (!baseRate || baseRate === 0) return 0;\n    const total = parseFloat(baseTotal.replace('$', ''));\n    const rate = parseFloat(baseRate);\n    return (total / rate).toFixed(2);\n  };\n\n  const renderCostBreakdown = () => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>Cost Breakdown</Text>\n      \n      {(booking?.occurrences || []).map((occurrence, index) => (\n        <TouchableOpacity \n          key={index}\n          style={styles.occurrenceCostRow}\n          onPress={() => setExpandedOccurrenceId(\n            expandedOccurrenceId === occurrence.occurrence_id ? null : occurrence.occurrence_id\n          )}\n        >\n          <View style={styles.occurrenceCostHeader}>\n            <Text style={styles.occurrenceCostHeaderText}>\n              {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n              }\n            </Text>\n            <View style={styles.costAndIcon}>\n              <Text style={styles.occurrenceCost}>\n                ${parseFloat(occurrence.calculated_cost || 0).toFixed(2)}\n              </Text>\n              <MaterialCommunityIcons \n                name={expandedOccurrenceId === occurrence.occurrence_id ? \"chevron-up\" : \"chevron-down\"}\n                size={20} \n                color={theme.colors.text} \n              />\n            </View>\n          </View>\n          \n          {expandedOccurrenceId === occurrence.occurrence_id && (\n            <View style={styles.expandedCostDetails}>\n              <View style={styles.costDetailRow}>\n                <Text style={styles.costDetailText}>Base Rate ({getTimeUnitDisplay(occurrence.rates?.unit_of_time)}):</Text>\n                <Text style={styles.costDetailText}>\n                  ${parseFloat(occurrence.rates?.base_rate || 0).toFixed(2)}  {\n                    calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n                  } = ${parseFloat(occurrence.base_total.replace('$', '')).toFixed(2)}\n                </Text>\n              </View>\n              {occurrence.rates?.additional_animal_rate_applies && occurrence.rates?.additional_animal_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Additional Animal Rate (after {occurrence.rates.applies_after} animals):</Text>\n                  <Text style={styles.costDetailText}>${parseFloat(occurrence.rates.additional_animal_rate).toFixed(2)}</Text>\n                </View>\n              )}\n              {occurrence.rates?.holiday_days > 0 && occurrence.rates?.holiday_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Holiday Rate ({occurrence.rates.holiday_days} day{occurrence.rates.holiday_days > 1 ? 's' : ''}):</Text>\n                  <Text style={styles.costDetailText}>${(parseFloat(occurrence.rates.holiday_rate) * occurrence.rates.holiday_days).toFixed(2)}</Text>\n                </View>\n              )}\n              {(occurrence.rates?.additional_rates || [])\n                .filter(rate => rate.title !== 'Booking Details Cost')\n                .map((rate, idx) => (\n                  <View key={idx} style={styles.costDetailRow}>\n                    <Text style={styles.costDetailText}>{rate.title}:</Text>\n                    <Text style={styles.costDetailText}>${parseFloat(rate.amount.replace('$', '')).toFixed(2)}</Text>\n                  </View>\n              ))}\n            </View>\n          )}\n        </TouchableOpacity>\n      ))}\n\n      <View style={styles.costSummary}>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Subtotal:</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.subtotal || 0).toFixed(2)}</Text>\n        </View>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Platform Fee (10%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.platform_fee || 0).toFixed(2)}</Text>\n        </View>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Taxes (8%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.taxes || 0).toFixed(2)}</Text>\n        </View>\n        <View style={[styles.summaryRow, styles.totalRow]}>\n          <Text style={styles.totalLabel}>Total Cost to Client:</Text>\n          <Text style={styles.totalAmount}>\n            ${(booking?.cost_summary?.total_client_cost || 0).toFixed(2)}\n          </Text>\n        </View>\n        <View style={[styles.summaryRow, styles.payoutRow]}>\n          <Text style={styles.payoutLabel}>Sitter Payout:</Text>\n          <Text style={styles.payoutAmount}>\n            ${(booking?.cost_summary?.total_sitter_payout || 0).toFixed(2)}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const formatTimeString = (dateStr, timeStr) => {\n    if (!dateStr || !timeStr) return '';\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date(dateStr);\n    date.setHours(parseInt(hours, 10), parseInt(minutes, 10));\n    return format(date, 'h:mm a');\n  };\n\n  const sendBookingMessage = async (bookingId, recipientId, messageType) => {\n    try {\n      if (!booking) {\n        throw new Error('No booking data available');\n      }\n\n      if (is_DEBUG) {\n        console.log('Sending booking message:', {\n          bookingId,\n          recipientId,\n          messageType,\n          booking\n        });\n      }\n\n      // Find the existing conversation with Dr. Mike Johnson\n      const conversationId = 'conv_2'; // This is the existing conversation ID from mockData\n      if (is_DEBUG) {\n        console.log('Using existing conversation:', conversationId);\n      }\n\n      const bookingMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: CURRENT_USER_ID,\n        participant2_id: recipientId,\n        sender: CURRENT_USER_ID,\n        type: 'booking_request',\n        data: {\n          bookingId: bookingId,\n          messageType: messageType,\n          serviceType: booking.serviceType,\n          dates: booking.occurrences.map(occ => ({\n            startDate: occ.start_date,\n            endDate: occ.end_date,\n            startTime: occ.start_time,\n            endTime: occ.end_time\n          })),\n          totalCost: booking.costs.totalClientCost,\n          status: booking.status\n        },\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      // Add message to existing conversation\n      if (!mockMessages[conversationId]) {\n        mockMessages[conversationId] = [];\n      }\n      mockMessages[conversationId].push(bookingMessage);\n\n      // Update the conversation's last message\n      const conversation = mockConversations.find(conv => conv.id === conversationId);\n      if (conversation) {\n        conversation.lastMessage = \"Booking update sent\";\n        conversation.timestamp = new Date().toISOString();\n        conversation.unread = true;\n      }\n\n      if (is_DEBUG) {\n        console.log('Message sent successfully to conversation:', conversationId);\n        console.log('Updated conversation messages:', mockMessages[conversationId]);\n      }\n      return true;\n    } catch (error) {\n      console.error('Error sending booking message:', error);\n      return false;\n    }\n  };\n\n  const handleStatusUpdate = async (newStatus, reason = '', metadata = {}) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // First send the message\n      if (newStatus === BOOKING_STATES.PENDING_CLIENT_APPROVAL) {\n        const messageSent = await sendBookingMessage(\n          booking.id,\n          booking.clientId || 'client123',\n          'professional_changes'\n        );\n        if (!messageSent) {\n          throw new Error('Failed to send booking message');\n        }\n      }\n\n      // Then update the booking status\n      if (is_DEBUG) {\n        console.log('Updating booking status:', {\n          bookingId: booking.id,\n          currentStatus: booking.status,\n          newStatus,\n          reason,\n          metadata\n        });\n      }\n\n      const updatedBooking = await updateBookingStatus(\n        booking.id, \n        newStatus, \n        reason, \n        {\n          ...metadata,\n          occurrences: booking.occurrences,\n          costs: booking.costs\n        }\n      );\n\n      setBooking(updatedBooking);\n      setHasUnsavedChanges(false);\n      Alert.alert('Success', `Booking ${newStatus.toLowerCase()} successfully`);\n    } catch (error) {\n      console.error('Error updating booking status:', error);\n      Alert.alert('Error', 'Failed to update booking status');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n    }\n  };\n\n  const handleRequestChanges = async (reason) => {\n    await handleStatusUpdate(BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES, reason);\n    setShowRequestChangesModal(false);\n  };\n\n  const showConfirmation = (actionText, onConfirm) => {\n    setConfirmationModal({\n      visible: true,\n      actionText,\n      onConfirm,\n      isLoading: false\n    });\n  };\n\n  const hideConfirmation = () => {\n    setConfirmationModal({\n      visible: false,\n      actionText: '',\n      onConfirm: null,\n      isLoading: false\n    });\n  };\n\n  const renderActionButtons = () => {\n    if (!booking) return null;\n\n    const buttons = [];\n\n    if (isProfessionalView) {\n      // Send to Client button - Professional Only\n      if ([\n        BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"send\"\n            style={[styles.button, styles.primaryButton]}\n            onPress={() => showConfirmation(\n              'send these changes to the client',\n              () => handleStatusUpdate(BOOKING_STATES.PENDING_CLIENT_APPROVAL)\n            )}\n          >\n            <Text style={styles.buttonText}>Send to Client</Text>\n          </TouchableOpacity>\n        );\n      }\n\n      // Deny button - Professional Only\n      if (booking.status === BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"deny\"\n            style={[styles.button, styles.denyButton]}\n            onPress={() => showConfirmation(\n              'deny this booking',\n              () => handleStatusUpdate(BOOKING_STATES.DENIED)\n            )}\n          >\n            <Text style={styles.buttonText}>Deny</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    // Cancel button - Both Professional and Client\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n    ].includes(booking.status)) {\n      buttons.push(\n        <TouchableOpacity\n          key=\"cancel\"\n          style={[styles.button, styles.cancelButton]}\n          onPress={() => showConfirmation(\n            'cancel this booking',\n            () => handleStatusUpdate(BOOKING_STATES.CANCELLED)\n          )}\n        >\n          <Text style={styles.cancelButtonText}>Cancel Booking</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    // Client-specific buttons\n    if (!isProfessionalView) {\n      // Approve button - Client Only\n      if ([\n        BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n        BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"approve\"\n            style={[styles.button, styles.approveButton]}\n            onPress={() => showConfirmation(\n              'approve this booking',\n              () => handleStatusUpdate(BOOKING_STATES.CONFIRMED)\n            )}\n          >\n            <Text style={styles.buttonText}>Approve</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    return (\n      <View style={styles.actionButtonsContainer}>\n        {buttons}\n      </View>\n    );\n  };\n\n  // Add this effect to update editedBooking when booking changes\n  useEffect(() => {\n    if (booking) {\n      setEditedBooking(booking);\n    }\n  }, [booking]);\n\n  const handleServiceTypeChange = (newServiceType) => {\n    if (is_DEBUG) {\n      console.log('Previous editedBooking:', editedBooking);\n      console.log('New service type:', newServiceType);\n    }\n    \n    setEditedBooking(prev => {\n      const updated = {\n        ...prev,\n        serviceDetails: {\n          ...prev.serviceDetails,\n          type: newServiceType\n        }\n      };\n      if (is_DEBUG) {\n        console.log('Updated editedBooking:', updated);\n      }\n      return updated;\n    });\n  };\n\n  const renderServiceTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{editedBooking?.service_details?.service_type || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {isLoadingServices ? (\n              <ActivityIndicator style={{ padding: 10 }} />\n            ) : (\n              availableServices.map((service) => (\n                <TouchableOpacity\n                  key={service.service_id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setEditedBooking(prev => ({\n                      ...prev,\n                      service_details: {\n                        ...prev.service_details,\n                        service_type: service.service_name,\n                        service_id: service.service_id\n                      }\n                    }));\n                    setShowServiceDropdown(false);\n                  }}\n                >\n                  <Text style={[\n                    styles.dropdownText,\n                    editedBooking?.service_details?.service_type === (service.service_name) && styles.selectedOption\n                  ]}>\n                    {service.service_name}\n                  </Text>\n                </TouchableOpacity>\n              ))\n            )}\n            {!isLoadingServices && availableServices.length === 0 && (\n              <Text style={styles.noContentText}>No services available</Text>\n            )}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderAnimalTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowAnimalDropdown(!showAnimalDropdown)}\n      >\n        <Text>{editedBooking?.serviceDetails?.animalType || 'Select Animal Type'}</Text>\n        <MaterialCommunityIcons \n          name={showAnimalDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showAnimalDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {ANIMAL_OPTIONS.map((animal) => (\n              <TouchableOpacity\n                key={animal}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setEditedBooking(prev => ({\n                    ...prev,\n                    serviceDetails: {\n                      ...(prev.serviceDetails || {}),\n                      animalType: animal\n                    }\n                  }));\n                  setShowAnimalDropdown(false);\n                  handleStatusUpdateAfterEdit();\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  editedBooking?.serviceDetails?.animalType === animal && styles.selectedOption\n                ]}>\n                  {animal}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderDateTimeSection = () => (\n    <View>\n      <Text style={styles.sectionTitle}>\n        {canEdit() ? \"Dates & Times (Set Rates for Dates)\" : \"Dates & Times\"}\n      </Text>\n      {(booking?.occurrences || []).map((occurrence, index) => (\n        canEdit() ? (\n          <TouchableOpacity \n            key={index}\n            style={styles.occurrenceCard}\n            onPress={() => handleDateTimeCardPress(occurrence)}\n          >\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n            <View style={styles.occurrenceActions}>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => confirmDeleteOccurrence(occurrence.occurrence_id)}\n              >\n                <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => handleDateTimeCardPress(occurrence)}\n              >\n                <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n          </TouchableOpacity>\n        ) : (\n          <View key={index} style={styles.occurrenceCard}>\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n          </View>\n        )\n      ))}\n      \n      {canEdit() && (\n        <TouchableOpacity\n          style={styles.addOccurrenceButton}\n          onPress={() => {\n            setSelectedOccurrence(null);\n            setShowAddOccurrenceModal(true);\n          }}\n        >\n          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n          <Text style={styles.addOccurrenceText}>Add Occurrence</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  const handleDeleteOccurrence = async (occurrenceId) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      const updatedOccurrences = booking.occurrences.filter(occ => occ.occurrence_id !== occurrenceId);\n      \n      setBooking(prev => ({\n        ...prev,\n        occurrences: updatedOccurrences,\n        costs: calculateTotalCosts(updatedOccurrences)\n      }));\n      \n      handleStatusUpdateAfterEdit();\n    } catch (error) {\n      console.error('Error deleting occurrence:', error);\n      Alert.alert('Error', 'Failed to delete occurrence');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n      \n      setTimeout(() => {\n        setConfirmationModal({ \n          visible: false, \n          actionText: '', \n          onConfirm: null, \n          isLoading: false \n        });\n      }, 300);\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrenceId) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrenceId),\n      isLoading: false\n    });\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"Booking Details\"\n        onBackPress={() => handleBack(navigation)}\n      />\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      ) : !booking ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Unable to load booking details</Text>\n        </View>\n      ) : (\n        <ScrollView style={styles.container}>\n          <StatusBadge status={getDisplayValue(booking?.status, 'Pending Professional Changes')} />\n          \n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Booking Parties</Text>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Client: </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.clientName)}</Text>\n            </View>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Professional:  </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.professionalName)}</Text>\n            </View>\n          </View>\n\n          <View style={[styles.section, styles.petsSection]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Booking Pets</Text>\n              {renderEditButton()}\n            </View>\n            \n            {renderPetSelector()}\n          </View>\n\n          <View style={[styles.section, { zIndex: 2 }]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Service Details</Text>\n              {canEdit() && (\n                <TouchableOpacity \n                  onPress={toggleServiceEditMode}\n                  style={[styles.sectionEditButton, isServiceEditMode && styles.saveButton]}\n                  disabled={isServiceSaving}\n                  testID=\"edit-button\"\n                >\n                  {isServiceEditMode ? (\n                    isServiceSaving ? (\n                      <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n                    ) : (\n                      <Text style={styles.saveButtonText}>Save Service Details</Text>\n                    )\n                  ) : (\n                    <MaterialCommunityIcons \n                      name=\"pencil\"\n                      size={24} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </TouchableOpacity>\n              )}\n            </View>\n            {isServiceEditMode ? (\n              <View style={styles.serviceEditContainer}>\n                <View style={[styles.serviceInputRow, { zIndex: 3 }]}>\n                  <Text style={styles.inputLabel}>Service Type:</Text>\n                  <View style={styles.inputContainer}>\n                    {renderServiceTypeDropdown()}\n                  </View>\n                </View>\n              </View>\n            ) : (\n              <View style={styles.serviceDetailsContainer}>\n                <View style={styles.serviceDetailRow}>\n                  <Text style={styles.label}>Service Type: </Text>\n                  <Text style={styles.value}>{booking.service_details.service_type}</Text>\n                </View>\n              </View>\n            )}\n          </View>\n\n          <View style={[styles.section, styles.dateTimeSection]}>\n            {renderDateTimeSection()}\n          </View>\n\n          {renderCostBreakdown()}\n\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Cancellation Policy</Text>\n            <Text style={styles.policyText}>\n               No refund if canceled within 1 hour of booking start time{'\\n'}\n               50% refund if canceled between 1-24 hours before start time{'\\n'}\n               Full refund if canceled more than 24 hours before the booking\n            </Text>\n          </View>\n\n          {renderActionButtons()}\n\n          <RequestChangesModal\n            visible={showRequestChangesModal}\n            onClose={() => setShowRequestChangesModal(false)}\n            onSubmit={handleRequestChanges}\n            loading={actionLoading}\n          />\n        </ScrollView>\n      )}\n      <AddRateModal\n        visible={showAddRateModal}\n        onClose={() => setShowAddRateModal(false)}\n        onAdd={(newRate) => {\n          setEditedBooking(prev => ({\n            ...prev,\n            rates: {\n              ...prev.rates,\n              extraServices: [...(prev.rates.extraServices || []), newRate]\n            }\n          }));\n          recalculateTotals();\n          setShowAddRateModal(false);\n        }}\n      />\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => {\n          setShowAddOccurrenceModal(false);\n          setTimeout(() => {\n            setSelectedOccurrence(null);\n          }, 300);\n        }}\n        onAdd={selectedOccurrence ? \n          (updatedData) => handleSaveOccurrence({...updatedData, occurrence_id: selectedOccurrence.occurrence_id}) : \n          handleAddOccurrence}\n        defaultRates={booking?.rates}\n        initialOccurrence={selectedOccurrence}\n        isEditing={!!selectedOccurrence}\n      />\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: confirmationModal.actionText, \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  statusBadge: {\n    alignSelf: 'flex-start',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n  },\n  statusText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    position: 'relative',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n    fontWeight: '500',\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  text: {\n    fontSize: 16,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  totalRow: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 8,\n    marginTop: 8,\n  },\n  totalLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  policyText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  button: {\n    padding: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    padding: 8,\n    borderRadius: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  errorText: {  \n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  statusLabel: {\n    fontSize: 16,\n    marginRight: 8,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noContentText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  saveButtonText: {\n    color: 'white',\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editButton: {\n  },\n  editField: {\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  editableServiceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  removeServiceButton: {\n    marginLeft: 8,\n  },\n  editRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n    position: 'relative',\n  },\n  editInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    width: 80,\n    textAlign: 'right',\n  },\n  addRateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n  },\n  addRateText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    width: 150,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 4,\n    backgroundColor: theme.colors.surface,\n  },\n  timeDropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: '#FFFFFF',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    maxHeight: 200,\n    zIndex: 1001,\n    elevation: 5,\n    marginTop: 4,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: '#FFFFFF',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  bookingDatesSection: {\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  sectionSubtitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateTimeRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n  },\n  datePickerContainer: {\n    flex: 1,\n    marginRight: 10,\n  },\n  timePickerContainer: {\n    width: 120,\n  },\n  timePickerButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: '100%',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  rateSection: {\n    marginBottom: 20,\n    padding: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  rateSectionTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rateInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  rateInputGroup: {\n    flex: 1,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    fontSize: 14,\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  removeButton: {\n    padding: 4,\n  },\n  summarySection: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  rateHeaderRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n    paddingHorizontal: 4,\n  },\n  columnHeader: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountColumn: {\n    alignItems: 'flex-start',\n  },\n  rateActionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: 72,\n    gap: 8,\n  },\n  infoButton: {\n    padding: 4,\n  },\n  actionButtonsContainer: {\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    gap: 12,\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    padding: 16,\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n  },\n  reasonInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 16,\n    minHeight: 100,\n    textAlignVertical: 'top',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    gap: 12,\n  },\n  modalButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  submitButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  primaryButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  denyButton: {\n    backgroundColor: theme.colors.error,\n  },\n  serviceEditContainer: {\n    gap: 16,\n  },\n  serviceInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  inputContainer: {\n    width: 150, // Fixed width for dropdowns and number input\n  },\n  numberInput: {\n    height: 40,\n    width: 150, // Match the width of dropdowns\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    fontSize: 16,\n  },\n  serviceDetailsContainer: {\n    gap: 12,\n  },\n  serviceDetailRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  actionButton: {\n    padding: 8,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    minWidth: 140,  // Ensure enough width for the text\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '600',\n    fontSize: 14,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButtons: {\n    width: 72, // Approximate width of both buttons + gap\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginLeft: 20,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  occurrenceCostRow: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingVertical: 12,\n  },\n  occurrenceCostHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  occurrenceCostHeaderText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAndIcon: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  costSummary: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  expandedCostDetails: {\n    marginTop: 10,\n    paddingTop: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  costDetailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 4,\n  },\n  costDetailText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  sectionEditButton: {\n    padding: 8,\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  petDropdown: {\n    maxHeight: 200,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 8,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    zIndex: 1000,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownPetName: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  dropdownPetDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginTop: 2,\n  },\n  noPetsText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n  },\n  petsSection: {\n    zIndex: 3,\n    elevation: 3,\n  },\n  dateTimeSection: {\n    zIndex: 1,\n    elevation: 1,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n  },\n  clientName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  proName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceTypeLabel: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'normal',\n  },\n  petListTitle: {\n    fontSize: 16,\n    fontWeight: '900',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petInfo: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costBreakdownTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  costLabel: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateLabel: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateAmount: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailLabel: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailValue: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceCardDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  summaryText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingDetails;","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ActivityIndicator, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport ServiceManager from '../components/ServiceManager';\nimport AddServiceModal from '../components/AddServiceModal';\nimport { theme } from '../styles/theme';\nimport { DEFAULT_SERVICES } from '../data/mockData';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ServiceManagerScreen = () => {\n  const navigation = useNavigation();\n  const [services, setServices] = useState([]);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        setServices(DEFAULT_SERVICES);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        setIsLoading(false);\n      }\n    };\n\n    fetchServices();\n  }, []);\n\n  useEffect(() => {\n    const setRouteHistory = async () => {\n      const currentRoute = 'ServiceManager';\n      let previousRoute;\n\n      if (Platform.OS === 'web') {\n        previousRoute = sessionStorage.getItem('previousRoute');\n        sessionStorage.setItem('previousRoute', previousRoute || '');\n        sessionStorage.setItem('currentRoute', currentRoute);\n      } else {\n        previousRoute = await AsyncStorage.getItem('previousRoute');\n        await AsyncStorage.setItem('previousRoute', previousRoute || '');\n        await AsyncStorage.setItem('currentRoute', currentRoute);\n      }\n\n      if (!previousRoute) {\n        previousRoute = 'ProfessionalDashboard';\n        currentRoute = 'ServiceManager';\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('previousRoute', previousRoute || '');\n          sessionStorage.setItem('currentRoute', currentRoute);\n        } else {\n          await AsyncStorage.setItem('previousRoute', previousRoute || '');\n          await AsyncStorage.setItem('currentRoute', currentRoute);\n        }\n      }\n    };\n    setRouteHistory();\n  }, []);\n\n  const handleAddService = (newService) => {\n    setServices(prev => [...prev, newService]);\n    setHasUnsavedChanges(true);\n  };\n\n  if (isLoading) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => navigation.navigate('More')} \n        />\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} style={{ position: 'relative', zIndex: 1 }}>\n      <View style={{ position: 'relative', zIndex: 1 }}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => handleBack(navigation)} \n          style={{ zIndex: 1 }}\n        />\n      </View>\n      <View style={[styles.container, { marginTop: 20, position: 'relative', zIndex: 2 }]}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={false}\n        />\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 1,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyText: {\n    fontSize: 18,\n    color: theme.colors.text,\n    // marginBottom: 20,\n  },\n  addButton: {\n    paddingHorizontal: 20,\n  },\n});\n\nexport default ServiceManagerScreen; ","import React, { useState, useCallback } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  Image,\n  Platform,\n  TextInput\n} from 'react-native';\nimport { useTheme, Searchbar } from 'react-native-paper';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst BlogScreen = ({ navigation }) => {\n  const theme = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredPosts, setFilteredPosts] = useState(BLOG_POSTS);\n\n  const handleBack = () => {\n    navigation.navigate('More');\n  };\n\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n    const lowercaseQuery = query.toLowerCase();\n    const filtered = BLOG_POSTS.filter(post => \n      post.title.toLowerCase().includes(lowercaseQuery) ||\n      post.author.name.toLowerCase().includes(lowercaseQuery) ||\n      post.content.toLowerCase().includes(lowercaseQuery)\n    );\n    setFilteredPosts(filtered);\n  }, []);\n\n  const renderBlogPost = (post) => {\n    const truncatedContent = post.content.slice(0, 200) + '...';\n\n    return (\n      <TouchableOpacity\n        key={post.id}\n        style={[styles.blogCard, { backgroundColor: theme.colors.surface }]}\n        onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>{post.title}</Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}>  </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {truncatedContent}\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.map((tag, index) => (\n                <View \n                  key={index} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title=\"Blog\" \n        onBackPress={handleBack}\n      />\n      <View style={styles.searchBarContainer}>\n        {Platform.OS === 'web' ? (\n          <View style={[styles.searchBar, { backgroundColor: theme.colors.surface }]}>\n            <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.primary} />\n            <TextInput\n              placeholder=\"Search by title, author, or content\"\n              onChangeText={handleSearch}\n              value={searchQuery}\n              style={styles.webSearchInput}\n            />\n            {searchQuery ? (\n              <TouchableOpacity onPress={() => handleSearch('')}>\n                <MaterialCommunityIcons name=\"close-circle\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            ) : null}\n          </View>\n        ) : (\n          <Searchbar\n            placeholder=\"Search by title, author, or content\"\n            onChangeText={handleSearch}\n            value={searchQuery}\n            style={styles.searchBar}\n            icon=\"magnify\"\n            clearIcon=\"close-circle\"\n          />\n        )}\n      </View>\n      <ScrollView style={styles.scrollView}>\n        {filteredPosts.length > 0 ? (\n          filteredPosts.map(renderBlogPost)\n        ) : (\n          <View style={styles.noResultsContainer}>\n            <MaterialCommunityIcons \n              name=\"magnify-close\" \n              size={48} \n              color={theme.colors.secondary} \n            />\n            <Text style={[styles.noResultsText, { color: theme.colors.secondary }]}>\n              No blog posts found\n            </Text>\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  searchBarContainer: {\n    margin: 16,\n  },\n  searchBar: {\n    elevation: 4,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  searchInput: {\n    fontSize: 16,\n    color: theme.colors.text,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  blogCard: {\n    margin: 16,\n    padding: 16,\n    borderRadius: 12,\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 12,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noResultsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n  },\n  noResultsText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  webSearchInput: {\n    flex: 1,\n    padding: 8,\n    fontSize: 16,\n    color: theme.colors.text,\n    border: 'none',\n    backgroundColor: 'transparent',\n    WebkitTapHighlightColor: 'transparent',\n    outlineWidth: 0,\n    outlineStyle: 'none',\n    boxShadow: 'none',\n    borderColor: 'transparent',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogScreen;","import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  Linking,\n  Platform\n} from 'react-native';\nimport { useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\n\nconst BlogPost = ({ route, navigation }) => {\n  const [post, setPost] = useState(null);\n  const theme = useTheme();\n\n  // Validate post data structure\n  const isValidPost = (postData) => {\n    return postData && \n           typeof postData === 'object' && \n           postData.author && \n           typeof postData.author === 'object' &&\n           postData.author.name &&\n           postData.author.profilePicture &&\n           postData.author.bio &&\n           postData.title &&\n           postData.content &&\n           Array.isArray(postData.tags);\n  };\n\n  useEffect(() => {\n    const loadPost = async () => {\n      try {\n        // Try to get post from route params first\n        if (route?.params?.post && isValidPost(route.params.post)) {\n          setPost(route.params.post);\n          // Store the post data\n          if (Platform.OS === 'web') {\n            sessionStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          } else {\n            await AsyncStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          }\n          return;\n        }\n\n        // If no route params or invalid post, try to load from storage\n        let storedPost;\n        if (Platform.OS === 'web') {\n          storedPost = sessionStorage.getItem('currentBlogPost');\n        } else {\n          storedPost = await AsyncStorage.getItem('currentBlogPost');\n        }\n\n        if (storedPost) {\n          const parsedPost = JSON.parse(storedPost);\n          if (isValidPost(parsedPost)) {\n            setPost(parsedPost);\n            return;\n          }\n        }\n\n        // If no valid post found in storage, try to find it in BLOG_POSTS\n        if (route?.params?.postId) {\n          const foundPost = BLOG_POSTS.find(p => p.id === route.params.postId);\n          if (foundPost && isValidPost(foundPost)) {\n            setPost(foundPost);\n            return;\n          }\n        }\n\n        // If still no valid post, redirect to blog list\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      } catch (error) {\n        console.error('Error loading blog post:', error);\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      }\n    };\n\n    loadPost();\n  }, [route?.params]);\n\n  // If no post data is available, show an error state\n  if (!post || !isValidPost(post)) {\n    return (\n      <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n        <BackHeader \n          title=\"Blog Post\"\n          onBackPress={() => handleBack(navigation)}\n        />\n        <View style={styles.errorContainer}>\n          <MaterialCommunityIcons \n            name=\"alert-circle-outline\" \n            size={48} \n            color={theme.colors.error} \n          />\n          <Text style={[styles.errorText, { color: theme.colors.error }]}>\n            Blog post not found or invalid\n          </Text>\n          <TouchableOpacity\n            style={[styles.errorButton, { backgroundColor: theme.colors.primary }]}\n            onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost')}\n          >\n            <Text style={[styles.errorButtonText, { color: theme.colors.surface }]}>\n              Go to Blog List\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n\n  const handleReferencePress = (reference) => {\n    if (reference.url) {\n      Linking.openURL(reference.url);\n    } else if (reference.doi) {\n      Linking.openURL(`https://doi.org/${reference.doi}`);\n    }\n  };\n\n  return (\n    <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title={post.title}\n        onBackPress={() => handleBack(navigation)}\n      />\n      <ScrollView style={styles.container}>\n        <View style={styles.header}>\n          <View style={styles.authorContainer}>\n            <Image\n              source={{ uri: post.author.profilePicture }}\n              style={styles.authorImage}\n            />\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.authorBio}>{post.author.bio}</Text>\n              <View style={styles.postInfo}>\n                <Text style={styles.date}>{post.publishDate}</Text>\n                <Text style={styles.dot}>  </Text>\n                <Text style={styles.readTime}>{post.readTime}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.tags}>\n          {post.tags.map((tag, index) => (\n            <View \n              key={index} \n              style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n            >\n              <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n            </View>\n          ))}\n        </View>\n\n        <Text style={[styles.content, { color: theme.colors.text }]}>{post.content}</Text>\n\n        <View style={styles.stats}>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"heart-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.likes}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"comment-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.comments}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"share-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.shares}</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.references}>\n          <Text style={[styles.referencesTitle, { color: theme.colors.primary }]}>References</Text>\n          {post.references.map((reference, index) => (\n            <TouchableOpacity\n              key={index}\n              style={styles.reference}\n              onPress={() => handleReferencePress(reference)}\n            >\n              <Text style={styles.referenceText}>\n                {reference.authors} ({reference.year || 'n.d.'}). {reference.title}. {reference.publication}.\n                {reference.doi && ` DOI: ${reference.doi}`}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n  },\n  header: {\n    padding: 16,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  authorImage: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 12,\n  },\n  authorInfo: {\n    flex: 1,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorBio: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  postInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  date: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: 16,\n    paddingTop: 0,\n  },\n  tag: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    fontSize: 16,\n    lineHeight: 24,\n    padding: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#eee',\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  statText: {\n    marginLeft: 8,\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  references: {\n    padding: 16,\n  },\n  referencesTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  reference: {\n    marginBottom: 12,\n  },\n  referenceText: {\n    fontSize: 14,\n    color: '#444',\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  errorButtonText: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogPost;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { handleBack } from '../components/Navigation';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst Waitlist = () => {\n  const navigation = useNavigation();\n  const { screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  \n  // Form state\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [petInfo, setPetInfo] = useState('');\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [userType, setUserType] = useState('');\n  const [hesitations, setHesitations] = useState('');\n  const [desiredFeatures, setDesiredFeatures] = useState('');\n  const [newsletter, setNewsletter] = useState(false);\n  const [agreeToTerms, setAgreeToTerms] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [otherService, setOtherService] = useState('');\n  const [showOtherInput, setShowOtherInput] = useState(false);\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const services = [\n    'Pet Sitting',\n    'Grooming',\n    'Training',\n    'Veterinary Services',\n    'Farm/Homestead Care',\n    'Care Consulting',\n    'Other'\n  ];\n\n  const userTypes = [\n    'Pet owner in need of services',\n    'Care specialist (sitter, groomer, ferrier, fish tank cleaner, etc)',\n    'Both'\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !firstName || !lastName || !phone || !petInfo || selectedServices.length === 0 || !userType || !agreeToTerms) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const formData = {\n        firstName,\n        lastName,\n        email,\n        phone,\n        petInfo,\n        services: selectedServices.includes('Other') \n          ? [...selectedServices.filter(s => s !== 'Other'), `Other: ${otherService}`]\n          : selectedServices,\n        userType,\n        hesitations,\n        desiredFeatures,\n        newsletter,\n        agreeToTerms\n      };\n\n      await handleFormspreeSubmit(formData);\n\n      if (state.succeeded) {\n        // Reset form\n        setFirstName('');\n        setLastName('');\n        setEmail('');\n        setPhone('');\n        setPetInfo('');\n        setSelectedServices([]);\n        setOtherService('');\n        setShowOtherInput(false);\n        setUserType('');\n        setHesitations('');\n        setDesiredFeatures('');\n        setNewsletter(false);\n        setAgreeToTerms(false);\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleService = (service) => {\n    setSelectedServices(prev => {\n      if (service === 'Other') {\n        setShowOtherInput(!prev.includes('Other'));\n      }\n      return prev.includes(service)\n        ? prev.filter(s => s !== service)\n        : [...prev, service];\n    });\n  };\n\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader \n          title=\"Join Waitlist\" \n          onBackPress={() => handleBack(navigation)} \n        />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thank you for joining the CrittrCove waitlist!\n            </Text>\n            <Text style={styles.successMessage}>\n              Whether you're a pet owner looking for trusted pet services or a specialist offering your expertise, \n              you're now part of a community that supports independent animal specialists and small businesses.\n            </Text>\n            <Text style={styles.successMessage}>\n              As a waitlist member, you'll enjoy exclusive early access to the app, priority placement, \n              special gifts, and a unique profile badge to highlight your role as a founding member of CrittrCove.\n            </Text>\n            <Text style={styles.successMessage}>\n              Stay tuned for exciting updates!\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n      <BackHeader \n        title=\"Join Waitlist\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView style={styles.scrollView}>\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={styles.title}>Join the CrittrCove Waitlist!</Text>\n            <Text style={styles.description}>\n              Welcome to Critter Cove's early sign-up, the ultimate pet care marketplace for all petswhether furry, feathery, or scaly! \n              Our app connects local pet care specialists with pet owners, offering reliable and loving care for your beloved companions.\n            </Text>\n            <Text style={styles.description}>\n              By joining our waitlist, you'll gain early access to exclusive features, special gifts, and a profile badge as a founding member of the Critter Cove community.\n            </Text>\n\n            <View style={styles.formSection}>\n              <View style={styles.nameContainer}>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>First Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={firstName}\n                    onChangeText={setFirstName}\n                    placeholder=\"First Name\"\n                  />\n                </View>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>Last Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={lastName}\n                    onChangeText={setLastName}\n                    placeholder=\"Last Name\"\n                  />\n                </View>\n              </View>\n\n              <Text style={styles.label}>Email *</Text>\n              <TextInput\n                style={styles.input}\n                value={email}\n                onChangeText={setEmail}\n                placeholder=\"Email\"\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n              />\n\n              <Text style={styles.label}>Phone Number *</Text>\n              <TextInput\n                style={styles.input}\n                value={phone}\n                onChangeText={setPhone}\n                placeholder=\"Phone Number\"\n                keyboardType=\"phone-pad\"\n              />\n\n              <Text style={styles.label}>Do you currently own pets? If yes, tell us all about them! *</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={petInfo}\n                onChangeText={setPetInfo}\n                placeholder=\"Tell us about your pets\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What kind of pet care services are you most interested in? *</Text>\n              <View style={styles.checkboxGroup}>\n                {services.map((service) => (\n                  <View key={service}>\n                    <TouchableOpacity \n                      style={styles.checkboxContainer}\n                      onPress={() => toggleService(service)}\n                    >\n                      <MaterialCommunityIcons\n                        name={selectedServices.includes(service) ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                        size={24}\n                        color={theme.colors.primary}\n                        style={styles.checkboxIcon}\n                      />\n                      <Text style={styles.checkboxLabel}>{service}</Text>\n                    </TouchableOpacity>\n                    {service === 'Other' && selectedServices.includes('Other') && (\n                      <View style={styles.otherInputContainer}>\n                        <TextInput\n                          style={[styles.input, styles.otherInput]}\n                          value={otherService}\n                          onChangeText={setOtherService}\n                          placeholder=\"Please specify other service\"\n                        />\n                      </View>\n                    )}\n                  </View>\n                ))}\n              </View>\n\n              <Text style={styles.label}>Are you signing up as a: *</Text>\n              <View style={styles.radioGroup}>\n                {userTypes.map((type) => (\n                  <TouchableOpacity \n                    key={type}\n                    style={styles.radioContainer}\n                    onPress={() => setUserType(type)}\n                  >\n                    <View style={[styles.radio, userType === type && styles.radioSelected]} />\n                    <Text style={styles.radioLabel}>{type}</Text>\n                  </TouchableOpacity>\n                ))}\n              </View>\n\n              <Text style={styles.label}>What hesitations do you have about using an app to connect your to local pet care?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={hesitations}\n                onChangeText={setHesitations}\n                placeholder=\"Share your concerns\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What features or tools would make Critter Cove perfect for you?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={desiredFeatures}\n                onChangeText={setDesiredFeatures}\n                placeholder=\"Share your ideas\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setNewsletter(!newsletter)}\n              >\n                <MaterialCommunityIcons\n                  name={newsletter ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  Would you like to be added to the email newsletter for updates on the app, pet care tips, discounts and more? *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setAgreeToTerms(!agreeToTerms)}\n              >\n                <MaterialCommunityIcons\n                  name={agreeToTerms ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  I agree to the terms and conditions and understand my data will be used to improve the app experience. *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={[styles.submitButton, (isSubmitting || !agreeToTerms) && styles.disabledButton]}\n                onPress={handleSubmit}\n                disabled={isSubmitting || !agreeToTerms}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isSubmitting ? 'Submitting...' : 'Join Waitlist'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  description: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    lineHeight: 24,\n  },\n  formSection: {\n    width: '100%',\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    gap: 10,\n    marginBottom: 15,\n  },\n  nameField: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '500',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  textArea: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  checkboxGroup: {\n    marginBottom: 15,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 10,\n    paddingRight: 10,\n  },\n  checkboxIcon: {\n    marginRight: 10,\n  },\n  checkboxLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  radioGroup: {\n    marginBottom: 15,\n  },\n  radioContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  radio: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    marginRight: 10,\n  },\n  radioSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  radioLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  successMessage: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    marginBottom: 15,\n    lineHeight: 24,\n  },\n  otherInputContainer: {\n    paddingLeft: 34,\n    width: '100%',\n  },\n  otherInput: {\n    marginTop: 5,\n    marginBottom: 10,\n    width: '90%',\n  },\n});\n\nexport default Waitlist; ","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Provider as PaperProvider } from 'react-native-paper';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator, TransitionPresets } from '@react-navigation/stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Navigation from './src/components/Navigation';\nimport { theme } from './src/styles/theme';\nimport { AuthProvider, AuthContext } from './src/context/AuthContext';\nimport { API_BASE_URL } from './src/config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { createNavigationContainerRef } from '@react-navigation/native';\nimport { Linking } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from './src/components/Navigation';\n\n// Import all your screen components\nimport HomeScreen from './src/screens/HomeScreen';\nimport AboutScreen from './src/screens/AboutScreen';\nimport ClientProfile from './src/screens/ClientProfile';\nimport MyProfile from './src/screens/MyProfile';\nimport SignIn from './src/screens/SignIn';\nimport SignUp from './src/screens/SignUp';\nimport ResetPassword from './src/screens/ResetPassword';\nimport ResetPasswordConfirm from './src/screens/ResetPasswordConfirm';\nimport Dashboard from './src/screens/Dashboard';\nimport SearchProfessionals from './src/screens/SearchProfessionals';\nimport ProfessionalDashboard from './src/screens/ProfessionalDashboard';\nimport BecomeProfessional from './src/screens/BecomeProfessional';\nimport MoreScreen from './src/screens/MoreScreen';\nimport AvailabilitySettings from './src/screens/AvailabilitySettings';\n// import Messages from './src/screens/Messages';\nimport MyPets from './src/screens/MyPets';\nimport ClientHistory from './src/screens/ClientHistory';\nimport MessageHistory from './src/screens/MessageHistory';\nimport PaymentMethods from './src/screens/PaymentMethods';\nimport Settings from './src/screens/Settings';\nimport PrivacyPolicy from './src/screens/PrivacyPolicy';\nimport ProfessionalSettings from './src/screens/ProfessionalSettings';\nimport TermsOfService from './src/screens/TermsOfService';\nimport HelpFAQ from './src/screens/HelpFAQ';\nimport ContactUs from './src/screens/ContactUs';\nimport Clients from './src/screens/Clients';\nimport ProfessionalProfile from './src/screens/ProfessionalProfile';\nimport MyContracts from './src/screens/MyContracts';\nimport ChangePassword from './src/screens/ChangePassword';\nimport AddPet from './src/screens/AddPet';\nimport SearchProfessionalsListing from './src/screens/SearchProfessionalsListing';\nimport MyBookings from './src/screens/MyBookings';\nimport BookingDetails from './src/screens/BookingDetails';\nimport ServiceManagerScreen from './src/screens/ServiceManagerScreen';\nimport BlogScreen from './src/screens/BlogScreen';\nimport BlogPost from './src/screens/BlogPost';\nimport Waitlist from './src/screens/Waitlist';\n\nconst Stack = createStackNavigator();\nconst Tab = createBottomTabNavigator();\n\nconst screens = [\n  { name: 'Home', component: HomeScreen },\n  { name: 'About', component: AboutScreen },\n  { name: 'ClientProfile', component: ClientProfile },\n  { name: 'MyProfile', component: MyProfile },  \n  { name: 'SignIn', component: SignIn },\n  { name: 'SignUp', component: SignUp },\n  { name: 'ResetPassword', component: ResetPassword },\n  { name: 'ResetPasswordConfirm', component: ResetPasswordConfirm },\n  { name: 'Dashboard', component: Dashboard },\n  { name: 'SearchProfessionals', component: SearchProfessionals },\n  { name: 'SearchProfessionalsListing', component: SearchProfessionalsListing },\n  { name: 'ClientHistory', component: ClientHistory },\n  { name: 'MessageHistory', component: MessageHistory },\n  // { name: 'Messages', component: Messages },\n  { name: 'ProfessionalDashboard', component: ProfessionalDashboard },\n  { name: 'BecomeProfessional', component: BecomeProfessional },\n  { name: 'More', component: MoreScreen },\n  { name: 'Clients', component: Clients },\n  { name: 'AvailabilitySettings', component: AvailabilitySettings },\n  { name: 'MyPets', component: MyPets },\n  { name: 'PaymentMethods', component: PaymentMethods },\n  { name: 'Settings', component: Settings },\n  { name: 'PrivacyPolicy', component: PrivacyPolicy },\n  { name: 'ProfessionalSettings', component: ProfessionalSettings },\n  { name: 'TermsOfService', component: TermsOfService },\n  { name: 'HelpFAQ', component: HelpFAQ },\n  { name: 'ContactUs', component: ContactUs },\n  { name: 'ProfessionalProfile', component: ProfessionalProfile },\n  { name: 'MyContracts', component: MyContracts },\n  { name: 'ChangePassword', component: ChangePassword },\n  { name: 'AddPet', component: AddPet },\n  { name: 'MyBookings', component: MyBookings },\n  { name: 'BookingDetails', component: BookingDetails },\n  { name: 'ServiceManager', component: ServiceManagerScreen },\n  { name: 'Blog', component: BlogScreen },\n  { name: 'BlogPost', component: BlogPost },\n  { name: 'Waitlist', component: Waitlist },\n];\n\nconst linking = {\n  enabled: true,\n  prefixes: [\n    'https://staging.crittrcove.com',\n    'http://staging.crittrcove.com',\n    `${API_BASE_URL}`\n  ],\n  config: {\n    screens: {\n      Home: '*',  // This will catch all unmatched routes\n      About: 'about',\n      ClientProfile: 'client-profile',\n      MyProfile: 'my-profile',\n      SignIn: 'signin',\n      SignUp: 'signup',\n      ResetPassword: 'reset-password',\n      ResetPasswordConfirm: 'reset-password/:uid/:token',\n      Dashboard: 'dashboard',\n      SearchProfessionals: 'search-professionals',\n      SearchProfessionalsListing: 'search-professionals-listing',\n      ClientHistory: 'client-history',\n      MessageHistory: {\n        path: 'message-history',\n        parse: {\n          messageId: (messageId) => messageId || null,\n          senderName: (senderName) => senderName || 'Unknown User'\n        }\n      },\n      ProfessionalDashboard: 'professional-dashboard',\n      BecomeProfessional: 'become-professional',\n      More: 'more',\n      Clients: 'clients',\n      AvailabilitySettings: 'availability-settings',\n      MyPets: 'my-pets',\n      PaymentMethods: 'payment-methods',\n      Settings: 'settings',\n      PrivacyPolicy: 'privacy-policy',\n      ProfessionalSettings: 'professional-settings',\n      TermsOfService: 'terms-of-service',\n      HelpFAQ: 'help-faq',\n      ContactUs: 'contact-us',\n      ProfessionalProfile: {\n        path: 'professional-profile',\n        parse: {\n          professional: (professional) => undefined\n        }\n      },\n      MyContracts: 'my-contracts',\n      ChangePassword: 'change-password',\n      AddPet: {\n        path: 'add-pet',\n        parse: {\n          pet: () => undefined\n        }\n      },\n      MyBookings: 'my-bookings',\n      BookingDetails: 'booking-details',\n      ServiceManager: 'service-manager',\n      Blog: 'blog',\n      BlogPost: 'blog-post',\n      Waitlist: 'waitlist'\n    }\n  }\n};\n\n\nexport const navigationRef = createNavigationContainerRef();\n\nexport function navigate(name, params) {\n  if (navigationRef.isReady()) {\n    navigationRef.navigate(name, params);\n  }\n}\n\nfunction TabNavigator() {\n  return (\n    <Tab.Navigator tabBar={props => <Navigation {...props} />}>\n      {screens.map(screen => (\n        <Tab.Screen \n          key={screen.name}\n          name={screen.name} \n          component={screen.component} \n          options={{ headerShown: false }} \n        />\n      ))}\n    </Tab.Navigator>\n  );\n}\n\nconst MVPWarning = () => {\n  const [isVisible, setIsVisible] = useState(true);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const checkBannerStatus = async () => {\n      if (Platform.OS === 'web') {\n        const hidden = sessionStorage.getItem('mvp_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      } else {\n        const hidden = await AsyncStorage.getItem('mvp_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      }\n    };\n    checkBannerStatus();\n  }, []);\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('mvp_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('mvp_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <View style={styles.warningBanner}>\n      <View style={styles.warningContent}>\n        <TouchableOpacity \n          style={styles.closeButton}\n          onPress={hideBanner}\n        >\n          <Text style={styles.closeButtonText}></Text>\n        </TouchableOpacity>\n        <Text style={styles.warningText}>\n           MVP MODE: Features are still under development.\n        </Text>\n        <TouchableOpacity \n          style={styles.waitlistButton}\n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.waitlistButtonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nfunction AppContent() {\n  const { checkAuthStatus, is_DEBUG } = useContext(AuthContext);\n  const [initialRoute, setInitialRoute] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        const authStatus = await checkAuthStatus();\n        let route = 'Home';\n\n        // Only change route if user is authenticated\n        if (authStatus.isSignedIn) {\n          if (is_DEBUG) {\n            console.log('Auth status on init:', authStatus);\n          }\n          route = authStatus.userRole === 'professional' && authStatus.isApprovedProfessional\n            ? 'ProfessionalDashboard'\n            : 'Dashboard';\n        } else {\n          route = 'Home';\n        }\n\n        // For web platform\n        if (Platform.OS === 'web') {\n          const path = window.location.pathname;\n          \n          // If we're at the root path, use the route based on auth status\n          if (path === '/' || path === '') {\n            // route is already set based on auth status above\n          } else {\n            // Extract the route from the path\n            const routePath = path.slice(1).split('/')[0].toLowerCase();\n            if (routePath === 'home') {\n              // Use the route based on auth status\n            } else {\n              // Find the matching screen for the current path\n              const matchingScreen = screens.find(screen => \n                screen.name.toLowerCase() === routePath\n              );\n              if (matchingScreen) {\n                route = matchingScreen.name;\n              }\n            }\n          }\n        }\n\n        setInitialRoute(route);\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setInitialRoute('Home');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeApp();\n  }, []);\n\n  // Handle route changes without triggering auth checks\n  useEffect(() => {\n    if (!isLoading && initialRoute && Platform.OS !== 'web') {\n      AsyncStorage.setItem('lastRoute', initialRoute)\n        .catch(error => console.error('Error storing route:', error));\n    }\n  }, [initialRoute, isLoading]);\n\n  if (isLoading || !initialRoute) {\n    return null; // Or a loading spinner component\n  }\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('mvp_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('mvp_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  \n\n  return (\n    <NavigationContainer \n      ref={navigationRef}\n      linking={linking}\n      onStateChange={async (state) => {\n        if (Platform.OS !== 'web' && state?.routes?.length > 0) {\n          const currentRoute = state.routes[state.routes.length - 1].name;\n          await AsyncStorage.setItem('lastRoute', currentRoute)\n            .catch(error => console.error('Error storing route:', error));\n        }\n      }}\n    >\n      {isVisible && <MVPWarning />}\n      {Platform.OS === 'web' ? (\n        <Stack.Navigator\n          initialRouteName={initialRoute}\n          screenOptions={{\n            headerShown: true,\n            header: ({ navigation }) => <Navigation navigation={navigation} />,\n            ...TransitionPresets.SlideFromRightIOS,\n            presentation: 'card',\n            animation: 'slide_from_right'\n          }}\n        >\n          {screens.map(screen => (\n            <Stack.Screen \n              key={screen.name}\n              name={screen.name} \n              component={screen.component}\n              options={{\n                headerShown: true,\n                animation: 'slide_from_right'\n              }}\n            />\n          ))}\n        </Stack.Navigator>\n      ) : (\n        <TabNavigator />\n      )}\n    </NavigationContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  warningBanner: {\n    backgroundColor: '#ffebee',\n    padding: Platform.OS === 'web' ? 12 : 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ef5350',\n    width: '100%',\n    flexShrink: 0, // Prevent banner from shrinking\n  },\n  warningContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    gap: 10,\n    maxWidth: 1200,\n    marginHorizontal: 'auto',\n    width: '100%',\n  },\n  warningText: {\n    color: '#c62828',\n    textAlign: 'center',\n    fontSize: Platform.OS === 'web' ? 15 : 14,\n    flexShrink: 1,\n    flex: 1,\n    marginHorizontal: 15,\n  },\n  waitlistButton: {\n    backgroundColor: '#ef5350',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 20,\n    marginLeft: 'auto',\n  },\n  waitlistButtonText: {\n    color: 'white',\n    fontSize: Platform.OS === 'web' ? 14 : 13,\n    fontWeight: '600',\n  },\n  closeButton: {\n    width: 24,\n    height: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 5,\n  },\n  closeButtonText: {\n    color: '#c62828',\n    fontSize: 18,\n    fontWeight: '600',\n  },\n});\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <PaperProvider theme={theme}>\n        <AppContent />\n      </PaperProvider>\n    </AuthProvider>\n  );\n}\n\n","import React from 'react';\nimport { View } from 'react-native';\nimport { Text } from 'react-native-paper';\n\nexport default function AboutScreen() {\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <Text>About Screen</Text>\n    </View>\n  );\n}","var map = {\n\t\"./af\": 17582,\n\t\"./af.js\": 17582,\n\t\"./ar\": 93042,\n\t\"./ar-dz\": 54265,\n\t\"./ar-dz.js\": 54265,\n\t\"./ar-kw\": 92553,\n\t\"./ar-kw.js\": 92553,\n\t\"./ar-ly\": 85352,\n\t\"./ar-ly.js\": 85352,\n\t\"./ar-ma\": 67097,\n\t\"./ar-ma.js\": 67097,\n\t\"./ar-ps\": 76150,\n\t\"./ar-ps.js\": 76150,\n\t\"./ar-sa\": 84427,\n\t\"./ar-sa.js\": 84427,\n\t\"./ar-tn\": 7221,\n\t\"./ar-tn.js\": 7221,\n\t\"./ar.js\": 93042,\n\t\"./az\": 60458,\n\t\"./az.js\": 60458,\n\t\"./be\": 17596,\n\t\"./be.js\": 17596,\n\t\"./bg\": 93830,\n\t\"./bg.js\": 93830,\n\t\"./bm\": 27044,\n\t\"./bm.js\": 27044,\n\t\"./bn\": 58573,\n\t\"./bn-bd\": 13296,\n\t\"./bn-bd.js\": 13296,\n\t\"./bn.js\": 58573,\n\t\"./bo\": 25614,\n\t\"./bo.js\": 25614,\n\t\"./br\": 62041,\n\t\"./br.js\": 62041,\n\t\"./bs\": 91786,\n\t\"./bs.js\": 91786,\n\t\"./ca\": 75833,\n\t\"./ca.js\": 75833,\n\t\"./cs\": 52711,\n\t\"./cs.js\": 52711,\n\t\"./cv\": 71036,\n\t\"./cv.js\": 71036,\n\t\"./cy\": 84977,\n\t\"./cy.js\": 84977,\n\t\"./da\": 8770,\n\t\"./da.js\": 8770,\n\t\"./de\": 67342,\n\t\"./de-at\": 81566,\n\t\"./de-at.js\": 81566,\n\t\"./de-ch\": 87544,\n\t\"./de-ch.js\": 87544,\n\t\"./de.js\": 67342,\n\t\"./dv\": 82875,\n\t\"./dv.js\": 82875,\n\t\"./el\": 78536,\n\t\"./el.js\": 78536,\n\t\"./en-au\": 38617,\n\t\"./en-au.js\": 38617,\n\t\"./en-ca\": 79227,\n\t\"./en-ca.js\": 79227,\n\t\"./en-gb\": 59754,\n\t\"./en-gb.js\": 59754,\n\t\"./en-ie\": 37217,\n\t\"./en-ie.js\": 37217,\n\t\"./en-il\": 85418,\n\t\"./en-il.js\": 85418,\n\t\"./en-in\": 80800,\n\t\"./en-in.js\": 80800,\n\t\"./en-nz\": 67299,\n\t\"./en-nz.js\": 67299,\n\t\"./en-sg\": 76305,\n\t\"./en-sg.js\": 76305,\n\t\"./eo\": 8673,\n\t\"./eo.js\": 8673,\n\t\"./es\": 71301,\n\t\"./es-do\": 3187,\n\t\"./es-do.js\": 3187,\n\t\"./es-mx\": 48223,\n\t\"./es-mx.js\": 48223,\n\t\"./es-us\": 37634,\n\t\"./es-us.js\": 37634,\n\t\"./es.js\": 71301,\n\t\"./et\": 4976,\n\t\"./et.js\": 4976,\n\t\"./eu\": 11847,\n\t\"./eu.js\": 11847,\n\t\"./fa\": 74372,\n\t\"./fa.js\": 74372,\n\t\"./fi\": 41628,\n\t\"./fi.js\": 41628,\n\t\"./fil\": 56802,\n\t\"./fil.js\": 56802,\n\t\"./fo\": 42874,\n\t\"./fo.js\": 42874,\n\t\"./fr\": 9853,\n\t\"./fr-ca\": 87170,\n\t\"./fr-ca.js\": 87170,\n\t\"./fr-ch\": 22825,\n\t\"./fr-ch.js\": 22825,\n\t\"./fr.js\": 9853,\n\t\"./fy\": 68876,\n\t\"./fy.js\": 68876,\n\t\"./ga\": 93533,\n\t\"./ga.js\": 93533,\n\t\"./gd\": 82770,\n\t\"./gd.js\": 82770,\n\t\"./gl\": 98602,\n\t\"./gl.js\": 98602,\n\t\"./gom-deva\": 63059,\n\t\"./gom-deva.js\": 63059,\n\t\"./gom-latn\": 48212,\n\t\"./gom-latn.js\": 48212,\n\t\"./gu\": 23409,\n\t\"./gu.js\": 23409,\n\t\"./he\": 17210,\n\t\"./he.js\": 17210,\n\t\"./hi\": 4750,\n\t\"./hi.js\": 4750,\n\t\"./hr\": 51315,\n\t\"./hr.js\": 51315,\n\t\"./hu\": 47626,\n\t\"./hu.js\": 47626,\n\t\"./hy-am\": 91317,\n\t\"./hy-am.js\": 91317,\n\t\"./id\": 26892,\n\t\"./id.js\": 26892,\n\t\"./is\": 97577,\n\t\"./is.js\": 97577,\n\t\"./it\": 57628,\n\t\"./it-ch\": 3046,\n\t\"./it-ch.js\": 3046,\n\t\"./it.js\": 57628,\n\t\"./ja\": 92504,\n\t\"./ja.js\": 92504,\n\t\"./jv\": 25917,\n\t\"./jv.js\": 25917,\n\t\"./ka\": 64513,\n\t\"./ka.js\": 64513,\n\t\"./kk\": 94935,\n\t\"./kk.js\": 94935,\n\t\"./km\": 96661,\n\t\"./km.js\": 96661,\n\t\"./kn\": 89964,\n\t\"./kn.js\": 89964,\n\t\"./ko\": 98067,\n\t\"./ko.js\": 98067,\n\t\"./ku\": 61165,\n\t\"./ku-kmr\": 85158,\n\t\"./ku-kmr.js\": 85158,\n\t\"./ku.js\": 61165,\n\t\"./ky\": 11177,\n\t\"./ky.js\": 11177,\n\t\"./lb\": 2967,\n\t\"./lb.js\": 2967,\n\t\"./lo\": 81972,\n\t\"./lo.js\": 81972,\n\t\"./lt\": 58469,\n\t\"./lt.js\": 58469,\n\t\"./lv\": 33155,\n\t\"./lv.js\": 33155,\n\t\"./me\": 87935,\n\t\"./me.js\": 87935,\n\t\"./mi\": 74483,\n\t\"./mi.js\": 74483,\n\t\"./mk\": 32501,\n\t\"./mk.js\": 32501,\n\t\"./ml\": 73120,\n\t\"./ml.js\": 73120,\n\t\"./mn\": 20266,\n\t\"./mn.js\": 20266,\n\t\"./mr\": 19406,\n\t\"./mr.js\": 19406,\n\t\"./ms\": 80109,\n\t\"./ms-my\": 90864,\n\t\"./ms-my.js\": 90864,\n\t\"./ms.js\": 80109,\n\t\"./mt\": 22904,\n\t\"./mt.js\": 22904,\n\t\"./my\": 44067,\n\t\"./my.js\": 44067,\n\t\"./nb\": 21301,\n\t\"./nb.js\": 21301,\n\t\"./ne\": 81152,\n\t\"./ne.js\": 81152,\n\t\"./nl\": 76735,\n\t\"./nl-be\": 97761,\n\t\"./nl-be.js\": 97761,\n\t\"./nl.js\": 76735,\n\t\"./nn\": 37569,\n\t\"./nn.js\": 37569,\n\t\"./oc-lnc\": 20833,\n\t\"./oc-lnc.js\": 20833,\n\t\"./pa-in\": 3044,\n\t\"./pa-in.js\": 3044,\n\t\"./pl\": 34249,\n\t\"./pl.js\": 34249,\n\t\"./pt\": 87585,\n\t\"./pt-br\": 26826,\n\t\"./pt-br.js\": 26826,\n\t\"./pt.js\": 87585,\n\t\"./ro\": 62526,\n\t\"./ro.js\": 62526,\n\t\"./ru\": 62204,\n\t\"./ru.js\": 62204,\n\t\"./sd\": 43270,\n\t\"./sd.js\": 43270,\n\t\"./se\": 61541,\n\t\"./se.js\": 61541,\n\t\"./si\": 71921,\n\t\"./si.js\": 71921,\n\t\"./sk\": 49935,\n\t\"./sk.js\": 49935,\n\t\"./sl\": 46254,\n\t\"./sl.js\": 46254,\n\t\"./sq\": 59897,\n\t\"./sq.js\": 59897,\n\t\"./sr\": 42496,\n\t\"./sr-cyrl\": 11135,\n\t\"./sr-cyrl.js\": 11135,\n\t\"./sr.js\": 42496,\n\t\"./ss\": 32215,\n\t\"./ss.js\": 32215,\n\t\"./sv\": 84716,\n\t\"./sv.js\": 84716,\n\t\"./sw\": 50803,\n\t\"./sw.js\": 50803,\n\t\"./ta\": 31538,\n\t\"./ta.js\": 31538,\n\t\"./te\": 2302,\n\t\"./te.js\": 2302,\n\t\"./tet\": 25280,\n\t\"./tet.js\": 25280,\n\t\"./tg\": 14100,\n\t\"./tg.js\": 14100,\n\t\"./th\": 95385,\n\t\"./th.js\": 95385,\n\t\"./tk\": 736,\n\t\"./tk.js\": 736,\n\t\"./tl-ph\": 79726,\n\t\"./tl-ph.js\": 79726,\n\t\"./tlh\": 41873,\n\t\"./tlh.js\": 41873,\n\t\"./tr\": 36463,\n\t\"./tr.js\": 36463,\n\t\"./tzl\": 27491,\n\t\"./tzl.js\": 27491,\n\t\"./tzm\": 29500,\n\t\"./tzm-latn\": 80196,\n\t\"./tzm-latn.js\": 80196,\n\t\"./tzm.js\": 29500,\n\t\"./ug-cn\": 91287,\n\t\"./ug-cn.js\": 91287,\n\t\"./uk\": 35341,\n\t\"./uk.js\": 35341,\n\t\"./ur\": 36246,\n\t\"./ur.js\": 36246,\n\t\"./uz\": 55550,\n\t\"./uz-latn\": 77254,\n\t\"./uz-latn.js\": 77254,\n\t\"./uz.js\": 55550,\n\t\"./vi\": 78796,\n\t\"./vi.js\": 78796,\n\t\"./x-pseudo\": 22736,\n\t\"./x-pseudo.js\": 22736,\n\t\"./yo\": 28621,\n\t\"./yo.js\": 28621,\n\t\"./zh-cn\": 67601,\n\t\"./zh-cn.js\": 67601,\n\t\"./zh-hk\": 39053,\n\t\"./zh-hk.js\": 39053,\n\t\"./zh-mo\": 71248,\n\t\"./zh-mo.js\": 71248,\n\t\"./zh-tw\": 74725,\n\t\"./zh-tw.js\": 74725\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"aaed7a5a\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [619], () => (__webpack_require__(55819)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["theme","Object","assign","DefaultTheme","fonts","regular","fontFamily","header","typography","body","colors","mainColors","main","secondary","tertiary","quaternary","quinary","senary","primary","background","backgroundContrast","calendarColor","calendarColorYellowBrown","text","whiteText","placeHolderText","accent","error","surface","border","inputBackground","receivedMessage","danger","fontSizes","small","smallMedium","medium","mediumLarge","large","largeLarge","extraLarge","spacing","API_BASE_URL","stripeInstance","initStripe","async","loadStripe","stripe","undefined","Error","getStripeModule","SCREEN_WIDTH","Dimensions","get","width","AuthContext","height","createContext","getStorage","sessionStorage","getItem","key","console","AuthProvider","children","isSignedIn","setIsSignedIn","useState","userRole","setUserRole","isApprovedProfessional","setIsApprovedProfessional","loading","setLoading","screenWidth","setScreenWidth","firstName","setFirstName","is_prototype","setIsPrototype","is_DEBUG","setIsDebug","useEffect","subscription","addEventListener","handleDimensionsChange","window","remove","AsyncStorage","multiSet","checkAuthStatus","fetchUserName","loadInitialAuth","token","response","axios","concat","headers","Authorization","data","first_name","message","storedRole","storedApproval","log","isApproved","role","loadAuthState","getProfessionalStatus","is_approved","setItem","String","suggestedRole","signOut","multiRemove","removeItem","setTimeout","navigate","currentPath","location","pathname","slice","isHomePage","toLowerCase","refreshToken","currentToken","isValid","post","status","validateToken","newToken","mockNewToken","refresh","access","refreshUserToken","newRole","_jsx","Provider","value","signIn","refreshTokenValue","initialRole","switchRole","previousRoute","currentRoute","handleBack","navigation","navigateToFrom","toLocation","fromLocation","params","Navigation","visible","setVisible","isMobile","setIsMobile","useTheme","useContext","closeMenu","updateLayout","handleNavigation","screenName","initialRoute","initializeRouteTracking","renderMenuItems","title","icon","route","_Fragment","_jsxs","Appbar","Header","style","styles","backgroundColor","View","titleContainer","flex","TouchableOpacity","onPress","Text","color","titleContainer2","navLinkContainer","MaterialCommunityIcons","name","size","fontWeight","marginLeft","fontSize","Menu","onDismiss","anchor","Action","openMenu","map","item","index","Item","titleStyle","desktopNav","webNavItem","webNavText","StyleSheet","create","container","display","content","justifyContent","flexDirection","textAlign","alignItems","navItem","marginHorizontal","cursor","customNavBar","position","bottom","left","right","paddingVertical","borderTopWidth","borderTopColor","navButton","paddingHorizontal","navText","marginTop","padding","maxWidth","marginRight","marginBottom","mobileContainer","mobileItemContainer","mobileMarker","mobileMilestoneTitle","mobileDashedLine","borderStyle","borderWidth","borderColor","webContainer","dashedLine","top","webMarker","transform","translateX","webMilestoneTitle","markerContainer","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalOverlay","modalContent","modalIconContainer","modalNumber","modalTitle","modalDescription","lineHeight","closeButton","closeButtonText","RoadmapSection","selectedMilestone","setSelectedMilestone","modalVisible","setModalVisible","roadmapData","id","description","handleMilestonePress","milestone","length","FontAwesome5","Modal","transparent","animationType","onRequestClose","number","BOOKING_STATES","DRAFT","PENDING_INITIAL_PROFESSIONAL_CHANGES","PENDING_PROFESSIONAL_CHANGES","PENDING_CLIENT_APPROVAL","CONFIRMED","CONFIRMED_PENDING_PROFESSIONAL_CHANGES","CONFIRMED_PENDING_CLIENT_APPROVAL","COMPLETED","DENIED","CANCELLED","PROFESSIONAL_EDITABLE_STATES","ALL_SERVICES","SERVICE_TYPES","TIME_OPTIONS","mockAdditionalRates","amount","mockServicesForCards","startingPrice","animalTypes","additionalRates","GENERAL_CATEGORIES","mockPets","animal_type","breed","age","months","years","weight","sex","friendlyWithChildren","friendlyWithCats","friendlyWithDogs","spayedNeutered","houseTrained","microchipped","adoptionDate","energyLevel","feedingSchedule","leftAlone","medication","additionalInstructions","vetName","vetAddress","vetPhone","insuranceProvider","vetDocuments","galleryImages","mockProfessionals","profilePicture","require","reviews","price","bio","coordinates","latitude","longitude","serviceTypes","mockClients","pet_types","last_booking","pets","email","phone","address","sharedBookingDetails","booking_id","client_name","professional_name","service_details","service_type","pet_id","species","occurrences","occurrence_id","start_date","end_date","start_time","end_time","calculated_cost","base_total","rates","base_rate","additional_animal_rate","additional_animal_rate_applies","applies_after","unit_of_time","holiday_rate","holiday_days","additional_rates","cost_summary","subtotal","platform_fee","taxes","total_client_cost","total_sitter_payout","is_prorated","mockBookingDetails","clientName","startDate","startTime","createBooking","values","booking","date","time","serviceType","numberOfPets","totalCost","costs","totalClientCost","professionalPayout","clientId","freelancerId","initialData","newBookingId","Date","now","newBooking","professionalName","animalType","duration","baseRate","additionalPetRate","extraServices","baseTotal","additionalPetTotal","extraServicesTotal","clientFee","created_at","toISOString","updated_at","bookingId","allBookings","keys","Promise","resolve","CURRENT_USER_ID","mockConversations","participant1_id","participant2_id","role_map","participant1_role","participant2_role","lastMessage","timestamp","unread","mockMessages","message_id","sender","is_booking_request","metadata","type","endDate","endTime","DEFAULT_SERVICES","serviceName","additionalAnimalRate","SERVICE_TYPE_SUGGESTIONS","ANIMAL_TYPE_SUGGESTIONS","BLOG_POSTS","author","publishDate","readTime","tags","references","authors","publication","url","year","doi","likes","comments","shares","windowWidth","windowHeight","image","ReviewImage","source","src","alt","scrollView","contentContainer","paddingBottom","heroSection","overflow","heroImage","heroText","textShadowColor","textShadowOffset","textShadowRadius","section","sectionTitle","card","appButtons","appButton","reviewsSection","reviewsBackground","reviewsOverlay","reviewsSubtitle","reviewsTitle","reviewsContainer","overflowX","WebkitOverflowScrolling","msOverflowStyle","scrollbarWidth","scrollbarColor","reviewsContent","minWidth","gap","reviewCard","reviewCardMobile","reviewQuote","reviewText","reviewAuthorContainer","reviewerImage","objectFit","reviewAuthorName","reviewAuthorTitle","paginationDots","paginationDot","margin","paginationDotActive","featuresSection","toggleContainer","toggleButton","toggleButtonActive","toggleButtonText","toggleButtonTextActive","featuresContainer","featureColumn","columnTitle","featuresList","featureItem","featureIconCircle","featureIcon","featureTitle","featureText","actionButton","buttonContainer","buttonText","blogSection","blogCard","authorContainer","authorImage","blogContent","authorInfo","authorName","dot","preview","flexWrap","tag","tagText","stats","stat","statText","roadmapSection","roadmapImage","roadmapOverlayText","faqSection","faqItem","faqButton","faqQuestion","faqToggle","faqAnswer","contactSection","contactContainer","input","footer","socialIconsRow","socialIcon","footerLinksRow","footerLink","textDecorationLine","successMessage","messageInput","textAlignVertical","paddingTop","disabledButton","opacity","validationError","starsContainer","starIcon","waitlistSection","marginVertical","waitlistDescription","waitlistButton","scrollIndicators","scrollIndicatorButton","scrollIndicator","scrollIndicatorActive","scrollHint","scrollHintText","scrollContainer","scrollContent","serviceHighlightsSection","mainServiceTitle","servicesGrid","scrollViewContent","flexGrow","alignSelf","switchProfileButton","profileHeader","sectionSaveButton","borderBottomWidth","borderBottomColor","bioInput","petItem","petName","petInfo","petDetails","placeholder","saveButton","addButton","profilePhoto","profilePhotoPlaceholder","centered","sectionHeader","fieldText","iconContainer","petItemContent","petPhoto","modalContainer","modalText","webPopup","zIndex","webPopupTitle","webPopupText","profileInfo","headerLeft","backButton","headerText","ClientProfile","useNavigation","useWindowDimensions","setProfilePhoto","setName","setEmail","setPhone","setAge","setAddress","city","setCity","state","setState","zip","setZip","country","setCountry","setBio","setPets","emergencyContact","setEmergencyContact","authorizedHouseholdMembers","setAuthorizedHouseholdMembers","isLoading","setIsLoading","editMode","setEditMode","showAuthorizedMembersInfo","setShowAuthorizedMembersInfo","popupPosition","setPopupPosition","questionMarkRef","useRef","scrollViewRef","localIsApprovedProfessional","setLocalIsApprovedProfessional","photo","then","storedIsApprovedProfessional","JSON","parse","fetchProfessionalStatus","toggleEditMode","prevState","renderEditableField","label","onChangeText","TextInput","renderIcon","Ionicons","renderSaveButton","Button","mode","Alert","alert","saveSection","showSwitchToProfessionalButton","SafeAreaView","handleSwitchToProfessional","ScrollView","ref","contentContainerStyle","result","ImagePicker","launchImageLibraryAsync","mediaTypes","Images","allowsEditing","aspect","quality","canceled","assets","uri","Image","multiline","numberOfLines","pet","petId","showAuthorizedMembersPopup","current","measure","fx","fy","px","py","_","__","___","____","scrollViewX","scrollViewY","member","household","updateHouseholdMember","updatedMembers","addHouseholdMember","Portal","floatingButtonContainer","webButton","mobileButton","floatingButton","FloatingSaveButton","onSave","btnText","maxHeight","modalScroll","inputWrapper","inputError","inputLabel","categoryInput","paddingRight","timeInput","selectedText","placeholderText","categoryDropdownContainer","categoryScrollView","categoryItem","categoryText","checkmarkContainer","suggestionsContainer","suggestionScrollView","suggestionText","timeDropdownContainer","timeDropdownItem","timeDropdownText","selectedTimeOption","descriptionInput","additionalRateRow","additionalRateTitle","deleteRateButton","deleteRateButtonText","addRateButton","addRateText","modalButtons","saveButtonText","cancelButton","cancelButtonText","AddServiceModal","onClose","initialService","setHasUnsavedChanges","currentService","setCurrentService","serviceDescription","holidayRate","lengthOfService","categories","setAdditionalRates","showValidationErrors","setShowValidationErrors","showServiceDropdown","setShowServiceDropdown","showAnimalDropdown","setShowAnimalDropdown","showTimeDropdown","setShowTimeDropdown","showCategoryDropdown","setShowCategoryDropdown","selectedCategories","setSelectedCategories","serviceDropdownPosition","setServiceDropdownPosition","animalDropdownPosition","setAnimalDropdownPosition","categoryDropdownPosition","setCategoryDropdownPosition","serviceInputRef","animalInputRef","categoryInputRef","timeInputRef","categoryDropdownRef","animalDropdownRef","serviceDropdownRef","timeDropdownRef","handleClickOutside","event","contains","target","document","removeEventListener","measureDropdown","inputRef","setPosition","inputType","x","y","pageX","pageY","updateAdditionalRate","prev","rate","i","resetForm","join","nestedScrollEnabled","showsVerticalScrollIndicator","persistentScrollbar","category","includes","filter","c","handleCategorySelect","trim","placeholderTextColor","onFocus","suggestion","option","keyboardType","replace","idx","prevRates","addAdditionalRate","serviceToSave","serviceCard","topRow","topRowIcons","iconButton","contentRow","collapsedContent","rateText","collapseButton","ProfessionalServiceCard","isCollapsed","onEdit","onDelete","onToggleCollapse","button","confirmButton","confirmButtonText","disabledText","ConfirmationModal","onConfirm","actionText","disabled","ActivityIndicator","serviceListContainer","headerButtons","headerActions","headerButton","buttonTooltip","portalTooltip","tooltipText","emptyContainer","emptyText","addButtonText","ServiceManager","services","setServices","isProfessionalTab","showModal","setShowModal","editingService","setEditingService","collapsedServices","setCollapsedServices","allCollapsed","setAllCollapsed","showDeleteModal","setShowDeleteModal","serviceToDelete","setServiceToDelete","hoveredButton","setHoveredButton","tooltipPosition","setTooltipPosition","collapseTooltipPosition","setCollapseTooltipPosition","buttonRef","collapseButtonRef","showTooltip","rect","getBoundingClientRect","toggleCollapseAll","onMouseEnter","onMouseLeave","Array","isArray","FlatList","renderItem","service","serviceToEdit","handleEditService","handleDeleteService","toggleCollapse","warn","keyExtractor","updatedService","confirmDelete","prevServices","RecordedPets","EditableSection","getContentWidth","centeredContent","portfolioGrid","portfolioCard","portfolioImageContainer","aspectRatio","portfolioPhoto","borderTopLeftRadius","borderTopRightRadius","portfolioCaption","facilitiesContainer","facilityTag","facilityTagSelected","facilityTagText","facilityTagTextSelected","modalHeader","modalFacilityTag","modalFacilityText","modalFooter","modalButton","modalButtonText","modalButtonText2","ProfessionalTab","professionalPhoto","setProfessionalPhoto","professionalBio","setProfessionalBio","portfolioPhotos","setPortfolioPhotos","facilities","setFacilities","skills","setSkills","certifications","experience","specialties","selectedFacilities","setSelectedFacilities","facilitiesModalVisible","setFacilitiesModalVisible","tempSelectedFacilities","setTempSelectedFacilities","FACILITY_OPTIONS","allowsMultipleSelection","selectionLimit","newPhotos","asset","toString","Math","random","substr","caption","openFacilitiesModal","facilityId","facility","find","f","toggleTempFacility","saveFacilities","webDatePicker","androidButton","dateText","DatePicker","onChange","displayFormat","showDatePicker","setShowDatePicker","e","rightButton","BackHeader","onBackPress","rightIcon","onRightPress","rightComponent","customStyles","minHeight","CrossPlatformView","useSafeArea","fullWidthHeader","contentWidth","setWindowWidth","updateDimensions","headerContent","mainContent","tabContainer","tab","activeTab","tabText","activeTabText","lastSection","fieldContainer","fieldLabel","birthdayContainer","ageText","MyProfile","professional","portfolio","setActiveTab","setRates","inHouse","overnight","dropBys","boarding","dayCare","photoNeedsSaving","setPhotoNeedsSaving","hasUnsavedChanges","birthday","setBirthday","calculatedAge","setCalculatedAge","fetchMyProfileData","isBio","updateBirthday","fetch","method","stringify","json","maxLeftPosition","calculatedLeft","popupWidth","safeLeft","min","max","saveChanges","CustomButton","invalidInput","link","prototypeWarning","screenHeight","safeArea","cardContainer","quickActions","quickActionButton","bookingItem","Dashboard","isLargeScreen","dynamicStyles","headerTitle","cardTitle","cardParagraph","listItemTitle","listItemDescription","upcomingBookings","profepsronalsional","IconComponent","_ref","props","_objectWithoutPropertiesLoose","_excluded","Content","Card","Title","Paragraph","List","descriptionStyle","Actions","labelStyle","SearchProfessionals","setStartDate","setEndDate","showStartDatePicker","setShowStartDatePicker","showEndDatePicker","setShowEndDatePicker","setLocation","setAnimalType","exoticType","setExoticType","setServiceType","petCount","setPetCount","dogs","cats","exotics","repeatService","setRepeatService","showServicePicker","setShowServicePicker","showAnimalTypePicker","setShowAnimalTypePicker","showRepeatServicePicker","setShowRepeatServicePicker","filtersContainer","picker","filterInput","filterButton","filterText","petCountContainer","petCounter","petType","counterControls","searchButton","searchButtonText","datePickerContainer","webHeader","renderDatePicker","setDate","showPicker","setShowPicker","split","renderPicker","selectedValue","setSelectedValue","options","Picker","onValueChange","itemValue","goBack","KeyboardAvoidingView","behavior","charAt","toUpperCase","searchButtonDisabled","Location","requestForegroundPermissionsAsync","userLocation","getCurrentPositionAsync","coords","latitudeDelta","longitudeDelta","searchParams","initialProfessionals","loadingContainer","emptyStateContainer","createServiceButton","ProfessionalDashboard","setUpcomingBookings","emptyStateText","prototypeBookings","client","fetchDashboardData","upcoming_bookings","retryError","navigateToServiceManager","checkboxContainer","petButton","selectedPetButton","petButtonText","selectedPetButtonText","textInput","certificationText","uploadButton","uploadText","submitButton","submitButtonText","loadingIndicator","subtitle","uploadedFileContainer","uploadedFilePreview","removeFileButton","BecomeProfessional","selectedPets","setSelectedPets","dog","cat","about","setAbout","setCertifications","insuranceProof","setInsuranceProof","isSubmitting","setIsSubmitting","initializeNavigation","handleBackPress","togglePetSelection","base64","newCertification","pop","cert","removeCertification","newProof","proof","removeInsuranceProof","confirm","logoutButtonContainer","logoutButton","switchRoleButtonContainer","switchRoleButton","webContent","webListSection","webListItem","webButtonContainer","MoreScreen","initializeRoutes","handleLogout","handleSwitchRole","newRoute","menuItems","items","lightGrey","removeButton","serviceContainer","reason","textSecondary","seeMoreButton","seeMoreText","modalTime","serviceItem","cardContent","timeContainer","timeText","editButton","fullWidth","timeButton","compactTimeButton","webInputContainer","webInput","outline","webIcon","pointerEvents","errorBorder","errorText","errorMessage","TimePicker","containerStyle","React","toTimeString","SCREEN_HEIGHT","switchContainer","availabilityButton","availableButton","unavailableButton","availabilityButtonText","timePickerContainer","webTimePicker","unavailableTimesContainer","customDropdown","dropdownContainer","dropdownScroll","dropdownItem","dropdownText","selectedOption","dropdownItemContent","activeToggle","toggleText","activeToggleText","bookingsList","emptyState","contentScrollView","availabilityControls","bookingsContainer","unavailableTimesWrapper","bookingsWrapper","selectedDatesText","ALL_DAYS","DAYS_OF_WEEK","settingContainer","dayContainer","selectedTab","selectedTabText","daySettingsContainer","settingRow","enabledText","DefaultSettingsModal","isVisible","defaultSettings","selectedDays","setSelectedDays","settings","setSettings","Monday","isAllDay","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","showTimePicker","setShowTimePicker","isCurrentlyUnavailable","setIsCurrentlyUnavailable","showDayDropdown","setShowDayDropdown","fadeAnim","Animated","Value","slideAnim","handleClose","parallel","timing","toValue","useNativeDriver","start","spring","tension","friction","dropdownButton","getElementById","handleAvailabilityChange","makeAvailable","daysToUpdate","day","newSettings","forEach","isUnavailable","renderTimePicker","checkCurrentAvailability","days","some","translateY","d","withoutAll","handleDaySelection","renderDaySettings","daySettings","Switch","newTime","overlay","handleContainer","handle","headerMinimized","headerCenter","statusText","actionButtonText","timeToggleContainer","customToggle","toggleButtonInactive","timeSection","serviceSection","serviceSelector","serviceSelectorText","serviceSelectorError","AvailabilityBottomSheet","selectedDates","currentAvailability","onViewUnavailableTimes","onMinimize","setStartTime","setEndTime","selectedServices","setSelectedServices","setIsAllDay","setError","isMinimized","setIsMinimized","animatedHeight","animatedOpacity","slideAnimation","getAvailabilityStatus","dateAvailability","isAvailable","unavailableTimes","validateAndSave","format","toggleMinimized","newMinimizedState","containerHeight","interpolate","inputRange","outputRange","getStatusColor","success","warning","s","timesList","timeSlotContainer","dateHeader","timeSlotContent","bookingContent","timeAndReason","reasonText","bookingButton","UnavailableTimesModal","onRemoveTimeSlot","bookings","formatTime","hours","minutes","setHours","parseInt","getUnavailableTimes","allTimes","processedTimes","Set","dateBookings","timeKey","has","push","isBooking","add","sort","a","b","localeCompare","renderActionButton","handleBookingPress","renderTimeSlot","formattedDate","formattedStartTime","formattedEndTime","mainContainer","bottomSheetOverlay","centeredContainer","defaultSettingsButton","defaultSettingsText","colorKeyContainer","colorKeyTitle","colorKeyItem","colorBox","colorKeyText","loadingText","errorContainer","retryButton","retryButtonText","bottomSheetContainer","AvailabilitySettings","markedDates","setMarkedDates","setSelectedDates","isAddModalVisible","setIsAddModalVisible","isSettingsModalVisible","setIsSettingsModalVisible","defaultAvailability","setDefaultAvailability","setCurrentAvailability","setBookings","setDefaultSettings","showBottomSheet","setShowBottomSheet","showUnavailableTimesModal","setShowUnavailableTimesModal","isClosing","setIsClosing","isBottomSheetMinimized","setIsBottomSheetMinimized","availableDates","unavailableDates","updateMarkedDates","combinedAvailability","err","loadAvailabilityData","newMarkedDates","entries","isFullDay","allServicesSelected","bookingList","marked","dotColor","toggleBottomSheet","show","Calendar","reduce","acc","selected","borderBottomLeftRadius","borderBottomRightRadius","markingType","week","paddingLeft","onDayPress","dateString","selectedDate","getDate","firstDate","getTime","range","currentDate","renderArrow","direction","iconName","availabilityData","newCurrentAvailability","dates","handleAddAvailability","onViewBookings","handleViewBookings","initialTab","minimized","handleRemoveTimeSlot","timeSlot","updatedAvailability","currentDateAvailability","filteredTimes","today","oneYearFromNow","getFullYear","getMonth","daysMapping","UTC","targetDayNumber","currentDayNumber","getUTCDay","setUTCDate","getUTCDate","applyDefaultSettingsToCalendar","contentWrapper","petCard","scale","petCardContent","petImage","petImagePlaceholder","MyPets","fetchPets","PetCard","history","replaceState","getAnimalIcon","androidContainer","StatusBar","currentHeight","messageButtonContainer","messageButton","ClientHistory","clientData","contracts","invoices","contract","invoice","validateDateTimeRange","startHour","startMinute","Number","endHour","endMinute","startDateTime","endDateTime","ANIMAL_COUNT_OPTIONS","ScrollableContent","className","dateTimeSection","dateTimeContainer","dateTimeColumn","topSpacing","rateRow","rateInput","rateAmountContainer","rateAmountInput","addRateButtonText","inputContainer","dollarSign","rateLabelContainer","rateTitleLabel","rateAmountLabel","rateContainer","baseRateInput","timeUnitInput","totalSection","totalLabel","totalAmount","selectedDropdownText","pickerItem","AddOccurrenceModal","onAdd","defaultRates","hideRates","initialOccurrence","isEditing","createTimeDate","timeStr","setMinutes","occurrence","setOccurrence","appliesAfterAnimals","timeUnit","getHours","setTimeUnit","showAddRate","setShowAddRate","newRate","setNewRate","setValidationError","calculateTotal","parseFloat","toFixed","sum","platformFee","rateSection","editable","handleDeleteRate","handleAddRate","handleSubmit","validation","occurrenceData","handleAdd","serviceOptions","serviceButton","petOptions","dateContainer","timePickerWrapper","dropdownInput","dropdownList","addPetButton","addPetText","occurrenceCard","occurrenceDetails","addOccurrenceButton","addOccurrenceText","occurrenceActions","bookingRequestCard","bookingRequestHeader","bookingRequestTitle","bookingRequestDetails","detailLabel","detailText","acceptButton","acceptButtonText","occurrenceCardError","RequestBookingModal","onSubmit","selectedService","setSelectedService","showPetDropdown","setShowPetDropdown","showAddOccurrenceModal","setShowAddOccurrenceModal","setOccurrences","selectedOccurrence","setSelectedOccurrence","confirmationModal","setConfirmationModal","occurrenceErrors","setOccurrenceErrors","confirmDeleteOccurrence","occ","occurrenceToDelete","handleDeleteOccurrence","handleOpenOccurrenceModal","p","petDropdown","dropdownPetName","dropdownPetDetails","renderOccurrenceCard","occs","errors","validateOccurrences","bookingRequestMessage","newOccurrence","MessageHistory","headerContainer","conversationListContainer","borderRightWidth","conversationItem","selectedConversation","borderLeftWidth","borderLeftColor","conversationName","messageSection","messagesContainer","messageList","messageInputContainer","attachButton","sendButton","messageCard","messageContent","sentMessage","messageText","sentMessageContainer","receivedMessageContainer","senderAbove","sentSenderName","receivedSenderName","timestampBelow","sentTimestamp","receivedTimestamp","sentMessageText","receivedMessageText","appearance","touchAction","WebkitTapHighlightColor","WebkitUserSelect","userSelect","conversationContent","conversationHeader","conversationTime","conversationLastMessage","unreadMessage","bookingStatusContainer","bookingStatus","requestBookingButton","requestBookingLabel","messageListContainer","inputInnerContainer","attachButtonContainer","dropdownMenu","activeConversationText","mobileMessageView","backButtonText","mobileHeader","mobileContent","sendButtonMobile","messageHeader","messageHeaderName","mobileHeaderContent","mobileHeaderName","backArrow","sentBookingRequest","receivedBookingRequest","viewBookingButton","viewBookingText","statusContainer","createStyles","isLoadingConversations","setIsLoadingConversations","isLoadingMessages","setIsLoadingMessages","setSelectedConversation","selectedConversationData","setSelectedConversationData","messages","setMessages","isSending","setIsSending","showRequestModal","setShowRequestModal","showDropdown","setShowDropdown","conversations","setConversations","hasMore","setHasMore","currentPage","setCurrentPage","isLoadingMore","setIsLoadingMore","fetchMessages","conversationId","page","has_more","SendNormalMessage","messageData","prevMessages","conversation_id","conv","last_message","last_message_time","requestUrl","request","fetchConversations","conversation","conversationMessages","loadMoreMessages","renderBookingRequestMessage","useCallback","isFromMe","BookingRequestMessage","onAccept","other_user_name","renderMessage","sent_by_other_user","WebInput","setMessage","handleSend","onKeyPress","shiftKey","preventDefault","renderConversationList","otherParticipantName","participant2_name","participant1_name","toLocaleTimeString","bookingPendingStatus","renderMessageSection","onEndReached","onEndReachedThreshold","inverted","maintainVisibleContentPosition","minIndexForVisible","autoscrollToTopThreshold","currentConversation","isProfessional","professionalId","handleRequestBooking","messageType","handleViewBooking","readOnly","newMessage","stripePromise","Elements","useStripe","useElements","CardElement","IbanElement","ELEMENT_OPTIONS","supportedCountries","base","fontSmoothing","invalid","iconColor","WebPaymentForm","paymentType","elements","bankFields","setBankFields","accountNumber","routingNumber","complete","handleBankFieldChange","field","updatedFields","isAccountNumberValid","isRoutingNumberValid","NativePaymentElement","StripePaymentElement","stripeReact","initializeStripe","bankInputsContainer","bankInput","sectionContainer","segmentedButtons","methodInfo","methodType","primaryOptionsContainer","checkboxRow","checkbox","checkboxLabel","cardActions","dialog","loadingOverlay","bankName","verificationNeeded","amountsContainer","amountInput","verificationText","addIconButton","PaymentMethods","paymentMethods","setPaymentMethods","confirmPrimaryDialogVisible","setConfirmPrimaryDialogVisible","selectedMethod","setSelectedMethod","primaryAction","setPrimaryAction","newPaymentMethod","setNewPaymentMethod","cardNumber","expiryDate","cvc","isConfirming","setIsConfirming","deleteDialogVisible","setDeleteDialogVisible","methodToDelete","setMethodToDelete","deleteError","setDeleteError","cardComplete","setCardComplete","cardElement","setCardElement","stripeElement","setStripeElement","bankAccountComplete","setBankAccountComplete","verificationModalVisible","setVerificationModalVisible","verificationAmounts","setVerificationAmounts","first","second","verifyingMethod","setVerifyingMethod","modalLoading","setModalLoading","isPrimaryPayment","isPrimaryReceive","is_verified","last4","brand","checkStripeReady","handleEditMethod","handleDeleteMethod","handleSetPrimary","confirmSetPrimary","prevMethods","confirmDeleteMethod","handleVerifyBankAccount","handleVerificationSubmit","firstAmount","secondAmount","isNaN","simulateBackendVerification","reject","updateMethod","methods","m","handlePaymentChange","handleSavePaymentMethod","createPaymentMethod","getElement","paymentMethodData","paymentMethod","createToken","currency","routing_number","account_number","account_holder_type","bank_account","bank_name","IconButton","STRIPE_PUBLISHABLE_KEY","handleAddMethod","renderPaymentMethod","Dialog","SegmentedButtons","buttons","animating","listSection","warningContainer","warningText","Settings","settingsItems","Divider","appName","paragraph","listItem","PrivacyPolicy","ProfessionalSettings","testSection","TermsOfService","HelpFAQ","ContactUs","handleFormspreeSubmit","useForm","setSuccessMessage","maxContentWidth","succeeded","ValidationError","prefix","autoCapitalize","submitting","SearchBar","forwardRef","initialValue","setValue","MaterialIcons","focus","autoFocus","returnKeyType","blurOnSubmit","memo","androidSafeArea","searchAndFilterContainer","searchBar","clientList","clientCard","petTypes","petChip","noClientsContainer","filterChip","applyButton","closeIcon","Clients","searchQuery","setSearchQuery","selectedFilters","setSelectedFilters","tempFilters","setTempFilters","isFilterModalVisible","setIsFilterModalVisible","clients","setClients","fetchClients","toggleFilter","prevFilters","applyFilters","filteredClients","useMemo","matchesSearch","matchesFilters","every","lastBookingDate","weekAgo","monthAgo","setMonth","yearAgo","setFullYear","renderClient","Chip","handleSearchChange","query","TouchableWithoutFeedback","keyboardShouldPersistTaps","removeClippedSubviews","CostCalculationModal","onContactPress","additionalAnimals","setAdditionalAnimals","isHolidayRate","setIsHolidayRate","selectedRates","setSelectedRates","setTotalCost","platformFees","setPlatformFees","ratesObj","calculateTotalCost","rateItem","counterContainer","counterButton","counterText","trackColor","false","true","totalItem","finalTotal","finalTotalText","contactButton","contactButtonText","dateSection","dateColumn","dateLabel","heartButton","flexShrink","animalTypeContainer","calculateButton","calculateButtonText","ServiceCard","onHeartPress","isFavorite","isModalVisible","setIsModalVisible","handleContactPress","existingConversation","newConversation","createNewConversation","isCurrentUserClient","unshift","WebMap","mockReviews","rating","createElement","textContent","head","appendChild","topSection","gallerySection","photoGrid","bottomSection","servicesSection","aboutSection","hostingSection","hostTitle","weightRanges","weightRange","galleryPhoto","rateLabel","addPhotoButton","ratingContainer","reviewCount","statsContainer","statItem","bioText","serviceText","servicePrice","skillsGrid","skillBadge","skillText","photoGallery","calculatorText","additionalRatesButton","additionalRatesText","calendarSection","readMoreButton","readMoreText","reviewItem","mapContainer","petsSection","petBreed","aboutSubsections","communicationSection","skillsSection","homeDetails","noReviews","fontStyle","twoColumnLayout","singleColumnLayout","leftColumn","rightColumn","calendar","homeFeaturesGrid","featureBubble","reviewHeader","reviewerPhoto","reviewerInfo","reviewerName","serviceInfo","modalCloseIcon","modalScrollContent","reviewsGrid","specialistSection","specialistText","modalReviewItem","leftColumnMobile","seeAllButton","seeAllButtonText","modalServicesGrid","reviewMeta","starContainer","ProfessionalProfile","professionalData","setProfessionalData","canGoBack","setCanGoBack","bioModalVisible","setBioModalVisible","reviewsModalVisible","setReviewsModalVisible","specialistModalVisible","setSpecialistModalVisible","favoriteServices","setFavoriteServices","servicesModalVisible","setServicesModalVisible","isWideScreen","useResponsiveLayout","setIsWideScreen","profileSection","profileSectionMobile","servicesBox","hasHistory","getState","routes","handlePopState","storedProfessional","loadProfessionalData","toggleFavorite","serviceId","renderProfilePhoto","renderRatingStars","TruncatedText","maxLines","renderMap","MapContainer","TileLayer","Marker","center","zoom","attribution","styles2","HomeFeature","renderReview","review","renderAvailability","calendarBackground","selectedDayBackgroundColor","selectedDayTextColor","todayTextColor","servicesScroll","servicesWrapper","horizontal","showsHorizontalScrollIndicator","servicesScrollContent","homeSection","noContractsText","contractTitle","ContractList","setContracts","fetchContracts","modalPicker","dropdownButtonText","pickerModalContainer","pickerContainer","pickerCloseButton","pickerCloseButtonText","ClientPicker","selectedClient","onSelectClient","showClientPicker","setShowClientPicker","templateGrid","templateBox","templateTitle","noTemplatesText","textArea","clientPickerContainer","ContractTemplate","templates","isTemplateModalVisible","setTemplateModalVisible","isEditModalVisible","setEditModalVisible","selectedTemplate","setSelectedTemplate","contractContent","setContractContent","setSelectedClient","template","handleTemplateSelect","handleAddSignableField","prevContent","chronicleTitle","summary","ChronicleSummary","chronicles","chronicle","outerContainer","boxShadow","dropdownItemText","QuestionInput","dropdownPosition","setDropdownPosition","layout","setLayout","handleChange","useLayoutEffect","toggleDropdown","onLayout","nativeEvent","activeOpacity","q","createButton","createButtonText","webModalContent","petOption","selectedPet","petOptionText","uploadButtonText","photoPreview","photoThumbnail","questionContainer","modalButtonContainer","addQuestionButton","addQuestionButtonText","answerInputContainer","answerInput","summaryInput","photoContainer","ChronicleForm","onCreateChronicle","questions","setQuestions","question","answer","isPreset","setSummary","photos","setPhotos","isUploading","setIsUploading","isCreating","setIsCreating","updateQuestion","newQuestions","PhotoPreview","addNewQuestion","uploadingText","uploadingSpinner","handleCreateChronicle","newChronicle","useTemplateButton","useTemplateButtonText","MyContracts","setChronicles","setTemplates","fetchChronicles","fetchTemplates","prevChronicles","successText","ChangePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","setSuccess","setToken","storedToken","getToken","secureTextEntry","current_password","new_password","rows","maxLength","formContainer","profileImageContainer","profileImage","profileImagePlaceholder","boldLabel","resize","customInput","leftTab","rightTab","buttonRow","yesNoContainer","yesNoButton","activeYesNoButton","yesNoText","datePicker","documentsContainer","documentsList","documentThumbnail","galleryContainer","galleryThumbnail","AddPet","petData","stored","search","setPetName","setPetType","setWeight","setBreed","ageYears","setAgeYears","ageMonths","setAgeMonths","setSex","setFriendlyWithChildren","setFriendlyWithCats","setFriendlyWithDogs","setSpayedNeutered","setHouseTrained","setMicrochipped","setAdoptionDate","setDescription","setProfileImage","pottyBreakSchedule","setPottyBreakSchedule","customPottyBreak","setCustomPottyBreak","setEnergyLevel","setFeedingSchedule","customFeedingSchedule","setCustomFeedingSchedule","setLeftAlone","customLeftAlone","setCustomLeftAlone","setMedication","medicationDetails","setMedicationDetails","setAdditionalInstructions","setVetName","setVetAddress","setVetPhone","setVetDocuments","setInsuranceProvider","setGalleryImages","estimatedBirthday","setEstimatedBirthday","veterinarian","documents","estimatedDate","renderTab","renderToggleButtons","customValue","setCustomValue","renderYesNoButtons","handleInputChange","setter","birthDate","calculateAge","All","doc","prevImages","resizeMode","handleSaveProfile","details","fileName","img","renderSexButtons","dropdown","itemText","chipsContainer","chip","chipText","chipRemove","CustomMultiSelect","isOpen","setIsOpen","dropdownRef","getDisplayText","selectedItems","v","displayText","substring","handleItemSelect","stopPropagation","newValue","handleRemoveItem","generalCategoriesData","LocationInput","suggestions","onSuggestionSelect","locationInputRef","debouncedFetch","debounce","display_name","lat","lon","locationInputWrapper","locationInput","suggestionsWrapper","suggestionItem","borderRightColor","datePickerWrapper","dateInput","priceRangeContainer","slider","datePickersContainer","selectedItem","dropdownIcon","itemContainer","selectedChip","selectedChipText","dropdownItemSelected","dropdownItemTextSelected","SearchRefiner","onFiltersChange","filters","setFilters","minRate","maxRate","locationSuggestions","setLocationSuggestions","selectedGeneralCategories","setSelectedGeneralCategories","selectedAnimalTypes","setSelectedAnimalTypes","isServiceDropdownOpen","setIsServiceDropdownOpen","isAnimalDropdownOpen","setIsAnimalDropdownOpen","isGeneralDropdownOpen","setIsGeneralDropdownOpen","handleFilterChange","newFilters","Slider","minimumValue","maximumValue","step","minimumTrackTintColor","maximumTrackTintColor","ProfessionalCard","handlePress","infoContainer","starProfessionalBadge","ratingText","list","listContent","starProfessionalText","repeats","ProfessionalList","professionals","onLoadMore","onProfessionalSelect","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","WebMapComponent","onMarkerPress","region","html","eventHandlers","click","Popup","popupContent","startingRate","markerText","calloutContainer","calloutText","MapView","column","filterColumn","listColumn","mapColumn","mobileNav","activeNavButton","navButtonText","containerMobile","mobileHeaderText","mobileHeaderRight","headerIcon","mapButton","SearchProfessionalsListing","activeView","setActiveView","setProfessionals","setRegion","addListener","handleFiltersChange","handleLoadMore","handleProfessionalSelect","datetime","viewButton","BookingCard","onViewDetails","onCancel","searchContainer","searchInput","listContainer","emptyStateTitle","emptyStateSubtitle","createServiceButtonText","MyBookings","fetchBookings","professional_bookings","client_bookings","searchLower","filtered","renderBookingCard","handleViewDetails","handleCancelBooking","EmptyStateMessage","AddRateModal","setAmount","formatDateWithoutTimezone","month","num","RequestChangesModal","setReason","reasonInput","statusBadge","costRow","totalRow","payoutRow","payoutLabel","payoutAmount","policyText","statusLabel","occurrenceCost","noContentText","editField","editableServiceRow","removeServiceButton","editRow","editInput","timeDropdownList","bookingDatesSection","sectionSubtitle","dateTimeRow","timePickerButton","rateSectionTitle","rateInputRow","rateInputGroup","summarySection","summaryRow","rateHeaderRow","columnHeader","rateAmountColumn","rateActionButtons","infoButton","actionButtonsContainer","primaryButton","denyButton","serviceEditContainer","serviceInputRow","numberInput","serviceDetailsContainer","serviceDetailRow","actionButtons","editOccurrenceButton","editOccurrenceText","occurrenceCostRow","occurrenceCostHeader","occurrenceCostHeaderText","costAndIcon","costSummary","expandedCostDetails","costDetailRow","costDetailText","sectionEditButton","noPetsText","proName","serviceTypeLabel","petListTitle","occurrenceTitle","occurrenceDate","occurrenceTime","costBreakdownTitle","costLabel","costAmount","additionalRateLabel","additionalRateAmount","serviceDetailLabel","serviceDetailValue","occurrenceCardTitle","occurrenceCardDate","occurrenceCardTime","summaryText","occurrenceCardText","BookingDetails","useRoute","setBooking","isProfessionalView","setIsProfessionalView","isPetsEditMode","setIsPetsEditMode","isServiceEditMode","setIsServiceEditMode","editedBooking","setEditedBooking","serviceDetails","holidayFee","weekendFee","timeDropdownPosition","setTimeDropdownPosition","showAddRateModal","setShowAddRateModal","showStartTimePicker","setShowStartTimePicker","showEndTimePicker","setShowEndTimePicker","showPetRateDropdown","setShowPetRateDropdown","showAdditionalPetRate","setShowAdditionalPetRate","showHolidayRate","setShowHolidayRate","showWeekendRate","setShowWeekendRate","expandedOccurrenceId","setExpandedOccurrenceId","isPetsSaving","setIsPetsSaving","isServiceSaving","setIsServiceSaving","showRequestChangesModal","setShowRequestChangesModal","actionLoading","setActionLoading","availablePets","setAvailablePets","isLoadingPets","setIsLoadingPets","availableServices","setAvailableServices","isLoadingServices","setIsLoadingServices","transformedBooking","num_pets","fetchBooking","getDisplayValue","canEdit","can_edit","togglePetsEditMode","Pending","textColor","Confirmed","Canceled","Completed","recalculateTotals","quantity","calculateTotalCosts","handleStatusUpdateAfterEdit","newStatus","handleStatusUpdate","handleDateTimeCardPress","transformedOccurrence","multiple","calculateMultiple","getTimeUnitDisplay","unit","messageSent","recipientId","bookingMessage","sendBookingMessage","currentStatus","updatedBooking","availableBookings","bookingKey","statusReason","updateBookingStatus","showConfirmation","occurrenceId","updatedOccurrences","StatusBadge","testID","petRow","fetchAvailablePets","fetchAvailableServices","service_name","service_id","renderActionButtons","approveButton","updatedData","updatedOccurrence","updateResponse","patch","bookingResponse","handleSaveOccurrence","booking_status","prevBooking","ServiceManagerScreen","showAddModal","setShowAddModal","fetchServices","setRouteHistory","searchBarContainer","noResultsContainer","noResultsText","webSearchInput","outlineWidth","outlineStyle","BlogScreen","filteredPosts","setFilteredPosts","handleSearch","lowercaseQuery","truncatedContent","authorBio","postInfo","referencesTitle","reference","referenceText","errorButton","errorButtonText","BlogPost","setPost","isValidPost","postData","storedPost","parsedPost","postId","foundPost","loadPost","Linking","openURL","handleReferencePress","formSection","nameContainer","nameField","checkboxGroup","checkboxIcon","radioGroup","radioContainer","radio","radioSelected","radioLabel","otherInputContainer","otherInput","Waitlist","lastName","setLastName","setPetInfo","userType","setUserType","hesitations","setHesitations","desiredFeatures","setDesiredFeatures","newsletter","setNewsletter","agreeToTerms","setAgreeToTerms","otherService","setOtherService","showOtherInput","setShowOtherInput","toggleService","formData","Stack","createStackNavigator","screens","createBottomTabNavigator","component","isMobileView","isUserScrolling","setIsUserScrolling","AutoScrollSection","cardWidth","currentIndex","setCurrentIndex","userScrolling","setUserScrolling","autoScrollTimerRef","setInterval","nextIndex","scrollToIndex","clearInterval","scrollTo","animated","handleScrollEnd","onScroll","contentOffset","round","scrollEventThrottle","pagingEnabled","onScrollBeginDrag","handleScrollBegin","onScrollEndDrag","onMomentumScrollEnd","handleDotPress","cardStyles","Features","roadmapColors","featureItemStyle","featureContentStyle","FontAwesome6","FontAwesome","ReviewsSection","BlogSection","renderBlogPost","tagIndex","ContactSection","password","setPassword","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLogin","mockAccess","mockRefresh","handleDocumentKeyPress","handleKeyPress","keyboardVerticalOffset","userData","password2","phone_number","errorData","firstError","emailError","setEmailError","uid","linking","enabled","prefixes","config","Home","About","SignIn","SignUp","ResetPassword","ResetPasswordConfirm","path","messageId","senderName","More","Blog","navigationRef","createNavigationContainerRef","isReady","MVPWarning","setIsVisible","checkBannerStatus","warningBanner","warningContent","waitlistButtonText","AppContent","setInitialRoute","authStatus","routePath","matchingScreen","screen","initializeApp","NavigationContainer","onStateChange","Navigator","initialRouteName","screenOptions","headerShown","TransitionPresets","SlideFromRightIOS","presentation","animation","Screen","App","PaperProvider","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","r","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","t","this","ns","def","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","Symbol","toStringTag","nmd","paths","installedChunks","installedChunkData","promise","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}