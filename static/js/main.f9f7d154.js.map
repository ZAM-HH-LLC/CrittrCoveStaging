{"version":3,"file":"static/js/main.f9f7d154.js","mappings":"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","sources":["src/styles/theme.js","src/config/config.js","src/utils/StripeService.js","src/utils/StripePlatform.js","src/context/AuthContext.js","src/components/Navigation.js","src/components/RoadmapSection.js","src/data/mockData.js","src/screens/HomeScreen.js","src/screens/ClientProfile.js","src/components/FloatingSaveButton.js","src/components/AddServiceModal.js","src/components/ProfessionalServiceCard.js","src/components/ConfirmationModal.js","src/components/ServiceManager.js","src/components/RecordedPets.js","src/components/EditableSection.js","src/components/ProfessionalTab.js","src/components/DatePicker.js","src/components/BackHeader.js","src/components/CrossPlatformView.js","src/screens/MyProfile.js","src/components/CustomButton.js","src/screens/SignIn.js","src/screens/SignUp.js","src/screens/ResetPassword.js","src/screens/ResetPasswordConfirm.js","src/screens/Dashboard.js","src/screens/SearchProfessionals.js","src/screens/ProfessionalDashboard.js","src/screens/BecomeProfessional.js","src/screens/MoreScreen.js","src/components/UnavailableTimeSlot.js","src/components/AvailabilityBookingCard.js","src/components/TimePicker.js","src/components/AddAvailabilityModal.js","src/components/DefaultSettingsModal.js","src/components/AvailabilityBottomSheet.js","src/components/UnavailableTimesModal.js","src/screens/AvailabilitySettings.js","src/screens/MyPets.js","src/screens/ClientHistory.js","src/utils/dateTimeValidation.js","src/components/AddOccurrenceModal.js","src/components/RequestBookingModal.js","src/screens/MessageHistory.js","src/components/StripeCardElement.js","src/screens/PaymentMethods.js","src/screens/Settings.js","src/screens/PrivacyPolicy.js","src/screens/ProfessionalSettings.js","src/screens/TermsOfService.js","src/screens/HelpFAQ.js","src/screens/ContactUs.js","src/components/SearchBar.js","src/screens/Clients.js","src/components/CostCalculationModal.js","src/components/ServiceCard.js","src/screens/ProfessionalProfile.js","src/components/ContractList.js","src/components/ClientPicker.js","src/components/ContractTemplate.js","src/components/ChronicleSummary.js","src/components/QuestionInput.js","src/components/ChronicleForm.js","src/screens/MyContracts.js","src/screens/ChangePassword.js","src/screens/AddPet.js","src/components/CustomMultiSelect.js","src/components/SearchRefiner.js","src/components/ProfessionalList.js","src/components/MapView.js","src/screens/SearchProfessionalsListing.js","src/components/BookingCard.js","src/screens/MyBookings.js","src/components/AddRateModal.js","src/screens/BookingDetails.js","src/screens/ServiceManagerScreen.js","src/screens/BlogScreen.js","src/screens/BlogPost.js","src/screens/Waitlist.js","App.js","src/screens/AboutScreen.js","node_modules/moment/locale|sync|/^/.//.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// theme.js\nimport { DefaultTheme } from 'react-native-paper';\n\nexport const theme = {\n  ...DefaultTheme,\n  // the regular and header fonts are the fonts used in the app\n  fonts: {\n    ...DefaultTheme.fonts,\n    regular: {\n      fontFamily: 'PlayfairDisplay',\n    },\n    header: {\n      fontFamily: 'Futura',\n    }\n  },\n  typography: {\n    header: {\n      fontFamily: 'Futura',\n    },\n    body: {\n      fontFamily: 'PlayfairDisplay',\n    }\n  },\n  colors: {\n    ...DefaultTheme.colors,\n    mainColors: {\n      main: '#6A6C51',\n      secondary: '#5D6C51',\n      tertiary: '#516C53',\n      quaternary: '#516C61',\n      quinary: '#516A6C',\n      senary: '#515D6C',\n    },\n    primary: '#6A6C51', // Primary color for buttons and header background\n    secondary: '#516C61',\n    background: '#f6f6f6',\n    backgroundContrast: '#F6F3FC',\n    calendarColor: '#A99E6B', // Olive (yellowish) color for calendar (partially unavailable, available)\n    calendarColorYellowBrown: '#8A8C6D', // Yellow-brown color for calendar (booked today, but time is available)\n    text: 'black', // Text color for text bodies\n    whiteText: 'white', // Text color for headers and buttons\n    placeHolderText: '#A9A9A9',\n    accent: '#03dac4', // Accent color if needed\n    error: '#B00020',\n    surface: '#f6f6f6',\n    border: '#6A6C51',\n    inputBackground: '#f6f6f6',\n    receivedMessage: '#e7eae6',\n    // headerBorder: '#e0e0e0',\n    danger: '#A52A2A',\n  },\n  fontSizes: {\n    small: 12,\n    smallMedium: 14,\n    medium: 16,\n    mediumLarge: 18,\n    large: 20,\n    largeLarge: 24,\n    extraLarge: 26,\n  },\n  spacing: {\n    small: 8,\n    medium: 16,\n    large: 24,\n  },\n};","// src/config/config.js\nimport { Platform } from 'react-native';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\n\nlet API_BASE_URL;\n\nif (Platform.OS === 'android') {\n  API_BASE_URL = API_BASE_URL_ANDROID;\n} else if (Platform.OS === 'ios') {\n  API_BASE_URL = API_BASE_URL_IOS;\n} else {\n  API_BASE_URL = API_BASE_URL_WEB;\n}\n\nexport { API_BASE_URL };\n","import { Platform } from 'react-native';\nimport { getStripeModule } from './StripePlatform';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\nimport axios from 'axios';\n\nlet stripeInstance = null;\n\n// Get the appropriate base URL based on platform\nconst getBaseUrl = () => {\n  if (Platform.OS === 'android') {\n    return API_BASE_URL_ANDROID;\n  } else if (Platform.OS === 'ios') {\n    return API_BASE_URL_IOS;\n  }\n  return API_BASE_URL_WEB;\n};\n\nexport const initStripe = async () => {\n  if (!stripeInstance) {\n    stripeInstance = await getStripeModule();\n  }\n  return stripeInstance;\n};\n\nexport const createPaymentMethod = async (paymentDetails) => {\n  try {\n    // This function now only handles native platform\n    if (Platform.OS === 'web') {\n      throw new Error('Web platform should use stripe.createPaymentMethod directly');\n    }\n\n    const stripe = await initStripe();\n    const result = await stripe.createPaymentMethod({\n      type: 'card',\n      card: paymentDetails.card,\n    });\n    \n    if (result.error) {\n      console.error('Stripe error:', result.error);\n      throw new Error(result.error.message);\n    }\n\n    return {\n      paymentMethod: {\n        id: result.paymentMethod.id,\n        last4: result.paymentMethod.card.last4,\n        brand: result.paymentMethod.card.brand,\n        type: 'card'\n      },\n      error: null,\n    };\n  } catch (error) {\n    console.error('Payment method creation error:', error);\n    return {\n      paymentMethod: null,\n      error: {\n        message: error.message || 'Failed to create payment method',\n      },\n    };\n  }\n};\n\nexport const useStripe = () => {\n  if (Platform.OS === 'web') {\n    return {\n      createPaymentMethod: async (options) => {\n        const stripe = await initStripe();\n        return stripe.createPaymentMethod(options);\n      },\n    };\n  }\n  return stripeInstance;\n}; ","import { Platform } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\n\nexport const getStripeModule = async () => {\n  if (Platform.OS === 'web') {\n    const { loadStripe } = await import('@stripe/stripe-js');\n    const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n    if (!stripe) {\n      throw new Error('Failed to initialize Stripe');\n    }\n    return stripe;\n  } else {\n    const { useStripe } = await import('@stripe/stripe-react-native');\n    return useStripe();\n  }\n}; ","import React, { createContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { Dimensions, Platform } from 'react-native';\nimport { navigate } from '../../App';\nimport { initStripe } from '../utils/StripeService';\n\nexport const SCREEN_WIDTH = Dimensions.get('window').width;\nexport const SCREEN_HEIGHT = Dimensions.get('window').height;\n\nexport const AuthContext = createContext();\n\n// Add getStorage function\nexport const getStorage = async (key) => {\n  try {\n    if (Platform.OS === 'web') {\n      return sessionStorage.getItem(key);\n    } else {\n      return await AsyncStorage.getItem(key);\n    }\n  } catch (error) {\n    console.error('Error getting from storage:', error);\n    return null;\n  }\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [isApprovedProfessional, setIsApprovedProfessional] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [screenWidth, setScreenWidth] = useState(Dimensions.get('window').width);\n  const [firstName, setFirstName] = useState('');\n\n  // SET TO \"true\" FOR NO API CALLS\n\n  // Set is_DEBUG to false by default in prototype mode\n  const [is_DEBUG, setIsDebug] = useState(false);\n\n  // Preload Stripe modules when user signs in\n  useEffect(() => {\n    if (isSignedIn) {\n      initStripe();\n    }\n  }, [isSignedIn]);\n\n  // Separate screen width handling from auth\n  useEffect(() => {\n    const handleDimensionsChange = ({ window }) => {\n      setScreenWidth(window.width);\n    };\n\n    const subscription = Dimensions.addEventListener('change', handleDimensionsChange);\n\n    return () => {\n      if (subscription?.remove) {\n        subscription.remove();\n      }\n    };\n  }, []); // No dependencies needed for dimension changes\n\n  // Handle initial auth state separately\n  useEffect(() => {\n    const loadInitialAuth = async () => {\n      try {\n        const authStatus = await checkAuthStatus();\n        if (authStatus.isSignedIn) {\n          await fetchUserName();\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadInitialAuth();\n  }, []); // Only run on mount\n\n  const fetchUserName = async () => {\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        if (is_DEBUG) {\n          console.error('No token found');\n        }\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/users/v1/get-name/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setFirstName(response.data.first_name);\n    } catch (error) {\n      console.error('Error fetching user name:', error.response ? error.response.data : error.message);\n    }\n  };\n\n  // Single useEffect for auth state management\n  useEffect(() => {\n    const loadAuthState = async () => {\n      try {\n        // Ensure storedApproval is retrieved correctly and handle null or undefined values\n        let token, storedRole, storedApproval;\n\n        if (Platform.OS === \"web\") {\n          token = sessionStorage.getItem('userToken');\n          storedRole = sessionStorage.getItem('userRole');\n          storedApproval = sessionStorage.getItem('isApprovedProfessional');\n          if (is_DEBUG) {\n            console.log(\"MBA got token:\", token, \"storedRole:\", storedRole, \"StoredApproval:\", storedApproval);\n          }\n        } else {\n          [token, storedRole, storedApproval] = await AsyncStorage.multiGet([\n            'userToken',\n            'userRole',\n            'isApprovedProfessional'\n          ]);\n        }\n\n        // Handle null or undefined storedApproval\n        const isApproved = storedApproval ? storedApproval[1] === 'true' : false;\n\n        // If we have stored values, use them\n        if (token) {\n          if (is_DEBUG) {\n            console.log(\"MBA got into load auth state if token. storedRole:\", storedRole);\n          }\n          setIsSignedIn(true);\n          setUserRole(storedRole || 'petOwner');\n          setIsApprovedProfessional(isApproved);\n\n          if (is_DEBUG) {\n            console.log('Initial auth state set:', {\n              role: storedRole || 'petOwner',\n              isApproved: isApproved\n            });\n          }\n        } else {\n          if (is_DEBUG) {\n            console.log('No token found, setting to signed out state');\n          }\n          setIsSignedIn(false);\n          setUserRole(null);\n          setIsApprovedProfessional(false);\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setLoading(false);\n        if (is_DEBUG) {\n          console.log('Finished loadAuthState');\n        }\n      }\n    };\n\n    loadAuthState();\n  }, []); // Only run on mount\n\n  useEffect(() => {\n    if (isSignedIn) {\n      fetchUserName();\n    }\n  }, [isSignedIn]);\n\n  const getProfessionalStatus = async (token) => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/professional-status/v1/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      console.log('Professional status response:', response.data);\n      \n      const { is_approved } = response.data;\n      \n      // Set approval status only\n      setIsApprovedProfessional(is_approved);\n      await AsyncStorage.setItem('isApprovedProfessional', String(is_approved));\n      \n      // Just return the status without modifying roles\n      return {\n        isApprovedProfessional: is_approved,\n        suggestedRole: is_approved ? 'professional' : 'petOwner'\n      };\n    } catch (error) {\n      console.error('Error getting professional status:', error.response?.data || error);\n      return {\n        isApprovedProfessional: false,\n        suggestedRole: 'petOwner'\n      };\n    }\n  };\n\n  const signIn = async (token, refreshTokenValue) => {\n    try {\n      if (Platform.OS === \"web\") {\n        sessionStorage.setItem('userToken', token);\n        sessionStorage.setItem('refreshToken', refreshTokenValue);\n      } else {\n        await AsyncStorage.multiSet([\n          ['userToken', token],\n          ['refreshToken', refreshTokenValue],\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log('MBA sign in token', token, 'refreshToken', refreshTokenValue);\n      }\n      setIsSignedIn(true);\n      \n      // Get professional status and set initial role\n      const status = await getProfessionalStatus(token);\n\n      const initialRole = status.suggestedRole;\n      \n      // Set and store the role\n      setUserRole(initialRole);\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userRole', initialRole);\n      } else {\n        await AsyncStorage.setItem('userRole', initialRole);\n      }\n      \n      // Add logging to track access and refresh tokens during signIn\n      if (is_DEBUG) {\n        console.log('Access token stored:', token);\n        console.log('Refresh token stored:', refreshTokenValue);\n      }\n\n      return {\n        userRole: initialRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error during sign in:', error);\n      throw error;\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await AsyncStorage.multiRemove([\n        'userToken', \n        'refreshToken', \n        'userRole', \n        'isApprovedProfessional'\n      ]);\n\n      await sessionStorage.removeItem('userToken');\n      await sessionStorage.removeItem('refreshToken');\n      await sessionStorage.removeItem('userRole');\n      await sessionStorage.removeItem('isApprovedProfessional');\n    } catch (error) {\n      console.error('Error clearing storage:', error);\n    }\n\n    // Set state updates\n    setIsSignedIn(false);\n    setIsApprovedProfessional(false);\n    setUserRole(null);\n\n    // Ensure state updates are processed before navigation\n    setTimeout(() => {\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('explicitSignOut', 'true');\n      }\n      navigate('SignIn');\n    }, 0);\n  };\n\n  const switchRole = async () => {\n    if (isApprovedProfessional) {\n      if (is_DEBUG) {\n        console.log(\"MBA userRole\", userRole);\n      }\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      setUserRole(newRole);\n      try {\n        if (Platform.OS === \"web\") {\n          sessionStorage.setItem('userRole', newRole);\n        } else {\n          await AsyncStorage.setItem('userRole', newRole);\n        }\n        \n        // Verify the role was stored correctly\n        const storedRole = Platform.OS === \"web\" ? sessionStorage.getItem('userRole') : await AsyncStorage.getItem('userRole');\n        console.log(\"MBA Stored role:\", storedRole);\n\n        console.log(\"MBA New role:\", newRole);\n\n      } catch (error) {\n        console.error('Error updating role in storage:', error);\n      }\n    } else {\n      console.log('User is not an approved professional, cannot switch roles');\n    }\n\n    // Add logging in switchRole to track isApprovedProfessional state\n    console.log('Switching role. Current isApprovedProfessional:', isApprovedProfessional);\n  };\n\n  const validateToken = async (token) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/token/verify/`, {\n        token: token\n      });\n\n      return true;\n    } catch (error) {\n      console.log('Token validation error:', error.response?.status);\n      return false;\n    }\n  };\n\n  const refreshUserToken = async (refreshToken) => {\n    try {\n      // Ensure refresh token is retrieved correctly in refreshUserToken\n      const refreshToken = Platform.OS === \"web\" ? sessionStorage.getItem('refreshToken') : await AsyncStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        console.error('No refresh token found');\n        return null;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken\n      });\n      const newToken = response.data.access;\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userToken', newToken);\n      } else {\n        await AsyncStorage.setItem('userToken', newToken);\n      }\n      return newToken;\n    } catch (error) {\n      console.error('Error refreshing token:', error.response?.status);\n      return null;\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      // Check for explicit sign out flag first\n      if (Platform.OS === 'web') {\n        const wasExplicitSignOut = sessionStorage.getItem('explicitSignOut') === 'true';\n        if (wasExplicitSignOut) {\n          // Clear the flag\n          sessionStorage.removeItem('explicitSignOut');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n      }\n\n      // Get current route/path\n      let currentPath = '';\n      if (Platform.OS === 'web') {\n        currentPath = window.location.pathname.slice(1);\n      } else {\n        currentPath = await AsyncStorage.getItem('currentRoute');\n      }\n\n      // Check if we're on the home page or root URL\n      const isHomePage = !currentPath || currentPath === '' || currentPath.toLowerCase() === 'home';\n\n      let token, refreshToken, storedRole, storedApproval;\n\n      if (Platform.OS === \"web\") {\n        token = sessionStorage.getItem('userToken');\n        refreshToken = sessionStorage.getItem('refreshToken');\n        storedRole = sessionStorage.getItem('userRole');\n        storedApproval = sessionStorage.getItem('isApprovedProfessional');\n      } else {\n        [token, refreshToken, storedRole, storedApproval] = await AsyncStorage.multiGet([\n          'userToken',\n          'refreshToken',\n          'userRole',\n          'isApprovedProfessional'\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log(\"MBA userToken:\", token);\n        console.log(\"MBA refreshToken:\", refreshToken);\n        console.log(\"MBA storedRole:\", storedRole);\n        console.log(\"MBA isApprovedProfessional:\", isApprovedProfessional);\n        console.log(\"MBA storedApproval:\", storedApproval);\n        console.log(\"Current path:\", currentPath);\n        console.log(\"Is home page:\", isHomePage);\n      }\n\n      // Handle no tokens scenario\n      if (!token || !refreshToken) {\n        console.log('No tokens found - handling based on current route');\n        \n        // If we're on the home page or root URL, just return unauthenticated state\n        if (isHomePage) {\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        \n        // For any other page, sign out and redirect\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // Rest of the existing token validation logic\n      let currentToken = token;\n      let isValid = false;\n\n      if (currentToken) {\n        isValid = await validateToken(currentToken);\n      }\n\n      if (!isValid && refreshToken) {\n        const newToken = await refreshUserToken(refreshToken);\n        if (newToken) {\n          currentToken = newToken;\n          isValid = true;\n        }\n      }\n\n      if (!isValid) {\n        console.log('No valid token available - handling based on current route');\n        if (isHomePage) {\n          navigate('Home');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // At this point we have a valid token\n      console.log('Token validation successful, checking professional status with token:', currentToken);\n      const status = await getProfessionalStatus(currentToken);\n      console.log('Professional status check result:', status);\n\n      setIsSignedIn(true);\n      setIsApprovedProfessional(status.isApprovedProfessional);\n\n      // If on SearchProfessionalsListing, force petOwner role but don't store it\n      if (currentPath === 'SearchProfessionalsListing') {\n        setUserRole('petOwner');\n        return {\n          isSignedIn: true,\n          userRole: 'petOwner',\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // For all other cases, use the stored role if it exists\n      if (storedRole) {\n        const role = storedRole;\n\n        setUserRole(role);\n        return {\n          isSignedIn: true,\n          userRole: role,\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // Only set a new role if we don't have one stored (first login)\n\n      const newRole = status.suggestedRole || 'petOwner';\n\n      setUserRole(newRole);\n      await AsyncStorage.setItem('userRole', newRole);\n\n      return {\n        isSignedIn: true,\n        userRole: newRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error in checkAuthStatus:', error);\n      await signOut();\n      return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n    } finally {\n      if (is_DEBUG) {\n        console.log('=== Ending checkAuthStatus ===');\n      }\n    }\n  };\n\n  // Add useEffect to persist role changes\n  useEffect(() => {\n    if (isSignedIn) {\n      AsyncStorage.setItem('userRole', userRole || 'professional');\n      AsyncStorage.setItem('isApprovedProfessional', String(isApprovedProfessional));\n    }\n  }, [isSignedIn, userRole, isApprovedProfessional]);\n\n\n  return (\n    <AuthContext.Provider value={{ \n      isSignedIn, \n      setIsSignedIn,\n      userRole,\n      setUserRole,\n      isApprovedProfessional, \n      setIsApprovedProfessional,\n      loading,\n      signIn,\n      signOut,\n      switchRole,\n      screenWidth,\n      checkAuthStatus,\n      firstName,\n      is_DEBUG,\n      setIsDebug\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, Platform, SafeAreaView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Appbar, Menu, useTheme } from 'react-native-paper';\n\nlet previousRoute, currentRoute;\n\nexport const handleBack = async (navigation) => {\n  try {\n    if (Platform.OS === 'web') {\n      previousRoute = sessionStorage.getItem('previousRoute');\n      currentRoute = sessionStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        sessionStorage.setItem('currentRoute', previousRoute);\n        sessionStorage.setItem('previousRoute', currentRoute);\n        // if (is_DEBUG) {\n        //   console.log('Previous Route:', previousRoute);\n        //   console.log('Current Route:', currentRoute);\n        // }\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    } else {\n      previousRoute = await AsyncStorage.getItem('previousRoute');\n      currentRoute = await AsyncStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        await AsyncStorage.setItem('currentRoute', previousRoute);\n        await AsyncStorage.setItem('previousRoute', currentRoute);\n        // console.log('Previous Route:', previousRoute);\n        // console.log('Current Route:', currentRoute);\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    }\n\n    if (previousRoute === currentRoute) {\n      // console.log('Two routes are the same');\n      navigation.navigate('More');\n      return;\n    }\n  } catch (error) {\n    console.error('Error handling back navigation:', error);\n    navigation.navigate('More');\n  }\n};\n\nexport const navigateToFrom = async (navigation, toLocation, fromLocation, params = {}) => {\n  try {\n    // if (is_DEBUG) {\n    //   console.log('Navigating from:', fromLocation, 'to:', toLocation);\n    // }\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('previousRoute', fromLocation);\n      sessionStorage.setItem('currentRoute', toLocation);\n      // console.log('Web - Set previousRoute:', fromLocation);\n      // console.log('Web - Set currentRoute:', toLocation);\n    } else {\n      await AsyncStorage.setItem('previousRoute', fromLocation);\n      await AsyncStorage.setItem('currentRoute', toLocation);\n      // console.log('Mobile - Set previousRoute:', fromLocation);\n      // console.log('Mobile - Set currentRoute:', toLocation);\n    }\n    setTimeout(() => {\n      navigation.navigate(toLocation, params);\n    }, 50);\n  } catch (error) {\n    console.error('Error navigating:', error);\n    navigation.navigate(toLocation, params);\n  }\n};\n\nexport default function Navigation({ navigation }) {\n  const [visible, setVisible] = useState(false);\n  const [isMobile, setIsMobile] = useState(Dimensions.get('window').width < 900);\n  const { colors } = useTheme();\n  const { isSignedIn, is_DEBUG, userRole } = useContext(AuthContext);\n\n  const openMenu = () => setVisible(true);\n  const closeMenu = () => setVisible(false);\n\n  useEffect(() => {\n    const updateLayout = () => {\n      setIsMobile(Dimensions.get('window').width < 900);\n    };\n\n    const subscription = Dimensions.addEventListener('change', updateLayout);\n\n    return () => {\n      subscription?.remove();\n    };\n  }, []);\n\n  const professionalsTitle = Platform.OS === 'web' ? 'Search Pros' : 'Professionals';\n\n  const handleNavigation = async (screenName) => {\n    closeMenu();\n    if (is_DEBUG) {\n      console.log('Screen name:', screenName);\n    }\n    try {\n      if (Platform.OS === 'web') {\n        // Web: Use sessionStorage\n        const currentRoute = sessionStorage.getItem('currentRoute');\n        if (currentRoute) {\n          sessionStorage.setItem('previousRoute', currentRoute);\n        }\n        sessionStorage.setItem('currentRoute', screenName);\n      } else {\n        // Mobile: Use AsyncStorage\n        const currentRoute = await AsyncStorage.getItem('currentRoute');\n        if (currentRoute) {\n          await AsyncStorage.setItem('previousRoute', currentRoute);\n        }\n        await AsyncStorage.setItem('currentRoute', screenName);\n      }\n      navigation.navigate(screenName);\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(screenName);\n    }\n  };\n\n  // Initialize route tracking on component mount\n  useEffect(() => {\n    const initializeRouteTracking = async () => {\n      try {\n        if (Platform.OS === 'web') {\n          // Web: Use sessionStorage\n          const currentRoute = sessionStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            sessionStorage.setItem('currentRoute', initialRoute);\n          }\n        } else {\n          // Mobile: Use AsyncStorage\n          const currentRoute = await AsyncStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            await AsyncStorage.setItem('currentRoute', initialRoute);\n          }\n        }\n      } catch (error) {\n        console.error('Error initializing route tracking:', error);\n      }\n    };\n\n    initializeRouteTracking();\n  }, [isSignedIn, userRole]);\n\n  const renderMenuItems = () => {\n    if (!isSignedIn) {\n      return [\n        { title: 'Home', icon: 'home', route: 'Home' },\n        { title: 'Sign In', icon: 'login', route: 'SignIn' },\n        { title: 'Sign Up', icon: 'account-plus', route: 'SignUp' },\n        { title: 'Become Pro', icon: 'clipboard-text-outline', route: 'Waitlist' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else if (userRole === 'professional') {\n      return [\n        { title: 'Pro Dashboard', icon: 'view-dashboard', route: 'ProfessionalDashboard' },\n        { title: 'MyBookings', icon: 'account-group', route: 'MyBookings' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Availability', icon: 'clock-outline', route: 'AvailabilitySettings' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else {\n      return [\n        { title: 'Dashboard', icon: 'view-dashboard', route: 'Dashboard' },\n        { title: professionalsTitle, icon: 'magnify', route: 'SearchProfessionalsListing' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Become a Pro', icon: 'paw', route: 'BecomeProfessional' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    }\n  };\n\n  const renderMobileNavBar = () => {\n    const menuItems = renderMenuItems();\n    const itemWidth = Dimensions.get('window').width / menuItems.length;\n    return (\n      <View style={styles.customNavBar}>\n        {menuItems.map((item, index) => (\n          <TouchableOpacity\n            key={index}\n            style={[styles.navButton, { width: itemWidth }]}\n            onPress={() => handleNavigation(item.route)}\n          >\n            <MaterialCommunityIcons \n              name={item.icon} \n              size={24} \n              color={theme.colors.whiteText} \n            />\n            <Text style={styles.navText} numberOfLines={2} ellipsizeMode=\"tail\">\n              {item.title}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  };\n\n  const renderWebNavItems = () => {\n    const menuItems = renderMenuItems();\n    return menuItems.map((item, index) => (\n      <TouchableOpacity\n        key={index}\n        style={styles.webNavItem}\n        onPress={() => handleNavigation(item.route)}\n      >\n        <Text style={styles.webNavText}>{item.title}</Text>\n      </TouchableOpacity>\n    ));\n  };\n\n  return (\n    <>\n      {Platform.OS === 'web' ? (\n        <Appbar.Header style={[styles.header, { backgroundColor: colors.primary }]}>\n          <View style={styles.titleContainer}>\n            <TouchableOpacity onPress={() => handleNavigation('Home')} style={{ width: 150 }}>\n              <Text style={[styles.title, { color: colors.whiteText, width: 110 }]}>CrittrCove</Text>\n            </TouchableOpacity>\n          </View>\n          {isMobile ? (\n            <Menu\n              visible={visible}\n              onDismiss={closeMenu}\n              anchor={\n                <Appbar.Action\n                  icon={() => <MaterialCommunityIcons name=\"menu\" size={24} color={colors.whiteText} />}\n                  onPress={openMenu}\n                />\n              }\n            >\n              {renderMenuItems().map((item, index) => (\n                <Menu.Item \n                  key={index} \n                  onPress={() => handleNavigation(item.route)} \n                  title={item.title}\n                  titleStyle={{ fontFamily: theme.fonts.regular.fontFamily, fontWeight: '600' }}\n                />\n              ))}\n            </Menu>\n          ) : (\n            <View style={styles.desktopNav}>\n              {renderWebNavItems()}\n            </View>\n          )}\n        </Appbar.Header>\n      ) : (\n        <View style={styles.container}>\n          {renderMobileNavBar()}\n        </View>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    backgroundColor: theme.colors.primary,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    backgroundColor: theme.colors.primary,\n  },\n  titleContainer: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  title: {\n    textAlign: 'left',\n    marginLeft: theme.spacing.medium,\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  desktopNav: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  navItem: {\n    marginHorizontal: theme.spacing.medium,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    cursor: 'pointer',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  customNavBar: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    paddingVertical: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  navButton: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 60,\n    paddingHorizontal: 5,\n  },\n  navText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n    marginTop: 5,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  webNavItem: {\n    marginHorizontal: theme.spacing.medium,\n  },\n  webNavText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n});\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet, Modal, Platform } from 'react-native';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\n\nconst RoadmapSection = () => {\n  const [selectedMilestone, setSelectedMilestone] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const { screenWidth } = useContext(AuthContext);\n  const isMobile = screenWidth < 768;\n\n  const roadmapData = [\n    {\n      id: 1,\n    //   number: '01',\n      title: 'Prototype Launch',\n      description: 'Initial release of CrittrCove webpage and landing page with no signup or app functionality.',\n      icon: 'dog',\n      color: theme.colors.mainColors.senary // Royal Blue\n    },\n    {\n      id: 2,\n    //   number: '02',\n      title: 'Launch of MVP',\n      description: 'This is when users will be able to sign up and use the app fully for the first time on the website! For a full feature list, please check our blog or discord.',\n      icon: 'dragon',\n      color: theme.colors.mainColors.quinary // Medium Purple\n    },\n    {\n      id: 3,\n    //   number: '03',\n      title: 'Launch of App',\n      description: 'Mobile app release with real-time messaging, notifications, and payment integration. For a full feature list, please check our blog or discord.',\n      icon: 'cat',\n      color: theme.colors.mainColors.quaternary // Royal Blue\n    },\n    {\n      id: 4,\n    //   number: '04',\n      title: 'Community Features',\n      description: 'Adding social features, pet communities, and expert advice forums.',\n      icon: 'fish',\n      color: theme.colors.mainColors.main // Medium Purple\n    }\n  ];\n\n  const handleMilestonePress = (milestone) => {\n    setSelectedMilestone(milestone);\n    setModalVisible(true);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Roadmap</Text>\n      \n      {isMobile ? (\n        // Mobile Layout\n        <View style={styles.mobileContainer}>\n          {roadmapData.map((milestone, index) => (\n            <View key={milestone.id} style={[\n              styles.mobileItemContainer,\n              index === roadmapData.length - 1 ? { marginBottom: 0 } : null\n            ]}>\n              <TouchableOpacity\n                style={styles.mobileMarker}\n                onPress={() => handleMilestonePress(milestone)}\n              >\n                <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                  <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n                </View>\n              </TouchableOpacity>\n              <Text style={styles.mobileMilestoneTitle}>{milestone.title}</Text>\n              {index < roadmapData.length - 1 && (\n                <View style={styles.mobileDashedLine} />\n              )}\n            </View>\n          ))}\n        </View>\n      ) : (\n        // Web Layout\n        <View style={styles.webContainer}>\n          <View style={[styles.dashedLine, {\n            width: '80%',\n            left: '10%'\n          }]} />\n          {roadmapData.map((milestone, index) => (\n            <TouchableOpacity\n              key={milestone.id}\n              style={[\n                styles.webMarker,\n                { \n                  left: `${10 + (index * (80 / (roadmapData.length - 1)))}%`,\n                }\n              ]}\n              onPress={() => handleMilestonePress(milestone)}\n            >\n              <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n              </View>\n              <Text style={styles.webMilestoneTitle}>{milestone.title}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      )}\n\n      {/* Modal for milestone details */}\n      <Modal\n        visible={modalVisible}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            {selectedMilestone && (\n              <>\n                <View style={[styles.modalIconContainer, { backgroundColor: selectedMilestone.color }]}>\n                  <Text style={styles.modalNumber}>{selectedMilestone.number}</Text>\n                  <FontAwesome5 \n                    name={selectedMilestone.icon} \n                    size={40} \n                    color=\"white\"\n                  />\n                </View>\n                <Text style={styles.modalTitle}>{selectedMilestone.title}</Text>\n                <Text style={styles.modalDescription}>\n                  {selectedMilestone.description}\n                </Text>\n                <TouchableOpacity\n                  style={[styles.closeButton, { backgroundColor: selectedMilestone.color }]}\n                  onPress={() => setModalVisible(false)}\n                >\n                  <Text style={styles.closeButtonText}>Close</Text>\n                </TouchableOpacity>\n              </>\n            )}\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 40,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileContainer: {\n    width: '100%',\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  mobileItemContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 80,\n    position: 'relative',\n  },\n  mobileMarker: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  mobileMilestoneTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    marginTop: 15,\n    textAlign: 'center',\n    marginBottom: 30,\n  },\n  mobileDashedLine: {\n    position: 'absolute',\n    width: 2,\n    height: 60,\n    bottom: -50,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webContainer: {\n    // height: 200,\n    position: 'relative',\n    marginTop: 20,\n    marginBottom: 120,\n    width: '100%',\n  },\n  dashedLine: {\n    position: 'absolute',\n    height: 2,\n    top: 30,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webMarker: {\n    position: 'absolute',\n    alignItems: 'center',\n    width: 120,\n    transform: [{ translateX: -60 }], // Center the marker\n  },\n  webMilestoneTitle: {\n    marginTop: 10,\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    textAlign: 'center',\n  },\n  markerContainer: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 15,\n    width: '90%',\n    maxWidth: 400,\n    alignItems: 'center',\n  },\n  modalIconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalNumber: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    position: 'absolute',\n    top: 10,\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    lineHeight: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  closeButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '100%',\n    alignItems: 'center',\n  },\n  closeButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\nexport default RoadmapSection; ","// First, declare the BOOKING_STATES constant\nexport const BOOKING_STATES = {\n  // # Initial States\n  DRAFT: 'Draft',\n  PENDING_INITIAL_PROFESSIONAL_CHANGES: 'Pending initial Professional Changes',\n    \n  // # Review States\n  PENDING_PROFESSIONAL_CHANGES: 'Pending Professional Changes',\n  PENDING_CLIENT_APPROVAL: 'Pending Client Approval',\n    \n  // # Active States\n  CONFIRMED: 'Confirmed',\n  CONFIRMED_PENDING_PROFESSIONAL_CHANGES: 'Confirmed Pending Professional Changes',\n  CONFIRMED_PENDING_CLIENT_APPROVAL: 'Confirmed Pending Client Approval',\n    \n  // # Terminal States\n  COMPLETED: 'Completed',\n  DENIED: 'Denied',\n  CANCELLED: 'Cancelled',\n\n  // # States where professionals can edit\n  PROFESSIONAL_EDITABLE_STATES: [\n    'Draft',\n    'Pending initial Professional Changes',\n    'Pending Professional Changes',\n    'Confirmed Pending Professional Changes',\n    'Confirmed'\n  ]\n};\n\nexport const ALL_SERVICES = \"All Services\";\nexport const SERVICE_TYPES = [\n  ALL_SERVICES,\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\",\n];\n\nexport const TIME_OPTIONS = [\n  '15 min',\n  '30 min',\n  '45 min',\n  '1 hr',\n  '2 hr',\n  '4 hr',\n  '8 hr',\n  '24 hr',\n  'overnight',\n  'per day',\n  'per visit'\n];\n\nexport const mockAdditionalRates = {\n  'Fish Tank Cleaning': [\n    { title: 'Extended Stay (7+ days)', amount: 15 },\n    { title: 'Pickup/Dropoff Service', amount: 25 },\n    { title: 'Special Diet Handling', amount: 10 },\n    { title: 'Medication Administration', amount: 15 },\n  ],\n  'Ferrier': [\n    { title: 'Extended Hours', amount: 20 },\n    { title: 'Training Session', amount: 30 },\n    { title: 'Grooming', amount: 25 },\n  ],\n  'Dog Walking': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Plant Watering', amount: 5 },\n    { title: 'Photo Updates', amount: 5 },\n  ],\n  'Reptile Boarding & Habitat Maintenance': [\n    { title: 'Plant Watering', amount: 10 },\n    { title: 'Mail Collection', amount: 5 },\n    { title: 'Extended Visit (4+ hrs)', amount: 30 },\n  ],\n  'Bird Feeding': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Multiple Route Options', amount: 5 },\n    { title: 'Training During Walk', amount: 20 },\n  ],\n};\n\nexport const mockServicesForCards = [\n  {\n    id: 1,\n    name: 'Fish Tank Cleaning',\n    startingPrice: 25,\n    animalTypes: ['Fish'],\n    icon: 'fish',\n    additionalRates: mockAdditionalRates['Fish Tank Cleaning']\n  },\n  {\n    id: 2,\n    name: 'Ferrier',\n    startingPrice: 30,\n    animalTypes: ['Dogs'],\n    icon: 'horse',\n    additionalRates: mockAdditionalRates['Ferrier']\n  },\n  {\n    id: 3,\n    name: 'Dog Walking',\n    startingPrice: 40,\n    animalTypes: ['Dogs'],\n    icon: 'dog',\n    additionalRates: mockAdditionalRates['Dog Walking']\n  },\n  {\n    id: 4,\n    name: 'Reptile Boarding & Habitat Maintenance',\n    startingPrice: 35,\n    animalTypes: ['Reptiles'],\n    icon: 'snake',\n    additionalRates: mockAdditionalRates['Reptile Boarding & Habitat Maintenance']\n  },\n  {\n    id: 5,\n    name: 'Bird Feeding',\n    startingPrice: 45,\n    animalTypes: ['Birds'],\n    icon: 'bird',\n    additionalRates: mockAdditionalRates['Bird Feeding']\n  }\n];\n\nexport const GENERAL_CATEGORIES = [\n  'Farm Animals', \n  'Domestic',\n  'Exotic',\n  'Aquatic',\n  'Invertibrates',\n];\n\nexport const mockPets = [\n  {\n    id: '1',\n    name: 'Max',\n    animal_type: 'Dog',\n    breed: 'border collie',\n    age: {\n      months: 0,\n      years: 5,\n    },\n    weight: 32,\n    sex: 'Male',\n    friendlyWithChildren: true,\n    friendlyWithCats: false,\n    friendlyWithDogs: true,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: true,\n    adoptionDate: '2020-01-15',\n    description: 'Loves to play fetch and go for walks.',\n    energyLevel: 'High',\n    feedingSchedule: 'Morning',\n    leftAlone: '1-4 hours',\n    medication: null,\n    additionalInstructions: 'Needs daily exercise.',\n    vetName: 'Dr. Smith',\n    vetAddress: '123 Vet St.',\n    vetPhone: '555-1234',\n    insuranceProvider: 'Pet Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '2',\n    name: 'Whiskers',\n    animal_type: 'Cat',\n    breed: 'tammy ammy',\n    age: {\n      months: 3,\n      years: 4,\n    },\n    weight: 16,\n    sex: 'Female',\n    friendlyWithChildren: true,\n    friendlyWithCats: true,\n    friendlyWithDogs: false,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: false,\n    adoptionDate: '2019-05-20',\n    description: 'Enjoys lounging in the sun.',\n    energyLevel: 'Low',\n    feedingSchedule: 'Twice a day',\n    leftAlone: '4-8 hours',\n    medication: null,\n    additionalInstructions: 'Prefers quiet environments.',\n    vetName: 'Dr. Jones',\n    vetAddress: '456 Vet Ave.',\n    vetPhone: '555-5678',\n    insuranceProvider: 'Pet Health Insurance',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '3',\n    name: 'Buddy',\n    animal_type: 'snake',\n    breed: 'leopard gecko',\n    age: {\n      months: 0,\n      years: 2,\n    },\n    weight: 1,\n    sex: 'Male',\n    friendlyWithChildren: false,\n    friendlyWithCats: false,\n    friendlyWithDogs: false,\n    spayedNeutered: false,\n    houseTrained: false,\n    microchipped: false,\n    adoptionDate: '2021-08-10',\n    description: 'A calm and quiet pet.',\n    energyLevel: 'Low',\n    feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n    leftAlone: 'Can be left alone indefinitely',\n    medication: null,\n    additionalInstructions: 'Keep in a warm environment.',\n    vetName: 'Dr. Green',\n    vetAddress: '789 Vet Blvd.',\n    vetPhone: '555-9012',\n    insuranceProvider: 'Reptile Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n];\n\nexport const mockProfessionals = [\n  {\n    id: '1',\n    name: 'John Doe',\n    profilePicture: require('../../assets/user1.png'),\n    reviews: 4.5,\n    price: 25,\n    bio: 'Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.',\n    location: 'Colorado Springs, CO',\n    coordinates: { latitude: 38.8339, longitude: -104.8214 },\n    serviceTypes: ['House Sitting', 'Dog Walking'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '2',\n    name: 'Jane Smith',\n    profilePicture: require('../../assets/user2.png'),\n    reviews: 4.8,\n    price: 30,\n    bio: 'Specialized in exotic pets.',\n    location: 'Manitou Springs, CO',\n    coordinates: { latitude: 38.8597, longitude: -104.9172 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '3',\n    name: 'Mike Wilson',\n    profilePicture: require('../../assets/user3.png'),\n    reviews: 4.7,\n    price: 28,\n    bio: 'Dog trainer with 5 years experience.',\n    location: 'Security-Widefield, CO',\n    coordinates: { latitude: 38.7478, longitude: -104.7288 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '4',\n    name: 'Sarah Johnson',\n    profilePicture: require('../../assets/user4.png'),\n    reviews: 4.9,\n    price: 35,\n    bio: 'Veterinary technician, great with medical needs.',\n    location: 'Fountain, CO',\n    coordinates: { latitude: 38.6822, longitude: -104.7008 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats', 'exotics'],\n  },\n  {\n    id: '5',\n    name: 'Tom Brown',\n    profilePicture: require('../../assets/user5.png'),\n    reviews: 4.6,\n    price: 27,\n    bio: 'Experienced with large breeds.',\n    location: 'Black Forest, CO',\n    coordinates: { latitude: 39.0128, longitude: -104.7008 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  // Additional professionals further out\n  {\n    id: '6',\n    name: 'Lisa Anderson',\n    profilePicture: require('../../assets/user6.png'),\n    reviews: 4.4,\n    price: 32,\n    bio: 'Experienced with birds and small animals.',\n    location: 'Monument, CO',\n    coordinates: { latitude: 39.0917, longitude: -104.8722 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '7',\n    name: 'David Clark',\n    profilePicture: require('../../assets/user7.png'),\n    reviews: 4.7,\n    price: 29,\n    bio: 'Specializing in puppy care and training.',\n    location: 'Woodland Park, CO',\n    coordinates: { latitude: 38.9939, longitude: -105.0569 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '8',\n    name: 'Emma White',\n    profilePicture: require('../../assets/user8.png'),\n    reviews: 4.8,\n    price: 33,\n    bio: 'Experienced with senior pets.',\n    location: 'Pueblo West, CO',\n    coordinates: { latitude: 38.3494, longitude: -104.7224 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '9',\n    name: 'James Miller',\n    profilePicture: require('../../assets/user9.png'),\n    reviews: 4.5,\n    price: 26,\n    bio: 'Great with high-energy dogs.',\n    location: 'Castle Rock, CO',\n    coordinates: { latitude: 39.3722, longitude: -104.8561 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '10',\n    name: 'Rachel Green',\n    profilePicture: require('../../assets/user10.png'),\n    reviews: 4.9,\n    price: 34,\n    bio: 'Experienced with reptiles and amphibians.',\n    location: 'Palmer Lake, CO',\n    coordinates: { latitude: 39.1153, longitude: -104.9158 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics'],\n  }\n];\n\nexport const mockClients = [\n  {\n    id: '1',\n    name: 'Alice Johnson',\n    pet_types: ['Dog', 'Cat'],\n    last_booking: '2024-01-15',\n    pets: ['1', '2'], // References to pet IDs\n    email: 'alice@example.com',\n    phone: '555-0101',\n    address: '123 Pine St, Colorado Springs, CO',\n  },\n  {\n    id: '2',\n    name: 'Bob Wilson',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-01',\n    pets: ['3'],\n    email: 'bob@example.com',\n    phone: '555-0102',\n    address: '456 Oak Ave, Colorado Springs, CO',\n  },\n  {\n    id: '3',\n    name: 'Carol Martinez',\n    pet_types: ['Cat', 'Exotic'],\n    last_booking: '2024-01-28',\n    pets: ['4', '5'],\n    email: 'carol@example.com',\n    phone: '555-0103',\n    address: '789 Maple Dr, Colorado Springs, CO',\n  },\n  {\n    id: '4',\n    name: 'David Brown',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-05',\n    pets: ['6'],\n    email: 'david@example.com',\n    phone: '555-0104',\n    address: '321 Elm St, Colorado Springs, CO',\n  },\n  {\n    id: '5',\n    name: 'Eva Garcia',\n    pet_types: ['Exotic'],\n    last_booking: '2024-01-20',\n    pets: ['7'],\n    email: 'eva@example.com',\n    phone: '555-0105',\n    address: '654 Birch Ln, Colorado Springs, CO',\n  }\n];\n\n// Availability Tab\nexport const fetchAvailabilityData = () => {\n  return new Promise((resolve) => {\n    // to get the bookings, we need to fetch the booking table on backend\n    // to get available/unavailable dates we need to fetch the availability table on backend\n    setTimeout(() => {\n      resolve({\n        availableDates: {\n          '2025-02-01': { startTime: '09:00', endTime: '17:00' },\n          '2025-02-02': { startTime: '10:00', endTime: '18:00' },\n          '2025-02-03': { startTime: '09:00', endTime: '17:00' },\n        },\n        unavailableDates: {\n          '2025-02-04': { startTime: '00:00', endTime: '24:00' },\n          '2025-02-05': { startTime: '10:00', endTime: '18:00' },\n        },\n        bookings: {\n          '2025-02-06': [\n            { id: 'bk1', startTime: '14:00', endTime: '16:00', client_name: 'Charlie', service_type: 'Dog Walking' },\n            { id: 'bk2', startTime: '16:00', endTime: '18:00', client_name: 'Bob', service_type: 'Dog Walking' },\n            { id: 'bk3', startTime: '18:00', endTime: '20:00', client_name: 'Nick', service_type: 'Pet Boarding' },\n            { id: 'bk4', startTime: '20:00', endTime: '22:00', client_name: 'Alfred', service_type: 'Drop-In Visits (30 min)' }\n          ],\n          '2025-02-07': [\n            { id: 'bk5', startTime: '10:00', endTime: '12:00', client_name: 'Uhtred', service_type: 'Dog Walking' }\n          ],\n        },\n      });\n    }, 1000);\n  });\n};\n\n// Add mock update functions\nexport const updateAvailability = (updates) => {\n  console.log(\"updateAvailability\", updates);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: updates });\n    }, 500);\n  });\n};\n\nexport const updateBooking = (bookingData) => {\n  console.log(\"updateBooking\", bookingData);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: bookingData });\n    }, 500);\n  });\n};\n\nconst sharedBookingDetails = {\n  booking_id: 'bk1',\n  status: 'Confirmed',\n  client_name: 'matt aertker',\n  professional_name: 'matt2 aertker2',\n  service_details: {\n    service_type: 'Ferrier'\n  },\n  pets: [\n    {\n      pet_id: 3,\n      name: 'Jack',\n      species: 'DOG',\n      breed: 'Golden'\n    }\n  ],\n  occurrences: [\n    {\n      occurrence_id: 10,\n      start_date: '2025-02-01',\n      end_date: '2025-02-02',\n      start_time: '15:06',\n      end_time: '16:06',\n      calculated_cost: '61.04',\n      base_total: '$26.04',\n      rates: {\n        base_rate: '25.00',\n        additional_animal_rate: '5.00',\n        additional_animal_rate_applies: false,\n        applies_after: 2,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '35.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$5.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$5.00'\n          }\n        ]\n      }\n    },\n    {\n      occurrence_id: 9,\n      start_date: '2025-03-13',\n      end_date: '2025-03-14',\n      start_time: '09:00',\n      end_time: '14:00',\n      calculated_cost: '120.08',\n      base_total: '$35.04',\n      rates: {\n        base_rate: '29.00',\n        additional_animal_rate: '8.00',\n        additional_animal_rate_applies: false,\n        applies_after: 1,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '40.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$35.04'\n          }\n        ]\n      }\n    }\n  ],\n  cost_summary: {\n    subtotal: 181.12,\n    platform_fee: 18.11,\n    taxes: 15.94,\n    total_client_cost: 215.17,\n    total_sitter_payout: 163.01,\n    is_prorated: true\n  }\n};\n\n// Initialize mockBookingDetails with existing mock data\nconst mockBookingDetails = {\n  '1234': {\n    ...sharedBookingDetails,\n    id: '1234',\n    clientName: 'John Doe',\n    status: BOOKING_STATES.CONFIRMED,\n    startDate: '2024-02-20',\n    startTime: '14:00',\n  },\n  '5678': {\n    ...sharedBookingDetails,\n    id: '5678',\n    clientName: 'Margarett Laporte',\n    status: BOOKING_STATES.CANCELLED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56782': {\n    ...sharedBookingDetails,\n    id: '56782',\n    clientName: 'Zoe Aerial',\n    status: BOOKING_STATES.DENIED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5673': {\n    ...sharedBookingDetails,\n    id: '5673',\n    clientName: 'Matt Clark',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5674': {\n    ...sharedBookingDetails,\n    id: '5674',\n    clientName: 'Mark Smith',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '5675',\n    clientName: 'Lauren Smith',\n    status: BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '56712',\n    clientName: 'Matt Smith',\n    status: BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56713': {\n    ...sharedBookingDetails,\n    id: '567123',\n    clientName: 'Albert Einstein',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '3749': {...sharedBookingDetails,\n    id: '567132',\n    clientName: 'Dr. Mike Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91011': {\n    ...sharedBookingDetails,\n    id: '91011',\n    clientName: 'Dr. Bla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91012': {\n    ...sharedBookingDetails,\n    id: '91012',\n    clientName: 'Dr. Blabla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  }\n};\n\n// Map mockProfessionalBookings from mockBookingDetails\nexport const mockProfessionalBookings = Object.values(mockBookingDetails)\n  .map(booking => ({\n    id: booking.id,\n    clientName: booking.clientName,\n    status: booking.status,\n    date: booking.startDate,\n    time: booking.startTime,\n    serviceType: booking.serviceType,\n    numberOfPets: booking.numberOfPets || 1,\n    totalCost: booking.costs?.totalClientCost || 0,\n    professionalPayout: booking.costs?.professionalPayout || 0\n  }));\n\n// Add the createBooking function\nexport const createBooking = async (clientId, freelancerId, initialData = {}) => {\n  const newBookingId = `booking_${Date.now()}`;\n  \n  const newBooking = {\n    id: newBookingId,\n    clientId: clientId,\n    freelancerId: freelancerId,\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    clientName: initialData.clientName || 'TBD',\n    professionalName: initialData.professionalName || 'TBD',\n    serviceType: initialData.serviceType || 'TBD',\n    animalType: initialData.animalType || 'TBD',\n    numberOfPets: initialData.numberOfPets || 0,\n    duration: initialData.duration || 0,\n    occurrences: initialData.occurrences || [],\n    rates: {\n      baseRate: 0,\n      additionalPetRate: 0,\n      extraServices: []\n    },\n    costs: {\n      baseTotal: 0,\n      additionalPetTotal: 0,\n      extraServicesTotal: 0,\n      subtotal: 0,\n      clientFee: 0,\n      taxes: 0,\n      totalClientCost: 0,\n      professionalPayout: 0\n    },\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    ...initialData\n  };\n\n  // Add to mock database\n  mockBookingDetails[newBookingId] = newBooking;\n  \n  console.log('Created new booking:', {\n    bookingId: newBookingId,\n    booking: newBooking,\n    allBookings: Object.keys(mockBookingDetails)\n  });\n\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n  return newBookingId;\n};\n\n// Update fetchBookingDetails with better logging\nexport const fetchBookingDetails = async (bookingId) => {\n  // console.log('Fetching booking details');\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  const bookingDetails = mockBookingDetails[bookingId];\n  if (!bookingDetails) {\n    console.error('Booking not found:', {\n      requestedId: bookingId,\n      availableBookings: Object.keys(mockBookingDetails)\n    });\n    throw new Error('Booking not found');\n  }\n  \n  return bookingDetails;\n};\n\n// Export mockBookingDetails for debugging\nexport const _mockBookingDetails = mockBookingDetails;\n\n// Add new mock function for updating booking status\nexport const updateBookingStatus = async (bookingId, newStatus, reason = '', metadata = {}) => {\n  console.log('updateBookingStatus called with:', {\n    bookingId,\n    newStatus,\n    reason,\n    metadata,\n    availableBookings: Object.keys(mockBookingDetails)\n  });\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  // Find the booking by ID regardless of the key\n  const bookingKey = Object.keys(mockBookingDetails).find(key => \n    mockBookingDetails[key].id === bookingId\n  );\n  \n  if (!bookingKey) {\n    console.error('Booking not found in mockBookingDetails. Available bookings:', \n      Object.keys(mockBookingDetails),\n      '\\nFull mockBookingDetails:', mockBookingDetails\n    );\n    throw new Error('Booking not found');\n  }\n  \n  // Create updated booking object\n  mockBookingDetails[bookingKey] = {\n    ...mockBookingDetails[bookingKey],\n    status: newStatus,\n    statusReason: reason,\n    updated_at: new Date().toISOString(),\n    ...metadata\n  };\n\n  console.log('Updated booking:', mockBookingDetails[bookingKey]);\n  return mockBookingDetails[bookingKey];\n};\n\n// Make sure to update MyBookings.js to use the same BOOKING_STATES constant\nexport const mockClientBookings = [\n  {\n    id: '91011',\n    professionalName: 'Sarah Wilson',\n    status: BOOKING_STATES.CONFIRMED,\n    date: '2024-02-22',\n    time: '10:00',\n    serviceType: 'Dog Walking',\n    numberOfPets: 2,\n    totalCost: 75.00,\n  },\n  {\n    id: '91012',\n    professionalName: 'Mike Johnson',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    date: '2024-02-23',\n    time: '11:00',\n    serviceType: 'Pet Sitting',\n    numberOfPets: 1,\n    totalCost: 50.00,\n  },\n];\n\n// Assuming current user ID is 101 for testing\nexport const CURRENT_USER_ID = 101;\n\nexport const mockConversations = [\n  {\n    id: 'conv_1',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 202,\n    name: \"Dr. Sarah Smith\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'd be happy to help! What kind of pet do you have?\",\n    timestamp: \"2024-02-21T07:05:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_2',\n    participant1_id: 303,\n    participant2_id: CURRENT_USER_ID,\n    name: \"Dr. Mike Johnson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'm available! Let's set up a booking\",\n    timestamp: \"2024-02-21T15:35:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_3',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 204,\n    name: \"Dr. Emily Wilson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your cat's checkup is scheduled\",\n    timestamp: \"2024-02-20T10:15:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_4',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 205,\n    name: \"Dr. James Anderson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"See you tomorrow at 2 PM\",\n    timestamp: \"2024-02-19T16:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_5',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 206,\n    name: \"Dr. Lisa Brown\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How is Max doing today?\",\n    timestamp: \"2024-02-18T09:30:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_6',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 207,\n    name: \"Dr. Robert Taylor\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The medication has been prescribed\",\n    timestamp: \"2024-02-17T14:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_7',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 208,\n    name: \"Dr. Maria Garcia\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your appointment is confirmed\",\n    timestamp: \"2024-02-16T11:25:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_8',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 209,\n    name: \"Dr. David Lee\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Let's schedule a follow-up\",\n    timestamp: \"2024-02-15T13:40:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_9',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 210,\n    name: \"Dr. Sarah Martinez\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The test results are ready\",\n    timestamp: \"2024-02-14T15:55:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_10',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 211,\n    name: \"Dr. John White\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How's the new diet working?\",\n    timestamp: \"2024-02-13T08:15:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_11',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 212,\n    name: \"Dr. Anna Clark\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Vaccination reminder\",\n    timestamp: \"2024-02-12T10:30:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_12',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 213,\n    name: \"Dr. Thomas Wright\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Surgery scheduled for next week\",\n    timestamp: \"2024-02-11T12:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_13',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 214,\n    name: \"Dr. Patricia Moore\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Emergency consultation available\",\n    timestamp: \"2024-02-10T17:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_14',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 215,\n    name: \"Dr. Kevin Hall\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Treatment plan updated\",\n    timestamp: \"2024-02-09T14:10:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_15',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 216,\n    name: \"Dr. Rachel Green\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Prescription ready for pickup\",\n    timestamp: \"2024-02-08T16:35:00Z\",\n    unread: true\n  }\n];\n\nexport const mockMessages = {\n  'conv_1': [\n    {\n      message_id: 1,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Hi, I'm interested in your pet sitting services\",\n      timestamp: \"2024-02-21T14:00:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 2,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: 202,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'd be happy to help! What kind of pet do you have?\",\n      timestamp: \"2024-02-21T14:05:00Z\",\n      booking_id: null,\n      status: \"sent\",\n      is_booking_request: false,\n      metadata: {}\n    }\n  ],\n  'conv_2': [\n    {\n      message_id: 3,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Looking for a dog walker next week\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 4,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      type: 'booking_request',\n      data: {\n        serviceType: \"Dog Walking\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' }\n        ],\n        occurrences: [\n          {\n            startDate: '2024-02-28',\n            endDate: '2024-02-28',\n            startTime: '14:00',\n            endTime: '15:00'\n          }\n        ]\n      },\n      timestamp: \"2024-02-21T15:35:00Z\",\n      status: \"sent\",\n      is_booking_request: true,\n      metadata: {}\n    },\n    {\n      message_id: 5,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'll take a look!\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n  ]\n};\n\n// Helper function to create a new conversation\nexport const createNewConversation = (professionalId, professionalName, clientId, clientName) => {\n  const conversationId = `conv_${Date.now()}`;\n  const isCurrentUserClient = clientId === CURRENT_USER_ID;\n  \n  return {\n    id: conversationId,\n    participant1_id: isCurrentUserClient ? clientId : professionalId,\n    participant2_id: isCurrentUserClient ? professionalId : clientId,\n    role_map: {\n      participant1_role: isCurrentUserClient ? \"client\" : \"professional\",\n      participant2_role: isCurrentUserClient ? \"professional\" : \"client\"\n    },\n    lastMessage: \"\",\n    timestamp: new Date().toISOString(),\n    unread: false,\n    bookingStatus: null\n  };\n};\n\nexport const DEFAULT_SERVICES = [\n  {\n    serviceName: 'Dog Walking',\n    animalTypes: 'Dogs',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '10',\n  },\n  {\n    serviceName: 'Cat Sitting',\n    animalTypes: 'Cats',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '5',\n  },\n  {\n    serviceName: 'Exotic Pet Care',\n    animalTypes: 'Lizards, Birds',\n    rates: { base_rate: '25' },\n    additionalAnimalRate: '15',\n  },\n];\n\nexport const SERVICE_TYPE_SUGGESTIONS = [\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\", \n];\n\nexport const ANIMAL_TYPE_SUGGESTIONS = [\n  'Dog',\n  'Cat',\n  'Cow',\n  'Calf',\n  'Lizard',\n  'Bird',\n  'Rabbit',\n  'Fish',\n];\n\nexport const BLOG_POSTS = [\n  {\n    id: 'blog_1',\n    title: 'What Your Dog is Really Saying',\n    author: {\n      id: 'author_1',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Professional dog trainer and animal behavior specialist with over 10 years of experience.'\n    },\n    publishDate: '2024-02-22',\n    readTime: '8 min',\n    tags: ['Dogs', 'Behavior', 'Training', 'Pet Care'],\n    content: `You know that moment when your dog tilts their head at you like you just asked them to solve a calculus problem? Turns out, they're not the only ones trying to understand you—they've been communicating with you this whole time, and you probably didn't even realize it.\n\nDogs may not speak English (yet—give them time), but they have an entire language built on tail wags, ear positions, and those big, soulful eyes they use to manipulate you into giving them extra treats. Learning to read their body language isn't just a party trick—it can help prevent stress, deepen your bond, and maybe even stop your dog from embarrassing you at the dog park. So, let's finally crack the code on what your dog has been trying to tell you.\n\nTail Wagging: Not Always a Sign of Happiness\nOne of the biggest myths out there is that a wagging tail means a happy dog. Nope. Not always. A dog's tail is basically their mood ring, and the way they wag tells a whole different story.\nLoose, full-body wag (with bonus butt wiggles): This is the classic \"OMG YOU'RE HOME!!\" happy dance. A+ vibes.\nSlow wag, tail held high: The \"I'm analyzing this situation\" wag. Suspicious, calculating, possibly deciding if you're worth their energy.\nStiff, fast wag with a raised tail: Yikes. This is \"I'm on edge, don't mess with me\" energy. Proceed with caution.\nLow, fast wag: \"I'm nervous, and I don't know what's happening, so I'm just gonna keep wiggling and hope for the best.\"\nTucked tail: Fear. If the tail is all the way tucked under, your dog is basically saying, \"I regret everything, please don't yell at me.\"\nEven the direction of the wag matters—researchers found that dogs wag more to the right when they're happy and to the left when they're unsure or stressed (Quaranta et al., 2007). Yes, your dog's tail literally has anxiety tells.\n\nEars and Eyes: The Silent Storytellers\nDogs don't just talk with their tails—they also use their ears and eyes like tiny, furry actors in a silent film.\nSoft eyes, relaxed ears: Your dog is living their best life. No stress, just vibes.\nWide eyes, whites showing (a.k.a. \"whale eye\"): \"I am uncomfortable with the energy we have created in this room.\" This is a warning sign—your dog feels uneasy or trapped.\nPerked-up ears: \"I heard something, and I will investigate.\" Could be excitement, curiosity, or them preparing to bark at absolutely nothing.\nEars pinned back: \"I'm nervous\" or \"I did something bad, and I hope you don't notice.\" Classic guilty dog move.\nEver notice how some dogs do a little squint when they're happy? It's their version of a smile. On the flip side, prolonged direct eye contact—especially with an unfamiliar dog—can be a challenge. So, if you're having a staring contest with a dog you just met…maybe don't.\n\nThe Freeze: When Your Dog Hits Pause (And You Should Pay Attention)\nIf a dog suddenly stops moving and stiffens, pay attention. Freezing is often their last warning before things escalate to growling, snapping, or biting. A lot of people miss this and then wonder why their dog \"suddenly\" lashed out.\nYou might see this when:\nA child is hugging a dog (which, fun fact, most dogs hate).\nSomeone is petting a dog too aggressively.\nThe dog feels cornered and has no escape route.\nResearch by Rooney Clark and Casey (2016) helped show that when a dog freezes, in some way or another they are stressed, its best to give them space in that moment and take a mental note of your newest training goal! Sometimes, they just need a minute to de-escalate, like when you have to breathe through a customer service call that's not going well.\n\nMouth Matters: Smiles vs. Stress\nDogs can technically smile, but it's not always what you think.\nLoose, open mouth, tongue hanging out: Happy, relaxed, living their best life.\nClosed mouth, tight lips: Alert or unsure. They're analyzing the situation.\nLips pulled back, slight teeth showing: Some dogs do a \"submissive grin,\" which isn't aggression—it's their way of saying, \"Hey, I'm friendly!\"\nWrinkled nose, full teeth bared: This is aggression. Back off.\nExcessive yawning in a new situation: Dogs don't just yawn when they're tired—they also yawn when they're stressed. To put it simply, they are overstimulated. (Glenk, 2020) Don't be fooled by the parrot dog, sometimes they yawn because they saw you yawn first! (D'Aniello, 2019)\n\nConclusion: Your Dog Has Been Sending You Texts—Now You Can Finally Read Them\nDogs may not be able to talk (yet), but they've been communicating loud and clear this whole time. That tail wag? Could be excitement, could be stress. That little squint? Doggy love. The full-body freeze? That's a big ol' \"DO NOT DISTURB\" sign.\nThe more you pay attention, the better you'll understand your dog—and the fewer awkward misunderstandings you'll have (like mistaking a stress yawn for a nap cue). As we said in the beginning, your dog already knows exactly how to read you. They know your routine, when you're about to leave the house, and how to guilt-trip you into sharing your snacks. The least you can do is return the favor.\nSo next time your dog gives you the side-eye, perks their ears, or flops over dramatically after a single walk, you'll finally know what they're saying. And let's be honest—it's probably, \"I love you… now give me a treat.\"`,\n    references: [\n      {\n        title: '7 tips for canine body language',\n        authors: 'American Society for the Prevention of Cruelty to Animals (ASPCA)',\n        publication: 'ASPCApro',\n        url: 'https://www.aspcapro.org/resource/7-tips-canine-body-language'\n      },\n      {\n        title: \"Therapy dogs' salivary cortisol levels vary during animal-assisted interventions\",\n        authors: 'Glenk, L. M., Kothgassner, O. D., Stetina, B. U., Palme, R., & Kepplinger, B.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2020,\n        doi: '10.3389/fvets.2020.564201'\n      },\n      {\n        title: 'The importance of associative learning in cross-species social bonding: Dogs and humans',\n        authors: \"D'Aniello, B., Scandurra, A., Alterisio, A., Aria, M., & Siniscalchi, M.\",\n        publication: 'Frontiers in Psychology',\n        year: 2019,\n        doi: '10.3389/fpsyg.2019.01678'\n      },\n      {\n        title: 'Oxytocin-gaze positive loop and the coevolution of human-dog bonds',\n        authors: 'Nagasawa, M., Mitsui, S., En, S., Ohtani, N., Ohta, M., Sakuma, Y., Onaka, T., Mogi, K., & Kikusui, T.',\n        publication: 'Science',\n        year: 2015,\n        doi: '10.1126/science.1261022'\n      },\n      {\n        title: 'Asymmetric tail-wagging responses by dogs to different emotive stimuli',\n        authors: 'Quaranta, A., Siniscalchi, M., & Vallortigara, G.',\n        publication: 'Current Biology',\n        year: 2007,\n        doi: '10.1016/j.cub.2007.02.008'\n      },\n      {\n        title: 'Minimizing fear and anxiety in working dogs: A review',\n        authors: 'Rooney, N. J., Clark, C. C. A., & Casey, R. A.',\n        publication: 'Journal of Veterinary Behavior',\n        year: 2016,\n        doi: '10.1016/j.jveb.2016.11.001'\n      }\n    ],\n    likes: 245,\n    comments: 56,\n    shares: 89\n  },\n  {\n    id: 'blog_2',\n    title: 'What Your Cat is Really Saying',\n    author: {\n      id: 'author_2',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Feline behavior specialist and veterinarian with a focus on cat-human relationships.'\n    },\n    publishDate: '2024-02-23',\n    readTime: '7 min',\n    tags: ['Cats', 'Behavior', 'Pet Care', 'Communication'],\n    content: `Ever wonder why your cat stares at you before slowly blinking or why they randomly sprint across the house at 2 AM? While cats may seem mysterious, they actually have a complex system of communication—if you know what to look for. Unlike dogs, who wear their emotions on their tails (literally), cats are more subtle. But once you learn their signals, you'll start to see what your cat has been trying to tell you all along.\n\nThe Myth of the Aloof Cat: Do They Actually Care About You?\nMany people think cats are independent and don't bond with their owners the way dogs do. But research suggests otherwise. A study by Vitale et al. (2019) found that cats form secure attachments to their owners, much like infants do with their caregivers. In an experiment where cats were briefly separated from their owners, many showed signs of distress when left alone and relief upon their owner's return. So yes, your cat does care about you—they just have their own way of showing it.\n\nThe Slow Blink: A Feline \"I Love You\"\nOne of the best-kept secrets of cat communication is the slow blink. If your cat locks eyes with you and then slowly closes and opens their eyes, congratulations! You've just received a cat's version of a smile. Research completed in 2020 (Humphrey) found that when humans slowly blink at their cats, the cats are more likely to return the gesture and approach them in a friendly manner. So, next time you want to say \"I love you\" to your cat, skip the baby talk and try a slow blink instead.\n\nTail Talk: Not Just for Dogs\nA cat's tail is like a built-in mood ring. Learning to read tail signals can help you avoid scratches and strengthen your bond.\nTail up, tip curved: A friendly, confident cat greeting. If your cat walks toward you with their tail high, they're happy to see you.\nPuffed-up tail: This is a defensive reaction. Your cat is startled or feels threatened.\nLow, slow-wagging tail: Unlike dogs, a slow-wagging cat tail isn't a good sign—it often signals irritation or mild aggression.\nTail wrapped around you or another cat: This is a sign of affection, almost like holding hands.\n\nPurring: More Than Just Happiness\nEveryone loves the soothing sound of a purring cat, but did you know cats don't just purr when they're happy? While contentment is a common reason, studies suggest cats also purr when they're stressed, in pain, or even trying to heal themselves. The frequency of cat purrs (between 25 and 150 Hz) has been linked to tissue regeneration and bone healing in studies on vibrational therapy (Muggenthaler, 2001). So, if your cat is purring at the vet's office, they may not be enjoying themselves—they might just be self-soothing.\n\nHeadbutting and Kneading: Strange but Sweet Gestures\nHeadbutting (bunting): When your cat gently bumps their head against you, they're not just being cute—they're marking you with their scent glands, claiming you as their own (Rodan, 2015).\nKneading: The rhythmic pressing of paws against a soft surface (or your lap) is a behavior kittens use to stimulate milk flow. In adult cats, it's a sign of comfort and contentment (Brown & Bradshaw, 2016).\n\nDo Cats Really Ignore Their Names?\nIf you've ever called your cat and been met with a flick of the ear but no movement, you might think they don't recognize their name. But research says otherwise. A study by Saito & Shinozuka (2013) found that cats can distinguish their names from other words, even in a household with multiple cats. They just don't always feel the need to respond. Unlike dogs, who evolved to seek human approval, cats evolved as solitary hunters. They hear you—they're just deciding whether you're worth getting up for.\n\nThe Zoomies: Science Behind the 2 AM Sprints\nThose sudden, chaotic bursts of energy—also known as \"zoomies\"—are actually a by normal part of feline behavior. Cats are natural hunters, and their instincts tell them to be most active at dawn and dusk. If your cat has zoomies at odd hours, they might just be burning off excess energy. Providing interactive play during the day can help prevent nighttime sprints (Turner, 2021).\n\nConclusion: The More You Watch, the More You Understand\nCats may seem mysterious, but once you learn their language, they're basically tiny, furry drama queens with very specific ways of expressing love (and judgment). That slow blink? A kiss. That tail flick? A warning. The 2 AM zoomies? Either pent-up energy or an exorcism—we may never know.\n\nThe more you pay attention to their signals, the better you'll understand them. And honestly your cat already understands you. They know exactly how to guilt-trip you into giving extra treats, how to wake you up precisely one minute before your alarm, and how to act like they don't care—right before curling up in your lap.\n\nAt the end of the day, cats aren't ignoring us. They're just selectively participating. And now that you can read their signals, you're officially part of their very exclusive club.`,\n    references: [\n      {\n        title: 'Communication in the domestic cat: within- and between-species',\n        authors: 'Brown, S. L., & Bradshaw, J. W. S.',\n        publication: 'Animal Behaviour',\n        year: 2016,\n        doi: '10.1016/j.anbehav.2016.05.015'\n      },\n      {\n        title: 'Feline Behavioral Health and Welfare',\n        authors: 'Rodan, I., & Heath, S.',\n        publication: 'Elsevier Health Sciences',\n        year: 2015\n      },\n      {\n        title: 'The felid purr: A healing mechanism?',\n        authors: 'Muggenthaler, E. von.',\n        publication: 'Proceedings of the 12th International Conference on Low Frequency Noise and Vibration',\n        year: 2001,\n        url: 'https://www.researchgate.net/publication/272259095_The_felid_purr_A_healing_mechanism'\n      },\n      {\n        title: 'Vocal recognition of owners by domestic cats (Felis catus)',\n        authors: 'Saito, A., & Shinozuka, K.',\n        publication: 'Animal Cognition',\n        year: 2013,\n        doi: '10.1007/s10071-013-0620-4'\n      },\n      {\n        title: 'The mechanics of social interactions between cats and their owners',\n        authors: 'Turner, D. C.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2021,\n        doi: '10.3389/fvets.2021.650143'\n      },\n      {\n        title: 'Attachment bonds between domestic cats and humans',\n        authors: 'Vitale, K. R., Behnke, A. C., & Udell, M. A. R.',\n        publication: 'Current Biology',\n        year: 2019,\n        doi: '10.1016/j.cub.2019.08.036'\n      },\n      {\n        title: 'The role of cat eye narrowing movements in cat–human communication',\n        authors: 'Humphrey, T., Proops, L., & McComb, K.',\n        publication: 'Scientific Reports',\n        year: 2020,\n        doi: '10.1038/s41598-020-73426-0'\n      }\n    ],\n    likes: 312,\n    comments: 78,\n    shares: 102\n  },\n  {\n    id: 'blog_3',\n    title: 'What Your Bird is Really Saying',\n    author: {\n      id: 'author_3',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Avian specialist and researcher focusing on bird behavior and communication.'\n    },\n    publishDate: '2024-02-24',\n    readTime: '6 min',\n    tags: ['Birds', 'Behavior', 'Pet Care', 'Avian Communication'],\n    content: `Ever look at your bird and think, What's going on in that tiny dinosaur brain of yours? Well, good news—birds may not text, but they do have an entire language made up of wing flutters, tail flicks, and the occasional judgmental stare. And if you learn to read these signals, you'll finally understand what your feathered friend has been trying to tell you all along.\n\nLet's break down the mysterious world of bird body language so you can stop guessing and start actually communicating with your avian BFF.\n\nThe Head Tilt: Curious or Plotting Something?\nThat adorable head tilt your bird does isn't just to make you go aww—it's actually their way of getting a better look at something. Birds process images differently than we do, so when they tilt their head, they're adjusting their angle to see more clearly (Massen et al., 2014).\n\nSlow, curious head tilt: They're interested in what's happening and trying to analyze the situation. Basically, they're bird detectives.\nFrequent or extreme tilting: Could indicate a vision issue or neurological problem—if it looks excessive, a vet visit is a good idea (Massen et al., 2014).\nOne-eye stare, body stiffened: A sign they're feeling cautious or potentially threatened. If they were a human, this would be the equivalent of side-eye.\n\nFeather Fluffing: Cozy or Cranky?\nFeather movements say a lot about how a bird is feeling. Think of them as mood indicators, kind of like how we use facial expressions—except, you know, with more feathers.\n\nFluffed-up feathers for a few seconds: Just getting comfortable. If your bird puffs up and then smooths back down, they're basically stretching.\nConstantly fluffed-up feathers: Not good. This can be a sign of illness, stress, or even feeling cold (Massen et al., 2014).\nFeathers sleeked back tight to the body: Your bird is nervous or possibly feeling aggressive. Approach with caution (Pika & Bugnyar, 2011).\n\nThe Wing Flutter: Excitement or Back Off?\nBirds use their wings for way more than just flying—they also use them to communicate. Unfortunately, no sign language because birds dont have thumbs\n\nExcited, quick flutters: Happiness! Your bird is basically doing a little happy dance (Osaka University, 2023).\nSlow, controlled wing movements: This can be a \"stay away\" signal, kind of like putting up a hand to say \"not now.\"\nOne wing slightly drooped: Could be a sign of injury—time to check in with your vet.\n\nBunting: Love, Not a Headbutt Attack\nIf your bird presses or rubs their beak against you, congratulations—they're bunting, which is a sign of affection (Pika & Bugnyar, 2011).\n\nGentle beak rubbing: They're marking you as part of their flock. You're officially theirs now.\nAggressive, sudden beak nudging: Might mean \"Hey, stop that\" or \"Give me attention NOW.\"\n\nThe Stare-Down: Challenge or Trust?\nUnlike with dogs, where prolonged eye contact can be a dominance move, birds love staring at their favorite humans. It's actually a good thing—eye contact helps strengthen bonds (Osaka University, 2023).\n\nSoft, relaxed eyes: A sign of trust and comfort. They're chilling.\nWide eyes with pinning pupils: Intense excitement—or potential aggression. If they suddenly go from relaxed to laser-focused, read the room.\n\nTail Wagging: A Whole Different Story Than Dogs\nIf you thought tail wagging only meant happiness (like with dogs), think again—birds have their own unique tail signals.\n\nFast, side-to-side tail wagging: Happy and excited! Your bird is feeling good.\nSlow, deliberate tail flick: Annoyed or getting ready to give you a warning. Think of this as their way of saying \"I'm this close to losing it.\"\nTail fanned out: Displaying dominance or excitement—this is common in birds like parrots when they're trying to show off.\n\nThe Playful Side: Hanging Upside Down & Wing Spreading\nSome birds (especially parrots) love hanging upside down like little acrobats. This is usually a sign of happiness and playfulness. If your bird does this often, they're feeling safe and confident.\n\nUpside-down hanging: Your bird is comfortable with you and their surroundings. They trust you.\nOne wing slightly lifted while playing: This can be an invitation to interact—kind of like a bird's version of waving at you.\n\nConclusion: Your Bird Has Been Speaking—Now You're Fluent\nBirds may not use words the way we do (unless you have a talkative parrot), but their body language speaks volumes. From fluffed feathers to head tilts and beak bunts, every little movement is a clue to how they're feeling.\n\nThe more you watch and learn, the better you'll understand their unique way of communicating. And let's be real—your bird already knows exactly how to get your attention. Whether it's staring at you until you feel guilty enough to offer a treat or flapping their wings dramatically for no reason, they've got you trained.\n\nNow that you can finally read their signals, you're one step closer to becoming the ultimate bird whisperer. Just don't be surprised if they start giving you even more attitude now that you know what's up.`,\n    references: [\n      {\n        title: 'Facial display and blushing: Means of visual communication in blue-and-yellow macaws',\n        authors: 'Massen, J. J. M., Vermunt, D. A., & Sterck, E. H. M.',\n        publication: 'PLoS ONE',\n        year: 2014,\n        doi: '10.1371/journal.pone.0108794'\n      },\n      {\n        title: 'The use of referential gestures in ravens (Corvus corax) in the wild',\n        authors: 'Pika, S., & Bugnyar, T.',\n        publication: 'Nature Communications',\n        year: 2011,\n        doi: '10.1038/ncomms1567'\n      },\n      {\n        title: 'Wild birds gesture \"after you\" to insist their mate go first',\n        authors: 'Osaka University',\n        publication: 'Scientific American',\n        year: 2023,\n        url: 'https://www.scientificamerican.com/article/wild-birds-gesture-after-you-to-insist-their-mate-go-first/'\n      }\n    ],\n    likes: 198,\n    comments: 45,\n    shares: 67\n  }\n];","import React, { useState, useEffect } from 'react';\nimport { View, ScrollView, Image, StyleSheet, Linking, Dimensions, Platform, TouchableOpacity, TextInput } from 'react-native';\nimport { Button, Text, Card, Title, Paragraph, useTheme } from 'react-native-paper';\nimport { ImageBackground } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport RoadmapSection from '../components/RoadmapSection';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { FontAwesome6 } from '@expo/vector-icons';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { BLOG_POSTS } from '../data/mockData';\n\nconst { width: windowWidth, height: windowHeight } = Dimensions.get('window');\n\n// Define a sample reviews array\nconst reviews = [\n  {\n    image: require('../../assets/user1.png'),\n    text: \"\\\"CrittrCove has been amazing for finding reliable pet professionals!\",\n    author: \"John Smith\"\n  },\n  {\n    image: require('../../assets/user2.png'),\n    text: \"\\\"Great experience with pet sitting services!\",\n    author: \"Jane Doe\"\n  },\n  {\n    image: require('../../assets/user3.png'),\n    text: \"\\\"Found the perfect sitter for my exotic pets!\",\n    author: \"Sudhakar Vuluvala\"\n  },\n  {\n    image: require('../../assets/user4.png'),\n    text: \"\\\"I've had a fantastic experience with CrittrCove's pet grooming services!\",\n    author: \"Alice Brown\"\n  }\n];\n\n// Define the ReviewImage component\nconst ReviewImage = ({ source, style }) => {\n  if (Platform.OS === 'web') {\n    return <img src={source} style={style} alt=\"\" />;\n  }\n  return <Image source={source} style={style} />;\n};\n\nexport default function HomeScreen({ navigation }) {\n  const { colors } = useTheme();\n  const openAppStore = (url) => {\n    Linking.openURL(url);\n  };\n\n  // Add state for social media popup visibility\n  const [isUserScrolling, setIsUserScrolling] = useState(false);\n\n  const AutoScrollSection = ({ data, renderItem, title, cardWidth = 320 }) => {\n    const scrollViewRef = React.useRef(null);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [userScrolling, setUserScrolling] = useState(false);\n    const autoScrollTimerRef = React.useRef(null);\n\n    // Auto-scroll effect\n    useEffect(() => {\n      if (!userScrolling) {\n        autoScrollTimerRef.current = setInterval(() => {\n          if (scrollViewRef.current) {\n            const nextIndex = (currentIndex + 1) % data.length;\n            scrollToIndex(nextIndex);\n          }\n        }, 3000);\n      }\n\n      return () => {\n        if (autoScrollTimerRef.current) {\n          clearInterval(autoScrollTimerRef.current);\n        }\n      };\n    }, [currentIndex, userScrolling, data.length]);\n\n    const scrollToIndex = (index) => {\n      if (scrollViewRef.current) {\n        scrollViewRef.current.scrollTo({\n          x: index * cardWidth,\n          animated: true\n        });\n        setCurrentIndex(index);\n      }\n    };\n\n    const handleScroll = (event) => {\n      const contentOffset = event.nativeEvent.contentOffset.x;\n      const index = Math.round(contentOffset / cardWidth);\n      setCurrentIndex(index);\n    };\n\n    const handleScrollBegin = () => {\n      setUserScrolling(true);\n      if (autoScrollTimerRef.current) {\n        clearInterval(autoScrollTimerRef.current);\n      }\n    };\n\n    const handleScrollEnd = () => {\n      // Reset after a short delay to prevent immediate auto-scroll\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    const handleDotPress = (index) => {\n      setUserScrolling(true);\n      scrollToIndex(index);\n      // Reset auto-scroll after a delay\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    return (\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <View style={styles.scrollContainer}>\n          <ScrollView\n            ref={scrollViewRef}\n            horizontal\n            showsHorizontalScrollIndicator={true}\n            style={[styles.scrollContainer, { WebkitOverflowScrolling: 'touch' }]}\n            contentContainerStyle={styles.scrollContent}\n            onScroll={handleScroll}\n            scrollEventThrottle={16}\n            pagingEnabled={Platform.OS !== 'web'}\n            onScrollBeginDrag={handleScrollBegin}\n            onScrollEndDrag={handleScrollEnd}\n            onMomentumScrollEnd={handleScrollEnd}\n          >\n            {data.map((item, index) => renderItem(item, index))}\n          </ScrollView>\n          {/* Clickable scroll indicators */}\n          <View style={styles.scrollIndicators}>\n            {data.map((_, index) => (\n              <TouchableOpacity\n                key={index}\n                onPress={() => handleDotPress(index)}\n                style={styles.scrollIndicatorButton}\n              >\n                <View\n                  style={[\n                    styles.scrollIndicator,\n                    currentIndex === index && styles.scrollIndicatorActive\n                  ]}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n          {/* Scroll hint for mobile */}\n          {Platform.OS !== 'web' && (\n            <View style={styles.scrollHint}>\n              <Text style={styles.scrollHintText}>Swipe for more</Text>\n              <MaterialCommunityIcons name=\"gesture-swipe-horizontal\" size={24} color={theme.colors.primary} />\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ReviewsSection = () => {\n    const renderReview = (review, index) => (\n      <View key={index} style={styles.reviewCard}>\n        <Text style={styles.reviewText}>{review.text}</Text>\n        <View style={styles.reviewAuthorContainer}>\n          <ReviewImage\n            source={review.image}\n            style={styles.reviewerImage}\n          />\n          <View>\n            <Text style={styles.reviewAuthorName}>{review.author}</Text>\n            <Text style={styles.reviewAuthorTitle}>Client Review</Text>\n            <View style={styles.starsContainer}>\n              {[1, 2, 3, 4, 5].map((_, index) => (\n                <MaterialCommunityIcons \n                  key={index}\n                  name=\"star\"\n                  size={16}\n                  color={theme.colors.primary}\n                  style={styles.starIcon}\n                />\n              ))}\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n\n    return (\n      <AutoScrollSection\n        data={reviews}\n        renderItem={renderReview}\n        title=\"Kind Words From Users\"\n      />\n    );\n  };\n\n  const BlogSection = () => {\n    const renderBlogPost = (post, index) => (\n      <TouchableOpacity \n        key={post.id} \n        style={[\n          styles.blogCard,\n          { marginRight: index === BLOG_POSTS.length - 1 ? 0 : 10 }\n        ]} \n        onPress={() => navigateToFrom(navigation, 'BlogPost', 'Home', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]} numberOfLines={2}>\n              {post.title}\n            </Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}> • </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {post.content.slice(0, 100)}...\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.slice(0, 2).map((tag, tagIndex) => (\n                <View \n                  key={tagIndex} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n\n    return (\n      <AutoScrollSection\n        data={BLOG_POSTS}\n        renderItem={renderBlogPost}\n        title=\"Blog\"\n        cardWidth={320}\n      />\n    );\n  };\n\n  const Features = () => {\n    const [activeTab, setActiveTab] = useState('owners'); // Default to owners tab\n\n    // Add roadmap colors array\n    const roadmapColors = ['#515d6c', '#516a6c', '#516C61', '#6A6C51'];\n\n    // Update the feature item structure and styles\n    const featureItemStyle = {\n      flexDirection: 'row',\n      marginBottom: 20,\n      alignItems: 'flex-start',\n      width: '100%',\n    };\n\n    const featureContentStyle = {\n      flex: 1,\n      marginLeft: 5,\n    };\n\n    return (\n      <View style={styles.featuresSection}>\n        <Text style={styles.sectionTitle}>How It Works</Text>\n        <View style={styles.toggleContainer}>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'owners' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('owners')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'owners' && styles.toggleButtonTextActive]}>For Pet Owners</Text>\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'sitters' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('sitters')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'sitters' && styles.toggleButtonTextActive]}>For Pet Professionals</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.featuresContainer}>\n          {activeTab === 'owners' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Owners</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome6 name=\"person-running\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Your Profile</Text>\n                    <Text style={styles.featureText}>Submit details about you and your requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"horse-human\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Pet Profile</Text>\n                    <Text style={styles.featureText}>Submit details about your pet and sitting requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <MaterialCommunityIcons name=\"professional-hexagon\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Search for Pro's</Text>\n                    <Text style={styles.featureText}>You can use our marketplace to find the best pro for your desired service.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <FontAwesome5 name=\"calendar-check\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Confirm Your Booking</Text>\n                    <Text style={styles.featureText}>Coordinate directly with your professional to finalize details.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Sign up Today!</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n          {activeTab === 'sitters' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Professionals</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome name=\"sign-in\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Apply to Join Pro Community</Text>\n                    <Text style={styles.featureText}>Submit your specialties, documents, bio, and availability to begin.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"plus-circle\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Create Services</Text>\n                    <Text style={styles.featureText}>Create services to offer to pet owners.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <FontAwesome6 name=\"handshake-simple\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Get Matched with Clients</Text>\n                    <Text style={styles.featureText}>Pet owners in your area will reach out to you for yourservices.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <MaterialIcons name=\"auto-graph\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Grow Your Business</Text>\n                    <Text style={styles.featureText}>Manage bookings and get support as you build your pet service business.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Become a Professional</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ContactSection = () => {\n    const [state, handleSubmit] = useForm(\"mkgobpro\");\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleFormSubmit = async (e) => {\n      e.preventDefault();\n      const formData = {\n        name: name,\n        email: email,\n        message: message\n      };\n      \n      await handleSubmit(formData);\n      \n      if (state.succeeded) {\n        setName('');\n        setEmail('');\n        setMessage('');\n      }\n    };\n\n    if (state.succeeded) {\n      return (\n        <View style={styles.contactSection}>\n          <View style={styles.contactContainer}>\n            <Text style={[styles.sectionTitle, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.contactSection}>\n        <View style={styles.contactContainer}>\n          <Text style={styles.sectionTitle}>Contact Us</Text>\n          <TextInput\n            placeholder=\"Your Name\"\n            style={styles.input}\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Email\"\n            style={styles.input}\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Message\"\n            style={[styles.input, styles.messageInput]}\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[\n                styles.actionButton,\n                state.submitting && styles.disabledButton\n              ]}\n              onPress={handleFormSubmit}\n              disabled={state.submitting}\n            >\n              <Text style={styles.buttonText}>\n                {state.submitting ? 'Sending...' : 'Send'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.heroSection}>\n        <Image\n          source={require('../../assets/hero-image.jpg')} // Replace with your image\n          style={styles.heroImage}\n          resizeMode=\"cover\"\n        />\n        <Text style={styles.heroText}>Welcome to CrittrCove</Text>\n      </View>\n\n      <Features />\n      <ReviewsSection />\n      <BlogSection />\n\n      {/* Roadmap Section */}\n      <RoadmapSection />\n\n      {/* FAQ Section */}\n      {/* <View style={styles.section}>\n        <Text style={styles.sectionTitle}>FAQs</Text>\n         {faqs.map((faq, index) => (\n          <View key={index} style={styles.faqItem}>\n            <TouchableOpacity \n              style={styles.faqButton}\n              onPress={() => setSelectedFaq(selectedFaq === index ? null : index)}\n            >\n              <Text style={styles.faqQuestion}>{faq.question}</Text>\n              <Text style={styles.faqToggle}>{selectedFaq === index ? '-' : '+'}</Text>\n            </TouchableOpacity>\n            {selectedFaq === index && (\n              <Text style={styles.faqAnswer}>{faq.answer}</Text>\n            )}\n          </View>\n        ))} \n      </View> */}\n\n      {/* Waitlist Section */}\n      <View style={[styles.section, styles.waitlistSection]}>\n        <Text style={styles.sectionTitle}>Join Our Waitlist</Text>\n        <Text style={styles.waitlistDescription}>\n          Get exclusive bonus offers, promotions, and discounts when the app and website launches by signing up on our waitlist today!\n        </Text>\n        <TouchableOpacity \n          style={[styles.actionButton, styles.waitlistButton]} \n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.buttonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Contact Us Section */}\n      <ContactSection />\n\n      {/* Footer */}\n      <View style={styles.footer}>\n        <View style={styles.socialIconsRow}>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://instagram.com/thezensitter')}\n          >\n            <FontAwesome name=\"instagram\" size={24} color=\"white\" />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://discord.com/your-profile')}\n          >\n            <FontAwesome5 name=\"discord\" size={24} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.footerLinksRow}>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'PrivacyPolicy', 'Home')}>Privacy Policy</Text>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'TermsOfService', 'Home')}>Terms of Service</Text>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingBottom: 80, // Add padding to the bottom of the content\n  },\n  heroSection: {\n    height: Platform.OS === 'web' ? '70vh' : windowHeight * 0.5,\n    justifyContent: 'center',\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  heroImage: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n  },\n  heroText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n    color: 'white',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: {width: -1, height: 1},\n    textShadowRadius: 10\n  },\n  section: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignItems: 'center',\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 10,\n    textAlign: 'center',\n    color: 'black',\n  },\n  card: {\n    marginBottom: 10,\n  },\n  appButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 10,\n  },\n  appButton: {\n    width: '45%',\n  },\n  reviewsSection: {\n    // height: 350,\n    marginBottom: 20,\n  },\n  reviewsBackground: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewsOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  reviewsSubtitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 20,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  reviewsContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40, // Add space for indicators\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewCard: {\n    width: 300,\n    height: 200,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginRight: 10,\n  },\n  reviewCardMobile: {\n    width: '100%',\n    height: '100%',\n  },\n  reviewQuote: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n  },\n  reviewText: {\n    fontSize: 18,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginBottom: 15,\n    flex: 1,\n  },\n  reviewAuthorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  reviewerImage: {\n    width: 45,\n    height: 60,\n    borderRadius: 8,\n    marginRight: 10,\n    objectFit: 'cover',\n  },\n  reviewAuthorName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewAuthorTitle: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginTop: 2,\n  },\n  paginationDots: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 10,\n  },\n  paginationDot: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: 'white',\n    margin: 5,\n  },\n  paginationDotActive: {\n    backgroundColor: 'black',\n  },\n  featuresSection: {\n    marginBottom: 20,\n    marginTop: 20,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 10,\n  },\n  toggleButton: {\n    padding: 10,\n    backgroundColor: 'white',\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  featuresContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  featureColumn: {\n    width: SCREEN_WIDTH < 768 ? '90%' : '100%',\n    maxWidth: 600,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  columnTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featuresList: {\n    width: '100%',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 20,\n  },\n  featureItem: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    alignItems: 'flex-start',\n    width: '100%',\n  },\n  featureIconCircle: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 5,\n  },\n  featureIcon: {\n    fontSize: 40,\n  },\n  featureTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featureText: {\n    fontSize: theme.fontSizes.mediumLarge + 2,\n    color: 'black',\n    lineHeight: 22,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    backgroundColor: '#6A6C51',\n    width: '50%',\n    padding: 5,\n    borderRadius: 5,\n    alignItems: 'center',\n  },\n  buttonContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  blogSection: {\n    marginBottom: 20,\n    alignItems: 'center',\n  },\n  blogCard: {\n    width: 300,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    padding: 15,\n    marginRight: 10,\n  },\n  authorContainer: {\n    flexDirection: 'column',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginBottom: 10,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n  },\n  readTime: {\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 16,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  roadmapSection: {\n    marginBottom: 20,\n  },\n  roadmapImage: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  roadmapOverlayText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n  },\n  faqSection: {\n    marginBottom: 20,\n  },\n  faqItem: {\n    marginBottom: 10,\n  },\n  faqButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  faqQuestion: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  faqToggle: {\n    fontSize: 14,\n    color: 'gray',\n  },\n  faqAnswer: {\n    fontSize: 16,\n  },\n  contactSection: {\n    // maxWidth: 800,\n    width: '100%',\n    // display: 'flex',\n    // flexDirection: 'column',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: 20,\n  },\n  contactContainer: {\n    width: '100%',\n    maxWidth: 600,\n  },\n  input: {\n    padding: 10,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 5,\n  },\n  footer: {\n    padding: 20,\n    backgroundColor: theme.colors.primary,\n    alignItems: 'center',\n  },\n  socialIconsRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 15,\n  },\n  socialIcon: {\n    marginHorizontal: 15,\n    padding: 5,\n  },\n  footerLinksRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  footerLink: {\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginHorizontal: 15,\n    textDecorationLine: 'underline',\n  },\n  successMessage: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginTop: 10,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 100,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  validationError: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: -5,\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4,\n  },\n  starIcon: {\n    marginRight: 2,\n  },\n  waitlistSection: {\n    // backgroundColor: '#f5f5f5',\n    marginVertical: 20,\n    borderRadius: 10,\n  },\n  waitlistDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    paddingHorizontal: 20,\n    lineHeight: 24,\n  },\n  waitlistButton: {\n    marginTop: 10,\n    width: '80%',\n    maxWidth: 300,\n    padding: 15,\n  },\n  scrollIndicators: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  scrollIndicatorButton: {\n    padding: 10, // Increase touch target\n    marginHorizontal: -6, // Compensate for padding while maintaining visual spacing\n  },\n  scrollIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: theme.colors.border,\n    marginHorizontal: 4,\n  },\n  scrollIndicatorActive: {\n    backgroundColor: theme.colors.primary,\n    width: 24,\n  },\n  scrollHint: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 10,\n  },\n  scrollHintText: {\n    color: theme.colors.primary,\n    marginRight: 5,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  scrollContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  scrollContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, SafeAreaView, StatusBar, Alert } from 'react-native';\nimport { Text, TextInput, Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\n\nconst fetchClientProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        name: 'Alice Johnson',\n        email: 'alice@example.com',\n        phone: '(555) 123-4567',\n        age: '32',\n        address: '123 Main St',\n        city: 'San Francisco',\n        state: 'CA',\n        zip: '94122',\n        country: 'USA',\n        bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://example.com/max.jpg' },\n          { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n          { id: '3', name: 'Rocky', type: 'Dog', breed: 'Beagle', age: 2, photo: 'https://example.com/rocky.jpg' },\n        ],\n        emergencyContact: {\n          name: 'John Smith',\n          phone: '(555) 987-6543',\n        },\n        authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n      });\n    }, 1000);\n  });\n};\n\nconst ClientProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({});\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const { isApprovedProfessional, switchRole } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n\n  useEffect(() => {\n    fetchClientProfileData().then((data) => {\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n    }\n  };\n\n  const saveProfile = async () => {\n    const profileData = {\n      profilePhoto,\n      name,\n      email,\n      phone,\n      age,\n      address,\n      city,\n      state,\n      zip,\n      country,\n      bio,\n      pets,\n      emergencyContact,\n      authorizedHouseholdMembers,\n    };\n\n    setIsLoading(true);\n\n    // Simulate API call to save profile data\n    setTimeout(() => {\n      console.log(\"Profile data saved:\", profileData);\n      setIsLoading(false);\n      Alert.alert(\"Success\", \"Profile saved successfully!\");\n    }, 1000);\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode(prevState => ({...prevState, [section]: !prevState[section]}));\n  };\n\n  const renderEditableField = (label, value, onChangeText, section) => {\n    return editMode[section] ? (\n      <TextInput\n        label={label}\n        value={value}\n        onChangeText={onChangeText}\n        style={styles.input}\n      />\n    ) : (\n      <Text style={styles.fieldText}>{label}: {value}</Text>\n    );\n  };\n\n  const addHouseholdMember = () => {\n    if (editMode.household) {\n      setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, '']);\n    }\n  };\n\n  const updateHouseholdMember = (index, value) => {\n    if (editMode.household) {\n      const updatedMembers = [...authorizedHouseholdMembers];\n      updatedMembers[index] = value;\n      setAuthorizedHouseholdMembers(updatedMembers);\n    }\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300; // Adjust this value based on your popup width\n            const popupHeight = 200; // Adjust this value based on your popup height\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight,\n              left: px - scrollViewX - (popupWidth - width) / 2,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const renderIcon = (name, size, color, onPress) => {\n    return (\n      <TouchableOpacity onPress={onPress}>\n        <Ionicons name={name} size={size} color={color} />\n      </TouchableOpacity>\n    );\n  };\n\n  const ContentWrapper = Platform.OS === 'ios' ? SafeAreaView : View;\n\n  const saveSection = (section) => {\n    // Implement the save logic for each section\n    console.log(`Saving ${section} section`);\n    Alert.alert(\"Success\", `${section} information saved successfully!`);\n    toggleEditMode(section);\n  };\n\n  const handleSwitchToProfessional = () => {\n    switchRole();\n    navigation.navigate('ProfessionalProfile');\n  };\n\n  const handleGoBack = () => {\n    navigation.goBack();\n  };\n\n  const renderSaveButton = (section) => {\n    if (editMode[section]) {\n      return (\n        <Button \n          mode=\"contained\" \n          onPress={() => saveSection(section)}\n          style={styles.sectionSaveButton}\n        >\n          Save {section}\n        </Button>\n      );\n    }\n    return null;\n  };\n\n  const renderProfilePhoto = () => {\n    if (profilePhoto) {\n      return <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />;\n    } else {\n      return (\n        <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n          <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n        </View>\n      );\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return windowWidth < 600 ? '90%' : '60%';\n    }\n    return '90%';\n  };\n\n  // Use isApprovedProfessional from context or localIsApprovedProfessional from AsyncStorage\n  const showSwitchToProfessionalButton = isApprovedProfessional || localIsApprovedProfessional;\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <View style={styles.headerLeft}>\n          <TouchableOpacity onPress={() => navigation.navigate('More')} style={styles.backButton}>\n            <Ionicons name=\"chevron-back\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n          <Text style={styles.headerText}>Client Profile</Text>\n        </View>\n        {showSwitchToProfessionalButton && (\n          <Button \n            mode=\"contained\" \n            onPress={handleSwitchToProfessional}\n            style={styles.switchProfileButton}\n          >\n            Switch to Professional\n          </Button>\n        )}\n      </View>\n      <ScrollView \n        ref={scrollViewRef}\n        contentContainerStyle={styles.scrollViewContent}\n      >\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={styles.profileHeader}>\n            <TouchableOpacity onPress={pickImage}>\n              {renderProfilePhoto()}\n            </TouchableOpacity>\n            <View style={styles.profileInfo}>\n              <Text style={styles.name}>{name}</Text>\n              <Text style={styles.location}>{city}, {state}</Text>\n            </View>\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Personal Information</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('personal'))}\n            </View>\n            {renderEditableField('Name', name, setName, 'personal')}\n            {renderEditableField('Email', email, setEmail, 'personal')}\n            {renderEditableField('Phone', phone, setPhone, 'personal')}\n            {renderEditableField('Age', age, setAge, 'personal')}\n            {renderSaveButton('personal')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Address</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('address'))}\n            </View>\n            {renderEditableField('Address', address, setAddress, 'address')}\n            {renderEditableField('City', city, setCity, 'address')}\n            {renderEditableField('State', state, setState, 'address')}\n            {renderEditableField('ZIP', zip, setZip, 'address')}\n            {renderEditableField('Country', country, setCountry, 'address')}\n            {renderSaveButton('address')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>About Me</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('bio'))}\n            </View>\n            {editMode.bio ? (\n              <TextInput\n                multiline\n                numberOfLines={4}\n                value={bio}\n                onChangeText={setBio}\n                style={styles.bioInput}\n              />\n            ) : (\n              <Text style={styles.fieldText}>{bio}</Text>\n            )}\n            {renderSaveButton('bio')}\n          </View>\n\n          <View style={styles.section}>\n            <TouchableOpacity onPress={() => navigation.navigate('MyPets')}>\n              <Text style={styles.sectionTitle}>My Pets</Text>\n            </TouchableOpacity>\n            {pets.map((pet) => (\n              <TouchableOpacity \n                key={pet.id} \n                style={styles.petItem}\n                onPress={() => navigation.navigate('PetProfile', { petId: pet.id })}\n              >\n                <View style={styles.petItemContent}>\n                  <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n                  <View style={styles.petInfo}>\n                    <Text style={styles.petName}>{pet.name}</Text>\n                    <Text style={styles.petDetails}>{pet.type} • {pet.breed} • {pet.age} years old</Text>\n                  </View>\n                </View>\n              </TouchableOpacity>\n            ))}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Emergency Contact</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('emergency'))}\n            </View>\n            {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({...emergencyContact, name: text}), 'emergency')}\n            {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({...emergencyContact, phone: text}), 'emergency')}\n            {renderSaveButton('emergency')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n              <View style={styles.iconContainer}>\n                <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                  <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n                {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('household'))}\n              </View>\n            </View>\n            {authorizedHouseholdMembers.map((member, index) => (\n              editMode.household ? (\n                <TextInput\n                  key={index}\n                  label={`Member ${index + 1}`}\n                  value={member}\n                  onChangeText={(text) => updateHouseholdMember(index, text)}\n                  style={styles.input}\n                />\n              ) : (\n                <Text key={index} style={styles.fieldText}>{member}</Text>\n              )\n            ))}\n            {editMode.household && (\n              <Button mode=\"outlined\" onPress={addHouseholdMember} style={styles.addButton}>\n                Add Household Member\n              </Button>\n            )}\n            {renderSaveButton('household')}\n          </View>\n        </View>\n      </ScrollView>\n\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  content: {\n    alignSelf: 'center',\n    maxWidth: 800,\n    paddingTop: 16, // Add some padding at the top\n  },\n  switchProfileButton: {\n    alignSelf: 'flex-end',\n    marginBottom: 16,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  sectionSaveButton: {\n    marginTop: 16,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginTop: 10,\n    color: theme.colors.primary,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  fieldText: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  iconContainer: {\n    flexDirection: 'row',\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 10,\n  },\n  modalContent: {\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  modalText: {\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  profileInfo: {\n    alignItems: 'center',\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  switchProfileButton: {\n    backgroundColor: theme.colors.primary,\n  },\n});\n\nexport default ClientProfile;\n","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { theme } from '../styles/theme';\n\nconst FloatingSaveButton = ({ visible, onSave, btnText }) => {\n  if (!visible) return null;\n//   console.log('visible: ', visible)\n\n  return (\n    <View style={[\n      styles.floatingButtonContainer,\n      Platform.OS === 'web' ? styles.webButton : styles.mobileButton\n    ]}>\n      <Button \n        mode=\"contained\" \n        onPress={onSave}\n        style={styles.floatingButton}\n      >\n        {btnText}\n      </Button>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  floatingButtonContainer: {\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 16,\n    zIndex: 9999,\n  },\n  webButton: {\n    position: 'sticky',\n    bottom: 20,\n    backgroundColor: 'transparent',\n  },\n  mobileButton: {\n    position: 'absolute',\n    bottom: Platform.OS === 'web' ? 80 : 100,\n    paddingBottom: Platform.OS === 'web' ? 20 : 20,\n  },\n  floatingButton: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 25,\n    paddingHorizontal: 20,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    maxWidth: 600,\n  },\n});\n\nexport default FloatingSaveButton;","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  Alert,\n  ScrollView,\n  Platform,\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { TIME_OPTIONS, GENERAL_CATEGORIES, SERVICE_TYPE_SUGGESTIONS, ANIMAL_TYPE_SUGGESTIONS } from '../data/mockData';\n\nconst AddServiceModal = ({ \n  visible, \n  onClose, \n  onSave,\n  initialService = null,\n  setHasUnsavedChanges \n}) => {\n  const [currentService, setCurrentService] = useState({\n    serviceName: '',\n    serviceDescription: '',\n    animalTypes: '',\n    rates: { \n      base_rate: '',\n      additionalAnimalRate: '',\n      holidayRate: ''\n    },\n    lengthOfService: '',\n    categories: [],\n  });\n  const [additionalRates, setAdditionalRates] = useState([]);\n  const [showValidationErrors, setShowValidationErrors] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [serviceDropdownPosition, setServiceDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [animalDropdownPosition, setAnimalDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [categoryDropdownPosition, setCategoryDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n\n  const serviceInputRef = useRef(null);\n  const animalInputRef = useRef(null);\n  const categoryInputRef = useRef(null);\n  const timeInputRef = useRef(null);\n\n  const categoryDropdownRef = useRef(null);\n  const animalDropdownRef = useRef(null);\n  const serviceDropdownRef = useRef(null);\n  const timeDropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (initialService) {\n      setCurrentService(initialService);\n      setSelectedCategories(initialService.categories || []);\n      setAdditionalRates(initialService.additionalRates || []);\n    }\n  }, [initialService]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showCategoryDropdown && \n          categoryDropdownRef.current && \n          !categoryDropdownRef.current.contains(event.target)) {\n        setShowCategoryDropdown(false);\n      }\n      if (showAnimalDropdown && \n          animalDropdownRef.current && \n          !animalDropdownRef.current.contains(event.target)) {\n        setShowAnimalDropdown(false);\n      }\n      if (showServiceDropdown && \n          serviceDropdownRef.current && \n          !serviceDropdownRef.current.contains(event.target)) {\n        setShowServiceDropdown(false);\n      }\n      if (showTimeDropdown && \n          timeDropdownRef.current && \n          !timeDropdownRef.current.contains(event.target)) {\n        setShowTimeDropdown(false);\n      }\n    };\n\n    if (visible) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showCategoryDropdown, showAnimalDropdown, showServiceDropdown, showTimeDropdown, visible]);\n\n  const measureDropdown = (inputRef, setPosition, inputType) => {\n    if (inputRef.current) {\n      inputRef.current.measure((x, y, width, height, pageX, pageY) => {\n        setPosition({ \n          top: y + height - 6,\n          left: x, \n          width: '100%',\n        });\n      });\n    }\n  };\n\n  const handleServiceTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, serviceName: text }));\n  };\n\n  const handleAnimalTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, animalTypes: text }));\n  };\n\n  const handleCategorySelect = (category) => {\n    setSelectedCategories(prev => {\n      if (prev.includes(category)) {\n        return prev.filter(c => c !== category);\n      }\n      return [...prev, category];\n    });\n  };\n\n  const getFilteredServiceSuggestions = () => {\n    if (!currentService?.serviceName) return SERVICE_TYPE_SUGGESTIONS;\n    return SERVICE_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.serviceName.toLowerCase())\n    );\n  };\n\n  const getFilteredAnimalSuggestions = () => {\n    if (!currentService?.animalTypes) return ANIMAL_TYPE_SUGGESTIONS;\n    return ANIMAL_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.animalTypes.toLowerCase())\n    );\n  };\n\n  const addAdditionalRate = () => {\n    setAdditionalRates(prev => [...prev, { label: '', value: '', description: '' }]);\n  };\n\n  const updateAdditionalRate = (index, key, value) => {\n    setAdditionalRates(prev =>\n      prev.map((rate, i) => (i === index ? { ...rate, [key]: value } : rate))\n    );\n  };\n\n  const handleAddService = async () => {\n    if (!currentService.serviceName?.trim() ||\n        !currentService.animalTypes?.trim() ||\n        !currentService.rates.base_rate?.trim() ||\n        !currentService.rates.additionalAnimalRate?.trim() ||\n        !currentService.rates.holidayRate?.trim() ||\n        !currentService.lengthOfService?.trim()) {\n      setShowValidationErrors(true);\n      return;\n    }\n\n    try {\n      const serviceToSave = {\n        ...currentService,\n        additionalRates,\n        categories: selectedCategories,\n      };\n\n      await onSave(serviceToSave);\n      setHasUnsavedChanges(true);\n      resetForm();\n      onClose();\n    } catch (error) {\n      console.error('Error saving service:', error);\n      Alert.alert('Error', 'Failed to save service');\n    }\n  };\n\n  const resetForm = () => {\n    setCurrentService({\n      serviceName: '',\n      serviceDescription: '',\n      animalTypes: '',\n      rates: { \n        base_rate: '',\n        additionalAnimalRate: '',\n        holidayRate: ''\n      },\n      lengthOfService: '',\n      categories: [],\n    });\n    setSelectedCategories([]);\n    setAdditionalRates([]);\n    setShowValidationErrors(false);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <ScrollView style={styles.modalScroll}>\n            <Text style={styles.modalTitle}>\n              {initialService ? 'Edit Service' : 'Add New Service'}\n            </Text>\n            \n            <View style={[styles.inputWrapper, { zIndex: 4 }]}>\n              <Text style={styles.inputLabel}>General Categories</Text>\n              <TouchableOpacity\n                ref={categoryInputRef}\n                style={[styles.input, styles.categoryInput]}\n                onPress={() => {\n                  measureDropdown(categoryInputRef, setCategoryDropdownPosition, 'category');\n                  setShowCategoryDropdown(!showCategoryDropdown);\n                }}\n              >\n                <Text style={selectedCategories.length ? styles.selectedText : styles.placeholderText}>\n                  {selectedCategories.length ? selectedCategories.join(', ') : 'Select categories'}\n                </Text>\n                <MaterialCommunityIcons \n                  name={showCategoryDropdown ? \"chevron-up\" : \"chevron-down\"} \n                  size={24} \n                  color={theme.colors.primary} \n                />\n              </TouchableOpacity>\n              {showCategoryDropdown && (\n                <View \n                  ref={categoryDropdownRef}\n                  style={[styles.categoryDropdownContainer, categoryDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.categoryScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {GENERAL_CATEGORIES.map((category, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => handleCategorySelect(category)}\n                        style={styles.categoryItem}\n                      >\n                        <Text style={styles.categoryText}>{category}</Text>\n                        <View style={styles.checkmarkContainer}>\n                          {selectedCategories.includes(category) && (\n                            <MaterialCommunityIcons \n                              name=\"check\" \n                              size={20} \n                              color={theme.colors.primary} \n                            />\n                          )}\n                        </View>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 3 }]}>\n              <Text style={styles.inputLabel}>Animal Type</Text>\n              <TextInput\n                ref={animalInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.animalTypes?.trim() && styles.inputError\n                ]}\n                placeholder=\"Animal Type\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.animalTypes}\n                onChangeText={handleAnimalTypeChange}\n                onFocus={() => {\n                  setShowAnimalDropdown(true);\n                  measureDropdown(animalInputRef, setAnimalDropdownPosition, 'animal');\n                }}\n              />\n              {showAnimalDropdown && (\n                <View \n                  ref={animalDropdownRef}\n                  style={[styles.suggestionsContainer, animalDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredAnimalSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, animalTypes: suggestion }));\n                          setShowAnimalDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 2 }]}>\n              <Text style={styles.inputLabel}>Service Name</Text>\n              <TextInput\n                ref={serviceInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.serviceName?.trim() && styles.inputError\n                ]}\n                placeholder=\"Service Name\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceName}\n                onChangeText={handleServiceTypeChange}\n                onFocus={() => {\n                  setShowServiceDropdown(true);\n                  measureDropdown(serviceInputRef, setServiceDropdownPosition, 'service');\n                }}\n              />\n              {showServiceDropdown && (\n                <View \n                  ref={serviceDropdownRef}\n                  style={[styles.suggestionsContainer, serviceDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredServiceSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, serviceName: suggestion }));\n                          setShowServiceDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Service Description</Text>\n              <TextInput\n                style={[styles.input, styles.descriptionInput]}\n                placeholder=\"Service Description\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceDescription}\n                onChangeText={(text) =>\n                  setCurrentService((prev) => ({ ...prev, serviceDescription: text }))\n                }\n                multiline\n              />\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Length of Service</Text>\n              <TouchableOpacity\n                ref={timeInputRef}\n                style={[\n                  styles.input,\n                  styles.timeInput,\n                  showValidationErrors && !currentService?.lengthOfService?.trim() && styles.inputError\n                ]}\n                onPress={() => setShowTimeDropdown(!showTimeDropdown)}\n              >\n                <Text style={currentService?.lengthOfService ? styles.selectedText : styles.placeholderText}>\n                  {currentService?.lengthOfService || 'Select length of service'}\n                </Text>\n                <MaterialCommunityIcons\n                  name={showTimeDropdown ? 'chevron-up' : 'chevron-down'}\n                  size={24}\n                  color={theme.colors.primary}\n                />\n              </TouchableOpacity>\n              {showTimeDropdown && (\n                <View \n                  ref={timeDropdownRef}\n                  style={styles.timeDropdownContainer}\n                >\n                  <ScrollView\n                    style={{ maxHeight: 200 }}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {TIME_OPTIONS.map((option, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        style={styles.timeDropdownItem}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, lengthOfService: option }));\n                          setShowTimeDropdown(false);\n                        }}\n                      >\n                        <Text\n                          style={[\n                            styles.timeDropdownText,\n                            currentService?.lengthOfService === option && styles.selectedTimeOption,\n                          ]}\n                        >\n                          {option}\n                        </Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <Text style={styles.inputLabel}>Base Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.base_rate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 25\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.base_rate ? `$${currentService.rates.base_rate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    base_rate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Additional Animal Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.additionalAnimalRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 20\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.additionalAnimalRate ? `$${currentService.rates.additionalAnimalRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    additionalAnimalRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Holiday Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.holidayRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 30\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.holidayRate ? `$${currentService.rates.holidayRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    holidayRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            {additionalRates.map((rate, idx) => (\n              <View key={idx} style={styles.additionalRateRow}>\n                <Text style={styles.additionalRateTitle}>Rate #{idx + 1}</Text>\n                <Text style={styles.inputLabel}>Rate Title</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.label?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Animal with medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.label || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'label', text)}\n                />\n                <Text style={styles.inputLabel}>Rate Amount</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.value?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"$ Ex. 20\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  keyboardType=\"decimal-pad\"\n                  value={rate.value ? `$${rate.value}` : ''}\n                  onChangeText={(value) => updateAdditionalRate(idx, 'value', value.replace(/[^0-9.]/g, '').replace('$', ''))}\n                />\n                <Text style={styles.inputLabel}>Rate Description</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.description?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Rate for animal needing medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.description || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'description', text)}\n                />\n                <TouchableOpacity \n                  onPress={() => {\n                    setAdditionalRates(prevRates => prevRates.filter((_, i) => i !== idx));\n                  }}\n                  style={styles.deleteRateButton}\n                >\n                  <Text style={styles.deleteRateButtonText}>Delete Additional Rate</Text>\n                </TouchableOpacity>\n              </View>\n            ))}\n\n            <TouchableOpacity onPress={addAdditionalRate} style={styles.addRateButton}>\n              <Text style={styles.addRateText}>+ Add Additional Rate</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.modalButtons}>\n            <TouchableOpacity\n              style={styles.cancelButton}\n              onPress={() => {\n                resetForm();\n                onClose();\n              }}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.saveButton} onPress={handleAddService}>\n              <Text style={styles.saveButtonText}>\n                {initialService ? 'Save Changes' : 'Add Service'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '50%',\n  },\n  modalScroll: {\n    maxHeight: '90%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  inputWrapper: {\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.surface,\n    color: theme.colors.text,\n  },\n  inputError: {\n    borderColor: theme.colors.error,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    marginTop: 15,\n    fontWeight: '500',\n  },\n  categoryInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  timeInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  selectedText: {\n    color: theme.colors.text,\n  },\n  placeholderText: {\n    color: theme.colors.placeHolderText,\n  },\n  categoryDropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  categoryScrollView: {\n    maxHeight: 200,\n  },\n  categoryItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  categoryText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  checkmarkContainer: {\n    width: 24,\n    alignItems: 'center',\n  },\n  suggestionsContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  suggestionScrollView: {\n    maxHeight: 200,\n  },\n  suggestionText: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    color: theme.colors.text,\n  },\n  timeDropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  timeDropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  timeDropdownText: {\n    color: theme.colors.text,\n  },\n  selectedTimeOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  descriptionInput: {\n    height: 80,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  additionalRateRow: {\n    marginTop: 20,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  additionalRateTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  deleteRateButton: {\n    backgroundColor: theme.colors.error,\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 10,\n    alignItems: 'center',\n  },\n  deleteRateButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  addRateButton: {\n    marginTop: 15,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    alignItems: 'center',\n  },\n  addRateText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 20,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    marginLeft: 10,\n  },\n  saveButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default AddServiceModal;\n","import React, { useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ProfessionalServiceCard = ({ \n  item, \n  index, \n  isCollapsed, \n  onEdit, \n  onDelete, \n  onToggleCollapse \n}) => {\n  const { screenWidth } = useContext(AuthContext);\n\n  return (\n    <View style={styles.serviceCard}>\n      <View style={styles.topRow}>\n        <Text style={styles.serviceName}>{item.serviceName}</Text>\n        <View style={styles.topRowIcons}>\n          <TouchableOpacity onPress={() => onDelete(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"trash-can\" size={24} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => onEdit(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"pencil\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </View>\n      \n      {isCollapsed ? (\n        <View style={styles.collapsedContent}>\n          <Text style={styles.rateText}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n        </View>\n      ) : (\n        <View style={styles.contentRow}>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Additional Animal: ${item.rates.additionalAnimalRate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Holiday Rate: ${item.rates.holidayRate || 'N/A'}</Text>\n          {item.additionalRates && item.additionalRates.map((rate, idx) => (\n            <Text key={idx} style={[styles.rateText, { \n              fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n            }]}>\n              {rate.label}: ${rate.value} {rate.description ? `(${rate.description})` : ''}\n            </Text>\n          ))}\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Duration: {item.lengthOfService || 'N/A'}</Text>\n        </View>\n      )}\n\n      <TouchableOpacity \n        onPress={() => onToggleCollapse(index)} \n        style={styles.collapseButton}\n      >\n        <MaterialCommunityIcons \n          name={isCollapsed ? \"chevron-down\" : \"chevron-up\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    marginVertical: 8,\n    padding: 12,\n    position: 'relative',\n  },\n  topRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  topRowIcons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  iconButton: {\n    padding: 4,\n  },\n  contentRow: {\n    gap: 4,\n  },\n  collapsedContent: {\n    marginTop: 4,\n  },\n  rateText: {\n    color: theme.colors.text,\n  },\n  collapseButton: {\n    position: 'absolute',\n    bottom: 8,\n    right: 8,\n    padding: 4,\n  },\n});\n\nexport default ProfessionalServiceCard;","import React from 'react';\nimport { Modal, View, Text, TouchableOpacity, StyleSheet, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ConfirmationModal = ({ \n  visible, \n  onClose, \n  onConfirm, \n  actionText,\n  isLoading = false\n}) => {\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalText}>\n            Are you sure you want to {actionText}?\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.cancelButton]}\n              onPress={onClose}\n              disabled={isLoading}\n            >\n              <Text style={[\n                styles.cancelButtonText,\n                isLoading && styles.disabledText\n              ]}>\n                Cancel\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              style={[\n                styles.button, \n                styles.confirmButton,\n                isLoading && styles.disabledButton\n              ]}\n              onPress={onConfirm}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n              ) : (\n                <Text style={styles.confirmButtonText}>Confirm</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 400,\n  },\n  modalText: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    textAlign: 'center',\n    color: theme.colors.text,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  confirmButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  confirmButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  disabledText: {\n    opacity: 0.5,\n  },\n});\n\nexport default ConfirmationModal;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, FlatList } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddServiceModal from './AddServiceModal';\nimport ProfessionalServiceCard from './ProfessionalServiceCard';\nimport ConfirmationModal from './ConfirmationModal';\nimport { Portal } from 'react-native-paper';\n\nconst ServiceManager = ({ services, setServices, setHasUnsavedChanges, isProfessionalTab = false }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [editingService, setEditingService] = useState(null);\n  const [collapsedServices, setCollapsedServices] = useState([]);\n  const [allCollapsed, setAllCollapsed] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [serviceToDelete, setServiceToDelete] = useState(null);\n  const [hoveredButton, setHoveredButton] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState(null);\n  const [collapseTooltipPosition, setCollapseTooltipPosition] = useState(null);\n  const buttonRef = useRef(null);\n  const collapseButtonRef = useRef(null);\n\n  const toggleCollapseAll = () => {\n    if (allCollapsed) {\n      setCollapsedServices([]);\n    } else {\n      setCollapsedServices(services.map((_, index) => index));\n    }\n    setAllCollapsed(!allCollapsed);\n  };\n\n  const handleEditService = (index) => {\n    const serviceToEdit = { ...services[index], index };\n    setEditingService(serviceToEdit);\n    setShowModal(true);\n  };\n\n  const handleDeleteService = (index) => {\n    setServiceToDelete(index);\n    setShowDeleteModal(true);\n  };\n\n  const handleSaveService = (updatedService) => {\n    if (editingService !== null) {\n      setServices(prev => \n        prev.map((service, index) => \n          index === editingService.index ? updatedService : service\n        )\n      );\n    } else {\n      setServices(prev => [...prev, updatedService]);\n    }\n    setHasUnsavedChanges(true);\n    setEditingService(null);\n  };\n\n  const toggleCollapse = (index) => {\n    setCollapsedServices((prev) =>\n      prev.includes(index)\n        ? prev.filter((i) => i !== index)\n        : [...prev, index]\n    );\n  };\n\n  const confirmDelete = () => {\n    setServices(prevServices => \n      prevServices.filter((_, i) => i !== serviceToDelete)\n    );\n    setHasUnsavedChanges(true);\n    setShowDeleteModal(false);\n  };\n\n  const showTooltip = (ref, tooltipText, setPosition) => {\n    if (ref.current) {\n      setTimeout(() => {\n        // Get the button's DOM element\n        const element = ref.current;\n        // Get the button's bounding rectangle relative to the viewport\n        const rect = element.getBoundingClientRect();\n        \n        \n        setPosition({\n          x: rect.left + (rect.width / 2),\n          y: rect.top, // Position tooltip at the top of the button\n          text: tooltipText\n        });\n        \n        \n        setHoveredButton(tooltipText);\n      }, 0);\n    }\n  };\n\n  // {console.log('Services:', services)}\n\n  return (\n    <View style={styles.container}>\n      <View style={[styles.serviceListContainer, { paddingHorizontal: isProfessionalTab ? 0 : 20 }]}>\n        <View style={styles.headerButtons}>\n          <Text style={styles.sectionTitle}>Services</Text>\n          <View style={styles.headerActions}>\n            <TouchableOpacity \n              ref={collapseButtonRef}\n              onPress={toggleCollapseAll} \n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(\n                    collapseButtonRef, \n                    allCollapsed ? 'Expand All' : 'Collapse All', \n                    setCollapseTooltipPosition\n                  );\n                } catch (error) {\n                  console.error('Error showing collapse tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setCollapseTooltipPosition(null);\n              }}\n            >\n              <MaterialCommunityIcons \n                name={allCollapsed ? \"chevron-down\" : \"chevron-up\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              ref={buttonRef}\n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(buttonRef, 'Add Service', setTooltipPosition);\n                } catch (error) {\n                  console.error('Error showing add tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setTooltipPosition(null);\n              }}\n              onPress={() => {\n                setEditingService(null);\n                setShowModal(true);\n              }}\n            >\n              <MaterialCommunityIcons \n                name=\"plus\" \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        {(Array.isArray(services) && services.length > 0) ? (\n          <FlatList\n            data={services}\n            renderItem={({ item, index }) => {\n              // console.log('Before ProfessionalServiceCard render:', { item, index });\n              \n              if (!item || typeof item !== 'object') {\n                console.warn('Invalid item detected:', item);\n                return null;\n              }\n              \n              return (\n                <ProfessionalServiceCard\n                  key={`service-${index}`}\n                  item={item}\n                  {...item}\n                  service={item}\n                  onEdit={() => handleEditService(index)}\n                  onDelete={() => handleDeleteService(index)}\n                  isCollapsed={collapsedServices.includes(index)}\n                  onToggleCollapse={() => toggleCollapse(index)}\n                  isProfessionalTab={isProfessionalTab}\n                />\n              );\n            }}\n            keyExtractor={(item, index) => `service-${index}`}\n          />\n        ) : (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>No services yet</Text>\n            <TouchableOpacity \n              style={styles.addButton}\n              onPress={() => setShowModal(true)}\n            >\n              <Text style={styles.addButtonText}>Add Services</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      </View>\n      \n\n      <AddServiceModal\n        visible={showModal}\n        onClose={() => {\n          setShowModal(false);\n          setEditingService(null);\n        }}\n        onSave={handleSaveService}\n        initialService={editingService}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n      />\n\n      <ConfirmationModal\n        visible={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        onConfirm={confirmDelete}\n        actionText=\"delete this service\"\n      />\n\n      {tooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: tooltipPosition.y - 40,\n                left: tooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{tooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n\n      {collapseTooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: collapseTooltipPosition.y - 40,\n                left: collapseTooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{collapseTooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 9998,\n    elevation: 9998,\n  },\n  serviceListContainer: {\n    flex: 1,\n    paddingVertical: 0,\n  },\n  headerButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerButton: {\n    marginLeft: 20,\n    padding: 8,\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  buttonTooltip: {\n    position: 'absolute',\n    bottom: '100%',\n    left: '50%',\n    transform: [{ translateX: -35 }],\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    width: 70,\n    textAlign: 'center',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -1,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 10000,\n    elevation: 10000,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  portalTooltip: {\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    width: 70,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  tooltipText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  emptyText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    marginBottom: 20,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n});\n\nexport default ServiceManager;\n","import React from 'react';\nimport { View, Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst RecordedPets = ({ pets }) => {\n  return (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>My Pets</Text>\n      {pets.map((pet) => (\n        <TouchableOpacity key={pet.id} style={styles.petItem}>\n          <View style={styles.petItemContent}>\n            <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type} • {pet.breed} • {pet.age} years old</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      ))}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n});\n\nexport default RecordedPets;","import React from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst EditableSection = ({ \n  title, \n  value, \n  onChangeText, \n  editMode, \n  toggleEditMode, \n  setHasUnsavedChanges,\n  getContentWidth,\n  multiline = true \n}) => {\n  const renderEditableField = () => {\n    return editMode ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${title.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  return (\n    <View style={styles.section}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <TouchableOpacity onPress={toggleEditMode}>\n          <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n        </TouchableOpacity>\n      </View>\n      {renderEditableField()}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    // marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n});\n\nexport default EditableSection;","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  Image,\n  TouchableOpacity,\n  ScrollView,\n  StyleSheet,\n  Modal,\n} from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport ServiceManager from './ServiceManager';\nimport { theme } from '../styles/theme';\nimport RecordedPets from './RecordedPets';\nimport EditableSection from './EditableSection';\nimport * as ImagePicker from 'expo-image-picker';\n\nconst ProfessionalTab = ({ \n  services, \n  setServices, \n  setHasUnsavedChanges,\n  getContentWidth,\n  pets,\n  editMode,\n  toggleEditMode\n}) => {\n  const [professionalPhoto, setProfessionalPhoto] = useState(null);\n  const [professionalBio, setProfessionalBio] = useState('');\n  const [portfolioPhotos, setPortfolioPhotos] = useState([]);\n  const [facilities, setFacilities] = useState('');\n  const [skills, setSkills] = useState({\n    certifications: [],\n    experience: '',\n    specialties: [],\n  });\n  const [selectedFacilities, setSelectedFacilities] = useState([]);\n  const [facilitiesModalVisible, setFacilitiesModalVisible] = useState(false);\n  const [tempSelectedFacilities, setTempSelectedFacilities] = useState([]);\n\n  const FACILITY_OPTIONS = [\n    // Living Situation\n    { id: 'apartment', label: 'Lives in an apartment' },\n    { id: 'house', label: 'Lives in a house' },\n    { id: 'fenced_yard', label: 'Has a fenced yard' },\n    \n    // Household Environment\n    { id: 'non_smoking', label: 'Non-smoking household' },\n    { id: 'no_children', label: 'No children present' },\n    { id: 'has_children', label: 'Children present' },\n    { id: 'security_system', label: 'Has security system' },\n    \n    // Pet Policies\n    { id: 'dogs_bed', label: 'Dogs allowed on bed' },\n    { id: 'dogs_furniture', label: 'Dogs allowed on furniture' },\n    { id: 'crate_available', label: 'Crate available' },\n    { id: 'separate_areas', label: 'Can separate pets' },\n    \n    // Care Details\n    { id: 'potty_0_2', label: 'Potty breaks every 0-2 hours' },\n    { id: 'potty_2_4', label: 'Potty breaks every 2-4 hours' },\n    { id: 'potty_4_6', label: 'Potty breaks every 4-6 hours' },\n    \n    // Resident Pets\n    { id: 'no_pets', label: 'No resident pets' },\n    { id: 'has_dogs', label: 'Has resident dogs' },\n    { id: 'has_cats', label: 'Has resident cats' },\n    \n    // Additional Features\n    { id: 'air_conditioned', label: 'Air-conditioned' },\n    { id: 'outdoor_area', label: 'Has outdoor play area' },\n    { id: 'emergency_transport', label: 'Emergency transport available' },\n  ];\n\n  const pickProfessionalPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfessionalPhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const addPortfolioPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: false,\n      quality: 1,\n      aspect: [4, 3],\n      allowsMultipleSelection: true,\n      selectionLimit: 10,\n    });\n\n    if (!result.canceled) {\n      const newPhotos = result.assets.map(asset => ({\n        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        uri: asset.uri,\n        caption: 'New portfolio photo'\n      }));\n      \n      setPortfolioPhotos(prev => [...prev, ...newPhotos]);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, multiline = false) => {\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${label.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  const toggleFacility = (facilityId) => {\n    setSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n    setHasUnsavedChanges(true);\n  };\n\n  const openFacilitiesModal = () => {\n    setTempSelectedFacilities([...selectedFacilities]);\n    setFacilitiesModalVisible(true);\n  };\n\n  const saveFacilities = () => {\n    setSelectedFacilities(tempSelectedFacilities);\n    setFacilitiesModalVisible(false);\n    setHasUnsavedChanges(true);\n  };\n\n  const toggleTempFacility = (facilityId) => {\n    setTempSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n  };\n\n  return (\n    <View style={styles.centeredContent}>\n      {/* Professional Photo Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Profile Photo (Professional)</Text>\n        </View>\n        <View style={styles.profileHeader}>\n          <TouchableOpacity onPress={pickProfessionalPhoto}>\n            {professionalPhoto ? (\n              <Image source={{ uri: professionalPhoto }} style={styles.profilePhoto} />\n            ) : (\n              <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n              </View>\n            )}\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {/* Professional Bio Section */}\n      <EditableSection\n        title=\"Professional Bio\"\n        value={professionalBio}\n        onChangeText={setProfessionalBio}\n        editMode={editMode.professionalBio}\n        toggleEditMode={() => toggleEditMode('professionalBio')}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n        getContentWidth={getContentWidth}\n      />\n\n      {/* Services Section */}\n      <View style={styles.section}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={true}\n        />\n      </View>\n\n      {/* Portfolio Photos Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Portfolio Photos</Text>\n          <TouchableOpacity onPress={addPortfolioPhoto}>\n            <MaterialCommunityIcons \n              name=\"plus\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.portfolioGrid}>\n          {portfolioPhotos.map((photo) => (\n            <TouchableOpacity \n              key={photo.id} \n              style={styles.portfolioCard}\n              onPress={() => {\n                // Handle photo edit/view\n                // Could add modal to edit caption or view full size\n              }}\n            >\n              <View style={styles.portfolioImageContainer}>\n                <Image \n                  source={{ uri: photo.uri }} \n                  style={styles.portfolioPhoto} \n                />\n              </View>\n              <Text style={styles.portfolioCaption}>{photo.caption}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n        {portfolioPhotos.length === 0 && (\n          <Text style={styles.emptyText}>\n            No portfolio photos added yet\n          </Text>\n        )}\n      </View>\n        \n      { /* My Pets Section (Read-Only) */}\n      <RecordedPets pets={pets} />\n\n      {/* Home & Facilities Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Home & Facilities</Text>\n          <TouchableOpacity onPress={openFacilitiesModal}>\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.facilitiesContainer}>\n          {selectedFacilities.map((facilityId) => {\n            const facility = FACILITY_OPTIONS.find(f => f.id === facilityId);\n            return (\n              <View key={facilityId} style={styles.facilityTag}>\n                <Text style={styles.facilityTagText}>{facility.label}</Text>\n              </View>\n            );\n          })}\n          {selectedFacilities.length === 0 && (\n            <Text style={styles.emptyText}>No facilities selected</Text>\n          )}\n        </View>\n\n        {/* Facilities Selection Modal */}\n        <Modal\n          visible={facilitiesModalVisible}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setFacilitiesModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <View style={styles.modalContent}>\n              <View style={styles.modalHeader}>\n                <Text style={styles.modalTitle}>Select Home & Facilities</Text>\n                <TouchableOpacity onPress={() => setFacilitiesModalVisible(false)}>\n                  <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n                </TouchableOpacity>\n              </View>\n              \n              <ScrollView style={styles.modalScroll}>\n                {FACILITY_OPTIONS.map((facility) => (\n                  <TouchableOpacity\n                    key={facility.id}\n                    style={[\n                      styles.modalFacilityTag,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagSelected\n                    ]}\n                    onPress={() => toggleTempFacility(facility.id)}\n                  >\n                    <Text style={[\n                      styles.modalFacilityText,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagTextSelected\n                    ]}>\n                      {facility.label}\n                    </Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n\n              <View style={styles.modalFooter}>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.cancelButton]}\n                  onPress={() => setFacilitiesModalVisible(false)}\n                >\n                  <Text style={styles.modalButtonText}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.saveButton]}\n                  onPress={saveFacilities}\n                >\n                  <Text style={styles.modalButtonText2}>Save</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </Modal>\n      </View>\n\n      {/* Skills & Experience Section */}\n      {/* <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Skills & Experience</Text>\n          <TouchableOpacity onPress={() => toggleEditMode('skills')}>\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n        {renderEditableField('Experience', skills.experience, \n          (text) => setSkills(prev => ({ ...prev, experience: text })), \n          'skills', \n          true\n        )}\n      </View> */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n    width: '100%',\n    maxWidth: 600,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  portfolioGrid: {\n    width: '100%',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  portfolioCard: {\n    width: '48%',\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    overflow: 'hidden',\n    elevation: 2,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.23,\n    shadowRadius: 2.62,\n  },\n  portfolioImageContainer: {\n    aspectRatio: 4/3,\n    width: '100%',\n  },\n  portfolioPhoto: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n  },\n  portfolioCaption: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    padding: 8,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.placeholder,\n    marginTop: 16,\n  },\n  facilitiesContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    paddingHorizontal: 4,\n  },\n  facilityTag: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  facilityTagSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  facilityTagText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.small,\n  },\n  facilityTagTextSelected: {\n    color: theme.colors.surface,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  modalScroll: {\n    maxHeight: '70%',\n  },\n  modalFacilityTag: {\n    padding: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  modalFacilityText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n  },\n  modalFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n  },\n  modalButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '48%',\n    alignItems: 'center',\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  modalButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  modalButtonText2: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ProfessionalTab;","import React, { useState } from 'react';\nimport { Platform, TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\n\n// Called in DefaultSettingsModal.js\n// Called in MyProfile.js\n// Called in BookingDetails.js\n\nconst DatePicker = ({ \n  value, \n  onChange, \n  placeholder = 'Select Date',\n  displayFormat = (date) => date // Optional custom display format\n}) => {\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const dateValue = value ? new Date(value) : new Date();\n\n  const handleChange = (event, selectedDate) => {\n    if (Platform.OS === 'android') {\n      setShowDatePicker(false);\n    }\n    if (selectedDate) {\n      onChange(selectedDate.toISOString().split('T')[0]);\n    }\n  };\n\n  if (Platform.OS === 'web') {\n    return (\n      <input\n        type=\"date\"\n        value={value || ''}\n        onChange={(e) => onChange(e.target.value)}\n        style={styles.webDatePicker}\n      />\n    );\n  } else if (Platform.OS === 'ios') {\n    return (\n      <DateTimePicker\n        value={dateValue}\n        mode=\"date\"\n        display=\"default\"\n        onChange={handleChange}\n      />\n    );\n  } else {\n    return (\n      <>\n        <TouchableOpacity \n          onPress={() => setShowDatePicker(true)}\n          style={styles.androidButton}\n        >\n          <Text style={styles.dateText}>\n            {value ? displayFormat(value) : placeholder}\n          </Text>\n        </TouchableOpacity>\n        {Platform.OS === 'android' && showDatePicker && (\n          <DateTimePicker\n            value={dateValue}\n            mode=\"date\"\n            display=\"default\"\n            onChange={handleChange}\n          />\n        )}\n      </>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  webDatePicker: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontSize: theme.fontSizes.medium,\n  },\n  androidButton: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default DatePicker;","import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst BackHeader = ({ \n  title, \n  onBackPress, \n  rightIcon = null, // Optional right icon\n  onRightPress = null, // Optional right icon press handler\n  rightComponent = null, // Add this prop\n  customStyles = {} \n}) => {\n  const navigation = useNavigation();\n\n  return (\n    <View style={[styles.header, customStyles]}>\n      <TouchableOpacity onPress={onBackPress} style={styles.backButton}>\n        <MaterialCommunityIcons \n          name=\"arrow-left\" \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n      \n      <Text style={styles.headerText}>{title}</Text>\n      \n      {rightComponent ? rightComponent : (\n        rightIcon && (\n          <TouchableOpacity \n            onPress={onRightPress} \n            style={styles.rightButton}\n          >\n            <MaterialCommunityIcons \n              name={rightIcon} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        )\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n    zIndex: 100,\n    elevation: 100,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    flex: 1, // This allows the title to take up remaining space\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rightButton: {\n    marginLeft: 16,\n  },\n});\n\nexport default BackHeader;","import React, { useState, useEffect } from 'react';\nimport { View, SafeAreaView, Platform, StatusBar, StyleSheet, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst CrossPlatformView = ({ \n  children, \n  style,\n  useSafeArea = true,\n  backgroundColor = theme.colors.background,\n  fullWidthHeader = false,\n  contentWidth = '800px'\n}) => {\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  // For web platform\n  if (Platform.OS === 'web') {\n    // Split children into header and content if fullWidthHeader is true\n    const headerContent = fullWidthHeader ? children[0] : null;\n    const mainContent = fullWidthHeader ? children.slice(1) : children;\n\n    return (\n      <div style={{ \n        backgroundColor, \n        width: '100%',\n        maxWidth: '100vw',\n        overflowX: 'hidden'\n      }}>\n        {fullWidthHeader && (\n          <div style={{ \n            width: '100%', \n            backgroundColor,\n            maxWidth: '100vw',\n            overflowX: 'hidden'\n          }}>\n            {headerContent}\n          </div>\n        )}\n        <div style={{\n          ...styles.webContainer,\n          ...style,\n          maxWidth: contentWidth,\n          margin: '0 auto',\n          width: '100%',\n          overflowX: 'hidden'\n        }}>\n          {mainContent}\n        </div>\n      </div>\n    );\n  }\n\n  // For iOS\n  if (Platform.OS === 'ios' && useSafeArea) {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor }, style]}>\n        {children}\n      </SafeAreaView>\n    );\n  }\n\n  // For Android or when SafeAreaView is disabled\n  return (\n    <View style={[\n      styles.container,\n      { \n        paddingTop: useSafeArea ? StatusBar.currentHeight : 0,\n        backgroundColor \n      },\n      style\n    ]}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n    width: '100%',\n    maxWidth: '100%',\n    overflow: 'hidden',\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default CrossPlatformView;","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { View, ScrollView, StyleSheet, Text, TextInput, TouchableOpacity, Image, Platform, StatusBar, Alert, useWindowDimensions } from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport { Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport ServiceManager from '../components/ServiceManager';\nimport ProfessionalTab from '../components/ProfessionalTab';\nimport RecordedPets from '../components/RecordedPets';\nimport EditableSection from '../components/EditableSection';\nimport DatePicker from '../components/DatePicker';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { DEFAULT_SERVICES } from '../data/mockData';\n\nconst MyProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({\n    professional: false,\n    services: false,\n    bio: false,\n    professionalBio: false,\n    portfolio: false,\n    facilities: false,\n    skills: false,\n  });\n\n  const [services, setServices] = useState(DEFAULT_SERVICES);\n  \n  const [activeTab, setActiveTab] = useState('client');\n  const [rates, setRates] = useState({\n    inHouse: '',\n    overnight: '',\n    dropBys: '',\n    boarding: '',\n    dayCare: '',\n  });\n  const { isApprovedProfessional } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const [photoNeedsSaving, setPhotoNeedsSaving] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [birthday, setBirthday] = useState('');\n  const [calculatedAge, setCalculatedAge] = useState(null);\n\n  useEffect(() => {\n    const fetchMyProfileData = async () => {\n      // Simulate fetching profile data\n      const data = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            name: 'Alice Johnson',\n            email: 'alice@example.com',\n            phone: '(555) 123-4567',\n            age: '32',\n            address: '123 Main St',\n            city: 'San Francisco',\n            state: 'CA',\n            zip: '94122',\n            country: 'USA',\n            bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n            pets: [\n              { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://www.google.com/imgres?q=dog%20photo%20with%20https%20url&imgurl=https%3A%2F%2Fdog.ceo%2Fimg%2Fdog-api-fb.jpg&imgrefurl=https%3A%2F%2Fdog.ceo%2Fdog-api%2F&docid=BfjWdSj7jNl2rM&tbnid=gvZ-PT7ESUiKRM&vet=12ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA..i&w=1200&h=630&hcb=2&ved=2ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA' },\n              { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n              { id: '3', name: 'Rocky', type: 'Exotic', breed: 'Lizard Gecko', age: 2, photo: 'https://example.com/rocky.jpg' },\n            ],\n            emergencyContact: {\n              name: 'John Smith',\n              phone: '(555) 987-6543',\n            },\n            authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n          });\n        }, 1000);\n      });\n\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    };\n\n    fetchMyProfileData();\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const saveProfilePhoto = () => {\n    setPhotoNeedsSaving(false);\n    Alert.alert('Success', 'Profile photo updated successfully');\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300;\n            const popupHeight = 200;\n            \n            // Calculate position relative to window width to prevent overflow\n            const maxLeftPosition = windowWidth - popupWidth - 20; // 20px safety margin\n            const calculatedLeft = px - (popupWidth / 2);\n            const safeLeft = Math.min(maxLeftPosition, Math.max(20, calculatedLeft));\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight - 10, // 10px gap above the icon\n              left: safeLeft,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode((prevState) => ({ ...prevState, [section]: !prevState[section] }));\n  };\n\n  const getContentWidth = () => {\n    // For web, cap at 600px, for mobile use window width minus padding\n    if (Platform.OS === 'web') {\n      return '100%';\n    }\n    // For mobile, account for safe areas and padding\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, type = 'text') => {\n    const isBio = label.toLowerCase() === 'bio';\n    \n    if (type === 'birthday') {\n      return editMode[section] ? (\n        <View style={[styles.input, { width: getContentWidth() }]}>\n          <DatePicker\n            value={birthday}\n            onChange={updateBirthday} // TODO: need to implement the backend call here\n            placeholder=\"Select Birthday\"\n          />\n        </View>\n      ) : (\n        <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n          {`Age: ${calculatedAge || age || 'Not specified'}`}\n        </Text>\n      );\n    }\n\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          isBio && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={isBio}\n        numberOfLines={isBio ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {isBio ? value : `${label}: ${value || 'Not specified'}`}\n      </Text>\n    );\n  };\n\n  const saveChanges = () => {\n    setHasUnsavedChanges(false);\n    setEditMode({}); // Reset all edit modes to false\n    Alert.alert('Success', 'Changes saved successfully');\n  };\n\n  const updateBirthday = async (date) => {\n    setBirthday(date);\n    setHasUnsavedChanges(true);\n    \n    try {\n      // Replace with your actual API endpoint\n      const response = await fetch('/api/calculate-age', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ birthday: date }),\n      });\n      \n      const data = await response.json();\n      setCalculatedAge(data.age);\n    } catch (error) {\n      console.error('Error calculating age:', error);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"My Profile\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView \n        ref={scrollViewRef} \n        contentContainerStyle={styles.scrollViewContent}\n        style={styles.scrollView}\n      >\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n            style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n            <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>Account Info</Text>\n          </TouchableOpacity>\n          {isApprovedProfessional && (\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n              onPress={() => setActiveTab('professional')}\n            >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>Professional</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n        {activeTab === 'client' && (\n          <View style={styles.centeredContent}>\n            <View style={styles.profileHeader}>\n              <Text style={styles.name}>Profile Photo</Text>\n              <TouchableOpacity onPress={pickImage}>\n                {profilePhoto ? (\n                  <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />\n                ) : (\n                  <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                    <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n                  </View>\n                )}\n              </TouchableOpacity>\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Personal Information</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('personal')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', name, setName, 'personal')}\n              {renderEditableField('Email', email, setEmail, 'personal')}\n              {renderEditableField('Phone', phone, setPhone, 'personal')}\n              {renderEditableField('Birthday', birthday, setBirthday, 'personal', 'birthday')}\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Address</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('address')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Address', address, setAddress, 'address')}\n              {renderEditableField('City', city, setCity, 'address')}\n              {renderEditableField('State', state, setState, 'address')}\n              {renderEditableField('ZIP', zip, setZip, 'address')}\n              {renderEditableField('Country', country, setCountry, 'address')}\n              {/* {editMode.address && <Button mode=\"contained\" onPress={() => toggleEditMode('address')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <EditableSection\n              title=\"About Me\"\n              value={bio}\n              onChangeText={setBio}\n              editMode={editMode.bio}\n              toggleEditMode={() => toggleEditMode('bio')}\n              setHasUnsavedChanges={setHasUnsavedChanges}\n              getContentWidth={getContentWidth}\n            />\n            <RecordedPets pets={pets} />\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Emergency Contact</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('emergency')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({ ...emergencyContact, name: text }), 'emergency')}\n              {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({ ...emergencyContact, phone: text }), 'emergency')}\n              {/* {editMode.emergency && <Button mode=\"contained\" onPress={() => toggleEditMode('emergency')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <View style={[\n              styles.section, \n              Platform.OS !== 'web' && styles.lastSection\n            ]}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n                <View style={styles.iconContainer}>\n                  <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                    <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                  <TouchableOpacity onPress={() => toggleEditMode('household')}>\n                    <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                </View>\n              </View>\n              {authorizedHouseholdMembers.map((member, index) => (\n                editMode.household ? (\n                  <TextInput\n                    key={index}\n                    value={member}\n                    onChangeText={(text) => {\n                      const updatedMembers = [...authorizedHouseholdMembers];\n                      updatedMembers[index] = text;\n                      setHasUnsavedChanges(true);\n                      setAuthorizedHouseholdMembers(updatedMembers);\n                    }}\n                    style={[styles.input, { width: getContentWidth() }]}\n                  />\n                ) : (\n                  <Text key={index} style={[styles.fieldText, { width: getContentWidth() }]}>{member}</Text>\n                )\n              ))}\n              {editMode.household && (\n                <View style={{ width: getContentWidth() }}>\n                  <Button \n                    mode=\"outlined\" \n                    onPress={() => setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, ''])} \n                    style={styles.addButton}\n                  >\n                    Add Household Member\n                  </Button>\n                </View>\n              )}\n            </View>\n          </View>\n        )}\n        {activeTab === 'professional' && (\n          <ProfessionalTab\n            services={services}\n            setServices={setServices}\n            setHasUnsavedChanges={setHasUnsavedChanges}\n            getContentWidth={getContentWidth}\n            pets={pets}\n            editMode={editMode}\n            toggleEditMode={toggleEditMode}\n          />\n        )}\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={saveChanges}\n        btnText={'Save Changes'}\n      />\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    padding: 16,\n    alignItems: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n    // borderWidth: 1,\n    // borderColor: theme.colors.border,\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    marginHorizontal: 5,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  profilePhoto: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: '#fff',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: '#fff',\n    borderWidth: 1,\n    borderColor: theme.colors.placeholder,\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  lastSection: {\n    marginBottom: 100, // Extra padding for last section on mobile\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 10,\n    borderRadius: 5,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    marginTop: 10,\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    maxWidth: '90vw', // Ensure popup doesn't exceed viewport width\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    // marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  fieldText: {\n    marginBottom: 10,\n  },\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  fieldContainer: {\n    marginBottom: 16,\n  },\n  fieldLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 4,\n  },\n  birthdayContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 16,\n  },\n  ageText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default MyProfile;\n","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nexport default function CustomButton({ title, onPress }) {\n  return (\n    <TouchableOpacity style={styles.button} onPress={onPress}>\n      <Text style={styles.buttonText}>{title}</Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingVertical: theme.spacing.small,\n    paddingHorizontal: theme.spacing.medium,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginVertical: theme.spacing.small,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useContext, useEffect } from 'react';\nimport { View, TextInput, Text, StyleSheet, TouchableOpacity, Dimensions, Alert, ActivityIndicator, Platform, Keyboard } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { AuthContext } from '../context/AuthContext';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n  const { signIn } = useContext(AuthContext);\n\n  const handleLogin = async () => {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      Keyboard.dismiss();\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/token/`, {\n        email: email.toLowerCase(),\n        password: password,\n      });\n\n      const { access, refresh } = response.data;\n      \n      // Pass both tokens to signIn and get the status\n      const status = await signIn(access, refresh);\n      console.log('Sign in status:', status);\n      \n      // Navigate based on status\n      if (status && status.userRole === 'professional') {\n        navigation.navigate('ProfessionalDashboard');\n      } else {\n        navigation.navigate('Dashboard');\n      }\n    } catch (error) {\n      console.error('Login failed', error);\n      const errorMessage = error.response && error.response.status === 401\n        ? 'Invalid credentials. Please try again.'\n        : 'An unexpected error occurred.';\n\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Login Failed', errorMessage);\n      } else {\n        setSuccessMessage(`Login Failed: ${errorMessage}`);\n      }\n\n      setIsEmailValid(false);\n      setIsPasswordValid(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add useEffect to handle document-wide keyboard events\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleDocumentKeyPress = (e) => {\n        if (e.key === 'Enter') {\n          handleLogin();\n        }\n      };\n\n      document.addEventListener('keydown', handleDocumentKeyPress);\n\n      // Cleanup listener when component unmounts\n      return () => {\n        document.removeEventListener('keydown', handleDocumentKeyPress);\n      };\n    }\n  }, [email, password]); // Dependencies ensure we have latest state values\n\n  // Keep the existing handleKeyPress for input fields\n  const handleKeyPress = (e) => {\n    if (Platform.OS === 'web' && e.nativeEvent.key === 'Enter') {\n      handleLogin();\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Sign In</Text>\n      <TextInput\n        style={[styles.input, !isEmailValid && styles.invalidInput]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setIsEmailValid(true);\n        }}\n        autoCapitalize=\"none\"\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <TextInput\n        style={[styles.input, !isPasswordValid && styles.invalidInput]}\n        placeholder=\"Password\"\n        secureTextEntry\n        value={password}\n        onChangeText={(text) => {\n          setPassword(text);\n          setIsPasswordValid(true);\n        }}\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <CustomButton title=\"Login\" onPress={handleLogin} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      <TouchableOpacity onPress={() => navigation.navigate('ResetPassword')}>\n        <Text style={styles.link}>Forgot Password?</Text>\n      </TouchableOpacity>\n      <TouchableOpacity onPress={() => navigation.navigate('SignUp')}>\n        <Text style={styles.link}>Sign Up</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center', // Center the content horizontally\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  invalidInput: {\n    borderColor: 'red',\n  },\n  link: {\n    color: theme.colors.primary,\n    marginTop: theme.spacing.small,\n    textAlign: 'center',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  prototypeWarning: {\n    backgroundColor: '#FFF3CD',\n    color: '#856404',\n    padding: theme.spacing.small,\n    marginBottom: theme.spacing.medium,\n    borderRadius: 4,\n    textAlign: 'center',\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n  },\n});\n","import React, { useState, useContext } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, KeyboardAvoidingView, Platform, ScrollView, Alert } from 'react-native';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext'; // Import AuthContext\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignUp() {\n  const navigation = useNavigation();\n  const { setIsSignedIn } = useContext(AuthContext); // Use AuthContext to update auth state\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleSignUp = async () => {\n    if (password !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    // Updated data structure to match new backend expectations\n    const userData = {\n      name: `${firstName.trim()} ${lastName.trim()}`, // Combine first and last name\n      email: email.trim().toLowerCase(),\n      password: password,\n      password2: confirmPassword, // Add confirmation password\n      phone_number: '', // Add empty phone number for now\n    };\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/register/`, userData);\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Account created successfully!', [\n          { text: 'OK', onPress: () => navigation.navigate('MyProfile') }\n        ]);\n      } else {\n        setSuccessMessage('Account created successfully!');\n        setTimeout(() => {\n          navigation.navigate('MyProfile');\n        }, 1500);\n      }\n      setIsSignedIn(true);\n    } catch (error) {\n      let errorMessage = 'Signup Failed: An error occurred during signup.';\n      if (error.response) {\n        const errorData = error.response.data;\n        // Handle specific field errors\n        if (errorData) {\n          const firstError = Object.entries(errorData)[0];\n          if (firstError) {\n            const [field, messages] = firstError;\n            errorMessage = `${field}: ${Array.isArray(messages) ? messages[0] : messages}`;\n          }\n        }\n      }\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      keyboardVerticalOffset={Platform.OS === 'ios' ? 64 : 0}\n    >\n      <ScrollView contentContainerStyle={styles.scrollContainer}>\n        <Text style={styles.title}>Sign Up</Text>\n        {[\n          { placeholder: \"First Name\", value: firstName, onChangeText: setFirstName },\n          { placeholder: \"Last Name\", value: lastName, onChangeText: setLastName },\n          { placeholder: \"Email\", value: email, onChangeText: setEmail, keyboardType: \"email-address\", autoCapitalize: \"none\" },\n          { placeholder: \"Password\", value: password, onChangeText: setPassword, secureTextEntry: true },\n          { placeholder: \"Confirm Password\", value: confirmPassword, onChangeText: setConfirmPassword, secureTextEntry: true }\n        ].map((input, index) => (\n          <TextInput\n            key={index}\n            style={styles.input}\n            placeholder={input.placeholder}\n            value={input.value}\n            onChangeText={input.onChangeText}\n            keyboardType={input.keyboardType}\n            autoCapitalize={input.autoCapitalize}\n            secureTextEntry={input.secureTextEntry}\n          />\n        ))}\n        <CustomButton title=\"Sign Up\" onPress={handleSignUp} />\n        {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n        {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContainer: {\n    padding: theme.spacing.medium,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexGrow: 1, // Ensure the ScrollView takes up the full height\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, Alert, ActivityIndicator, Dimensions, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPassword() {\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handleResetPassword = async () => {\n    if (!email) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Please enter your email address.');\n      } else {\n        setSuccessMessage('Error: Please enter your email address.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password/`, { email });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'A reset password link has been sent to your email.', [\n          { text: 'OK', onPress: () => navigation.navigate('Home') }\n        ]);\n      } else {\n        setSuccessMessage('A reset password link has been sent to your email.');\n        setTimeout(() => {\n          navigation.navigate('Home');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 404) {\n        setEmailError(true);\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Email is not associated with any user.');\n        } else {\n          setSuccessMessage('Error: Email is not associated with any user.');\n        }\n      } else {\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Failed to send reset password email. Please try again later.');\n        } else {\n          setSuccessMessage('Error: Failed to send reset password email. Please try again later.');\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={[styles.input, emailError && styles.inputError]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setEmailError(false);\n        }}\n        keyboardType=\"email-address\"\n        autoCapitalize=\"none\"\n      />\n      <CustomButton title=\"Reset Password\" onPress={handleResetPassword} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, Alert, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPasswordConfirm({ route }) {\n  const { uid, token } = route.params;\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handlePasswordReset = async () => {\n    if (newPassword !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password-confirm/${uid}/${token}/`, {\n        new_password: newPassword,\n      });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Your password has been reset.', [\n          { text: 'OK', onPress: () => navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm') }\n        ]);\n      } else {\n        setSuccessMessage('Your password has been reset.');\n        setTimeout(() => {\n          navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      const errorMessage = 'Failed to reset password. Please try again later.';\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={styles.input}\n        placeholder=\"New Password\"\n        value={newPassword}\n        onChangeText={setNewPassword}\n        secureTextEntry\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Confirm Password\"\n        value={confirmPassword}\n        onChangeText={setConfirmPassword}\n        secureTextEntry\n      />\n      <CustomButton title=\"Reset Password\" onPress={handlePasswordReset} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useEffect, useContext } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst Dashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { firstName, screenWidth } = useContext(AuthContext);\n  const { signOut } = useContext(AuthContext);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  // Mock data - replace with actual API calls\n  const upcomingBookings = [\n    { id: '56782', profepsronalsional: 'Jane Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', profepsronalsional: 'John Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming pet care services.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {upcomingBookings.map((booking) => (\n              <TouchableOpacity\n                key={booking.id}\n                onPress={() => navigateToFrom(navigation, 'BookingDetails', 'Dashboard', { bookingId: booking.id })}\n                style={styles.bookingItem}\n              >\n                <List.Item\n                  titleStyle={dynamicStyles.listItemTitle}\n                  descriptionStyle={dynamicStyles.listItemDescription}\n                  title={`${booking.pet} with ${booking.profepsronalsional}`}\n                  description={`${booking.date} at ${booking.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button \n              labelStyle={dynamicStyles.buttonText} \n              onPress={() => navigateToFrom(navigation, 'MyBookings', 'Dashboard')}\n            >\n              View All Bookings\n            </Button>\n          </Card.Actions>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"magnify\" size={size} color={color} /> : \"magnify\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'SearchProfessionalsListing', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                Find a Professional\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"paw\" size={size} color={color} /> : \"paw\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'MyPets', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Pets\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 4 : 0,\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n});\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { \n  View, \n  Text, \n  ScrollView, \n  TouchableOpacity, \n  TextInput, \n  KeyboardAvoidingView, \n  Platform, \n  Dimensions,\n  ActivityIndicator,\n  Alert,\n  StyleSheet\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { Picker } from '@react-native-picker/picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport * as Location from 'expo-location';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { mockProfessionals } from '../data/mockData';\n\nconst SearchProfessionals = ({ navigation }) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [showStartDatePicker, setShowStartDatePicker] = useState(false);\n  const [showEndDatePicker, setShowEndDatePicker] = useState(false);\n  const [location, setLocation] = useState({ country: 'USA', state: '', city: 'Colorado Springs' });\n  const [animalType, setAnimalType] = useState('');\n  const [exoticType, setExoticType] = useState('');\n  const [serviceType, setServiceType] = useState('');\n  const [petCount, setPetCount] = useState({ dogs: 0, cats: 0, exotics: 0 });\n  const [repeatService, setRepeatService] = useState('');\n  const [showServicePicker, setShowServicePicker] = useState(false);\n  const [showAnimalTypePicker, setShowAnimalTypePicker] = useState(false);\n  const [showRepeatServicePicker, setShowRepeatServicePicker] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  const styles = StyleSheet.create({\n    contentContainer: {\n      flex: 1,\n      width: '100%',\n      maxWidth: 600,\n      alignSelf: 'center',\n    },\n    scrollContent: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    filtersContainer: {\n      padding: 16,\n    },\n    picker: {\n      marginBottom: 10,\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterInput: {\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterButton: {\n      marginBottom: 10,\n      padding: 10,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterText: {\n      color: theme.colors.text,\n    },\n    petCountContainer: {\n      marginBottom: 20,\n    },\n    petCounter: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginBottom: 10,\n    },\n    petType: {\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    counterControls: {\n      flexDirection: 'row',\n      alignItems: 'center',\n    },\n    petCount: {\n      marginHorizontal: 10,\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    searchButton: {\n      backgroundColor: theme.colors.primary,\n      padding: 12,\n      borderRadius: 5,\n      alignItems: 'center',\n      marginTop: 20,\n    },\n    searchButtonText: {\n      color: '#fff',\n      fontSize: theme.fontSizes.medium,\n    },\n    datePickerContainer: {\n      marginBottom: 10,\n    },\n    webDatePicker: {\n      padding: 5,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      width: '100%',\n    },\n    webHeader: {\n      maxWidth: 1200,\n      width: '100%',\n      alignSelf: 'center',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  });\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  const handleSearch = async () => {\n    setIsLoading(true);\n    try {\n      const { status } = await Location.requestForegroundPermissionsAsync();\n      let userLocation;\n      \n      if (status === 'granted') {\n        const location = await Location.getCurrentPositionAsync({});\n        userLocation = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      } else {\n        userLocation = {\n          latitude: 38.8339,\n          longitude: -104.8214,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      }\n\n      const searchParams = {\n        startDate: startDate.toISOString(),\n        endDate: endDate.toISOString(),\n        location: userLocation,\n        animalType,\n        exoticType,\n        serviceType,\n        petCount,\n        repeatService,\n        initialProfessionals: mockProfessionals.filter(professional => \n          (!serviceType || professional.serviceTypes.includes(serviceType)) &&\n          (!animalType || professional.animalTypes.includes(animalType))\n        )\n      };\n\n      // Store data based on platform\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('searchParams', JSON.stringify(searchParams));\n      } else {\n        await AsyncStorage.setItem('searchParams', JSON.stringify(searchParams));\n      }\n\n      navigation.navigate('SearchProfessionalsListing');\n    } catch (error) {\n      console.error('Error getting location:', error);\n      Alert.alert('Error', 'Failed to get location. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDateChange = (setter) => (event, date) => {\n    if (Platform.OS !== 'web') {\n      setter(date || new Date());\n    }\n  };\n\n  const renderDatePicker = (date, setDate, showPicker, setShowPicker, label) => {\n    if (Platform.OS === 'web') {\n      return (\n        <View style={styles.datePickerContainer}>\n          <Text>{label}:</Text>\n          <input\n            type=\"date\"\n            value={date.toISOString().split('T')[0]}\n            onChange={(e) => setDate(new Date(e.target.value))}\n            style={styles.webDatePicker}\n          />\n        </View>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n            <Text style={styles.filterText}>{label}: {date.toDateString()}</Text>\n          </TouchableOpacity>\n          {showPicker && (\n            <DateTimePicker\n              value={date}\n              mode=\"date\"\n              display={Platform.OS === 'ios' ? 'spinner' : 'default'}\n              onChange={(event, selectedDate) => {\n                setShowPicker(false);\n                if (selectedDate) setDate(selectedDate);\n              }}\n              style={styles.datePicker}\n            />\n          )}\n        </View>\n      );\n    }\n  };\n\n  const renderPicker = (selectedValue, setSelectedValue, showPicker, setShowPicker, label, options) => (\n    <View>\n      <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n        <Text style={styles.filterText}>{label}: {selectedValue || 'Select'}</Text>\n      </TouchableOpacity>\n      {showPicker && (\n        <Picker\n          selectedValue={selectedValue}\n          onValueChange={(itemValue) => {\n            setSelectedValue(itemValue);\n            setShowPicker(false);\n          }}\n          style={styles.picker}\n        >\n          {options.map((option, index) => (\n            <Picker.Item key={index} label={option.label} value={option.value} />\n          ))}\n        </Picker>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Search Professionals\" \n        onBackPress={() => navigation.goBack()}\n      />\n      <KeyboardAvoidingView \n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'} \n        style={styles.contentContainer}\n      >        \n        <ScrollView contentContainerStyle={styles.scrollContent}>\n          <View style={styles.filtersContainer}>\n            {renderPicker(serviceType, setServiceType, showServicePicker, setShowServicePicker, 'Service Type', [\n              { label: 'Select Service Type', value: '' },\n              { label: 'House Sitting', value: 'House Sitting' },\n              { label: 'Dog Walking', value: 'Dog Walking' },\n              { label: 'Drop-ins', value: 'Drop-ins' },\n              { label: 'Boarding', value: 'Boarding' },\n              { label: 'Day Care', value: 'Day Care' },\n              { label: 'Training', value: 'Training' },\n            ])}\n\n            <View style={styles.petCountContainer}>\n              <Text style={styles.label}>Number of Pets:</Text>\n              {['dogs', 'cats', 'exotics'].map((type) => (\n                <View key={type} style={styles.petCounter}>\n                  <Text style={styles.petType}>{type.charAt(0).toUpperCase() + type.slice(1)}</Text>\n                  <View style={styles.counterControls}>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: Math.max(0, petCount[type] - 1) })}>\n                      <MaterialCommunityIcons name=\"minus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                    <Text style={styles.petCount}>{petCount[type]}</Text>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: petCount[type] + 1 })}>\n                      <MaterialCommunityIcons name=\"plus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              ))}\n            </View>\n\n            {animalType === 'exotic' && (\n              <TextInput\n                style={styles.filterInput}\n                placeholder=\"Type of Exotic Pet\"\n                value={exoticType}\n                onChangeText={setExoticType}\n              />\n            )}\n\n            {renderDatePicker(startDate, setStartDate, showStartDatePicker, setShowStartDatePicker, 'Start Date')}\n            {renderDatePicker(endDate, setEndDate, showEndDatePicker, setShowEndDatePicker, 'End Date')}\n\n            {renderPicker(repeatService, setRepeatService, showRepeatServicePicker, setShowRepeatServicePicker, 'One-time or Repeat?', [\n              { label: 'One-time or Repeat?', value: '' },\n              { label: 'One-time', value: 'One-time' },\n              { label: 'Repeat Weekly', value: 'Repeat Weekly' },\n            ])}\n\n            <TouchableOpacity \n              style={[styles.searchButton, isLoading && styles.searchButtonDisabled]} \n              onPress={handleSearch}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator color=\"#fff\" />\n              ) : (\n                <Text style={styles.searchButtonText}>Search</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </CrossPlatformView>\n  );\n};\n\nexport default SearchProfessionals;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst ProfessionalDashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { signOut, firstName, screenWidth, is_DEBUG } = useContext(AuthContext);\n  const [upcomingBookings, setUpcomingBookings] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    emptyStateText: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.smallMedium,\n      marginBottom: 16,\n      textAlign: 'center',\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  const refreshToken = async () => {\n    try {\n      const refreshToken = await AsyncStorage.getItem('refreshToken');\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken,\n      });\n      const { access } = response.data;\n      await AsyncStorage.setItem('userToken', access);\n      return access;\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      await signOut();\n      navigation.navigate('SignIn');\n    }\n  };\n\n  // Prototype data\n  const prototypeBookings = [\n    { id: '56782', client: 'John Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', client: 'Jane Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const fetchDashboardData = async () => {\n\n    try {\n      setIsLoading(true);\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setUpcomingBookings(response.data.upcoming_bookings || []);\n    } catch (error) {\n      if (error.response?.status === 401) {\n        const newToken = await refreshToken();\n        if (newToken) {\n          try {\n            const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n              headers: { Authorization: `Bearer ${newToken}` }\n            });\n            setUpcomingBookings(response.data.upcoming_bookings || []);\n          } catch (retryError) {\n            console.error('Error fetching dashboard data after token refresh:', retryError);\n          }\n        }\n      } else {\n        console.error('Error fetching dashboard data:', error);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, []);\n\n  // TODO: Fetch client requests from the backend\n  const clientRequests = [\n    { id: '1', client: 'Alice Johnson', pet: 'Fluffy (Rabbit)', date: '2023-05-20', time: '09:00' },\n    { id: '2', client: 'Bob Williams', pet: 'Spike (Iguana)', date: '2023-05-22', time: '16:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const navigateToServiceManager = async () => {\n    if (is_DEBUG) {\n      console.log('Setting previousRoute to:', 'ProfessionalDashboard');\n      console.log('Setting currentRoute to:', 'ServiceManager');\n    }\n    setTimeout(async () => {\n      await navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard');\n    }, 100);\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming activities.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {isLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"small\" color={colors.primary} />\n              </View>\n            ) : upcomingBookings.length > 0 ? (\n              upcomingBookings.map((booking) => (\n                <TouchableOpacity\n                  key={booking.booking_id}\n                  onPress={() => navigateToFrom(navigation, 'BookingDetails', 'ProfessionalDashboard', { \n                    bookingId: booking.booking_id \n                  })}\n                  style={styles.bookingItem}\n                >\n                  <List.Item\n                    titleStyle={dynamicStyles.listItemTitle}\n                    descriptionStyle={dynamicStyles.listItemDescription}\n                    title={`${booking.client_name} - ${booking.pets.slice(0, 3).map(pet => pet.name).join(', ')}${booking.pets.length > 3 ? '...' : ''} (${booking.pets.slice(0, 3).map(pet => pet.species).join(', ')}${booking.pets.length > 3 ? '...' : ''})`}\n                    description={`${booking.start_date} at ${booking.start_time}`}\n                    left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                    right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                  />\n                </TouchableOpacity>\n              ))\n            ) : (\n              <View style={styles.emptyStateContainer}>\n                <Paragraph style={dynamicStyles.emptyStateText}>No bookings yet!</Paragraph>\n                <Button \n                  mode=\"contained\" \n                  onPress={() => navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard')}\n                  style={styles.createServiceButton}\n                  labelStyle={dynamicStyles.buttonText}\n                >\n                  Create Services\n                </Button>\n              </View>\n            )}\n          </Card.Content>\n          {upcomingBookings.length > 0 && (\n            <Card.Actions>\n              <Button \n                onPress={() => navigateToFrom(navigation, 'MyBookings', 'ProfessionalDashboard')}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                View All Bookings\n              </Button>\n            </Card.Actions>\n          )}\n        </Card>\n\n        {/* <Card style={styles.card}>\n          <Card.Content>\n            <Title>Client Requests</Title>\n            {clientRequests.map((request) => (\n              <TouchableOpacity\n                key={request.id}\n                onPress={() => navigation.navigate('RequestDetails', { requestId: request.id })}\n              >\n                <List.Item\n                  title={`${request.client} - ${request.pet}`}\n                  description={`${request.date} at ${request.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"account-clock\" name=\"account-clock\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button onPress={() => navigation.navigate('ClientRequests')}>View All Requests</Button>\n          </Card.Actions>\n        </Card> */}\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"clock\" size={size} color={color} /> : \"clock\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'AvailabilitySettings', 'ProfessionalDashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                {Platform.OS === 'web' ? 'Update Availability' : 'Availability'}\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"briefcase\" size={size} color={color} /> : \"briefcase\"}\n                mode=\"outlined\" \n                onPress={navigateToServiceManager}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Services\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Professional Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    gap: 8,\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 0 : 0,\n    flex: Platform.OS === 'web' ? 1 : 0,\n    minWidth: Platform.OS === 'web' ? 200 : 'auto',\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  loadingContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  createServiceButton: {\n    marginTop: 8,\n  },\n});\n\nexport default ProfessionalDashboard;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TextInput, StyleSheet, ScrollView, SafeAreaView, Platform, StatusBar, TouchableOpacity, ActivityIndicator, Alert, Dimensions, Image } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport * as ImagePicker from 'expo-image-picker';\nimport { AuthContext } from '../context/AuthContext';\nimport { navigateToFrom, handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\n// TODO: mention to user initially we are doing a manual verification process, will implement automation later.\nconst BecomeProfessional = ({ navigation }) => {\n  const [selectedPets, setSelectedPets] = useState({\n    dog: false,\n    cat: false,\n    exotics: false,\n  });\n  const [about, setAbout] = useState('');\n  const [certifications, setCertifications] = useState([]);\n  const [insuranceProof, setInsuranceProof] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { is_DEBUG } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeNavigation = async () => {\n      const currentRoute = Platform.OS === 'web' ? sessionStorage.getItem('currentRoute') : await AsyncStorage.getItem('currentRoute');\n      if (currentRoute !== 'BecomeProfessional') {\n        await navigateToFrom(navigation, 'BecomeProfessional', currentRoute);\n      } else {\n        if (is_DEBUG) {\n          console.log('Error, currentRoute is BecomeProfessional');\n        }\n      }\n    };\n    initializeNavigation();\n  }, []);\n\n  const handleBackPress = () => {\n    handleBack(navigation);\n  };\n\n  const togglePetSelection = (pet) => {\n    setSelectedPets({ ...selectedPets, [pet]: !selectedPets[pet] });\n  };\n\n  const pickCertification = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newCertification = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setCertifications([...certifications, newCertification]);\n    }\n  };\n\n  const pickInsuranceProof = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newProof = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setInsuranceProof([...insuranceProof, newProof]);\n    }\n  };\n\n  const removeCertification = (index) => {\n    setCertifications(certifications.filter((_, i) => i !== index));\n  };\n\n  const removeInsuranceProof = (index) => {\n    setInsuranceProof(insuranceProof.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n\n    \n      // Original submission logic for non-prototype mode\n      setTimeout(() => {\n        setIsSubmitting(false);\n        setSelectedPets({\n          dog: false,\n          cat: false,\n          exotics: false,\n        });\n        setAbout('');\n        setCertifications([]);\n        setInsuranceProof([]);\n        if (Platform.OS === 'web') {\n          window.confirm('Success: Your application has been submitted successfully!') && navigation.navigate('More');\n        } else {\n          Alert.alert('Success', 'Your application has been submitted successfully!', [\n            { text: 'OK', onPress: () => navigation.navigate('More', { screen: 'More', transition: 'slide' }) },\n          ]);\n        }\n      }, 2000);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={handleBackPress} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>Become a Professional</Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <Text style={styles.title}>Become a Professional</Text>\n        \n        <Text style={styles.label}>Select Pets You Can Sit:</Text>\n        <View style={styles.checkboxContainer}>\n          {['dog', 'cat', 'exotics'].map((pet) => (\n            <TouchableOpacity\n              key={pet}\n              style={[\n                styles.petButton,\n                selectedPets[pet] && styles.selectedPetButton,\n              ]}\n              onPress={() => togglePetSelection(pet)}\n            >\n              <MaterialCommunityIcons\n                name={pet === 'exotics' ? 'turtle' : pet}\n                size={24}\n                color={selectedPets[pet] ? '#fff' : theme.colors.primary}\n              />\n              <Text style={[styles.petButtonText, selectedPets[pet] && styles.selectedPetButtonText]}>\n                {pet.charAt(0).toUpperCase() + pet.slice(1)}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        <Text style={styles.label}>About You:</Text>\n        <TextInput\n          style={styles.textInput}\n          multiline\n          numberOfLines={4}\n          placeholder=\"Write a little about yourself...\"\n          value={about}\n          onChangeText={setAbout}\n        />\n\n        <Text style={styles.label}>Upload Certifications/Resume:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickCertification}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Documents</Text>\n        </TouchableOpacity>\n        {certifications.map((cert, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: cert.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {cert.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeCertification(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <Text style={styles.label}>Upload Insurance Proof:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickInsuranceProof}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Insurance</Text>\n        </TouchableOpacity>\n        {insuranceProof.map((proof, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: proof.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {proof.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeInsuranceProof(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity style={styles.submitButton} onPress={handleSubmit} disabled={isSubmitting}>\n          <Text style={styles.submitButtonText}>Submit Application</Text>\n        </TouchableOpacity>\n        {isSubmitting && <ActivityIndicator style={styles.loadingIndicator} size=\"small\" color={theme.colors.primary} />}\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20,\n    width: Platform.OS === 'web' && Dimensions.get('window').width > 600 ? '40%' : '90%',\n    alignSelf: 'center',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  petButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 5,\n    backgroundColor: '#fff',\n  },\n  selectedPetButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  petButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n  },\n  selectedPetButtonText: {\n    color: '#fff',\n  },\n  textInput: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 20,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  certificationText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginTop: 5,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: '#fff',\n    fontSize: theme.fontSizes.medium,\n  },\n  loadingIndicator: {\n    marginTop: 10, // Add margin to separate the loading indicator from the submit button\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  uploadedFileContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 8,\n  },\n  uploadedFilePreview: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n    marginRight: 8,\n  },\n  removeFileButton: {\n    padding: 4,\n    marginLeft: 'auto',\n  },\n});\n\nexport default BecomeProfessional;\n","import React, { useContext, useEffect } from 'react';\nimport { View, StyleSheet, Alert, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { List, Divider, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst MoreScreen = ({ navigation }) => {\n  const { isSignedIn, isApprovedProfessional, userRole, switchRole, signOut } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeRoutes = async () => {\n      try {\n        const initialRoute = isSignedIn \n          ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n          : 'Home';\n\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('currentRoute', initialRoute);\n          sessionStorage.setItem('previousRoute', 'More');\n        } else {\n          await AsyncStorage.setItem('currentRoute', initialRoute);\n          await AsyncStorage.setItem('previousRoute', 'More');\n        }\n      } catch (error) {\n        console.error('Error initializing routes:', error);\n      }\n    };\n\n    initializeRoutes();\n  }, [isSignedIn, userRole]);\n\n  const handleNavigation = async (route) => {\n    try {\n      await navigateToFrom(navigation, route, 'More');\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(route);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut();\n      // Clear navigation history on logout\n      if (Platform.OS === 'web') {\n        sessionStorage.removeItem('currentRoute');\n        sessionStorage.removeItem('previousRoute');\n      } else {\n        await AsyncStorage.multiRemove(['currentRoute', 'previousRoute']);\n      }\n      Alert.alert('Logged Out', 'You have been successfully logged out.');\n      navigation.navigate('Home');\n    } catch (error) {\n      console.error('Logout failed', error);\n      Alert.alert('Logout Failed', 'An error occurred while logging out.');\n    }\n  };\n\n  const handleSwitchRole = async () => {\n    if (isApprovedProfessional) {\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      // console.log('Current role:', userRole);\n      // console.log('Switching to:', newRole);\n      \n      await switchRole();\n      \n      // Store new route before navigating\n      const newRoute = newRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard';\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('currentRoute', newRoute);\n      } else {\n        await AsyncStorage.setItem('currentRoute', newRoute);\n      }\n      \n      // Add a small delay to ensure state is updated before navigation\n      setTimeout(() => {\n        // console.log('Navigating to:', newRoute);\n        navigation.navigate(newRoute);\n      }, 0);\n    } else {\n      Alert.alert('Not Approved', 'You are not approved as a professional yet.');\n      handleNavigation('BecomeProfessional');\n    }\n  };\n\n  const menuItems = {\n    notSignedIn: [\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      // ADD after MVP is released\n    //   { title: 'Help/FAQ', icon: 'help-circle', route: 'HelpFAQ' },\n    //   { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    //   { title: 'Settings', icon: 'cog', route: 'Settings' },\n    ],\n    petOwner: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Become a Professional', icon: 'account-tie', route: 'BecomeProfessional' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n    professional: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Services', icon: 'briefcase-outline', route: 'ServiceManager' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n  };\n\n  const renderMenuItems = () => {\n    let items;\n    if (!isSignedIn) {\n      items = menuItems.notSignedIn;\n    } else if (userRole === 'professional') {\n      items = menuItems.professional;\n    } else {\n      items = menuItems.petOwner;\n    }\n\n    return items.map((item, index) => (\n      <List.Item\n        key={index}\n        title={item.title}\n        titleStyle={styles.listItemTitle}\n        left={props => \n          Platform.OS === 'web' \n            ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n            : <List.Icon {...props} icon={item.icon} />}\n        onPress={() => handleNavigation(item.route)}\n        style={Platform.OS === 'web' ? styles.webListItem : null}\n      />\n    ));\n  };\n\n  const renderWebView = () => (\n    <View style={styles.webContainer}>\n      <View style={styles.webContent}>\n        <List.Section style={styles.webListSection}>\n          {renderMenuItems()}\n        </List.Section>\n        {isSignedIn && isApprovedProfessional && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"outlined\" \n              onPress={handleSwitchRole} \n              style={styles.webButton}\n              labelStyle={styles.buttonText}\n            >\n              Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n            </Button>\n          </View>\n        )}\n        {isSignedIn && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"contained\" \n              onPress={handleLogout} \n              style={[styles.webButton, styles.logoutButton]}\n              labelStyle={styles.buttonText}\n            >\n              Log Out\n            </Button>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderMobileView = () => (\n    <SafeAreaView style={styles.container}>\n      <List.Section>\n        {renderMenuItems()}\n      </List.Section>\n      {isSignedIn && isApprovedProfessional && (\n        <View style={styles.switchRoleButtonContainer}>\n          <Button mode=\"outlined\" onPress={handleSwitchRole} style={styles.switchRoleButton}>\n            Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n          </Button>\n        </View>\n      )}\n      {isSignedIn && (\n        <View style={styles.logoutButtonContainer}>\n          <Button mode=\"contained\" onPress={handleLogout} style={styles.logoutButton}>\n            Log Out\n          </Button>\n        </View>\n      )}\n    </SafeAreaView>\n  );\n\n  return Platform.OS === 'web' ? renderWebView() : renderMobileView();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  logoutButtonContainer: {\n    padding: 16,\n  },\n  logoutButton: {\n    backgroundColor: theme.colors.error,\n  },\n  switchRoleButtonContainer: {\n    padding: 16,\n  },\n  switchRoleButton: {\n    borderColor: theme.colors.primary,\n  },\n  // Web-specific styles\n  webContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    padding: 16,\n  },\n  webListSection: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  webButtonContainer: {\n    marginBottom: 16,\n  },\n  webButton: {\n    width: '100%',\n  },\n  listItemTitle: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n    fontSize: 16,\n  },\n  buttonText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  }\n});\n\nexport default MoreScreen;\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\n\nconst UnavailableTimeSlot = ({ startTime, endTime, reason, onPress, onRemove }) => {\n  const [showAllServices, setShowAllServices] = useState(false);\n  \n  const isAllDay = startTime === '00:00' && endTime === '24:00';\n\n  const formatTime = (time) => {\n    if (isAllDay) {\n      return 'All Day';\n    }\n    \n    if (typeof time === 'string') {\n      try {\n        const date = parse(time, 'HH:mm', new Date());\n        return format(date, 'h:mm a');\n      } catch (error) {\n        console.warn(`Invalid time format: ${time}`);\n        return 'Invalid Time';\n      }\n    } else if (time instanceof Date) {\n      return format(time, 'h:mm a');\n    } else {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const formatServicesDisplay = () => {\n    const services = reason?.replace('Unavailable for: ', '').split(', ') || [];\n    \n    if (services.length === 0) return 'No services specified';\n    if (services.length === 10) return 'All Services';\n    return `${services.length} ${services.length === 1 ? 'Service' : 'Services'}`;\n  };\n\n  return (\n    <>\n      <View style={styles.container}>\n        <TouchableOpacity \n          style={styles.removeButton} \n          onPress={onRemove}\n        >\n          <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n        </TouchableOpacity>\n        \n        <View style={styles.contentContainer}>\n          <Text style={styles.time}>\n            {isAllDay ? 'All Day' : `${formatTime(startTime)} - ${formatTime(endTime)}`}\n          </Text>\n          <View style={styles.serviceContainer}>\n            <Text style={styles.reason}>{formatServicesDisplay()}</Text>\n            {reason && (\n              <TouchableOpacity \n                onPress={() => setShowAllServices(true)}\n                style={styles.seeMoreButton}\n              >\n                <Text style={styles.seeMoreText}>See All</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n        </View>\n      </View>\n\n      <Modal\n        visible={showAllServices}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setShowAllServices(false)}\n      >\n        <TouchableOpacity \n          style={styles.modalOverlay}\n          activeOpacity={1}\n          onPress={() => setShowAllServices(false)}\n        >\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Unavailable Services</Text>\n              <TouchableOpacity onPress={() => setShowAllServices(false)}>\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <Text style={styles.modalTime}>\n              {formatTime(startTime)} - {formatTime(endTime)}\n            </Text>\n            {reason?.replace('Unavailable for: ', '').split(', ').map((service, index) => (\n              <Text key={index} style={styles.serviceItem}>• {service}</Text>\n            ))}\n          </View>\n        </TouchableOpacity>\n      </Modal>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.lightGrey,\n    borderRadius: 5,\n    marginBottom: 5,\n  },\n  removeButton: {\n    padding: 5,\n    marginRight: 5,\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  time: {\n    fontSize: theme.fontSizes.small,\n    fontWeight: 'bold',\n    flex: 1,\n  },\n  serviceContainer: {\n    flex: 2,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  reason: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n    marginRight: 8,\n  },\n  seeMoreButton: {\n    padding: 4,\n    borderRadius: 4,\n    backgroundColor: theme.colors.primary,\n  },\n  seeMoreText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '80%',\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  modalTime: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 12,\n  },\n  serviceItem: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    paddingVertical: 4,\n  },\n});\n\nexport default UnavailableTimeSlot;\n","// First, create a new BookingCard component\n// src/components/BookingCard.js\n\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\n\nconst AvailabilityBookingCard = ({ booking, onPress, onEdit }) => {\n  const navigation = useNavigation();\n  const formatTime = (time) => {\n    try {\n      const date = parse(time, 'HH:mm', new Date());\n      return format(date, 'h:mm a');\n    } catch (error) {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const handlePress = () => {\n    if (onPress) {\n      onPress(booking);\n    }\n  };\n\n  return (\n    <TouchableOpacity \n      style={styles.card} \n      onPress={handlePress}\n    >\n      <View style={styles.cardContent}>\n        <View style={styles.timeContainer}>\n          <MaterialCommunityIcons name=\"clock-outline\" size={20} color={theme.colors.primary} />\n          <Text style={styles.timeText}>\n            {formatTime(booking.startTime)} - {formatTime(booking.endTime)}\n          </Text>\n        </View>\n        <Text style={styles.clientName}>Booked with {booking.client_name}</Text>\n      </View>\n      <TouchableOpacity \n        style={styles.editButton} \n        onPress={handlePress}\n      >\n        <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n      </TouchableOpacity>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n  },\n  cardContent: {\n    flex: 1,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  timeText: {\n    marginLeft: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  clientName: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n  },\n  editButton: {\n    padding: 8,\n  },\n});\n\nexport default AvailabilityBookingCard;","import React from 'react';\nimport { View, Text, StyleSheet, Platform, TouchableOpacity } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst TimePicker = ({ label, value, onChange, fullWidth = false, containerStyle }) => {\n  const [showPicker, setShowPicker] = React.useState(false);\n\n  const handleChange = (event, selectedDate) => {\n    setShowPicker(Platform.OS === 'ios');\n    if (selectedDate) {\n      onChange(selectedDate);\n    }\n  };\n\n  const showTimepicker = () => {\n    setShowPicker(true);\n  };\n\n  const renderTimeDisplay = () => (\n    <TouchableOpacity \n      onPress={showTimepicker}\n      style={[styles.timeButton, !fullWidth && styles.compactTimeButton]}\n    >\n      <Text style={styles.timeText}>\n        {value.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n      </Text>\n      <MaterialCommunityIcons name=\"clock-outline\" size={24} color={theme.colors.text} />\n    </TouchableOpacity>\n  );\n\n  if (Platform.OS === 'web') {\n    const webInputStyle = {\n      padding: 12,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 8,\n      backgroundColor: theme.colors.whiteText,\n      fontSize: theme.fontSizes.medium,\n      width: fullWidth ? '' : '90%',\n    };\n\n    return (\n      <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n        {label && <Text style={styles.label}>{label}</Text>}\n        <input\n          type=\"time\"\n          value={value.toTimeString().slice(0, 5)}\n          onChange={(e) => onChange(new Date(`2000-01-01T${e.target.value}`))}\n          style={webInputStyle}\n        />\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      {renderTimeDisplay()}\n      {showPicker && (\n        <DateTimePicker\n          value={value}\n          mode=\"time\"\n          is24Hour={true}\n          display=\"default\"\n          onChange={handleChange}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    // marginVertical: 8,\n  },\n  fullWidth: {\n    // width: '100%',\n  },\n  label: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 4,\n  },\n  timeButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    // backgroundColor: 'black',\n    minHeight: 48,\n  },\n  compactTimeButton: {\n    width: 150,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  }\n});\n\nexport default TimePicker;\n\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, Platform, Dimensions, ScrollView } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport UnavailableTimeSlot from './UnavailableTimeSlot';\nimport { format, parse } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBookingCard from './AvailabilityBookingCard';\nimport { useNavigation } from '@react-navigation/native';\nimport TimePicker from './TimePicker';\n\nconst { width, height: SCREEN_HEIGHT } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst AddAvailabilityModal = ({ isVisible: propIsVisible, onClose, onSave, selectedDates, currentAvailability, bookings, onRemoveTimeSlot }) => {\n  const [isVisible, setIsVisible] = useState(propIsVisible);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [modalWidth, setModalWidth] = useState(getModalWidth());\n  const [activeView, setActiveView] = useState('bookings');\n  const [editingBooking, setEditingBooking] = useState(null);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    setIsVisible(propIsVisible);\n  }, [propIsVisible]);\n\n  function getModalWidth() {\n    const { width } = Dimensions.get('window');\n    return width < 600 ? width * 0.9 : width * 0.4;\n  }\n\n  useEffect(() => {\n    const updateWidth = () => {\n      setModalWidth(getModalWidth());\n    };\n\n    const dimensionsHandler = Dimensions.addEventListener('change', updateWidth);\n\n    return () => {\n      dimensionsHandler.remove();\n    };\n  }, []);\n\n  const isTimeSlotUnavailable = () => {\n    if (!startTime || !endTime || isAllDay) return false;\n    \n    return selectedDates.some(date => {\n      const existingTimes = currentAvailability[date]?.unavailableTimes || [];\n      return existingTimes.some(time => {\n        const [existingStartHour, existingStartMin] = time.startTime.split(':').map(Number);\n        const [existingEndHour, existingEndMin] = time.endTime.split(':').map(Number);\n        const newStartStr = format(startTime, 'HH:mm');\n        const newEndStr = format(endTime, 'HH:mm');\n        const [newStartHour, newStartMin] = newStartStr.split(':').map(Number);\n        const [newEndHour, newEndMin] = newEndStr.split(':').map(Number);\n        \n        return newStartHour === existingStartHour && \n               newStartMin === existingStartMin && \n               newEndHour === existingEndHour && \n               newEndMin === existingEndMin;\n      });\n    });\n  };\n\n  const handleMarkUnavailable = () => {\n    if (selectedServices.length === 0 || isTimeSlotUnavailable()) return;\n    \n    const services = selectedServices.includes(ALL_SERVICES) \n      ? SERVICE_TYPES.filter(service => service !== ALL_SERVICES) \n      : selectedServices;\n\n    onSave({\n      dates: selectedDates,\n      isAllDay,\n      startTime: isAllDay ? null : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? null : format(endTime, 'HH:mm'),\n      isUnavailable: true,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n  };\n\n  const handleMarkAvailable = () => {\n    if (selectedServices.length === 0 || !isTimeSlotUnavailable()) return;\n\n    const newStartStr = format(startTime, 'HH:mm');\n    const newEndStr = format(endTime, 'HH:mm');\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== newStartStr || time.endTime !== newEndStr\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(selectedDates[0], { startTime: newStartStr, endTime: newEndStr }, updatedAvailability, selectedDates);\n  };\n\n  const handleRemoveTimeSlot = (date, timeSlot) => {\n    if (selectedDates.length === 1) {\n      onRemoveTimeSlot(date, timeSlot);\n      return;\n    }\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== timeSlot.startTime || time.endTime !== timeSlot.endTime\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(date, timeSlot, updatedAvailability, selectedDates);\n  };\n\n  const renderUnavailableTimes = () => {\n    if (selectedDates.length === 0) return null;\n\n    const date = selectedDates[0];\n    const unavailableTimes = currentAvailability[date]?.unavailableTimes || [];\n\n    if (unavailableTimes.length === 0) return null;\n\n    return (\n      <View style={styles.unavailableTimesContainer}>\n        <Text style={styles.sectionTitle}>Unavailable Times:</Text>\n        <ScrollView>\n          {unavailableTimes.map((time, index) => (\n            <UnavailableTimeSlot\n              key={index}\n              startTime={time.startTime}\n              endTime={time.endTime}\n              reason={time.reason}\n              onRemove={() => handleRemoveTimeSlot(date, time)}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    );\n  };\n\nconst renderTimePicker = () => (\n  <>\n    <View style={styles.timePickerContainer}>\n      <Text>Start Time:</Text>\n      <TimePicker\n        value={startTime}\n        onChange={setStartTime}\n        showPicker={showStartTimePicker}\n        setShowPicker={setShowStartTimePicker}\n        fullWidth\n      />\n    </View>\n    <View style={styles.timePickerContainer}>\n      <Text>End Time:</Text>\n      <TimePicker\n        value={endTime}\n        onChange={setEndTime}\n        showPicker={showEndTimePicker}\n        setShowPicker={setShowEndTimePicker}\n        fullWidth\n      />\n    </View>\n  </>\n);\n\nconst formatSelectedDates = () => {\n  if (!selectedDates || selectedDates.length === 0) return '';\n  \n  const startDate = selectedDates[0];\n  const endDate = selectedDates[selectedDates.length - 1];\n  \n  if (startDate === endDate) {\n    return startDate;\n  }\n  \n  return `${startDate} - ${endDate}`;\n};\n\nconst handleEditBooking = async (booking) => {\n  setEditingBooking(booking);\n  // Implement your booking edit logic here\n  try {\n    const response = await updateBooking({\n      ...booking,\n      // Add your updated booking data\n    });\n    \n    if (response.success) {\n      // Update local state\n      // Implement your state update logic\n    }\n  } catch (error) {\n    console.error('Failed to update booking:', error);\n  }\n};\n\nconst renderToggleButtons = () => (\n  <View style={styles.toggleContainer}>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'unavailable' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('unavailable')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'unavailable' && styles.activeToggleText\n      ]}>\n        Unavailable Times\n      </Text>\n    </TouchableOpacity>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'bookings' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('bookings')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'bookings' && styles.activeToggleText\n      ]}>\n        Bookings\n      </Text>\n    </TouchableOpacity>\n  </View>\n);\n\nconst renderBookings = () => {\n  const dateBookings = selectedDates.reduce((acc, date) => {\n    if (bookings[date]) {\n      acc.push(...bookings[date].map(booking => ({\n        ...booking,\n        date\n      })));\n    }\n    return acc;\n  }, []);\n\n  if (dateBookings.length === 0) {\n    return (\n      <View style={styles.emptyState}>\n        <MaterialCommunityIcons \n          name=\"calendar-blank\" \n          size={48} \n          color={theme.colors.textSecondary} \n        />\n        <Text style={styles.emptyStateText}>No bookings for selected dates</Text>\n      </View>\n    );\n  }\n\n  const handleBookingPress = (booking) => {\n    onClose();\n    \n    // Navigate after a short delay\n    setTimeout(() => {\n      navigation.navigate('BookingDetails', { bookingId: booking.id });\n    }, 300);\n  };\n\n  return (\n    <View style={styles.bookingsContainer}>\n      <ScrollView \n        style={styles.bookingsList}\n        nestedScrollEnabled={true}\n      >\n        {dateBookings.map((booking, index) => (\n          <AvailabilityBookingCard\n            key={index}\n            booking={booking}\n            onPress={() => handleBookingPress(booking)}\n            onEdit={() => handleBookingPress(booking)}\n          />\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[styles.modalContent, { width: modalWidth }]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {selectedDates.length > 1 ? 'Edit Multiple Days' : 'Edit Availability'}\n            </Text>\n            <TouchableOpacity \n              style={styles.closeButton} \n              onPress={onClose}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.text} \n              />\n            </TouchableOpacity>\n          </View>\n\n          <Text style={styles.selectedDatesText}>\n            Selected Dates: {formatSelectedDates()}\n          </Text>\n\n          {renderToggleButtons()}\n          \n          <ScrollView \n            style={styles.contentScrollView}\n            nestedScrollEnabled={true}\n          >\n            {activeView === 'unavailable' ? (\n              <View style={styles.unavailableTimesWrapper}>\n                {renderUnavailableTimes()}\n              </View>\n            ) : (\n              <View style={styles.bookingsWrapper}>\n                {renderBookings()}\n              </View>\n            )}\n\n            <View style={styles.availabilityControls}>\n              <View style={styles.inputWrapper}>\n                <Text style={styles.inputLabel}>Service Type(s) *</Text>\n                <TouchableOpacity\n                  style={[\n                    styles.input,\n                    styles.customDropdown,\n                    selectedServices.length === 0 && styles.inputError\n                  ]}\n                  onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n                >\n                  <Text style={{\n                    color: selectedServices.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n                  }}>\n                    {selectedServices.length > 0 \n                      ? selectedServices.includes(ALL_SERVICES)\n                        ? \"All Services\"\n                        : selectedServices.length > 1\n                          ? `${selectedServices.length} services selected`\n                          : selectedServices[0]\n                      : \"Select service type(s)\"\n                    }\n                  </Text>\n                  <MaterialCommunityIcons \n                    name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                    size={24} \n                    color={theme.colors.primary} \n                  />\n                </TouchableOpacity>\n                \n                {showServiceDropdown && (\n                  <View style={styles.dropdownContainer}>\n                    <ScrollView style={styles.dropdownScroll}>\n                      {SERVICE_TYPES.map((service) => (\n                        <TouchableOpacity\n                          key={service}\n                          style={styles.dropdownItem}\n                          onPress={() => {\n                            if (service === ALL_SERVICES) {\n                              setSelectedServices(\n                                selectedServices.includes(ALL_SERVICES) \n                                  ? [] \n                                  : [ALL_SERVICES]\n                              );\n                            } else {\n                              setSelectedServices(prev => {\n                                // Remove \"All Services\" if it was selected\n                                const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                                \n                                if (prev.includes(service)) {\n                                  return withoutAll.filter(s => s !== service);\n                                } else {\n                                  return [...withoutAll, service];\n                                }\n                              });\n                            }\n                          }}\n                        >\n                          <View style={styles.dropdownItemContent}>\n                            <Text style={[\n                              styles.dropdownText,\n                              selectedServices.includes(service) && styles.selectedOption\n                            ]}>\n                              {service}\n                            </Text>\n                            {selectedServices.includes(service) && (\n                              <MaterialCommunityIcons \n                                name=\"check\" \n                                size={20} \n                                color={theme.colors.primary} \n                              />\n                            )}\n                          </View>\n                        </TouchableOpacity>\n                      ))}\n                    </ScrollView>\n                  </View>\n                )}\n              </View>\n\n              <View style={styles.switchContainer}>\n                <Text>All Day</Text>\n                <Switch value={isAllDay} onValueChange={setIsAllDay} />\n              </View>\n\n              {!isAllDay && renderTimePicker()}\n\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.availableButton,\n                    (selectedServices.length === 0 || !isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkAvailable}\n                  disabled={selectedServices.length === 0 || !isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Available\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.unavailableButton,\n                    (selectedServices.length === 0 || isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkUnavailable}\n                  disabled={selectedServices.length === 0 || isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Unavailable\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 17,\n    maxHeight: SCREEN_HEIGHT * 0.7,\n    zIndex: 1,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 15,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  closeButton: {\n    padding: 5,\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginTop: 20,\n    gap: 10,\n  },\n  availabilityButton: {\n    padding: 10,\n    borderRadius: 5,\n    flex: 1,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  availabilityButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  unavailableTimesContainer: {\n    marginTop: 20,\n    maxHeight: 200,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  \n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    fontWeight: '500',\n  },\n  \n  input: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  \n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 40,\n  },\n  \n  dropdownContainer: {\n    position: 'absolute',\n    top: '95%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    marginTop: 2,\n    maxHeight: 160,\n    zIndex: 1000,\n    elevation: 5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  \n  dropdownScroll: {\n    maxHeight: 160,\n  },\n  \n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    height: 40,\n  },\n  \n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n  },\n  \n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  \n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  \n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    padding: 4,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    margin: 2,\n  },\n  activeToggle: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleText: {\n    textAlign: 'center',\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  activeToggleText: {\n    color: theme.colors.whiteText,\n    fontWeight: '500',\n  },\n  bookingsList: {\n    maxHeight: 300,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 32,\n  },\n  emptyStateText: {\n    marginTop: 16,\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    textAlign: 'center',\n  },\n  contentScrollView: {\n    flex: 1,\n    width: '100%',\n  },\n  availabilityControls: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    width: '100%',\n  },\n  bookingsContainer: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  unavailableTimesWrapper: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  bookingsWrapper: {\n    marginBottom: 16,\n  },\n  selectedDatesText: {\n    marginVertical: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default AddAvailabilityModal;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, ScrollView, Platform, Dimensions } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\n\nconst { width } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst ALL_DAYS = \"All Days\";\nconst DAYS_OF_WEEK = [\n  ALL_DAYS,\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n];\n\nconst DefaultSettingsModal = ({ isVisible, onClose, onSave, defaultSettings }) => {\n  const { screenWidth } = useContext(AuthContext);\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [settings, setSettings] = useState(defaultSettings || {\n    Monday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n\n  const [showTimePicker, setShowTimePicker] = useState({ visible: false, type: '', value: '' });\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [isCurrentlyUnavailable, setIsCurrentlyUnavailable] = useState(false);\n  const [showDayDropdown, setShowDayDropdown] = useState(false);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      const dropdownButton = document.getElementById('dropdown-button');\n      const dropdownContainer = document.getElementById('dropdown-container');\n      \n      // If click is not on the button and not inside the dropdown, close it\n      if (showDayDropdown && \n          dropdownContainer && \n          !dropdownContainer.contains(event.target) &&\n          !dropdownButton.contains(event.target)) {\n        setShowDayDropdown(false);\n      }\n    };\n\n    if (Platform.OS === 'web') {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showDayDropdown]);\n\n  const handleSave = () => {\n    onSave({\n      ...settings,\n      [selectedDays[0]]: {\n        ...settings[selectedDays[0]],\n        isUnavailable: !isCurrentlyUnavailable\n      }\n    });\n  };\n\n  const updateDaySettings = (day, newSettings) => {\n    setSettings(prevSettings => ({\n      ...prevSettings,\n      [day]: { ...prevSettings[day], ...newSettings }\n    }));\n  };\n\n  const handleDaySelection = (day) => {\n    setSelectedDays(current => {\n      if (day === ALL_DAYS) {\n        return current.includes(ALL_DAYS) \n          ? [] \n          : DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n      }\n      \n      const withoutAll = current.filter(d => d !== ALL_DAYS);\n      if (withoutAll.includes(day)) {\n        return withoutAll.filter(d => d !== day);\n      } else {\n        if (withoutAll.length + 1 === DAYS_OF_WEEK.length - 1) {\n          return DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n        } else {\n          return [...withoutAll, day];\n        }\n      }\n    });\n  };\n\n  const handleAvailabilityChange = (makeAvailable) => {\n    console.log(\"Selected days:\", selectedDays);\n    if (selectedDays.length === 0) return;\n\n    const daysToUpdate = selectedDays.includes(ALL_DAYS) \n      ? DAYS_OF_WEEK.filter(day => day !== ALL_DAYS)\n      : selectedDays;\n    \n    console.log(\"Days to update:\", daysToUpdate);\n    console.log(\"Current settings:\", settings);\n    console.log(\"Making available:\", makeAvailable);\n\n    const newSettings = { ...settings };\n    daysToUpdate.forEach(day => {\n      console.log(`Updating ${day}`);\n      newSettings[day] = {\n        ...settings[day],\n        isUnavailable: !makeAvailable,\n        startTime: settings[selectedDays[0]].startTime,\n        endTime: settings[selectedDays[0]].endTime,\n        isAllDay: settings[selectedDays[0]].isAllDay,\n        endDate: settings[selectedDays[0]].endDate\n      };\n    });\n    \n    console.log(\"New settings:\", newSettings);\n    setSettings(newSettings);\n    onSave(newSettings);\n    setIsCurrentlyUnavailable(!makeAvailable);\n  };\n\n  const renderTimePicker = (type, value, onChange) => {\n    if (Platform.OS === 'web') {\n      return (\n        <input\n          type=\"time\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          style={styles.webTimePicker}\n        />\n      );\n    } else if (Platform.OS === 'ios') {\n        return (\n            <DateTimePicker\n          value={new Date(`2000-01-01T${value}`)}\n          mode=\"time\"\n          is24Hour={false}\n          display=\"default\"\n          onChange={(event, selectedTime) => {\n            if (selectedTime) {\n              onChange(selectedTime.toTimeString().slice(0, 5));\n            }\n          }}\n        />\n        )\n    } else {\n      return (\n        <>\n          <TouchableOpacity onPress={() => setShowTimePicker({ visible: true, type, value })}>\n            <Text>{value}</Text>\n          </TouchableOpacity>\n          {Platform.OS === 'android' && showTimePicker.visible && showTimePicker.type === type && (\n            <DateTimePicker\n              value={new Date(`2000-01-01T${showTimePicker.value}`)}\n              mode=\"time\"\n              is24Hour={false}\n              display=\"default\"\n              onChange={(event, selectedTime) => {\n                setShowTimePicker({ visible: false, type: '', value: '' });\n                if (selectedTime) {\n                  onChange(selectedTime.toTimeString().slice(0, 5));\n                }\n              }}\n            />\n          )}\n        </>\n      );\n    }\n  };\n\n  const renderEndDatePicker = () => {\n    const daySettings = settings[selectedDays[0]];\n    \n    return (\n      <DatePicker\n        value={daySettings.endDate}\n        onChange={(date) => updateDaySettings(selectedDays[0], { endDate: date })}\n        placeholder=\"Select End Date\"\n      />\n    );\n  };\n\n  const renderDaySettings = () => {\n    const daySettings = settings[selectedDays[0]] || {\n      isAllDay: false,\n      startTime: '09:00',\n      endTime: '17:00',\n      endDate: null\n    };\n    \n    return (\n      <View style={styles.daySettingsContainer}>\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>All Day:</Text>\n          <Switch\n            value={daySettings.isAllDay}\n            onValueChange={(value) => {\n              if (selectedDays.length === 0) return;\n              const newSettings = { ...settings };\n              selectedDays.forEach(day => {\n                newSettings[day] = {\n                  ...newSettings[day],\n                  isAllDay: value\n                };\n              });\n              setSettings(newSettings);\n            }}\n            disabled={selectedDays.length === 0}\n          />\n        </View>\n        {!daySettings.isAllDay && (\n          <>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>Start Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'startTime',\n                  daySettings.startTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        startTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'endTime',\n                  daySettings.endTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        endTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n          </>\n        )}\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Date:</Text>\n          <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n            <DatePicker\n              value={daySettings.endDate}\n              onChange={(date) => {\n                if (selectedDays.length === 0) return;\n                const newSettings = { ...settings };\n                selectedDays.forEach(day => {\n                  newSettings[day] = {\n                    ...newSettings[day],\n                    endDate: date\n                  };\n                });\n                setSettings(newSettings);\n              }}\n              placeholder=\"Select End Date\"\n              disabled={selectedDays.length === 0}\n            />\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const checkCurrentAvailability = (days, settings) => {\n    if (!days || days.length === 0) return false;\n    \n    return days.some(day => settings[day]?.isUnavailable);\n  };\n\n  useEffect(() => {\n    if (selectedDays.length > 0) {\n      const isUnavailable = checkCurrentAvailability(selectedDays, settings);\n      setIsCurrentlyUnavailable(isUnavailable);\n    } else {\n      setIsCurrentlyUnavailable(false);\n    }\n  }, [selectedDays, settings]);\n\n  const renderDaySelector = () => (\n    <View style={styles.inputWrapper}>\n      <Text style={styles.inputLabel}>Day(s) *</Text>\n      <TouchableOpacity\n        id=\"dropdown-button\"\n        style={[\n          styles.input,\n          styles.customDropdown,\n          selectedDays.length === 0 && styles.inputError\n        ]}\n        onPress={() => setShowDayDropdown(!showDayDropdown)}\n      >\n        <Text style={{\n          color: selectedDays.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n        }}>\n          {selectedDays.length === 0 \n            ? 'Select Days' \n            : selectedDays.includes(ALL_DAYS)\n              ? 'All Days'\n              : selectedDays.length > 2\n                ? `${selectedDays.length} Days Selected`\n                : selectedDays.join(', ')}\n        </Text>\n        <MaterialCommunityIcons \n          name={showDayDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n      \n      {showDayDropdown && (\n        <View \n          id=\"dropdown-container\"\n          style={styles.dropdownContainer}\n        >\n          <ScrollView style={styles.dropdownScroll}>\n            {DAYS_OF_WEEK.map((day) => (\n              <TouchableOpacity\n                key={day}\n                style={styles.dropdownItem}\n                onPress={() => handleDaySelection(day)}\n              >\n                <View style={styles.dropdownItemContent}>\n                  <Text style={[\n                    styles.dropdownText,\n                    selectedDays.includes(day) && styles.selectedOption\n                  ]}>\n                    {day}\n                  </Text>\n                  {selectedDays.includes(day) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={20} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </View>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[\n          styles.modalContent,\n          { width: screenWidth < 600 ? '90%' : 600 }\n        ]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Default Settings</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          {renderDaySelector()}\n          {renderDaySettings()}\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => handleAvailabilityChange(true)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => handleAvailabilityChange(false)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    borderRadius: 17,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  settingContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dayContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 5,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 12,\n    marginTop: 20,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 15,\n  },\n  tab: {\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderBottomWidth: 2,\n    borderBottomColor: 'transparent',\n  },\n  selectedTab: {\n    borderBottomColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedTabText: {\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  daySettingsContainer: {\n    marginBottom: 15,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  webDatePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  inputLabel: {\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  disabledText: {\n    color: theme.colors.placeHolderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  enabledText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default DefaultSettingsModal;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, Switch, Animated } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport TimePicker from './TimePicker';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\n\nconst AvailabilityBottomSheet = ({ \n  selectedDates, \n  currentAvailability,\n  onClose,\n  onViewUnavailableTimes,\n  onSave\n}) => {\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const animatedHeight = useRef(new Animated.Value(1)).current;\n  const animatedOpacity = useRef(new Animated.Value(1)).current;\n\n  const getAvailabilityStatus = () => {\n    if (!selectedDates || selectedDates.length === 0) return 'Unknown';\n\n    const date = selectedDates[0];\n    const dateAvailability = currentAvailability[date];\n\n    if (!dateAvailability) return 'Available';\n    if (!dateAvailability.isAvailable) return 'Unavailable';\n    if (dateAvailability.unavailableTimes?.length > 0) return 'Partially Available';\n    return 'Available';\n  };\n\n  const getStatusColor = () => {\n    const status = getAvailabilityStatus();\n    switch (status) {\n      case 'Available':\n        return theme.colors.success;\n      case 'Partially Available':\n        return theme.colors.warning;\n      case 'Unavailable':\n        return theme.colors.error;\n      default:\n        return theme.colors.text;\n    }\n  };\n\n  const formatDateRange = () => {\n    if (!selectedDates || selectedDates.length === 0) return '';\n    \n    if (selectedDates.length === 1) {\n      return format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy');\n    }\n\n    return `${format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd')} - ${format(parse(selectedDates[selectedDates.length - 1], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy')}`;\n  };\n\n  const validateAndSave = (isAvailable) => {\n    if (selectedServices.length === 0) {\n      setError('Please select at least one service type');\n      return;\n    }\n    setError(null);\n    onSave({ \n      startTime: isAllDay ? '00:00' : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? '24:00' : format(endTime, 'HH:mm'),\n      services: selectedServices,\n      isAvailable,\n      isAllDay\n    });\n  };\n\n  const toggleMinimized = () => {\n    const toValue = isMinimized ? 1 : 0;\n    \n    Animated.parallel([\n      Animated.timing(animatedHeight, {\n        toValue,\n        duration: 300,\n        useNativeDriver: false\n      }),\n      Animated.timing(animatedOpacity, {\n        toValue,\n        duration: 200,\n        useNativeDriver: false\n      })\n    ]).start();\n\n    setIsMinimized(!isMinimized);\n  };\n\n  const maxHeight = 600; // Adjust this value based on your content\n  const minHeight = 80;\n\n  const containerHeight = animatedHeight.interpolate({\n    inputRange: [0, 1],\n    outputRange: [minHeight, maxHeight]\n  });\n\n  return (\n    <View style={styles.overlay}>\n      <Animated.View \n        style={[\n          styles.container,\n          { height: containerHeight }\n        ]}\n      >\n        <TouchableOpacity \n          onPress={toggleMinimized}\n          style={styles.handleContainer}\n        >\n          <View style={styles.handle} />\n        </TouchableOpacity>\n        \n        <View style={[styles.header, isMinimized && styles.headerMinimized]}>\n          <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n            <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n          <View style={styles.headerCenter}>\n            <Text style={styles.dateText}>{formatDateRange()}</Text>\n            <Text style={[styles.statusText, { color: getStatusColor() }]}>\n              {getAvailabilityStatus()}\n            </Text>\n          </View>\n          <Animated.View style={{ opacity: animatedOpacity }}>\n            <TouchableOpacity \n              style={styles.actionButton}\n              onPress={onViewUnavailableTimes}\n            >\n              <MaterialCommunityIcons \n                name=\"clock-outline\" \n                size={24} \n                color={theme.colors.primary} \n              />\n              <Text style={styles.actionButtonText}>\n                {'Unavailable\\nTimes'}\n              </Text>\n            </TouchableOpacity>\n          </Animated.View>\n        </View>\n\n        <Animated.View \n          style={[\n            styles.content,\n            { opacity: animatedOpacity }\n          ]}\n        >\n          <View style={styles.serviceSection}>\n            <Text style={styles.label}>Service Type(s)</Text>\n            <TouchableOpacity\n              style={[styles.serviceSelector, error && selectedServices.length <= 0 && styles.serviceSelectorError]}\n              onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n            >\n              <Text style={styles.serviceSelectorText}>\n                {selectedServices.length > 0 \n                  ? selectedServices.includes(ALL_SERVICES)\n                    ? \"All Services\"\n                    : selectedServices.length > 1\n                      ? `${selectedServices.length} services selected`\n                      : selectedServices[0]\n                  : \"Select service type(s)\"\n                }\n              </Text>\n              <MaterialCommunityIcons \n                name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {error && selectedServices.length <= 0 && !showServiceDropdown && <Text style={styles.errorText}>{error}</Text>}\n\n            {showServiceDropdown && (\n              <View style={styles.dropdownContainer}>\n                <ScrollView style={styles.dropdownScroll}>\n                  {SERVICE_TYPES.map((service) => (\n                    <TouchableOpacity\n                      key={service}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        if (service === ALL_SERVICES) {\n                          setSelectedServices(\n                            selectedServices.includes(ALL_SERVICES) \n                              ? [] \n                              : [ALL_SERVICES]\n                          );\n                        } else {\n                          setSelectedServices(prev => {\n                            const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                            if (prev.includes(service)) {\n                              return withoutAll.filter(s => s !== service);\n                            } else {\n                              return [...withoutAll, service];\n                            }\n                          });\n                        }\n                      }}\n                    >\n                      <View style={styles.dropdownItemContent}>\n                        <Text style={[\n                          styles.dropdownText,\n                          selectedServices.includes(service) && styles.selectedOption\n                        ]}>\n                          {service}\n                        </Text>\n                        {selectedServices.includes(service) && (\n                          <MaterialCommunityIcons \n                            name=\"check\" \n                            size={20} \n                            color={theme.colors.primary} \n                          />\n                        )}\n                      </View>\n                    </TouchableOpacity>\n                  ))}\n                </ScrollView>\n              </View>\n            )}\n          </View>\n\n          <View style={styles.timeToggleContainer}>\n            <Text style={styles.label}>Time Selection</Text>\n            <View style={styles.customToggle}>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(true)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  isAllDay && styles.toggleButtonTextActive\n                ]}>All Day</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  !isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(false)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  !isAllDay && styles.toggleButtonTextActive\n                ]}>Custom Hours</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          {!isAllDay && (\n            <View style={styles.timeSection}>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>Start Time</Text>\n                <TimePicker\n                  value={startTime}\n                  onChange={setStartTime}\n                  fullWidth\n                />\n              </View>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>End Time</Text>\n                <TimePicker\n                  value={endTime}\n                  onChange={setEndTime}\n                  fullWidth\n                />\n              </View>\n            </View>\n          )}\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => validateAndSave(true)}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => validateAndSave(false)}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </Animated.View>\n      </Animated.View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    width: '100%',\n  },\n  container: {\n    backgroundColor: theme.colors.surface,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 16,\n    maxWidth: 800,\n    width: '100%',\n    alignSelf: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: -2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    overflow: 'hidden',\n  },\n  handleContainer: {\n    width: '100%',\n    height: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 4,\n  },\n  handle: {\n    width: 40,\n    height: 4,\n    backgroundColor: theme.colors.border,\n    borderRadius: 2,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 24,\n    paddingRight: 8,\n  },\n  headerMinimized: {\n    marginBottom: 0,\n    justifyContent: 'space-between',\n  },\n  headerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  closeButton: {\n    width: 60,\n    height: 40,\n    marginBottom: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  dateText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  statusText: {\n    fontSize: theme.fontSizes.medium,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    width: 60,\n    alignItems: 'center',\n  },\n  actionButtonText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.primary,\n    marginTop: 4,\n    textAlign: 'center',\n    lineHeight: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    gap: 24,\n  },\n  timeToggleContainer: {\n    // marginBottom: 8,\n  },\n  customToggle: {\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 4,\n    // marginTop: 8,\n    gap: 8,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonInactive: {\n    backgroundColor: 'transparent',\n  },\n  toggleButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeSection: {\n    flexDirection: 'row',\n    gap: 16,\n  },\n  timeContainer: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSection: {\n    position: 'relative',\n    zIndex: 1,\n  },\n  serviceSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.background,\n  },\n  serviceSelectorText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginTop: 24,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSelectorError: {\n    borderColor: theme.colors.error,\n    borderWidth: 1,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AvailabilityBottomSheet; ","import React from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst UnavailableTimesModal = ({ \n  visible, \n  onClose, \n  selectedDates,\n  currentAvailability,\n  onRemoveTimeSlot,\n  bookings\n}) => {\n  const navigation = useNavigation();\n\n  const formatTime = (time) => {\n    const [hours, minutes] = time.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours), parseInt(minutes));\n    return format(date, 'h:mm a');\n  };\n\n  const handleBookingPress = async (bookingId) => {\n    onClose(); // Close the modal first\n    await navigateToFrom(navigation, 'BookingDetails', 'AvailabilitySettings', { bookingId });\n  };\n\n  const getUnavailableTimes = () => {\n    if (!selectedDates || selectedDates.length === 0) return [];\n\n    const allTimes = [];\n    const processedTimes = new Set(); // Track processed time slots\n\n    selectedDates.forEach(date => {\n      const dateBookings = bookings[date] || [];\n      const dateAvailability = currentAvailability[date];\n\n      // Add bookings first\n      dateBookings.forEach(booking => {\n        const timeKey = `${date}-${booking.startTime}-${booking.endTime}`;\n        if (!processedTimes.has(timeKey)) {\n          allTimes.push({\n            date,\n            startTime: booking.startTime,\n            endTime: booking.endTime,\n            reason: `${booking.service_type}\\nBooked with ${booking.client_name}`,\n            isBooking: true,\n            clientId: booking.clientId\n          });\n          processedTimes.add(timeKey);\n        }\n      });\n\n      // Add personal unavailable times, excluding any that overlap with bookings\n      if (dateAvailability?.unavailableTimes) {\n        dateAvailability.unavailableTimes\n          .filter(time => !time.clientId) // Only include non-booking unavailable times\n          .forEach(time => {\n            const timeKey = `${date}-${time.startTime}-${time.endTime}`;\n            if (!processedTimes.has(timeKey)) {\n              allTimes.push({\n                date,\n                startTime: time.startTime,\n                endTime: time.endTime,\n                reason: time.reason,\n                isBooking: false\n              });\n              processedTimes.add(timeKey);\n            }\n          });\n      }\n    });\n\n    // Sort by date and then by start time\n    return allTimes.sort((a, b) => {\n      if (a.date !== b.date) return a.date.localeCompare(b.date);\n      return a.startTime.localeCompare(b.startTime);\n    });\n  };\n\n  const renderActionButton = (item) => {\n    if (item.isBooking) {\n      return (\n        <TouchableOpacity\n          style={styles.bookingButton}\n          onPress={() => handleBookingPress(item.clientId)}\n        >\n          <MaterialCommunityIcons name=\"arrow-right\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n      );\n    }\n    \n    return (\n      <TouchableOpacity\n        style={styles.removeButton}\n        onPress={() => onRemoveTimeSlot(item.date, item)}\n      >\n        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n      </TouchableOpacity>\n    );\n  };\n\n  const renderTimeSlot = (item, index) => {\n    const formattedDate = format(parse(item.date, 'yyyy-MM-dd', new Date()), 'MMM d, yyyy');\n    const formattedStartTime = formatTime(item.startTime);\n    const formattedEndTime = formatTime(item.endTime);\n\n    return (\n      <View key={index} style={styles.timeSlotContainer}>\n        <View style={styles.dateHeader}>\n          <Text style={styles.dateText}>{formattedDate}</Text>\n        </View>\n        <View style={[\n          styles.timeSlotContent,\n          item.isBooking && styles.bookingContent\n        ]}>\n          <View style={styles.timeAndReason}>\n            <Text style={styles.timeText}>\n              {formattedStartTime} - {formattedEndTime}\n            </Text>\n            <Text style={styles.reasonText}>\n              {item.reason}\n            </Text>\n          </View>\n          {renderActionButton(item)}\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Unavailable Times</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          \n          <ScrollView style={styles.timesList}>\n            {getUnavailableTimes().map((item, index) => renderTimeSlot(item, index))}\n            {getUnavailableTimes().length === 0 && (\n              <Text style={styles.emptyText}>No unavailable times for selected date(s)</Text>\n            )}\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  timesList: {\n    maxHeight: '90%',\n  },\n  timeSlotContainer: {\n    marginBottom: 15,\n  },\n  dateHeader: {\n    marginBottom: 8,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  timeSlotContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    backgroundColor: theme.colors.background,\n    padding: 12,\n    borderRadius: 8,\n  },\n  bookingContent: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 2,\n  },\n  timeAndReason: {\n    flex: 1,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reasonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.textSecondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  removeButton: {\n    padding: 5,\n    marginLeft: 10,\n  },\n  bookingButton: {\n    padding: 5,\n    marginLeft: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    width: 34,\n    height: 34,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 1,\n    elevation: 2,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    marginTop: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default UnavailableTimesModal; ","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ScrollView, Platform, StatusBar, Dimensions, ActivityIndicator } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Calendar } from 'react-native-calendars';\nimport moment from 'moment';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddAvailabilityModal from '../components/AddAvailabilityModal';\nimport DefaultSettingsModal from '../components/DefaultSettingsModal';\nimport { format, parse } from 'date-fns';\nimport { SERVICE_TYPES, fetchAvailabilityData, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBottomSheet from '../components/AvailabilityBottomSheet';\nimport UnavailableTimesModal from '../components/UnavailableTimesModal';\nimport { useNavigation } from '@react-navigation/native';\n\nconst daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst AvailabilitySettings = () => {\n  const [markedDates, setMarkedDates] = useState({});\n  const [selectedDates, setSelectedDates] = useState([]);\n  const [isAddModalVisible, setIsAddModalVisible] = useState(false);\n  const [isSettingsModalVisible, setIsSettingsModalVisible] = useState(false);\n  const [defaultAvailability, setDefaultAvailability] = useState('available');\n  const [currentAvailability, setCurrentAvailability] = useState({});\n  const [bookings, setBookings] = useState({});\n  const [defaultSettings, setDefaultSettings] = useState({\n    Monday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showBottomSheet, setShowBottomSheet] = useState(false);\n  const [showUnavailableTimesModal, setShowUnavailableTimesModal] = useState(false);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const loadAvailabilityData = async () => {\n      try {\n        setIsLoading(true);\n        const data = await fetchAvailabilityData();\n        updateMarkedDates(data.availableDates, data.unavailableDates, data.bookings);\n        \n        const combinedAvailability = {};\n        Object.keys(data.availableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: true,\n            unavailableTimes: [] // Initialize empty array for partially unavailable times\n          };\n        });\n        Object.keys(data.unavailableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: false,\n            unavailableTimes: [{\n              startTime: data.unavailableDates[date].startTime,\n              endTime: data.unavailableDates[date].endTime,\n              reason: ' Personal Time'\n            }]\n          };\n        });\n        Object.keys(data.bookings).forEach(date => {\n          if (!combinedAvailability[date]) {\n            combinedAvailability[date] = { \n              isAvailable: true,\n              unavailableTimes: []\n            };\n          }\n          combinedAvailability[date].unavailableTimes = [\n            ...combinedAvailability[date].unavailableTimes,\n            ...data.bookings[date].map(booking => ({\n              startTime: booking.startTime,\n              endTime: booking.endTime,\n              reason: ` Booked with ${booking.client_name}`,\n              clientId: booking.clientId // Assuming each booking has a clientId\n            }))\n          ];\n        });\n        setCurrentAvailability(combinedAvailability);\n        setBookings(data.bookings);\n      } catch (err) {\n        setError('Failed to load availability data');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadAvailabilityData();\n  }, []);\n\n  const updateMarkedDates = (availableDates, unavailableDates, bookings) => {\n    const newMarkedDates = {};\n\n    // Helper function to check if all services are selected for a time slot\n    const hasAllServices = (reason) => {\n      if (!reason) return false;\n      const services = reason.replace('Unavailable for: ', '').split(', ');\n      return services.length === (SERVICE_TYPES.length - 1);\n    };\n\n    Object.entries(unavailableDates).forEach(([date, time]) => {\n      const isFullDay = time.startTime === '00:00' && time.endTime === '24:00';\n      const allServicesSelected = hasAllServices(time.reason);\n      \n      newMarkedDates[date] = {\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    Object.entries(availableDates).forEach(([date, time]) => {\n      if (!newMarkedDates[date]) {\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    Object.entries(bookings).forEach(([date, bookingList]) => {\n      const isFullDay = bookingList.some(booking => \n        booking.startTime === '00:00' && booking.endTime === '24:00'\n      );\n      newMarkedDates[date] = { \n        marked: true,\n        dotColor: theme.colors.primary,\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay ? theme.colors.primary : theme.colors.calendarColorYellowBrown,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    setMarkedDates(newMarkedDates);\n  };\n\n  const onDayPress = (day) => {\n    const { dateString } = day;\n    const selectedDate = new Date(dateString);\n    selectedDate.setDate(selectedDate.getDate() + 1); // Adjust for timezone offset\n    selectedDate.setHours(0, 0, 0, 0);\n  \n\n    if (selectedDates.length === 0) {\n      setSelectedDates([dateString]);\n      setShowBottomSheet(true);\n    } else if (selectedDates.length >= 1) {\n      const firstDate = new Date(selectedDates[0]);\n      firstDate.setDate(firstDate.getDate() + 1); // Adjust for timezone offset\n      firstDate.setHours(0, 0, 0, 0);    \n\n      if (selectedDate.getTime() === firstDate.getTime()) {\n        return;\n      }\n\n      if (selectedDate < firstDate) {\n        setSelectedDates([dateString]);\n        setShowBottomSheet(true);\n        return;\n      }\n\n      const range = [];\n      const currentDate = new Date(firstDate);\n      const endDate = new Date(selectedDate);\n\n      while (currentDate <= endDate) {\n        range.push(format(currentDate, 'yyyy-MM-dd'));\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    \n      setSelectedDates(range);\n    }\n  };\n\n  const handleAddAvailability = (availabilityData) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n\n    availabilityData.dates.forEach(date => {\n      const allServicesSelected = availabilityData.serviceTypes.includes(ALL_SERVICES) || \n                                 availabilityData.serviceTypes.length === SERVICE_TYPES.length - 1;\n\n      if (!availabilityData.isAvailable) {\n        newCurrentAvailability[date] = {\n          isAvailable: false,\n          unavailableTimes: [{\n            startTime: availabilityData.startTime,\n            endTime: availabilityData.endTime,\n            reason: availabilityData.reason\n          }]\n        };\n\n        newMarkedDates[date] = {\n          customStyles: {\n            container: {\n              backgroundColor: availabilityData.isAllDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'white' }\n          }\n        };\n      } else {\n        newCurrentAvailability[date] = {\n          isAvailable: true,\n          unavailableTimes: []\n        };\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n    setIsAddModalVisible(false);\n    setSelectedDates([]);\n  };\n\n  const applyDefaultSettingsToCalendar = (settings) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n    \n    const today = new Date();\n    const oneYearFromNow = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());\n\n    const daysMapping = {\n      'Sunday': 0,\n      'Monday': 1,\n      'Tuesday': 2,\n      'Wednesday': 3,\n      'Thursday': 4,\n      'Friday': 5,\n      'Saturday': 6\n    };\n\n    Object.entries(settings).forEach(([day, daySettings]) => {\n      let currentDate = new Date(Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()));\n      const targetDayNumber = daysMapping[day];\n      \n      while (currentDate <= (daySettings.endDate ? new Date(daySettings.endDate) : oneYearFromNow)) {\n        const currentDayNumber = currentDate.getUTCDay();\n        const dateString = currentDate.toISOString().split('T')[0];\n        \n        if (currentDayNumber === targetDayNumber) {\n          if (daySettings.isUnavailable) {\n            if (daySettings.isAllDay) {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: 'lightgrey' },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: false,\n                unavailableTimes: [{ startTime: '00:00', endTime: '24:00', reason: 'Default Setting' }]\n              };\n            } else {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: theme.colors.calendarColor },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: true,\n                unavailableTimes: [{\n                  startTime: daySettings.startTime,\n                  endTime: daySettings.endTime,\n                  reason: 'Default Setting'\n                }]\n              };\n            }\n          } else {\n            // Reset to available\n            delete newMarkedDates[dateString];\n            delete newCurrentAvailability[dateString];\n          }\n        }\n        currentDate.setUTCDate(currentDate.getUTCDate() + 1);\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n  };\n\n  //TODO: implement this in future for making clients on bookings clickable\n  // const handleClientPress = (clientId) => {\n  //   // Navigate to the client history page\n  //   // You'll need to implement this navigation logic\n  //   console.log(`Navigating to client history for client ID: ${clientId}`);\n  // };\n\n  const IconComponent = Platform.OS === 'web' ? MaterialCommunityIcons : Icon;\n\n  const renderArrow = (direction) => {\n    let iconName;\n    if (Platform.OS === 'web') {\n      iconName = direction === 'left' ? 'chevron-left' : 'chevron-right';\n    } else {\n      iconName = direction === 'left' ? 'chevron-back' : 'chevron-forward';\n    }\n    return (\n      <IconComponent \n        name={iconName} \n        size={24} \n        color={theme.colors.primary}\n      />\n    );\n  };\n\n  const handleDefaultSettingsSave = (newSettings) => {\n    console.log(\"Before updating defaultSettings:\", defaultSettings);\n    console.log(\"New settings to be applied:\", newSettings);\n    setDefaultSettings(newSettings);\n    \n    // Add a setTimeout to check the state after update\n    setTimeout(() => {\n      console.log(\"After updating defaultSettings:\", defaultSettings);\n    }, 0);\n    \n    // Call applyDefaultSettingsToCalendar to update the calendar view\n    applyDefaultSettingsToCalendar(newSettings);\n    setIsSettingsModalVisible(false);\n  };\n\n  const handleSaveAvailability = (data) => {\n    const { startTime, endTime, services, isAvailable } = data;\n    const isAllDay = startTime === '00:00' && endTime === '24:00';\n    handleAddAvailability({\n      dates: selectedDates,\n      isAllDay,\n      startTime,\n      endTime,\n      isUnavailable: !isAvailable,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n    setShowBottomSheet(false);\n    setSelectedDates([]);\n  };\n\n  // TODO: make this actually remove the timeslot on the backend\n  const handleRemoveTimeSlot = (date, timeSlot, updatedAvailability, selectedDates) => {\n    if (updatedAvailability && selectedDates) {\n      // Handle multiple dates\n      setCurrentAvailability(prev => ({\n        ...prev,\n        ...updatedAvailability\n      }));\n\n      // Update marked dates for multiple dates\n      const newMarkedDates = { ...markedDates };\n      selectedDates.forEach(date => {\n        if (updatedAvailability[date]?.unavailableTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n        }\n      });\n      setMarkedDates(newMarkedDates);\n    } else {\n      // Handle single date (existing functionality)\n      setCurrentAvailability(prev => {\n        const currentDateAvailability = prev[date];\n        if (!currentDateAvailability) return prev;\n\n        const filteredTimes = currentDateAvailability.unavailableTimes.filter(\n          time => !(time.startTime === timeSlot.startTime && time.endTime === timeSlot.endTime)\n        );\n\n        // Update marked dates for single date\n        const newMarkedDates = { ...markedDates };\n        if (filteredTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n          setMarkedDates(newMarkedDates);\n        }\n\n        return {\n          ...prev,\n          [date]: {\n            ...currentDateAvailability,\n            unavailableTimes: filteredTimes\n          }\n        };\n      });\n    }\n  };\n\n  const handleViewBookings = () => {\n    if (selectedDates.length > 0) {\n      navigation.navigate('MyBookings', {\n        selectedDates,\n        initialTab: 'Upcoming'\n      });\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={styles.loadingText}>Loading availability...</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  if (error) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <TouchableOpacity \n            style={styles.retryButton}\n            onPress={() => {\n              setError(null);\n              loadAvailabilityData();\n            }}\n          >\n            <Text style={styles.retryButtonText}>Retry</Text>\n          </TouchableOpacity>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      <SafeAreaView style={styles.container}>\n        <ScrollView \n          style={styles.scrollView} \n          contentContainerStyle={styles.scrollContent}\n        >\n          <View style={styles.centeredContainer}>\n            <View style={styles.header}>\n              <Text style={styles.title}>Availability</Text>\n              <TouchableOpacity \n                style={styles.defaultSettingsButton} \n                onPress={() => setIsSettingsModalVisible(true)}\n              >\n                <Text style={styles.defaultSettingsText}>Default Settings</Text>\n                <IconComponent \n                  name={Platform.OS === 'web' ? 'cog' : 'settings-outline'} \n                  size={24} \n                  color={theme.colors.text} \n                />\n              </TouchableOpacity>\n            </View>\n\n            {/* TODO: make the calendar look more user friendly */}\n            <Calendar\n              markedDates={{\n                ...markedDates,\n                ...selectedDates.reduce((acc, date) => ({\n                  ...acc,\n                  [date]: {\n                    ...markedDates[date],\n                    selected: true,\n                    customStyles: {\n                      container: {\n                        backgroundColor: theme.colors.primary,\n                        width: selectedDates.length === 1 ? 35 : '100%',\n                        height: 35,\n                        borderRadius: selectedDates.length === 1 ? 17.5 : 0,\n                        ...(selectedDates.length > 1 && {\n                          borderRadius: 0,\n                          ...(date === selectedDates[0] && {\n                            borderTopLeftRadius: 17.5,\n                            borderBottomLeftRadius: 17.5,\n                          }),\n                          ...(date === selectedDates[selectedDates.length - 1] && {\n                            borderTopRightRadius: 17.5,\n                            borderBottomRightRadius: 17.5,\n                          }),\n                        }),\n                      },\n                      text: { \n                        color: 'white',\n                        fontWeight: 'bold',\n                      }\n                    }\n                  }\n                }), {})\n              }}\n              markingType={'custom'}\n              theme={{\n                'stylesheet.calendar.main': {\n                  week: {\n                    marginVertical: 0,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around',\n                  },\n                  dayContainer: {\n                    flex: 1,\n                    alignItems: 'center',\n                    padding: 0,\n                    margin: 0,\n                  }\n                },\n                'stylesheet.calendar.header': {\n                  header: {\n                    paddingLeft: 10,\n                    paddingRight: 10,\n                    paddingBottom: 20,\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  }\n                }\n              }}\n              style={{\n                paddingBottom: 20,\n                paddingLeft: 10,\n                paddingRight: 10\n              }}\n              onDayPress={onDayPress}\n              renderArrow={renderArrow}\n            />\n\n            {/* Color Code Key */}\n            <View style={styles.colorKeyContainer}>\n              <Text style={styles.colorKeyTitle}>Color Code Key:</Text>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: 'lightgrey' }]} />\n                <Text style={styles.colorKeyText}>Unavailable All Day</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColor }]} />\n                <Text style={styles.colorKeyText}>Partially Unavailable</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColorYellowBrown }]} />\n                <Text style={styles.colorKeyText}>Booked Dates</Text>\n              </View>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n\n      {showBottomSheet && (\n        <View style={styles.bottomSheetOverlay}>\n          <AvailabilityBottomSheet\n            selectedDates={selectedDates}\n            currentAvailability={currentAvailability}\n            onClose={() => {\n              setShowBottomSheet(false);\n              setSelectedDates([]);\n            }}\n            onViewUnavailableTimes={() => {\n              setShowUnavailableTimesModal(true);\n            }}\n            onSave={handleSaveAvailability}\n            onViewBookings={handleViewBookings}\n          />\n        </View>\n      )}\n\n      <UnavailableTimesModal\n        visible={showUnavailableTimesModal}\n        onClose={() => setShowUnavailableTimesModal(false)}\n        selectedDates={selectedDates}\n        currentAvailability={currentAvailability}\n        onRemoveTimeSlot={handleRemoveTimeSlot}\n        bookings={bookings}\n      />\n\n      <DefaultSettingsModal\n        isVisible={isSettingsModalVisible}\n        onClose={() => setIsSettingsModalVisible(false)}\n        onSave={handleDefaultSettingsSave}\n        defaultSettings={defaultSettings}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n  },\n  bottomSheetOverlay: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  centeredContainer: {\n    maxWidth: 1000,\n    width: '100%',\n    alignSelf: 'center',\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  addButton: {\n    position: 'absolute',\n    right: 20,\n    bottom: 20,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  defaultSettingsButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  defaultSettingsText: {\n    marginRight: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  colorKeyContainer: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    elevation: 2,\n  },\n  colorKeyTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  colorKeyItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5,\n  },\n  colorBox: {\n    width: 20,\n    height: 20,\n    borderRadius: 3,\n    marginRight: 10,\n  },\n  colorKeyText: {\n    fontSize: 14,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.error,\n    textAlign: 'center',\n    marginBottom: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n  },\n  retryButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AvailabilitySettings;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, Image, Platform, SafeAreaView, StatusBar, Dimensions, ActivityIndicator } from 'react-native';\nimport { Card, Title, Paragraph, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst MyPets = ({ navigation }) => {\n  const [pets, setPets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { screenWidth } = useContext(AuthContext);\n\n  useEffect(() => {\n    fetchPets();\n  }, []);\n\n  const fetchPets = async () => {\n    setLoading(true);\n    try {\n      // Simulate network delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // Mock data\n      const mockPets = [\n        {\n          id: '1',\n          name: 'Max',\n          animal_type: 'Dog',\n          breed: 'border collie',\n          age: {\n            months: 0,\n            years: 5,\n          },\n          weight: 32,\n          sex: 'Male',\n          friendlyWithChildren: true,\n          friendlyWithCats: false,\n          friendlyWithDogs: true,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: true,\n          adoptionDate: '2020-01-15',\n          description: 'Loves to play fetch and go for walks.',\n          energyLevel: 'High',\n          feedingSchedule: 'Morning',\n          leftAlone: '1-4 hours',\n          medication: null,\n          additionalInstructions: 'Needs daily exercise.',\n          vetName: 'Dr. Smith',\n          vetAddress: '123 Vet St.',\n          vetPhone: '555-1234',\n          insuranceProvider: 'Pet Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '2',\n          name: 'Whiskers',\n          animal_type: 'Cat',\n          breed: 'tammy ammy',\n          age: {\n            months: 3,\n            years: 4,\n          },\n          weight: 16,\n          sex: 'Female',\n          friendlyWithChildren: true,\n          friendlyWithCats: true,\n          friendlyWithDogs: false,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: false,\n          adoptionDate: '2019-05-20',\n          description: 'Enjoys lounging in the sun.',\n          energyLevel: 'Low',\n          feedingSchedule: 'Twice a day',\n          leftAlone: '4-8 hours',\n          medication: null,\n          additionalInstructions: 'Prefers quiet environments.',\n          vetName: 'Dr. Jones',\n          vetAddress: '456 Vet Ave.',\n          vetPhone: '555-5678',\n          insuranceProvider: 'Pet Health Insurance',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '3',\n          name: 'Buddy',\n          animal_type: 'Lizard',\n          breed: 'leopard gecko',\n          age: {\n            months: 0,\n            years: 2,\n          },\n          weight: 1,\n          sex: 'Male',\n          friendlyWithChildren: false,\n          friendlyWithCats: false,\n          friendlyWithDogs: false,\n          spayedNeutered: false,\n          houseTrained: false,\n          microchipped: false,\n          adoptionDate: '2021-08-10',\n          description: 'A calm and quiet pet.',\n          energyLevel: 'Low',\n          feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n          leftAlone: 'Can be left alone indefinitely',\n          medication: null,\n          additionalInstructions: 'Keep in a warm environment.',\n          vetName: 'Dr. Green',\n          vetAddress: '789 Vet Blvd.',\n          vetPhone: '555-9012',\n          insuranceProvider: 'Reptile Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n      ];\n\n      setPets(mockPets);\n    } catch (error) {\n      console.error('Error fetching pets:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const PetCard = ({ pet }) => (\n    <TouchableOpacity \n      onPress={() => {\n        if (Platform.OS === 'web') {\n          // Store pet data before navigation\n          sessionStorage.setItem('editPetData', JSON.stringify(pet));\n          // Navigate and immediately clean URL\n          navigation.navigate('AddPet');\n          window.history.replaceState({}, '', '/AddPet');\n        } else {\n          navigation.navigate('AddPet', { pet });\n        }\n      }}\n    >\n      <Card style={styles.petCard}>\n        <Card.Content style={styles.petCardContent}>\n          {pet.image ? (\n            <Image source={{ uri: pet.image }} style={styles.petImage} />\n          ) : (\n            <View style={styles.petImagePlaceholder}>\n              <MaterialCommunityIcons \n                name={getAnimalIcon(pet.animal_type ? pet.animal_type : 'paw')} \n                size={40} \n                color={theme.colors.primary} \n              />\n            </View>\n          )}\n          <View style={styles.petInfo}>\n            <Title>{pet.name}</Title>\n            <Paragraph>{pet.animal_type ? pet.animal_type : 'paw'}</Paragraph>\n            <Paragraph>{pet.age.years} years {pet.age.months} months old</Paragraph>\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  );\n\n  const getAnimalIcon = (animalType) => {\n    switch (animalType.toLowerCase()) {\n      case 'dog':\n        return 'dog';\n      case 'cat':\n        return 'cat';\n      case 'rabbit':\n        return 'rabbit';\n      case 'reptile':\n      case 'lizard':\n        return 'snake';\n      case 'snake':\n        return 'snake';\n      case 'turtle':\n        return 'turtle';\n      case 'bird':\n      case 'parrot':\n        return 'bird';\n      case 'horse':\n        return 'horse';\n      case 'fish':\n        return 'fish';\n      default:\n        return 'paw';\n    }\n  };\n\n  const getCardWidth = () => {\n    if (screenWidth <= 600) {\n      return '90%';\n    } else if (screenWidth <= 800) {\n      return '60%';\n    } else {\n      return '30%';\n    }\n  };\n\n  const Content = () => {\n    if (loading) {\n      return (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      );\n    }\n\n    return (\n      <ScrollView contentContainerStyle={[\n        styles.scrollContent,\n        Platform.OS === 'web' && { alignItems: 'center' },\n        { marginBottom: 15 }\n      ]}>\n        <View style={[styles.contentWrapper, { width: getCardWidth() }]}>\n          {pets.map(pet => (\n            <PetCard key={pet.id} pet={pet} />\n          ))}\n          <Button\n            mode=\"contained\"\n            onPress={() => navigation.navigate('AddPet', { pet: {} })}\n            style={styles.addButton}\n            icon={({ size, color }) => (\n              <MaterialCommunityIcons name=\"plus\" size={size} color={color} />\n            )}\n          >\n            Add Pet\n          </Button>\n        </View>\n      </ScrollView>\n    );\n  };\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, { paddingTop: StatusBar.currentHeight }]}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 16,\n  },\n  contentWrapper: {\n    alignSelf: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    marginBottom: 16,\n  },\n  petCard: {\n    marginBottom: 16,\n    transform: [{ scale: Platform.OS === 'web' ? (screenWidth <= 800 && screenWidth > 600 ? 1.15 : 1) : 1 }],\n  },\n  petCardContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n  },\n  petImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  addButton: {\n    marginTop: 5,\n    alignSelf: 'center',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default MyPets;\n","import React from 'react';\nimport { View, StyleSheet, ScrollView, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst ClientHistory = ({ route, navigation }) => {\n  const { clientId } = route.params;\n  const { colors } = useTheme();\n\n  // Mock data - replace with actual data from your backend\n  const clientData = {\n    id: clientId,\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    phone: '(123) 456-7890',\n    contracts: [\n      { id: '1', date: '2023-05-01', status: 'Completed' },\n      { id: '2', date: '2023-04-15', status: 'Pending' },\n    ],\n    invoices: [\n      { id: '1', date: '2023-05-02', amount: '$100', status: 'Paid' },\n      { id: '2', date: '2023-04-16', amount: '$75', status: 'Unpaid' },\n    ],\n    upcomingBookings: [\n      { id: '1', date: '2023-06-01', service: 'Dog Walking' },\n      { id: '2', date: '2023-06-15', service: 'Cat Sitting' },\n    ],\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>{clientData.name}</Title>\n          <Paragraph>Email: {clientData.email}</Paragraph>\n          <Paragraph>Phone: {clientData.phone}</Paragraph>\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Upcoming Bookings</Title>\n          {clientData.upcomingBookings.map(booking => (\n            <List.Item\n              key={booking.id}\n              title={`Booking ${booking.id}`}\n              description={`Date: ${booking.date} - Service: ${booking.service}`}\n              left={props => <List.Icon {...props} icon=\"calendar\" />}\n            />\n          ))}\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Contracts</Title>\n          {clientData.contracts.map(contract => (\n            <List.Item\n              key={contract.id}\n              title={`Contract ${contract.id}`}\n              description={`Date: ${contract.date} - Status: ${contract.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Contracts', 'ClientHistory', { clientId })}>View All Contracts</Button>\n        </Card.Actions>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Invoices</Title>\n          {clientData.invoices.map(invoice => (\n            <List.Item\n              key={invoice.id}\n              title={`Invoice ${invoice.id}`}\n              description={`Date: ${invoice.date} - Amount: ${invoice.amount} - Status: ${invoice.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Invoices', 'ClientHistory', { clientId })}>View All Invoices</Button>\n        </Card.Actions>\n      </Card>\n\n      <View style={styles.messageButtonContainer}>\n        <Button \n          mode=\"contained\" \n          onPress={() => navigateToFrom(navigation, 'Messages', 'ClientHistory', { clientId })}\n          style={styles.messageButton}\n        >\n          View Messages\n        </Button>\n      </View>\n    </ScrollView>\n  );\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, styles.androidContainer]}>\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidContainer: {\n    paddingTop: StatusBar.currentHeight,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 90, // Extra padding for iOS and Android\n  },\n  card: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  messageButtonContainer: {\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n    marginTop: 16,\n  },\n  messageButton: {\n    width: '100%',\n  },\n});\n\nexport default ClientHistory;\n","/**\n * Validates that the end date/time is not before the start date/time\n * @param {string} startDate - Start date in ISO format\n * @param {string} endDate - End date in ISO format (optional)\n * @param {string} startTime - Start time in HH:mm format\n * @param {string} endTime - End time in HH:mm format\n * @returns {Object} - { isValid: boolean, error: string | null }\n */\nexport const validateDateTimeRange = (startDate, endDate, startTime, endTime) => {\n  // Convert dates and times to comparable format\n  const [startHour, startMinute] = startTime.split(':').map(Number);\n  const [endHour, endMinute] = endTime.split(':').map(Number);\n  \n  const startDateTime = new Date(startDate);\n  startDateTime.setHours(startHour, startMinute, 0);\n  \n  let endDateTime;\n  if (endDate) {\n    endDateTime = new Date(endDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  } else {\n    // If no end date, use start date\n    endDateTime = new Date(startDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  }\n\n  if (endDateTime < startDateTime) {\n    return {\n      isValid: false,\n      error: 'End date/time cannot be before start date/time'\n    };\n  }\n\n  return {\n    isValid: true,\n    error: null\n  };\n}; ","import React, { useState, useEffect } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet, ScrollView, Picker, ActivityIndicator, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport { format } from 'date-fns';\nimport { TIME_OPTIONS } from '../data/mockData';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst ANIMAL_COUNT_OPTIONS = ['1', '2', '3', '4', '5'];\n\nconst WebScrollStyles = `\n  .modal-scroll-container {\n    max-height: 60vh;\n    overflow-y: scroll !important;\n    padding-right: 16px;\n    display: block;\n    position: relative;\n    scrollbar-width: auto;\n    scrollbar-color: rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1);\n  }\n\n  .modal-scroll-container::-webkit-scrollbar {\n    width: 10px;\n    background-color: #F5F5F5;\n    display: block;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.1);\n    border: 1px solid #ccc;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid #aaa;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb:hover {\n    background: rgba(0, 0, 0, 0.7);\n  }\n`;\n\nconst ScrollableContent = ({ children }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <>\n        <style>{WebScrollStyles}</style>\n        <div className=\"modal-scroll-container\">\n          {children}\n        </div>\n      </>\n    );\n  }\n  \n  return (\n    <ScrollView showsVerticalScrollIndicator={true} persistentScrollbar={true}>\n      {children}\n    </ScrollView>\n  );\n};\n\nconst AddOccurrenceModal = ({ \n  visible, \n  onClose, \n  onAdd, \n  defaultRates, \n  hideRates = false,\n  initialOccurrence = null,\n  isEditing = false,\n  modalTitle = 'Add New Occurrence'\n}) => {\n\n  // Helper function to create a Date object from a time string\n  const createTimeDate = (timeStr) => {\n    if (timeStr instanceof Date) return timeStr;\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours, 10));\n    date.setMinutes(parseInt(minutes, 10));\n    return date;\n  };\n\n  const [occurrence, setOccurrence] = useState(() => {\n    \n    \n    if (initialOccurrence) {\n      const initialState = {\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      };\n      \n      return initialState;\n    }\n\n    const defaultState = {\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: defaultRates?.additionalRates || []\n      }\n    };\n    \n    return defaultState;\n  });\n\n  // Reset occurrence when initialOccurrence changes or when modal visibility changes\n  useEffect(() => {\n    if (!visible) {\n      // Reset to default state when modal closes\n      if (!initialOccurrence) {\n        setOccurrence({\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date().toISOString().split('T')[0],\n          startTime: new Date(),\n          endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n          rates: {\n            baseRate: defaultRates?.baseRate || '0',\n            additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n            appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n            holidayRate: defaultRates?.holidayRate || '0',\n            timeUnit: defaultRates?.timeUnit || 'per visit',\n            additionalRates: []\n          }\n        });\n        setTimeUnit(defaultRates?.timeUnit || 'per visit');\n      }\n    } else if (initialOccurrence) {\n      // Only set occurrence data if we're editing\n      setOccurrence({\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      });\n      setTimeUnit(initialOccurrence.rates.timeUnit || 'per visit');\n    }\n  }, [visible, initialOccurrence, defaultRates]);\n\n  const [showAddRate, setShowAddRate] = useState(false);\n  const [newRate, setNewRate] = useState({ name: '', amount: '' });\n  const [timeUnit, setTimeUnit] = useState(initialOccurrence?.rates?.timeUnit || occurrence.rates.timeUnit);\n  const [isLoading, setIsLoading] = useState(false);\n  const [validationError, setValidationError] = useState(null);\n\n  const calculateTotal = () => {\n    // If we have a totalCost from the initialOccurrence, use that\n    if (initialOccurrence?.totalCost) {\n      return parseFloat(initialOccurrence.totalCost).toFixed(2);\n    }\n\n    // Otherwise calculate it\n    const baseAmount = parseFloat(occurrence.rates.baseRate) || 0;\n    const additionalAnimalAmount = parseFloat(occurrence.rates.additionalAnimalRate) || 0;\n    const holidayAmount = parseFloat(occurrence.rates.holidayRate) || 0;\n    const customRatesAmount = occurrence.rates.additionalRates?.reduce((sum, rate) => \n      sum + (parseFloat(rate.amount) || 0), 0) || 0;\n\n    const subtotal = baseAmount + additionalAnimalAmount + holidayAmount + customRatesAmount;\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n\n    return totalClientCost.toFixed(2);\n  };\n\n  const handleAdd = async () => {\n    try {\n      setIsLoading(true);\n      \n      const occurrenceData = {\n        ...occurrence,\n        startTime: format(occurrence.startTime, 'HH:mm'),\n        endTime: format(occurrence.endTime, 'HH:mm'),\n        rates: {\n          ...occurrence.rates,\n          baseRate: parseFloat(occurrence.rates.baseRate) || 0,\n          additionalAnimalRate: parseFloat(occurrence.rates.additionalAnimalRate) || 0,\n          appliesAfterAnimals: occurrence.rates.appliesAfterAnimals,\n          holidayRate: parseFloat(occurrence.rates.holidayRate) || 0,\n          additionalRates: occurrence.rates.additionalRates.map(rate => ({\n            ...rate,\n            amount: parseFloat(rate.amount) || 0\n          })),\n          timeUnit,\n        },\n        totalCost: parseFloat(calculateTotal())\n      };\n\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      await onAdd(occurrenceData);\n\n      setOccurrence({\n        startDate: new Date().toISOString().split('T')[0],\n        endDate: new Date().toISOString().split('T')[0],\n        startTime: new Date(),\n        endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n        rates: {\n          baseRate: defaultRates?.baseRate || 0,\n          additionalAnimalRate: defaultRates?.additionalAnimalRate || 0,\n          appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n          holidayRate: defaultRates?.holidayRate || 0,\n          additionalRates: [],\n          timeUnit: 'per visit'\n        }\n      });\n      setShowAddRate(false);\n      setNewRate({ name: '', amount: '' });\n      \n      await new Promise(resolve => setTimeout(resolve, 500));\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n    } finally {\n      setIsLoading(false);\n      onClose();\n    }\n  };\n\n  const handleAddRate = () => {\n    if (newRate.name && newRate.amount) {\n      setOccurrence(prev => ({\n        ...prev,\n        rates: {\n          ...prev.rates,\n          additionalRates: [...prev.rates.additionalRates, {\n            ...newRate,\n            amount: parseFloat(newRate.amount)\n          }]\n        }\n      }));\n      setNewRate({ name: '', amount: '' });\n      setShowAddRate(false);\n    }\n  };\n\n  const handleDeleteRate = (index) => {\n    setOccurrence(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        additionalRates: prev.rates.additionalRates.filter((_, i) => i !== index)\n      }\n    }));\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleSubmit = () => {\n    // Validate the date/time range\n    const validation = validateDateTimeRange(\n      occurrence.startDate,\n      occurrence.endDate,\n      format(occurrence.startTime, 'HH:mm'),\n      format(occurrence.endTime, 'HH:mm')\n    );\n\n    if (!validation.isValid) {\n      setValidationError(validation.error);\n      return;\n    }\n\n    handleAdd();\n  };\n\n  const resetForm = () => {\n    setOccurrence({\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: []\n      }\n    });\n    setTimeUnit(defaultRates?.timeUnit || 'per visit');\n    setShowAddRate(false);\n    setNewRate({ name: '', amount: '' });\n    setValidationError(null);\n  };\n\n  const renderPickerItems = (options) => {\n    return options.map((option) => (\n      <Picker.Item \n        key={option} \n        label={option} \n        value={option}\n        style={styles.pickerItem}\n      />\n    ));\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={handleClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {modalTitle}\n            </Text>\n            <TouchableOpacity style={styles.closeButton} onPress={handleClose}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollableContent>\n            <View style={styles.dateTimeSection}>\n              <Text style={styles.sectionTitle}>Date & Time</Text>\n              \n              <View style={styles.dateTimeContainer}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Date</Text>\n                  <DatePicker\n                    value={occurrence.startDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, startDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Time</Text>\n                  <TimePicker\n                    value={occurrence.startTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, startTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n            <View style={styles.dateTimeSection}>\n              <View style={[styles.dateTimeContainer, {marginTop: 15}]}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Date</Text>\n                  <DatePicker\n                    value={occurrence.endDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, endDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Time</Text>\n                  <TimePicker\n                    value={occurrence.endTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, endTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n\n            {validationError && (\n              <Text style={styles.errorText}>{validationError}</Text>\n            )}\n\n            {!hideRates && (\n              <>\n                <View style={styles.rateSection}>\n                  <View style={[styles.rateContainer, {marginTop: 15}]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Base Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.baseRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            baseRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Per</Text>\n                      <Picker\n                        selectedValue={timeUnit}\n                        onValueChange={(itemValue) => setTimeUnit(itemValue)}\n                        style={styles.picker}\n                      >\n                        {renderPickerItems(TIME_OPTIONS)}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Additional Animal Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.additionalAnimalRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            additionalAnimalRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Applies After</Text>\n                      <Picker\n                        selectedValue={occurrence.rates.appliesAfterAnimals}\n                        onValueChange={(itemValue) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            appliesAfterAnimals: itemValue\n                          }\n                        }))}\n                        style={styles.picker}\n                      >\n                        {ANIMAL_COUNT_OPTIONS.map((option) => (\n                          <Picker.Item key={option} label={`${option} animal${option === '1' ? '' : 's'}`} value={option} />\n                        ))}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Holiday Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.holidayRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            holidayRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                  </View>\n                </View>\n\n                <View style={styles.rateSection}>\n                  <Text style={[styles.label, {marginTop: 10, marginBottom: 0}]}>Additional Rates</Text>\n                  {occurrence.rates.additionalRates.map((rate, index) => (\n                    <View key={index} style={[styles.rateRow, {marginTop: 10, marginBottom: 0}]}>\n                      <TextInput\n                        style={[styles.input, styles.rateInput]}\n                        value={rate.name}\n                        editable={false}\n                      />\n                      <View style={[styles.rateAmountContainer]}>\n                        <TextInput\n                          style={[styles.input, styles.rateAmountInput]}\n                          value={rate.amount.toString()}\n                          editable={false}\n                        />\n                      </View>\n                      <TouchableOpacity onPress={() => handleDeleteRate(index)}>\n                        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n                      </TouchableOpacity>\n                    </View>\n                  ))}\n\n                  {showAddRate ? (\n                    <>\n                      <View style={styles.rateLabelContainer}>\n                        <Text style={styles.rateTitleLabel}>Rate Title</Text>\n                        <Text style={styles.rateAmountLabel}>Rate Amount</Text>\n                      </View>\n                      <View style={styles.rateRow}>\n                        <TextInput\n                          style={[styles.input, styles.rateInput]}\n                          value={newRate.name}\n                          onChangeText={(text) => setNewRate(prev => ({ ...prev, name: text }))}\n                          placeholder=\"Rate Title\"\n                        />\n                        <View style={[styles.rateAmountContainer]}>\n                          <TextInput\n                            style={[styles.input, styles.rateAmountInput]}\n                            value={newRate.amount}\n                            onChangeText={(text) => setNewRate(prev => ({ \n                              ...prev, \n                              amount: text.replace(/[^0-9.]/g, '') \n                            }))}\n                            keyboardType=\"decimal-pad\"\n                            placeholder=\"0.00\"\n                          />\n                        </View>\n                        <TouchableOpacity onPress={handleAddRate}>\n                          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n                        </TouchableOpacity>\n                      </View>\n                    </>\n                  ) : (\n                    <TouchableOpacity \n                      style={styles.addRateButton}\n                      onPress={() => setShowAddRate(true)}\n                    >\n                      <Text style={styles.addRateButtonText}>Add custom rate</Text>\n                    </TouchableOpacity>\n                  )}\n                </View>\n              \n\n                <View style={styles.totalSection}>\n                  <Text style={styles.totalLabel}>Total:</Text>\n                  <Text style={styles.totalAmount}>${calculateTotal()}</Text>\n                </View>\n\n              </>\n            )}\n\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity\n                style={[styles.button, styles.cancelButton]}\n                onPress={handleClose}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={[styles.button, styles.addButton]}\n                onPress={handleSubmit}\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  <ActivityIndicator color={theme.colors.surface} />\n                ) : (\n                  <Text style={styles.addButtonText}>{isEditing ? 'Save' : 'Add'}</Text>\n                )}\n              </TouchableOpacity>\n            </View>\n          </ScrollableContent>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateTimeSection: {\n    // marginBottom: 10,\n  },\n  dateTimeContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 15,\n    // marginBottom: 15,\n  },\n  dateTimeColumn: {\n    flex: 1,\n  },\n  topSpacing: {\n    marginTop: 15,\n  },\n  rateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n    marginBottom: 10,\n  },\n  rateInput: {\n    flex: 2,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountContainer: {\n    flex: 1,\n  },\n  rateAmountInput: {\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addRateButton: {\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n    // marginTop: ,\n  },\n  addRateButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n  },\n  dollarSign: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 15,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addButtonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateLabelContainer: {\n    flexDirection: 'row',\n    marginTop: 10,\n    marginBottom: 5,\n  },\n  rateTitleLabel: {\n    flex: 2,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginLeft: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    gap: 10,\n  },\n  baseRateInput: {\n    flex: 1,\n  },\n  timeUnitInput: {\n    flex: 1,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    height: 39,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 8,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedDropdownText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  pickerItem: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AddOccurrenceModal;","import React, { useState } from 'react';\nimport { View, StyleSheet, Modal, ScrollView, TouchableOpacity } from 'react-native';\nimport { Button, Text, TextInput } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport AddOccurrenceModal from './AddOccurrenceModal';\nimport { format } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPE_SUGGESTIONS, mockPets } from '../data/mockData';\nimport ConfirmationModal from './ConfirmationModal';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst RequestBookingModal = ({ visible, onClose, onSubmit, services = SERVICE_TYPE_SUGGESTIONS, pets = mockPets }) => {\n  const [selectedService, setSelectedService] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [occurrences, setOccurrences] = useState([]);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [occurrenceErrors, setOccurrenceErrors] = useState({});\n\n  const resetForm = () => {\n    setSelectedService('');\n    setSelectedPets([]);\n    setOccurrences([]);\n    setSelectedOccurrence(null);\n  };\n\n  const validateOccurrences = (occs) => {\n    const errors = {};\n    let isValid = true;\n\n    occs.forEach((occ, index) => {\n      const validation = validateDateTimeRange(\n        occ.startDate,\n        occ.endDate,\n        occ.startTime,\n        occ.endTime\n      );\n\n      if (!validation.isValid) {\n        errors[index] = validation.error;\n        isValid = false;\n      }\n    });\n\n    setOccurrenceErrors(errors);\n    return isValid;\n  };\n\n  const handleSubmit = () => {\n    if (occurrences.length === 0) return;\n\n    // Validate all occurrences before submitting\n    if (!validateOccurrences(occurrences)) {\n      return;\n    }\n\n    const bookingData = {\n      serviceType: selectedService,\n      pets: selectedPets.map(petId => pets.find(p => p.id === petId)),\n      occurrences: occurrences\n    };\n\n    // Create a booking request message\n    const bookingRequestMessage = {\n      type: 'booking_request',\n      data: bookingData,\n      timestamp: new Date().toISOString()\n    };\n\n    onSubmit(bookingRequestMessage);\n    resetForm();\n    onClose();\n  };\n\n  const handleDeleteOccurrence = async (occurrenceToDelete) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      setOccurrences(prev => prev.filter(occ => \n        occ.startDate !== occurrenceToDelete.startDate || \n        occ.startTime !== occurrenceToDelete.startTime\n      ));\n    } finally {\n      setConfirmationModal({ \n        visible: false, \n        actionText: '', \n        onConfirm: null, \n        isLoading: false \n      });\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrence) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrence),\n      isLoading: false\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleOpenOccurrenceModal = () => {\n    setShowServiceDropdown(false);\n    setShowPetDropdown(false);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const handleOccurrenceUpdate = (newOccurrence) => {\n    const { startDate, endDate, startTime, endTime } = newOccurrence;\n    \n    // Validate the new occurrence\n    const validation = validateDateTimeRange(startDate, endDate, startTime, endTime);\n    \n    if (!validation.isValid) {\n      // Show error in the AddOccurrenceModal\n      // You'll need to add error handling in the AddOccurrenceModal component\n      return false;\n    }\n\n    if (selectedOccurrence) {\n      setOccurrences(prev => prev.map(occ => \n        occ === selectedOccurrence ? \n        { startDate, endDate, startTime, endTime } : \n        occ\n      ));\n    } else {\n      setOccurrences(prev => [...prev, { startDate, endDate, startTime, endTime }]);\n    }\n    setSelectedOccurrence(null);\n    setShowAddOccurrenceModal(false);\n    return true;\n  };\n\n  const renderServiceDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{selectedService || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {services.map((service) => (\n              <TouchableOpacity\n                key={service}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setSelectedService(service);\n                  setShowServiceDropdown(false);\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  selectedService === service && styles.selectedOption\n                ]}>\n                  {service}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderPetSelector = () => (\n    <View style={{ zIndex: 2 }}>\n      {selectedPets.map((petId) => {\n        const pet = pets.find(p => p.id === petId);\n        return (\n          <View key={petId} style={styles.petItem}>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type} • {pet.breed}</Text>\n            </View>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter(id => id !== petId))}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.error} \n              />\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n      \n      <TouchableOpacity\n        style={styles.addPetButton}\n        onPress={() => setShowPetDropdown(!showPetDropdown)}\n      >\n        <MaterialCommunityIcons \n          name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={20} \n          color={theme.colors.primary} \n        />\n        <Text style={styles.addPetText}>\n          {selectedPets.length === 0 ? 'Select Pets' : 'Add Pet'}\n        </Text>\n      </TouchableOpacity>\n      \n      {showPetDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true} style={styles.petDropdown}>\n            {pets\n              .filter(pet => !selectedPets.includes(pet.id))\n              .map((pet) => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setSelectedPets(prev => [...prev, pet.id]);\n                    setShowPetDropdown(false);\n                  }}\n                >\n                  <View>\n                    <Text style={styles.dropdownPetName}>{pet.name}</Text>\n                    <Text style={styles.dropdownPetDetails}>\n                      {pet.type} • {pet.breed}\n                    </Text>\n                  </View>\n                </TouchableOpacity>\n              ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderOccurrenceCard = (occ, index) => (\n    <View key={index}>\n      <TouchableOpacity \n        style={[\n          styles.occurrenceCard,\n          occurrenceErrors[index] && styles.occurrenceCardError\n        ]}\n      >\n        <View style={styles.occurrenceDetails}>\n          <Text style={styles.dateText}>\n            {occ.endDate && occ.startDate !== occ.endDate ? \n              `${format(new Date(occ.startDate), 'MMM d, yyyy')} - ${format(new Date(occ.endDate), 'MMM d, yyyy')}` :\n              format(new Date(occ.startDate), 'MMM d, yyyy')\n            }\n          </Text>\n          <Text style={styles.timeText}>\n            {`${occ.startTime} - ${occ.endTime}`}\n          </Text>\n          {occurrenceErrors[index] && (\n            <Text style={styles.errorText}>{occurrenceErrors[index]}</Text>\n          )}\n        </View>\n        <View style={styles.occurrenceActions}>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => confirmDeleteOccurrence(occ)}\n          >\n            <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => {\n              setSelectedOccurrence(occ);\n              handleOpenOccurrenceModal();\n            }}\n          >\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={visible}\n      onRequestClose={handleClose}\n      animationType=\"slide\"\n      transparent={true}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Booking</Text>\n          \n          <ScrollView style={styles.scrollView}>\n            {/* Service Selection */}\n            <Text style={styles.label}>Select Service</Text>\n            {renderServiceDropdown()}\n\n            {/* Pet Selection */}\n            <Text style={styles.label}>Select Pets</Text>\n            {renderPetSelector()}\n\n            {/* Date & Time Selection */}\n            <Text style={styles.label}>Select Date & Time</Text>\n            {occurrences.map((occ, index) => renderOccurrenceCard(occ, index))}\n\n            <TouchableOpacity\n              style={styles.addOccurrenceButton}\n              onPress={() => {\n                setSelectedOccurrence(null);\n                handleOpenOccurrenceModal();\n              }}\n            >\n              <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n              <Text style={styles.addOccurrenceText}>Add Date & Time</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.buttonContainer}>\n            <Button mode=\"outlined\" onPress={handleClose} style={styles.button}>\n              Cancel\n            </Button>\n            <Button \n              mode=\"contained\" \n              onPress={handleSubmit}\n              style={styles.button}\n              disabled={!selectedService || selectedPets.length === 0 || occurrences.length === 0}\n            >\n              Submit\n            </Button>\n          </View>\n        </View>\n      </View>\n\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => setShowAddOccurrenceModal(false)}\n        onAdd={handleOccurrenceUpdate}\n        hideRates={true}\n        initialOccurrence={selectedOccurrence}\n        modalTitle={selectedOccurrence ? 'Edit Occurrence' : 'Add New Occurrence'}\n      />\n\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: '', \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  scrollView: {\n    maxHeight: '70%',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginTop: 15,\n    marginBottom: 10,\n  },\n  serviceOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  serviceButton: {\n    marginBottom: 10,\n  },\n  petOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  petButton: {\n    marginBottom: 10,\n  },\n  dateContainer: {\n    gap: 10,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n  },\n  timePickerWrapper: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    marginBottom: 20,\n    zIndex: 3,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n    elevation: 5,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n  },\n  actionButton: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    borderRadius: 4,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n  },\n  detailText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n  occurrenceCardError: {\n    borderColor: theme.colors.error,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n  },\n});\n\nexport default RequestBookingModal; ","import React, { useState, useCallback, useRef, useEffect, useContext } from 'react';\nimport { View, StyleSheet, FlatList, KeyboardAvoidingView, Platform, SafeAreaView, StatusBar, TextInput, Text, TouchableOpacity, Dimensions, Alert } from 'react-native';\nimport { Button, Card, Paragraph, useTheme, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons'; // Import the icon library\nimport { theme } from '../styles/theme';\nimport { AuthContext, getStorage } from '../context/AuthContext';\nimport RequestBookingModal from '../components/RequestBookingModal';\nimport { createBooking, BOOKING_STATES, mockConversations, mockMessages, CURRENT_USER_ID } from '../data/mockData';\nimport { format } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\n// First, create a function to generate dynamic styles\nconst createStyles = (screenWidth) => StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: screenWidth > 1000 ? 0 : 0,\n    paddingRight: screenWidth > 1000 ? 0 : 0,\n    paddingLeft: screenWidth > 1000 ? 0 : 0,\n    height: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n    position: 'fixed',\n    top: 64,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  filterButton: {\n    marginLeft: 'auto',\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    maxWidth: screenWidth > 1000 ? '100%' : 1000,\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'hidden',\n    height: '100%',\n  },\n  conversationListContainer: {\n    width: screenWidth <= 1000 ? '100%' : '30%',\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    borderRightWidth: 2,\n    backgroundColor: theme.colors.surface,\n    overflow: 'auto',\n  },\n  conversationItem: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    width: '100%',\n  },\n  selectedConversation: {\n    backgroundColor: theme.colors.primary + '20',\n    borderLeftWidth: 3,\n    borderLeftColor: theme.colors.primary,\n  },\n  conversationName: {\n    fontSize: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  messageSection: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    height: '100%',\n    marginLeft: screenWidth > 1000 ? 0 : 0,\n    maxWidth: Platform.OS === 'web' ? \n      (screenWidth <= 1000 ? '100%' : '70%') : \n      '100%',\n    alignSelf: screenWidth <= 1000 ? 'stretch' : 'flex-start',\n    width: screenWidth <= 1000 ? '100%' : 'auto',\n    overflow: 'hidden',\n    paddingRight: screenWidth > 1000 ? 100 : 0,\n    paddingBottom: 60,\n  },\n  messagesContainer: {\n    flex: 1,\n    overflow: 'auto',\n    width: '100%',\n    position: 'absolute',\n    padding: 16,\n    paddingTop: screenWidth > 1000 ? 72 : 0,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  messageList: {\n    // padding: 16,\n    width: '100%',\n    paddingTop: 80, // the list is inverted, so we need to pad the top to account for the footer on mobile\n  },\n  messageInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n  },\n  attachButton: {\n    padding: 8,\n  },\n  messageInput: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    marginHorizontal: 8,\n  },\n  sendButton: {\n    borderRadius: 20,\n  },\n  messageCard: {\n    marginVertical: 4,\n    maxWidth: screenWidth > 1000 ? '40%' : '60%',\n    borderRadius: 12,\n    overflow: 'hidden',\n  },\n  // This is for the messages that are sent and received\n  messageContent: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n  },\n  sentMessage: {\n    alignSelf: 'flex-end',\n    backgroundColor: theme.colors.primary,\n  },\n  receivedMessage: {\n    alignSelf: 'flex-start',\n    backgroundColor: theme.colors.receivedMessage,\n  },\n  messageText: {\n    fontSize: 16,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentMessageContainer: {\n    alignItems: 'flex-end',\n    marginBottom: 4,\n  },\n  receivedMessageContainer: {\n    alignItems: 'flex-start',\n    marginBottom: 4,\n  },\n  senderAbove: {\n    fontWeight: 'bold',\n    marginBottom: 4,\n    fontSize: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  sentSenderName: {\n    alignSelf: 'flex-end',\n  },\n  receivedSenderName: {\n    alignSelf: 'flex-start',\n  },\n  timestampBelow: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentTimestamp: {\n    alignSelf: 'flex-end',\n  },\n  receivedTimestamp: {\n    alignSelf: 'flex-start',\n  },\n  sentMessageText: {\n    color: theme.colors.whiteText,\n  },\n  receivedMessageText: {\n    color: theme.colors.text,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  input: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    maxHeight: 100,\n  },\n  webInput: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    paddingVertical: '8px',\n    paddingLeft: '12px',\n    height: screenWidth <= 600 ? 36 : 40,\n    border: '1px solid ' + theme.colors.border,\n    borderRadius: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontSize: screenWidth <= 600 ? '14px' : 'inherit',\n    appearance: 'none',\n    touchAction: 'manipulation',\n    WebkitTapHighlightColor: 'transparent',\n    WebkitUserSelect: 'none',\n    userSelect: 'none',\n  },\n  conversationContent: {\n    flex: 1,\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  conversationTime: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n  },\n  conversationLastMessage: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  unreadMessage: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  bookingStatusContainer: {\n    backgroundColor: theme.colors.primary + '20',\n    padding: 4,\n    borderRadius: 4,\n    alignSelf: 'flex-start',\n  },\n  bookingStatus: {\n    fontSize: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  requestBookingButton: {\n    marginTop: 4,\n    height: 28,\n    alignSelf: 'flex-start',\n  },\n  requestBookingLabel: {\n    fontSize: 12,\n    marginVertical: 0,\n  },\n  messageListContainer: {\n    flex: 1,\n  },\n  inputWrapper: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    zIndex: 1,\n    width: '100%',\n    padding: screenWidth > 600 ? 16 : 8,\n  },\n  inputInnerContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    marginRight: screenWidth <= 600 ? 4 : 8,\n    \n  },\n  attachButton: {\n    padding: 8,\n    marginRight: 8,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButton: {\n    marginLeft: 8,\n    borderRadius: 20,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n  },\n  attachButtonContainer: {\n    position: 'relative',\n    zIndex: 2,\n  },\n  dropdownMenu: {\n    position: 'absolute',\n    bottom: '100%',\n    left: 0,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: -2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    marginBottom: 8,\n    minWidth: 150,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownItem: {\n    padding: 12,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 14,\n    marginLeft: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeConversationText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileMessageView: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n    position: 'relative',\n    backgroundColor: theme.colors.background,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  backButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n  },\n  backButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileHeader: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    position: 'relative',\n    zIndex: 10,\n  },\n  mobileContent: {\n    flex: 1,\n    position: 'relative',\n    height: 'calc(100% - 56px)',\n  },\n  mobileContainer: {\n    paddingTop: 0,\n    paddingLeft: 0,\n    paddingRight: 0,\n  },\n  sendButtonMobile: {\n    width: 24,\n    height: 24,\n    minWidth: 0,\n    padding: 0,\n    marginLeft: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  messageHeader: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 2,\n  },\n  messageHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    paddingVertical: 16,\n    paddingHorizontal: 8,\n  },\n  mobileHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  backArrow: {\n    position: 'absolute',\n    left: 16,\n    padding: 8,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    maxWidth: 500,\n  },\n  sentBookingRequest: {\n    alignSelf: 'flex-end',\n    marginLeft: '20%',\n  },\n  receivedBookingRequest: {\n    alignSelf: 'flex-start',\n    marginRight: '20%',\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  detailText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  viewBookingButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  viewBookingText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    backgroundColor: theme.colors.primary + '15',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 12,\n  },\n  statusText: {\n    color: theme.colors.primary,\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nconst MessageHistory = ({ navigation, route }) => {\n  const { colors } = useTheme();\n  const { screenWidth } = useContext(AuthContext);\n  const styles = createStyles(screenWidth);\n  \n  // Add loading states\n  const [isLoadingConversations, setIsLoadingConversations] = useState(true);\n  const [isLoadingMessages, setIsLoadingMessages] = useState(false);\n  \n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [selectedConversationData, setSelectedConversationData] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [isSending, setIsSending] = useState(false);\n  const [showRequestModal, setShowRequestModal] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const { is_DEBUG, is_prototype, isApprovedProfessional } = useContext(AuthContext);\n  const [conversations, setConversations] = useState([]);\n  const [hasMore, setHasMore] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n  // Clear data on unmount\n  useEffect(() => {\n    return () => {\n      setConversations([]);\n      setMessages([]);\n      setSelectedConversation(null);\n      setSelectedConversationData(null);\n      setIsLoadingConversations(is_prototype ? false :true);\n      setIsLoadingMessages(false);\n      setCurrentPage(1);\n      setHasMore(true);\n    };\n  }, []);\n\n  // Function to fetch conversations\n  const fetchConversations = async () => {\n    try {\n      setIsLoadingConversations(true);\n      \n      if (is_prototype) {\n        // In prototype mode, use mock data\n        console.log('MBABOSS Setting mock conversations in prototype mode');\n        setConversations(mockConversations);\n        if (mockConversations.length > 0 && screenWidth > 1000) {\n          setSelectedConversation(mockConversations[0].id);\n        }\n        setIsLoadingConversations(false);\n        return;\n      }\n\n      console.log('MBABOSS Fetching conversations...');\n      const token = await getStorage('userToken');\n      console.log('MBABOSS User token exists:', !!token);\n      \n      // Log the full request details\n      const requestUrl = `${API_BASE_URL}/api/conversations/v1/`;\n      console.log('MBABOSS Making request to:', requestUrl);\n      \n      const response = await axios.get(requestUrl, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      console.log('MBABOSS Conversations response status:', response.status);\n      console.log('MBABOSS Conversations data:', response.data);\n      \n      if (response.data && Array.isArray(response.data)) {\n        setConversations(response.data);\n        \n        // Auto-select first conversation on web\n        if (response.data.length > 0 && screenWidth > 1000) {\n          console.log('MBABOSS Auto-selecting first conversation:', response.data[0].conversation_id);\n          setSelectedConversation(response.data[0].conversation_id);\n        }\n      } else {\n        console.error('Invalid response format:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n      if (error.response) {\n        console.error('Error response:', error.response.data);\n        console.error('Error status:', error.response.status);\n      } else if (error.request) {\n        console.error('No response received:', error.request);\n      } else {\n        console.error('Error setting up request:', error.message);\n      }\n    } finally {\n      setIsLoadingConversations(false);\n    }\n  };\n\n  // Function to fetch messages for a conversation\n  const fetchMessages = async (conversationId, page = 1) => {\n    try {\n      if (page === 1) {\n        setIsLoadingMessages(true);\n      } else {\n        setIsLoadingMore(true);\n      }\n      \n      const token = await getStorage('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/messages/v1/conversation/${conversationId}/?page=${page}`, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (page === 1) {\n        setMessages(response.data.messages);\n      } else {\n        setMessages(prev => [...prev, ...response.data.messages]);\n      }\n      \n      setHasMore(response.data.has_more);\n      setCurrentPage(page);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    } finally {\n      setIsLoadingMessages(false);\n      setIsLoadingMore(false);\n    }\n  };\n\n  // Function to send a message\n  const SendNormalMessage = async (messageContent) => {\n    if (is_prototype) {\n      // Keep existing prototype message send logic\n      try {\n        const messageData = {\n          content: messageContent,\n          sender: 'Me',\n          timestamp: new Date().toISOString(),\n        };\n\n        const response = await new Promise((resolve) => {\n          setTimeout(() => {\n            resolve({ status: 200, data: messageData });\n          }, 1000);\n        });\n\n        console.log('MBABOSS Message sent:', response.data);\n        setMessages(prevMessages => [response.data, ...prevMessages]);\n        return response.data;\n      } catch (error) {\n        console.error('Error sending message:', error);\n        throw error;\n      }\n    } else {\n      try {\n        const token = await getStorage('userToken');\n        const response = await axios.post(`${API_BASE_URL}/api/messages/v1/send_norm_message/`, {\n          conversation_id: selectedConversation,\n          content: messageContent\n        }, {\n          headers: { \n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n\n        // Add new message to the beginning of the list since FlatList is inverted\n        setMessages(prevMessages => [response.data, ...prevMessages]);\n\n        // Update conversation's last message\n        setConversations(prev => prev.map(conv => \n          conv.conversation_id === selectedConversation \n            ? {\n                ...conv,\n                last_message: messageContent,\n                last_message_time: response.data.timestamp\n              }\n            : conv\n        ));\n\n        return response.data;\n      } catch (error) {\n        console.error('Error sending message:', error);\n        throw error;\n      }\n    }\n  };\n\n  // Effect to load initial data\n  useEffect(() => {\n    console.log('MBABOSS MessageHistory mounted, is_prototype:', is_prototype);\n    if (is_prototype) {\n      console.log('MBABOSS Setting mock conversations');\n      setIsLoadingConversations(false);\n      setConversations(mockConversations);\n      if (mockConversations.length > 0 && screenWidth > 1000) {\n        setSelectedConversation(mockConversations[0].id);\n      }\n    } else {\n      console.log('MBABOSS Fetching real conversations');\n      fetchConversations();\n    }\n  }, [is_prototype, screenWidth]);\n\n  // Effect to load messages when conversation is selected\n  useEffect(() => {\n    if (!selectedConversation) return;\n\n    if (is_prototype) {\n      const conversation = mockConversations.find(conv => conv.id === selectedConversation);\n      if (conversation) {\n        const conversationMessages = mockMessages[selectedConversation] || [];\n        setMessages(conversationMessages);\n        setSelectedConversationData(conversation);\n      }\n    } else {\n      fetchMessages(selectedConversation);\n      const conversation = conversations.find(conv => conv.conversation_id === selectedConversation);\n      setSelectedConversationData(conversation);\n    }\n  }, [selectedConversation, is_prototype]);\n\n  // Add loadMoreMessages function for infinite scroll\n  const loadMoreMessages = () => {\n    if (hasMore && !isLoadingMore && !is_prototype) {\n      fetchMessages(selectedConversation, currentPage + 1);\n    }\n  };\n\n  const isCurrentUserMessage = useCallback((message) => {\n    return message.sender === 'Me';\n  }, []);\n\n  const renderBookingRequestMessage = useCallback(({ item }) => {\n    const isFromMe = item.sender === CURRENT_USER_ID;\n    \n    return (\n      <BookingRequestMessage \n        data={item.data}\n        isFromMe={isFromMe}\n        timestamp={item.timestamp}\n        onAccept={() => {\n          navigation.navigate('BookingDetails', {\n            bookingId: null,\n            initialData: {\n              serviceType: item.data.serviceType,\n              pets: item.data.pets,\n              occurrences: item.data.occurrences,\n              status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n              clientName: selectedConversationData.name || selectedConversationData.other_user_name,\n              professionalName: 'Me'\n            }\n          });\n        }}\n      />\n    );\n  }, [navigation, selectedConversationData, CURRENT_USER_ID]);\n\n  const renderMessage = useCallback(({ item }) => {\n    if (item.type === 'booking_request') {\n      return renderBookingRequestMessage({ item });\n    }\n\n    // Existing message rendering code\n    // Update message rendering to use sent_by_other_user\n    const isFromMe = !item.sent_by_other_user;\n    return (\n      <View style={isFromMe ? styles.sentMessageContainer : styles.receivedMessageContainer}>\n        {/* <Text style={[\n          styles.senderAbove,\n          isFromMe ? styles.sentSenderName : styles.receivedSenderName\n        ]}>\n          {isFromMe ? 'Me' : selectedConversationData?.name || selectedConversationData?.other_user_name}\n        </Text> */}\n        <View style={[\n          styles.messageCard, \n          isFromMe ? styles.sentMessage : styles.receivedMessage\n        ]}>\n          <View style={styles.messageContent}>\n            <Text style={[\n              styles.messageText,\n              isFromMe ? styles.sentMessageText : styles.receivedMessageText\n            ]}>\n              {item.content}\n            </Text>\n          </View>\n        </View>\n        {/* <Text style={[\n          styles.timestampBelow,\n          isFromMe ? styles.sentTimestamp : styles.receivedTimestamp\n        ]}>\n          {new Date(item.timestamp).toLocaleTimeString()}\n        </Text> */}\n      </View>\n    );\n  }, [selectedConversationData, renderBookingRequestMessage]);\n\n  const WebInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await SendNormalMessage(message.trim());\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputInnerContainer}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          style={styles.webInput}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handleSend();\n            }\n          }}\n          disabled={isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend} \n          disabled={isSending}\n          style={[styles.sendButton, screenWidth <= 600 && styles.sendButtonMobile]}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.whiteText} size=\"small\" />\n          ) : screenWidth <= 600 ? (\n            <MaterialCommunityIcons name=\"arrow-up\" size={16} color={theme.colors.whiteText} />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MobileInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await SendNormalMessage(message.trim());\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={inputRef}\n          style={styles.input}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChangeText={setMessage}\n          multiline\n          blurOnSubmit={false}\n          editable={!isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend}\n          disabled={isSending}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.primary} size=\"small\" />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MessageInput = Platform.OS === 'web' ? <WebInput /> : <MobileInput />;\n  \n  const handleRequestBooking = async () => {\n    const currentConversation = conversations.find(c => c.conversation_id === selectedConversation);\n    console.log('MBABOSS Current conversation:', currentConversation);\n    console.log('MBABOSS CURRENT_USER_ID:', CURRENT_USER_ID);\n    console.log('MBABOSS Selected conversation ID:', selectedConversation);\n    \n    if (!currentConversation) {\n      console.log('MBABOSS No conversation found');\n      return;\n    }\n\n    // Log participant and role information\n    console.log('MBABOSS Participant1 ID:', currentConversation.participant1_id);\n    console.log('MBABOSS Participant2 ID:', currentConversation.participant2_id);\n    console.log('MBABOSS Role map:', currentConversation.role_map);\n\n    // Check if current user is the professional by checking their role in the conversation\n    const isProfessional = \n      (currentConversation.participant1_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant1_role === \"professional\") ||\n      (currentConversation.participant2_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant2_role === \"professional\");\n    \n    console.log('MBABOSS Is Professional?', isProfessional);\n\n    if (isProfessional) {\n      console.log('MBABOSS User is professional - creating booking and navigating to details');\n      try {\n        // Get the client ID (the other participant)\n        const clientId = currentConversation.participant1_id === CURRENT_USER_ID ? \n          currentConversation.participant2_id : currentConversation.participant1_id;\n        const professionalId = CURRENT_USER_ID;\n        \n        console.log('MBABOSS Creating booking with:', {\n          clientId,\n          professionalId,\n          clientName: currentConversation.name || currentConversation.other_user_name\n        });\n\n        const bookingId = await createBooking(\n          clientId,\n          professionalId,\n          {\n            clientName: currentConversation.name || currentConversation.other_user_name,\n            professionalName: 'Me',\n            status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n          }\n        );\n\n        console.log('MBABOSS Created booking with ID:', bookingId);\n\n        if (bookingId) {\n          console.log('MBABOSS Navigating to BookingDetails with:', {\n            bookingId,\n            initialData: null\n          });\n          \n          navigation.navigate('BookingDetails', {\n            bookingId: bookingId,\n            initialData: null\n          });\n        }\n      } catch (error) {\n        console.error('Error creating booking:', error);\n        Alert.alert('Error', 'Unable to create booking. Please try again.');\n      }\n    } else {\n      console.log('MBABOSS User is client - showing request modal');\n      setShowRequestModal(true);\n    }\n    \n    setShowDropdown(false);\n  };\n\n  const handleModalSubmit = async (modalData) => {\n    try {\n      const bookingId = await createBooking(\n        'client123',\n        'freelancer123',\n        {\n          ...modalData,\n          professionalName: 'Professional Name',\n          clientName: 'Me',\n          status: 'Pending',\n        }\n      );\n\n      console.log('MBABOSS Created booking with ID:', bookingId);\n\n      setShowRequestModal(false);\n      navigation.navigate('BookingDetails', {\n        bookingId: bookingId,\n        initialData: null\n      });\n    } catch (error) {\n      console.error('Error creating booking:', error);\n      Alert.alert(\n        'Error',\n        'Unable to create booking. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new function to handle booking request messages\n  const handleBookingRequest = async (bookingRequestMessage) => {\n    try {\n      // Add the booking request message to the current conversation\n      const newMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: selectedConversationData?.participant1_id,\n        participant2_id: selectedConversationData?.participant2_id,\n        sender: CURRENT_USER_ID,\n        role_map: selectedConversationData?.role_map,\n        type: 'booking_request',\n        data: bookingRequestMessage.data,\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      setMessages(prevMessages => [...prevMessages, newMessage]);\n      setShowRequestModal(false);\n    } catch (error) {\n      console.error('Error sending booking request:', error);\n      Alert.alert(\n        'Error',\n        'Unable to send booking request. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new header component\n  const renderHeader = () => {\n    if (screenWidth <= 1000 && selectedConversation) {\n      return null;\n    }\n    return (\n      <View style={styles.headerContainer}>\n        <Text style={styles.headerTitle}>Conversations</Text>\n        <Button \n          mode=\"text\" \n          onPress={() => {/* Handle filter */}}\n          style={styles.filterButton}\n        >\n          Filter\n        </Button>\n      </View>\n    );\n  };\n\n  // Update the conversation list component\n  const renderConversationList = () => (\n    <View style={styles.conversationListContainer}>\n      {conversations.map((conv) => {\n        const otherParticipantName = conv.participant1_id === CURRENT_USER_ID ? \n          conv.participant2_name : conv.participant1_name;\n        \n        return (\n          <TouchableOpacity\n            key={conv.conversation_id}\n            style={[\n              styles.conversationItem,\n              selectedConversation === conv.conversation_id && styles.selectedConversation\n            ]}\n            onPress={() => setSelectedConversation(conv.conversation_id)}\n          >\n            <View style={styles.conversationContent}>\n              <View style={styles.conversationHeader}>\n                <Text style={styles.conversationName}>\n                  {otherParticipantName || conv.name || conv.other_user_name || 'Unknown'}\n                </Text>\n                <Text style={styles.conversationTime}>\n                  {new Date(conv.last_message_time).toLocaleTimeString()}\n                </Text>\n              </View>\n              <Text \n                style={[\n                  styles.conversationLastMessage,\n                  selectedConversation === conv.conversation_id && styles.activeConversationText,\n                  conv.unread && styles.unreadMessage\n                ]} \n                numberOfLines={1}\n              >\n                {conv.last_message}\n              </Text>\n              {conv.bookingStatus && (\n                <View style={[\n                  styles.bookingStatusContainer,\n                  styles[`booking${conv.bookingStatus}Status`] || styles.bookingPendingStatus\n                ]}>\n                  <Text style={styles.bookingStatus}>\n                    {conv.bookingStatus}\n                  </Text>\n                </View>\n              )}\n            </View>\n          </TouchableOpacity>\n        );\n      })}\n    </View>\n  );\n\n  // Update the message section to handle empty states and fix positioning\n  const renderMessageSection = () => {\n    if (!selectedConversation) {\n      return null;\n    }\n\n    return (\n      <View style={styles.messageSection}>\n        {screenWidth > 1000 && selectedConversationData && (\n          <View style={styles.messageHeader}>\n            <Text style={styles.messageHeaderName}>\n              {selectedConversationData.name || selectedConversationData.other_user_name}\n            </Text>\n          </View>\n        )}\n        <View style={styles.messagesContainer}>\n          {messages.length === 0 ? (\n            <Text style={{ padding: 16, color: theme.colors.placeholder }}>\n              No messages yet. Start the conversation!\n            </Text>\n          ) : (\n            <FlatList\n              data={messages}\n              renderItem={renderMessage}\n              keyExtractor={item => (item.message_id || Date.now().toString())}\n              style={styles.messageList}\n              onEndReached={loadMoreMessages}\n              onEndReachedThreshold={0.5}\n              inverted={true}\n              contentContainerStyle={{\n                flexGrow: 1,\n                justifyContent: 'flex-end',\n                paddingBottom: 16\n              }}\n              maintainVisibleContentPosition={{\n                minIndexForVisible: 0,\n                autoscrollToTopThreshold: 10\n              }}\n            />\n          )}\n        </View>\n        <View style={styles.inputWrapper}>\n          <View style={styles.attachButtonContainer}>\n            <TouchableOpacity \n              style={styles.attachButton}\n              onPress={() => setShowDropdown(!showDropdown)}\n            >\n              <MaterialCommunityIcons \n                name={showDropdown ? \"close\" : \"plus\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {showDropdown && (\n              <View style={styles.dropdownMenu}>\n                <TouchableOpacity \n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    handleRequestBooking();\n                    setShowDropdown(false);\n                  }}\n                >\n                  <MaterialCommunityIcons \n                    name=\"calendar-plus\" \n                    size={20} \n                    color={theme.colors.primary} \n                  />\n                  <Text style={styles.dropdownText}>\n                    {selectedConversationData && (\n                      (selectedConversationData.participant1_id === CURRENT_USER_ID && \n                       selectedConversationData.role_map.participant1_role === \"professional\") ||\n                      (selectedConversationData.participant2_id === CURRENT_USER_ID && \n                       selectedConversationData.role_map.participant2_role === \"professional\")\n                    ) ? \"Create Booking\" : \"Request Booking\"}\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            )}\n          </View>\n          <View style={styles.inputContainer}>\n            {Platform.OS === 'web' ? <WebInput /> : <MobileInput />}\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const renderMobileHeader = () => (\n    <View style={styles.mobileHeader}>\n      <View style={styles.mobileHeaderContent}>\n        <TouchableOpacity \n          style={styles.backArrow}\n          onPress={() => setSelectedConversation(null)}\n        >\n          <MaterialCommunityIcons \n            name=\"arrow-left\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Text style={styles.mobileHeaderName}>\n          {selectedConversationData?.name || selectedConversationData?.other_user_name}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Move BookingRequestMessage inside the component\n  const BookingRequestMessage = ({ data, onAccept, isFromMe, timestamp }) => {\n    const navigation = useNavigation();\n    \n    const handleViewBooking = () => {\n      navigation.navigate('BookingDetails', {\n        bookingId: data.bookingId,\n        readOnly: !isFromMe // Make fields read-only for client\n      });\n    };\n\n    // Handle both old and new message formats\n    const renderDates = () => {\n      if (data.dates) {\n        // New format\n        return data.dates.map((date, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(date.startDate), 'MMM d, yyyy')} {date.startTime} - {date.endTime}\n          </Text>\n        ));\n      } else if (data.occurrences) {\n        // Old format\n        return data.occurrences.map((occ, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(occ.startDate), 'MMM d, yyyy')} {occ.startTime} - {occ.endTime}\n          </Text>\n        ));\n      }\n      return null;\n    };\n\n    return (\n      <View style={[\n        styles.bookingRequestCard,\n        isFromMe ? styles.sentBookingRequest : styles.receivedBookingRequest\n      ]}>\n        <View style={styles.bookingRequestHeader}>\n          <MaterialCommunityIcons name=\"calendar-clock\" size={24} color={theme.colors.primary} />\n          <Text style={styles.bookingRequestTitle}>\n            {data.messageType === 'professional_changes' ? 'Booking Update' : \n             data.messageType === 'client_approval' ? 'Booking Approval' : \n             'Booking Request'}\n          </Text>\n        </View>\n        \n        {data.status && (\n          <View style={styles.statusContainer}>\n            <Text style={styles.statusText}>\n              Status: {data.status}\n            </Text>\n          </View>\n        )}\n        \n        <View style={styles.bookingRequestDetails}>\n          <Text style={styles.detailLabel}>Service:</Text>\n          <Text style={styles.detailText}>{data.serviceType}</Text>\n          \n          {data.pets && (\n            <>\n              <Text style={styles.detailLabel}>Pets:</Text>\n              <Text style={styles.detailText}>\n                {data.pets.map(pet => pet.name).join(', ')}\n              </Text>\n            </>\n          )}\n          \n          <Text style={styles.detailLabel}>Dates:</Text>\n          {renderDates()}\n          \n          {data.totalCost !== undefined && (\n            <>\n              <Text style={styles.detailLabel}>Total Cost:</Text>\n              <Text style={styles.detailText}>\n                ${data.totalCost.toFixed(2)}\n              </Text>\n            </>\n          )}\n        </View>\n\n        <TouchableOpacity \n          style={styles.viewBookingButton}\n          onPress={handleViewBooking}\n        >\n          <Text style={styles.viewBookingText}>View Booking Details</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  };\n\n  // Add new component for empty state\n  const renderEmptyState = () => (\n    <View style={{\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 20,\n    }}>\n      <MaterialCommunityIcons \n        name=\"message-text-outline\" \n        size={64} \n        color={theme.colors.placeholder}\n        style={{ marginBottom: 16 }}\n      />\n      <Text style={{\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n        marginBottom: 8,\n        textAlign: 'center'\n      }}>\n        No Messages Yet\n      </Text>\n      <Text style={{\n        fontSize: 16,\n        color: theme.colors.placeholder,\n        marginBottom: 24,\n        textAlign: 'center'\n      }}>\n        {is_prototype ? \n          'Create services to start getting bookings and messages from clients' :\n          'Search professionals to find services and start messaging'}\n      </Text>\n      <Button\n        mode=\"contained\"\n        onPress={() => navigation.navigate(is_prototype ? 'Services' : 'SearchProfessionalListing')}\n        style={{ borderRadius: 8 }}\n      >\n        {is_prototype ? 'Create Services' : 'Find Professionals'}\n      </Button>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={[\n      styles.container,\n      screenWidth <= 1000 && selectedConversation && styles.mobileContainer\n    ]}>\n      {isLoadingConversations ? (\n        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading conversations...</Text>\n        </View>\n      ) : conversations.length > 0 ? (\n        <>\n          {renderHeader()}\n          <View style={[\n            styles.contentContainer,\n            screenWidth <= 1000 && selectedConversation && styles.mobileContent\n          ]}>\n            {screenWidth <= 1000 ? (\n              selectedConversation ? (\n                <View style={styles.mobileMessageView}>\n                  {renderMobileHeader()}\n                  <View style={styles.mobileContent}>\n                    {isLoadingMessages ? (\n                      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n                        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                        <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading messages...</Text>\n                      </View>\n                    ) : (\n                      renderMessageSection()\n                    )}\n                  </View>\n                </View>\n              ) : (\n                renderConversationList()\n              )\n            ) : (\n              <>\n                {renderConversationList()}\n                {isLoadingMessages ? (\n                  <View style={[styles.messageSection, { justifyContent: 'center', alignItems: 'center' }]}>\n                    <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                    <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading messages...</Text>\n                  </View>\n                ) : (\n                  renderMessageSection()\n                )}\n              </>\n            )}\n          </View>\n        </>\n      ) : (\n        renderEmptyState()\n      )}\n      \n      <RequestBookingModal\n        visible={showRequestModal}\n        onClose={() => setShowRequestModal(false)}\n        onSubmit={handleBookingRequest}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default MessageHistory;\n\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, TextInput, StyleSheet } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\nimport { AuthContext } from '../context/AuthContext';\n\n// Only import Stripe-related modules if we're not in prototype mode\nlet stripePromise = null;\nlet Elements = null;\nlet useStripe = null;\nlet useElements = null;\nlet CardElement = null;\nlet IbanElement = null;\n\n// Initialize Stripe conditionally\nconst initializeStripe = async () => {\n  if (Platform.OS === 'web') {\n    const stripe = await import('@stripe/stripe-js');\n    const stripeReact = await import('@stripe/react-stripe-js');\n    stripePromise = stripe.loadStripe(STRIPE_PUBLISHABLE_KEY);\n    Elements = stripeReact.Elements;\n    useStripe = stripeReact.useStripe;\n    useElements = stripeReact.useElements;\n    CardElement = stripeReact.CardElement;\n    IbanElement = stripeReact.IbanElement;\n  }\n};\n\n// Only import CardField for native platforms\nlet CardField = null;\nif (Platform.OS !== 'web') {\n  // Dynamic import to avoid web compilation issues\n  import('@stripe/stripe-react-native').then(module => {\n    CardField = module.CardField;\n  });\n}\n\nconst ELEMENT_OPTIONS = {\n  supportedCountries: ['US'],\n  style: {\n    base: {\n      color: '#32325d',\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: 'antialiased',\n      fontSize: '16px',\n      '::placeholder': {\n        color: '#aab7c4'\n      }\n    },\n    invalid: {\n      color: '#fa755a',\n      iconColor: '#fa755a'\n    }\n  }\n};\n\nconst WebPaymentForm = ({ onChange, paymentType }) => {\n  const stripe = useStripe && useStripe();\n  const elements = useElements && useElements();\n  const [bankFields, setBankFields] = useState({\n    accountNumber: '',\n    routingNumber: ''\n  });\n\n  useEffect(() => {\n    if (stripe && elements) {\n      onChange({\n        complete: false,\n        stripe,\n        elements,\n        paymentType\n      });\n    }\n  }, [stripe, elements, paymentType]);\n\n  const handleBankFieldChange = (field, value) => {\n    const updatedFields = {\n      ...bankFields,\n      [field]: value\n    };\n    setBankFields(updatedFields);\n\n    const isAccountNumberValid = updatedFields.accountNumber.length >= 9;\n    const isRoutingNumberValid = updatedFields.routingNumber.length === 9;\n\n    onChange({\n      complete: isAccountNumberValid && isRoutingNumberValid,\n      value: updatedFields,\n      stripe,\n      elements,\n      paymentType\n    });\n  };\n\n  return (\n    <div style={{ padding: '10px 0' }}>\n      {paymentType === 'card' ? (\n        <CardElement \n          options={ELEMENT_OPTIONS}\n          onChange={(event) => onChange({\n            ...event,\n            stripe,\n            elements,\n            paymentType\n          })}\n        />\n      ) : (\n        <div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Account Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Account Number\"\n              value={bankFields.accountNumber}\n              onChange={(e) => handleBankFieldChange('accountNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Routing Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Routing Number\"\n              value={bankFields.routingNumber}\n              onChange={(e) => handleBankFieldChange('routingNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst NativePaymentElement = ({ onChange, paymentType }) => {\n  if (!CardField) {\n    return null;\n  }\n\n  if (paymentType === 'bank') {\n    // For native platforms, use regular inputs for bank accounts\n    return (\n      <View style={[{ marginRight: 20 }]}>\n        <TextInput\n          placeholder=\"Account Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length >= 9,\n            value: { accountNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n        <TextInput\n          placeholder=\"Routing Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length === 9,\n            value: { routingNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n      </View>\n    );\n  }\n\n  return (\n    <CardField\n      postalCodeEnabled={false}\n      onCardChange={onChange}\n      style={{\n        width: '100%',\n        height: 50,\n        marginVertical: 10,\n      }}\n    />\n  );\n};\n\nexport const StripePaymentElement = ({ onChange, paymentType }) => {\n\n  useEffect(() => {\n    initializeStripe();\n  }, []);\n\n  if (Platform.OS === 'web' && Elements && stripePromise) {\n    return (\n      <Elements stripe={stripePromise}>\n        <WebPaymentForm onChange={onChange} paymentType={paymentType} />\n      </Elements>\n    );\n  }\n\n  return <NativePaymentElement onChange={onChange} paymentType={paymentType} />;\n};\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 4,\n    marginVertical: 5,\n    paddingHorizontal: 10,\n  },\n  bankInputsContainer: {\n    marginHorizontal: 16,\n    marginBottom: 16,\n  },\n  bankInput: {\n    marginBottom: 16,\n  },\n  container: {\n    padding: 16,\n  },\n}); ","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform, Dimensions } from 'react-native';\nimport { Card, Button, IconButton, TextInput, SegmentedButtons, Dialog, Portal, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { useNavigation } from '@react-navigation/native'; \nimport CrossPlatformView from '../components/CrossPlatformView';\nimport STRIPE_PUBLISHABLE_KEY from '../../.env';\nimport axios from 'axios';\nimport { createPaymentMethod } from '../utils/StripeService';\nimport { StripeCardElement } from '../components/StripeCardElement';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { StripePaymentElement } from '../components/StripeCardElement';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst MAX_WIDTH = 500; // Maximum width for web view\n\nconst PaymentMethods = () => {\n  const navigation = useNavigation();\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [confirmPrimaryDialogVisible, setConfirmPrimaryDialogVisible] = useState(false);\n  const [selectedMethod, setSelectedMethod] = useState(null);\n  const [primaryAction, setPrimaryAction] = useState(null); // 'payment' or 'receive'\n  const [newPaymentMethod, setNewPaymentMethod] = useState({\n    type: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvc: '',\n    accountNumber: '',\n    routingNumber: '',\n  });\n  const { isApprovedProfessional, is_DEBUG } = useContext(AuthContext);\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [deleteDialogVisible, setDeleteDialogVisible] = useState(false);\n  const [methodToDelete, setMethodToDelete] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const stripe = Platform.OS !== 'web' ? stripeModule()?.useStripe() : null;\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [cardComplete, setCardComplete] = useState(false);\n  const [cardElement, setCardElement] = useState(null);\n  const [stripeElement, setStripeElement] = useState(null);\n  const [bankAccountComplete, setBankAccountComplete] = useState({\n    accountNumber: false,\n    routingNumber: false\n  });\n  const [verificationModalVisible, setVerificationModalVisible] = useState(false);\n  const [verificationAmounts, setVerificationAmounts] = useState({\n    first: '',\n    second: ''\n  });\n  const [verifyingMethod, setVerifyingMethod] = useState(null);\n  const [modalLoading, setModalLoading] = useState(false);\n\n  useEffect(() => {\n    // Fetch payment methods from backend\n    // This is a placeholder. Replace with actual API calls.\n    setPaymentMethods([\n      { \n        id: '1', \n        type: 'bank', \n        accountNumber: '****1234', \n        routingNumber: '123456789', \n        isPrimaryPayment: true,\n        isPrimaryReceive: true,\n        is_verified: true \n      },\n      { \n        id: '2', \n        type: 'card', \n        last4: '4242', \n        brand: 'Visa', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      },\n      { \n        id: '3', \n        type: 'bank', \n        accountNumber: '****5678', \n        routingNumber: '987654321', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      }\n    ]);\n  }, []);\n\n  // Check if Stripe is ready\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      console.log('Stripe loading started');\n      setLoading(true);\n      const checkStripeReady = async () => {\n        try {\n          const stripe = await import('@stripe/stripe-js');\n          const stripeReact = await import('@stripe/react-stripe-js');\n          if (stripe && stripeReact) {\n            console.log('Stripe modules loaded');\n            setLoading(false);\n          }\n        } catch (error) {\n          console.error('Error loading Stripe modules:', error);\n          setLoading(false);\n        }\n      };\n      checkStripeReady();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  if (loading) {\n    if (is_DEBUG) {\n      console.log('Loading indicator should be visible');\n    }\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  const renderPaymentMethod = (method) => (\n    <Card key={method.id} style={styles.card}>\n      <Card.Content>\n        <View style={styles.cardContent}>\n          <View style={styles.methodInfo}>\n            <Text style={styles.methodType}>\n              {method.type === 'card' \n                ? `${method.brand} •••• ${method.last4}` \n                : `Bank Account ${method.accountNumber || '•••• undefined'}`}\n            </Text>\n            {method.bankName && <Text style={styles.bankName}>{method.bankName}</Text>}\n            {!method.is_verified && (\n              <Text style={styles.verificationNeeded}>\n                {method.type === 'card' \n                  ? 'Card Verification In Progress'\n                  : 'Bank Account Verification Required'}\n              </Text>\n            )}\n          </View>\n          <View style={styles.cardActions}>\n            {!method.is_verified && method.type === 'bank' && (\n              <Button\n                onPress={() => handleVerifyBankAccount(method)}\n                mode=\"contained\"\n              >\n                Verify\n              </Button>\n            )}\n            {method.is_verified && (\n              <>\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />}\n                  onPress={() => handleEditMethod(method)}\n                />\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"delete\" size={20} color={theme.colors.error} />}\n                  onPress={() => handleDeleteMethod(method)}\n                />\n              </>\n            )}\n          </View>\n        </View>\n        {method.is_verified && (\n          <View style={styles.primaryOptionsContainer}>\n            <View style={styles.checkboxRow}>\n              <IconButton\n                icon={() => (\n                  <MaterialCommunityIcons \n                    name={method.isPrimaryPayment ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                    size={24} \n                    color={theme.colors.primary}\n                  />\n                )}\n                onPress={() => handleSetPrimary(method.id, 'payment')}\n                style={styles.checkbox}\n              />\n              <Text style={styles.checkboxLabel}>\n                {method.isPrimaryPayment ? \"Primary Payment Method\" : \"Make Primary Payment Method\"}\n              </Text>\n            </View>\n            {(method.type === 'bank' && isApprovedProfessional) && (\n              <View style={styles.checkboxRow}>\n                <IconButton\n                  icon={() => (\n                    <MaterialCommunityIcons \n                      name={method.isPrimaryReceive ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                  onPress={() => handleSetPrimary(method.id, 'receive')}\n                  style={styles.checkbox}\n                />\n                <Text style={styles.checkboxLabel}>\n                  {method.isPrimaryReceive ? \"Primary Receive Method\" : \"Make Primary Receive Method\"}\n                </Text>\n              </View>\n            )}\n          </View>\n        )}\n      </Card.Content>\n    </Card>\n  );\n\n  const handleAddMethod = async () => {\n    setError(null);\n    setSelectedMethod(null);\n    setNewPaymentMethod({\n      type: 'card',\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: '',\n      routingNumber: '',\n    });\n    setModalVisible(true);\n    if (is_DEBUG) {\n      console.log('MBA: Setting modalLoading to true');\n    }\n    setModalLoading(true);\n\n    if (Platform.OS === 'web') {\n      if (is_DEBUG) {\n        console.log('MBA: Initializing Stripe elements for web');\n      }\n      if (!cardElement || !cardElement.stripe || !cardElement.elements) {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements not initialized, setting up now');\n        }\n        try {\n          const { loadStripe } = await import('@stripe/stripe-js');\n          const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n          if (stripe) {\n            if (is_DEBUG) {\n              console.log('MBA: Stripe loaded successfully');\n            }\n            const elements = stripe.elements();\n            setCardElement({\n              stripe,\n              elements,\n              complete: false,\n              paymentType: 'card',\n              value: {}\n            });\n          }\n        } catch (error) {\n          if (is_DEBUG) {\n            console.error('MBA: Error initializing Stripe elements:', error);\n          }\n        }\n      } else {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements already initialized');\n        }\n      }\n    }\n    // Add a short delay before setting modalLoading to false\n    setTimeout(() => {\n      if (is_DEBUG) {\n        console.log('MBA: Setting modalLoading to false');\n      }\n      setModalLoading(false);\n    }, 500); // 500ms delay\n  };\n\n  const handleEditMethod = (method) => {\n    setError('');\n    setSelectedMethod({ ...method });\n    setNewPaymentMethod({\n      type: method.type,\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: method.accountNumber || '',\n      routingNumber: method.routingNumber || '',\n    });\n    setModalVisible(true);\n  };\n\n  const handleDeleteMethod = (method) => {\n    setMethodToDelete({ ...method });\n    setDeleteError(null);\n    setDeleteDialogVisible(true);\n  };\n\n  const handleSetPrimary = (id, type) => {\n    setSelectedMethod({ id });\n    setPrimaryAction(type);\n    setConfirmPrimaryDialogVisible(true);\n  };\n\n  const confirmSetPrimary = async () => {\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the change\n      setPaymentMethods(prevMethods =>\n        prevMethods.map(method => ({\n          ...method,\n          ...(primaryAction === 'payment' && {\n            isPrimaryPayment: method.id === selectedMethod.id\n          }),\n          ...(primaryAction === 'receive' && {\n            isPrimaryReceive: method.id === selectedMethod.id\n          })\n        }))\n      );\n      \n      console.log('Primary method updated:', selectedMethod);\n    } catch (error) {\n      console.error('Failed to update primary method:', error);\n    } finally {\n      setIsConfirming(false);\n      setConfirmPrimaryDialogVisible(false);\n      setPrimaryAction(null);\n    }\n  };\n\n  const confirmDeleteMethod = async () => {\n    if (methodToDelete.isPrimaryPayment && methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This payment method is set as both your primary payment and receive method. Please select another payment method for both before deleting this one.\");\n      return;\n    }\n    \n    if (methodToDelete.isPrimaryPayment) {\n      setDeleteError(\"This is your primary payment method. Please select another payment method before deleting this one.\");\n      return;\n    }\n\n    if (methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This is your primary receive method. Please select another receive method before deleting this one.\");\n      return;\n    }\n\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the deletion\n      setPaymentMethods(prevMethods => prevMethods.filter(method => method.id !== methodToDelete.id));\n      \n      console.log('Payment method deleted:', methodToDelete);\n      setDeleteDialogVisible(false);\n    } catch (error) {\n      console.error('Failed to delete payment method:', error);\n      setDeleteError('An error occurred while deleting the payment method. Please try again.');\n    } finally {\n      setIsConfirming(false);\n    }\n  };\n\n  const renderAddMethodModal = () => {\n    if (is_DEBUG) {\n      console.log('MBA: Rendering Add Payment Method Modal');\n      console.log('MBA: modalLoading state:', modalLoading);\n    }\n    return (\n      <Portal>\n        <Dialog visible={modalVisible} onDismiss={() => setModalVisible(false)} style={styles.dialog}>\n          <Dialog.Title>Add Payment Method</Dialog.Title>\n          <IconButton\n            icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n            onPress={() => setModalVisible(false)}\n            style={styles.closeButton}\n          />\n          <Dialog.Content>\n            {modalLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                <Text style={styles.loadingText}>Loading...</Text>\n              </View>\n            ) : (\n              <>\n                <SegmentedButtons\n                  value={newPaymentMethod.type}\n                  onValueChange={(value) => setNewPaymentMethod({ ...newPaymentMethod, type: value })}\n                  buttons={[\n                    { value: 'card', label: 'Credit Card' },\n                    { value: 'bank', label: 'Bank Account' },\n                  ]}\n                  style={styles.segmentedButtons}\n                />\n                <StripePaymentElement \n                  key={newPaymentMethod.type}\n                  onChange={handlePaymentChange}\n                  paymentType={newPaymentMethod.type}\n                />\n                {error && <Text style={styles.errorText}>{error}</Text>}\n              </>\n            )}\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={() => setModalVisible(false)} disabled={loading}>Cancel</Button>\n            <Button \n              onPress={handleSavePaymentMethod} \n              disabled={loading || (\n                (newPaymentMethod.type === 'card' && !cardComplete) ||\n                (newPaymentMethod.type === 'bank' && (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber))\n              )}\n              loading={loading}\n            >\n              Save\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    );\n  };\n\n  const renderConfirmPrimaryDialog = () => (\n    <Portal>\n      <Dialog visible={confirmPrimaryDialogVisible} onDismiss={() => setConfirmPrimaryDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>\n          {primaryAction === 'receive' ? 'Confirm Primary Receive Method' : 'Confirm Primary Payment Method'}\n        </Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setConfirmPrimaryDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text>\n            {primaryAction === 'receive' \n              ? \"Are you sure you want to make this your primary receive method?\"\n              : \"Are you sure you want to make this your primary payment method?\"\n            }\n          </Text>\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>\n                {primaryAction === 'receive' \n                  ? \"Updating primary receive method...\"\n                  : \"Updating primary payment method...\"\n                }\n              </Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setConfirmPrimaryDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmSetPrimary} disabled={isConfirming}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const renderDeleteConfirmDialog = () => (\n    <Portal>\n      <Dialog visible={deleteDialogVisible} onDismiss={() => setDeleteDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Confirm Delete Payment Method</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setDeleteDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          {deleteError ? (\n            <Text style={styles.errorText}>{deleteError}</Text>\n          ) : (\n            <Text>Are you sure you want to delete this payment method?</Text>\n          )}\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>Deleting payment method...</Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setDeleteDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmDeleteMethod} disabled={isConfirming || deleteError}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerifyBankAccount = (method) => {\n    setVerifyingMethod(method);\n    setVerificationAmounts({ first: '', second: '' });\n    setVerificationModalVisible(true);\n    setError(null);\n  };\n\n  const renderVerificationModal = () => (\n    <Portal>\n      <Dialog visible={verificationModalVisible} onDismiss={() => setVerificationModalVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Verify Bank Account</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setVerificationModalVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text style={styles.verificationText}>\n            A deposit will be made to your bank account in 1-2 business days of adding your bank account. Please enter the two small deposit amounts that were made to your account:\n          </Text>\n          <View style={styles.amountsContainer}>\n            <TextInput\n              label=\"First Amount (cents)\"\n              value={verificationAmounts.first}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, first: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"32\"\n            />\n            <TextInput\n              label=\"Second Amount (cents)\"\n              value={verificationAmounts.second}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, second: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"45\"\n            />\n          </View>\n          {error && <Text style={styles.errorText}>{error}</Text>}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setVerificationModalVisible(false)} disabled={loading}>\n            Cancel\n          </Button>\n          <Button\n            onPress={handleVerificationSubmit}\n            loading={loading}\n            disabled={loading || !verificationAmounts.first || !verificationAmounts.second}\n          >\n            Verify\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerificationSubmit = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!verifyingMethod) {\n        throw new Error('Missing required verification data');\n      }\n\n      const firstAmount = parseInt(verificationAmounts.first);\n      const secondAmount = parseInt(verificationAmounts.second);\n\n      if ([firstAmount, secondAmount].some(amount => isNaN(amount) || amount < 1 || amount > 99)) {\n        throw new Error('Please enter valid amounts between 1 and 99 cents');\n      }\n\n      // Simulate backend API call\n      const simulateBackendVerification = () => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          // Simulate success for amounts 32 and 45, fail for others\n          if (firstAmount === 12 && secondAmount === 12) {\n            resolve({ success: true });\n          } else {\n            reject(new Error('The amounts entered do not match our records. Please verify the amounts and try again.'));\n          }\n        }, 1000);\n      });\n\n      const result = await simulateBackendVerification();\n\n      // Update the UI if verification succeeds\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === verifyingMethod.id\n            ? { ...m, is_verified: true }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setVerificationModalVisible(false);\n      setVerifyingMethod(null);\n      setVerificationAmounts({ first: '', second: '' });\n      setError('Bank account successfully verified!');\n    } catch (err) {\n      console.error('Verification error:', err);\n      setError(err.message || 'Failed to verify bank account. Please check the amounts and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add card verification handler\n  const handleVerifyCard = async (method) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Create a SetupIntent on your backend\n      const setupIntent = await axios.post('/api/create-setup-intent', {\n        payment_method_id: method.id\n      });\n\n      // Confirm the SetupIntent with Stripe\n      const result = await cardElement.stripe.confirmCardSetup(\n        setupIntent.client_secret,\n        {\n          payment_method: method.id\n        }\n      );\n\n      console.log('Card verification result:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n\n      // Update the payment method status in your lists\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === method.id\n            ? { ...m, status: 'verified', verificationNeeded: false }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setError('Card successfully verified!');\n    } catch (err) {\n      console.error('Card verification error:', err);\n      setError(err.message || 'Failed to verify card');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add these functions back after handleAddMethod\n  const handlePaymentChange = (event) => {\n    console.log('Payment change event:', event);\n    if (Platform.OS === 'web') {\n      if (newPaymentMethod.type === 'card') {\n        setCardComplete(event.complete);\n      } else {\n        // For bank accounts, track both fields\n        if (event.value) {\n          setBankAccountComplete(prev => ({\n            ...prev,\n            accountNumber: event.value.accountNumber?.length >= 9 || prev.accountNumber,\n            routingNumber: event.value.routingNumber?.length === 9 || prev.routingNumber\n          }));\n        }\n        setCardComplete(bankAccountComplete.accountNumber && bankAccountComplete.routingNumber);\n      }\n\n      setCardElement({\n        stripe: event.stripe,\n        elements: event.elements,\n        complete: event.complete,\n        paymentType: newPaymentMethod.type,\n        value: event.value\n      });\n\n      // Update newPaymentMethod state if it's a bank account\n      if (newPaymentMethod.type === 'bank' && event.value) {\n        setNewPaymentMethod(prev => ({\n          ...prev,\n          accountNumber: event.value.accountNumber || prev.accountNumber,\n          routingNumber: event.value.routingNumber || prev.routingNumber,\n        }));\n      }\n    } else {\n      setCardComplete(event.complete);\n      setCardElement(event);\n    }\n  };\n\n  const handleSavePaymentMethod = async () => {\n    if (newPaymentMethod.type === 'card') {\n      if (!cardComplete) {\n        setError('Please complete card details');\n        return;\n      }\n    } else if (newPaymentMethod.type === 'bank') {\n      if (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber) {\n        setError('Please complete both account number and routing number');\n        return;\n      }\n    }\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      if (Platform.OS === 'web') {\n        if (!cardElement.stripe || !cardElement.elements) {\n          throw new Error('Stripe not initialized');\n        }\n\n        let result;\n        if (newPaymentMethod.type === 'card') {\n          // Handle credit card\n          result = await cardElement.stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement.elements.getElement(CardElement),\n          });\n\n          console.log('Card payment method result:', result);\n\n          if (result.error) {\n            throw new Error(result.error.message);\n          }\n\n          const paymentMethodData = {\n            id: result.paymentMethod.id,\n            type: 'card',\n            last4: result.paymentMethod.card.last4,\n            brand: result.paymentMethod.card.brand,\n            is_verified: false\n          };\n\n          // Only add to payForServicesMethods since cards can't be used for receiving\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n        } else {\n          // Handle bank account\n          result = await cardElement.stripe.createToken('bank_account', {\n            country: 'US',\n            currency: 'usd',\n            routing_number: cardElement.value.routingNumber,\n            account_number: cardElement.value.accountNumber,\n            account_holder_type: 'individual',\n          });\n          \n          console.log('Bank token creation result:', result);\n\n          if (result.error || !result.token) {\n            throw new Error(result.error?.message || 'Invalid routing number. Please check and try again.');\n          }\n\n          const paymentMethodData = {\n            id: result.token.id,\n            type: 'bank',\n            accountNumber: `****${result.token.bank_account.last4}`,\n            routingNumber: cardElement.value.routingNumber,\n            bankName: result.token.bank_account.bank_name,\n            is_verified: false\n          };\n\n          // Update the appropriate list based on where it was added\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n\n          setError(\n            'Bank account added but requires verification. Two small deposits will be made to your account in 1-2 business days. ' +\n            'Please check your account and return to verify the amounts.'\n          );\n        }\n\n        setModalVisible(false);\n      } else {\n        // Native platform handling\n        const { paymentMethod, error } = await createPaymentMethod({\n          type: newPaymentMethod.type,\n          card: cardElement,\n          is_receive_payment: selectedMethod?.isPrimaryReceive || false,\n        });\n\n        if (error) {\n          throw new Error(error.message);\n        }\n\n        // Update the appropriate list\n        setPaymentMethods(prev => [...prev, paymentMethod]);\n      }\n\n      setModalVisible(false);\n    } catch (err) {\n      console.error('Payment method error:', err);\n      setError(err.message || 'Failed to save payment method');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Payment Methods\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView style={styles.container} contentContainerStyle={styles.contentContainer}>\n        <View style={styles.sectionContainer}>\n          <View style={styles.headerContainer}>\n            <Text style={styles.sectionTitle}>Payment Methods</Text>\n            <IconButton\n              icon={() => <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />}\n              onPress={() => handleAddMethod()}\n              style={styles.addIconButton}\n            />\n          </View>\n          {paymentMethods.map(method => renderPaymentMethod(method))}\n        </View>\n\n        {renderAddMethodModal()}\n        {renderConfirmPrimaryDialog()}\n        {renderDeleteConfirmDialog()}\n        {renderVerificationModal()}\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    overflow: 'hidden',\n  },\n  contentContainer: {\n    padding: 16,\n    alignItems: 'center',\n    width: '100%',\n  },\n  sectionContainer: {\n    width: '100%',\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n  },\n  card: {\n    marginBottom: 16,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  addButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  segmentedButtons: {\n    marginBottom: 16,\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n    minHeight: 40,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  cardContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  methodInfo: {\n    flex: 1,\n  },\n  methodType: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  primaryOptionsContainer: {\n    marginTop: 8,\n    gap: 4,\n  },\n  checkboxRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  checkbox: {\n    margin: 0,\n    padding: 0,\n  },\n  checkboxLabel: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginLeft: -8,\n  },\n  cardActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dialog: {\n    width: Platform.OS === 'web' ? '90%' : '100%',\n    alignSelf: 'center',\n    maxWidth: 500,\n    marginHorizontal: Platform.OS === 'web' ? 'auto' : 16,\n  },\n  input: {\n    marginBottom: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginLeft: 8,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: 5,\n    top: 5,\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.7)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bankName: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginTop: 4,\n  },\n  verificationNeeded: {\n    color: theme.colors.error,\n    fontSize: 12,\n    marginTop: 4,\n  },\n  amountsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n    marginBottom: 16,\n  },\n  amountInput: {\n    width: '48%',\n  },\n  verificationText: {\n    marginBottom: 8,\n    fontSize: 14,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n    width: '100%',\n  },\n  addIconButton: {\n    margin: 0,\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default PaymentMethods;\n","import React, { useContext } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, Text, TouchableOpacity, StatusBar } from 'react-native';\nimport { List, Divider } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Settings = ({ navigation }) => {\n  \n  const settingsItems = [\n    { title: 'Change Password', icon: 'lock-reset', route: 'ChangePassword' },\n    { title: 'Notification Preferences', icon: 'bell-outline', route: 'NotificationPreferences' },\n    { title: 'Privacy Settings', icon: 'shield-account', route: 'PrivacySettings' },\n    { title: 'Language', icon: 'translate', route: 'LanguageSettings' },\n    { title: 'Display & Accessibility', icon: 'palette', route: 'DisplaySettings' },\n    { title: 'Data Usage', icon: 'chart-bar', route: 'DataUsage' },\n    { title: 'About', icon: 'information-outline', route: 'About' },\n  ];\n\n  const renderSettingsItems = () => {\n    return settingsItems.map((item, index) => (\n      <React.Fragment key={index}>\n        <List.Item\n          title={item.title}\n          left={props => \n            Platform.OS === 'web' \n              ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n              : <List.Icon {...props} icon={item.icon} />\n          }\n          onPress={() => navigation.navigate(item.route)}\n          style={Platform.OS === 'web' ? styles.webListItem : null}\n        />\n        {index < settingsItems.length - 1 && <Divider />}\n      </React.Fragment>\n    ));\n  };\n\n  const renderContent = () => (\n    <List.Section style={styles.listSection}>\n      {renderSettingsItems()}\n    </List.Section>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Settings\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        {renderContent()}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n  },\n  listSection: {\n    backgroundColor: theme.colors.surface,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  warningContainer: {\n    backgroundColor: '#FFF3CD',\n    padding: theme.spacing.small,\n    marginHorizontal: theme.spacing.small,\n    marginTop: theme.spacing.small,\n    borderRadius: 4,\n  },\n  warningText: {\n    color: '#856404',\n    textAlign: 'center',\n  },\n});\n\nexport default Settings;\n","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { handleBack } from '../components/Navigation';\n\nconst appName = 'Zen Exotics';\n\nconst privacy_policy_info = [\n  {sectionTitle: \"Information We Collect\", \n    paragraph: \"When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\", \n    listItems: {listItem: \"Personal Information: Name, email, phone number, address, and service preferences.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.\",\n                listItem: \"Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.\",\n                listItem: \"Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n    }},\n  {}\n];\n\nconst PrivacyPolicy = () => {\n  const navigation = useNavigation();\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Privacy Policy\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView \n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <Text style={styles.title}>Privacy Policy for {appName}</Text>\n        <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n        \n        <Text style={styles.paragraph}>\n          By accessing or using {appName}, you agree to the practices described in this Privacy Policy. If you do not agree with these terms, please discontinue the use of our services immediately.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Information We Collect</Text>\n        <Text style={styles.paragraph}>\n          When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\n        </Text>\n        <Text style={styles.listItem}>• Personal Information: Name, email, phone number, address, and service preferences.</Text>\n        <Text style={styles.listItem}>• Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.</Text>\n        <Text style={styles.listItem}>• Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.</Text>\n        <Text style={styles.listItem}>• Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.</Text>\n        <Text style={styles.listItem}>• Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.</Text>\n        <Text style={styles.listItem}>• Cookies and Tracking: We use cookies and tracking technologies to improve user experience and monitor traffic patterns. You can disable cookies in your browser settings.</Text>\n\n        <Text style={styles.sectionTitle}>How We Use Your Data</Text>\n        <Text style={styles.paragraph}>We use the data we collect to:</Text>\n        <Text style={styles.listItem}>• Facilitate bookings and transactions between professionals and clients.</Text>\n        <Text style={styles.listItem}>• Verify professional eligibility through background checks.</Text>\n        <Text style={styles.listItem}>• Provide customer support and resolve disputes between users.</Text>\n        <Text style={styles.listItem}>• Improve app functionality through analytics and feedback.</Text>\n        <Text style={styles.listItem}>• Manage communications between professionals and clients.</Text>\n        <Text style={styles.listItem}>• Use health data for internal analysis and marketing purposes. We retain control over how this data is used.</Text>\n\n        <Text style={styles.sectionTitle}>Sharing of Information</Text>\n        <Text style={styles.paragraph}>We may share your data in the following ways:</Text>\n        <Text style={styles.listItem}>• With Other Users: For bookings, we share relevant information between professionals and pet owners.</Text>\n        <Text style={styles.listItem}>• With Third-Party Providers: Payment processors, analytics providers, and background check services may access limited information to perform their services.</Text>\n        <Text style={styles.listItem}>• Legal and Compliance Purposes: We may disclose information if required by law or to protect the safety and security of our users.</Text>\n        <Text style={styles.listItem}>• Business Transfers: In case of a merger, sale, or acquisition, your data may be transferred to a new owner.</Text>\n        <Text style={styles.listItem}>• Aggregated Data: We may share non-identifiable, aggregated data for research or business purposes.</Text>\n\n        <Text style={styles.sectionTitle}>Your Rights and Choices</Text>\n        <Text style={styles.listItem}>• Account Management: You can update or delete your account information through the app settings.</Text>\n        <Text style={styles.listItem}>• Health Data Access: You may review the health data associated with your pets but agree that we control its use.</Text>\n        <Text style={styles.listItem}>• Location Services: Manage your location preferences through your device settings.</Text>\n        <Text style={styles.listItem}>• Cookie Preferences: You can opt out of personalized ads and tracking through your browser settings.</Text>\n\n        <Text style={styles.sectionTitle}>Security and Data Retention</Text>\n        <Text style={styles.paragraph}>\n          We implement reasonable security measures to protect your data, though no system is entirely secure. We retain your data as long as needed for operational purposes or as required by law.\n        </Text>\n\n        <Text style={styles.sectionTitle}>International Data Transfers</Text>\n        <Text style={styles.paragraph}>\n          Your data may be processed or stored in countries outside your own. By using the app, you agree to these transfers, even if those countries have different data protection laws.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Changes to This Privacy Policy</Text>\n        <Text style={styles.paragraph}>\n          We may update this policy from time to time to reflect changes in our practices or services. We will notify you of significant changes through the app or via email. Continued use of the app constitutes acceptance of the revised policy.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Contact Us</Text>\n        <Text style={styles.paragraph}>\n          If you have questions or concerns about this policy, please contact us:\n        </Text>\n        <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n        <Text style={styles.listItem}>Phone: 7195106341</Text>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    width: '100%',\n    maxWidth: 800,\n    alignSelf: 'center',\n  },\n  contentContainer: {\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n});\n\nexport default PrivacyPolicy;\n","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ProfessionalSettings = () => {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Professional Settings</Text>\n      <Text>Manage your professional profile and preferences here.</Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default ProfessionalSettings;","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\n\nconst appName = 'Zen Exotics';\n\nconst TermsOfService = () => {\n  const navigation = useNavigation();\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Terms of Service\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <Text>Terms of Service coming soon. Right now we are in prototype mode, so no data is saved except for email/name if you choose to contact us through this platform, then it is saved for marketing purposes.</Text>\n      \n      <ScrollView \n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <Text style={styles.title}>Terms of Service for {appName}</Text>\n\n        <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n        \n        <Text style={styles.paragraph}>\n          Welcome to {appName}! By using our platform, mobile application, or any services offered through our platform (collectively, \"the Service\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, you must discontinue use of the Service immediately.\n        </Text>\n\n        <Text style={styles.sectionTitle}>1. Description of Service</Text>\n        <Text style={styles.paragraph}>\n          {appName} provides an online platform for connecting pet owners with professionals specializing in exotic animals, as well as dogs and cats. Users can book services, communicate with professionals, and manage pet-related services, including payments and reviews.\n        </Text>\n\n        <Text style={styles.sectionTitle}>2. User Accounts</Text>\n        <Text style={styles.paragraph}>\n          To use certain features of the Service, you must create an account. You are responsible for keeping your account information accurate and secure.\n        </Text>\n        <Text style={styles.listItem}>• Eligibility: Users must be at least 18 years old to create an account.</Text>\n        <Text style={styles.listItem}>• Account Security: You are responsible for all activities under your account. Notify us immediately if you suspect unauthorized use.</Text>\n        <Text style={styles.listItem}>• Account Termination: We reserve the right to suspend or terminate accounts at our sole discretion for violations of these Terms.</Text>\n\n        <Text style={styles.sectionTitle}>3. User Conduct and Acceptable Use</Text>\n        <Text style={styles.paragraph}>By using the Service, you agree:</Text>\n        <Text style={styles.listItem}>• To provide accurate and complete information.</Text>\n        <Text style={styles.listItem}>• Not to engage in fraudulent or unlawful activities.</Text>\n        <Text style={styles.listItem}>• Not to use the Service for spam, harassment, or abusive behavior toward other users.</Text>\n        <Text style={styles.listItem}>• To comply with all local, national, and international laws applicable to your activities on the platform.</Text>\n        <Text style={styles.paragraph}>Failure to comply with these rules may result in account suspension or termination.</Text>\n\n        <Text style={styles.sectionTitle}>4. Pet and Health Information</Text>\n        <Text style={styles.paragraph}>\n          You acknowledge that the Service involves the collection and sharing of health-related data for pets. By using the Service, you agree to provide accurate medical information for your animals and grant us permission to use and share this data as outlined in our Privacy Policy.\n        </Text>\n\n        <Text style={styles.sectionTitle}>5. Payment Terms</Text>\n        <Text style={styles.paragraph}>\n          All transactions between pet owners and professionals must be processed through the platform's payment system, powered by Stripe. You agree to the following:\n        </Text>\n        <Text style={styles.listItem}>• Booking Fees: You will be charged the agreed-upon amount at the time of booking.</Text>\n        <Text style={styles.listItem}>• Cancellations and Refunds: Cancellations are subject to our cancellation policy, which may result in partial or no refunds.</Text>\n        <Text style={styles.listItem}>• Payouts to Professionals: Professionals must provide accurate payment information and comply with local tax regulations.</Text>\n\n        <Text style={styles.sectionTitle}>6. Liability and Disclaimer of Warranties</Text>\n        <Text style={styles.paragraph}>\n          You acknowledge that {appName} does not guarantee the quality or safety of services provided by professionals. Our platform only facilitates connections between users.\n        </Text>\n        <Text style={styles.listItem}>• We are not liable for any injury, damage, or loss caused during the provision of pet care services.</Text>\n        <Text style={styles.listItem}>• The Service is provided \"as is\" and \"as available\" without warranties of any kind, express or implied.</Text>\n\n        <Text style={styles.sectionTitle}>7. Dispute Resolution Between Users</Text>\n        <Text style={styles.paragraph}>\n          Disputes between users (e.g., pet owners and professionals) must first be addressed directly between the parties. If no resolution is reached, {appName} may mediate but is not responsible for the outcome.\n        </Text>\n\n        <Text style={styles.sectionTitle}>8. Limitation of Liability</Text>\n        <Text style={styles.paragraph}>In no event shall {appName}, its affiliates, officers, employees, or partners be liable for:</Text>\n        <Text style={styles.listItem}>• Indirect, incidental, or consequential damages arising from the use of the Service.</Text>\n        <Text style={styles.listItem}>• Any claims exceeding the amount you paid through the Service within the last six months.</Text>\n\n        <Text style={styles.sectionTitle}>9. Termination and Suspension</Text>\n        <Text style={styles.paragraph}>We reserve the right to suspend or terminate access to the Service at any time without notice if:</Text>\n        <Text style={styles.listItem}>• You breach these Terms.</Text>\n        <Text style={styles.listItem}>• Your actions jeopardize the safety or security of the platform or other users.</Text>\n\n        <Text style={styles.sectionTitle}>10. Modifications to the Service and Terms</Text>\n        <Text style={styles.paragraph}>\n          We may modify these Terms or the Service at any time. Significant changes will be communicated via email or in-app notifications. Continued use of the Service after changes constitutes acceptance of the revised Terms.\n        </Text>\n\n        <Text style={styles.sectionTitle}>11. Intellectual Property Rights</Text>\n        <Text style={styles.paragraph}>\n          All content, trademarks, and logos on the platform are owned by or licensed to {appName}. You may not copy, modify, or distribute content without express permission.\n        </Text>\n\n        <Text style={styles.sectionTitle}>12. Governing Law and Dispute Resolution</Text>\n        <Text style={styles.paragraph}>\n          These Terms are governed by the laws of El Paso County, Colorado, without regard to conflict of law principles.\n        </Text>\n        <Text style={styles.listItem}>• Arbitration Clause: All disputes arising under these Terms shall be resolved through binding arbitration in Colorado Springs, Colorado.</Text>\n        <Text style={styles.listItem}>• Class Action Waiver: You agree to waive your right to participate in class action lawsuits.</Text>\n\n        <Text style={styles.sectionTitle}>13. Indemnification</Text>\n        <Text style={styles.paragraph}>\n          You agree to indemnify and hold harmless {appName}, its affiliates, officers, and employees from any claims, damages, or liabilities arising from your use of the Service or breach of these Terms.\n        </Text>\n\n        <Text style={styles.sectionTitle}>14. Third-Party Links and Services</Text>\n        <Text style={styles.paragraph}>\n          The platform may contain links to third-party websites or services. {appName} is not responsible for the content or actions of those third parties.\n        </Text>\n\n        <Text style={styles.sectionTitle}>15. Contact Us</Text>\n        <Text style={styles.paragraph}>\n          If you have questions about these Terms, please contact us:\n        </Text>\n        <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n        <Text style={styles.listItem}>Phone: 7195106341</Text>\n\n        <Text style={styles.sectionTitle}>Acknowledgment of Agreement</Text>\n        <Text style={styles.paragraph}>\n          By accessing or using {appName}, you acknowledge that you have read, understood, and agreed to these Terms of Service.\n        </Text>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n  },\n  contentContainer: {\n    paddingBottom: 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n  testSection: {\n    marginBottom: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    padding: 10,\n    borderRadius: 4,\n  },\n});\n\nexport default TermsOfService;\n","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst HelpFAQ = () => {\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Help / FAQ</Text>\n      <Text>Frequently asked questions and help topics go here...</Text>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default HelpFAQ;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\n\nconst ContactUs = () => {\n  const navigation = useNavigation();\n  const { screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const handleSubmit = async () => {\n    if (!name || !email || !message) {\n      setSuccessMessage('Please fill in all fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSuccessMessage('');\n    \n    // Use backend API in production mode\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/contact/`, {\n        name,\n        email,\n        message\n      });\n\n      if (response.status === 200) {\n        setSuccessMessage('Your message has been sent successfully!');\n        setName('');\n        setEmail('');\n        setMessage('');\n      } else {\n        throw new Error('Failed to send message');\n      }\n    } catch (error) {\n      setSuccessMessage(error.response?.data?.error || 'Failed to send message. Please try again later.');\n      console.error(error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Show success message from either Formspree or backend\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader title=\"Contact Us\" onBackPress={() => navigation.navigate('More')} />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView \n      fullWidthHeader={true}\n      contentWidth={maxContentWidth}\n    >\n      <BackHeader \n        title=\"Contact Us\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={styles.container}>\n        <View style={[styles.contentWrapper, { width: contentWidth }]}>\n          <Text style={styles.title}>Contact Us</Text>\n          <Text style={styles.subtitle}>Get in touch with our support team</Text>\n          \n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Name\"\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Email\"\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            style={[styles.input, styles.messageInput]}\n            placeholder=\"Your Message\"\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          {successMessage ? (\n            <Text style={styles.successMessage}>\n              {successMessage}\n            </Text>\n          ) : null}\n          \n          <TouchableOpacity \n            style={[styles.button, isSubmitting && styles.disabledButton]} \n            onPress={handleSubmit}\n            disabled={isSubmitting || (state.submitting)}\n          >\n            <Text style={styles.buttonText}>\n              {isSubmitting || (state.submitting) ? 'Sending...' : 'Send Message'}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 120,\n    textAlignVertical: 'top',\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 10,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  successMessage: {\n    color: theme.colors.success,\n    textAlign: 'center',\n    marginBottom: 10,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n    width: '100%',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n});\n\nexport default ContactUs;\n","import React, { useState, useRef, useEffect, forwardRef, memo } from 'react';\nimport { View, TextInput, StyleSheet, Platform } from 'react-native';\nimport { IconButton, useTheme } from 'react-native-paper';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nconst SearchBar = forwardRef(({ placeholder, onChangeText, initialValue = '', style }, ref) => {\n  const { colors } = useTheme();\n  const [value, setValue] = useState(initialValue);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (initialValue !== value) {\n      setValue(initialValue);\n    }\n  }, [initialValue]);\n\n  const handleChangeText = (text) => {\n    if (text !== value) {\n      setValue(text);\n      onChangeText(text);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style, { backgroundColor: colors.surface }]}>\n      <IconButton\n        icon={() => <MaterialIcons name=\"search\" size={24} color={colors.primary} />}\n        onPress={() => inputRef.current?.focus()}\n      />\n      <TextInput\n        ref={inputRef}\n        style={[styles.input, { color: colors.text }]}\n        placeholder={placeholder}\n        placeholderTextColor={colors.placeholder}\n        value={value}\n        onChangeText={handleChangeText}\n        autoFocus={true}\n        keyboardType=\"default\"\n        returnKeyType=\"search\"\n        blurOnSubmit={false}\n      />\n    </View>\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 25, // Make it circular\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    paddingVertical: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default memo(SearchBar);\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { View, StyleSheet, FlatList, TouchableOpacity, Platform, SafeAreaView, StatusBar, TouchableWithoutFeedback } from 'react-native';\nimport { Chip, Card, Title, Paragraph, Button, Portal, Modal, useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport SearchBar from '../components/SearchBar';\nimport { mockClients } from '../data/mockData';\n\nconst Clients = ({ navigation }) => {\n  const { colors } = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilters, setSelectedFilters] = useState([]);\n  const [tempFilters, setTempFilters] = useState([]);\n  const [isFilterModalVisible, setIsFilterModalVisible] = useState(false);\n  const [clients, setClients] = useState([]);\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      setClients(mockClients);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const filters = [\n    { label: 'Dog Sitting', value: 'Dog' },\n    { label: 'Cat Sitting', value: 'Cat' },\n    { label: 'Exotic Sitting', value: 'Exotic' },\n    { label: 'Last Week', value: 'week' },\n    { label: 'Last Month', value: 'month' },\n    { label: 'Last Year', value: 'year' },\n  ];\n\n  const toggleFilter = useCallback((filter) => {\n    setTempFilters(prevFilters =>\n      prevFilters.includes(filter)\n        ? prevFilters.filter(f => f !== filter)\n        : [...prevFilters, filter]\n    );\n  }, []);\n\n  const applyFilters = useCallback(() => {\n    setSelectedFilters(tempFilters);\n    setIsFilterModalVisible(false);\n  }, [tempFilters]);\n\n  const filteredClients = useMemo(() => {\n    return clients.filter(client => {\n      const matchesSearch = client.name.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesFilters = selectedFilters.length === 0 || selectedFilters.every(filter => {\n        if (['Dog', 'Cat', 'Exotic'].includes(filter)) {\n          return client.pet_types.includes(filter);\n        }\n        const lastBookingDate = new Date(client.last_booking);\n        const currentDate = new Date();\n        switch (filter) {\n          case 'week':\n            const weekAgo = new Date();\n            weekAgo.setDate(currentDate.getDate() - 7);\n            return lastBookingDate >= weekAgo;\n          case 'month':\n            const monthAgo = new Date();\n            monthAgo.setMonth(currentDate.getMonth() - 1);\n            return lastBookingDate >= monthAgo;\n          case 'year':\n            const yearAgo = new Date();\n            yearAgo.setFullYear(currentDate.getFullYear() - 1);\n            return lastBookingDate >= yearAgo;\n          default:\n            return true;\n        }\n      });\n      return matchesSearch && matchesFilters;\n    });\n  }, [clients, searchQuery, selectedFilters]);\n\n  const renderClient = useCallback(({ item }) => (\n    <TouchableOpacity onPress={() => navigation.navigate('ClientHistory', { clientId: item.id })}>\n      <Card style={styles.clientCard}>\n        <Card.Content>\n          <Title>{item.name}</Title>\n          <Paragraph>Last booking: {item.last_booking}</Paragraph>\n          <View style={styles.petTypes}>\n            {item.pet_types.map(pet => (\n              <Chip key={pet} style={styles.petChip}>{pet}</Chip>\n            ))}\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  ), [navigation]);\n\n  const handleSearchChange = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n\n  return Platform.OS === 'web' ? (\n    <View style={styles.container}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </View>\n  ) : (\n    <SafeAreaView style={[styles.container, styles.androidSafeArea]}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidSafeArea: {\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  searchAndFilterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    margin: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  searchBar: {\n    flex: 1,\n    marginRight: 8,\n    marginLeft: Platform.OS === 'web' ? 0 : 8,\n  },\n  filterButton: {\n    minWidth: 80,\n    marginRight: Platform.OS === 'web' ? 0 : 8,\n  },\n  clientList: {\n    padding: 16,\n  },\n  clientCard: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  petTypes: {\n    flexDirection: 'row',\n    marginTop: 8,\n  },\n  petChip: {\n    marginRight: 8,\n  },\n  noClientsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 5,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '90%',\n  },\n  modalTitle: {\n    marginBottom: 10,\n  },\n  filtersContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 20,\n  },\n  filterChip: {\n    margin: 4,\n  },\n  applyButton: {\n    marginTop: 10,\n  },\n  closeButton: {\n    marginTop: 10,\n    alignSelf: 'flex-end',\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    zIndex: 1,\n  },\n});\n\nexport default Clients;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Modal,\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Switch,\n} from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport DatePicker from './DatePicker';\nimport { theme } from '../styles/theme';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nexport const CostCalculationModal = ({\n  visible,\n  onClose,\n  serviceName,\n  additionalRates = [],\n  professionalName = \"Professional\",\n  onContactPress,\n}) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [additionalAnimals, setAdditionalAnimals] = useState(0);\n  const [isHolidayRate, setIsHolidayRate] = useState(false);\n  const [selectedRates, setSelectedRates] = useState({});\n  const [totalCost, setTotalCost] = useState(0);\n  const [platformFees, setPlatformFees] = useState(0);\n\n  const BASE_RATE = 20;\n  const ADDITIONAL_ANIMAL_RATE = 10;\n  const HOLIDAY_RATE = 40;\n  const PLATFORM_FEE_PERCENTAGE = 0.10;\n\n  const calculateTotalCost = () => {\n    // Start with either holiday rate or base rate\n    let subtotal = isHolidayRate ? HOLIDAY_RATE : BASE_RATE;\n    \n    // Add additional animal costs\n    subtotal += additionalAnimals * ADDITIONAL_ANIMAL_RATE;\n    \n    // Add any selected additional rates\n    Object.entries(selectedRates).forEach(([_, rate]) => {\n      if (rate.selected) {\n        subtotal += rate.amount;\n      }\n    });\n\n    setTotalCost(subtotal);\n    setPlatformFees(subtotal * PLATFORM_FEE_PERCENTAGE);\n  };\n\n  useEffect(() => {\n    // Initialize selectedRates object\n    const ratesObj = {};\n    additionalRates.forEach(rate => {\n      ratesObj[rate.title] = { ...rate, selected: false };\n    });\n    setSelectedRates(ratesObj);\n  }, [additionalRates]);\n\n  useEffect(() => {\n    calculateTotalCost();\n  }, [additionalAnimals, isHolidayRate, selectedRates]);\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <TouchableOpacity \n            style={styles.closeIcon} \n            onPress={onClose}\n          >\n            <MaterialIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n\n          <Text style={styles.modalTitle}>{serviceName}</Text>\n          \n          <ScrollView \n            style={styles.scrollContent} \n            showsVerticalScrollIndicator={true}\n            persistentScrollbar={true}\n          >\n            {/* Date Selection\n            <View style={styles.dateSection}>\n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>Start Date:</Text>\n                <DatePicker\n                  value={startDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setStartDate(date);\n                  }}\n                />\n              </View>\n              \n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>End Date:</Text>\n                <DatePicker\n                  value={endDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setEndDate(date);\n                  }}\n                />\n              </View>\n            </View> */}\n\n            {/* Base Rate */}\n            <View style={styles.rateItem}>\n              <Text>Base Rate</Text>\n              <Text>${BASE_RATE}</Text>\n            </View>\n\n            {/* Additional Animals */}\n            <View style={styles.rateItem}>\n              <Text>Additional Animals (${ADDITIONAL_ANIMAL_RATE} each)</Text>\n              <View style={styles.counterContainer}>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(Math.max(0, additionalAnimals - 1))}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"remove\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <Text style={styles.counterText}>{additionalAnimals}</Text>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(additionalAnimals + 1)}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"add\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n\n            {/* Holiday Rate */}\n            <View style={styles.rateItem}>\n              <Text>Holiday Rate (${HOLIDAY_RATE})</Text>\n              <Switch\n                value={isHolidayRate}\n                onValueChange={setIsHolidayRate}\n                trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n              />\n            </View>\n\n            {/* Additional Rates */}\n            {Object.entries(selectedRates).map(([title, rate]) => (\n              <View key={title} style={styles.rateItem}>\n                <Text>{title} (${rate.amount})</Text>\n                <Switch\n                  value={rate.selected}\n                  onValueChange={(value) => {\n                    setSelectedRates({\n                      ...selectedRates,\n                      [title]: { ...rate, selected: value },\n                    });\n                  }}\n                  trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n                />\n              </View>\n            ))}\n\n            {/* Total and Fees */}\n            <View style={styles.totalSection}>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Subtotal:</Text>\n                <Text style={styles.totalAmount}>${totalCost}</Text>\n              </View>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Service Fees (10%):</Text>\n                <Text style={styles.totalAmount}>${platformFees.toFixed(2)}</Text>\n              </View>\n              <View style={[styles.totalItem, styles.finalTotal]}>\n                <Text style={[styles.totalLabel, styles.finalTotalText]}>Total Cost:</Text>\n                <Text style={[styles.totalAmount, styles.finalTotalText]}>${(totalCost + platformFees).toFixed(2)}</Text>\n              </View>\n            </View>\n          </ScrollView>\n\n          <TouchableOpacity \n            style={styles.contactButton} \n            onPress={onContactPress}\n          >\n            <Text style={styles.contactButtonText}>Contact {professionalName}</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 20,\n    paddingRight: 15,\n    width: '90%',\n    maxHeight: '43%',\n    maxWidth: 400,\n  },\n  scrollContent: {\n    flexGrow: 0,\n    marginBottom: 10,\n    paddingRight: 12,\n    marginRight: -7,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center',\n    marginTop: 5,\n    paddingHorizontal: 30,\n  },\n  dateSection: {\n    marginBottom: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  dateColumn: {\n    flex: 1,\n  },\n  dateLabel: {\n    marginBottom: 8,\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.text,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  counterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  counterButton: {\n    padding: 5,\n  },\n  counterText: {\n    marginHorizontal: 10,\n    fontSize: theme.fontSizes.medium,\n  },\n  totalSection: {\n    marginTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 15,\n  },\n  totalItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  finalTotal: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 10,\n    marginTop: 5,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  finalTotalText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  closeButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  closeButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  closeIcon: {\n    position: 'absolute',\n    right: 15,\n    top: 15,\n    zIndex: 1,\n    padding: 5,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  contactButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { CostCalculationModal } from './CostCalculationModal';\nimport { mockConversations, mockMessages, createNewConversation } from '../data/mockData';\n\nexport const ServiceCard = ({ \n  service, \n  onHeartPress, \n  isFavorite, \n  professionalName,\n  professionalId,\n  navigation\n}) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalId\n    );\n\n    if (existingConversation) {\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    } else {\n      // Create new conversation using the helper function\n      const newConversation = createNewConversation(\n        professionalId,\n        professionalName,\n        'current_user_id', // Replace with actual current user ID\n        'Me' // Current user name\n      );\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Navigate directly to MessageHistory\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    }\n    setIsModalVisible(false);\n  };\n\n  return (\n    <View style={styles.serviceCard}>\n      {/* <TouchableOpacity \n        style={styles.heartButton}\n        onPress={() => onHeartPress(service.id)}\n      >\n        <MaterialIcons \n          name={isFavorite ? \"favorite\" : \"favorite-border\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity> */}\n      \n      <View style={styles.contentContainer}>\n        <MaterialCommunityIcons name={service.icon} size={30} color={theme.colors.primary} />\n        <Text numberOfLines={2} style={styles.serviceName}>{service.name}</Text>\n        <Text style={styles.startingPrice}>Starting at ${service.startingPrice}</Text>\n        <View style={styles.animalTypeContainer}>\n          {service.animalTypes.map((type, index) => (\n            <Text key={index} style={styles.animalType}>{type}</Text>\n          ))}\n        </View>\n      </View>\n\n      <TouchableOpacity \n        style={styles.calculateButton}\n        onPress={() => setIsModalVisible(true)}\n      >\n        <Text style={styles.calculateButtonText}>Calculate Cost</Text>\n      </TouchableOpacity>\n\n      <CostCalculationModal\n        visible={isModalVisible}\n        onClose={() => setIsModalVisible(false)}\n        serviceName={service.name}\n        additionalRates={service.additionalRates || []}\n        professionalName={professionalName}\n        professionalId={professionalId}\n        onContactPress={handleContactPress}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 12,\n    marginRight: 12,\n    width: 280,\n    height: 220,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    position: 'relative',\n    justifyContent: 'space-between',\n  },\n  heartButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    zIndex: 1,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: '600',\n    marginTop: 8,\n    marginBottom: 6,\n    fontFamily: theme.fonts.header.fontFamily,\n    flexShrink: 1,\n  },\n  startingPrice: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.secondary,\n    marginBottom: 6,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  animalTypeContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 4,\n    marginBottom: 8,\n  },\n  animalType: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.secondary,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calculateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 'auto',\n  },\n  calculateButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n});\n\nexport default ServiceCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, Modal } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { Calendar } from 'react-native-calendars';\nimport { mockPets } from '../data/mockData';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport ServiceCard from '../components/ServiceCard';\nimport { mockServicesForCards } from '../data/mockData';\nimport { mockConversations, mockMessages } from '../data/mockData';\n// Conditionally import WebMap component\nconst WebMap = Platform.OS === 'web' ? require('react-leaflet').MapContainer : null;\n\n// Mock API function to fetch profile data\nconst fetchProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        // profilePhoto: 'https://example.com/profile-photo.jpg',\n        bio: \"Hi! I'm an experienced pet professional who loves all animals. I have 5 years of experience caring for dogs, cats, and exotic pets.\",\n        petPhotos: [\n          // 'https://example.com/pet-photo-1.jpg',\n          // 'https://example.com/pet-photo-2.jpg',\n        ],\n        services: ['Dog Boarding', 'Dog Walking', 'Drop-In Visits', 'House Sitting'],\n        rates: {\n          boarding: '35',\n          daycare: '25',\n          houseSitting: '40',\n          dropInVisits: '20',\n          dogWalking: '15'\n        },\n        name: 'John Doe',\n        location: 'New York, NY'\n      });\n    }, 1000);\n  });\n};\n\nconst mockReviews = [\n  {\n    id: 1,\n    name: 'Noah M.',\n    service: 'Fish Tank Cleaning',\n    date: 'Dec 02, 2024',\n    rating: 5,\n    text: 'Dina was fantastic with our dog! Sent lots of photos and clearly made sure she was comfortable. Will definitely use again!',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 2,\n    name: 'Kaily J.',\n    service: 'Ferrier',\n    date: 'Nov 26, 2024',\n    rating: 4,\n    text: 'Dina always takes such good care of Elijah. He was having tummy problems today and she kept me updated all day on how he was doing.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 3,\n    name: 'Nadia U.',\n    service: 'Reptile Boarding & Habitat Maintenance',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'She took such great care of our puppy! Sent pictures and videos the whole time, her backyard was super nice and clean ❤️ my puppy was definitely in great hands! Bonus her dogs were so sweet with our puppy.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 4,\n    name: 'Vanessa G.',\n    service: 'Bird Feeding',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'Dina was great! She communicated through the whole stay and sent plenty of videos and photos. 10/10',\n    photo: 'https://via.placeholder.com/50'\n  }\n];\n\nconst useResponsiveLayout = () => {\n  const { width } = useWindowDimensions();\n  const [isWideScreen, setIsWideScreen] = useState(true);\n\n  useEffect(() => {\n    setIsWideScreen(Platform.OS === 'web' && width >= 900);\n  }, [width]);\n\n  return isWideScreen;\n};\n\n// Move this outside the component\nif (Platform.OS === 'web') {\n  const style = document.createElement('style');\n  style.textContent = `\n    .services-scroll::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    .services-scroll::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar:horizontal {\n      height: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid white;\n      background-color: rgba(0, 0, 0, .5);\n    }\n  `;\n  document.head.appendChild(style);\n}\n\nconst ProfessionalProfile = ({ route, navigation }) => {\n  const { width: windowWidth } = useWindowDimensions();\n  const [professionalData, setProfessionalData] = useState(null);\n  const [canGoBack, setCanGoBack] = useState(false);\n  const [bioModalVisible, setBioModalVisible] = useState(false);\n  const [reviewsModalVisible, setReviewsModalVisible] = useState(false);\n  const [specialistModalVisible, setSpecialistModalVisible] = useState(false);\n  const [favoriteServices, setFavoriteServices] = useState([]);\n  const [servicesModalVisible, setServicesModalVisible] = useState(false);\n  const isWideScreen = useResponsiveLayout();\n  const dynamicStyles = {\n    profileSection: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      display: windowWidth >= 600 ? 'flex' : 'block',\n    },\n    profileSectionMobile: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      maxWidth: 500,\n      alignSelf: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    servicesBox: {\n      backgroundColor: theme.colors.surface,\n      padding: 24,\n      paddingTop: 0,\n      borderRadius: 12,\n      marginTop: 24,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 4,\n      elevation: 3,\n      width: '100%',\n      maxWidth: Platform.OS === 'web' ? 600 : undefined,\n      alignSelf: 'center',\n    },\n  };\n\n  useEffect(() => {\n    // Check if we can go back and if SearchProfessionalsListing exists in history\n    const state = navigation.getState();\n    const hasHistory = state.routes.some(route => route.name === 'SearchProfessionalsListing');\n    setCanGoBack(navigation.canGoBack() && hasHistory);\n  }, [navigation]);\n\n  const handleBack = () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.removeItem('currentProfessional');\n      // Always use navigate to ensure consistent behavior\n      navigation.navigate('SearchProfessionalsListing');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  // Handle browser back button\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handlePopState = () => {\n        handleBack();\n      };\n\n      window.addEventListener('popstate', handlePopState);\n      return () => window.removeEventListener('popstate', handlePopState);\n    }\n  }, []);\n\n  useEffect(() => {\n    const loadProfessionalData = async () => {\n      if (route?.params?.professional) {\n        setProfessionalData(route.params.professional);\n      } else if (Platform.OS === 'web') {\n        // Try to get professional data from sessionStorage on web reload\n        const storedProfessional = sessionStorage.getItem('currentProfessional');\n        if (storedProfessional) {\n          setProfessionalData(JSON.parse(storedProfessional));\n        } else {\n          // If no data, redirect back to search\n          navigation.replace('SearchProfessionalsListing');\n        }\n      }\n    };\n\n    loadProfessionalData();\n  }, [route?.params?.professional]);\n\n  // Store professional data in AsyncStorage for mobile\n  useEffect(() => {\n    if (Platform.OS !== 'web' && professionalData) {\n      AsyncStorage.setItem('currentProfessional', JSON.stringify(professionalData));\n    }\n  }, [professionalData]);\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return Math.min(1000, windowWidth - 32); // 32px for padding\n    }\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const toggleFavorite = (serviceId) => {\n    setFavoriteServices(prev => \n      prev.includes(serviceId) \n        ? prev.filter(id => id !== serviceId)\n        : [...prev, serviceId]\n    );\n  };\n\n  const renderServices = () => (\n    <View style={styles.servicesSection}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>Services</Text>\n        <TouchableOpacity \n          style={styles.seeAllButton}\n          onPress={() => setServicesModalVisible(true)}\n        >\n          <Text style={styles.seeAllButtonText}>See All</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.servicesWrapper}>\n        <ScrollView \n          horizontal\n          showsHorizontalScrollIndicator={true}\n          style={[\n            styles.servicesScroll,\n            Platform.OS === 'web' && { \n              className: 'services-scroll',\n              overflowX: 'scroll'\n            }\n          ]}\n          contentContainerStyle={styles.servicesScrollContent}\n          persistentScrollbar={true}\n        >\n          {mockServicesForCards.slice(0, 5).map(service => (\n            <ServiceCard \n              key={service.id}\n              service={service}\n              onHeartPress={toggleFavorite}\n              isFavorite={favoriteServices.includes(service.id)}\n              professionalName={professionalData.name}\n              professionalId={professionalData.id}\n              navigation={navigation}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    </View>\n  );\n\n  if (!professionalData) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Professional Profile\" \n          onBackPress={handleBack}\n        />\n        <View style={styles.centered}>\n          <Text>Loading...</Text>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  const renderProfilePhoto = () => {\n    if (professionalData.profilePicture) {\n      return <Image source={{ uri: professionalData.profilePicture }} style={styles.profilePhoto} />;\n    }\n    return (\n      <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n        <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n      </View>\n    );\n  };\n\n  const renderSpecialistExperience = () => (\n    <View style={styles.specialistSection}>\n      <Text style={styles.sectionTitle}>Specialist Experience</Text>\n      <TruncatedText text={professionalData?.bio || ''} />\n    </View>\n  );\n\n  const renderRatingStars = () => (\n    <View style={styles.ratingContainer}>\n      <MaterialCommunityIcons name=\"star\" size={24} color={theme.colors.primary} />\n      <Text style={styles.rating}>{professionalData.reviews}</Text>\n      <Text style={[styles.reviewCount, { marginLeft: 12 }]}>({professionalData.reviewCount || 50} reviews)</Text>\n    </View>\n  );\n\n  // Add new component for truncated text with Read More\n  const TruncatedText = ({ text, maxLines = 3 }) => (\n    <View>\n      <Text \n        numberOfLines={maxLines} \n        style={styles.specialistText}\n      >\n        {text}\n      </Text>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setSpecialistModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderMap = () => {\n    if (Platform.OS === 'web' && WebMap) {\n      const { MapContainer, TileLayer, Marker } = require('react-leaflet');\n      return (\n        <View style={styles.mapContainer}>\n          <MapContainer\n            center={[38.8339, -104.8214]} // Default coordinates\n            zoom={13}\n            style={{ height: 400, width: '100%' }}\n          >\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            <Marker position={[38.8339, -104.8214]} />\n          </MapContainer>\n        </View>\n      );\n    }\n    // For mobile, return null or a placeholder\n    return null;\n  };\n\n  const renderPets = () => {\n    if (!mockPets || mockPets.length === 0) return null;\n    \n    return (\n      <View style={styles.petsSection}>\n        <Text style={styles.sectionTitle}>Pets</Text>\n        {mockPets.map((pet, index) => (\n          <View key={pet.id} style={styles.petItem}>\n            <View style={styles.petPhoto}>\n              <MaterialCommunityIcons \n                name={pet.animal_type.toLowerCase() === 'dog' ? 'dog' : \n                      pet.animal_type.toLowerCase() === 'cat' ? 'cat' : 'snake'} \n                size={30} \n                color={theme.colors.primary} \n              />\n            </View>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petBreed}>{pet.breed}</Text>\n              <Text style={styles.petDetails}>\n                {`${pet.weight} lbs, ${pet.age.years} years${pet.age.months ? ` ${pet.age.months} months` : ''}`}\n              </Text>\n            </View>\n          </View>\n        ))}\n      </View>\n    );\n  };\n\n  const styles2 = StyleSheet.create({\n    modalContent: {\n      backgroundColor: theme.colors.background,\n      padding: 24,\n      borderRadius: 12,\n      width: Platform.OS === 'web' ? \n        (windowWidth <= 650 ? '90%' : '60%') : \n        '90%',\n      maxWidth: 800,\n      maxHeight: '90%',\n    },\n  });\n\n  // Create services array from professionalData\n  const services = [\n    { name: 'Boarding', price: \"25\" },\n    { name: 'Doggy Day Care', price: \"30\" },\n    { name: 'House Sitting', price: \"40\" },\n    { name: 'Drop-In Visits', price: \"35\" },\n    { name: 'Dog Walking', price: \"45\" }\n  ];\n\n  const HomeFeature = ({ text }) => (\n    <View style={styles.featureBubble}>\n      <Text style={styles.featureText}>{text}</Text>\n    </View>\n  );\n\n  const renderReviews = () => (\n    <View style={styles.reviewsSection}>\n      <Text style={styles.sectionTitle}>Reviews</Text>\n      <View style={styles.reviewsGrid}>\n        {mockReviews.slice(0, 4).map(renderReview)}\n      </View>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setReviewsModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more reviews</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderReview = (review) => (\n    <View key={review.id} style={styles.reviewItem}>\n      <View style={styles.reviewHeader}>\n        <Image source={{ uri: review.photo }} style={styles.reviewerPhoto} />\n        <View style={styles.reviewerInfo}>\n          <Text style={styles.reviewerName}>{review.name}</Text>\n          <View style={styles.reviewMeta}>\n            <View style={styles.starContainer}>\n              {[...Array(5)].map((_, index) => (\n                <MaterialCommunityIcons\n                  key={index}\n                  name={index < review.rating ? \"star\" : \"star-outline\"}\n                  size={16}\n                  color={theme.colors.primary}\n                />\n              ))}\n            </View>\n            <View style={styles.serviceInfo}>\n              <MaterialCommunityIcons name=\"home\" size={16} color={theme.colors.secondary} />\n              <Text style={styles.serviceText}>{review.service} • {review.date}</Text>\n            </View>\n          </View>\n        </View>\n      </View>\n      <Text style={styles.reviewText}>{review.text}</Text>\n    </View>\n  );\n\n  const renderHomeSection = () => (\n    <View style={styles.homeSection}>\n      <Text style={styles.sectionTitle}>Home</Text>\n      <View style={styles.homeFeaturesGrid}>\n        <HomeFeature text=\"No children present\" />\n        <HomeFeature text=\"Has security system\" />\n        <HomeFeature text=\"Non-smoking household\" />\n        <HomeFeature text=\"Has 2 dogs\" />\n        <HomeFeature text=\"Dogs allowed on bed\" />\n        <HomeFeature text=\"Dogs allowed on furniture\" />\n        <HomeFeature text=\"Potty breaks every 0-2 hours\" />\n      </View>\n    </View>\n\n  );\n\n  const renderAboutSection = () => (\n    <View style={styles.aboutSection}>\n      <Text style={styles.sectionTitle}>About {professionalData.name}</Text>\n      <View style={styles.aboutSubsections}>\n        <View style={styles.communicationSection}>\n          <Text style={styles.subsectionTitle}>Communication</Text>\n          <Text>22 repeat pet parents</Text>\n          <Text>100% response rate</Text>\n          <Text>Usually responds in a few minutes</Text>\n          <Text>90% bookings with photo updates</Text>\n        </View>\n        <View style={styles.skillsSection}>\n          <Text style={styles.subsectionTitle}>Skills</Text>\n          <Text>3 years of experience</Text>\n        </View>\n      </View> \n    </View>\n  );\n\n  const renderAvailability = () => (\n    <View style={dynamicStyles.servicesBox}>\n      <View style={styles.calendarSection}>\n        <Text style={[styles.sectionTitle, { marginBottom: 0 }]}>Availability</Text>\n        <Calendar\n          style={styles.calendar}\n          theme={{\n            calendarBackground: theme.colors.surface,\n            selectedDayBackgroundColor: theme.colors.primary,\n            selectedDayTextColor: '#ffffff',\n            todayTextColor: theme.colors.primary,\n          }}\n        />\n      </View>\n    </View>\n  );\n\n  const renderGallery = () => {\n    return (\n      <View style={styles.gallerySection}>\n        <Text style={styles.sectionTitle}>53 Photos</Text>\n        <View style={styles.photoGrid}>\n          {[1, 2, 3, 4].map((_, index) => (\n            <Image \n              key={index}\n              source={{ uri: 'https://via.placeholder.com/150' }}\n              style={styles.galleryPhoto}\n                      />\n          ))}\n        </View>\n      </View>\n    );\n  };\n\n  const additionalStyles = StyleSheet.create({\n    servicesSection: {\n      marginBottom: 24,\n    },\n    sectionHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 16,\n    },\n    seeAllButton: {\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 8,\n      alignSelf: 'flex-start',\n      minWidth: 'auto',\n      width: 'auto',\n    },\n    seeAllButtonText: {\n      color: theme.colors.primary,\n      fontSize: 16,\n      fontWeight: '600',\n      textAlign: 'center',\n    },\n    servicesScroll: {\n      marginHorizontal: -24, // To counteract parent padding\n      paddingHorizontal: 24,\n    },\n    modalServicesGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: 16,\n      justifyContent: 'center',\n      padding: 16,\n    },\n  });\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalData.id\n    );\n\n    if (existingConversation) {\n      // Use replace instead of navigate to avoid navigation stack issues\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id\n      });\n    } else {\n      // Create new conversation\n      const newConversation = {\n        id: `conv_${Date.now()}`,\n        name: professionalData.name,\n        professionalId: professionalData.id,\n        lastMessage: '',\n        timestamp: new Date().toISOString(),\n        unread: false,\n        bookingStatus: null\n      };\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Use replace instead of navigate\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id\n      });\n    }\n  };\n\n  // Add this new function to render profile section based on screen size\n  const renderProfileSection = () => {\n    if (windowWidth >= 600) {\n      // Web version - original layout\n      return (\n        <View style={[styles.leftColumn, !isWideScreen && styles.leftColumnMobile]}>\n          <View style={[styles.profileSection, !isWideScreen && styles.profileSectionMobile]}>\n            {renderProfilePhoto()}\n            <Text style={styles.name}>{professionalData.name}</Text>\n            <Text style={styles.location}>{professionalData.location}</Text>\n            {renderRatingStars()}\n            <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n              <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n            </TouchableOpacity>\n          </View>\n          {isWideScreen && renderAvailability()}\n          {isWideScreen && renderMap()}\n          {isWideScreen && mockPets && mockPets.length > 0 && renderPets()}\n        </View>\n      );\n    } else {\n      // Mobile version - fixed layout\n      return (\n        <View style={[dynamicStyles.profileSection, dynamicStyles.profileSectionMobile]}>\n          {renderProfilePhoto()}\n          <Text style={styles.name}>{professionalData.name}</Text>\n          <Text style={styles.location}>{professionalData.location}</Text>\n          {renderRatingStars()}\n          <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n            <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth=\"1200px\">\n      <BackHeader \n        title=\"Professional Profile\" \n        onBackPress={handleBack}\n      />\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={[styles.twoColumnLayout, !isWideScreen && styles.singleColumnLayout]}>\n            {renderProfileSection()}\n            <View style={styles.rightColumn}>\n              {renderGallery()}\n              {renderServices()}\n              {!isWideScreen && renderAvailability()}\n              {renderSpecialistExperience()}\n              {renderReviews()}\n              {renderHomeSection()}\n              {!isWideScreen && renderMap()}\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n\n      {/* Bio Modal */}\n      <Modal\n        visible={bioModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setBioModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <Text style={styles.bioText}>{professionalData.bio}</Text>\n            <TouchableOpacity \n              style={styles.closeButton}\n              onPress={() => setBioModalVisible(false)}\n            >\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Reviews Modal */}\n      <Modal\n        visible={reviewsModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setReviewsModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Reviews</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setReviewsModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              {mockReviews.map((review) => (\n                <View key={review.id} style={styles.modalReviewItem}>\n                  {renderReview(review)}\n                </View>\n              ))}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Specialist Experience Modal */}\n      <Modal\n        visible={specialistModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setSpecialistModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Specialist Experience</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setSpecialistModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <Text style={styles.bioText}>{professionalData?.bio}</Text>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Services Modal */}\n      <Modal\n        visible={servicesModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setServicesModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Services</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setServicesModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <View style={styles.modalServicesGrid}>\n                {mockServicesForCards.map(service => (\n                  <ServiceCard \n                    key={service.id}\n                    service={service}\n                    onHeartPress={toggleFavorite}\n                    isFavorite={favoriteServices.includes(service.id)}\n                    professionalName={professionalData.name}\n                    professionalId={professionalData.id}\n                    navigation={navigation}\n                  />\n                ))}\n              </View>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: 'auto',\n  },\n  content: {\n    alignSelf: 'center',\n    padding: 24,\n  },\n  topSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n    marginBottom: 24,\n  },\n  gallerySection: {\n    maxHeight: 400,\n    overflow: 'hidden',\n    marginBottom: 24,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    maxHeight: 320,\n    overflow: 'auto',\n  },\n  bottomSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  servicesSection: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    backgroundColor: theme.colors.background,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  aboutSection: {\n    maxHeight: 300,\n    overflow: 'auto',\n    marginBottom: 24,\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n  },\n  profileHeader: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  profileInfo: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  hostingSection: {\n    marginTop: 24,\n  },\n  hostTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  weightRanges: {\n    gap: 8,\n  },\n  weightRange: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  galleryPhoto: {\n    width: Platform.OS === 'web' ? 100 : 50,\n    height: Platform.OS === 'web' ? 100 : 50,\n    borderRadius: 8,\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    marginBottom: 16,\n    alignSelf: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 4,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    marginBottom: 8,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  service: {\n    fontSize: 16,\n    marginBottom: 5,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  rateLabel: {\n    flex: 1,\n    fontSize: 16,\n  },\n  rateInput: {\n    flex: 1,\n    backgroundColor: theme.colors.surface,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addPhotoButton: {\n    width: 100,\n    height: 100,\n    margin: 5,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  ratingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  rating: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginLeft: 5,\n  },\n  reviewCount: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginLeft: 4,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignSelf: 'center',\n  },\n  contactButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    textAlign: 'center',\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  statItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 10,\n  },\n  statText: {\n    fontSize: 16,\n    marginLeft: 5,\n  },\n  bioText: {\n    fontSize: 18,\n    lineHeight: 28,\n    color: theme.colors.text,\n    overflow: 'hidden',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  serviceText: {\n    fontSize: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  servicePrice: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  skillsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  skillBadge: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    margin: 5,\n  },\n  skillText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  photoGallery: {\n    flexDirection: 'row',\n  },\n  calculatorText: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRatesButton: {\n    marginTop: 16,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    backgroundColor: theme.colors.surface,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  additionalRatesText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calendarSection: {\n    marginTop: 24,\n  },\n  readMoreButton: {\n    marginTop: 8,\n  },\n  readMoreText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewsSection: {\n    marginVertical: 32,\n    width: '100%',\n    backgroundColor: theme.colors.background,\n  },\n  reviewItem: {\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    maxWidth: Platform.OS === 'web' ? 600 : undefined,\n  },\n  servicesSection: {\n    backgroundColor: theme.colors.surface,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginBottom: 24,\n  },\n  mapContainer: {\n    height: 400,\n    width: '100%',\n    marginVertical: 24,\n  },\n  map: {\n    flex: 1,\n  },\n  petsSection: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  petItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    padding: 12,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  petInfo: {\n    marginLeft: 12,\n    flex: 1,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 2,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petBreed: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginBottom: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  aboutSubsections: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  communicationSection: {\n    flex: 1,\n  },\n  skillsSection: {\n    flex: 1,\n  },\n  homeDetails: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n  },\n  noReviews: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontStyle: 'italic',\n    textAlign: 'center',\n    marginTop: 16,\n  },\n  twoColumnLayout: {\n    flexDirection: 'row',\n    gap: 24,\n  },\n  singleColumnLayout: {\n    flexDirection: 'column',\n  },\n  leftColumn: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    maxWidth: Platform.OS === 'web' ? 400 : undefined,\n  },\n  rightColumn: {\n    flex: Platform.OS === 'web' ? 2 : undefined,\n  },\n  calendar: {\n    height: 300,\n    marginTop: 16,\n  },\n  serviceText: {\n    fontSize: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '100',\n  },\n  homeFeaturesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    marginTop: 16,\n  },\n  featureBubble: {\n    backgroundColor: theme.colors.surface,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  featureText: {\n    fontSize: 14,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewItem: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  reviewHeader: {\n    flexDirection: 'row',\n    marginBottom: 12,\n  },\n  reviewerPhoto: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  reviewerInfo: {\n    flex: 1,\n  },\n  reviewerName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  reviewText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalScroll: {\n    maxHeight: Platform.OS === 'web' ? '70vh' : '80%',\n  },\n  closeButton: {\n    marginTop: 16,\n    alignItems: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 8,\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalCloseIcon: {\n    padding: 8,\n  },\n  modalScrollContent: {\n    paddingBottom: 24,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: Platform.OS === 'web' ? 40 : 20,\n  },\n  reviewsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    marginTop: 16,\n  },\n  reviewItem: {\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    flex: 1,\n    minWidth: Platform.OS === 'web' ? 300 : '100%',\n    // maxWidth: Platform.OS === 'web' ? 'calc(50% - 8px)' : undefined,\n    marginBottom: 0, // Remove default margin since we're using gap\n  },\n  specialistSection: {\n    marginTop: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  specialistText: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalReviewItem: {\n    marginBottom: 16,\n    width: '100%',\n  },\n  leftColumnMobile: {\n    maxWidth: '100%',\n    alignItems: 'center',\n  },\n  seeAllButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8,\n    alignSelf: 'flex-start',\n    minWidth: 'auto',\n    width: 'auto',\n  },\n  seeAllButtonText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalServicesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    justifyContent: 'center',\n    padding: 16,\n  },\n  reviewMeta: {\n    gap: 4,\n  },\n  starContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n});\n\nexport default ProfessionalProfile;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst ContractList = () => {\n  const [contracts, setContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchContracts();\n  }, []);\n\n  const fetchContracts = async () => {\n    setLoading(true);\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setContracts(response.data);\n    } catch (error) {\n      console.error('Error fetching contracts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Contracts</Text>\n      {contracts.length === 0 ? (\n        <Text style={styles.noContractsText}>No contracts yet</Text>\n      ) : (\n        contracts.map((contract) => (\n          <View key={contract.id} style={styles.card}>\n            <Text style={styles.contractTitle}>{contract.title}</Text>\n            <Text style={styles.clientName}>Client: {contract.client_name}</Text>\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Share</Text>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Edit</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        ))\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 50,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  noContractsText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  contractTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractList;\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, Modal, Platform, StyleSheet } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst ClientPicker = ({ clients, selectedClient, onSelectClient }) => {\n  const [showClientPicker, setShowClientPicker] = useState(false);\n\n  if (Platform.OS === 'web') {\n    return (\n      <Picker\n        selectedValue={selectedClient}\n        onValueChange={(itemValue) => onSelectClient(itemValue)}\n        style={styles.picker}\n      >\n        <Picker.Item label=\"Select a client...\" value=\"\" />\n        {clients.map(client => (\n          <Picker.Item key={client.id} label={client.name} value={client.name} />\n        ))}\n      </Picker>\n    );\n  } else {\n    return (\n      <View>\n        <TouchableOpacity\n          style={styles.dropdownButton}\n          onPress={() => setShowClientPicker(true)}\n        >\n          <Text style={styles.dropdownButtonText}>\n            {selectedClient || \"Select a client...\"}\n          </Text>\n          <MaterialCommunityIcons \n            name=\"chevron-down\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Modal\n          visible={showClientPicker}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setShowClientPicker(false)}\n        >\n          <View style={styles.pickerModalContainer}>\n            <View style={styles.pickerContainer}>\n              <Picker\n                selectedValue={selectedClient}\n                onValueChange={(itemValue) => {\n                  onSelectClient(itemValue);\n                  setShowClientPicker(false);\n                }}\n                style={styles.modalPicker}\n              >\n                <Picker.Item label=\"Select a client...\" value=\"\" />\n                {clients.map(client => (\n                  <Picker.Item key={client.id} label={client.name} value={client.name} />\n                ))}\n              </Picker>\n            </View>\n            <TouchableOpacity\n              style={styles.pickerCloseButton}\n              onPress={() => setShowClientPicker(false)}\n            >\n              <Text style={styles.pickerCloseButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </Modal>\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n    width: '90%',\n  },\n  modalPicker: {\n    width: '90%',\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ClientPicker;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, TextInput, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\nimport ClientPicker from './ClientPicker'; // Import the new component\n\nconst ContractTemplate = ({ templates }) => {\n  const [isTemplateModalVisible, setTemplateModalVisible] = useState(false);\n  const [isEditModalVisible, setEditModalVisible] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [contractContent, setContractContent] = useState('');\n  const [clients, setClients] = useState([]);\n  const [selectedClient, setSelectedClient] = useState('');\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/clients/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setClients(response.data);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const handleTemplateSelect = (template) => {\n    setSelectedTemplate(template);\n    setContractContent(template.description);\n    setTemplateModalVisible(false);\n    setEditModalVisible(true);\n  };\n\n  const handleAddSignableField = () => {\n    setContractContent((prevContent) => `${prevContent}\\n[signable] ___________ [end signable]`);\n  };\n\n  const handleSubmitContract = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.post(\n        `${API_BASE_URL}/api/contracts/`,\n        {\n          template: selectedTemplate.id,\n          content: contractContent,\n          client: selectedClient,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log('Contract submitted:', response.data);\n      setEditModalVisible(false);\n    } catch (error) {\n      console.error('Error submitting contract:', error);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Create New Contract</Text>\n      <TouchableOpacity style={styles.button} onPress={() => setTemplateModalVisible(true)}>\n        <Text style={styles.buttonText}>Use Template</Text>\n      </TouchableOpacity>\n\n      {/* Template Selection Modal */}\n      <Modal\n        visible={isTemplateModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setTemplateModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Select a Template</Text>\n            <ScrollView contentContainerStyle={styles.templateGrid}>\n              {templates.length === 0 ? (\n                <Text style={styles.noTemplatesText}>No templates yet</Text>\n              ) : (\n                templates.map((template) => (\n                  <TouchableOpacity\n                    key={template.id}\n                    style={styles.templateBox}\n                    onPress={() => handleTemplateSelect(template)}\n                  >\n                    <Text style={styles.templateTitle}>{template.title}</Text>\n                  </TouchableOpacity>\n                ))\n              )}\n            </ScrollView>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setTemplateModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Edit Contract Modal */}\n      <Modal\n        visible={isEditModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setEditModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Edit Contract</Text>\n            <View style={styles.clientPickerContainer}>\n              <Text style={styles.sectionTitle}>Select a Client</Text>\n              <ClientPicker\n                clients={clients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n            </View>\n            <TextInput\n              style={styles.textArea}\n              placeholder=\"Contract Content\"\n              value={contractContent}\n              onChangeText={setContractContent}\n              multiline\n            />\n            <TouchableOpacity style={styles.button} onPress={handleAddSignableField}>\n              <Text style={styles.buttonText}>Add Signable Field</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button} onPress={handleSubmitContract}>\n              <Text style={styles.buttonText}>Submit Contract</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setEditModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  noTemplatesText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  textArea: {\n    width: '100%',\n    height: 100,\n    padding: 10,\n    borderColor: theme.colors.primary,\n    borderWidth: 1,\n    borderRadius: 5,\n    marginBottom: 10,\n    textAlignVertical: 'top',\n  },\n  clientPickerContainer: {\n    width: '100%', // Ensure the client picker container takes full width\n    marginBottom: 10,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractTemplate;\n","import React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ChronicleSummary = ({ chronicles }) => {\n  if (!chronicles || chronicles.length === 0) {\n    return (\n      <View style={styles.emptyContainer}>\n        <Text style={styles.emptyText}>No chronicles yet</Text>\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Chronicles</Text>\n      {chronicles.map((chronicle) => (\n        <View key={chronicle.id} style={styles.card}>\n          <Text style={styles.chronicleTitle}>{chronicle.title}</Text>\n          <Text style={styles.clientName}>Client: {chronicle.client}</Text>\n          <Text style={styles.petName}>Pet: {chronicle.pets.join(', ')}</Text>\n          <Text style={styles.summary}>{chronicle.summary}</Text>\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Edit</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Send to Client</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      ))}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    marginTop: 16,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  chronicleTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  petName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 2,\n  },\n  summary: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ChronicleSummary;\n","import React, { useState, useRef, useLayoutEffect } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, ScrollView, StyleSheet, Platform, Modal, Dimensions } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst QuestionInput = ({ value, onChange }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const inputRef = useRef(null);\n\n  const [layout, setLayout] = useState(null);\n\nconst handleLayout = (event) => {\n  const { x, y, width, height } = event.nativeEvent.layout;\n    setLayout({ x, y, width, height });\n  };\n\n  const presetQuestions = [\n    \"What is your favorite animal?\",\n    \"How many pets do you have?\",\n    \"What's your experience with exotic pets?\",\n    \"Do you have any allergies to animals?\",\n    \"What type of exotic pet are you interested in?\",\n    \"Have you owned an exotic pet before?\",\n    \"Are you familiar with the care requirements for exotic pets?\",\n    \"Do you have a veterinarian experienced with exotic animals?\",\n    \"What's your living situation? (House, apartment, etc.)\",\n    \"Are there any local regulations about exotic pet ownership in your area?\",\n  ];\n\n  const handleChange = (text) => {\n    onChange(text);\n  };\n\n  useLayoutEffect(() => {\n    if (showDropdown && inputRef.current) {\n      inputRef.current.measure((fx, fy, width, height, px, py) => {\n        if (!isNaN(py) && !isNaN(height)) {\n          const newTop = py + height;\n          const newLeft = px;\n          const newWidth = width;\n            \n          setDropdownPosition({ top: newTop, left: newLeft, width: newWidth });\n        }\n      });\n    }\n\n    // Lock/unlock scrolling\n    if (Platform.OS === 'web') {\n      document.body.style.overflow = showDropdown ? 'hidden' : 'auto';\n    }\n\n    return () => {\n      if (Platform.OS === 'web') {\n        document.body.style.overflow = 'auto';\n      }\n    };\n  }, [showDropdown, layout]);\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  return (\n    <View style={styles.outerContainer}>\n      <View style={styles.container}>\n        <View style={styles.inputContainer} ref={inputRef} onLayout={handleLayout}>\n          <TextInput\n            style={styles.input}\n            value={value}\n            onChangeText={handleChange}\n            placeholder=\"Enter or select a question\"\n            multiline\n          />\n          <TouchableOpacity \n            style={styles.dropdownButton}\n            onPress={toggleDropdown}\n          >\n            <MaterialCommunityIcons \n              name={showDropdown ? \"chevron-up\" : \"chevron-down\"} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <Modal\n          visible={showDropdown}\n          transparent={true}\n          animationType=\"none\"\n          onRequestClose={toggleDropdown}\n        >\n          <TouchableOpacity\n            style={styles.modalOverlay}\n            activeOpacity={1}\n            onPress={toggleDropdown}\n          >\n            <View style={[styles.dropdownContainer, { top: dropdownPosition.top, left: dropdownPosition.left, width: dropdownPosition.width }]}>\n              <ScrollView style={styles.dropdownList}>\n                {presetQuestions.map((q, i) => (\n                  <TouchableOpacity\n                    key={i}\n                    style={styles.dropdownItem}\n                    onPress={() => {\n                      handleChange(q);\n                      toggleDropdown();\n                    }}\n                  >\n                    <Text style={styles.dropdownItemText}>{q}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            </View>\n          </TouchableOpacity>\n        </Modal>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  outerContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  container: {\n    width: SCREEN_WIDTH - 80, // Match the answer input width\n    maxWidth: 600,\n    alignItems: 'center',\n  },\n  inputContainer: {\n    width: '100%',\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    minHeight: 60,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    padding: 4,\n  },\n  modalOverlay: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.background,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    maxHeight: 200,\n    zIndex: 1000, // Ensure it appears on top\n    ...Platform.select({\n      web: {\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      },\n      default: {\n        elevation: 4,\n      },\n    }),\n  },\n  dropdownList: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default QuestionInput;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, ScrollView, Modal, Platform, Dimensions, Image, ActivityIndicator, Pressable } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport * as ImagePicker from 'expo-image-picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport QuestionInput from './QuestionInput';\nimport ClientPicker from './ClientPicker';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst ChronicleForm = ({ onCreateChronicle }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedClient, setSelectedClient] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [questions, setQuestions] = useState([{ question: '', answer: '', isPreset: true }]);\n  const [summary, setSummary] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [showClientPicker, setShowClientPicker] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n\n  const mockClients = [\n    { id: '1', name: 'John Doe', pets: [{ id: '1', name: 'Max' }, { id: '2', name: 'Bella' }] },\n    { id: '2', name: 'Jane Smith', pets: [{ id: '3', name: 'Luna' }, { id: '4', name: 'Charlie' }] }\n  ];\n\n  const pickImages = async () => {\n    try {\n      setIsUploading(true);\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n      });\n\n      if (!result.canceled) {\n        setPhotos([...photos, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error uploading images:', error);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index] = { ...newQuestions[index], [field]: value };\n    setQuestions(newQuestions);\n  };\n\n  const handleCreateChronicle = () => {\n    setIsCreating(true);\n    const newChronicle = {\n      id: Date.now(),\n      client: selectedClient,\n      pets: selectedPets,\n      summary,\n      questions,\n      photos,\n      title: `Chronicle for ${selectedClient}`,\n    };\n\n    setTimeout(() => {\n      console.log('Sending data to backend:', newChronicle);\n      onCreateChronicle(newChronicle);\n      setIsCreating(false);\n      setModalVisible(false);\n      resetForm();\n    }, 2000);\n  };\n\n  const resetForm = () => {\n    setSelectedClient('');\n    setSelectedPets([]);\n    setSummary('');\n    setQuestions([{ question: '', answer: '' }]);\n    setPhotos([]);\n  };\n\n  const addNewQuestion = () => {\n    setQuestions([...questions, { question: '', answer: '', isPreset: false }]);\n  };\n\n  const renderClientSelection = () => {\n    if (Platform.OS === 'web') {\n      return (\n        <Picker\n          selectedValue={selectedClient}\n          onValueChange={(itemValue) => setSelectedClient(itemValue)}\n          style={styles.picker}\n        >\n          <Picker.Item label=\"Select a client...\" value=\"\" />\n          {mockClients.map(client => (\n            <Picker.Item key={client.id} label={client.name} value={client.name} />\n          ))}\n        </Picker>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity\n            style={styles.dropdownButton}\n            onPress={() => setShowClientPicker(true)}\n          >\n            <Text style={styles.dropdownButtonText}>\n              {selectedClient || \"Select a client...\"}\n            </Text>\n            <MaterialCommunityIcons \n              name=\"chevron-down\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n          <Modal\n            visible={showClientPicker}\n            transparent={true}\n            animationType=\"slide\"\n          >\n            <View style={styles.pickerModalContainer}>\n              <View style={styles.pickerContainer}>\n                <Picker\n                  selectedValue={selectedClient}\n                  onValueChange={(itemValue) => {\n                    setSelectedClient(itemValue);\n                    setShowClientPicker(false);\n                  }}\n                >\n                  <Picker.Item label=\"Select a client...\" value=\"\" />\n                  {mockClients.map(client => (\n                    <Picker.Item key={client.id} label={client.name} value={client.name} />\n                  ))}\n                </Picker>\n              </View>\n              <TouchableOpacity\n                style={styles.pickerCloseButton}\n                onPress={() => setShowClientPicker(false)}\n              >\n                <Text style={styles.pickerCloseButtonText}>Close</Text>\n              </TouchableOpacity>\n            </View>\n          </Modal>\n        </View>\n      );\n    }\n  };\n\n  const PhotoPreview = ({ photo }) => (\n    <View style={styles.photoContainer}>\n      <Image source={{ uri: photo.uri }} style={styles.photo} />\n    </View>\n  );\n\n  return (\n    <View>\n      <TouchableOpacity style={styles.createButton} onPress={() => setModalVisible(true)}>\n        <Text style={styles.createButtonText}>Create New Chronicle</Text>\n      </TouchableOpacity>\n\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={[styles.modalContent, Platform.OS === 'web' && styles.webModalContent]}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Create New Chronicle</Text>\n              <TouchableOpacity onPress={() => setModalVisible(false)}>\n                <Text style={styles.closeButtonText}>✕</Text>\n              </TouchableOpacity>\n            </View>\n\n            <ScrollView>\n              <Text style={styles.label}>Select Client</Text>\n              <ClientPicker\n                clients={mockClients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n\n              <Text style={styles.label}>Select Pets</Text>\n              {selectedClient && mockClients.find(c => c.name === selectedClient)?.pets.map(pet => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={[\n                    styles.petOption,\n                    selectedPets.includes(pet.name) && styles.selectedPet\n                  ]}\n                  onPress={() => {\n                    if (selectedPets.includes(pet.name)) {\n                      setSelectedPets(selectedPets.filter(p => p !== pet.name));\n                    } else {\n                      setSelectedPets([...selectedPets, pet.name]);\n                    }\n                  }}\n                >\n                  <Text style={styles.petOptionText}>{pet.name}</Text>\n                </TouchableOpacity>\n              ))}\n\n              <Text style={styles.label}>Summary</Text>\n              <TextInput\n                style={styles.summaryInput}\n                multiline\n                value={summary}\n                onChangeText={setSummary}\n                placeholder=\"Write a summary of the chronicle\"\n                textAlignVertical=\"top\"\n              />\n\n              {questions.map((item, index) => (\n                <View key={index} style={styles.questionContainer}>\n                  <Text style={styles.label}>Question {index + 1}</Text>\n                  <QuestionInput\n                    value={item.question}\n                    onChange={(text) => updateQuestion(index, 'question', text)}\n                  />\n                  <View style={styles.answerInputContainer}>\n                    <TextInput\n                      style={[styles.input, styles.answerInput]}\n                      value={item.answer}\n                      onChangeText={(text) => updateQuestion(index, 'answer', text)}\n                      placeholder=\"Enter answer\"\n                      multiline\n                    />\n                  </View>\n                </View>\n              ))}\n\n              <TouchableOpacity style={styles.addQuestionButton} onPress={addNewQuestion}>\n                <MaterialCommunityIcons name=\"plus\" size={20} color={theme.colors.primary} />\n                <Text style={styles.addQuestionButtonText}>Add Another Question</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.uploadButton} \n                onPress={pickImages}\n                disabled={isUploading}\n              >\n                <MaterialCommunityIcons \n                  name=\"camera\" \n                  size={24} \n                  color={isUploading ? theme.colors.disabled : theme.colors.primary} \n                />\n                <Text style={[\n                  styles.uploadButtonText,\n                  isUploading && styles.uploadingText\n                ]}>\n                  {isUploading ? 'Uploading...' : 'Upload Photos'}\n                </Text>\n                {isUploading && (\n                  <ActivityIndicator \n                    size=\"small\" \n                    color={theme.colors.primary} \n                    style={styles.uploadingSpinner} \n                  />\n                )}\n              </TouchableOpacity>\n\n              <ScrollView horizontal style={styles.photoPreview}>\n                {photos.map((photo, index) => (\n                  <PhotoPreview key={index} photo={photo} />\n                ))}\n              </ScrollView>\n            </ScrollView>\n\n            <View style={styles.modalButtonContainer}>\n              <TouchableOpacity \n                style={styles.cancelButton} \n                onPress={() => {\n                  setModalVisible(false);\n                  resetForm();\n                }}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.submitButton} \n                onPress={handleCreateChronicle}\n                disabled={isCreating}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isCreating ? 'Creating Chronicle...' : 'Create Chronicle'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  createButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  createButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '90%',\n    maxHeight: '80%',\n  },\n  webModalContent: {\n    width: screenWidth > 600 ? '40%' : '90%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  closeButtonText: {\n    fontSize: 20,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    minHeight: 20,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n  },\n  petOption: {\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n  },\n  selectedPet: {\n    backgroundColor: theme.colors.primary,\n  },\n  petOptionText: {\n    color: theme.colors.text,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 16,\n  },\n  uploadButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  photoPreview: {\n    flexDirection: 'row',\n    marginTop: 16,\n  },\n  photoThumbnail: {\n    width: 80,\n    height: 80,\n    marginRight: 8,\n    borderRadius: 4,\n  },\n  questionContainer: {\n    marginBottom: 16,\n    width: '100%',\n    alignItems: 'center',\n  },\n  modalButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  cancelButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginLeft: 8,\n  },\n  submitButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  addQuestionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 8,\n    marginBottom: 16,\n    zIndex: 1, // Lower than dropdown\n  },\n  addQuestionButtonText: {\n    marginLeft: 8,\n    zIndex: 1, // Lower than dropdown\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  answerInputContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  answerInput: {\n    width: screenWidth - 80,\n    maxWidth: 600,\n    minHeight: 60,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    marginTop: 8,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  summaryInput: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    padding: 8,\n    height: 100, // Set a fixed height\n    textAlignVertical: 'top',\n    ...Platform.select({\n      web: {\n        minHeight: 100,\n      },\n      ios: {\n        paddingTop: 8, // Add some padding to the top for iOS\n      },\n      android: {\n        paddingTop: 8, // Add some padding to the top for Android\n      },\n    }),\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  photoContainer: {\n    marginRight: 8,\n  },\n  photo: {\n    width: 100,\n    height: 100,\n    borderRadius: 8,\n  },\n});\n\nexport default ChronicleForm;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, SafeAreaView, StatusBar, Platform, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport ContractList from '../components/ContractList';\nimport ContractTemplate from '../components/ContractTemplate'; // Import ContractTemplate\nimport ChronicleSummary from '../components/ChronicleSummary';\nimport ChronicleForm from '../components/ChronicleForm';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyContracts = () => {\n  const [activeTab, setActiveTab] = useState('contracts');\n  const [chronicles, setChronicles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [templates, setTemplates] = useState([]);\n\n  useEffect(() => {\n    if (activeTab === 'chronicles') {\n      fetchChronicles();\n    }\n  }, [activeTab]);\n\n  const fetchChronicles = async () => {\n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    const mockChronicles = [\n      {\n        id: 1,\n        title: 'Fluffy\\'s Adventure',\n        client: 'John Doe',\n        pets: ['Fluffy'],\n        summary: 'Fluffy had a great time at the park today!',\n      },\n      {\n        id: 2,\n        title: 'Max\\'s Playdate',\n        client: 'Jane Smith',\n        pets: ['Max'],\n        summary: 'Max enjoyed playing with other dogs at the beach.',\n      },\n    ];\n\n    setChronicles(mockChronicles);\n    setLoading(false);\n  };\n\n  const fetchTemplates = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/templates/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setTemplates(response.data);\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates(); // Fetch templates when component mounts\n  }, []);\n\n  const handleCreateChronicle = (newChronicle) => {\n    setChronicles((prevChronicles) => [...prevChronicles, newChronicle]);\n  };\n\n  return (\n    <SafeAreaView style={styles.safeArea}>\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={styles.container}>\n          <Text style={styles.title}>My Contracts & Chronicles</Text>\n          \n          <View style={styles.tabContainer}>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'contracts' && styles.activeTab]}\n              onPress={() => setActiveTab('contracts')}\n            >\n              <Text style={[styles.tabText, activeTab === 'contracts' && styles.activeTabText]}>Contracts</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'chronicles' && styles.activeTab]}\n              onPress={() => setActiveTab('chronicles')}\n            >\n              <Text style={[styles.tabText, activeTab === 'chronicles' && styles.activeTabText]}>Critter Chronicles</Text>\n            </TouchableOpacity>\n          </View>\n\n          {activeTab === 'contracts' && (\n            <View style={styles.contentContainer}>\n              <ContractTemplate templates={templates} />\n              <ContractList />\n            </View>\n          )}\n\n          {activeTab === 'chronicles' && (\n            <View style={styles.contentContainer}>\n              {loading ? (\n                <View style={styles.loadingContainer}>\n                  <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                </View>\n              ) : (\n                <>\n                  <ChronicleForm onCreateChronicle={handleCreateChronicle} />\n                  <ChronicleSummary chronicles={chronicles} />\n                </>\n              )}\n            </View>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  safeArea: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  container: {\n    flex: 1,\n    padding: 16,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    color: theme.colors.primary,\n    textAlign: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    width: '100%',\n    maxWidth: 500,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginHorizontal: 4,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  contentContainer: {\n    width: '100%',\n    maxWidth: 500,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  useTemplateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 16,\n    alignItems: 'center',\n  },\n  useTemplateButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    backgroundColor: theme.colors.primary,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default MyContracts;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TouchableOpacity, StatusBar } from 'react-native';\nimport { TextInput, Button, Text } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ChangePassword = ({ navigation }) => {\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const { isSignedIn } = useContext(AuthContext);\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    const getToken = async () => {\n      const storedToken = await AsyncStorage.getItem('userToken');\n      setToken(storedToken);\n    };\n    getToken();\n  }, []);\n\n  const handleChangePassword = async () => {\n    setError('');\n    setSuccess('');\n\n    if (newPassword !== confirmPassword) {\n      setError('New passwords do not match');\n      return;\n    }\n\n    if (!isSignedIn || !token) {\n      setError('You are not authenticated. Please log in again.');\n      return;\n    }\n\n    try {\n      console.log('Sending request to:', `${API_BASE_URL}/api/users/change-password/`);\n      console.log('Request payload:', {\n        current_password: currentPassword,\n        new_password: newPassword,\n      });\n      console.log('Auth token:', token);\n\n      const response = await axios.post(\n        `${API_BASE_URL}/api/users/change-password/`,\n        {\n          current_password: currentPassword,\n          new_password: newPassword,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      console.log('Response:', response);\n\n      if (response.status === 200) {\n        setSuccess('Password changed successfully');\n        setCurrentPassword('');\n        setNewPassword('');\n        setConfirmPassword('');\n      }\n    } catch (error) {\n      console.error('Error details:', error);\n      setError(error.response?.data?.error || 'Failed to change password');\n    }\n  };\n\n  const renderHeader = () => (\n    <View style={styles.header}>\n      <TouchableOpacity onPress={() => navigation.navigate('Settings')} style={styles.backButton}>\n        <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n      </TouchableOpacity>\n      <Text style={styles.headerText}>Change Password</Text>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {renderHeader()}\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        <TextInput\n          label=\"Current Password\"\n          value={currentPassword}\n          onChangeText={setCurrentPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"New Password\"\n          value={newPassword}\n          onChangeText={setNewPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"Confirm New Password\"\n          value={confirmPassword}\n          onChangeText={setConfirmPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n        {success ? <Text style={styles.successText}>{success}</Text> : null}\n        <Button mode=\"contained\" onPress={handleChangePassword} style={styles.button}>\n          Change Password\n        </Button>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 20,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n  },\n  button: {\n    marginTop: 20,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  successText: {\n    color: theme.colors.success,\n    marginBottom: 10,\n  },\n});\n\nexport default ChangePassword;\n","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TextInput as RNTextInput, TouchableOpacity, ScrollView, Image, Dimensions } from 'react-native';\nimport { Text, Appbar, Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { format } from 'date-fns';\nimport { theme } from '../styles/theme';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport DatePicker from '../components/DatePicker';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst WebInput = ({ label, value, onChangeText, type = 'text', style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <textarea\n        value={value}\n        onChange={(e) => {\n          if (type === 'number' && isNaN(e.target.value)) return;\n          onChangeText(e.target.value);\n        }}\n        style={{ ...styles.webInput, ...style }} // Merge default and custom styles\n        rows={1}\n        maxLength={type === 'text' ? 1000 : undefined}\n      />\n    </View>\n  );\n};\n\nconst MobileInput = ({ label, value, onChangeText, keyboardType = 'default', maxLength, style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <RNTextInput\n        value={value}\n        onChangeText={onChangeText}\n        style={[style, styles.input]} // Ensure custom style is applied first\n        keyboardType={keyboardType}\n        maxLength={maxLength}\n        multiline={true}\n      />\n    </View>\n  );\n};\n\nconst TextInput = Platform.OS === 'web' ? WebInput : MobileInput;\n\nconst AddPet = ({ route }) => {\n  const navigation = useNavigation();\n  \n  // Get initial pet data\n  const [petData] = useState(() => {\n    if (Platform.OS === 'web') {\n      const stored = sessionStorage.getItem('editPetData');\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    }\n    return route.params?.pet || {};\n  });\n\n  // Clean URL on mount\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      if (window.location.search) {\n        window.history.replaceState({}, '', '/AddPet');\n      }\n      // Store pet data if it exists in route params\n      if (route.params?.pet) {\n        sessionStorage.setItem('editPetData', JSON.stringify(route.params.pet));\n      }\n    }\n    // Cleanup on unmount\n    return () => {\n      if (Platform.OS === 'web' && !window.location.pathname.includes('AddPet')) {\n        sessionStorage.removeItem('editPetData');\n      }\n    };\n  }, []);\n\n  // Use petData instead of route.params.pet throughout the component\n  const pet = petData;\n\n  const [petName, setPetName] = useState('');\n  const [petType, setPetType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For actual pet type\n  const [animalType, setAnimalType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For toggle buttons\n  const [weight, setWeight] = useState('');\n  const [breed, setBreed] = useState('');\n  const [ageYears, setAgeYears] = useState('');\n  const [ageMonths, setAgeMonths] = useState('');\n  const [sex, setSex] = useState(null);\n  const [friendlyWithChildren, setFriendlyWithChildren] = useState(null);\n  const [friendlyWithCats, setFriendlyWithCats] = useState(null);\n  const [friendlyWithDogs, setFriendlyWithDogs] = useState(null);\n  const [spayedNeutered, setSpayedNeutered] = useState(null);\n  const [houseTrained, setHouseTrained] = useState(null);\n  const [microchipped, setMicrochipped] = useState(null);\n  const [adoptionDate, setAdoptionDate] = useState(new Date());\n  const [description, setDescription] = useState('');\n  const [profileImage, setProfileImage] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n\n  // New state variables for Care Information\n  const [pottyBreakSchedule, setPottyBreakSchedule] = useState(null);\n  const [customPottyBreak, setCustomPottyBreak] = useState('');\n  const [energyLevel, setEnergyLevel] = useState(null);\n  const [feedingSchedule, setFeedingSchedule] = useState(null);\n  const [customFeedingSchedule, setCustomFeedingSchedule] = useState('');\n  const [leftAlone, setLeftAlone] = useState(null);\n  const [customLeftAlone, setCustomLeftAlone] = useState('');\n  const [medication, setMedication] = useState(null);\n  const [medicationDetails, setMedicationDetails] = useState('');\n  const [additionalInstructions, setAdditionalInstructions] = useState('');\n\n  // Add these new state variables at the top of the AddPet component\n  const [vetName, setVetName] = useState('');\n  const [vetAddress, setVetAddress] = useState('');\n  const [vetPhone, setVetPhone] = useState('');\n  const [vetDocuments, setVetDocuments] = useState([]);\n  const [insuranceProvider, setInsuranceProvider] = useState('');\n  const [galleryImages, setGalleryImages] = useState([]);\n  const [estimatedBirthday, setEstimatedBirthday] = useState(new Date());\n  const [showDatePicker, setShowDatePicker] = useState(false);\n\n  useEffect(() => {\n    setHasUnsavedChanges(false);\n\n    if (pet) {\n      // Populate fields with existing pet data or set to empty string if not available\n      setPetName(pet.name ? pet.name : '');\n      setPetType(pet.animal_type ? pet.animal_type : '');\n      setAnimalType(pet.animal_type === 'Cat' || pet.animal_type === 'Dog' ? pet.animal_type : 'Exotic');\n      setBreed(pet.breed ? pet.breed : '');\n      setWeight(pet.weight ? pet.weight : '');\n      setAgeYears(pet.age && pet.age.years ? pet.age.years : '');\n      setAgeMonths(pet.age && pet.age.months ? pet.age.months : '');\n      setSex(pet.sex ? pet.sex : '');\n      setFriendlyWithChildren(pet.friendlyWithChildren !== undefined ? pet.friendlyWithChildren : null);\n      setFriendlyWithCats(pet.friendlyWithCats !== undefined ? pet.friendlyWithCats : null);\n      setFriendlyWithDogs(pet.friendlyWithDogs !== undefined ? pet.friendlyWithDogs : null);\n      setSpayedNeutered(pet.spayedNeutered !== undefined ? pet.spayedNeutered : null);\n      setHouseTrained(pet.houseTrained !== undefined ? pet.houseTrained : null);\n      setMicrochipped(pet.microchipped !== undefined ? pet.microchipped : null);\n      setAdoptionDate(pet.adoptionDate ? new Date(pet.adoptionDate) : new Date()); // Default to current date if not available\n      setDescription(pet.description ? pet.description : '');\n      setEnergyLevel(pet.energyLevel ? pet.energyLevel : '');\n\n      // Check if feedingSchedule is an array\n      if (Array.isArray(pet.feedingSchedule)) {\n        setFeedingSchedule(pet.feedingSchedule[0]); // Set to 'Custom'\n        setCustomFeedingSchedule(pet.feedingSchedule[1]); // Set custom instructions\n      } else {\n        setFeedingSchedule(pet.feedingSchedule ? pet.feedingSchedule : ''); // Populate feeding schedule\n        setCustomFeedingSchedule(''); // Reset custom feeding schedule\n      }\n\n      setLeftAlone(pet.leftAlone ? pet.leftAlone : '');\n      setMedication(pet.medication ? pet.medication : '');\n      setAdditionalInstructions(pet.additionalInstructions ? pet.additionalInstructions : '');\n      setVetName(pet.vetName ? pet.vetName : '');\n      setVetAddress(pet.vetAddress ? pet.vetAddress : '');\n      setVetPhone(pet.vetPhone ? pet.vetPhone : '');\n      setInsuranceProvider(pet.insuranceProvider ? pet.insuranceProvider : '');\n      setVetDocuments(pet.veterinarian && pet.veterinarian.documents ? pet.veterinarian.documents : []);\n      setGalleryImages(pet.galleryImages ? pet.galleryImages : []);\n      \n      // Set estimated birthday if available\n      if (pet.age) {\n        const today = new Date();\n        const estimatedDate = new Date(today.getFullYear() - pet.age.years, today.getMonth() - pet.age.months);\n        setEstimatedBirthday(estimatedDate);\n      }\n    } else {\n      // If pet is not defined, initialize fields to empty strings\n      setPetName('');\n      setPetType('');\n      setAnimalType('');\n      setWeight('');\n      setAgeYears('');\n      setAgeMonths('');\n      setSex('');\n      setFriendlyWithChildren(null);\n      setFriendlyWithCats(null);\n      setFriendlyWithDogs(null);\n      setSpayedNeutered(null);\n      setHouseTrained(null);\n      setMicrochipped(null);\n      setAdoptionDate(new Date());\n      setDescription('');\n      setEnergyLevel('');\n      setFeedingSchedule(''); // Initialize feeding schedule\n      setCustomFeedingSchedule(''); // Initialize custom feeding schedule\n      setLeftAlone('');\n      setMedication('');\n      setAdditionalInstructions('');\n      setVetName('');\n      setVetAddress('');\n      setVetPhone('');\n      setInsuranceProvider('');\n      setVetDocuments([]);\n      setGalleryImages([]);\n    }\n  }, [pet]);\n\n  useEffect(() => {\n    if (ageYears && ageMonths) {\n      const today = new Date();\n      const estimatedDate = new Date(today.getFullYear() - parseInt(ageYears), today.getMonth() - parseInt(ageMonths));\n      setEstimatedBirthday(estimatedDate);\n    }\n  }, [ageYears, ageMonths]);\n\n  const calculateAge = (birthday) => {\n    const today = new Date();\n    const birthDate = new Date(birthday);\n    let ageYears = today.getFullYear() - birthDate.getFullYear();\n    let ageMonths = today.getMonth() - birthDate.getMonth();\n\n    if (ageMonths < 0) {\n      ageYears--;\n      ageMonths += 12;\n    }\n\n    setAgeYears(ageYears.toString());\n    setAgeMonths(ageMonths.toString());\n  };\n\n  const pickImage = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfileImage(result.assets[0].uri);\n    }\n  };\n\n  const renderEstimatedBirthday = () => (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>Estimated Birthday:</Text>\n      <TouchableOpacity onPress={() => setShowDatePicker(true)}>\n        <Text style={styles.dateText}>\n          {format(estimatedBirthday, 'yyyy-MM-dd')}\n        </Text>\n      </TouchableOpacity>\n      {showDatePicker && (\n        <DatePicker\n          value={estimatedBirthday}\n          onChange={(date) => {\n            if (date) {\n              setEstimatedBirthday(date);\n              calculateAge(date); // Calculate age when date is selected\n              setHasUnsavedChanges(true); // Set hasUnsavedChanges to true when date is selected\n            }\n            setShowDatePicker(false);\n          }}\n        />\n      )}\n    </View>\n  );\n\n  const renderTab = (type) => (\n    <TouchableOpacity\n      style={[\n        styles.tab,\n        animalType === type && styles.activeTab,\n        type === 'Dog' && styles.leftTab,\n        type === 'Exotic' && styles.rightTab,\n      ]}\n      onPress={() => {\n        setAnimalType(type); // Set the pet type\n        setHasUnsavedChanges(true); // Set hasUnsavedChanges to true\n      }}\n    >\n      <Text style={styles.tabText}>{type}</Text>\n    </TouchableOpacity>\n  );\n\n  const renderToggleButtons = (options, value, setValue, customInput = false, customValue = '', setCustomValue = () => {}) => (\n    <View style={styles.toggleContainer}>\n      <View style={styles.buttonRow}>\n        {options.map((option) => (\n          <TouchableOpacity\n            key={option}\n            style={[styles.yesNoButton, value === option && styles.activeYesNoButton]}\n            onPress={() => setValue(option)}\n          >\n            <Text style={styles.yesNoText}>{option}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n      {((customInput && value === 'Custom') || (options.includes('Pill') && value)) && (\n        Platform.OS === 'web' ? (\n          <View style={styles.inputContainer}>\n            <textarea\n              value={customValue}\n              onChange={(e) => setCustomValue(e.target.value)}\n              style={styles.webInput}\n              placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n            />\n          </View>\n        ) : (\n          <TextInput\n            value={customValue}\n            onChangeText={setCustomValue}\n            style={[styles.customInput, { width: '100%' }]}\n            placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n          />\n        )\n      )}\n    </View>\n  );\n\n  const renderYesNoButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === true && styles.activeYesNoButton]}\n        onPress={() => setValue(true)}\n      >\n        <Text style={styles.yesNoText}>Yes</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === false && styles.activeYesNoButton]}\n        onPress={() => setValue(false)}\n      >\n        <Text style={styles.yesNoText}>No</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderSexButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Male' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Male'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Male</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Female' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Female'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Female</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const handleSaveProfile = () => {\n    setIsSubmitting(true);\n    setHasUnsavedChanges(false);\n\n    const petData = {\n      // Basic Info\n      petName,\n      petType: (animalType !== 'Exotic') ? animalType : petType,\n      weight,\n      breed,\n      estimatedBirthday,\n      age: {\n        years: ageYears,\n        months: ageMonths\n      },\n      sex,\n      profileImage,\n      description,\n      adoptionDate: format(adoptionDate, 'yyyy-MM-dd'),\n\n      // Temperament & Training\n      friendlyWithChildren,\n      friendlyWithCats,\n      friendlyWithDogs,\n      spayedNeutered,\n      houseTrained,\n      microchipped,\n\n      // Care Information\n      pottyBreakSchedule: pottyBreakSchedule === 'Custom' ? customPottyBreak : pottyBreakSchedule,\n      energyLevel,\n      feedingSchedule: feedingSchedule === 'Custom' ? customFeedingSchedule : feedingSchedule,\n      leftAlone: leftAlone === 'Custom' ? customLeftAlone : leftAlone,\n      medication: medication ? {\n        type: medication,\n        details: medicationDetails\n      } : null,\n      additionalInstructions,\n\n      // Health Information\n      veterinarian: {\n        name: vetName,\n        address: vetAddress,\n        phone: vetPhone,\n        documents: vetDocuments.map(doc => ({\n          uri: doc.uri,\n          type: doc.type,\n          name: doc.fileName || 'document'\n        }))\n      },\n      insuranceProvider,\n\n      // Photo Gallery\n      galleryImages: galleryImages.map(img => ({\n        uri: img.uri,\n        type: img.type,\n        name: img.fileName || 'image'\n      }))\n    };\n\n    console.log('Pet Profile Data:', JSON.stringify(petData, null, 2));\n\n    // Simulate API call\n    setTimeout(() => {\n      setIsSubmitting(false);\n      // alert('Pet profile saved successfully!');\n      // Navigate back or clear form\n      // setHasUnsavedChanges(false);\n    }, 1000);\n  };\n\n  const pickVetDocuments = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsMultipleSelection: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setVetDocuments([...vetDocuments, ...result.assets]);\n    }\n  };\n\n  const pickGalleryImages = async () => {\n    try {\n      // Request permissions first (for iOS)\n      if (Platform.OS !== 'web') {\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== 'granted') {\n          alert('Sorry, we need camera roll permissions to make this work!');\n          return;\n        }\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n        aspect: [1, 1],\n      });\n\n      if (!result.canceled) {\n        setGalleryImages(prevImages => [...prevImages, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error picking images:', error);\n      alert('Error selecting images. Please try again.');\n    }\n  };\n\n  // Function to handle input changes and set unsaved changes\n  const handleInputChange = (setter) => (value) => {\n    setter(value);\n    setHasUnsavedChanges(true);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => navigation.navigate('MyPets')} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>\n          {pet && Object.keys(pet).length > 0 ? 'Edit Pet' : 'Add a New Pet'}\n        </Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.formContainer}>\n          {/* Pet Details Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"paw\" size={20} /> Pet Details\n          </Text>\n          {/* Profile Photo */}\n          <Text style={styles.label}>Profile Photo</Text>\n          <TouchableOpacity onPress={pickImage} style={styles.profileImageContainer}>\n            {profileImage ? (\n              <Image source={{ uri: profileImage }} style={styles.profileImage} />\n            ) : (\n              <View style={styles.profileImagePlaceholder}>\n                <MaterialCommunityIcons name=\"camera\" size={40} color=\"#ccc\" />\n              </View>\n            )}\n          </TouchableOpacity>\n          {/* Pet Type Selection */}\n          <View style={styles.tabContainer}>\n            {renderTab('Dog')}\n            {renderTab('Cat')}\n            {renderTab('Exotic')}\n          </View>\n          <TextInput \n            label=\"Pet Name\" \n            value={petName} \n            onChangeText={handleInputChange(setPetName)} \n            placeholder={pet ? pet.name : \"Enter pet name\"} \n          />\n          {animalType === 'Exotic' && (\n            <TextInput \n              label=\"Pet Type\" \n              value={pet.animal_type ? pet.animal_type : ''} \n              onChangeText={handleInputChange(setPetType)} \n              placeholder={pet ? pet.animal_type : \"Enter pet type\"} \n            />\n          )}\n          <TextInput \n            label=\"Weight (lbs)\" \n            value={weight.toString()} \n            onChangeText={handleInputChange(setWeight)} \n            keyboardType=\"numeric\" \n          />\n          {renderEstimatedBirthday()}\n          <TextInput\n            label=\"Age in Years\"\n            value={ageYears.toString() ? ageYears.toString() : ''}\n            onChangeText={handleInputChange(setAgeYears)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput\n            label=\"Age in Months\"\n            value={ageMonths === '' ? '' : ageMonths === '0' ? '0' : ageMonths.toString()}\n            onChangeText={handleInputChange(setAgeMonths)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput \n            label=\"Breed\" \n            value={breed} \n            onChangeText={handleInputChange(setBreed)} \n          />\n          <Text style={styles.boldLabel}>Sex:</Text>\n          {renderSexButtons(sex, setSex)}\n          {(animalType === 'Dog' || animalType === 'Cat') && (\n            <>\n                <Text style={styles.boldLabel}>Friendly with Children:</Text>\n                {renderYesNoButtons(friendlyWithChildren, setFriendlyWithChildren)}\n                <Text style={styles.boldLabel}>Friendly with Cats:</Text>\n                {renderYesNoButtons(friendlyWithCats, setFriendlyWithCats)}\n                <Text style={styles.boldLabel}>Friendly with Dogs:</Text>\n                {renderYesNoButtons(friendlyWithDogs, setFriendlyWithDogs)}\n                <Text style={styles.boldLabel}>Spayed/Neutered:</Text>\n                {renderYesNoButtons(spayedNeutered, setSpayedNeutered)}\n                <Text style={styles.boldLabel}>House Trained:</Text>\n                {renderYesNoButtons(houseTrained, setHouseTrained)}\n                <Text style={styles.boldLabel}>Microchipped:</Text>\n                {renderYesNoButtons(microchipped, setMicrochipped)}\n            </>\n            )}\n          <Text style={styles.boldLabel}>Adoption Date:</Text>\n          {/* TODO: change this to the DatePicker.js file i have */}\n          {Platform.OS === 'web' ? (\n            <View style={styles.timePickerContainer}>\n              <input\n                type=\"date\"\n                value={format(adoptionDate, 'yyyy-MM-dd')}\n                onChange={(e) => {\n                  const date = new Date(e.target.value);\n                  setAdoptionDate(date);\n                }}\n                style={styles.webTimePicker}\n              />\n            </View>\n          ) : (\n            <DateTimePicker\n              value={adoptionDate}\n              mode=\"date\"\n              display=\"default\"\n              onChange={(event, selectedDate) => {\n                if (selectedDate) {\n                  setAdoptionDate(selectedDate);\n                }\n              }}\n            />\n          )}\n          <View style={{ height: 16 }} />\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Pet Description\"\n              value={description}\n              onChangeText={handleInputChange(setDescription)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n            />\n          </View>\n\n          {/* Care Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"heart\" size={20} /> Care Information\n          </Text>\n          {(petType === 'Dog') && (\n            <>\n              <Text style={styles.boldLabel}>Potty Break Schedule:</Text>\n              {renderToggleButtons(['2 hours', '4 hours', '8 hours', 'Custom'], pottyBreakSchedule, setPottyBreakSchedule, true, customPottyBreak, setCustomPottyBreak)}\n            </>\n          )}\n          <Text style={styles.boldLabel}>Energy Level:</Text>\n          {renderToggleButtons(['High', 'Moderate', 'Low'], energyLevel, setEnergyLevel)}\n          <Text style={styles.boldLabel}>Feeding Schedule:</Text>\n          {renderToggleButtons(['Morning', 'Twice a day', 'Custom'], feedingSchedule, setFeedingSchedule, true, customFeedingSchedule, setCustomFeedingSchedule)}\n          <Text style={styles.boldLabel}>Can Be Left Alone:</Text>\n          {renderToggleButtons(['<1 hour', '1-4 hours', '4-8 hours', 'Custom'], leftAlone, setLeftAlone, true, customLeftAlone, setCustomLeftAlone)}\n          <Text style={styles.boldLabel}>Medication:</Text>\n          {renderToggleButtons(['Pill', 'Topical', 'Injection'], medication, setMedication, true, medicationDetails, setMedicationDetails)}\n          {/* <View style={{ height: 16 }} /> */}\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Anything Else The Professional Should Know\"\n              value={additionalInstructions}\n              onChangeText={handleInputChange(setAdditionalInstructions)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n              placeholder=\"Add custom instructions\"\n            />\n          </View>\n\n          {/* Health Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"medical-bag\" size={20} /> Health Information\n          </Text>\n\n          <TextInput \n            label=\"Veterinarian Name\"\n            value={vetName}\n            onChangeText={handleInputChange(setVetName)}\n          />\n\n          <TextInput \n            label=\"Veterinarian Address\"\n            value={vetAddress}\n            onChangeText={handleInputChange(setVetAddress)}\n            multiline\n          />\n\n          <TextInput \n            label=\"Veterinarian Phone\"\n            value={vetPhone}\n            onChangeText={handleInputChange(setVetPhone)}\n            keyboardType=\"phone-pad\"\n          />\n\n          <TextInput \n            label=\"Pet Insurance Provider\"\n            value={insuranceProvider}\n            onChangeText={handleInputChange(setInsuranceProvider)}\n            style={styles.input}\n          />\n\n          <Text style={styles.boldLabel}>Veterinary Documents:</Text>\n          <View style={styles.documentsContainer}>\n            <TouchableOpacity style={styles.uploadButton} onPress={pickVetDocuments}>\n              <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Upload Documents</Text>\n            </TouchableOpacity>\n            {vetDocuments.length > 0 && (\n              <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.documentsList}>\n                {vetDocuments.map((doc, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: doc.uri }}\n                    style={styles.documentThumbnail}\n                  />\n                ))}\n              </ScrollView>\n            )}\n          </View>\n\n          {/* Photo Gallery Section */}\n          <View style={styles.gallerySection && styles.scrollViewContent}>\n            <Text style={styles.sectionHeader}>\n              <MaterialCommunityIcons name=\"image-multiple\" size={20} /> Photo Gallery\n            </Text>\n\n            <TouchableOpacity style={styles.uploadButton} onPress={pickGalleryImages}>\n              <MaterialCommunityIcons name=\"image-plus\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Add Photos</Text>\n            </TouchableOpacity>\n\n            {galleryImages.length > 0 && (\n              <View style={styles.galleryContainer}>\n                {galleryImages.map((image, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: image.uri }}\n                    style={styles.galleryThumbnail}\n                    resizeMode=\"cover\"\n                  />\n                ))}\n              </View>\n            )}\n          </View>\n        </View>\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={handleSaveProfile}\n        btnText={'Save Profile'}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  formContainer: {\n    width: Platform.OS === 'web' && screenWidth > 600 ? '40%' : '90%',\n    alignItems: 'center', // Center horizontally\n    paddingBottom: 16,\n  },\n  profileImageContainer: {\n    marginBottom: 16,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n  },\n  profileImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inputContainer: {\n    // marginBottom: 8,\n    width: '100%', // Ensure the container takes full width\n    alignItems: 'center', // Center the input within the container\n    paddingBottom: Platform.OS === 'web' ? 0 : 40,\n    flex: 1,\n  },\n  label: {\n    fontSize: 16,\n    marginBottom: 8,\n    marginTop: 16,\n    textAlign: 'center', // Center the label text\n  },\n  boldLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  sectionHeader: {\n    fontSize: 25,\n    fontWeight: 'bold',\n    marginVertical: 16,\n    alignSelf: 'flex-start',\n    textAlign: 'left',\n  },\n  webInput: {\n    width: '100%', // Full width for web input\n    minHeight: 24, // Set a minimum height\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    resize: 'none', // Prevent textarea from being resizable\n  },\n  input: {\n    width: '100%', // Full width for mobile input\n    height: 40, // Set a consistent height for mobile inputs\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n  },\n  descriptionInput: {\n    width: '100%',\n    minHeight: 90, // Increased height for better visibility\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    textAlignVertical: 'center',\n    // marginTop: 32, // Added margin to separate from the adoption date\n  },\n  customInput: {\n    width: '100%',\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    marginBottom: 8, // Add a smaller margin bottom\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: '#ccc',\n  },\n  activeTab: {\n    backgroundColor: '#ddd',\n  },\n  leftTab: {\n    borderTopLeftRadius: 10,\n    borderBottomLeftRadius: 10,\n  },\n  rightTab: {\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n  },\n  tabText: {\n    fontSize: 16,\n  },\n  toggleContainer: {\n    width: '100%',\n    marginBottom: 8, // Reduce this from 16 to 8\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    marginBottom: 8,\n  },\n  yesNoContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  yesNoButton: {\n    marginHorizontal: 10,\n    padding: 10,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 80, // Ensure the button is wide enough to prevent text wrapping\n  },\n  activeYesNoButton: {\n    backgroundColor: '#ddd',\n  },\n  yesNoText: {\n    fontSize: 16,\n  },\n  datePicker: {\n    marginBottom: 16,\n    padding: 10,\n    // borderWidth: 1,\n    // borderColor: '#ccc',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  dateText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    textAlign: 'center',\n  },\n  saveButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 16,\n  },\n  webTimePicker: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    fontSize: 16,\n  },\n  documentsContainer: {\n    marginVertical: 10,\n    width: '100%',\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  documentsList: {\n    minHeight: 100 + 20, // Add fixed height to prevent collapse\n  },\n  documentThumbnail: {\n    width: 100,\n    height: 100,\n    marginRight: 10,\n    borderRadius: 4,\n  },\n  gallerySection: {\n    width: '100%',\n    marginTop: 16,\n  },\n  galleryContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    width: '100%',\n  },\n  galleryThumbnail: {\n    width: 100,\n    height: 100,\n    borderRadius: 4,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    paddingBottom: 100, // Add padding to prevent content from being hidden behind the button\n  },\n});\n\nexport default AddPet;\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst CustomMultiSelect = ({\n  label,\n  data,\n  value,\n  onChange,\n  placeholder,\n  isOpen,\n  setIsOpen,\n  containerStyle,\n  zIndex = 1,\n}) => {\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleClickOutside = (event) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [setIsOpen]);\n\n  const getDisplayText = () => {\n    if (value.length === 0) return placeholder;\n    \n    const selectedItems = value.map(v => data.find(item => item.value === v)?.label || '');\n    const displayText = selectedItems[0];\n    \n    if (selectedItems.length > 1) {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText + ', ...';\n    } else {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText;\n    }\n  };\n\n  const handleRemoveItem = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.filter(v => v !== itemValue);\n    onChange(newValue);\n  };\n\n  const handleItemSelect = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.includes(itemValue)\n      ? value.filter(v => v !== itemValue)\n      : [...value, itemValue];\n    onChange(newValue);\n  };\n\n  return (\n    <View style={[styles.container, { zIndex }, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      <View ref={dropdownRef} style={styles.dropdownContainer}>\n        <TouchableOpacity\n          style={styles.header}\n          onPress={() => setIsOpen(!isOpen)}\n        >\n          <Text style={value.length ? styles.selectedText : styles.placeholderText}>\n            {getDisplayText()}\n          </Text>\n          <MaterialCommunityIcons \n            name={isOpen ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n\n        {isOpen && (\n          <View style={[styles.dropdown, { zIndex: zIndex + 1 }]}>\n            <ScrollView \n              nestedScrollEnabled={true}\n              style={styles.scrollView}\n              contentContainerStyle={styles.scrollViewContent}\n            >\n              {data.map((item) => (\n                <TouchableOpacity\n                  key={item.value}\n                  style={styles.item}\n                  onPress={(e) => handleItemSelect(item.value, e)}\n                  activeOpacity={0.7}\n                >\n                  <Text style={styles.itemText}>{item.label}</Text>\n                  {value.includes(item.value) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          </View>\n        )}\n\n        {!isOpen && value.length > 0 && (\n          <View style={styles.chipsContainer}>\n            {value.map((v) => {\n              const item = data.find(item => item.value === v);\n              if (!item) return null;\n              return (\n                <View key={v} style={styles.chip}>\n                  <Text style={styles.chipText}>{item.label}</Text>\n                  <TouchableOpacity \n                    onPress={(e) => handleRemoveItem(v, e)}\n                    style={styles.chipRemove}\n                  >\n                    <MaterialCommunityIcons \n                      name=\"close\" \n                      size={18} \n                      color={theme.colors.text} \n                    />\n                  </TouchableOpacity>\n                </View>\n              );\n            })}\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n  },\n  dropdownContainer: {\n    position: 'relative',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    // height: 50,\n    padding: 6,\n    // paddingHorizontal: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n  },\n  dropdown: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 4,\n    elevation: 1000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 9999,\n  },\n  scrollView: {\n    maxHeight: 200,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  item: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    color: theme.colors.placeholderText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    // padding: 8,\n    gap: 8,\n    marginTop: 8,\n  },\n  chip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 16,\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n  },\n  chipText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipRemove: {\n    padding: 2,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n});\n\nexport default CustomMultiSelect;","import React, { useState, useRef, useCallback } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Platform, TextInput, ScrollView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport Dropdown from 'react-native-element-dropdown/src/components/Dropdown';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport Slider from '@react-native-community/slider';\nimport { GooglePlacesAutocomplete } from 'react-native-google-places-autocomplete';\nimport DatePicker from '../components/DatePicker';\nimport { debounce } from 'lodash';\nimport MultiSelect from 'react-native-element-dropdown/src/components/MultiSelect';\nimport CustomMultiSelect from '../components/CustomMultiSelect';\nimport { SERVICE_TYPES, GENERAL_CATEGORIES } from '../data/mockData';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\n\nconst generalCategoriesData = GENERAL_CATEGORIES.map(category => ({\n  label: category,\n  value: category.toLowerCase().replace(/\\s+/g, '-')\n}));\n\nconst LocationInput = ({ value, onChange, suggestions, onSuggestionSelect }) => {\n  const locationInputRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const debouncedFetch = useCallback(\n    debounce(async (text) => {\n      if (text.length < 1) return;\n      \n      try {\n        const response = await fetch(\n          `https://nominatim.openstreetmap.org/search?format=json&q=${text}&countrycodes=us&limit=5`,\n          {\n            headers: {\n              'Accept': 'application/json',\n              'User-Agent': 'ZenExotics Mobile App'\n            }\n          }\n        );\n        const data = await response.json();\n        const suggestions = data.map(item => ({\n          display_name: item.display_name,\n          lat: item.lat,\n          lon: item.lon\n        }));\n        onSuggestionSelect(suggestions);\n      } catch (error) {\n        console.error('Error fetching locations:', error);\n        onSuggestionSelect([]);\n      }\n    }, 300),\n    [onSuggestionSelect]\n  );\n\n  return (\n    <View style={[styles.locationInputWrapper, { zIndex: 2 }]}>\n      <TextInput\n        ref={locationInputRef}\n        style={styles.locationInput}\n        placeholder=\"Enter city, state, or zip\"\n        value={value}\n        onChangeText={(text) => {\n          onChange(text);\n          if (text.length < 1) {\n            onSuggestionSelect([]);\n          } else {\n            debouncedFetch(text);\n          }\n        }}\n      />\n      {suggestions.length > 0 && (\n        <View style={styles.suggestionsWrapper}>\n          <ScrollView \n            style={styles.suggestionsContainer}\n            keyboardShouldPersistTaps=\"always\"\n            nestedScrollEnabled={true}\n          >\n            {suggestions.map((suggestion, index) => (\n              <TouchableOpacity\n                key={index}\n                style={styles.suggestionItem}\n                onPress={() => {\n                  onChange(suggestion.display_name);\n                  onSuggestionSelect([]);\n                }}\n              >\n                <Text>{suggestion.display_name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst SearchRefiner = ({ onFiltersChange }) => {\n  const [filters, setFilters] = useState({\n    category: '',\n    location: '',\n    animalType: '',\n    service: '',\n    startDate: new Date(),\n    endDate: new Date(),\n    selectedPets: [],\n    minRate: 0,\n    maxRate: 250\n  });\n  const [location, setLocation] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [selectedGeneralCategories, setSelectedGeneralCategories] = useState([]);\n  const [selectedAnimalTypes, setSelectedAnimalTypes] = useState([]);\n  const [isServiceDropdownOpen, setIsServiceDropdownOpen] = useState(false);\n  const [isAnimalDropdownOpen, setIsAnimalDropdownOpen] = useState(false);\n  const [isGeneralDropdownOpen, setIsGeneralDropdownOpen] = useState(false);\n\n  const categories = SERVICE_TYPES.map(service => ({\n    label: service,\n    value: service.toLowerCase().replace(/\\s+/g, '-').replace(/[()]/g, '')\n  }));\n\n  const animalTypes = [\n    { label: 'Dogs', value: 'dog' },\n    { label: 'Cats', value: 'cat' },\n    { label: 'Birds', value: 'bird' },\n    { label: 'Small Animals', value: 'small-animal' }\n  ];\n\n  const handleFilterChange = (key, value) => {\n    const newFilters = { ...filters, [key]: value };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const renderPriceRange = () => (\n    <View style={styles.section}>\n      <Text style={styles.label}>Rate Range</Text>\n      <View style={styles.priceRangeContainer}>\n        <Text>${filters.minRate}</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={250}\n          step={5}\n          value={filters.maxRate}\n          onValueChange={(value) => handleFilterChange('maxRate', value)}\n          minimumTrackTintColor={theme.colors.primary}\n          maximumTrackTintColor={theme.colors.border}\n        />\n        <Text>${filters.maxRate}</Text>\n      </View>\n    </View>\n  );\n\n  const renderLocationInput = () => (\n    <View style={[styles.section, { zIndex: 4000 }]}>\n      <Text style={styles.label}>Location</Text>\n      <LocationInput\n        value={location}\n        onChange={setLocation}\n        suggestions={locationSuggestions}\n        onSuggestionSelect={setLocationSuggestions}\n      />\n    </View>\n  );\n\n  const renderDatePickers = () => (\n    <View style={styles.section}>\n      <View style={styles.datePickersContainer}>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>Start Date</Text>\n          <DatePicker\n            value={filters.startDate}\n            onChange={(date) => handleFilterChange('startDate', date)}\n          />\n        </View>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>End Date</Text>\n          <DatePicker\n            value={filters.endDate}\n            onChange={(date) => handleFilterChange('endDate', date)}\n          />\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Refine Search</Text>\n      \n      {renderLocationInput()}\n\n      <View style={[styles.section, { zIndex: 3001 }]}>\n        <CustomMultiSelect\n          label=\"General Categories\"\n          data={generalCategoriesData}\n          value={selectedGeneralCategories}\n          onChange={(newValue) => {\n            setSelectedGeneralCategories(newValue);\n            handleFilterChange('general', newValue);\n          }}\n          placeholder=\"Select general categories\"\n          isOpen={isGeneralDropdownOpen}\n          setIsOpen={setIsGeneralDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 3000 }]}>\n        <CustomMultiSelect\n          label=\"Animal Types\"\n          data={animalTypes}\n          value={selectedAnimalTypes}\n          onChange={(newValue) => {\n            setSelectedAnimalTypes(newValue);\n            handleFilterChange('animalTypes', newValue);\n          }}\n          placeholder=\"Select animal types\"\n          isOpen={isAnimalDropdownOpen}\n          setIsOpen={setIsAnimalDropdownOpen}\n          zIndex={2000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 2000 }]}>\n        <CustomMultiSelect\n          label=\"Service Categories\"\n          data={categories}\n          value={selectedServices}\n          onChange={(newValue) => {\n            setSelectedServices(newValue);\n            handleFilterChange('services', newValue);\n          }}\n          placeholder=\"Select services\"\n          isOpen={isServiceDropdownOpen}\n          setIsOpen={setIsServiceDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderDatePickers()}\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderPriceRange()}\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    height: '100%',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.large,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  section: {\n    marginBottom: theme.spacing.large,\n    position: 'relative',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdown: {\n    height: 50,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  datePickerContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  datePickerWrapper: {\n    maxWidth: 200,\n  },\n  dateLabel: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  rateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  priceRangeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  slider: {\n    flex: 1,\n    height: 40,\n    marginHorizontal: 10,\n  },\n  locationInputWrapper: {\n    position: 'relative',\n    marginBottom: theme.spacing.small,\n  },\n  locationInput: {\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: theme.spacing.small,\n    backgroundColor: theme.colors.background,\n  },\n  suggestionsWrapper: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    zIndex: 1000,\n  },\n  suggestionsContainer: {\n    flex: 1,\n  },\n  suggestionItem: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  datePickersContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  selectedText: {\n    fontSize: theme.fontSizes.large + 2,\n    color: '#000000',\n    fontWeight: '1200',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.placeholderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedItem: {\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n    borderWidth: 8,\n    borderColor: theme.colors.primary,\n  },\n  dropdownIcon: {\n    width: 20,\n    height: 20,\n  },\n  itemContainer: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedChip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    marginRight: theme.spacing.small,\n    marginBottom: theme.spacing.small,\n  },\n  selectedChipText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: '#000000',\n    marginRight: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: theme.spacing.small,\n  },\n  dropdownItemSelected: {\n    backgroundColor: 'white',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 4,\n    margin: 2,\n  },\n  dropdownItemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItemTextSelected: {\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n});\n\nexport default SearchRefiner;","import React from 'react';\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst ProfessionalCard = ({ professional, onPress }) => {\n  const navigation = useNavigation();\n  \n  const handlePress = () => {\n    navigation.navigate('ProfessionalProfile', { \n      professional: professional \n    });\n  };\n\n  return (\n    <TouchableOpacity style={styles.listItem} onPress={handlePress}>\n      <Image \n        source={{ uri: professional.profilePicture }} \n        style={styles.profileImage}\n      />\n      <View style={styles.infoContainer}>\n        <View style={styles.header}>\n          <Text style={styles.name}>{professional.id}. {professional.name}</Text>\n          <View style={styles.starProfessionalBadge}>\n            <Text style={styles.price}>from ${professional.price}/night</Text>\n            {/* <Text style={styles.starProfessionalText}>Star Professional</Text> */}\n          </View>\n        </View>\n        <Text style={styles.location}>{professional.location}</Text>\n        <View style={styles.stats}>\n          <View style={styles.rating}>\n            <MaterialCommunityIcons name=\"star\" size={16} color={theme.colors.primary} />\n            <Text style={styles.ratingText}>{professional.rating ? professional.rating : '4.5'}</Text>\n            <Text style={styles.reviews}>- {professional.reviewCount ? professional.reviewCount : '52'} reviews</Text>\n          </View>\n        </View>\n        \n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst ProfessionalList = ({ professionals, onLoadMore, onProfessionalSelect }) => {\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={professionals}\n        renderItem={({ item }) => (\n          <ProfessionalCard \n            professional={item}\n            onPress={onProfessionalSelect}\n          />\n        )}\n        keyExtractor={item => item.id}\n        onEndReached={onLoadMore}\n        onEndReachedThreshold={0.5}\n        contentContainerStyle={styles.listContent}\n        style={styles.list}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  list: {\n    flex: 1,\n    height: '100%',\n  },\n  listContent: {\n    flexGrow: 1,\n  },\n  listItem: {\n    flexDirection: 'row',\n    padding: theme.spacing.medium,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: theme.spacing.medium,\n  },\n  infoContainer: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing.small,\n  },\n  name: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starProfessionalBadge: {\n    backgroundColor: theme.colors.primary,\n    padding: 4,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  starProfessionalText: {\n    fontSize: theme.fontSizes.small + 2,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  rating: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  ratingText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  reviews: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginLeft: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  repeats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  price: {\n    fontSize: theme.fontSizes.medium + 2,\n    fontWeight: 'bold',\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default ProfessionalList;","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { theme } from '../styles/theme';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default marker icons in Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nconst MapView = ({ professionals, onMarkerPress, region }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <WebMapComponent\n        professionals={professionals}\n        onMarkerPress={onMarkerPress}\n        region={region}\n      />\n    );\n  }\n\n  return (\n    <NativeMapComponent\n      professionals={professionals}\n      onMarkerPress={onMarkerPress}\n      region={region}\n    />\n  );\n};\n\nconst WebMapComponent = ({ professionals, onMarkerPress, region }) => {\n  const NumberedMarkerIcon = (number) => {\n    return L.divIcon({\n      className: 'custom-marker',\n      html: `<div style=\"\n        background-color: ${theme.colors.primary};\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: bold;\n      \">${number}</div>`,\n    });\n  };\n\n  return (\n    <div style={styles.mapContainer}>\n      <MapContainer\n        center={[region.latitude, region.longitude]}\n        zoom={13}\n        style={{ height: 'calc(100vh - 64px)', width: '100%' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {professionals.map((professional, index) => (\n          <Marker\n            key={professional.id}\n            position={[professional.coordinates.latitude, professional.coordinates.longitude]}\n            icon={NumberedMarkerIcon(index + 1)}\n            eventHandlers={{\n              click: () => onMarkerPress(professional),\n            }}\n          >\n            <Popup>\n              <div style={styles.popupContent}>\n                <h3>{index + 1}. {professional.name}</h3>\n                <p>{professional.location}</p>\n                <p>Starting at ${professional.startingRate}/night</p>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n      </MapContainer>\n    </div>\n  );\n};\n\nconst NativeMapComponent = ({ professionals, onMarkerPress, region }) => {\n  return (\n    <View style={styles.mapContainer}>\n      {/* Implement native map component here if needed */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mapContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    // height: 'calc(100vh - 64px)',\n  },\n  map: {\n    flex: 1,\n  },\n  markerContainer: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 20,\n    padding: theme.spacing.small,\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  markerText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  calloutContainer: {\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.small,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  calloutText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  popupContent: {\n    padding: 10,\n  },\n});\n\nexport default MapView;","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, Dimensions, TouchableOpacity, Text, useWindowDimensions } from 'react-native';\nimport SearchRefiner from '../components/SearchRefiner';\nimport ProfessionalList from '../components/ProfessionalList';\nimport MapView from '../components/MapView';\nimport { theme } from '../styles/theme';\nimport { mockProfessionals } from '../data/mockData'; // Import mock data\nimport MaterialCommunityIcons from '@expo/vector-icons/MaterialCommunityIcons';\n\nconst SearchProfessionalsListing = ({ navigation, route }) => {\n  const { width } = useWindowDimensions();\n  const isMobile = width < 1000;\n  const [activeView, setActiveView] = useState(isMobile ? 'filters' : 'all');\n  const [professionals, setProfessionals] = useState(mockProfessionals); // Use mock data\n  const [filters, setFilters] = useState({});\n  const [region, setRegion] = useState({\n    latitude: 38.8339,\n    longitude: -104.8214,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421,\n  });\n\n  useEffect(() => {\n    // Update active view when screen size changes\n    setActiveView(width < 1000 ? 'filters' : 'all');\n  }, [width]);\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', () => {\n      if (isMobile) {\n        setActiveView('filters');\n      }\n    });\n\n    return unsubscribe;\n  }, [navigation, isMobile]);\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    // Implement filtering logic here\n  };\n\n  const handleLoadMore = () => {\n    // Implement pagination logic\n  };\n\n  const handleProfessionalSelect = (professional) => {\n    navigation.navigate('ProfessionalProfile', { professional });\n  };\n\n  const renderContent = () => {\n    if (!isMobile) {\n      return (\n        <View style={styles.container}>\n          <View style={styles.filterColumn}>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n          </View>\n          <View style={styles.listColumn}>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </View>\n          <View style={styles.mapColumn}>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </View>\n        </View>\n      );\n    }\n\n    // Mobile view\n    return (\n      <View style={styles.containerMobile}>\n        {activeView === 'filters' && (\n          <>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n            <TouchableOpacity \n              style={styles.searchButton}\n              onPress={() => setActiveView('list')}\n            >\n              <Text style={styles.searchButtonText}>Search</Text>\n            </TouchableOpacity>\n          </>\n        )}\n        \n        {activeView === 'list' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <Text style={styles.mobileHeaderText}>Professionals</Text>\n              <View style={styles.mobileHeaderRight}>\n                <TouchableOpacity onPress={() => setActiveView('filters')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"filter\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => setActiveView('map')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"map\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </>\n        )}\n        \n        {activeView === 'map' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <TouchableOpacity onPress={() => setActiveView('list')}>\n                <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </>\n        )}\n      </View>\n    );\n  };\n\n  return renderContent();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    height: 'calc(100vh - 64px)',\n    maxHeight: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n  },\n  column: {\n    flex: 1,\n  },\n  filterColumn: {\n    flex: Platform.OS === 'web' ? 0.25 : 1,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  listColumn: {\n    flex: Platform.OS === 'web' ? 0.4 : 1,\n    backgroundColor: theme.colors.background,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  mapColumn: {\n    flex: Platform.OS === 'web' ? 0.35 : 1,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  mobileNav: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n  },\n  navButton: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n  },\n  activeNavButton: {\n    backgroundColor: theme.colors.secondary,\n    borderRadius: 5,\n  },\n  navButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  containerMobile: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderBottomWidth: 2,\n    padding: 10,\n    marginHorizontal: 10,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeaderText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  headerIcon: {\n    padding: 8,\n    marginLeft: 16,\n  },\n  mapButton: {\n    marginLeft: 20,\n  },\n  searchButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  searchButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default SearchProfessionalsListing;\n\n","// components/BookingCard.js\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst BookingCard = ({ booking, type, onViewDetails, onCancel }) => {\n  const { id, status, date, time } = booking;\n  const name = type === 'professional' ? booking.clientName : booking.professionalName;\n\n  return (\n    <TouchableOpacity \n      style={styles.card}\n      onPress={() => onViewDetails()}\n      activeOpacity={0.7}\n    >\n      <View>\n        <View style={styles.header}>\n          <Text style={styles.bookingId}>Booking #{id}</Text>\n          <Text style={[\n            styles.status,\n            { color: status === 'Confirmed' ? theme.colors.success : theme.colors.warning }\n          ]}>\n            {status}\n          </Text>\n        </View>\n\n        <Text style={styles.name}>\n          {type === 'professional' ? 'Client: ' : 'Professional: '}{name}\n        </Text>\n        \n        <Text style={styles.datetime}>\n          {date} at {time}\n        </Text>\n\n        <View style={styles.buttonContainer}>\n          <TouchableOpacity\n            style={[styles.button, styles.viewButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onViewDetails();\n            }}\n          >\n            <Text style={styles.buttonText}>View Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity\n            style={[styles.button, styles.cancelButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onCancel();\n            }}\n          >\n            <Text style={[styles.buttonText, styles.cancelButtonText]}>\n              Cancel Booking\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  bookingId: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  status: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  name: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  datetime: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  button: {\n    flex: 1,\n    padding: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  viewButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, FlatList, TouchableOpacity, ActivityIndicator, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport BookingCard from '../components/BookingCard';\nimport { mockProfessionalBookings, mockClientBookings } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyBookings = () => {\n  const navigation = useNavigation();\n  const { isApprovedProfessional, userRole, is_DEBUG } = useContext(AuthContext);\n  const [activeTab, setActiveTab] = useState(userRole === 'professional' ? 'professional' : 'client');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Handle role changes\n  useEffect(() => {\n    if (userRole === 'professional' && isApprovedProfessional) {\n      setActiveTab('professional');\n    }\n  }, [userRole, isApprovedProfessional]);\n\n  const fetchBookings = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Real API call logic\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      if (is_DEBUG) {\n        console.log('Fetching real bookings:', {\n          isApprovedProfessional,\n          userRole,\n          activeTab\n        });\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (activeTab === 'professional') {\n        setBookings(response.data.bookings.professional_bookings || []);\n      } else {\n        setBookings(response.data.bookings.client_bookings || []);\n      }\n    } catch (error) {\n      console.error('Error fetching bookings:', error);\n      setError('Failed to fetch bookings');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch bookings when component mounts or when dependencies change\n  useEffect(() => {\n    if (is_DEBUG) {\n      console.log('Fetching bookings due to dependency change:', {\n        activeTab,\n        userRole,\n        isApprovedProfessional\n      });\n    }\n    fetchBookings();\n  }, [activeTab, userRole, isApprovedProfessional]);\n\n  // Handle search\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n    \n    if (!query.trim()) {\n      fetchBookings();\n      return;\n    }\n\n    const searchLower = query.toLowerCase();\n    const filtered = bookings.filter(booking => {\n      if (activeTab === 'professional') {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.clientName.toLowerCase().includes(searchLower)\n        );\n      } else {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.professionalName.toLowerCase().includes(searchLower)\n        );\n      }\n    });\n\n    setBookings(filtered);\n  };\n\n  const handleViewDetails = async (booking) => {\n    if (is_DEBUG) {\n      console.log('Navigating to booking details:', {\n        bookingId: booking.booking_id || booking.id,\n        isProfessional: activeTab === 'professional'\n      });\n    }\n    \n    await navigateToFrom(navigation, 'BookingDetails', 'MyBookings', {\n      bookingId: booking.booking_id || booking.id,\n      isProfessional: activeTab === 'professional'\n    });\n  };\n\n  const handleCancelBooking = async (bookingId) => {\n    // Implement booking cancellation logic\n    if (is_DEBUG) {\n      console.log('Cancel booking:', bookingId);\n    }\n  };\n\n  const renderBookingCard = ({ item }) => (\n    <BookingCard\n      booking={{\n        id: item.booking_id || item.id,\n        clientName: item.client_name || item.clientName,\n        professionalName: item.professional_name || item.professionalName,\n        serviceName: item.service_type || item.serviceName,\n        date: item.start_date || item.date,\n        time: item.start_time || item.time,\n        status: item.status\n      }}\n      type={activeTab}\n      onViewDetails={() => handleViewDetails(item)}\n      onCancel={() => handleCancelBooking(item.booking_id || item.id)}\n    />\n  );\n\n  const EmptyStateMessage = () => (\n    <View style={styles.emptyStateContainer}>\n      <MaterialCommunityIcons \n        name={error ? \"alert-circle-outline\" : \"calendar-blank-outline\"} \n        size={64} \n        color={error ? theme.colors.error : theme.colors.primary} \n      />\n      <Text style={styles.emptyStateTitle}>\n        {error ? 'Error Getting Bookings' : 'No Bookings Found'}\n      </Text>\n      <Text style={styles.emptyStateSubtitle}>\n        {error \n          ? 'There was an error fetching your bookings. Please try again later.' \n          : activeTab === 'professional' \n            ? isApprovedProfessional \n              ? 'Create a service to start receiving bookings'\n              : 'Apply to become a professional to start receiving bookings'\n            : 'Browse available services to make your first booking'\n        }\n      </Text>\n      {!error && (\n        <TouchableOpacity\n          style={styles.createServiceButton}\n          onPress={() => navigation.navigate(\n            activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'ServiceManager'\n                : 'BecomeProfessional'\n              : 'SearchProfessionalsListing'\n          )}\n        >\n          <Text style={styles.createServiceButtonText}>\n            {activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'Create Service'\n                : 'Become Professional'\n              : 'Browse Services'\n            }\n          </Text>\n        </TouchableOpacity>\n      )}\n      {error && (\n        <TouchableOpacity\n          style={styles.retryButton}\n          onPress={fetchBookings}\n        >\n          <Text style={styles.retryButtonText}>Retry</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"My Bookings\"\n        onBackPress={() => handleBack(navigation)} // Use default 'More' route\n      />\n      \n      <View style={styles.container}>\n      {isApprovedProfessional && (\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n            onPress={() => setActiveTab('professional')}\n          >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>\n                Professional Bookings\n              </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n              <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>\n                Client Bookings\n              </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      <View style={styles.searchContainer}>\n          <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.placeholder} />\n        <TextInput\n          style={styles.searchInput}\n            placeholder=\"Search by Booking ID or Name\"\n          value={searchQuery}\n          onChangeText={handleSearch}\n        />\n      </View>\n\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n        ) : bookings.length > 0 ? (\n        <FlatList\n          data={bookings}\n          renderItem={renderBookingCard}\n          keyExtractor={item => (item.booking_id || item.id || Math.random().toString()).toString()}\n          contentContainerStyle={styles.listContainer}\n        />\n        ) : (\n          <EmptyStateMessage />\n      )}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    maxWidth: Platform.OS === 'web' ? 632 : 600, // 600 + padding for scrollbar\n    alignSelf: 'center',\n    padding: 16,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    maxHeight: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    backgroundColor: theme.colors.background,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  tab: {\n    flex: 1,\n    padding: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.primary,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeTabText: {\n    color: theme.colors.surface,\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 8,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  listContainer: {\n    paddingBottom: 16,\n    paddingHorizontal: Platform.OS === 'web' ? 16 : 0, // Space for scrollbar\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n  },\n  emptyStateTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginTop: 16,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  emptyStateSubtitle: {\n    fontSize: 16,\n    color: theme.colors.placeholder,\n    textAlign: 'center',\n    marginTop: 8,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  createServiceButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  createServiceButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  retryButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default MyBookings;","import React, { useState } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst AddRateModal = ({ visible, onClose, onAdd }) => {\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleAdd = () => {\n    if (!name || !amount) return;\n    onAdd({\n      name,\n      amount: parseFloat(amount),\n      description\n    });\n    setName('');\n    setAmount('');\n    setDescription('');\n    onClose();\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Add New Rate</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Rate Name *</Text>\n            <TextInput\n              style={styles.input}\n              value={name}\n              onChangeText={setName}\n              placeholder=\"Enter rate name\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Amount *</Text>\n            <TextInput\n              style={styles.input}\n              value={amount}\n              onChangeText={setAmount}\n              keyboardType=\"numeric\"\n              placeholder=\"Enter amount\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Description (optional)</Text>\n            <TextInput\n              style={[styles.input, styles.descriptionInput]}\n              value={description}\n              onChangeText={setDescription}\n              placeholder=\"Enter description\"\n              multiline\n            />\n          </View>\n\n          <TouchableOpacity\n            style={[styles.addButton, (!name || !amount) && styles.disabledButton]}\n            onPress={handleAdd}\n            disabled={!name || !amount}\n          >\n            <Text style={styles.addButtonText}>Add Rate</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  inputContainer: {\n    marginBottom: 15,\n  },\n  label: {\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  descriptionInput: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n});\n\nexport default AddRateModal;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, ActivityIndicator, TextInput, Alert, Platform, Modal } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { fetchBookingDetails, createBooking, updateBookingStatus, mockMessages, mockConversations, CURRENT_USER_ID, BOOKING_STATES } from '../data/mockData';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AddRateModal from '../components/AddRateModal';\nimport { format } from 'date-fns';\nimport AddOccurrenceModal from '../components/AddOccurrenceModal';\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { handleBack } from '../components/Navigation';\n\nconst LAST_VIEWED_BOOKING_ID = 'last_viewed_booking_id';\n\n// Replace with Services that professional offers\nconst SERVICE_OPTIONS = ['Dog Walking', 'Pet Sitting', 'House Sitting', 'Drop-In Visits'];\n// Replace with Animal types that the client owns\nconst ANIMAL_OPTIONS = ['Dog', 'Cat', 'Bird', 'Small Animal'];\n// Replace with the pets that the client has in their \"my pets\" tab\nconst PET_OPTIONS = [\n  { id: 'dog1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' },\n  { id: 'cat1', name: 'Luna', type: 'Cat', breed: 'Siamese' },\n  // Add more default options or fetch from an API\n];\n\nconst mockUpdateBookingPets = async (bookingId, pets) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst mockUpdateBookingService = async (bookingId, serviceDetails) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst formatDateWithoutTimezone = (dateString) => {\n  if (!dateString) return new Date();\n  // Split the date string to avoid timezone issues\n  const [year, month, day] = dateString.split('-').map(num => parseInt(num, 10));\n  return new Date(year, month - 1, day); // month is 0-based in JS Date\n};\n\nconst calculateTimeUnits = (startDate, endDate, startTime, endTime, timeUnit) => {\n  const start = new Date(`${startDate}T${startTime}`);\n  const end = new Date(`${endDate}T${endTime}`);\n  const diffMs = end - start;\n  \n  switch(timeUnit) {\n    case '15 min':\n      return Math.ceil(diffMs / (15 * 60 * 1000));\n    case '30 min':\n      return Math.ceil(diffMs / (30 * 60 * 1000));\n    case '45 min':\n      return Math.ceil(diffMs / (45 * 60 * 1000));\n    case '1 hr':\n      return Math.ceil(diffMs / (60 * 60 * 1000));\n    case '2 hr':\n      return Math.ceil(diffMs / (2 * 60 * 60 * 1000));\n    case '4 hr':\n      return Math.ceil(diffMs / (4 * 60 * 60 * 1000));\n    case '8 hr':\n      return Math.ceil(diffMs / (8 * 60 * 60 * 1000));\n    case '24 hr':\n    case 'per day':\n      return Math.ceil(diffMs / (24 * 60 * 60 * 1000));\n    case 'overnight':\n      return 1; // Overnight is typically counted as one unit\n    case 'per visit':\n      return 1; // Per visit is counted as one unit\n    default:\n      return 1;\n  }\n};\n\nconst calculateOccurrenceCost = (occurrence) => {\n  // If occurrence doesn't have rates, return 0\n  if (!occurrence.rates) {\n    return 0;\n  }\n  \n  const timeUnits = calculateTimeUnits(\n    occurrence.startDate,\n    occurrence.endDate,\n    occurrence.startTime,\n    occurrence.endTime,\n    occurrence.rates.timeUnit\n  );\n  \n  const baseTotal = occurrence.rates.baseRate * timeUnits;\n  const additionalRatesTotal = (occurrence.rates.additionalRates || [])\n    .reduce((sum, rate) => sum + parseFloat(rate.amount || 0), 0);\n    \n  return baseTotal + additionalRatesTotal;\n};\n\nconst RequestChangesModal = ({ visible, onClose, onSubmit, loading }) => {\n  const [reason, setReason] = useState('');\n\n  return (\n    <Modal visible={visible} transparent animationType=\"fade\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Changes</Text>\n          <TextInput\n            style={styles.reasonInput}\n            placeholder=\"Enter reason for changes...\"\n            value={reason}\n            onChangeText={setReason}\n            multiline\n            numberOfLines={4}\n          />\n          <View style={styles.modalButtons}>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.cancelButton]}\n              onPress={onClose}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.submitButton]}\n              onPress={() => onSubmit(reason)}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\n              ) : (\n                <Text style={styles.submitButtonText}>Submit</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst BookingDetails = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { is_DEBUG } = useContext(AuthContext);\n  const [booking, setBooking] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isProfessionalView, setIsProfessionalView] = useState(false);\n  const [isPetsEditMode, setIsPetsEditMode] = useState(false);\n  const [isServiceEditMode, setIsServiceEditMode] = useState(false);\n  const [editedBooking, setEditedBooking] = useState({\n    serviceDetails: {\n      type: '',\n      animalType: '',\n      numberOfPets: 0\n    },\n    rates: {\n      additionalPetRate: 0,\n      holidayFee: 0,\n      weekendFee: 0,\n      extraServices: []\n    }\n  });\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [timeDropdownPosition, setTimeDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const timeInputRef = useRef(null);\n  const [showAddRateModal, setShowAddRateModal] = useState(false);\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showPetRateDropdown, setShowPetRateDropdown] = useState(false);\n  const [showAdditionalPetRate, setShowAdditionalPetRate] = useState(true);\n  const [showHolidayRate, setShowHolidayRate] = useState(true);\n  const [showWeekendRate, setShowWeekendRate] = useState(true);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [expandedOccurrenceId, setExpandedOccurrenceId] = useState(null);\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [isPetsSaving, setIsPetsSaving] = useState(false);\n  const [isServiceSaving, setIsServiceSaving] = useState(false);\n  const [showRequestChangesModal, setShowRequestChangesModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [availablePets, setAvailablePets] = useState([]);\n  const [isLoadingPets, setIsLoadingPets] = useState(false);\n  const [availableServices, setAvailableServices] = useState([]);\n  const [isLoadingServices, setIsLoadingServices] = useState(false);\n\n  useEffect(() => {\n    const fetchBooking = async () => {\n      setLoading(true);\n      \n      try {\n        let bookingId = route.params?.bookingId;\n        let initialData = route.params?.initialData;\n        let isProfessional = route.params?.isProfessional;\n        setIsProfessionalView(isProfessional);\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetching booking with params:', {\n            bookingId,\n            initialData,\n            isProfessional\n          });\n        }\n\n        // Real API call\n        if (!bookingId) {\n          navigation.replace('MyBookings');\n          return;\n        }\n\n        let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        const response = await axios.get(\n          `${API_BASE_URL}/api/bookings/v1/${bookingId}/?is_prorated=true`,\n          { headers: { Authorization: `Bearer ${token}` }}\n        );\n\n        // Transform API response to match the expected format\n        const transformedBooking = {\n          ...response.data,\n          id: response.data.booking_id,\n          clientName: response.data.client_name,\n          professionalName: response.data.professional_name,\n          serviceType: response.data.service_details.service_type,\n          animalType: response.data.service_details.animal_type,\n          numberOfPets: response.data.service_details.num_pets,\n          costs: response.data.cost_summary,\n          status: response.data.status\n        };\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetched and transformed booking data:', transformedBooking);\n        }\n        setBooking(transformedBooking);\n      } catch (error) {\n        console.error('Error fetching booking details:', error);\n        Alert.alert(\n          'Error',\n          'Unable to load booking details. Please try again.',\n          [{ text: 'OK', onPress: () => navigation.replace('MyBookings') }]\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBooking();\n  }, [route.params?.bookingId, navigation]);\n\n  // Add helper function to safely display data\n  const getDisplayValue = (value, placeholder = 'TBD') => {\n    if (value === null || value === undefined || value === '') {\n      return placeholder;\n    }\n    return value;\n  };\n\n  // Reset edit mode when component mounts or reloads\n  useEffect(() => {\n    setIsPetsEditMode(false);\n    setIsServiceEditMode(false);\n  }, []);\n\n  // Add this useEffect to properly initialize editedBooking\n  useEffect(() => {\n    if (booking) {\n      if (is_DEBUG) {\n        console.log('BookingDetails: Booking updated, current value:', booking);\n      }\n      setEditedBooking({\n        ...booking,\n        serviceDetails: {\n          type: booking.serviceType || '',\n          animalType: booking.animalType || '',\n          numberOfPets: (booking.pets || []).length  // Initialize based on pets array length\n        },\n        rates: {\n          additionalPetRate: booking.rates?.additionalPetRate ?? 0,\n          holidayFee: booking.rates?.holidayFee ?? 0,\n          weekendFee: booking.rates?.weekendFee ?? 0,\n          extraServices: booking.rates?.extraServices || []\n        }\n      });\n    }\n  }, [booking]);\n\n  const canEdit = () => {\n\n    if (!booking) {\n      console.log('BookingDetails: Booking is undefined');\n      return false;\n    }\n\n    if (is_DEBUG) {\n      console.log('Booking edit ability:', booking.can_edit);\n    }\n\n    // For real API mode, use the backend's can_edit field\n    return booking.can_edit;\n  };\n\n  // Add function to fetch available pets\n  const fetchAvailablePets = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available pets with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingPets(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/available_pets/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailablePets(response.data);\n      if (is_DEBUG) {\n        console.log('available pets:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available pets:', error);\n      Alert.alert('Error', 'Failed to fetch available pets');\n    } finally {\n      setIsLoadingPets(false);\n    }\n  };\n\n  const togglePetsEditMode = async () => {\n    if (isPetsEditMode) {\n      // Save changes\n      try {\n        setIsPetsSaving(true);\n        \n        setBooking(prev => ({\n          ...prev,\n          pets: selectedPets\n        }));\n        setIsPetsEditMode(false);\n      } catch (error) {\n        console.error('Error updating pets:', error);\n        Alert.alert('Error', 'Failed to update pets');\n      } finally {\n        setIsPetsSaving(false);\n      }\n    } else {\n      setSelectedPets(booking.pets || []);\n      setIsPetsEditMode(true);\n    }\n  };\n\n  const renderPetSelector = () => {\n    if (!isPetsEditMode) {\n      return (\n        <View>\n          {booking?.pets?.length > 0 ? (\n            booking.pets.map((pet, index) => (\n              <View key={index} style={styles.petRow}>\n                <Text style={styles.petName}>\n                  {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n                </Text>\n              </View>\n            ))\n          ) : (\n            <Text style={styles.noContentText}>No pets added to this booking</Text>\n          )}\n        </View>\n      );\n    }\n\n    return (\n      <View>\n        {selectedPets.map((pet, index) => (\n          <View key={index} style={styles.petRow}>\n            <Text style={styles.petName}>\n              {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n            </Text>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter((_, i) => i !== index))}\n            >\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity\n          style={styles.addPetButton}\n          onPress={async () => {\n            if (!showPetDropdown) {\n              await fetchAvailablePets();\n            }\n            setShowPetDropdown(!showPetDropdown);\n          }}\n        >\n          <Text style={styles.addPetText}>Add Pet</Text>\n          <MaterialCommunityIcons \n            name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.text} \n          />\n        </TouchableOpacity>\n\n        {showPetDropdown && (\n          <View style={styles.dropdownList}>\n            <ScrollView nestedScrollEnabled={true} style={{ maxHeight: 200 }}>\n              {isLoadingPets ? (\n                <ActivityIndicator style={{ padding: 10 }} />\n              ) : (\n                availablePets.filter(pet => !selectedPets.some(selected => selected.pet_id === pet.pet_id))\n                  .map((pet) => (\n                    <TouchableOpacity\n                      key={pet.pet_id || pet.id}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        setSelectedPets(prev => [...prev, pet]);\n                        setShowPetDropdown(false);\n                      }}\n                    >\n                      <Text style={styles.dropdownText}>\n                        {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n                      </Text>\n                    </TouchableOpacity>\n                  ))\n              )}\n              {!isLoadingPets && availablePets.length === 0 && (\n                <Text style={styles.noContentText}>No pets available</Text>\n              )}\n            </ScrollView>\n          </View>\n        )}\n      </View>\n    );\n  };\n\n  // Add function to fetch available services\n  const fetchAvailableServices = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available services with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingServices(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/available_services/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailableServices(response.data);\n      if (is_DEBUG) {\n        console.log('available services:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available services:', error);\n      Alert.alert('Error', 'Failed to fetch available services');\n    } finally {\n      setIsLoadingServices(false);\n    }\n  };\n\n  const toggleServiceEditMode = async () => {\n    if (isServiceEditMode) {\n      // Save changes\n      try {\n        setIsServiceSaving(true);\n        \n        setBooking(prev => ({\n          ...prev,\n          service_details: editedBooking.service_details\n        }));\n        setIsServiceEditMode(false);\n      } catch (error) {\n        console.error('Error updating service:', error);\n        Alert.alert('Error', 'Failed to update service details');\n      } finally {\n        setIsServiceSaving(false);\n      }\n    } else {\n      setEditedBooking(prev => ({\n        ...prev,\n        service_details: {\n          ...booking.service_details\n        }\n      }));\n      await fetchAvailableServices();\n      setIsServiceEditMode(true);\n    }\n  };\n\n  const StatusBadge = ({ status }) => (\n    <View style={styles.statusContainer}>\n      <Text style={styles.statusLabel}>Booking Status:</Text>\n      <View style={[\n        styles.statusBadge,\n        { backgroundColor: getStatusColor(status).backgroundColor }\n      ]}>\n        <Text style={[\n          styles.statusText,\n          { color: getStatusColor(status).textColor }\n        ]}>\n          {status}\n        </Text>\n      </View>\n    </View>\n  );\n\n  const getStatusColor = (status) => {\n    const colors = {\n      Pending: { backgroundColor: theme.colors.warning + '20', textColor: theme.colors.warning },\n      Confirmed: { backgroundColor: theme.colors.success + '20', textColor: theme.colors.success },\n      Canceled: { backgroundColor: theme.colors.error + '20', textColor: theme.colors.error },\n      Completed: { backgroundColor: theme.colors.primary + '20', textColor: theme.colors.primary },\n    };\n    return colors[status] || colors.Pending;\n  };\n\n  const handleRemoveService = (index) => {\n    // Add this function since it's referenced in the code\n    if (is_DEBUG) {\n      console.log('Removing service at index:', index);\n    }\n  };\n\n  const renderEditButton = () => (\n    canEdit() && (\n      <TouchableOpacity \n        onPress={togglePetsEditMode}\n        style={[styles.editButton, isPetsEditMode && styles.saveButton]}\n        testID=\"edit-button\"\n        disabled={isPetsSaving}\n      >\n        {isPetsSaving ? (\n          <ActivityIndicator size=\"small\" color={theme.colors.primary} />\n        ) : (\n          isPetsEditMode ? (\n            <Text style={styles.saveButtonText}>Save Pets</Text>\n          ) : (\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          )\n        )}\n      </TouchableOpacity>\n    )\n  );\n\n  const handleUpdatePets = (text) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      serviceDetails: {\n        ...prev.serviceDetails,\n        numberOfPets: text\n      }\n    }));\n  };\n\n  const handleUpdateDuration = (newDuration) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      duration: parseInt(newDuration),\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const handleRemoveRate = (index) => {\n    const updatedRates = [...editedBooking.rates.extraServices];\n    updatedRates.splice(index, 1);\n    \n    setEditedBooking(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        extraServices: updatedRates\n      }\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const recalculateTotals = async () => {\n    try {\n      const baseTotal = editedBooking.rates.baseRate * editedBooking.quantity;\n      const extraServicesTotal = editedBooking.rates.extraServices.reduce((sum, service) => sum + service.amount, 0);\n      const holidayFee = editedBooking.rates.holidayFee || 0;\n      const weekendFee = editedBooking.rates.weekendFee || 0;\n      \n      // Calculate additional pet fees (assuming 1 pet included in base rate)\n      const additionalPets = Math.max(0, editedBooking.numberOfPets - 1);\n      const additionalPetTotal = additionalPets * (editedBooking.rates.additionalPetRate || 0);\n      \n      const subtotal = baseTotal + extraServicesTotal + holidayFee + weekendFee + additionalPetTotal;\n      const clientFee = subtotal * 0.10;\n      const taxes = subtotal * 0.09;\n      const totalClientCost = subtotal + clientFee + taxes;\n      const professionalPayout = subtotal * 0.90;\n\n      setEditedBooking(prev => ({\n        ...prev,\n        costs: {\n          baseTotal,\n          extraServicesTotal,\n          additionalPetTotal,\n          subtotal,\n          clientFee,\n          taxes,\n          totalClientCost,\n          professionalPayout\n        }\n      }));\n    } catch (error) {\n      console.error('Error recalculating totals:', error);\n    }\n  };\n\n  const calculateTotalCosts = (occurrences) => {\n    const subtotal = occurrences.reduce((sum, occ) => \n      sum + parseFloat(occ.calculated_cost || 0), 0);\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n    const totalSitterPayout = subtotal * 0.90; // 90% of subtotal goes to sitter\n    \n    return {\n      subtotal,\n      platform_fee: platformFee,\n      taxes,\n      total_client_cost: totalClientCost,\n      total_sitter_payout: totalSitterPayout\n    };\n  };\n\n  const handleSaveOccurrence = async (updatedOccurrence) => {\n    if (is_DEBUG) {\n      console.log('Saving occurrence:', updatedOccurrence);\n    }\n\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n\n      // Transform the occurrence data for the backend\n      const occurrenceData = {\n        occurrence_id: updatedOccurrence.id || updatedOccurrence.occurrence_id,  // Try both id and occurrence_id\n        start_date: updatedOccurrence.startDate,\n        end_date: updatedOccurrence.endDate,\n        start_time: updatedOccurrence.startTime,\n        end_time: updatedOccurrence.endTime,\n        rates: {\n          base_rate: updatedOccurrence.rates.baseRate,\n          additional_animal_rate: updatedOccurrence.rates.additionalAnimalRate,\n          applies_after: updatedOccurrence.rates.appliesAfterAnimals,\n          unit_of_time: updatedOccurrence.rates.timeUnit.toUpperCase().replace(/ /g, '_'),\n          holiday_rate: updatedOccurrence.rates.holidayRate,\n          holiday_days: 0,\n          additional_rates: updatedOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${rate.amount}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending occurrence data to backend:', occurrenceData);\n      }\n\n      // Real API mode\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // First update the occurrence\n      const updateResponse = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend update response:', updateResponse.data);\n      }\n\n      // Then fetch the latest booking data to ensure we have the most up-to-date state\n      const bookingResponse = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/?is_prorated=true`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Fetched updated booking data:', bookingResponse.data);\n      }\n\n      // Transform API response to match the expected format\n      const transformedBooking = {\n        ...bookingResponse.data,\n        id: bookingResponse.data.booking_id,\n        clientName: bookingResponse.data.client_name,\n        professionalName: bookingResponse.data.professional_name,\n        serviceType: bookingResponse.data.service_details.service_type,\n        animalType: bookingResponse.data.service_details.animal_type,\n        numberOfPets: bookingResponse.data.service_details.num_pets,\n        costs: bookingResponse.data.cost_summary,\n        status: bookingResponse.data.status\n      };\n\n      // Update the booking state with the fresh data\n      setBooking(transformedBooking);\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error saving occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to save occurrence details');\n    }\n  };\n\n  const handleAddOccurrence = async (newOccurrence) => {\n    try {\n      if (!booking) return;\n\n      if (is_DEBUG) {\n        console.log('Adding new occurrence:', newOccurrence);\n      }\n\n      // Real API mode\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Transform the occurrence data to match backend expectations\n      const occurrenceData = {\n        start_date: newOccurrence.startDate,\n        end_date: newOccurrence.endDate,\n        start_time: newOccurrence.startTime,\n        end_time: newOccurrence.endTime,\n        rates: {\n          base_rate: newOccurrence.rates.baseRate,\n          additional_animal_rate: newOccurrence.rates.additionalAnimalRate,\n          applies_after: newOccurrence.rates.appliesAfterAnimals,\n          holiday_rate: newOccurrence.rates.holidayRate,\n          unit_of_time: newOccurrence.rates.timeUnit.toUpperCase().replace(' ', '_'),\n          additional_rates: newOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${parseFloat(rate.amount).toFixed(2)}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending new occurrence data to backend:', occurrenceData);\n      }\n\n      const response = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend response:', response.data);\n      }\n\n      // Update booking status and data from response\n      if (response.data.booking_status) {\n        setBooking(prevBooking => ({\n          ...prevBooking,\n          status: response.data.booking_status\n        }));\n      }\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to add occurrence');\n    }\n  };\n\n  const handleStatusUpdateAfterEdit = async () => {\n    if (!booking) return;\n\n    // If booking is already in a pending changes state, no need to update\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n    ].includes(booking.status)) {\n      return;\n    }\n\n    // Update status based on current status\n    let newStatus;\n    if (booking.status === BOOKING_STATES.CONFIRMED) {\n      newStatus = BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES;\n    } else {\n      newStatus = BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES;\n    }\n\n    await handleStatusUpdate(newStatus);\n  };\n\n  const handleDateTimeCardPress = (occurrence) => {\n    if (is_DEBUG) {\n      console.log('Original occurrence:', occurrence);\n    }\n\n    const transformedOccurrence = {\n      id: occurrence.occurrence_id,\n      occurrence_id: occurrence.occurrence_id,  // Make sure we set both id and occurrence_id\n      startDate: occurrence.start_date,\n      endDate: occurrence.end_date,\n      startTime: occurrence.start_time,\n      endTime: occurrence.end_time,\n      rates: {\n        baseRate: occurrence.rates?.base_rate?.toString() || '0',\n        additionalAnimalRate: occurrence.rates?.additional_animal_rate?.toString() || '0',\n        appliesAfterAnimals: occurrence.rates?.applies_after?.toString() || '1',\n        holidayRate: occurrence.rates?.holiday_rate?.toString() || '0',\n        timeUnit: occurrence.rates?.unit_of_time?.toLowerCase().replace(/_/g, ' ') || 'per visit',\n        additionalRates: (occurrence.rates?.additional_rates || [])\n          .filter(rate => rate.title !== 'Booking Details Cost')\n          .map(rate => ({\n            name: rate.title,\n            description: rate.description || '',\n            amount: (rate.amount?.replace(/[^0-9.]/g, '') || '0').toString()\n          }))\n      },\n      totalCost: occurrence.calculated_cost?.toString() || '0',\n      baseTotal: (occurrence.base_total?.replace(/[^0-9.]/g, '') || '0').toString(),\n      multiple: calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n    };\n\n    if (is_DEBUG) {\n      console.log('Transformed occurrence for modal:', transformedOccurrence);\n    }\n    setSelectedOccurrence(transformedOccurrence);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const getTimeUnitDisplay = (unit) => {\n    if (!unit) return 'per visit';\n    const formatted = unit.toLowerCase().replace('_', ' ');\n    return formatted;\n  };\n\n  const calculateMultiple = (baseTotal, baseRate) => {\n    if (!baseRate || baseRate === 0) return 0;\n    const total = parseFloat(baseTotal.replace('$', ''));\n    const rate = parseFloat(baseRate);\n    return (total / rate).toFixed(2);\n  };\n\n  const renderCostBreakdown = () => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>Cost Breakdown</Text>\n      \n      {(booking?.occurrences || []).map((occurrence, index) => (\n        <TouchableOpacity \n          key={index}\n          style={styles.occurrenceCostRow}\n          onPress={() => setExpandedOccurrenceId(\n            expandedOccurrenceId === occurrence.occurrence_id ? null : occurrence.occurrence_id\n          )}\n        >\n          <View style={styles.occurrenceCostHeader}>\n            <Text style={styles.occurrenceCostHeaderText}>\n              {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n              }\n            </Text>\n            <View style={styles.costAndIcon}>\n              <Text style={styles.occurrenceCost}>\n                ${parseFloat(occurrence.calculated_cost || 0).toFixed(2)}\n              </Text>\n              <MaterialCommunityIcons \n                name={expandedOccurrenceId === occurrence.occurrence_id ? \"chevron-up\" : \"chevron-down\"}\n                size={20} \n                color={theme.colors.text} \n              />\n            </View>\n          </View>\n          \n          {expandedOccurrenceId === occurrence.occurrence_id && (\n            <View style={styles.expandedCostDetails}>\n              <View style={styles.costDetailRow}>\n                <Text style={styles.costDetailText}>Base Rate ({getTimeUnitDisplay(occurrence.rates?.unit_of_time)}):</Text>\n                <Text style={styles.costDetailText}>\n                  ${parseFloat(occurrence.rates?.base_rate || 0).toFixed(2)} × {\n                    calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n                  } = ${parseFloat(occurrence.base_total.replace('$', '')).toFixed(2)}\n                </Text>\n              </View>\n              {occurrence.rates?.additional_animal_rate_applies && occurrence.rates?.additional_animal_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Additional Animal Rate (after {occurrence.rates.applies_after} animals):</Text>\n                  <Text style={styles.costDetailText}>${parseFloat(occurrence.rates.additional_animal_rate).toFixed(2)}</Text>\n                </View>\n              )}\n              {occurrence.rates?.holiday_days > 0 && occurrence.rates?.holiday_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Holiday Rate ({occurrence.rates.holiday_days} day{occurrence.rates.holiday_days > 1 ? 's' : ''}):</Text>\n                  <Text style={styles.costDetailText}>${(parseFloat(occurrence.rates.holiday_rate) * occurrence.rates.holiday_days).toFixed(2)}</Text>\n                </View>\n              )}\n              {(occurrence.rates?.additional_rates || [])\n                .filter(rate => rate.title !== 'Booking Details Cost')\n                .map((rate, idx) => (\n                  <View key={idx} style={styles.costDetailRow}>\n                    <Text style={styles.costDetailText}>{rate.title}:</Text>\n                    <Text style={styles.costDetailText}>${parseFloat(rate.amount.replace('$', '')).toFixed(2)}</Text>\n                  </View>\n              ))}\n            </View>\n          )}\n        </TouchableOpacity>\n      ))}\n\n      <View style={styles.costSummary}>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Subtotal:</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.subtotal || 0).toFixed(2)}</Text>\n        </View>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Platform Fee (10%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.platform_fee || 0).toFixed(2)}</Text>\n        </View>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Taxes (8%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.taxes || 0).toFixed(2)}</Text>\n        </View>\n        <View style={[styles.summaryRow, styles.totalRow]}>\n          <Text style={styles.totalLabel}>Total Cost to Client:</Text>\n          <Text style={styles.totalAmount}>\n            ${(booking?.cost_summary?.total_client_cost || 0).toFixed(2)}\n          </Text>\n        </View>\n        <View style={[styles.summaryRow, styles.payoutRow]}>\n          <Text style={styles.payoutLabel}>Sitter Payout:</Text>\n          <Text style={styles.payoutAmount}>\n            ${(booking?.cost_summary?.total_sitter_payout || 0).toFixed(2)}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const formatTimeString = (dateStr, timeStr) => {\n    if (!dateStr || !timeStr) return '';\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date(dateStr);\n    date.setHours(parseInt(hours, 10), parseInt(minutes, 10));\n    return format(date, 'h:mm a');\n  };\n\n  const sendBookingMessage = async (bookingId, recipientId, messageType) => {\n    try {\n      if (!booking) {\n        throw new Error('No booking data available');\n      }\n\n      if (is_DEBUG) {\n        console.log('Sending booking message:', {\n          bookingId,\n          recipientId,\n          messageType,\n          booking\n        });\n      }\n\n      // Find the existing conversation with Dr. Mike Johnson\n      const conversationId = 'conv_2'; // This is the existing conversation ID from mockData\n      if (is_DEBUG) {\n        console.log('Using existing conversation:', conversationId);\n      }\n\n      const bookingMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: CURRENT_USER_ID,\n        participant2_id: recipientId,\n        sender: CURRENT_USER_ID,\n        type: 'booking_request',\n        data: {\n          bookingId: bookingId,\n          messageType: messageType,\n          serviceType: booking.serviceType,\n          dates: booking.occurrences.map(occ => ({\n            startDate: occ.start_date,\n            endDate: occ.end_date,\n            startTime: occ.start_time,\n            endTime: occ.end_time\n          })),\n          totalCost: booking.costs.totalClientCost,\n          status: booking.status\n        },\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      // Add message to existing conversation\n      if (!mockMessages[conversationId]) {\n        mockMessages[conversationId] = [];\n      }\n      mockMessages[conversationId].push(bookingMessage);\n\n      // Update the conversation's last message\n      const conversation = mockConversations.find(conv => conv.id === conversationId);\n      if (conversation) {\n        conversation.lastMessage = \"Booking update sent\";\n        conversation.timestamp = new Date().toISOString();\n        conversation.unread = true;\n      }\n\n      if (is_DEBUG) {\n        console.log('Message sent successfully to conversation:', conversationId);\n        console.log('Updated conversation messages:', mockMessages[conversationId]);\n      }\n      return true;\n    } catch (error) {\n      console.error('Error sending booking message:', error);\n      return false;\n    }\n  };\n\n  const handleStatusUpdate = async (newStatus, reason = '', metadata = {}) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // First send the message\n      if (newStatus === BOOKING_STATES.PENDING_CLIENT_APPROVAL) {\n        const messageSent = await sendBookingMessage(\n          booking.id,\n          booking.clientId || 'client123',\n          'professional_changes'\n        );\n        if (!messageSent) {\n          throw new Error('Failed to send booking message');\n        }\n      }\n\n      // Then update the booking status\n      if (is_DEBUG) {\n        console.log('Updating booking status:', {\n          bookingId: booking.id,\n          currentStatus: booking.status,\n          newStatus,\n          reason,\n          metadata\n        });\n      }\n\n      const updatedBooking = await updateBookingStatus(\n        booking.id, \n        newStatus, \n        reason, \n        {\n          ...metadata,\n          occurrences: booking.occurrences,\n          costs: booking.costs\n        }\n      );\n\n      setBooking(updatedBooking);\n      setHasUnsavedChanges(false);\n      Alert.alert('Success', `Booking ${newStatus.toLowerCase()} successfully`);\n    } catch (error) {\n      console.error('Error updating booking status:', error);\n      Alert.alert('Error', 'Failed to update booking status');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n    }\n  };\n\n  const handleRequestChanges = async (reason) => {\n    await handleStatusUpdate(BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES, reason);\n    setShowRequestChangesModal(false);\n  };\n\n  const showConfirmation = (actionText, onConfirm) => {\n    setConfirmationModal({\n      visible: true,\n      actionText,\n      onConfirm,\n      isLoading: false\n    });\n  };\n\n  const hideConfirmation = () => {\n    setConfirmationModal({\n      visible: false,\n      actionText: '',\n      onConfirm: null,\n      isLoading: false\n    });\n  };\n\n  const renderActionButtons = () => {\n    if (!booking) return null;\n\n    const buttons = [];\n\n    if (isProfessionalView) {\n      // Send to Client button - Professional Only\n      if ([\n        BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"send\"\n            style={[styles.button, styles.primaryButton]}\n            onPress={() => showConfirmation(\n              'send these changes to the client',\n              () => handleStatusUpdate(BOOKING_STATES.PENDING_CLIENT_APPROVAL)\n            )}\n          >\n            <Text style={styles.buttonText}>Send to Client</Text>\n          </TouchableOpacity>\n        );\n      }\n\n      // Deny button - Professional Only\n      if (booking.status === BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"deny\"\n            style={[styles.button, styles.denyButton]}\n            onPress={() => showConfirmation(\n              'deny this booking',\n              () => handleStatusUpdate(BOOKING_STATES.DENIED)\n            )}\n          >\n            <Text style={styles.buttonText}>Deny</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    // Cancel button - Both Professional and Client\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n    ].includes(booking.status)) {\n      buttons.push(\n        <TouchableOpacity\n          key=\"cancel\"\n          style={[styles.button, styles.cancelButton]}\n          onPress={() => showConfirmation(\n            'cancel this booking',\n            () => handleStatusUpdate(BOOKING_STATES.CANCELLED)\n          )}\n        >\n          <Text style={styles.cancelButtonText}>Cancel Booking</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    // Client-specific buttons\n    if (!isProfessionalView) {\n      // Approve button - Client Only\n      if ([\n        BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n        BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"approve\"\n            style={[styles.button, styles.approveButton]}\n            onPress={() => showConfirmation(\n              'approve this booking',\n              () => handleStatusUpdate(BOOKING_STATES.CONFIRMED)\n            )}\n          >\n            <Text style={styles.buttonText}>Approve</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    return (\n      <View style={styles.actionButtonsContainer}>\n        {buttons}\n      </View>\n    );\n  };\n\n  // Add this effect to update editedBooking when booking changes\n  useEffect(() => {\n    if (booking) {\n      setEditedBooking(booking);\n    }\n  }, [booking]);\n\n  const handleServiceTypeChange = (newServiceType) => {\n    if (is_DEBUG) {\n      console.log('Previous editedBooking:', editedBooking);\n      console.log('New service type:', newServiceType);\n    }\n    \n    setEditedBooking(prev => {\n      const updated = {\n        ...prev,\n        serviceDetails: {\n          ...prev.serviceDetails,\n          type: newServiceType\n        }\n      };\n      if (is_DEBUG) {\n        console.log('Updated editedBooking:', updated);\n      }\n      return updated;\n    });\n  };\n\n  const renderServiceTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{editedBooking?.service_details?.service_type || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {isLoadingServices ? (\n              <ActivityIndicator style={{ padding: 10 }} />\n            ) : (\n              availableServices.map((service) => (\n                <TouchableOpacity\n                  key={service.service_id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setEditedBooking(prev => ({\n                      ...prev,\n                      service_details: {\n                        ...prev.service_details,\n                        service_type: service.service_name,\n                        service_id: service.service_id\n                      }\n                    }));\n                    setShowServiceDropdown(false);\n                  }}\n                >\n                  <Text style={[\n                    styles.dropdownText,\n                    editedBooking?.service_details?.service_type === (service.service_name) && styles.selectedOption\n                  ]}>\n                    {service.service_name}\n                  </Text>\n                </TouchableOpacity>\n              ))\n            )}\n            {!isLoadingServices && availableServices.length === 0 && (\n              <Text style={styles.noContentText}>No services available</Text>\n            )}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderAnimalTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowAnimalDropdown(!showAnimalDropdown)}\n      >\n        <Text>{editedBooking?.serviceDetails?.animalType || 'Select Animal Type'}</Text>\n        <MaterialCommunityIcons \n          name={showAnimalDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showAnimalDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {ANIMAL_OPTIONS.map((animal) => (\n              <TouchableOpacity\n                key={animal}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setEditedBooking(prev => ({\n                    ...prev,\n                    serviceDetails: {\n                      ...(prev.serviceDetails || {}),\n                      animalType: animal\n                    }\n                  }));\n                  setShowAnimalDropdown(false);\n                  handleStatusUpdateAfterEdit();\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  editedBooking?.serviceDetails?.animalType === animal && styles.selectedOption\n                ]}>\n                  {animal}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderDateTimeSection = () => (\n    <View>\n      <Text style={styles.sectionTitle}>\n        {canEdit() ? \"Dates & Times (Set Rates for Dates)\" : \"Dates & Times\"}\n      </Text>\n      {(booking?.occurrences || []).map((occurrence, index) => (\n        canEdit() ? (\n          <TouchableOpacity \n            key={index}\n            style={styles.occurrenceCard}\n            onPress={() => handleDateTimeCardPress(occurrence)}\n          >\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n            <View style={styles.occurrenceActions}>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => confirmDeleteOccurrence(occurrence.occurrence_id)}\n              >\n                <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => handleDateTimeCardPress(occurrence)}\n              >\n                <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n          </TouchableOpacity>\n        ) : (\n          <View key={index} style={styles.occurrenceCard}>\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n          </View>\n        )\n      ))}\n      \n      {canEdit() && (\n        <TouchableOpacity\n          style={styles.addOccurrenceButton}\n          onPress={() => {\n            setSelectedOccurrence(null);\n            setShowAddOccurrenceModal(true);\n          }}\n        >\n          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n          <Text style={styles.addOccurrenceText}>Add Occurrence</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  const handleDeleteOccurrence = async (occurrenceId) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      const updatedOccurrences = booking.occurrences.filter(occ => occ.occurrence_id !== occurrenceId);\n      \n      setBooking(prev => ({\n        ...prev,\n        occurrences: updatedOccurrences,\n        costs: calculateTotalCosts(updatedOccurrences)\n      }));\n      \n      handleStatusUpdateAfterEdit();\n    } catch (error) {\n      console.error('Error deleting occurrence:', error);\n      Alert.alert('Error', 'Failed to delete occurrence');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n      \n      setTimeout(() => {\n        setConfirmationModal({ \n          visible: false, \n          actionText: '', \n          onConfirm: null, \n          isLoading: false \n        });\n      }, 300);\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrenceId) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrenceId),\n      isLoading: false\n    });\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"Booking Details\"\n        onBackPress={() => handleBack(navigation)}\n      />\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      ) : !booking ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Unable to load booking details</Text>\n        </View>\n      ) : (\n        <ScrollView style={styles.container}>\n          <StatusBadge status={getDisplayValue(booking?.status, 'Pending Professional Changes')} />\n          \n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Booking Parties</Text>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Client: </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.clientName)}</Text>\n            </View>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Professional:  </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.professionalName)}</Text>\n            </View>\n          </View>\n\n          <View style={[styles.section, styles.petsSection]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Booking Pets</Text>\n              {renderEditButton()}\n            </View>\n            \n            {renderPetSelector()}\n          </View>\n\n          <View style={[styles.section, { zIndex: 2 }]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Service Details</Text>\n              {canEdit() && (\n                <TouchableOpacity \n                  onPress={toggleServiceEditMode}\n                  style={[styles.sectionEditButton, isServiceEditMode && styles.saveButton]}\n                  disabled={isServiceSaving}\n                  testID=\"edit-button\"\n                >\n                  {isServiceEditMode ? (\n                    isServiceSaving ? (\n                      <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n                    ) : (\n                      <Text style={styles.saveButtonText}>Save Service Details</Text>\n                    )\n                  ) : (\n                    <MaterialCommunityIcons \n                      name=\"pencil\"\n                      size={24} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </TouchableOpacity>\n              )}\n            </View>\n            {isServiceEditMode ? (\n              <View style={styles.serviceEditContainer}>\n                <View style={[styles.serviceInputRow, { zIndex: 3 }]}>\n                  <Text style={styles.inputLabel}>Service Type:</Text>\n                  <View style={styles.inputContainer}>\n                    {renderServiceTypeDropdown()}\n                  </View>\n                </View>\n              </View>\n            ) : (\n              <View style={styles.serviceDetailsContainer}>\n                <View style={styles.serviceDetailRow}>\n                  <Text style={styles.label}>Service Type: </Text>\n                  <Text style={styles.value}>{booking.service_details.service_type}</Text>\n                </View>\n              </View>\n            )}\n          </View>\n\n          <View style={[styles.section, styles.dateTimeSection]}>\n            {renderDateTimeSection()}\n          </View>\n\n          {renderCostBreakdown()}\n\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Cancellation Policy</Text>\n            <Text style={styles.policyText}>\n              • No refund if canceled within 1 hour of booking start time{'\\n'}\n              • 50% refund if canceled between 1-24 hours before start time{'\\n'}\n              • Full refund if canceled more than 24 hours before the booking\n            </Text>\n          </View>\n\n          {renderActionButtons()}\n\n          <RequestChangesModal\n            visible={showRequestChangesModal}\n            onClose={() => setShowRequestChangesModal(false)}\n            onSubmit={handleRequestChanges}\n            loading={actionLoading}\n          />\n        </ScrollView>\n      )}\n      <AddRateModal\n        visible={showAddRateModal}\n        onClose={() => setShowAddRateModal(false)}\n        onAdd={(newRate) => {\n          setEditedBooking(prev => ({\n            ...prev,\n            rates: {\n              ...prev.rates,\n              extraServices: [...(prev.rates.extraServices || []), newRate]\n            }\n          }));\n          recalculateTotals();\n          setShowAddRateModal(false);\n        }}\n      />\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => {\n          setShowAddOccurrenceModal(false);\n          setTimeout(() => {\n            setSelectedOccurrence(null);\n          }, 300);\n        }}\n        onAdd={selectedOccurrence ? \n          (updatedData) => handleSaveOccurrence({...updatedData, occurrence_id: selectedOccurrence.occurrence_id}) : \n          handleAddOccurrence}\n        defaultRates={booking?.rates}\n        initialOccurrence={selectedOccurrence}\n        isEditing={!!selectedOccurrence}\n      />\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: confirmationModal.actionText, \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  statusBadge: {\n    alignSelf: 'flex-start',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n  },\n  statusText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    position: 'relative',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n    fontWeight: '500',\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  text: {\n    fontSize: 16,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  totalRow: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 8,\n    marginTop: 8,\n  },\n  totalLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  policyText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  button: {\n    padding: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    padding: 8,\n    borderRadius: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  errorText: {  \n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  statusLabel: {\n    fontSize: 16,\n    marginRight: 8,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noContentText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  saveButtonText: {\n    color: 'white',\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editButton: {\n  },\n  editField: {\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  editableServiceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  removeServiceButton: {\n    marginLeft: 8,\n  },\n  editRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n    position: 'relative',\n  },\n  editInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    width: 80,\n    textAlign: 'right',\n  },\n  addRateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n  },\n  addRateText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    width: 150,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 4,\n    backgroundColor: theme.colors.surface,\n  },\n  timeDropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: '#FFFFFF',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    maxHeight: 200,\n    zIndex: 1001,\n    elevation: 5,\n    marginTop: 4,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: '#FFFFFF',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  bookingDatesSection: {\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  sectionSubtitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateTimeRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n  },\n  datePickerContainer: {\n    flex: 1,\n    marginRight: 10,\n  },\n  timePickerContainer: {\n    width: 120,\n  },\n  timePickerButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: '100%',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  rateSection: {\n    marginBottom: 20,\n    padding: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  rateSectionTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rateInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  rateInputGroup: {\n    flex: 1,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    fontSize: 14,\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  removeButton: {\n    padding: 4,\n  },\n  summarySection: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  rateHeaderRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n    paddingHorizontal: 4,\n  },\n  columnHeader: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountColumn: {\n    alignItems: 'flex-start',\n  },\n  rateActionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: 72,\n    gap: 8,\n  },\n  infoButton: {\n    padding: 4,\n  },\n  actionButtonsContainer: {\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    gap: 12,\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    padding: 16,\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n  },\n  reasonInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 16,\n    minHeight: 100,\n    textAlignVertical: 'top',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    gap: 12,\n  },\n  modalButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  submitButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  primaryButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  denyButton: {\n    backgroundColor: theme.colors.error,\n  },\n  serviceEditContainer: {\n    gap: 16,\n  },\n  serviceInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  inputContainer: {\n    width: 150, // Fixed width for dropdowns and number input\n  },\n  numberInput: {\n    height: 40,\n    width: 150, // Match the width of dropdowns\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    fontSize: 16,\n  },\n  serviceDetailsContainer: {\n    gap: 12,\n  },\n  serviceDetailRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  actionButton: {\n    padding: 8,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    minWidth: 140,  // Ensure enough width for the text\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '600',\n    fontSize: 14,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButtons: {\n    width: 72, // Approximate width of both buttons + gap\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginLeft: 20,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  occurrenceCostRow: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingVertical: 12,\n  },\n  occurrenceCostHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  occurrenceCostHeaderText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAndIcon: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  costSummary: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  expandedCostDetails: {\n    marginTop: 10,\n    paddingTop: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  costDetailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 4,\n  },\n  costDetailText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  sectionEditButton: {\n    padding: 8,\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  petDropdown: {\n    maxHeight: 200,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 8,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    zIndex: 1000,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownPetName: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  dropdownPetDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginTop: 2,\n  },\n  noPetsText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n  },\n  petsSection: {\n    zIndex: 3,\n    elevation: 3,\n  },\n  dateTimeSection: {\n    zIndex: 1,\n    elevation: 1,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n  },\n  clientName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  proName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceTypeLabel: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'normal',\n  },\n  petListTitle: {\n    fontSize: 16,\n    fontWeight: '900',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petInfo: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costBreakdownTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  costLabel: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateLabel: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateAmount: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailLabel: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailValue: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceCardDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  summaryText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingDetails;","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ActivityIndicator, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport ServiceManager from '../components/ServiceManager';\nimport AddServiceModal from '../components/AddServiceModal';\nimport { theme } from '../styles/theme';\nimport { DEFAULT_SERVICES } from '../data/mockData';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ServiceManagerScreen = () => {\n  const navigation = useNavigation();\n  const [services, setServices] = useState([]);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        setServices(DEFAULT_SERVICES);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        setIsLoading(false);\n      }\n    };\n\n    fetchServices();\n  }, []);\n\n  useEffect(() => {\n    const setRouteHistory = async () => {\n      const currentRoute = 'ServiceManager';\n      let previousRoute;\n\n      if (Platform.OS === 'web') {\n        previousRoute = sessionStorage.getItem('previousRoute');\n        sessionStorage.setItem('previousRoute', previousRoute || '');\n        sessionStorage.setItem('currentRoute', currentRoute);\n      } else {\n        previousRoute = await AsyncStorage.getItem('previousRoute');\n        await AsyncStorage.setItem('previousRoute', previousRoute || '');\n        await AsyncStorage.setItem('currentRoute', currentRoute);\n      }\n\n      if (!previousRoute) {\n        previousRoute = 'ProfessionalDashboard';\n        currentRoute = 'ServiceManager';\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('previousRoute', previousRoute || '');\n          sessionStorage.setItem('currentRoute', currentRoute);\n        } else {\n          await AsyncStorage.setItem('previousRoute', previousRoute || '');\n          await AsyncStorage.setItem('currentRoute', currentRoute);\n        }\n      }\n    };\n    setRouteHistory();\n  }, []);\n\n  const handleAddService = (newService) => {\n    setServices(prev => [...prev, newService]);\n    setHasUnsavedChanges(true);\n  };\n\n  if (isLoading) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => navigation.navigate('More')} \n        />\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} style={{ position: 'relative', zIndex: 1 }}>\n      <View style={{ position: 'relative', zIndex: 1 }}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => handleBack(navigation)} \n          style={{ zIndex: 1 }}\n        />\n      </View>\n      <View style={[styles.container, { marginTop: 20, position: 'relative', zIndex: 2 }]}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={false}\n        />\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 1,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyText: {\n    fontSize: 18,\n    color: theme.colors.text,\n    // marginBottom: 20,\n  },\n  addButton: {\n    paddingHorizontal: 20,\n  },\n});\n\nexport default ServiceManagerScreen; ","import React, { useState, useCallback } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  Image,\n  Platform,\n  TextInput\n} from 'react-native';\nimport { useTheme, Searchbar } from 'react-native-paper';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst BlogScreen = ({ navigation }) => {\n  const theme = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredPosts, setFilteredPosts] = useState(BLOG_POSTS);\n\n  const handleBack = () => {\n    navigation.navigate('More');\n  };\n\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n    const lowercaseQuery = query.toLowerCase();\n    const filtered = BLOG_POSTS.filter(post => \n      post.title.toLowerCase().includes(lowercaseQuery) ||\n      post.author.name.toLowerCase().includes(lowercaseQuery) ||\n      post.content.toLowerCase().includes(lowercaseQuery)\n    );\n    setFilteredPosts(filtered);\n  }, []);\n\n  const renderBlogPost = (post) => {\n    const truncatedContent = post.content.slice(0, 200) + '...';\n\n    return (\n      <TouchableOpacity\n        key={post.id}\n        style={[styles.blogCard, { backgroundColor: theme.colors.surface }]}\n        onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>{post.title}</Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}> • </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {truncatedContent}\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.map((tag, index) => (\n                <View \n                  key={index} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title=\"Blog\" \n        onBackPress={handleBack}\n      />\n      <View style={styles.searchBarContainer}>\n        {Platform.OS === 'web' ? (\n          <View style={[styles.searchBar, { backgroundColor: theme.colors.surface }]}>\n            <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.primary} />\n            <TextInput\n              placeholder=\"Search by title, author, or content\"\n              onChangeText={handleSearch}\n              value={searchQuery}\n              style={styles.webSearchInput}\n            />\n            {searchQuery ? (\n              <TouchableOpacity onPress={() => handleSearch('')}>\n                <MaterialCommunityIcons name=\"close-circle\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            ) : null}\n          </View>\n        ) : (\n          <Searchbar\n            placeholder=\"Search by title, author, or content\"\n            onChangeText={handleSearch}\n            value={searchQuery}\n            style={styles.searchBar}\n            icon=\"magnify\"\n            clearIcon=\"close-circle\"\n          />\n        )}\n      </View>\n      <ScrollView style={styles.scrollView}>\n        {filteredPosts.length > 0 ? (\n          filteredPosts.map(renderBlogPost)\n        ) : (\n          <View style={styles.noResultsContainer}>\n            <MaterialCommunityIcons \n              name=\"magnify-close\" \n              size={48} \n              color={theme.colors.secondary} \n            />\n            <Text style={[styles.noResultsText, { color: theme.colors.secondary }]}>\n              No blog posts found\n            </Text>\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  searchBarContainer: {\n    margin: 16,\n  },\n  searchBar: {\n    elevation: 4,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  searchInput: {\n    fontSize: 16,\n    color: theme.colors.text,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  blogCard: {\n    margin: 16,\n    padding: 16,\n    borderRadius: 12,\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 12,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noResultsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n  },\n  noResultsText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  webSearchInput: {\n    flex: 1,\n    padding: 8,\n    fontSize: 16,\n    color: theme.colors.text,\n    border: 'none',\n    backgroundColor: 'transparent',\n    WebkitTapHighlightColor: 'transparent',\n    outlineWidth: 0,\n    outlineStyle: 'none',\n    boxShadow: 'none',\n    borderColor: 'transparent',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogScreen;","import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  Linking,\n  Platform\n} from 'react-native';\nimport { useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\n\nconst BlogPost = ({ route, navigation }) => {\n  const [post, setPost] = useState(null);\n  const theme = useTheme();\n\n  // Validate post data structure\n  const isValidPost = (postData) => {\n    return postData && \n           typeof postData === 'object' && \n           postData.author && \n           typeof postData.author === 'object' &&\n           postData.author.name &&\n           postData.author.profilePicture &&\n           postData.author.bio &&\n           postData.title &&\n           postData.content &&\n           Array.isArray(postData.tags);\n  };\n\n  useEffect(() => {\n    const loadPost = async () => {\n      try {\n        // Try to get post from route params first\n        if (route?.params?.post && isValidPost(route.params.post)) {\n          setPost(route.params.post);\n          // Store the post data\n          if (Platform.OS === 'web') {\n            sessionStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          } else {\n            await AsyncStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          }\n          return;\n        }\n\n        // If no route params or invalid post, try to load from storage\n        let storedPost;\n        if (Platform.OS === 'web') {\n          storedPost = sessionStorage.getItem('currentBlogPost');\n        } else {\n          storedPost = await AsyncStorage.getItem('currentBlogPost');\n        }\n\n        if (storedPost) {\n          const parsedPost = JSON.parse(storedPost);\n          if (isValidPost(parsedPost)) {\n            setPost(parsedPost);\n            return;\n          }\n        }\n\n        // If no valid post found in storage, try to find it in BLOG_POSTS\n        if (route?.params?.postId) {\n          const foundPost = BLOG_POSTS.find(p => p.id === route.params.postId);\n          if (foundPost && isValidPost(foundPost)) {\n            setPost(foundPost);\n            return;\n          }\n        }\n\n        // If still no valid post, redirect to blog list\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      } catch (error) {\n        console.error('Error loading blog post:', error);\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      }\n    };\n\n    loadPost();\n  }, [route?.params]);\n\n  // If no post data is available, show an error state\n  if (!post || !isValidPost(post)) {\n    return (\n      <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n        <BackHeader \n          title=\"Blog Post\"\n          onBackPress={() => handleBack(navigation)}\n        />\n        <View style={styles.errorContainer}>\n          <MaterialCommunityIcons \n            name=\"alert-circle-outline\" \n            size={48} \n            color={theme.colors.error} \n          />\n          <Text style={[styles.errorText, { color: theme.colors.error }]}>\n            Blog post not found or invalid\n          </Text>\n          <TouchableOpacity\n            style={[styles.errorButton, { backgroundColor: theme.colors.primary }]}\n            onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost')}\n          >\n            <Text style={[styles.errorButtonText, { color: theme.colors.surface }]}>\n              Go to Blog List\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n\n  const handleReferencePress = (reference) => {\n    if (reference.url) {\n      Linking.openURL(reference.url);\n    } else if (reference.doi) {\n      Linking.openURL(`https://doi.org/${reference.doi}`);\n    }\n  };\n\n  return (\n    <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title={post.title}\n        onBackPress={() => handleBack(navigation)}\n      />\n      <ScrollView style={styles.container}>\n        <View style={styles.header}>\n          <View style={styles.authorContainer}>\n            <Image\n              source={{ uri: post.author.profilePicture }}\n              style={styles.authorImage}\n            />\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.authorBio}>{post.author.bio}</Text>\n              <View style={styles.postInfo}>\n                <Text style={styles.date}>{post.publishDate}</Text>\n                <Text style={styles.dot}> • </Text>\n                <Text style={styles.readTime}>{post.readTime}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.tags}>\n          {post.tags.map((tag, index) => (\n            <View \n              key={index} \n              style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n            >\n              <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n            </View>\n          ))}\n        </View>\n\n        <Text style={[styles.content, { color: theme.colors.text }]}>{post.content}</Text>\n\n        <View style={styles.stats}>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"heart-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.likes}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"comment-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.comments}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"share-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.shares}</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.references}>\n          <Text style={[styles.referencesTitle, { color: theme.colors.primary }]}>References</Text>\n          {post.references.map((reference, index) => (\n            <TouchableOpacity\n              key={index}\n              style={styles.reference}\n              onPress={() => handleReferencePress(reference)}\n            >\n              <Text style={styles.referenceText}>\n                {reference.authors} ({reference.year || 'n.d.'}). {reference.title}. {reference.publication}.\n                {reference.doi && ` DOI: ${reference.doi}`}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n  },\n  header: {\n    padding: 16,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  authorImage: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 12,\n  },\n  authorInfo: {\n    flex: 1,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorBio: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  postInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  date: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: 16,\n    paddingTop: 0,\n  },\n  tag: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    fontSize: 16,\n    lineHeight: 24,\n    padding: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#eee',\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  statText: {\n    marginLeft: 8,\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  references: {\n    padding: 16,\n  },\n  referencesTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  reference: {\n    marginBottom: 12,\n  },\n  referenceText: {\n    fontSize: 14,\n    color: '#444',\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  errorButtonText: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogPost;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { handleBack } from '../components/Navigation';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst Waitlist = () => {\n  const navigation = useNavigation();\n  const { screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  \n  // Form state\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [petInfo, setPetInfo] = useState('');\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [userType, setUserType] = useState('');\n  const [hesitations, setHesitations] = useState('');\n  const [desiredFeatures, setDesiredFeatures] = useState('');\n  const [newsletter, setNewsletter] = useState(false);\n  const [agreeToTerms, setAgreeToTerms] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [otherService, setOtherService] = useState('');\n  const [showOtherInput, setShowOtherInput] = useState(false);\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const services = [\n    'Pet Sitting',\n    'Grooming',\n    'Training',\n    'Veterinary Services',\n    'Farm/Homestead Care',\n    'Care Consulting',\n    'Other'\n  ];\n\n  const userTypes = [\n    'Pet owner in need of services',\n    'Care specialist (sitter, groomer, ferrier, fish tank cleaner, etc)',\n    'Both'\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !firstName || !lastName || !phone || !petInfo || selectedServices.length === 0 || !userType || !agreeToTerms) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const formData = {\n        firstName,\n        lastName,\n        email,\n        phone,\n        petInfo,\n        services: selectedServices.includes('Other') \n          ? [...selectedServices.filter(s => s !== 'Other'), `Other: ${otherService}`]\n          : selectedServices,\n        userType,\n        hesitations,\n        desiredFeatures,\n        newsletter,\n        agreeToTerms\n      };\n\n      await handleFormspreeSubmit(formData);\n\n      if (state.succeeded) {\n        // Reset form\n        setFirstName('');\n        setLastName('');\n        setEmail('');\n        setPhone('');\n        setPetInfo('');\n        setSelectedServices([]);\n        setOtherService('');\n        setShowOtherInput(false);\n        setUserType('');\n        setHesitations('');\n        setDesiredFeatures('');\n        setNewsletter(false);\n        setAgreeToTerms(false);\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleService = (service) => {\n    setSelectedServices(prev => {\n      if (service === 'Other') {\n        setShowOtherInput(!prev.includes('Other'));\n      }\n      return prev.includes(service)\n        ? prev.filter(s => s !== service)\n        : [...prev, service];\n    });\n  };\n\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader \n          title=\"Join Waitlist\" \n          onBackPress={() => handleBack(navigation)} \n        />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thank you for joining the CrittrCove waitlist!\n            </Text>\n            <Text style={styles.successMessage}>\n              Whether you're a pet owner looking for trusted pet services or a specialist offering your expertise, \n              you're now part of a community that supports independent animal specialists and small businesses.\n            </Text>\n            <Text style={styles.successMessage}>\n              As a waitlist member, you'll enjoy exclusive early access to the app, priority placement, \n              special gifts, and a unique profile badge to highlight your role as a founding member of CrittrCove.\n            </Text>\n            <Text style={styles.successMessage}>\n              Stay tuned for exciting updates!\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n      <BackHeader \n        title=\"Join Waitlist\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView style={styles.scrollView}>\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={styles.title}>Join the CrittrCove Waitlist!</Text>\n            <Text style={styles.description}>\n              Welcome to Critter Cove's early sign-up, the ultimate pet care marketplace for all pets—whether furry, feathery, or scaly! \n              Our app connects local pet care specialists with pet owners, offering reliable and loving care for your beloved companions.\n            </Text>\n            <Text style={styles.description}>\n              By joining our waitlist, you'll gain early access to exclusive features, special gifts, and a profile badge as a founding member of the Critter Cove community.\n            </Text>\n\n            <View style={styles.formSection}>\n              <View style={styles.nameContainer}>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>First Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={firstName}\n                    onChangeText={setFirstName}\n                    placeholder=\"First Name\"\n                  />\n                </View>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>Last Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={lastName}\n                    onChangeText={setLastName}\n                    placeholder=\"Last Name\"\n                  />\n                </View>\n              </View>\n\n              <Text style={styles.label}>Email *</Text>\n              <TextInput\n                style={styles.input}\n                value={email}\n                onChangeText={setEmail}\n                placeholder=\"Email\"\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n              />\n\n              <Text style={styles.label}>Phone Number *</Text>\n              <TextInput\n                style={styles.input}\n                value={phone}\n                onChangeText={setPhone}\n                placeholder=\"Phone Number\"\n                keyboardType=\"phone-pad\"\n              />\n\n              <Text style={styles.label}>Do you currently own pets? If yes, tell us all about them! *</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={petInfo}\n                onChangeText={setPetInfo}\n                placeholder=\"Tell us about your pets\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What kind of pet care services are you most interested in? *</Text>\n              <View style={styles.checkboxGroup}>\n                {services.map((service) => (\n                  <View key={service}>\n                    <TouchableOpacity \n                      style={styles.checkboxContainer}\n                      onPress={() => toggleService(service)}\n                    >\n                      <MaterialCommunityIcons\n                        name={selectedServices.includes(service) ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                        size={24}\n                        color={theme.colors.primary}\n                        style={styles.checkboxIcon}\n                      />\n                      <Text style={styles.checkboxLabel}>{service}</Text>\n                    </TouchableOpacity>\n                    {service === 'Other' && selectedServices.includes('Other') && (\n                      <View style={styles.otherInputContainer}>\n                        <TextInput\n                          style={[styles.input, styles.otherInput]}\n                          value={otherService}\n                          onChangeText={setOtherService}\n                          placeholder=\"Please specify other service\"\n                        />\n                      </View>\n                    )}\n                  </View>\n                ))}\n              </View>\n\n              <Text style={styles.label}>Are you signing up as a: *</Text>\n              <View style={styles.radioGroup}>\n                {userTypes.map((type) => (\n                  <TouchableOpacity \n                    key={type}\n                    style={styles.radioContainer}\n                    onPress={() => setUserType(type)}\n                  >\n                    <View style={[styles.radio, userType === type && styles.radioSelected]} />\n                    <Text style={styles.radioLabel}>{type}</Text>\n                  </TouchableOpacity>\n                ))}\n              </View>\n\n              <Text style={styles.label}>What hesitations do you have about using an app to connect your to local pet care?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={hesitations}\n                onChangeText={setHesitations}\n                placeholder=\"Share your concerns\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What features or tools would make Critter Cove perfect for you?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={desiredFeatures}\n                onChangeText={setDesiredFeatures}\n                placeholder=\"Share your ideas\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setNewsletter(!newsletter)}\n              >\n                <MaterialCommunityIcons\n                  name={newsletter ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  Would you like to be added to the email newsletter for updates on the app, pet care tips, discounts and more? *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setAgreeToTerms(!agreeToTerms)}\n              >\n                <MaterialCommunityIcons\n                  name={agreeToTerms ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  I agree to the terms and conditions and understand my data will be used to improve the app experience. *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={[styles.submitButton, (isSubmitting || !agreeToTerms) && styles.disabledButton]}\n                onPress={handleSubmit}\n                disabled={isSubmitting || !agreeToTerms}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isSubmitting ? 'Submitting...' : 'Join Waitlist'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  description: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    lineHeight: 24,\n  },\n  formSection: {\n    width: '100%',\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    gap: 10,\n    marginBottom: 15,\n  },\n  nameField: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '500',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  textArea: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  checkboxGroup: {\n    marginBottom: 15,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 10,\n    paddingRight: 10,\n  },\n  checkboxIcon: {\n    marginRight: 10,\n  },\n  checkboxLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  radioGroup: {\n    marginBottom: 15,\n  },\n  radioContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  radio: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    marginRight: 10,\n  },\n  radioSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  radioLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  successMessage: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    marginBottom: 15,\n    lineHeight: 24,\n  },\n  otherInputContainer: {\n    paddingLeft: 34,\n    width: '100%',\n  },\n  otherInput: {\n    marginTop: 5,\n    marginBottom: 10,\n    width: '90%',\n  },\n});\n\nexport default Waitlist; ","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Provider as PaperProvider } from 'react-native-paper';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator, TransitionPresets } from '@react-navigation/stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Navigation from './src/components/Navigation';\nimport { theme } from './src/styles/theme';\nimport { AuthProvider, AuthContext } from './src/context/AuthContext';\nimport { API_BASE_URL } from './src/config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { createNavigationContainerRef } from '@react-navigation/native';\nimport { Linking } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from './src/components/Navigation';\n\n// Import all your screen components\nimport HomeScreen from './src/screens/HomeScreen';\nimport AboutScreen from './src/screens/AboutScreen';\nimport ClientProfile from './src/screens/ClientProfile';\nimport MyProfile from './src/screens/MyProfile';\nimport SignIn from './src/screens/SignIn';\nimport SignUp from './src/screens/SignUp';\nimport ResetPassword from './src/screens/ResetPassword';\nimport ResetPasswordConfirm from './src/screens/ResetPasswordConfirm';\nimport Dashboard from './src/screens/Dashboard';\nimport SearchProfessionals from './src/screens/SearchProfessionals';\nimport ProfessionalDashboard from './src/screens/ProfessionalDashboard';\nimport BecomeProfessional from './src/screens/BecomeProfessional';\nimport MoreScreen from './src/screens/MoreScreen';\nimport AvailabilitySettings from './src/screens/AvailabilitySettings';\n// import Messages from './src/screens/Messages';\nimport MyPets from './src/screens/MyPets';\nimport ClientHistory from './src/screens/ClientHistory';\nimport MessageHistory from './src/screens/MessageHistory';\nimport PaymentMethods from './src/screens/PaymentMethods';\nimport Settings from './src/screens/Settings';\nimport PrivacyPolicy from './src/screens/PrivacyPolicy';\nimport ProfessionalSettings from './src/screens/ProfessionalSettings';\nimport TermsOfService from './src/screens/TermsOfService';\nimport HelpFAQ from './src/screens/HelpFAQ';\nimport ContactUs from './src/screens/ContactUs';\nimport Clients from './src/screens/Clients';\nimport ProfessionalProfile from './src/screens/ProfessionalProfile';\nimport MyContracts from './src/screens/MyContracts';\nimport ChangePassword from './src/screens/ChangePassword';\nimport AddPet from './src/screens/AddPet';\nimport SearchProfessionalsListing from './src/screens/SearchProfessionalsListing';\nimport MyBookings from './src/screens/MyBookings';\nimport BookingDetails from './src/screens/BookingDetails';\nimport ServiceManagerScreen from './src/screens/ServiceManagerScreen';\nimport BlogScreen from './src/screens/BlogScreen';\nimport BlogPost from './src/screens/BlogPost';\nimport Waitlist from './src/screens/Waitlist';\n\nconst Stack = createStackNavigator();\nconst Tab = createBottomTabNavigator();\n\nconst screens = [\n  { name: 'Home', component: HomeScreen },\n  { name: 'About', component: AboutScreen },\n  { name: 'ClientProfile', component: ClientProfile },\n  { name: 'MyProfile', component: MyProfile },  \n  { name: 'SignIn', component: SignIn },\n  { name: 'SignUp', component: SignUp },\n  { name: 'ResetPassword', component: ResetPassword },\n  { name: 'ResetPasswordConfirm', component: ResetPasswordConfirm },\n  { name: 'Dashboard', component: Dashboard },\n  { name: 'SearchProfessionals', component: SearchProfessionals },\n  { name: 'SearchProfessionalsListing', component: SearchProfessionalsListing },\n  { name: 'ClientHistory', component: ClientHistory },\n  { name: 'MessageHistory', component: MessageHistory },\n  // { name: 'Messages', component: Messages },\n  { name: 'ProfessionalDashboard', component: ProfessionalDashboard },\n  { name: 'BecomeProfessional', component: BecomeProfessional },\n  { name: 'More', component: MoreScreen },\n  { name: 'Clients', component: Clients },\n  { name: 'AvailabilitySettings', component: AvailabilitySettings },\n  { name: 'MyPets', component: MyPets },\n  { name: 'PaymentMethods', component: PaymentMethods },\n  { name: 'Settings', component: Settings },\n  { name: 'PrivacyPolicy', component: PrivacyPolicy },\n  { name: 'ProfessionalSettings', component: ProfessionalSettings },\n  { name: 'TermsOfService', component: TermsOfService },\n  { name: 'HelpFAQ', component: HelpFAQ },\n  { name: 'ContactUs', component: ContactUs },\n  { name: 'ProfessionalProfile', component: ProfessionalProfile },\n  { name: 'MyContracts', component: MyContracts },\n  { name: 'ChangePassword', component: ChangePassword },\n  { name: 'AddPet', component: AddPet },\n  { name: 'MyBookings', component: MyBookings },\n  { name: 'BookingDetails', component: BookingDetails },\n  { name: 'ServiceManager', component: ServiceManagerScreen },\n  { name: 'Blog', component: BlogScreen },\n  { name: 'BlogPost', component: BlogPost },\n  { name: 'Waitlist', component: Waitlist },\n];\n\nconst linking = {\n  enabled: true,\n  prefixes: [\n    'https://staging.crittrcove.com',\n    'http://staging.crittrcove.com',\n    `${API_BASE_URL}`\n  ],\n  config: {\n    screens: {\n      Home: '*',  // This will catch all unmatched routes\n      About: 'about',\n      ClientProfile: 'client-profile',\n      MyProfile: 'my-profile',\n      SignIn: 'signin',\n      SignUp: 'signup',\n      ResetPassword: 'reset-password',\n      ResetPasswordConfirm: 'reset-password/:uid/:token',\n      Dashboard: 'dashboard',\n      SearchProfessionals: 'search-professionals',\n      SearchProfessionalsListing: 'search-professionals-listing',\n      ClientHistory: 'client-history',\n      MessageHistory: {\n        path: 'message-history',\n        parse: {\n          messageId: (messageId) => messageId || null,\n          senderName: (senderName) => senderName || 'Unknown User'\n        }\n      },\n      ProfessionalDashboard: 'professional-dashboard',\n      BecomeProfessional: 'become-professional',\n      More: 'more',\n      Clients: 'clients',\n      AvailabilitySettings: 'availability-settings',\n      MyPets: 'my-pets',\n      PaymentMethods: 'payment-methods',\n      Settings: 'settings',\n      PrivacyPolicy: 'privacy-policy',\n      ProfessionalSettings: 'professional-settings',\n      TermsOfService: 'terms-of-service',\n      HelpFAQ: 'help-faq',\n      ContactUs: 'contact-us',\n      ProfessionalProfile: {\n        path: 'professional-profile',\n        parse: {\n          professional: (professional) => undefined\n        }\n      },\n      MyContracts: 'my-contracts',\n      ChangePassword: 'change-password',\n      AddPet: {\n        path: 'add-pet',\n        parse: {\n          pet: () => undefined\n        }\n      },\n      MyBookings: 'my-bookings',\n      BookingDetails: 'booking-details',\n      ServiceManager: 'service-manager',\n      Blog: 'blog',\n      BlogPost: 'blog-post',\n      Waitlist: 'waitlist'\n    }\n  }\n};\n\n\nexport const navigationRef = createNavigationContainerRef();\n\nexport function navigate(name, params) {\n  if (navigationRef.isReady()) {\n    navigationRef.navigate(name, params);\n  }\n}\n\nfunction TabNavigator() {\n  return (\n    <Tab.Navigator tabBar={props => <Navigation {...props} />}>\n      {screens.map(screen => (\n        <Tab.Screen \n          key={screen.name}\n          name={screen.name} \n          component={screen.component} \n          options={{ headerShown: false }} \n        />\n      ))}\n    </Tab.Navigator>\n  );\n}\n\nconst MVPWarning = () => {\n  const [isVisible, setIsVisible] = useState(true);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const checkBannerStatus = async () => {\n      if (Platform.OS === 'web') {\n        const hidden = sessionStorage.getItem('mvp_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      } else {\n        const hidden = await AsyncStorage.getItem('mvp_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      }\n    };\n    checkBannerStatus();\n  }, []);\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('mvp_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('mvp_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <View style={styles.warningBanner}>\n      <View style={styles.warningContent}>\n        <TouchableOpacity \n          style={styles.closeButton}\n          onPress={hideBanner}\n        >\n          <Text style={styles.closeButtonText}>✕</Text>\n        </TouchableOpacity>\n        <Text style={styles.warningText}>\n          🚧 MVP MODE: Features are still under development.\n        </Text>\n        <TouchableOpacity \n          style={styles.waitlistButton}\n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.waitlistButtonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nfunction AppContent() {\n  const { checkAuthStatus, is_DEBUG } = useContext(AuthContext);\n  const [initialRoute, setInitialRoute] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        const authStatus = await checkAuthStatus();\n        let route = 'Home';\n\n        // Only change route if user is authenticated\n        if (authStatus.isSignedIn) {\n          if (is_DEBUG) {\n            console.log('Auth status on init:', authStatus);\n          }\n          route = authStatus.userRole === 'professional' && authStatus.isApprovedProfessional\n            ? 'ProfessionalDashboard'\n            : 'Dashboard';\n        } else {\n          route = 'Home';\n        }\n\n        // For web platform\n        if (Platform.OS === 'web') {\n          const path = window.location.pathname;\n          \n          // If we're at the root path, use the route based on auth status\n          if (path === '/' || path === '') {\n            // route is already set based on auth status above\n          } else {\n            // Extract the route from the path\n            const routePath = path.slice(1).split('/')[0].toLowerCase();\n            if (routePath === 'home') {\n              // Use the route based on auth status\n            } else {\n              // Find the matching screen for the current path\n              const matchingScreen = screens.find(screen => \n                screen.name.toLowerCase() === routePath\n              );\n              if (matchingScreen) {\n                route = matchingScreen.name;\n              }\n            }\n          }\n        }\n\n        setInitialRoute(route);\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setInitialRoute('Home');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeApp();\n  }, []);\n\n  // Handle route changes without triggering auth checks\n  useEffect(() => {\n    if (!isLoading && initialRoute && Platform.OS !== 'web') {\n      AsyncStorage.setItem('lastRoute', initialRoute)\n        .catch(error => console.error('Error storing route:', error));\n    }\n  }, [initialRoute, isLoading]);\n\n  if (isLoading || !initialRoute) {\n    return null; // Or a loading spinner component\n  }\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('mvp_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('mvp_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  \n\n  return (\n    <NavigationContainer \n      ref={navigationRef}\n      linking={linking}\n      onStateChange={async (state) => {\n        if (Platform.OS !== 'web' && state?.routes?.length > 0) {\n          const currentRoute = state.routes[state.routes.length - 1].name;\n          await AsyncStorage.setItem('lastRoute', currentRoute)\n            .catch(error => console.error('Error storing route:', error));\n        }\n      }}\n    >\n      {isVisible && <MVPWarning />}\n      {Platform.OS === 'web' ? (\n        <Stack.Navigator\n          initialRouteName={initialRoute}\n          screenOptions={{\n            headerShown: true,\n            header: ({ navigation }) => <Navigation navigation={navigation} />,\n            ...TransitionPresets.SlideFromRightIOS,\n            presentation: 'card',\n            animation: 'slide_from_right'\n          }}\n        >\n          {screens.map(screen => (\n            <Stack.Screen \n              key={screen.name}\n              name={screen.name} \n              component={screen.component}\n              options={{\n                headerShown: true,\n                animation: 'slide_from_right'\n              }}\n            />\n          ))}\n        </Stack.Navigator>\n      ) : (\n        <TabNavigator />\n      )}\n    </NavigationContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  warningBanner: {\n    backgroundColor: '#ffebee',\n    padding: Platform.OS === 'web' ? 12 : 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ef5350',\n    width: '100%',\n    flexShrink: 0, // Prevent banner from shrinking\n  },\n  warningContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    gap: 10,\n    maxWidth: 1200,\n    marginHorizontal: 'auto',\n    width: '100%',\n  },\n  warningText: {\n    color: '#c62828',\n    textAlign: 'center',\n    fontSize: Platform.OS === 'web' ? 15 : 14,\n    flexShrink: 1,\n    flex: 1,\n    marginHorizontal: 15,\n  },\n  waitlistButton: {\n    backgroundColor: '#ef5350',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 20,\n    marginLeft: 'auto',\n  },\n  waitlistButtonText: {\n    color: 'white',\n    fontSize: Platform.OS === 'web' ? 14 : 13,\n    fontWeight: '600',\n  },\n  closeButton: {\n    width: 24,\n    height: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 5,\n  },\n  closeButtonText: {\n    color: '#c62828',\n    fontSize: 18,\n    fontWeight: '600',\n  },\n});\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <PaperProvider theme={theme}>\n        <AppContent />\n      </PaperProvider>\n    </AuthProvider>\n  );\n}\n\n","import React from 'react';\nimport { View } from 'react-native';\nimport { Text } from 'react-native-paper';\n\nexport default function AboutScreen() {\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <Text>About Screen</Text>\n    </View>\n  );\n}","var map = {\n\t\"./af\": 17582,\n\t\"./af.js\": 17582,\n\t\"./ar\": 93042,\n\t\"./ar-dz\": 54265,\n\t\"./ar-dz.js\": 54265,\n\t\"./ar-kw\": 92553,\n\t\"./ar-kw.js\": 92553,\n\t\"./ar-ly\": 85352,\n\t\"./ar-ly.js\": 85352,\n\t\"./ar-ma\": 67097,\n\t\"./ar-ma.js\": 67097,\n\t\"./ar-ps\": 76150,\n\t\"./ar-ps.js\": 76150,\n\t\"./ar-sa\": 84427,\n\t\"./ar-sa.js\": 84427,\n\t\"./ar-tn\": 7221,\n\t\"./ar-tn.js\": 7221,\n\t\"./ar.js\": 93042,\n\t\"./az\": 60458,\n\t\"./az.js\": 60458,\n\t\"./be\": 17596,\n\t\"./be.js\": 17596,\n\t\"./bg\": 93830,\n\t\"./bg.js\": 93830,\n\t\"./bm\": 27044,\n\t\"./bm.js\": 27044,\n\t\"./bn\": 58573,\n\t\"./bn-bd\": 13296,\n\t\"./bn-bd.js\": 13296,\n\t\"./bn.js\": 58573,\n\t\"./bo\": 25614,\n\t\"./bo.js\": 25614,\n\t\"./br\": 62041,\n\t\"./br.js\": 62041,\n\t\"./bs\": 91786,\n\t\"./bs.js\": 91786,\n\t\"./ca\": 75833,\n\t\"./ca.js\": 75833,\n\t\"./cs\": 52711,\n\t\"./cs.js\": 52711,\n\t\"./cv\": 71036,\n\t\"./cv.js\": 71036,\n\t\"./cy\": 84977,\n\t\"./cy.js\": 84977,\n\t\"./da\": 8770,\n\t\"./da.js\": 8770,\n\t\"./de\": 67342,\n\t\"./de-at\": 81566,\n\t\"./de-at.js\": 81566,\n\t\"./de-ch\": 87544,\n\t\"./de-ch.js\": 87544,\n\t\"./de.js\": 67342,\n\t\"./dv\": 82875,\n\t\"./dv.js\": 82875,\n\t\"./el\": 78536,\n\t\"./el.js\": 78536,\n\t\"./en-au\": 38617,\n\t\"./en-au.js\": 38617,\n\t\"./en-ca\": 79227,\n\t\"./en-ca.js\": 79227,\n\t\"./en-gb\": 59754,\n\t\"./en-gb.js\": 59754,\n\t\"./en-ie\": 37217,\n\t\"./en-ie.js\": 37217,\n\t\"./en-il\": 85418,\n\t\"./en-il.js\": 85418,\n\t\"./en-in\": 80800,\n\t\"./en-in.js\": 80800,\n\t\"./en-nz\": 67299,\n\t\"./en-nz.js\": 67299,\n\t\"./en-sg\": 76305,\n\t\"./en-sg.js\": 76305,\n\t\"./eo\": 8673,\n\t\"./eo.js\": 8673,\n\t\"./es\": 71301,\n\t\"./es-do\": 3187,\n\t\"./es-do.js\": 3187,\n\t\"./es-mx\": 48223,\n\t\"./es-mx.js\": 48223,\n\t\"./es-us\": 37634,\n\t\"./es-us.js\": 37634,\n\t\"./es.js\": 71301,\n\t\"./et\": 4976,\n\t\"./et.js\": 4976,\n\t\"./eu\": 11847,\n\t\"./eu.js\": 11847,\n\t\"./fa\": 74372,\n\t\"./fa.js\": 74372,\n\t\"./fi\": 41628,\n\t\"./fi.js\": 41628,\n\t\"./fil\": 56802,\n\t\"./fil.js\": 56802,\n\t\"./fo\": 42874,\n\t\"./fo.js\": 42874,\n\t\"./fr\": 9853,\n\t\"./fr-ca\": 87170,\n\t\"./fr-ca.js\": 87170,\n\t\"./fr-ch\": 22825,\n\t\"./fr-ch.js\": 22825,\n\t\"./fr.js\": 9853,\n\t\"./fy\": 68876,\n\t\"./fy.js\": 68876,\n\t\"./ga\": 93533,\n\t\"./ga.js\": 93533,\n\t\"./gd\": 82770,\n\t\"./gd.js\": 82770,\n\t\"./gl\": 98602,\n\t\"./gl.js\": 98602,\n\t\"./gom-deva\": 63059,\n\t\"./gom-deva.js\": 63059,\n\t\"./gom-latn\": 48212,\n\t\"./gom-latn.js\": 48212,\n\t\"./gu\": 23409,\n\t\"./gu.js\": 23409,\n\t\"./he\": 17210,\n\t\"./he.js\": 17210,\n\t\"./hi\": 4750,\n\t\"./hi.js\": 4750,\n\t\"./hr\": 51315,\n\t\"./hr.js\": 51315,\n\t\"./hu\": 47626,\n\t\"./hu.js\": 47626,\n\t\"./hy-am\": 91317,\n\t\"./hy-am.js\": 91317,\n\t\"./id\": 26892,\n\t\"./id.js\": 26892,\n\t\"./is\": 97577,\n\t\"./is.js\": 97577,\n\t\"./it\": 57628,\n\t\"./it-ch\": 3046,\n\t\"./it-ch.js\": 3046,\n\t\"./it.js\": 57628,\n\t\"./ja\": 92504,\n\t\"./ja.js\": 92504,\n\t\"./jv\": 25917,\n\t\"./jv.js\": 25917,\n\t\"./ka\": 64513,\n\t\"./ka.js\": 64513,\n\t\"./kk\": 94935,\n\t\"./kk.js\": 94935,\n\t\"./km\": 96661,\n\t\"./km.js\": 96661,\n\t\"./kn\": 89964,\n\t\"./kn.js\": 89964,\n\t\"./ko\": 98067,\n\t\"./ko.js\": 98067,\n\t\"./ku\": 61165,\n\t\"./ku-kmr\": 85158,\n\t\"./ku-kmr.js\": 85158,\n\t\"./ku.js\": 61165,\n\t\"./ky\": 11177,\n\t\"./ky.js\": 11177,\n\t\"./lb\": 2967,\n\t\"./lb.js\": 2967,\n\t\"./lo\": 81972,\n\t\"./lo.js\": 81972,\n\t\"./lt\": 58469,\n\t\"./lt.js\": 58469,\n\t\"./lv\": 33155,\n\t\"./lv.js\": 33155,\n\t\"./me\": 87935,\n\t\"./me.js\": 87935,\n\t\"./mi\": 74483,\n\t\"./mi.js\": 74483,\n\t\"./mk\": 32501,\n\t\"./mk.js\": 32501,\n\t\"./ml\": 73120,\n\t\"./ml.js\": 73120,\n\t\"./mn\": 20266,\n\t\"./mn.js\": 20266,\n\t\"./mr\": 19406,\n\t\"./mr.js\": 19406,\n\t\"./ms\": 80109,\n\t\"./ms-my\": 90864,\n\t\"./ms-my.js\": 90864,\n\t\"./ms.js\": 80109,\n\t\"./mt\": 22904,\n\t\"./mt.js\": 22904,\n\t\"./my\": 44067,\n\t\"./my.js\": 44067,\n\t\"./nb\": 21301,\n\t\"./nb.js\": 21301,\n\t\"./ne\": 81152,\n\t\"./ne.js\": 81152,\n\t\"./nl\": 76735,\n\t\"./nl-be\": 97761,\n\t\"./nl-be.js\": 97761,\n\t\"./nl.js\": 76735,\n\t\"./nn\": 37569,\n\t\"./nn.js\": 37569,\n\t\"./oc-lnc\": 20833,\n\t\"./oc-lnc.js\": 20833,\n\t\"./pa-in\": 3044,\n\t\"./pa-in.js\": 3044,\n\t\"./pl\": 34249,\n\t\"./pl.js\": 34249,\n\t\"./pt\": 87585,\n\t\"./pt-br\": 26826,\n\t\"./pt-br.js\": 26826,\n\t\"./pt.js\": 87585,\n\t\"./ro\": 62526,\n\t\"./ro.js\": 62526,\n\t\"./ru\": 62204,\n\t\"./ru.js\": 62204,\n\t\"./sd\": 43270,\n\t\"./sd.js\": 43270,\n\t\"./se\": 61541,\n\t\"./se.js\": 61541,\n\t\"./si\": 71921,\n\t\"./si.js\": 71921,\n\t\"./sk\": 49935,\n\t\"./sk.js\": 49935,\n\t\"./sl\": 46254,\n\t\"./sl.js\": 46254,\n\t\"./sq\": 59897,\n\t\"./sq.js\": 59897,\n\t\"./sr\": 42496,\n\t\"./sr-cyrl\": 11135,\n\t\"./sr-cyrl.js\": 11135,\n\t\"./sr.js\": 42496,\n\t\"./ss\": 32215,\n\t\"./ss.js\": 32215,\n\t\"./sv\": 84716,\n\t\"./sv.js\": 84716,\n\t\"./sw\": 50803,\n\t\"./sw.js\": 50803,\n\t\"./ta\": 31538,\n\t\"./ta.js\": 31538,\n\t\"./te\": 2302,\n\t\"./te.js\": 2302,\n\t\"./tet\": 25280,\n\t\"./tet.js\": 25280,\n\t\"./tg\": 14100,\n\t\"./tg.js\": 14100,\n\t\"./th\": 95385,\n\t\"./th.js\": 95385,\n\t\"./tk\": 736,\n\t\"./tk.js\": 736,\n\t\"./tl-ph\": 79726,\n\t\"./tl-ph.js\": 79726,\n\t\"./tlh\": 41873,\n\t\"./tlh.js\": 41873,\n\t\"./tr\": 36463,\n\t\"./tr.js\": 36463,\n\t\"./tzl\": 27491,\n\t\"./tzl.js\": 27491,\n\t\"./tzm\": 29500,\n\t\"./tzm-latn\": 80196,\n\t\"./tzm-latn.js\": 80196,\n\t\"./tzm.js\": 29500,\n\t\"./ug-cn\": 91287,\n\t\"./ug-cn.js\": 91287,\n\t\"./uk\": 35341,\n\t\"./uk.js\": 35341,\n\t\"./ur\": 36246,\n\t\"./ur.js\": 36246,\n\t\"./uz\": 55550,\n\t\"./uz-latn\": 77254,\n\t\"./uz-latn.js\": 77254,\n\t\"./uz.js\": 55550,\n\t\"./vi\": 78796,\n\t\"./vi.js\": 78796,\n\t\"./x-pseudo\": 22736,\n\t\"./x-pseudo.js\": 22736,\n\t\"./yo\": 28621,\n\t\"./yo.js\": 28621,\n\t\"./zh-cn\": 67601,\n\t\"./zh-cn.js\": 67601,\n\t\"./zh-hk\": 39053,\n\t\"./zh-hk.js\": 39053,\n\t\"./zh-mo\": 71248,\n\t\"./zh-mo.js\": 71248,\n\t\"./zh-tw\": 74725,\n\t\"./zh-tw.js\": 74725\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"aaed7a5a\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [619], () => (__webpack_require__(55819)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["theme","Object","assign","DefaultTheme","fonts","regular","fontFamily","header","typography","body","colors","mainColors","main","secondary","tertiary","quaternary","quinary","senary","primary","background","backgroundContrast","calendarColor","calendarColorYellowBrown","text","whiteText","placeHolderText","accent","error","surface","border","inputBackground","receivedMessage","danger","fontSizes","small","smallMedium","medium","mediumLarge","large","largeLarge","extraLarge","spacing","API_BASE_URL","stripeInstance","initStripe","async","loadStripe","stripe","undefined","Error","getStripeModule","SCREEN_WIDTH","Dimensions","get","width","AuthContext","height","createContext","getStorage","sessionStorage","getItem","key","console","AuthProvider","children","isSignedIn","setIsSignedIn","useState","userRole","setUserRole","isApprovedProfessional","setIsApprovedProfessional","loading","setLoading","screenWidth","setScreenWidth","firstName","setFirstName","is_DEBUG","setIsDebug","useEffect","subscription","addEventListener","handleDimensionsChange","window","remove","checkAuthStatus","fetchUserName","loadInitialAuth","token","response","axios","concat","headers","Authorization","data","first_name","message","storedRole","storedApproval","log","isApproved","role","loadAuthState","getProfessionalStatus","is_approved","AsyncStorage","setItem","String","suggestedRole","signOut","multiRemove","removeItem","setTimeout","navigate","currentPath","location","pathname","slice","isHomePage","toLowerCase","refreshToken","currentToken","isValid","post","status","validateToken","newToken","refresh","access","refreshUserToken","newRole","_jsx","Provider","value","signIn","refreshTokenValue","initialRole","switchRole","previousRoute","currentRoute","handleBack","navigation","navigateToFrom","toLocation","fromLocation","params","Navigation","visible","setVisible","isMobile","setIsMobile","useTheme","useContext","closeMenu","updateLayout","handleNavigation","screenName","initialRoute","initializeRouteTracking","renderMenuItems","title","icon","route","_Fragment","_jsxs","Appbar","Header","style","styles","backgroundColor","View","titleContainer","TouchableOpacity","onPress","Text","color","Menu","onDismiss","anchor","Action","MaterialCommunityIcons","name","size","openMenu","map","item","index","Item","titleStyle","fontWeight","desktopNav","webNavItem","webNavText","StyleSheet","create","container","display","content","flex","justifyContent","textAlign","marginLeft","fontSize","flexDirection","alignItems","navItem","marginHorizontal","cursor","customNavBar","position","bottom","left","right","paddingVertical","borderTopWidth","borderTopColor","navButton","paddingHorizontal","navText","marginTop","padding","maxWidth","marginRight","marginBottom","mobileContainer","mobileItemContainer","mobileMarker","mobileMilestoneTitle","mobileDashedLine","borderStyle","borderWidth","borderColor","webContainer","dashedLine","top","webMarker","transform","translateX","webMilestoneTitle","markerContainer","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalOverlay","modalContent","modalIconContainer","modalNumber","modalTitle","modalDescription","lineHeight","closeButton","closeButtonText","RoadmapSection","selectedMilestone","setSelectedMilestone","modalVisible","setModalVisible","roadmapData","id","description","handleMilestonePress","milestone","length","FontAwesome5","Modal","transparent","animationType","onRequestClose","number","BOOKING_STATES","DRAFT","PENDING_INITIAL_PROFESSIONAL_CHANGES","PENDING_PROFESSIONAL_CHANGES","PENDING_CLIENT_APPROVAL","CONFIRMED","CONFIRMED_PENDING_PROFESSIONAL_CHANGES","CONFIRMED_PENDING_CLIENT_APPROVAL","COMPLETED","DENIED","CANCELLED","PROFESSIONAL_EDITABLE_STATES","ALL_SERVICES","SERVICE_TYPES","TIME_OPTIONS","mockAdditionalRates","amount","mockServicesForCards","startingPrice","animalTypes","additionalRates","GENERAL_CATEGORIES","mockPets","animal_type","breed","age","months","years","weight","sex","friendlyWithChildren","friendlyWithCats","friendlyWithDogs","spayedNeutered","houseTrained","microchipped","adoptionDate","energyLevel","feedingSchedule","leftAlone","medication","additionalInstructions","vetName","vetAddress","vetPhone","insuranceProvider","vetDocuments","galleryImages","mockProfessionals","profilePicture","require","reviews","price","bio","coordinates","latitude","longitude","serviceTypes","mockClients","pet_types","last_booking","pets","email","phone","address","sharedBookingDetails","booking_id","client_name","professional_name","service_details","service_type","pet_id","species","occurrences","occurrence_id","start_date","end_date","start_time","end_time","calculated_cost","base_total","rates","base_rate","additional_animal_rate","additional_animal_rate_applies","applies_after","unit_of_time","holiday_rate","holiday_days","additional_rates","cost_summary","subtotal","platform_fee","taxes","total_client_cost","total_sitter_payout","is_prorated","mockBookingDetails","clientName","startDate","startTime","createBooking","values","booking","date","time","serviceType","numberOfPets","totalCost","costs","totalClientCost","professionalPayout","clientId","freelancerId","initialData","newBookingId","Date","now","newBooking","professionalName","animalType","duration","baseRate","additionalPetRate","extraServices","baseTotal","additionalPetTotal","extraServicesTotal","clientFee","created_at","toISOString","updated_at","bookingId","allBookings","keys","Promise","resolve","CURRENT_USER_ID","mockConversations","participant1_id","participant2_id","role_map","participant1_role","participant2_role","lastMessage","timestamp","unread","mockMessages","message_id","sender","is_booking_request","metadata","type","endDate","endTime","DEFAULT_SERVICES","serviceName","additionalAnimalRate","SERVICE_TYPE_SUGGESTIONS","ANIMAL_TYPE_SUGGESTIONS","BLOG_POSTS","author","publishDate","readTime","tags","references","authors","publication","url","year","doi","likes","comments","shares","windowWidth","windowHeight","image","ReviewImage","source","src","alt","scrollView","contentContainer","paddingBottom","heroSection","overflow","heroImage","heroText","textShadowColor","textShadowOffset","textShadowRadius","section","sectionTitle","card","appButtons","appButton","reviewsSection","reviewsBackground","reviewsOverlay","reviewsSubtitle","reviewsTitle","reviewsContainer","overflowX","WebkitOverflowScrolling","msOverflowStyle","scrollbarWidth","scrollbarColor","reviewsContent","minWidth","gap","reviewCard","reviewCardMobile","reviewQuote","reviewText","reviewAuthorContainer","reviewerImage","objectFit","reviewAuthorName","reviewAuthorTitle","paginationDots","paginationDot","margin","paginationDotActive","featuresSection","toggleContainer","toggleButton","toggleButtonActive","toggleButtonText","toggleButtonTextActive","featuresContainer","featureColumn","columnTitle","featuresList","featureItem","featureIconCircle","featureIcon","featureTitle","featureText","actionButton","buttonContainer","buttonText","blogSection","blogCard","authorContainer","authorImage","blogContent","authorInfo","authorName","dot","preview","flexWrap","tag","tagText","stats","stat","statText","roadmapSection","roadmapImage","roadmapOverlayText","faqSection","faqItem","faqButton","faqQuestion","faqToggle","faqAnswer","contactSection","contactContainer","input","footer","socialIconsRow","socialIcon","footerLinksRow","footerLink","textDecorationLine","successMessage","messageInput","textAlignVertical","paddingTop","disabledButton","opacity","validationError","starsContainer","starIcon","waitlistSection","marginVertical","waitlistDescription","waitlistButton","scrollIndicators","scrollIndicatorButton","scrollIndicator","scrollIndicatorActive","scrollHint","scrollHintText","scrollContainer","scrollContent","scrollViewContent","flexGrow","alignSelf","switchProfileButton","profileHeader","sectionSaveButton","borderBottomWidth","borderBottomColor","bioInput","petItem","petName","petInfo","petDetails","placeholder","saveButton","addButton","profilePhoto","profilePhotoPlaceholder","centered","sectionHeader","fieldText","iconContainer","petItemContent","petPhoto","modalContainer","modalText","webPopup","zIndex","webPopupTitle","webPopupText","profileInfo","headerLeft","backButton","headerText","ClientProfile","useNavigation","useWindowDimensions","setProfilePhoto","setName","setEmail","setPhone","setAge","setAddress","city","setCity","state","setState","zip","setZip","country","setCountry","setBio","setPets","emergencyContact","setEmergencyContact","authorizedHouseholdMembers","setAuthorizedHouseholdMembers","isLoading","setIsLoading","editMode","setEditMode","showAuthorizedMembersInfo","setShowAuthorizedMembersInfo","popupPosition","setPopupPosition","questionMarkRef","useRef","scrollViewRef","localIsApprovedProfessional","setLocalIsApprovedProfessional","photo","then","storedIsApprovedProfessional","JSON","parse","fetchProfessionalStatus","toggleEditMode","prevState","renderEditableField","label","onChangeText","TextInput","renderIcon","Ionicons","renderSaveButton","Button","mode","Alert","alert","saveSection","showSwitchToProfessionalButton","SafeAreaView","handleSwitchToProfessional","ScrollView","ref","contentContainerStyle","result","ImagePicker","launchImageLibraryAsync","mediaTypes","Images","allowsEditing","aspect","quality","canceled","assets","uri","Image","multiline","numberOfLines","pet","petId","showAuthorizedMembersPopup","current","measure","fx","fy","px","py","_","__","___","____","scrollViewX","scrollViewY","member","household","updateHouseholdMember","updatedMembers","addHouseholdMember","Portal","floatingButtonContainer","webButton","mobileButton","floatingButton","FloatingSaveButton","onSave","btnText","maxHeight","modalScroll","inputWrapper","inputError","inputLabel","categoryInput","paddingRight","timeInput","selectedText","placeholderText","categoryDropdownContainer","categoryScrollView","categoryItem","categoryText","checkmarkContainer","suggestionsContainer","suggestionScrollView","suggestionText","timeDropdownContainer","timeDropdownItem","timeDropdownText","selectedTimeOption","descriptionInput","additionalRateRow","additionalRateTitle","deleteRateButton","deleteRateButtonText","addRateButton","addRateText","modalButtons","saveButtonText","cancelButton","cancelButtonText","AddServiceModal","onClose","initialService","setHasUnsavedChanges","currentService","setCurrentService","serviceDescription","holidayRate","lengthOfService","categories","setAdditionalRates","showValidationErrors","setShowValidationErrors","showServiceDropdown","setShowServiceDropdown","showAnimalDropdown","setShowAnimalDropdown","showTimeDropdown","setShowTimeDropdown","showCategoryDropdown","setShowCategoryDropdown","selectedCategories","setSelectedCategories","serviceDropdownPosition","setServiceDropdownPosition","animalDropdownPosition","setAnimalDropdownPosition","categoryDropdownPosition","setCategoryDropdownPosition","serviceInputRef","animalInputRef","categoryInputRef","timeInputRef","categoryDropdownRef","animalDropdownRef","serviceDropdownRef","timeDropdownRef","handleClickOutside","event","contains","target","document","removeEventListener","measureDropdown","inputRef","setPosition","inputType","x","y","pageX","pageY","updateAdditionalRate","prev","rate","i","resetForm","join","nestedScrollEnabled","showsVerticalScrollIndicator","persistentScrollbar","category","includes","filter","c","handleCategorySelect","trim","placeholderTextColor","onFocus","suggestion","option","keyboardType","replace","idx","prevRates","addAdditionalRate","serviceToSave","serviceCard","topRow","topRowIcons","iconButton","contentRow","collapsedContent","rateText","collapseButton","ProfessionalServiceCard","isCollapsed","onEdit","onDelete","onToggleCollapse","button","confirmButton","confirmButtonText","disabledText","ConfirmationModal","onConfirm","actionText","disabled","ActivityIndicator","serviceListContainer","headerButtons","headerActions","headerButton","buttonTooltip","portalTooltip","tooltipText","emptyContainer","emptyText","addButtonText","ServiceManager","services","setServices","isProfessionalTab","showModal","setShowModal","editingService","setEditingService","collapsedServices","setCollapsedServices","allCollapsed","setAllCollapsed","showDeleteModal","setShowDeleteModal","serviceToDelete","setServiceToDelete","hoveredButton","setHoveredButton","tooltipPosition","setTooltipPosition","collapseTooltipPosition","setCollapseTooltipPosition","buttonRef","collapseButtonRef","showTooltip","rect","getBoundingClientRect","toggleCollapseAll","onMouseEnter","onMouseLeave","Array","isArray","FlatList","renderItem","service","serviceToEdit","handleEditService","handleDeleteService","toggleCollapse","warn","keyExtractor","updatedService","confirmDelete","prevServices","RecordedPets","EditableSection","getContentWidth","centeredContent","portfolioGrid","portfolioCard","portfolioImageContainer","aspectRatio","portfolioPhoto","borderTopLeftRadius","borderTopRightRadius","portfolioCaption","facilitiesContainer","facilityTag","facilityTagSelected","facilityTagText","facilityTagTextSelected","modalHeader","modalFacilityTag","modalFacilityText","modalFooter","modalButton","modalButtonText","modalButtonText2","ProfessionalTab","professionalPhoto","setProfessionalPhoto","professionalBio","setProfessionalBio","portfolioPhotos","setPortfolioPhotos","facilities","setFacilities","skills","setSkills","certifications","experience","specialties","selectedFacilities","setSelectedFacilities","facilitiesModalVisible","setFacilitiesModalVisible","tempSelectedFacilities","setTempSelectedFacilities","FACILITY_OPTIONS","allowsMultipleSelection","selectionLimit","newPhotos","asset","toString","Math","random","substr","caption","openFacilitiesModal","facilityId","facility","find","f","toggleTempFacility","saveFacilities","webDatePicker","androidButton","dateText","DatePicker","onChange","displayFormat","showDatePicker","setShowDatePicker","e","rightButton","BackHeader","onBackPress","rightIcon","onRightPress","rightComponent","customStyles","minHeight","CrossPlatformView","useSafeArea","fullWidthHeader","contentWidth","setWindowWidth","updateDimensions","headerContent","mainContent","tabContainer","tab","activeTab","tabText","activeTabText","lastSection","fieldContainer","fieldLabel","birthdayContainer","ageText","MyProfile","professional","portfolio","setActiveTab","setRates","inHouse","overnight","dropBys","boarding","dayCare","photoNeedsSaving","setPhotoNeedsSaving","hasUnsavedChanges","birthday","setBirthday","calculatedAge","setCalculatedAge","fetchMyProfileData","isBio","updateBirthday","fetch","method","stringify","json","maxLeftPosition","calculatedLeft","popupWidth","safeLeft","min","max","saveChanges","CustomButton","invalidInput","link","prototypeWarning","screenHeight","safeArea","cardContainer","quickActions","quickActionButton","bookingItem","Dashboard","isLargeScreen","dynamicStyles","headerTitle","cardTitle","cardParagraph","listItemTitle","listItemDescription","upcomingBookings","profepsronalsional","IconComponent","_ref","props","_objectWithoutPropertiesLoose","_excluded","Content","Card","Title","Paragraph","List","descriptionStyle","Actions","labelStyle","SearchProfessionals","setStartDate","setEndDate","showStartDatePicker","setShowStartDatePicker","showEndDatePicker","setShowEndDatePicker","setLocation","setAnimalType","exoticType","setExoticType","setServiceType","petCount","setPetCount","dogs","cats","exotics","repeatService","setRepeatService","showServicePicker","setShowServicePicker","showAnimalTypePicker","setShowAnimalTypePicker","showRepeatServicePicker","setShowRepeatServicePicker","filtersContainer","picker","filterInput","filterButton","filterText","petCountContainer","petCounter","petType","counterControls","searchButton","searchButtonText","datePickerContainer","webHeader","renderDatePicker","setDate","showPicker","setShowPicker","split","renderPicker","selectedValue","setSelectedValue","options","Picker","onValueChange","itemValue","goBack","KeyboardAvoidingView","behavior","charAt","toUpperCase","searchButtonDisabled","Location","requestForegroundPermissionsAsync","userLocation","getCurrentPositionAsync","coords","latitudeDelta","longitudeDelta","searchParams","initialProfessionals","loadingContainer","emptyStateContainer","createServiceButton","ProfessionalDashboard","setUpcomingBookings","emptyStateText","fetchDashboardData","upcoming_bookings","retryError","navigateToServiceManager","checkboxContainer","petButton","selectedPetButton","petButtonText","selectedPetButtonText","textInput","certificationText","uploadButton","uploadText","submitButton","submitButtonText","loadingIndicator","subtitle","uploadedFileContainer","uploadedFilePreview","removeFileButton","BecomeProfessional","selectedPets","setSelectedPets","dog","cat","about","setAbout","setCertifications","insuranceProof","setInsuranceProof","isSubmitting","setIsSubmitting","initializeNavigation","handleBackPress","togglePetSelection","base64","newCertification","pop","cert","removeCertification","newProof","proof","removeInsuranceProof","confirm","logoutButtonContainer","logoutButton","switchRoleButtonContainer","switchRoleButton","webContent","webListSection","webListItem","webButtonContainer","MoreScreen","initializeRoutes","handleLogout","handleSwitchRole","newRoute","menuItems","items","lightGrey","removeButton","serviceContainer","reason","textSecondary","seeMoreButton","seeMoreText","modalTime","serviceItem","cardContent","timeContainer","timeText","editButton","fullWidth","timeButton","compactTimeButton","TimePicker","containerStyle","React","webInputStyle","toTimeString","SCREEN_HEIGHT","switchContainer","availabilityButton","availableButton","unavailableButton","availabilityButtonText","timePickerContainer","webTimePicker","unavailableTimesContainer","customDropdown","dropdownContainer","dropdownScroll","dropdownItem","dropdownText","selectedOption","dropdownItemContent","activeToggle","toggleText","activeToggleText","bookingsList","emptyState","contentScrollView","availabilityControls","bookingsContainer","unavailableTimesWrapper","bookingsWrapper","selectedDatesText","ALL_DAYS","DAYS_OF_WEEK","settingContainer","dayContainer","selectedTab","selectedTabText","daySettingsContainer","settingRow","enabledText","DefaultSettingsModal","isVisible","defaultSettings","selectedDays","setSelectedDays","settings","setSettings","Monday","isAllDay","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","showTimePicker","setShowTimePicker","isCurrentlyUnavailable","setIsCurrentlyUnavailable","showDayDropdown","setShowDayDropdown","dropdownButton","getElementById","handleAvailabilityChange","makeAvailable","daysToUpdate","day","newSettings","forEach","isUnavailable","renderTimePicker","checkCurrentAvailability","days","some","d","withoutAll","handleDaySelection","renderDaySettings","daySettings","Switch","pointerEvents","newTime","overlay","handleContainer","handle","headerMinimized","headerCenter","statusText","actionButtonText","timeToggleContainer","customToggle","toggleButtonInactive","timeSection","serviceSection","serviceSelector","serviceSelectorText","serviceSelectorError","errorText","AvailabilityBottomSheet","selectedDates","currentAvailability","onViewUnavailableTimes","setStartTime","setEndTime","selectedServices","setSelectedServices","setIsAllDay","setError","isMinimized","setIsMinimized","animatedHeight","Animated","Value","animatedOpacity","getAvailabilityStatus","dateAvailability","isAvailable","unavailableTimes","validateAndSave","format","containerHeight","interpolate","inputRange","outputRange","toggleMinimized","toValue","parallel","timing","useNativeDriver","start","getStatusColor","success","warning","s","timesList","timeSlotContainer","dateHeader","timeSlotContent","bookingContent","timeAndReason","reasonText","bookingButton","UnavailableTimesModal","onRemoveTimeSlot","bookings","formatTime","hours","minutes","setHours","parseInt","getUnavailableTimes","allTimes","processedTimes","Set","dateBookings","timeKey","has","push","isBooking","add","sort","a","b","localeCompare","renderActionButton","handleBookingPress","renderTimeSlot","formattedDate","formattedStartTime","formattedEndTime","mainContainer","bottomSheetOverlay","centeredContainer","defaultSettingsButton","defaultSettingsText","colorKeyContainer","colorKeyTitle","colorKeyItem","colorBox","colorKeyText","loadingText","errorContainer","retryButton","retryButtonText","AvailabilitySettings","markedDates","setMarkedDates","setSelectedDates","isAddModalVisible","setIsAddModalVisible","isSettingsModalVisible","setIsSettingsModalVisible","defaultAvailability","setDefaultAvailability","setCurrentAvailability","setBookings","setDefaultSettings","showBottomSheet","setShowBottomSheet","showUnavailableTimesModal","setShowUnavailableTimesModal","availableDates","unavailableDates","updateMarkedDates","combinedAvailability","err","loadAvailabilityData","newMarkedDates","entries","isFullDay","allServicesSelected","bookingList","marked","dotColor","Calendar","reduce","acc","selected","borderBottomLeftRadius","borderBottomRightRadius","markingType","week","paddingLeft","onDayPress","dateString","selectedDate","getDate","firstDate","getTime","range","currentDate","renderArrow","direction","iconName","availabilityData","newCurrentAvailability","dates","handleAddAvailability","onViewBookings","handleViewBookings","initialTab","handleRemoveTimeSlot","timeSlot","updatedAvailability","currentDateAvailability","filteredTimes","today","oneYearFromNow","getFullYear","getMonth","daysMapping","UTC","targetDayNumber","currentDayNumber","getUTCDay","setUTCDate","getUTCDate","applyDefaultSettingsToCalendar","contentWrapper","petCard","scale","petCardContent","petImage","petImagePlaceholder","MyPets","fetchPets","PetCard","history","replaceState","getAnimalIcon","androidContainer","StatusBar","currentHeight","messageButtonContainer","messageButton","ClientHistory","clientData","contracts","invoices","contract","invoice","validateDateTimeRange","startHour","startMinute","Number","endHour","endMinute","startDateTime","endDateTime","ANIMAL_COUNT_OPTIONS","ScrollableContent","className","dateTimeSection","dateTimeContainer","dateTimeColumn","topSpacing","rateRow","rateInput","rateAmountContainer","rateAmountInput","addRateButtonText","inputContainer","dollarSign","rateLabelContainer","rateTitleLabel","rateAmountLabel","rateContainer","baseRateInput","timeUnitInput","totalSection","totalLabel","totalAmount","selectedDropdownText","pickerItem","AddOccurrenceModal","onAdd","defaultRates","hideRates","initialOccurrence","isEditing","createTimeDate","timeStr","setMinutes","occurrence","setOccurrence","appliesAfterAnimals","timeUnit","getHours","setTimeUnit","showAddRate","setShowAddRate","newRate","setNewRate","setValidationError","calculateTotal","parseFloat","toFixed","sum","platformFee","handleClose","rateSection","editable","handleDeleteRate","handleAddRate","handleSubmit","validation","occurrenceData","handleAdd","serviceOptions","serviceButton","petOptions","dateContainer","timePickerWrapper","dropdownInput","dropdownList","addPetButton","addPetText","occurrenceCard","occurrenceDetails","addOccurrenceButton","addOccurrenceText","occurrenceActions","bookingRequestCard","bookingRequestHeader","bookingRequestTitle","bookingRequestDetails","detailLabel","detailText","acceptButton","acceptButtonText","occurrenceCardError","RequestBookingModal","onSubmit","selectedService","setSelectedService","showPetDropdown","setShowPetDropdown","showAddOccurrenceModal","setShowAddOccurrenceModal","setOccurrences","selectedOccurrence","setSelectedOccurrence","confirmationModal","setConfirmationModal","occurrenceErrors","setOccurrenceErrors","confirmDeleteOccurrence","occ","occurrenceToDelete","handleDeleteOccurrence","handleOpenOccurrenceModal","p","petDropdown","dropdownPetName","dropdownPetDetails","renderOccurrenceCard","occs","errors","validateOccurrences","bookingRequestMessage","newOccurrence","MessageHistory","headerContainer","conversationListContainer","borderRightWidth","conversationItem","selectedConversation","borderLeftWidth","borderLeftColor","conversationName","messageSection","messagesContainer","messageList","messageInputContainer","attachButton","sendButton","messageCard","messageContent","sentMessage","messageText","sentMessageContainer","receivedMessageContainer","senderAbove","sentSenderName","receivedSenderName","timestampBelow","sentTimestamp","receivedTimestamp","sentMessageText","receivedMessageText","webInput","appearance","touchAction","WebkitTapHighlightColor","WebkitUserSelect","userSelect","conversationContent","conversationHeader","conversationTime","conversationLastMessage","unreadMessage","bookingStatusContainer","bookingStatus","requestBookingButton","requestBookingLabel","messageListContainer","inputInnerContainer","attachButtonContainer","dropdownMenu","activeConversationText","mobileMessageView","backButtonText","mobileHeader","mobileContent","sendButtonMobile","messageHeader","messageHeaderName","mobileHeaderContent","mobileHeaderName","backArrow","sentBookingRequest","receivedBookingRequest","viewBookingButton","viewBookingText","statusContainer","createStyles","isLoadingConversations","setIsLoadingConversations","isLoadingMessages","setIsLoadingMessages","setSelectedConversation","selectedConversationData","setSelectedConversationData","messages","setMessages","isSending","setIsSending","showRequestModal","setShowRequestModal","showDropdown","setShowDropdown","is_prototype","conversations","setConversations","hasMore","setHasMore","currentPage","setCurrentPage","isLoadingMore","setIsLoadingMore","fetchMessages","conversationId","page","has_more","SendNormalMessage","messageData","prevMessages","conversation_id","conv","last_message","last_message_time","requestUrl","request","fetchConversations","conversation","conversationMessages","loadMoreMessages","renderBookingRequestMessage","useCallback","isFromMe","BookingRequestMessage","onAccept","other_user_name","renderMessage","sent_by_other_user","WebInput","setMessage","handleSend","onKeyPress","shiftKey","preventDefault","renderConversationList","otherParticipantName","participant2_name","participant1_name","toLocaleTimeString","bookingPendingStatus","renderMessageSection","onEndReached","onEndReachedThreshold","inverted","maintainVisibleContentPosition","minIndexForVisible","autoscrollToTopThreshold","currentConversation","isProfessional","professionalId","handleRequestBooking","messageType","handleViewBooking","readOnly","newMessage","stripePromise","Elements","useStripe","useElements","CardElement","IbanElement","ELEMENT_OPTIONS","supportedCountries","base","fontSmoothing","invalid","iconColor","WebPaymentForm","paymentType","elements","bankFields","setBankFields","accountNumber","routingNumber","complete","handleBankFieldChange","field","updatedFields","isAccountNumberValid","isRoutingNumberValid","NativePaymentElement","StripePaymentElement","stripeReact","initializeStripe","bankInputsContainer","bankInput","sectionContainer","segmentedButtons","methodInfo","methodType","primaryOptionsContainer","checkboxRow","checkbox","checkboxLabel","cardActions","dialog","loadingOverlay","bankName","verificationNeeded","amountsContainer","amountInput","verificationText","addIconButton","PaymentMethods","paymentMethods","setPaymentMethods","confirmPrimaryDialogVisible","setConfirmPrimaryDialogVisible","selectedMethod","setSelectedMethod","primaryAction","setPrimaryAction","newPaymentMethod","setNewPaymentMethod","cardNumber","expiryDate","cvc","isConfirming","setIsConfirming","deleteDialogVisible","setDeleteDialogVisible","methodToDelete","setMethodToDelete","deleteError","setDeleteError","cardComplete","setCardComplete","cardElement","setCardElement","stripeElement","setStripeElement","bankAccountComplete","setBankAccountComplete","verificationModalVisible","setVerificationModalVisible","verificationAmounts","setVerificationAmounts","first","second","verifyingMethod","setVerifyingMethod","modalLoading","setModalLoading","isPrimaryPayment","isPrimaryReceive","is_verified","last4","brand","checkStripeReady","handleEditMethod","handleDeleteMethod","handleSetPrimary","confirmSetPrimary","prevMethods","confirmDeleteMethod","handleVerifyBankAccount","handleVerificationSubmit","firstAmount","secondAmount","isNaN","simulateBackendVerification","reject","updateMethod","methods","m","handlePaymentChange","handleSavePaymentMethod","createPaymentMethod","getElement","paymentMethodData","paymentMethod","createToken","currency","routing_number","account_number","account_holder_type","bank_account","bank_name","IconButton","STRIPE_PUBLISHABLE_KEY","handleAddMethod","renderPaymentMethod","Dialog","SegmentedButtons","buttons","animating","listSection","warningContainer","warningText","Settings","settingsItems","Divider","appName","paragraph","listItem","PrivacyPolicy","ProfessionalSettings","testSection","TermsOfService","HelpFAQ","ContactUs","handleFormspreeSubmit","useForm","setSuccessMessage","maxContentWidth","succeeded","ValidationError","prefix","autoCapitalize","submitting","SearchBar","forwardRef","initialValue","setValue","MaterialIcons","focus","autoFocus","returnKeyType","blurOnSubmit","memo","androidSafeArea","searchAndFilterContainer","searchBar","clientList","clientCard","petTypes","petChip","noClientsContainer","filterChip","applyButton","closeIcon","Clients","searchQuery","setSearchQuery","selectedFilters","setSelectedFilters","tempFilters","setTempFilters","isFilterModalVisible","setIsFilterModalVisible","clients","setClients","fetchClients","toggleFilter","prevFilters","applyFilters","filteredClients","useMemo","client","matchesSearch","matchesFilters","every","lastBookingDate","weekAgo","monthAgo","setMonth","yearAgo","setFullYear","renderClient","Chip","handleSearchChange","query","TouchableWithoutFeedback","keyboardShouldPersistTaps","removeClippedSubviews","CostCalculationModal","onContactPress","additionalAnimals","setAdditionalAnimals","isHolidayRate","setIsHolidayRate","selectedRates","setSelectedRates","setTotalCost","platformFees","setPlatformFees","ratesObj","calculateTotalCost","rateItem","counterContainer","counterButton","counterText","trackColor","false","true","totalItem","finalTotal","finalTotalText","contactButton","contactButtonText","dateSection","dateColumn","dateLabel","heartButton","flexShrink","animalTypeContainer","calculateButton","calculateButtonText","ServiceCard","onHeartPress","isFavorite","isModalVisible","setIsModalVisible","handleContactPress","existingConversation","newConversation","createNewConversation","isCurrentUserClient","unshift","WebMap","mockReviews","rating","createElement","textContent","head","appendChild","topSection","gallerySection","photoGrid","bottomSection","servicesSection","aboutSection","hostingSection","hostTitle","weightRanges","weightRange","galleryPhoto","rateLabel","addPhotoButton","ratingContainer","reviewCount","statsContainer","statItem","bioText","serviceText","servicePrice","skillsGrid","skillBadge","skillText","photoGallery","calculatorText","additionalRatesButton","outline","additionalRatesText","calendarSection","readMoreButton","readMoreText","reviewItem","mapContainer","petsSection","petBreed","aboutSubsections","communicationSection","skillsSection","homeDetails","noReviews","fontStyle","twoColumnLayout","singleColumnLayout","leftColumn","rightColumn","calendar","homeFeaturesGrid","featureBubble","reviewHeader","reviewerPhoto","reviewerInfo","reviewerName","serviceInfo","modalCloseIcon","modalScrollContent","reviewsGrid","specialistSection","specialistText","modalReviewItem","leftColumnMobile","seeAllButton","seeAllButtonText","modalServicesGrid","reviewMeta","starContainer","ProfessionalProfile","professionalData","setProfessionalData","canGoBack","setCanGoBack","bioModalVisible","setBioModalVisible","reviewsModalVisible","setReviewsModalVisible","specialistModalVisible","setSpecialistModalVisible","favoriteServices","setFavoriteServices","servicesModalVisible","setServicesModalVisible","isWideScreen","useResponsiveLayout","setIsWideScreen","profileSection","profileSectionMobile","servicesBox","hasHistory","getState","routes","handlePopState","storedProfessional","loadProfessionalData","toggleFavorite","serviceId","renderProfilePhoto","renderRatingStars","TruncatedText","maxLines","renderMap","MapContainer","TileLayer","Marker","center","zoom","attribution","styles2","HomeFeature","renderReview","review","renderAvailability","calendarBackground","selectedDayBackgroundColor","selectedDayTextColor","todayTextColor","servicesScroll","servicesWrapper","horizontal","showsHorizontalScrollIndicator","servicesScrollContent","homeSection","noContractsText","contractTitle","ContractList","setContracts","fetchContracts","modalPicker","dropdownButtonText","pickerModalContainer","pickerContainer","pickerCloseButton","pickerCloseButtonText","ClientPicker","selectedClient","onSelectClient","showClientPicker","setShowClientPicker","templateGrid","templateBox","templateTitle","noTemplatesText","textArea","clientPickerContainer","ContractTemplate","templates","isTemplateModalVisible","setTemplateModalVisible","isEditModalVisible","setEditModalVisible","selectedTemplate","setSelectedTemplate","contractContent","setContractContent","setSelectedClient","template","handleTemplateSelect","handleAddSignableField","prevContent","chronicleTitle","summary","ChronicleSummary","chronicles","chronicle","outerContainer","boxShadow","dropdownItemText","QuestionInput","dropdownPosition","setDropdownPosition","layout","setLayout","handleChange","useLayoutEffect","toggleDropdown","onLayout","nativeEvent","activeOpacity","q","createButton","createButtonText","webModalContent","petOption","selectedPet","petOptionText","uploadButtonText","photoPreview","photoThumbnail","questionContainer","modalButtonContainer","addQuestionButton","addQuestionButtonText","answerInputContainer","answerInput","summaryInput","photoContainer","ChronicleForm","onCreateChronicle","questions","setQuestions","question","answer","isPreset","setSummary","photos","setPhotos","isUploading","setIsUploading","isCreating","setIsCreating","updateQuestion","newQuestions","PhotoPreview","addNewQuestion","uploadingText","uploadingSpinner","handleCreateChronicle","newChronicle","useTemplateButton","useTemplateButtonText","MyContracts","setChronicles","setTemplates","fetchChronicles","fetchTemplates","prevChronicles","successText","ChangePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","setSuccess","setToken","storedToken","getToken","secureTextEntry","current_password","new_password","rows","maxLength","formContainer","profileImageContainer","profileImage","profileImagePlaceholder","boldLabel","resize","customInput","leftTab","rightTab","buttonRow","yesNoContainer","yesNoButton","activeYesNoButton","yesNoText","datePicker","documentsContainer","documentsList","documentThumbnail","galleryContainer","galleryThumbnail","AddPet","petData","stored","search","setPetName","setPetType","setWeight","setBreed","ageYears","setAgeYears","ageMonths","setAgeMonths","setSex","setFriendlyWithChildren","setFriendlyWithCats","setFriendlyWithDogs","setSpayedNeutered","setHouseTrained","setMicrochipped","setAdoptionDate","setDescription","setProfileImage","pottyBreakSchedule","setPottyBreakSchedule","customPottyBreak","setCustomPottyBreak","setEnergyLevel","setFeedingSchedule","customFeedingSchedule","setCustomFeedingSchedule","setLeftAlone","customLeftAlone","setCustomLeftAlone","setMedication","medicationDetails","setMedicationDetails","setAdditionalInstructions","setVetName","setVetAddress","setVetPhone","setVetDocuments","setInsuranceProvider","setGalleryImages","estimatedBirthday","setEstimatedBirthday","veterinarian","documents","estimatedDate","renderTab","renderToggleButtons","customValue","setCustomValue","renderYesNoButtons","handleInputChange","setter","birthDate","calculateAge","All","doc","prevImages","resizeMode","handleSaveProfile","details","fileName","img","renderSexButtons","dropdown","itemText","chipsContainer","chip","chipText","chipRemove","CustomMultiSelect","isOpen","setIsOpen","dropdownRef","getDisplayText","selectedItems","v","displayText","substring","handleItemSelect","stopPropagation","newValue","handleRemoveItem","generalCategoriesData","LocationInput","suggestions","onSuggestionSelect","locationInputRef","debouncedFetch","debounce","display_name","lat","lon","locationInputWrapper","locationInput","suggestionsWrapper","suggestionItem","borderRightColor","datePickerWrapper","dateInput","priceRangeContainer","slider","datePickersContainer","selectedItem","dropdownIcon","itemContainer","selectedChip","selectedChipText","dropdownItemSelected","dropdownItemTextSelected","SearchRefiner","onFiltersChange","filters","setFilters","minRate","maxRate","locationSuggestions","setLocationSuggestions","selectedGeneralCategories","setSelectedGeneralCategories","selectedAnimalTypes","setSelectedAnimalTypes","isServiceDropdownOpen","setIsServiceDropdownOpen","isAnimalDropdownOpen","setIsAnimalDropdownOpen","isGeneralDropdownOpen","setIsGeneralDropdownOpen","handleFilterChange","newFilters","Slider","minimumValue","maximumValue","step","minimumTrackTintColor","maximumTrackTintColor","ProfessionalCard","handlePress","infoContainer","starProfessionalBadge","ratingText","list","listContent","starProfessionalText","repeats","ProfessionalList","professionals","onLoadMore","onProfessionalSelect","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","WebMapComponent","onMarkerPress","region","html","eventHandlers","click","Popup","popupContent","startingRate","markerText","calloutContainer","calloutText","MapView","column","filterColumn","listColumn","mapColumn","mobileNav","activeNavButton","navButtonText","containerMobile","mobileHeaderText","mobileHeaderRight","headerIcon","mapButton","SearchProfessionalsListing","activeView","setActiveView","setProfessionals","setRegion","addListener","handleFiltersChange","handleLoadMore","handleProfessionalSelect","datetime","viewButton","BookingCard","onViewDetails","onCancel","searchContainer","searchInput","listContainer","emptyStateTitle","emptyStateSubtitle","createServiceButtonText","MyBookings","fetchBookings","professional_bookings","client_bookings","searchLower","filtered","renderBookingCard","handleViewDetails","handleCancelBooking","EmptyStateMessage","AddRateModal","setAmount","formatDateWithoutTimezone","month","num","RequestChangesModal","setReason","reasonInput","statusBadge","costRow","totalRow","payoutRow","payoutLabel","payoutAmount","policyText","statusLabel","occurrenceCost","noContentText","editField","editableServiceRow","removeServiceButton","editRow","editInput","timeDropdownList","bookingDatesSection","sectionSubtitle","dateTimeRow","timePickerButton","rateSectionTitle","rateInputRow","rateInputGroup","summarySection","summaryRow","rateHeaderRow","columnHeader","rateAmountColumn","rateActionButtons","infoButton","actionButtonsContainer","primaryButton","denyButton","serviceEditContainer","serviceInputRow","numberInput","serviceDetailsContainer","serviceDetailRow","actionButtons","editOccurrenceButton","editOccurrenceText","occurrenceCostRow","occurrenceCostHeader","occurrenceCostHeaderText","costAndIcon","costSummary","expandedCostDetails","costDetailRow","costDetailText","sectionEditButton","noPetsText","proName","serviceTypeLabel","petListTitle","occurrenceTitle","occurrenceDate","occurrenceTime","costBreakdownTitle","costLabel","costAmount","additionalRateLabel","additionalRateAmount","serviceDetailLabel","serviceDetailValue","occurrenceCardTitle","occurrenceCardDate","occurrenceCardTime","summaryText","occurrenceCardText","BookingDetails","useRoute","setBooking","isProfessionalView","setIsProfessionalView","isPetsEditMode","setIsPetsEditMode","isServiceEditMode","setIsServiceEditMode","editedBooking","setEditedBooking","serviceDetails","holidayFee","weekendFee","timeDropdownPosition","setTimeDropdownPosition","showAddRateModal","setShowAddRateModal","showStartTimePicker","setShowStartTimePicker","showEndTimePicker","setShowEndTimePicker","showPetRateDropdown","setShowPetRateDropdown","showAdditionalPetRate","setShowAdditionalPetRate","showHolidayRate","setShowHolidayRate","showWeekendRate","setShowWeekendRate","expandedOccurrenceId","setExpandedOccurrenceId","isPetsSaving","setIsPetsSaving","isServiceSaving","setIsServiceSaving","showRequestChangesModal","setShowRequestChangesModal","actionLoading","setActionLoading","availablePets","setAvailablePets","isLoadingPets","setIsLoadingPets","availableServices","setAvailableServices","isLoadingServices","setIsLoadingServices","transformedBooking","num_pets","fetchBooking","getDisplayValue","canEdit","can_edit","togglePetsEditMode","Pending","textColor","Confirmed","Canceled","Completed","recalculateTotals","quantity","calculateTotalCosts","handleStatusUpdateAfterEdit","newStatus","handleStatusUpdate","handleDateTimeCardPress","transformedOccurrence","multiple","calculateMultiple","getTimeUnitDisplay","unit","messageSent","recipientId","bookingMessage","sendBookingMessage","currentStatus","updatedBooking","availableBookings","bookingKey","statusReason","updateBookingStatus","showConfirmation","occurrenceId","updatedOccurrences","StatusBadge","testID","petRow","fetchAvailablePets","fetchAvailableServices","service_name","service_id","renderActionButtons","approveButton","updatedData","updatedOccurrence","updateResponse","patch","bookingResponse","handleSaveOccurrence","booking_status","prevBooking","ServiceManagerScreen","showAddModal","setShowAddModal","fetchServices","setRouteHistory","searchBarContainer","noResultsContainer","noResultsText","webSearchInput","outlineWidth","outlineStyle","BlogScreen","filteredPosts","setFilteredPosts","handleSearch","lowercaseQuery","truncatedContent","authorBio","postInfo","referencesTitle","reference","referenceText","errorButton","errorButtonText","BlogPost","setPost","isValidPost","postData","storedPost","parsedPost","postId","foundPost","loadPost","Linking","openURL","handleReferencePress","formSection","nameContainer","nameField","checkboxGroup","checkboxIcon","radioGroup","radioContainer","radio","radioSelected","radioLabel","otherInputContainer","otherInput","Waitlist","lastName","setLastName","setPetInfo","userType","setUserType","hesitations","setHesitations","desiredFeatures","setDesiredFeatures","newsletter","setNewsletter","agreeToTerms","setAgreeToTerms","otherService","setOtherService","showOtherInput","setShowOtherInput","toggleService","formData","Stack","createStackNavigator","screens","createBottomTabNavigator","component","isUserScrolling","setIsUserScrolling","AutoScrollSection","cardWidth","currentIndex","setCurrentIndex","userScrolling","setUserScrolling","autoScrollTimerRef","setInterval","nextIndex","scrollToIndex","clearInterval","scrollTo","animated","handleScrollEnd","onScroll","contentOffset","round","scrollEventThrottle","pagingEnabled","onScrollBeginDrag","handleScrollBegin","onScrollEndDrag","onMomentumScrollEnd","handleDotPress","Features","roadmapColors","featureItemStyle","featureContentStyle","FontAwesome6","FontAwesome","ReviewsSection","BlogSection","renderBlogPost","tagIndex","ContactSection","password","setPassword","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLogin","errorMessage","handleDocumentKeyPress","handleKeyPress","keyboardVerticalOffset","userData","password2","phone_number","errorData","firstError","emailError","setEmailError","uid","linking","enabled","prefixes","config","Home","About","SignIn","SignUp","ResetPassword","ResetPasswordConfirm","path","messageId","senderName","More","Blog","navigationRef","createNavigationContainerRef","isReady","MVPWarning","setIsVisible","checkBannerStatus","warningBanner","warningContent","waitlistButtonText","AppContent","setInitialRoute","authStatus","routePath","matchingScreen","screen","initializeApp","NavigationContainer","onStateChange","Navigator","initialRouteName","screenOptions","headerShown","TransitionPresets","SlideFromRightIOS","presentation","animation","Screen","App","PaperProvider","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","r","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","t","this","ns","def","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","Symbol","toStringTag","nmd","paths","installedChunks","installedChunkData","promise","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}