{"version":3,"file":"static/js/main.4b63a138.js","mappings":"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","sources":["src/styles/theme.js","src/config/config.js","src/utils/StripeService.js","src/utils/StripePlatform.js","src/context/AuthContext.js","src/components/Navigation.js","src/components/RoadmapSection.js","src/data/mockData.js","src/screens/HomeScreen.js","src/screens/ClientProfile.js","src/components/FloatingSaveButton.js","src/components/AddServiceModal.js","src/components/ProfessionalServiceCard.js","src/components/ConfirmationModal.js","src/components/ServiceManager.js","src/components/RecordedPets.js","src/components/EditableSection.js","src/components/ProfessionalTab.js","src/components/DatePicker.js","src/components/BackHeader.js","src/components/CrossPlatformView.js","src/screens/MyProfile.js","src/components/CustomButton.js","src/screens/SignIn.js","src/screens/SignUp.js","src/screens/ResetPassword.js","src/screens/ResetPasswordConfirm.js","src/screens/Dashboard.js","src/screens/SearchProfessionals.js","src/screens/ProfessionalDashboard.js","src/screens/BecomeProfessional.js","src/screens/MoreScreen.js","src/components/UnavailableTimeSlot.js","src/components/AvailabilityBookingCard.js","src/components/TimePicker.js","src/components/AddAvailabilityModal.js","src/components/DefaultSettingsModal.js","src/components/AvailabilityBottomSheet.js","src/components/UnavailableTimesModal.js","src/screens/AvailabilitySettings.js","src/screens/MyPets.js","src/screens/ClientHistory.js","src/utils/dateTimeValidation.js","src/components/AddOccurrenceModal.js","src/components/RequestBookingModal.js","src/screens/MessageHistory.js","src/components/StripeCardElement.js","src/screens/PaymentMethods.js","src/screens/Settings.js","src/screens/PrivacyPolicy.js","src/screens/ProfessionalSettings.js","src/screens/TermsOfService.js","src/screens/HelpFAQ.js","src/screens/ContactUs.js","src/components/SearchBar.js","src/screens/Clients.js","src/components/CostCalculationModal.js","src/components/ServiceCard.js","src/screens/ProfessionalProfile.js","src/components/ContractList.js","src/components/ClientPicker.js","src/components/ContractTemplate.js","src/components/ChronicleSummary.js","src/components/QuestionInput.js","src/components/ChronicleForm.js","src/screens/MyContracts.js","src/screens/ChangePassword.js","src/screens/AddPet.js","src/components/CustomMultiSelect.js","src/components/SearchRefiner.js","src/components/ProfessionalList.js","src/components/MapView.js","src/screens/SearchProfessionalsListing.js","src/components/BookingCard.js","src/screens/MyBookings.js","src/components/AddRateModal.js","src/screens/BookingDetails.js","src/screens/ServiceManagerScreen.js","src/screens/BlogScreen.js","src/screens/BlogPost.js","src/screens/Waitlist.js","App.js","src/screens/AboutScreen.js","node_modules/moment/locale|sync|/^/.//.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// theme.js\nimport { DefaultTheme } from 'react-native-paper';\n\nexport const theme = {\n  ...DefaultTheme,\n  // the regular and header fonts are the fonts used in the app\n  fonts: {\n    ...DefaultTheme.fonts,\n    regular: {\n      fontFamily: 'PlayfairDisplay',\n    },\n    header: {\n      fontFamily: 'Futura',\n    }\n  },\n  typography: {\n    header: {\n      fontFamily: 'Futura',\n    },\n    body: {\n      fontFamily: 'PlayfairDisplay',\n    }\n  },\n  colors: {\n    ...DefaultTheme.colors,\n    mainColors: {\n      main: '#6A6C51',\n      secondary: '#5D6C51',\n      tertiary: '#516C53',\n      quaternary: '#516C61',\n      quinary: '#516A6C',\n      senary: '#515D6C',\n    },\n    primary: '#6A6C51', // Primary color for buttons and header background\n    secondary: '#516C61',\n    background: '#f6f6f6',\n    backgroundContrast: '#F6F3FC',\n    calendarColor: '#A99E6B', // Olive (yellowish) color for calendar (partially unavailable, available)\n    calendarColorYellowBrown: '#8A8C6D', // Yellow-brown color for calendar (booked today, but time is available)\n    text: 'black', // Text color for text bodies\n    whiteText: 'white', // Text color for headers and buttons\n    placeHolderText: '#A9A9A9',\n    accent: '#03dac4', // Accent color if needed\n    error: '#B00020',\n    surface: '#f6f6f6',\n    border: '#6A6C51',\n    inputBackground: '#f6f6f6',\n    receivedMessage: '#e7eae6',\n    // headerBorder: '#e0e0e0',\n    danger: '#A52A2A',\n  },\n  fontSizes: {\n    small: 12,\n    smallMedium: 14,\n    medium: 16,\n    mediumLarge: 18,\n    large: 20,\n    largeLarge: 24,\n    extraLarge: 26,\n  },\n  spacing: {\n    small: 8,\n    medium: 16,\n    large: 24,\n  },\n};","// src/config/config.js\nimport { Platform } from 'react-native';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\n\nlet API_BASE_URL;\n\nif (Platform.OS === 'android') {\n  API_BASE_URL = API_BASE_URL_ANDROID;\n} else if (Platform.OS === 'ios') {\n  API_BASE_URL = API_BASE_URL_IOS;\n} else {\n  API_BASE_URL = API_BASE_URL_WEB;\n}\n\nexport { API_BASE_URL };\n","import { Platform } from 'react-native';\nimport { getStripeModule } from './StripePlatform';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\nimport axios from 'axios';\n\nlet stripeInstance = null;\n\n// Get the appropriate base URL based on platform\nconst getBaseUrl = () => {\n  if (Platform.OS === 'android') {\n    return API_BASE_URL_ANDROID;\n  } else if (Platform.OS === 'ios') {\n    return API_BASE_URL_IOS;\n  }\n  return API_BASE_URL_WEB;\n};\n\nexport const initStripe = async () => {\n  if (!stripeInstance) {\n    stripeInstance = await getStripeModule();\n  }\n  return stripeInstance;\n};\n\nexport const createPaymentMethod = async (paymentDetails) => {\n  try {\n    // This function now only handles native platform\n    if (Platform.OS === 'web') {\n      throw new Error('Web platform should use stripe.createPaymentMethod directly');\n    }\n\n    const stripe = await initStripe();\n    const result = await stripe.createPaymentMethod({\n      type: 'card',\n      card: paymentDetails.card,\n    });\n    \n    if (result.error) {\n      console.error('Stripe error:', result.error);\n      throw new Error(result.error.message);\n    }\n\n    return {\n      paymentMethod: {\n        id: result.paymentMethod.id,\n        last4: result.paymentMethod.card.last4,\n        brand: result.paymentMethod.card.brand,\n        type: 'card'\n      },\n      error: null,\n    };\n  } catch (error) {\n    console.error('Payment method creation error:', error);\n    return {\n      paymentMethod: null,\n      error: {\n        message: error.message || 'Failed to create payment method',\n      },\n    };\n  }\n};\n\nexport const useStripe = () => {\n  if (Platform.OS === 'web') {\n    return {\n      createPaymentMethod: async (options) => {\n        const stripe = await initStripe();\n        return stripe.createPaymentMethod(options);\n      },\n    };\n  }\n  return stripeInstance;\n}; ","import { Platform } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\n\nexport const getStripeModule = async () => {\n  if (Platform.OS === 'web') {\n    const { loadStripe } = await import('@stripe/stripe-js');\n    const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n    if (!stripe) {\n      throw new Error('Failed to initialize Stripe');\n    }\n    return stripe;\n  } else {\n    const { useStripe } = await import('@stripe/stripe-react-native');\n    return useStripe();\n  }\n}; ","import React, { createContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { Dimensions, Platform } from 'react-native';\nimport { navigate } from '../../App';\nimport { initStripe } from '../utils/StripeService';\n\nexport const SCREEN_WIDTH = Dimensions.get('window').width;\nexport const SCREEN_HEIGHT = Dimensions.get('window').height;\n\nexport const AuthContext = createContext();\n\n// Add getStorage function\nexport const getStorage = async (key) => {\n  try {\n    if (Platform.OS === 'web') {\n      return sessionStorage.getItem(key);\n    } else {\n      return await AsyncStorage.getItem(key);\n    }\n  } catch (error) {\n    console.error('Error getting from storage:', error);\n    return null;\n  }\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [isApprovedProfessional, setIsApprovedProfessional] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [screenWidth, setScreenWidth] = useState(Dimensions.get('window').width);\n  const [firstName, setFirstName] = useState('');\n\n  // SET TO \"true\" FOR NO API CALLS\n\n  // Set is_DEBUG to false by default in prototype mode\n  const [is_DEBUG, setIsDebug] = useState(false);\n\n  // Preload Stripe modules when user signs in\n  useEffect(() => {\n    if (isSignedIn) {\n      initStripe();\n    }\n  }, [isSignedIn]);\n\n  // Separate screen width handling from auth\n  useEffect(() => {\n    const handleDimensionsChange = ({ window }) => {\n      setScreenWidth(window.width);\n    };\n\n    const subscription = Dimensions.addEventListener('change', handleDimensionsChange);\n\n    return () => {\n      if (subscription?.remove) {\n        subscription.remove();\n      }\n    };\n  }, []); // No dependencies needed for dimension changes\n\n  // Handle initial auth state separately\n  useEffect(() => {\n    const loadInitialAuth = async () => {\n      try {\n        const authStatus = await checkAuthStatus();\n        if (authStatus.isSignedIn) {\n          await fetchUserName();\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadInitialAuth();\n  }, []); // Only run on mount\n\n  const fetchUserName = async () => {\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        if (is_DEBUG) {\n          console.error('No token found');\n        }\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/users/v1/get-name/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setFirstName(response.data.first_name);\n    } catch (error) {\n      console.error('Error fetching user name:', error.response ? error.response.data : error.message);\n    }\n  };\n\n  // Single useEffect for auth state management\n  useEffect(() => {\n    const loadAuthState = async () => {\n      try {\n        // Ensure storedApproval is retrieved correctly and handle null or undefined values\n        let token, storedRole, storedApproval;\n\n        if (Platform.OS === \"web\") {\n          token = sessionStorage.getItem('userToken');\n          storedRole = sessionStorage.getItem('userRole');\n          storedApproval = sessionStorage.getItem('isApprovedProfessional');\n          if (is_DEBUG) {\n            console.log(\"MBA got token:\", token, \"storedRole:\", storedRole, \"StoredApproval:\", storedApproval);\n          }\n        } else {\n          [token, storedRole, storedApproval] = await AsyncStorage.multiGet([\n            'userToken',\n            'userRole',\n            'isApprovedProfessional'\n          ]);\n        }\n\n        // Handle null or undefined storedApproval\n        const isApproved = storedApproval ? storedApproval[1] === 'true' : false;\n\n        // If we have stored values, use them\n        if (token) {\n          if (is_DEBUG) {\n            console.log(\"MBA got into load auth state if token. storedRole:\", storedRole);\n          }\n          setIsSignedIn(true);\n          setUserRole(storedRole || 'petOwner');\n          setIsApprovedProfessional(isApproved);\n\n          if (is_DEBUG) {\n            console.log('Initial auth state set:', {\n              role: storedRole || 'petOwner',\n              isApproved: isApproved\n            });\n          }\n        } else {\n          if (is_DEBUG) {\n            console.log('No token found, setting to signed out state');\n          }\n          setIsSignedIn(false);\n          setUserRole(null);\n          setIsApprovedProfessional(false);\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setLoading(false);\n        if (is_DEBUG) {\n          console.log('Finished loadAuthState');\n        }\n      }\n    };\n\n    loadAuthState();\n  }, []); // Only run on mount\n\n  useEffect(() => {\n    if (isSignedIn) {\n      fetchUserName();\n    }\n  }, [isSignedIn]);\n\n  const getProfessionalStatus = async (token) => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/professional-status/v1/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      console.log('Professional status response:', response.data);\n      \n      const { is_approved } = response.data;\n      \n      // Set approval status only\n      setIsApprovedProfessional(is_approved);\n      await AsyncStorage.setItem('isApprovedProfessional', String(is_approved));\n      \n      // Just return the status without modifying roles\n      return {\n        isApprovedProfessional: is_approved,\n        suggestedRole: is_approved ? 'professional' : 'petOwner'\n      };\n    } catch (error) {\n      console.error('Error getting professional status:', error.response?.data || error);\n      return {\n        isApprovedProfessional: false,\n        suggestedRole: 'petOwner'\n      };\n    }\n  };\n\n  const signIn = async (token, refreshTokenValue) => {\n    try {\n      if (Platform.OS === \"web\") {\n        sessionStorage.setItem('userToken', token);\n        sessionStorage.setItem('refreshToken', refreshTokenValue);\n      } else {\n        await AsyncStorage.multiSet([\n          ['userToken', token],\n          ['refreshToken', refreshTokenValue],\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log('MBA sign in token', token, 'refreshToken', refreshTokenValue);\n      }\n      setIsSignedIn(true);\n      \n      // Get professional status and set initial role\n      const status = await getProfessionalStatus(token);\n\n      const initialRole = status.suggestedRole;\n      \n      // Set and store the role\n      setUserRole(initialRole);\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userRole', initialRole);\n      } else {\n        await AsyncStorage.setItem('userRole', initialRole);\n      }\n      \n      // Add logging to track access and refresh tokens during signIn\n      if (is_DEBUG) {\n        console.log('Access token stored:', token);\n        console.log('Refresh token stored:', refreshTokenValue);\n      }\n\n      return {\n        userRole: initialRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error during sign in:', error);\n      throw error;\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await AsyncStorage.multiRemove([\n        'userToken', \n        'refreshToken', \n        'userRole', \n        'isApprovedProfessional'\n      ]);\n\n      await sessionStorage.removeItem('userToken');\n      await sessionStorage.removeItem('refreshToken');\n      await sessionStorage.removeItem('userRole');\n      await sessionStorage.removeItem('isApprovedProfessional');\n    } catch (error) {\n      console.error('Error clearing storage:', error);\n    }\n\n    // Set state updates\n    setIsSignedIn(false);\n    setIsApprovedProfessional(false);\n    setUserRole(null);\n\n    // Ensure state updates are processed before navigation\n    setTimeout(() => {\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('explicitSignOut', 'true');\n      }\n      navigate('SignIn');\n    }, 0);\n  };\n\n  const switchRole = async () => {\n    if (isApprovedProfessional) {\n      if (is_DEBUG) {\n        console.log(\"MBA userRole\", userRole);\n      }\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      setUserRole(newRole);\n      try {\n        if (Platform.OS === \"web\") {\n          sessionStorage.setItem('userRole', newRole);\n        } else {\n          await AsyncStorage.setItem('userRole', newRole);\n        }\n        \n        // Verify the role was stored correctly\n        const storedRole = Platform.OS === \"web\" ? sessionStorage.getItem('userRole') : await AsyncStorage.getItem('userRole');\n        console.log(\"MBA Stored role:\", storedRole);\n\n        console.log(\"MBA New role:\", newRole);\n\n      } catch (error) {\n        console.error('Error updating role in storage:', error);\n      }\n    } else {\n      console.log('User is not an approved professional, cannot switch roles');\n    }\n\n    // Add logging in switchRole to track isApprovedProfessional state\n    console.log('Switching role. Current isApprovedProfessional:', isApprovedProfessional);\n  };\n\n  const validateToken = async (token) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/token/verify/`, {\n        token: token\n      });\n\n      return true;\n    } catch (error) {\n      console.log('Token validation error:', error.response?.status);\n      return false;\n    }\n  };\n\n  const refreshUserToken = async (refreshToken) => {\n    try {\n      // Ensure refresh token is retrieved correctly in refreshUserToken\n      const refreshToken = Platform.OS === \"web\" ? sessionStorage.getItem('refreshToken') : await AsyncStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        console.error('No refresh token found');\n        return null;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken\n      });\n      const newToken = response.data.access;\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userToken', newToken);\n      } else {\n        await AsyncStorage.setItem('userToken', newToken);\n      }\n      return newToken;\n    } catch (error) {\n      console.error('Error refreshing token:', error.response?.status);\n      return null;\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      // Check for explicit sign out flag first\n      if (Platform.OS === 'web') {\n        const wasExplicitSignOut = sessionStorage.getItem('explicitSignOut') === 'true';\n        if (wasExplicitSignOut) {\n          // Clear the flag\n          sessionStorage.removeItem('explicitSignOut');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n      }\n\n      // Get current route/path\n      let currentPath = '';\n      if (Platform.OS === 'web') {\n        currentPath = window.location.pathname.slice(1);\n      } else {\n        currentPath = await AsyncStorage.getItem('currentRoute');\n      }\n\n      // Check if we're on the home page or root URL\n      const isHomePage = !currentPath || currentPath === '' || currentPath.toLowerCase() === 'home';\n\n      let token, refreshToken, storedRole, storedApproval;\n\n      if (Platform.OS === \"web\") {\n        token = sessionStorage.getItem('userToken');\n        refreshToken = sessionStorage.getItem('refreshToken');\n        storedRole = sessionStorage.getItem('userRole');\n        storedApproval = sessionStorage.getItem('isApprovedProfessional');\n      } else {\n        [token, refreshToken, storedRole, storedApproval] = await AsyncStorage.multiGet([\n          'userToken',\n          'refreshToken',\n          'userRole',\n          'isApprovedProfessional'\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log(\"MBA userToken:\", token);\n        console.log(\"MBA refreshToken:\", refreshToken);\n        console.log(\"MBA storedRole:\", storedRole);\n        console.log(\"MBA isApprovedProfessional:\", isApprovedProfessional);\n        console.log(\"MBA storedApproval:\", storedApproval);\n        console.log(\"Current path:\", currentPath);\n        console.log(\"Is home page:\", isHomePage);\n      }\n\n      // Handle no tokens scenario\n      if (!token || !refreshToken) {\n        console.log('No tokens found - handling based on current route');\n        \n        // If we're on the home page or root URL, just return unauthenticated state\n        if (isHomePage) {\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        \n        // For any other page, sign out and redirect\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // Rest of the existing token validation logic\n      let currentToken = token;\n      let isValid = false;\n\n      if (currentToken) {\n        isValid = await validateToken(currentToken);\n      }\n\n      if (!isValid && refreshToken) {\n        const newToken = await refreshUserToken(refreshToken);\n        if (newToken) {\n          currentToken = newToken;\n          isValid = true;\n        }\n      }\n\n      if (!isValid) {\n        console.log('No valid token available - handling based on current route');\n        if (isHomePage) {\n          navigate('Home');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // At this point we have a valid token\n      console.log('Token validation successful, checking professional status with token:', currentToken);\n      const status = await getProfessionalStatus(currentToken);\n      console.log('Professional status check result:', status);\n\n      setIsSignedIn(true);\n      setIsApprovedProfessional(status.isApprovedProfessional);\n\n      // If on SearchProfessionalsListing, force petOwner role but don't store it\n      if (currentPath === 'SearchProfessionalsListing') {\n        setUserRole('petOwner');\n        return {\n          isSignedIn: true,\n          userRole: 'petOwner',\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // For all other cases, use the stored role if it exists\n      if (storedRole) {\n        const role = storedRole;\n\n        setUserRole(role);\n        return {\n          isSignedIn: true,\n          userRole: role,\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // Only set a new role if we don't have one stored (first login)\n\n      const newRole = status.suggestedRole || 'petOwner';\n\n      setUserRole(newRole);\n      await AsyncStorage.setItem('userRole', newRole);\n\n      return {\n        isSignedIn: true,\n        userRole: newRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error in checkAuthStatus:', error);\n      await signOut();\n      return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n    } finally {\n      if (is_DEBUG) {\n        console.log('=== Ending checkAuthStatus ===');\n      }\n    }\n  };\n\n  // Add useEffect to persist role changes\n  useEffect(() => {\n    if (isSignedIn) {\n      AsyncStorage.setItem('userRole', userRole || 'professional');\n      AsyncStorage.setItem('isApprovedProfessional', String(isApprovedProfessional));\n    }\n  }, [isSignedIn, userRole, isApprovedProfessional]);\n\n\n  return (\n    <AuthContext.Provider value={{ \n      isSignedIn, \n      setIsSignedIn,\n      userRole,\n      setUserRole,\n      isApprovedProfessional, \n      setIsApprovedProfessional,\n      loading,\n      signIn,\n      signOut,\n      switchRole,\n      screenWidth,\n      checkAuthStatus,\n      firstName,\n      is_DEBUG,\n      setIsDebug\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, Platform, SafeAreaView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Appbar, Menu, useTheme } from 'react-native-paper';\n\nlet previousRoute, currentRoute;\n\nexport const handleBack = async (navigation) => {\n  try {\n    if (Platform.OS === 'web') {\n      previousRoute = sessionStorage.getItem('previousRoute');\n      currentRoute = sessionStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        sessionStorage.setItem('currentRoute', previousRoute);\n        sessionStorage.setItem('previousRoute', currentRoute);\n        // if (is_DEBUG) {\n        //   console.log('Previous Route:', previousRoute);\n        //   console.log('Current Route:', currentRoute);\n        // }\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    } else {\n      previousRoute = await AsyncStorage.getItem('previousRoute');\n      currentRoute = await AsyncStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        await AsyncStorage.setItem('currentRoute', previousRoute);\n        await AsyncStorage.setItem('previousRoute', currentRoute);\n        // console.log('Previous Route:', previousRoute);\n        // console.log('Current Route:', currentRoute);\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    }\n\n    if (previousRoute === currentRoute) {\n      // console.log('Two routes are the same');\n      navigation.navigate('More');\n      return;\n    }\n  } catch (error) {\n    console.error('Error handling back navigation:', error);\n    navigation.navigate('More');\n  }\n};\n\nexport const navigateToFrom = async (navigation, toLocation, fromLocation, params = {}) => {\n  try {\n    // if (is_DEBUG) {\n    //   console.log('Navigating from:', fromLocation, 'to:', toLocation);\n    // }\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('previousRoute', fromLocation);\n      sessionStorage.setItem('currentRoute', toLocation);\n      // console.log('Web - Set previousRoute:', fromLocation);\n      // console.log('Web - Set currentRoute:', toLocation);\n    } else {\n      await AsyncStorage.setItem('previousRoute', fromLocation);\n      await AsyncStorage.setItem('currentRoute', toLocation);\n      // console.log('Mobile - Set previousRoute:', fromLocation);\n      // console.log('Mobile - Set currentRoute:', toLocation);\n    }\n    setTimeout(() => {\n      navigation.navigate(toLocation, params);\n    }, 50);\n  } catch (error) {\n    console.error('Error navigating:', error);\n    navigation.navigate(toLocation, params);\n  }\n};\n\nexport default function Navigation({ navigation }) {\n  const [visible, setVisible] = useState(false);\n  const [isMobile, setIsMobile] = useState(Dimensions.get('window').width < 900);\n  const { colors } = useTheme();\n  const { isSignedIn, is_DEBUG, userRole } = useContext(AuthContext);\n\n  const openMenu = () => setVisible(true);\n  const closeMenu = () => setVisible(false);\n\n  useEffect(() => {\n    const updateLayout = () => {\n      setIsMobile(Dimensions.get('window').width < 900);\n    };\n\n    const subscription = Dimensions.addEventListener('change', updateLayout);\n\n    return () => {\n      subscription?.remove();\n    };\n  }, []);\n\n  const professionalsTitle = Platform.OS === 'web' ? 'Search Pros' : 'Professionals';\n\n  const handleNavigation = async (screenName) => {\n    closeMenu();\n    if (is_DEBUG) {\n      console.log('Screen name:', screenName);\n    }\n    try {\n      if (Platform.OS === 'web') {\n        // Web: Use sessionStorage\n        const currentRoute = sessionStorage.getItem('currentRoute');\n        if (currentRoute) {\n          sessionStorage.setItem('previousRoute', currentRoute);\n        }\n        sessionStorage.setItem('currentRoute', screenName);\n      } else {\n        // Mobile: Use AsyncStorage\n        const currentRoute = await AsyncStorage.getItem('currentRoute');\n        if (currentRoute) {\n          await AsyncStorage.setItem('previousRoute', currentRoute);\n        }\n        await AsyncStorage.setItem('currentRoute', screenName);\n      }\n      navigation.navigate(screenName);\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(screenName);\n    }\n  };\n\n  // Initialize route tracking on component mount\n  useEffect(() => {\n    const initializeRouteTracking = async () => {\n      try {\n        if (Platform.OS === 'web') {\n          // Web: Use sessionStorage\n          const currentRoute = sessionStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            sessionStorage.setItem('currentRoute', initialRoute);\n          }\n        } else {\n          // Mobile: Use AsyncStorage\n          const currentRoute = await AsyncStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            await AsyncStorage.setItem('currentRoute', initialRoute);\n          }\n        }\n      } catch (error) {\n        console.error('Error initializing route tracking:', error);\n      }\n    };\n\n    initializeRouteTracking();\n  }, [isSignedIn, userRole]);\n\n  const renderMenuItems = () => {\n    if (!isSignedIn) {\n      if (isMobile) {\n        return [\n          { title: 'Sign In', icon: 'login', route: 'SignIn' },\n          { title: 'Sign Up', icon: 'account-plus', route: 'SignUp' },\n          { title: 'Become a Pro', icon: 'account-heart', route: 'BecomeProfessional' },\n          { title: 'Search Pros', icon: 'magnify', route: 'SearchProfessionalsListing' },\n          { title: 'More', icon: 'dots-horizontal', route: 'More' },\n        ];\n      }\n      return [\n        { title: 'Sign In', icon: 'login', route: 'SignIn' },\n        { title: 'Sign Up', icon: 'account-plus', route: 'SignUp' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else if (userRole === 'professional') {\n      return [\n        { title: 'Pro Dashboard', icon: 'view-dashboard', route: 'ProfessionalDashboard' },\n        { title: 'MyBookings', icon: 'account-group', route: 'MyBookings' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Availability', icon: 'clock-outline', route: 'AvailabilitySettings' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else {\n      return [\n        { title: 'Dashboard', icon: 'view-dashboard', route: 'Dashboard' },\n        { title: professionalsTitle, icon: 'magnify', route: 'SearchProfessionalsListing' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Become a Pro', icon: 'paw', route: 'BecomeProfessional' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    }\n  };\n\n  const renderMobileNavBar = () => {\n    const menuItems = renderMenuItems();\n    const itemWidth = Dimensions.get('window').width / menuItems.length;\n    return (\n      <View style={styles.customNavBar}>\n        {menuItems.map((item, index) => (\n          <TouchableOpacity\n            key={index}\n            style={[styles.navButton, { width: itemWidth }]}\n            onPress={() => handleNavigation(item.route)}\n          >\n            <MaterialCommunityIcons \n              name={item.icon} \n              size={24} \n              color={theme.colors.whiteText} \n            />\n            <Text style={styles.navText} numberOfLines={2} ellipsizeMode=\"tail\">\n              {item.title}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  };\n\n  const renderWebNavItems = () => {\n    const menuItems = renderMenuItems();\n    return menuItems.map((item, index) => (\n      <TouchableOpacity\n        key={index}\n        style={styles.webNavItem}\n        onPress={() => handleNavigation(item.route)}\n      >\n        <Text style={styles.webNavText}>{item.title}</Text>\n      </TouchableOpacity>\n    ));\n  };\n\n  return (\n    <>\n      {Platform.OS === 'web' ? (\n        <Appbar.Header style={[styles.header, { backgroundColor: colors.primary }]}>\n          <View style={[styles.titleContainer, {flex: isMobile || isSignedIn ? 1 : undefined}]}>\n            <TouchableOpacity onPress={() => handleNavigation('Home')} style={{ width: 150 }}>\n              <Text style={[styles.title, { color: colors.whiteText, width: 110 }]}>CrittrCove</Text>\n            </TouchableOpacity>\n          </View>\n          {!isMobile && !isSignedIn ? (\n            <View style={styles.titleContainer2}>\n              <TouchableOpacity onPress={() => handleNavigation('BecomeProfessional')} style={styles.navLinkContainer}>\n                <MaterialCommunityIcons name=\"account-heart\" size={20} color={theme.colors.whiteText} />\n                <Text style={[styles.title, { color: theme.colors.whiteText, width: 110, fontWeight: '100', marginLeft: 4, fontSize: 16 }]}>Become a Pro</Text>\n              </TouchableOpacity>\n              <TouchableOpacity onPress={() => handleNavigation('SearchProfessionalsListing')} style={styles.navLinkContainer}>\n                <MaterialCommunityIcons name=\"magnify\" size={20} color={theme.colors.whiteText} />\n                <Text style={[styles.title, { color: theme.colors.whiteText, width: 110, fontWeight: '100', marginLeft: 4, fontSize: 16 }]}>Search Pros</Text>\n              </TouchableOpacity>\n            </View>\n          ) : null}\n          {isMobile ? (\n            <Menu\n              visible={visible}\n              onDismiss={closeMenu}\n              anchor={\n                <Appbar.Action\n                  icon={() => <MaterialCommunityIcons name=\"menu\" size={24} color={colors.whiteText} />}\n                  onPress={openMenu}\n                />\n              }\n            >\n              {renderMenuItems().map((item, index) => (\n                <Menu.Item \n                  key={index} \n                  onPress={() => handleNavigation(item.route)} \n                  title={item.title}\n                  titleStyle={{ fontFamily: theme.fonts.regular.fontFamily, fontWeight: '600' }}\n                />\n              ))}\n            </Menu>\n          ) : (\n            <View style={styles.desktopNav}>\n              {renderWebNavItems()}\n            </View>\n          )}\n        </Appbar.Header>\n      ) : (\n        <View style={styles.container}>\n          {renderMobileNavBar()}\n        </View>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    backgroundColor: theme.colors.primary,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    backgroundColor: theme.colors.primary,\n  },\n  titleContainer: {\n    justifyContent: 'center',\n  },\n  titleContainer2: {\n    flex: 1,\n    justifyContent: 'center',\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n  title: {\n    textAlign: 'left',\n    marginLeft: theme.spacing.medium,\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  desktopNav: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  navItem: {\n    marginHorizontal: theme.spacing.medium,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    cursor: 'pointer',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  customNavBar: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    paddingVertical: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  navButton: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 60,\n    paddingHorizontal: 5,\n  },\n  navText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n    marginTop: 5,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  webNavItem: {\n    marginHorizontal: theme.spacing.medium,\n  },\n  webNavText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  navLinkContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginHorizontal: 6,\n  },\n});\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet, Modal, Platform } from 'react-native';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\n\nconst RoadmapSection = () => {\n  const [selectedMilestone, setSelectedMilestone] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const { screenWidth } = useContext(AuthContext);\n  const isMobile = screenWidth < 768;\n\n  const roadmapData = [\n    {\n      id: 1,\n    //   number: '01',\n      title: 'Prototype Launch',\n      description: 'Initial release of CrittrCove webpage and landing page with no signup or app functionality.',\n      icon: 'dog',\n      color: theme.colors.mainColors.senary // Royal Blue\n    },\n    {\n      id: 2,\n    //   number: '02',\n      title: 'Launch of MVP',\n      description: 'This is when users will be able to sign up and use the app fully for the first time on the website! For a full feature list, please check our blog or discord.',\n      icon: 'dragon',\n      color: theme.colors.mainColors.quinary // Medium Purple\n    },\n    {\n      id: 3,\n    //   number: '03',\n      title: 'Launch of App',\n      description: 'Mobile app release with real-time messaging, notifications, and payment integration. For a full feature list, please check our blog or discord.',\n      icon: 'cat',\n      color: theme.colors.mainColors.quaternary // Royal Blue\n    },\n    {\n      id: 4,\n    //   number: '04',\n      title: 'Community Features',\n      description: 'Adding social features, pet communities, and expert advice forums.',\n      icon: 'fish',\n      color: theme.colors.mainColors.main // Medium Purple\n    }\n  ];\n\n  const handleMilestonePress = (milestone) => {\n    setSelectedMilestone(milestone);\n    setModalVisible(true);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Roadmap</Text>\n      \n      {isMobile ? (\n        // Mobile Layout\n        <View style={styles.mobileContainer}>\n          {roadmapData.map((milestone, index) => (\n            <View key={milestone.id} style={[\n              styles.mobileItemContainer,\n              index === roadmapData.length - 1 ? { marginBottom: 0 } : null\n            ]}>\n              <TouchableOpacity\n                style={styles.mobileMarker}\n                onPress={() => handleMilestonePress(milestone)}\n              >\n                <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                  <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n                </View>\n              </TouchableOpacity>\n              <Text style={styles.mobileMilestoneTitle}>{milestone.title}</Text>\n              {index < roadmapData.length - 1 && (\n                <View style={styles.mobileDashedLine} />\n              )}\n            </View>\n          ))}\n        </View>\n      ) : (\n        // Web Layout\n        <View style={styles.webContainer}>\n          <View style={[styles.dashedLine, {\n            width: '80%',\n            left: '10%'\n          }]} />\n          {roadmapData.map((milestone, index) => (\n            <TouchableOpacity\n              key={milestone.id}\n              style={[\n                styles.webMarker,\n                { \n                  left: `${10 + (index * (80 / (roadmapData.length - 1)))}%`,\n                }\n              ]}\n              onPress={() => handleMilestonePress(milestone)}\n            >\n              <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n              </View>\n              <Text style={styles.webMilestoneTitle}>{milestone.title}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      )}\n\n      {/* Modal for milestone details */}\n      <Modal\n        visible={modalVisible}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            {selectedMilestone && (\n              <>\n                <View style={[styles.modalIconContainer, { backgroundColor: selectedMilestone.color }]}>\n                  <Text style={styles.modalNumber}>{selectedMilestone.number}</Text>\n                  <FontAwesome5 \n                    name={selectedMilestone.icon} \n                    size={40} \n                    color=\"white\"\n                  />\n                </View>\n                <Text style={styles.modalTitle}>{selectedMilestone.title}</Text>\n                <Text style={styles.modalDescription}>\n                  {selectedMilestone.description}\n                </Text>\n                <TouchableOpacity\n                  style={[styles.closeButton, { backgroundColor: selectedMilestone.color }]}\n                  onPress={() => setModalVisible(false)}\n                >\n                  <Text style={styles.closeButtonText}>Close</Text>\n                </TouchableOpacity>\n              </>\n            )}\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 40,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileContainer: {\n    width: '100%',\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  mobileItemContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 80,\n    position: 'relative',\n  },\n  mobileMarker: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  mobileMilestoneTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    marginTop: 15,\n    textAlign: 'center',\n    marginBottom: 30,\n  },\n  mobileDashedLine: {\n    position: 'absolute',\n    width: 2,\n    height: 60,\n    bottom: -50,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webContainer: {\n    // height: 200,\n    position: 'relative',\n    marginTop: 20,\n    marginBottom: 120,\n    width: '100%',\n  },\n  dashedLine: {\n    position: 'absolute',\n    height: 2,\n    top: 30,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webMarker: {\n    position: 'absolute',\n    alignItems: 'center',\n    width: 120,\n    transform: [{ translateX: -60 }], // Center the marker\n  },\n  webMilestoneTitle: {\n    marginTop: 10,\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    textAlign: 'center',\n  },\n  markerContainer: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 15,\n    width: '90%',\n    maxWidth: 400,\n    alignItems: 'center',\n  },\n  modalIconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalNumber: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    position: 'absolute',\n    top: 10,\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    lineHeight: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  closeButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '100%',\n    alignItems: 'center',\n  },\n  closeButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\nexport default RoadmapSection; ","// First, declare the BOOKING_STATES constant\nexport const BOOKING_STATES = {\n  // # Initial States\n  DRAFT: 'Draft',\n  PENDING_INITIAL_PROFESSIONAL_CHANGES: 'Pending initial Professional Changes',\n    \n  // # Review States\n  PENDING_PROFESSIONAL_CHANGES: 'Pending Professional Changes',\n  PENDING_CLIENT_APPROVAL: 'Pending Client Approval',\n    \n  // # Active States\n  CONFIRMED: 'Confirmed',\n  CONFIRMED_PENDING_PROFESSIONAL_CHANGES: 'Confirmed Pending Professional Changes',\n  CONFIRMED_PENDING_CLIENT_APPROVAL: 'Confirmed Pending Client Approval',\n    \n  // # Terminal States\n  COMPLETED: 'Completed',\n  DENIED: 'Denied',\n  CANCELLED: 'Cancelled',\n\n  // # States where professionals can edit\n  PROFESSIONAL_EDITABLE_STATES: [\n    'Draft',\n    'Pending initial Professional Changes',\n    'Pending Professional Changes',\n    'Confirmed Pending Professional Changes',\n    'Confirmed'\n  ]\n};\n\nexport const ALL_SERVICES = \"All Services\";\nexport const SERVICE_TYPES = [\n  ALL_SERVICES,\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\",\n];\n\nexport const TIME_OPTIONS = [\n  '15 min',\n  '30 min',\n  '45 min',\n  '1 hr',\n  '2 hr',\n  '4 hr',\n  '8 hr',\n  '24 hr',\n  'overnight',\n  'per day',\n  'per visit'\n];\n\nexport const mockAdditionalRates = {\n  'Fish Tank Cleaning': [\n    { title: 'Extended Stay (7+ days)', amount: 15 },\n    { title: 'Pickup/Dropoff Service', amount: 25 },\n    { title: 'Special Diet Handling', amount: 10 },\n    { title: 'Medication Administration', amount: 15 },\n  ],\n  'Ferrier': [\n    { title: 'Extended Hours', amount: 20 },\n    { title: 'Training Session', amount: 30 },\n    { title: 'Grooming', amount: 25 },\n  ],\n  'Dog Walking': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Plant Watering', amount: 5 },\n    { title: 'Photo Updates', amount: 5 },\n  ],\n  'Reptile Boarding & Habitat Maintenance': [\n    { title: 'Plant Watering', amount: 10 },\n    { title: 'Mail Collection', amount: 5 },\n    { title: 'Extended Visit (4+ hrs)', amount: 30 },\n  ],\n  'Bird Feeding': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Multiple Route Options', amount: 5 },\n    { title: 'Training During Walk', amount: 20 },\n  ],\n};\n\nexport const mockServicesForCards = [\n  {\n    id: 1,\n    name: 'Fish Tank Cleaning',\n    startingPrice: 25,\n    animalTypes: ['Fish'],\n    icon: 'fish',\n    additionalRates: mockAdditionalRates['Fish Tank Cleaning']\n  },\n  {\n    id: 2,\n    name: 'Ferrier',\n    startingPrice: 30,\n    animalTypes: ['Dogs'],\n    icon: 'horse',\n    additionalRates: mockAdditionalRates['Ferrier']\n  },\n  {\n    id: 3,\n    name: 'Dog Walking',\n    startingPrice: 40,\n    animalTypes: ['Dogs'],\n    icon: 'dog',\n    additionalRates: mockAdditionalRates['Dog Walking']\n  },\n  {\n    id: 4,\n    name: 'Reptile Boarding & Habitat Maintenance',\n    startingPrice: 35,\n    animalTypes: ['Reptiles'],\n    icon: 'snake',\n    additionalRates: mockAdditionalRates['Reptile Boarding & Habitat Maintenance']\n  },\n  {\n    id: 5,\n    name: 'Bird Feeding',\n    startingPrice: 45,\n    animalTypes: ['Birds'],\n    icon: 'bird',\n    additionalRates: mockAdditionalRates['Bird Feeding']\n  }\n];\n\nexport const GENERAL_CATEGORIES = [\n  'Farm Animals', \n  'Domestic',\n  'Exotic',\n  'Aquatic',\n  'Invertibrates',\n];\n\nexport const mockPets = [\n  {\n    id: '1',\n    name: 'Max',\n    animal_type: 'Dog',\n    breed: 'border collie',\n    age: {\n      months: 0,\n      years: 5,\n    },\n    weight: 32,\n    sex: 'Male',\n    friendlyWithChildren: true,\n    friendlyWithCats: false,\n    friendlyWithDogs: true,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: true,\n    adoptionDate: '2020-01-15',\n    description: 'Loves to play fetch and go for walks.',\n    energyLevel: 'High',\n    feedingSchedule: 'Morning',\n    leftAlone: '1-4 hours',\n    medication: null,\n    additionalInstructions: 'Needs daily exercise.',\n    vetName: 'Dr. Smith',\n    vetAddress: '123 Vet St.',\n    vetPhone: '555-1234',\n    insuranceProvider: 'Pet Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '2',\n    name: 'Whiskers',\n    animal_type: 'Cat',\n    breed: 'tammy ammy',\n    age: {\n      months: 3,\n      years: 4,\n    },\n    weight: 16,\n    sex: 'Female',\n    friendlyWithChildren: true,\n    friendlyWithCats: true,\n    friendlyWithDogs: false,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: false,\n    adoptionDate: '2019-05-20',\n    description: 'Enjoys lounging in the sun.',\n    energyLevel: 'Low',\n    feedingSchedule: 'Twice a day',\n    leftAlone: '4-8 hours',\n    medication: null,\n    additionalInstructions: 'Prefers quiet environments.',\n    vetName: 'Dr. Jones',\n    vetAddress: '456 Vet Ave.',\n    vetPhone: '555-5678',\n    insuranceProvider: 'Pet Health Insurance',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '3',\n    name: 'Buddy',\n    animal_type: 'snake',\n    breed: 'leopard gecko',\n    age: {\n      months: 0,\n      years: 2,\n    },\n    weight: 1,\n    sex: 'Male',\n    friendlyWithChildren: false,\n    friendlyWithCats: false,\n    friendlyWithDogs: false,\n    spayedNeutered: false,\n    houseTrained: false,\n    microchipped: false,\n    adoptionDate: '2021-08-10',\n    description: 'A calm and quiet pet.',\n    energyLevel: 'Low',\n    feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n    leftAlone: 'Can be left alone indefinitely',\n    medication: null,\n    additionalInstructions: 'Keep in a warm environment.',\n    vetName: 'Dr. Green',\n    vetAddress: '789 Vet Blvd.',\n    vetPhone: '555-9012',\n    insuranceProvider: 'Reptile Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n];\n\nexport const mockProfessionals = [\n  {\n    id: '1',\n    name: 'John Doe',\n    profilePicture: require('../../assets/user1.png'),\n    reviews: 4.5,\n    price: 25,\n    bio: 'Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.',\n    location: 'Colorado Springs, CO',\n    coordinates: { latitude: 38.8339, longitude: -104.8214 },\n    serviceTypes: ['House Sitting', 'Dog Walking'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '2',\n    name: 'Jane Smith',\n    profilePicture: require('../../assets/user2.png'),\n    reviews: 4.8,\n    price: 30,\n    bio: 'Specialized in exotic pets.',\n    location: 'Manitou Springs, CO',\n    coordinates: { latitude: 38.8597, longitude: -104.9172 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '3',\n    name: 'Mike Wilson',\n    profilePicture: require('../../assets/user3.png'),\n    reviews: 4.7,\n    price: 28,\n    bio: 'Dog trainer with 5 years experience.',\n    location: 'Security-Widefield, CO',\n    coordinates: { latitude: 38.7478, longitude: -104.7288 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '4',\n    name: 'Sarah Johnson',\n    profilePicture: require('../../assets/user4.png'),\n    reviews: 4.9,\n    price: 35,\n    bio: 'Veterinary technician, great with medical needs.',\n    location: 'Fountain, CO',\n    coordinates: { latitude: 38.6822, longitude: -104.7008 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats', 'exotics'],\n  },\n  {\n    id: '5',\n    name: 'Tom Brown',\n    profilePicture: require('../../assets/user5.png'),\n    reviews: 4.6,\n    price: 27,\n    bio: 'Experienced with large breeds.',\n    location: 'Black Forest, CO',\n    coordinates: { latitude: 39.0128, longitude: -104.7008 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  // Additional professionals further out\n  {\n    id: '6',\n    name: 'Lisa Anderson',\n    profilePicture: require('../../assets/user6.png'),\n    reviews: 4.4,\n    price: 32,\n    bio: 'Experienced with birds and small animals.',\n    location: 'Monument, CO',\n    coordinates: { latitude: 39.0917, longitude: -104.8722 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '7',\n    name: 'David Clark',\n    profilePicture: require('../../assets/user7.png'),\n    reviews: 4.7,\n    price: 29,\n    bio: 'Specializing in puppy care and training.',\n    location: 'Woodland Park, CO',\n    coordinates: { latitude: 38.9939, longitude: -105.0569 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '8',\n    name: 'Emma White',\n    profilePicture: require('../../assets/user8.png'),\n    reviews: 4.8,\n    price: 33,\n    bio: 'Experienced with senior pets.',\n    location: 'Pueblo West, CO',\n    coordinates: { latitude: 38.3494, longitude: -104.7224 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '9',\n    name: 'James Miller',\n    profilePicture: require('../../assets/user9.png'),\n    reviews: 4.5,\n    price: 26,\n    bio: 'Great with high-energy dogs.',\n    location: 'Castle Rock, CO',\n    coordinates: { latitude: 39.3722, longitude: -104.8561 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '10',\n    name: 'Rachel Green',\n    profilePicture: require('../../assets/user10.png'),\n    reviews: 4.9,\n    price: 34,\n    bio: 'Experienced with reptiles and amphibians.',\n    location: 'Palmer Lake, CO',\n    coordinates: { latitude: 39.1153, longitude: -104.9158 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics'],\n  }\n];\n\nexport const mockClients = [\n  {\n    id: '1',\n    name: 'Alice Johnson',\n    pet_types: ['Dog', 'Cat'],\n    last_booking: '2024-01-15',\n    pets: ['1', '2'], // References to pet IDs\n    email: 'alice@example.com',\n    phone: '555-0101',\n    address: '123 Pine St, Colorado Springs, CO',\n  },\n  {\n    id: '2',\n    name: 'Bob Wilson',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-01',\n    pets: ['3'],\n    email: 'bob@example.com',\n    phone: '555-0102',\n    address: '456 Oak Ave, Colorado Springs, CO',\n  },\n  {\n    id: '3',\n    name: 'Carol Martinez',\n    pet_types: ['Cat', 'Exotic'],\n    last_booking: '2024-01-28',\n    pets: ['4', '5'],\n    email: 'carol@example.com',\n    phone: '555-0103',\n    address: '789 Maple Dr, Colorado Springs, CO',\n  },\n  {\n    id: '4',\n    name: 'David Brown',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-05',\n    pets: ['6'],\n    email: 'david@example.com',\n    phone: '555-0104',\n    address: '321 Elm St, Colorado Springs, CO',\n  },\n  {\n    id: '5',\n    name: 'Eva Garcia',\n    pet_types: ['Exotic'],\n    last_booking: '2024-01-20',\n    pets: ['7'],\n    email: 'eva@example.com',\n    phone: '555-0105',\n    address: '654 Birch Ln, Colorado Springs, CO',\n  }\n];\n\n// Availability Tab\nexport const fetchAvailabilityData = () => {\n  return new Promise((resolve) => {\n    // to get the bookings, we need to fetch the booking table on backend\n    // to get available/unavailable dates we need to fetch the availability table on backend\n    setTimeout(() => {\n      resolve({\n        availableDates: {\n          '2025-02-01': { startTime: '09:00', endTime: '17:00' },\n          '2025-02-02': { startTime: '10:00', endTime: '18:00' },\n          '2025-02-03': { startTime: '09:00', endTime: '17:00' },\n        },\n        unavailableDates: {\n          '2025-02-04': { startTime: '00:00', endTime: '24:00' },\n          '2025-02-05': { startTime: '10:00', endTime: '18:00' },\n        },\n        bookings: {\n          '2025-02-06': [\n            { id: 'bk1', startTime: '14:00', endTime: '16:00', client_name: 'Charlie', service_type: 'Dog Walking' },\n            { id: 'bk2', startTime: '16:00', endTime: '18:00', client_name: 'Bob', service_type: 'Dog Walking' },\n            { id: 'bk3', startTime: '18:00', endTime: '20:00', client_name: 'Nick', service_type: 'Pet Boarding' },\n            { id: 'bk4', startTime: '20:00', endTime: '22:00', client_name: 'Alfred', service_type: 'Drop-In Visits (30 min)' }\n          ],\n          '2025-02-07': [\n            { id: 'bk5', startTime: '10:00', endTime: '12:00', client_name: 'Uhtred', service_type: 'Dog Walking' }\n          ],\n        },\n      });\n    }, 1000);\n  });\n};\n\n// Add mock update functions\nexport const updateAvailability = (updates) => {\n  console.log(\"updateAvailability\", updates);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: updates });\n    }, 500);\n  });\n};\n\nexport const updateBooking = (bookingData) => {\n  console.log(\"updateBooking\", bookingData);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: bookingData });\n    }, 500);\n  });\n};\n\nconst sharedBookingDetails = {\n  booking_id: 'bk1',\n  status: 'Confirmed',\n  client_name: 'matt aertker',\n  professional_name: 'matt2 aertker2',\n  service_details: {\n    service_type: 'Ferrier'\n  },\n  pets: [\n    {\n      pet_id: 3,\n      name: 'Jack',\n      species: 'DOG',\n      breed: 'Golden'\n    }\n  ],\n  occurrences: [\n    {\n      occurrence_id: 10,\n      start_date: '2025-02-01',\n      end_date: '2025-02-02',\n      start_time: '15:06',\n      end_time: '16:06',\n      calculated_cost: '61.04',\n      base_total: '$26.04',\n      rates: {\n        base_rate: '25.00',\n        additional_animal_rate: '5.00',\n        additional_animal_rate_applies: false,\n        applies_after: 2,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '35.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$5.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$5.00'\n          }\n        ]\n      }\n    },\n    {\n      occurrence_id: 9,\n      start_date: '2025-03-13',\n      end_date: '2025-03-14',\n      start_time: '09:00',\n      end_time: '14:00',\n      calculated_cost: '120.08',\n      base_total: '$35.04',\n      rates: {\n        base_rate: '29.00',\n        additional_animal_rate: '8.00',\n        additional_animal_rate_applies: false,\n        applies_after: 1,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '40.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$35.04'\n          }\n        ]\n      }\n    }\n  ],\n  cost_summary: {\n    subtotal: 181.12,\n    platform_fee: 18.11,\n    taxes: 15.94,\n    total_client_cost: 215.17,\n    total_sitter_payout: 163.01,\n    is_prorated: true\n  }\n};\n\n// Initialize mockBookingDetails with existing mock data\nconst mockBookingDetails = {\n  '1234': {\n    ...sharedBookingDetails,\n    id: '1234',\n    clientName: 'John Doe',\n    status: BOOKING_STATES.CONFIRMED,\n    startDate: '2024-02-20',\n    startTime: '14:00',\n  },\n  '5678': {\n    ...sharedBookingDetails,\n    id: '5678',\n    clientName: 'Margarett Laporte',\n    status: BOOKING_STATES.CANCELLED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56782': {\n    ...sharedBookingDetails,\n    id: '56782',\n    clientName: 'Zoe Aerial',\n    status: BOOKING_STATES.DENIED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5673': {\n    ...sharedBookingDetails,\n    id: '5673',\n    clientName: 'Matt Clark',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5674': {\n    ...sharedBookingDetails,\n    id: '5674',\n    clientName: 'Mark Smith',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '5675',\n    clientName: 'Lauren Smith',\n    status: BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '56712',\n    clientName: 'Matt Smith',\n    status: BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56713': {\n    ...sharedBookingDetails,\n    id: '567123',\n    clientName: 'Albert Einstein',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '3749': {...sharedBookingDetails,\n    id: '567132',\n    clientName: 'Dr. Mike Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91011': {\n    ...sharedBookingDetails,\n    id: '91011',\n    clientName: 'Dr. Bla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91012': {\n    ...sharedBookingDetails,\n    id: '91012',\n    clientName: 'Dr. Blabla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  }\n};\n\n// Map mockProfessionalBookings from mockBookingDetails\nexport const mockProfessionalBookings = Object.values(mockBookingDetails)\n  .map(booking => ({\n    id: booking.id,\n    clientName: booking.clientName,\n    status: booking.status,\n    date: booking.startDate,\n    time: booking.startTime,\n    serviceType: booking.serviceType,\n    numberOfPets: booking.numberOfPets || 1,\n    totalCost: booking.costs?.totalClientCost || 0,\n    professionalPayout: booking.costs?.professionalPayout || 0\n  }));\n\n// Add the createBooking function\nexport const createBooking = async (clientId, freelancerId, initialData = {}) => {\n  const newBookingId = `booking_${Date.now()}`;\n  \n  const newBooking = {\n    id: newBookingId,\n    clientId: clientId,\n    freelancerId: freelancerId,\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    clientName: initialData.clientName || 'TBD',\n    professionalName: initialData.professionalName || 'TBD',\n    serviceType: initialData.serviceType || 'TBD',\n    animalType: initialData.animalType || 'TBD',\n    numberOfPets: initialData.numberOfPets || 0,\n    duration: initialData.duration || 0,\n    occurrences: initialData.occurrences || [],\n    rates: {\n      baseRate: 0,\n      additionalPetRate: 0,\n      extraServices: []\n    },\n    costs: {\n      baseTotal: 0,\n      additionalPetTotal: 0,\n      extraServicesTotal: 0,\n      subtotal: 0,\n      clientFee: 0,\n      taxes: 0,\n      totalClientCost: 0,\n      professionalPayout: 0\n    },\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    ...initialData\n  };\n\n  // Add to mock database\n  mockBookingDetails[newBookingId] = newBooking;\n  \n  console.log('Created new booking:', {\n    bookingId: newBookingId,\n    booking: newBooking,\n    allBookings: Object.keys(mockBookingDetails)\n  });\n\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n  return newBookingId;\n};\n\n// Update fetchBookingDetails with better logging\nexport const fetchBookingDetails = async (bookingId) => {\n  // console.log('Fetching booking details');\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  const bookingDetails = mockBookingDetails[bookingId];\n  if (!bookingDetails) {\n    console.error('Booking not found:', {\n      requestedId: bookingId,\n      availableBookings: Object.keys(mockBookingDetails)\n    });\n    throw new Error('Booking not found');\n  }\n  \n  return bookingDetails;\n};\n\n// Export mockBookingDetails for debugging\nexport const _mockBookingDetails = mockBookingDetails;\n\n// Add new mock function for updating booking status\nexport const updateBookingStatus = async (bookingId, newStatus, reason = '', metadata = {}) => {\n  console.log('updateBookingStatus called with:', {\n    bookingId,\n    newStatus,\n    reason,\n    metadata,\n    availableBookings: Object.keys(mockBookingDetails)\n  });\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  // Find the booking by ID regardless of the key\n  const bookingKey = Object.keys(mockBookingDetails).find(key => \n    mockBookingDetails[key].id === bookingId\n  );\n  \n  if (!bookingKey) {\n    console.error('Booking not found in mockBookingDetails. Available bookings:', \n      Object.keys(mockBookingDetails),\n      '\\nFull mockBookingDetails:', mockBookingDetails\n    );\n    throw new Error('Booking not found');\n  }\n  \n  // Create updated booking object\n  mockBookingDetails[bookingKey] = {\n    ...mockBookingDetails[bookingKey],\n    status: newStatus,\n    statusReason: reason,\n    updated_at: new Date().toISOString(),\n    ...metadata\n  };\n\n  console.log('Updated booking:', mockBookingDetails[bookingKey]);\n  return mockBookingDetails[bookingKey];\n};\n\n// Make sure to update MyBookings.js to use the same BOOKING_STATES constant\nexport const mockClientBookings = [\n  {\n    id: '91011',\n    professionalName: 'Sarah Wilson',\n    status: BOOKING_STATES.CONFIRMED,\n    date: '2024-02-22',\n    time: '10:00',\n    serviceType: 'Dog Walking',\n    numberOfPets: 2,\n    totalCost: 75.00,\n  },\n  {\n    id: '91012',\n    professionalName: 'Mike Johnson',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    date: '2024-02-23',\n    time: '11:00',\n    serviceType: 'Pet Sitting',\n    numberOfPets: 1,\n    totalCost: 50.00,\n  },\n];\n\n// Assuming current user ID is 101 for testing\nexport const CURRENT_USER_ID = 101;\n\nexport const mockConversations = [\n  {\n    id: 'conv_1',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 202,\n    name: \"Dr. Sarah Smith\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'd be happy to help! What kind of pet do you have?\",\n    timestamp: \"2024-02-21T07:05:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_2',\n    participant1_id: 303,\n    participant2_id: CURRENT_USER_ID,\n    name: \"Dr. Mike Johnson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'm available! Let's set up a booking\",\n    timestamp: \"2024-02-21T15:35:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_3',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 204,\n    name: \"Dr. Emily Wilson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your cat's checkup is scheduled\",\n    timestamp: \"2024-02-20T10:15:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_4',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 205,\n    name: \"Dr. James Anderson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"See you tomorrow at 2 PM\",\n    timestamp: \"2024-02-19T16:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_5',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 206,\n    name: \"Dr. Lisa Brown\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How is Max doing today?\",\n    timestamp: \"2024-02-18T09:30:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_6',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 207,\n    name: \"Dr. Robert Taylor\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The medication has been prescribed\",\n    timestamp: \"2024-02-17T14:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_7',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 208,\n    name: \"Dr. Maria Garcia\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your appointment is confirmed\",\n    timestamp: \"2024-02-16T11:25:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_8',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 209,\n    name: \"Dr. David Lee\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Let's schedule a follow-up\",\n    timestamp: \"2024-02-15T13:40:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_9',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 210,\n    name: \"Dr. Sarah Martinez\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The test results are ready\",\n    timestamp: \"2024-02-14T15:55:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_10',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 211,\n    name: \"Dr. John White\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How's the new diet working?\",\n    timestamp: \"2024-02-13T08:15:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_11',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 212,\n    name: \"Dr. Anna Clark\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Vaccination reminder\",\n    timestamp: \"2024-02-12T10:30:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_12',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 213,\n    name: \"Dr. Thomas Wright\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Surgery scheduled for next week\",\n    timestamp: \"2024-02-11T12:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_13',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 214,\n    name: \"Dr. Patricia Moore\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Emergency consultation available\",\n    timestamp: \"2024-02-10T17:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_14',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 215,\n    name: \"Dr. Kevin Hall\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Treatment plan updated\",\n    timestamp: \"2024-02-09T14:10:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_15',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 216,\n    name: \"Dr. Rachel Green\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Prescription ready for pickup\",\n    timestamp: \"2024-02-08T16:35:00Z\",\n    unread: true\n  }\n];\n\nexport const mockMessages = {\n  'conv_1': [\n    {\n      message_id: 1,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Hi, I'm interested in your pet sitting services\",\n      timestamp: \"2024-02-21T14:00:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 2,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: 202,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'd be happy to help! What kind of pet do you have?\",\n      timestamp: \"2024-02-21T14:05:00Z\",\n      booking_id: null,\n      status: \"sent\",\n      is_booking_request: false,\n      metadata: {}\n    }\n  ],\n  'conv_2': [\n    {\n      message_id: 3,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Looking for a dog walker next week\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 4,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      type: 'booking_request',\n      data: {\n        serviceType: \"Dog Walking\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' }\n        ],\n        occurrences: [\n          {\n            startDate: '2024-02-28',\n            endDate: '2024-02-28',\n            startTime: '14:00',\n            endTime: '15:00'\n          }\n        ]\n      },\n      timestamp: \"2024-02-21T15:35:00Z\",\n      status: \"sent\",\n      is_booking_request: true,\n      metadata: {}\n    },\n    {\n      message_id: 5,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'll take a look!\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n  ]\n};\n\n// Helper function to create a new conversation\nexport const createNewConversation = (professionalId, professionalName, clientId, clientName) => {\n  const conversationId = `conv_${Date.now()}`;\n  const isCurrentUserClient = clientId === CURRENT_USER_ID;\n  \n  return {\n    id: conversationId,\n    participant1_id: isCurrentUserClient ? clientId : professionalId,\n    participant2_id: isCurrentUserClient ? professionalId : clientId,\n    role_map: {\n      participant1_role: isCurrentUserClient ? \"client\" : \"professional\",\n      participant2_role: isCurrentUserClient ? \"professional\" : \"client\"\n    },\n    lastMessage: \"\",\n    timestamp: new Date().toISOString(),\n    unread: false,\n    bookingStatus: null\n  };\n};\n\nexport const DEFAULT_SERVICES = [\n  {\n    serviceName: 'Dog Walking',\n    animalTypes: 'Dogs',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '10',\n  },\n  {\n    serviceName: 'Cat Sitting',\n    animalTypes: 'Cats',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '5',\n  },\n  {\n    serviceName: 'Exotic Pet Care',\n    animalTypes: 'Lizards, Birds',\n    rates: { base_rate: '25' },\n    additionalAnimalRate: '15',\n  },\n];\n\nexport const SERVICE_TYPE_SUGGESTIONS = [\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\", \n];\n\nexport const ANIMAL_TYPE_SUGGESTIONS = [\n  'Dog',\n  'Cat',\n  'Cow',\n  'Calf',\n  'Lizard',\n  'Bird',\n  'Rabbit',\n  'Fish',\n];\n\nexport const BLOG_POSTS = [\n  {\n    id: 'blog_1',\n    title: 'What Your Dog is Really Saying',\n    author: {\n      id: 'author_1',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Professional dog trainer and animal behavior specialist with over 10 years of experience.'\n    },\n    publishDate: '2024-02-22',\n    readTime: '8 min',\n    tags: ['Dogs', 'Behavior', 'Training', 'Pet Care'],\n    content: `You know that moment when your dog tilts their head at you like you just asked them to solve a calculus problem? Turns out, they're not the only ones trying to understand you—they've been communicating with you this whole time, and you probably didn't even realize it.\n\nDogs may not speak English (yet—give them time), but they have an entire language built on tail wags, ear positions, and those big, soulful eyes they use to manipulate you into giving them extra treats. Learning to read their body language isn't just a party trick—it can help prevent stress, deepen your bond, and maybe even stop your dog from embarrassing you at the dog park. So, let's finally crack the code on what your dog has been trying to tell you.\n\nTail Wagging: Not Always a Sign of Happiness\nOne of the biggest myths out there is that a wagging tail means a happy dog. Nope. Not always. A dog's tail is basically their mood ring, and the way they wag tells a whole different story.\nLoose, full-body wag (with bonus butt wiggles): This is the classic \"OMG YOU'RE HOME!!\" happy dance. A+ vibes.\nSlow wag, tail held high: The \"I'm analyzing this situation\" wag. Suspicious, calculating, possibly deciding if you're worth their energy.\nStiff, fast wag with a raised tail: Yikes. This is \"I'm on edge, don't mess with me\" energy. Proceed with caution.\nLow, fast wag: \"I'm nervous, and I don't know what's happening, so I'm just gonna keep wiggling and hope for the best.\"\nTucked tail: Fear. If the tail is all the way tucked under, your dog is basically saying, \"I regret everything, please don't yell at me.\"\nEven the direction of the wag matters—researchers found that dogs wag more to the right when they're happy and to the left when they're unsure or stressed (Quaranta et al., 2007). Yes, your dog's tail literally has anxiety tells.\n\nEars and Eyes: The Silent Storytellers\nDogs don't just talk with their tails—they also use their ears and eyes like tiny, furry actors in a silent film.\nSoft eyes, relaxed ears: Your dog is living their best life. No stress, just vibes.\nWide eyes, whites showing (a.k.a. \"whale eye\"): \"I am uncomfortable with the energy we have created in this room.\" This is a warning sign—your dog feels uneasy or trapped.\nPerked-up ears: \"I heard something, and I will investigate.\" Could be excitement, curiosity, or them preparing to bark at absolutely nothing.\nEars pinned back: \"I'm nervous\" or \"I did something bad, and I hope you don't notice.\" Classic guilty dog move.\nEver notice how some dogs do a little squint when they're happy? It's their version of a smile. On the flip side, prolonged direct eye contact—especially with an unfamiliar dog—can be a challenge. So, if you're having a staring contest with a dog you just met…maybe don't.\n\nThe Freeze: When Your Dog Hits Pause (And You Should Pay Attention)\nIf a dog suddenly stops moving and stiffens, pay attention. Freezing is often their last warning before things escalate to growling, snapping, or biting. A lot of people miss this and then wonder why their dog \"suddenly\" lashed out.\nYou might see this when:\nA child is hugging a dog (which, fun fact, most dogs hate).\nSomeone is petting a dog too aggressively.\nThe dog feels cornered and has no escape route.\nResearch by Rooney Clark and Casey (2016) helped show that when a dog freezes, in some way or another they are stressed, its best to give them space in that moment and take a mental note of your newest training goal! Sometimes, they just need a minute to de-escalate, like when you have to breathe through a customer service call that's not going well.\n\nMouth Matters: Smiles vs. Stress\nDogs can technically smile, but it's not always what you think.\nLoose, open mouth, tongue hanging out: Happy, relaxed, living their best life.\nClosed mouth, tight lips: Alert or unsure. They're analyzing the situation.\nLips pulled back, slight teeth showing: Some dogs do a \"submissive grin,\" which isn't aggression—it's their way of saying, \"Hey, I'm friendly!\"\nWrinkled nose, full teeth bared: This is aggression. Back off.\nExcessive yawning in a new situation: Dogs don't just yawn when they're tired—they also yawn when they're stressed. To put it simply, they are overstimulated. (Glenk, 2020) Don't be fooled by the parrot dog, sometimes they yawn because they saw you yawn first! (D'Aniello, 2019)\n\nConclusion: Your Dog Has Been Sending You Texts—Now You Can Finally Read Them\nDogs may not be able to talk (yet), but they've been communicating loud and clear this whole time. That tail wag? Could be excitement, could be stress. That little squint? Doggy love. The full-body freeze? That's a big ol' \"DO NOT DISTURB\" sign.\nThe more you pay attention, the better you'll understand your dog—and the fewer awkward misunderstandings you'll have (like mistaking a stress yawn for a nap cue). As we said in the beginning, your dog already knows exactly how to read you. They know your routine, when you're about to leave the house, and how to guilt-trip you into sharing your snacks. The least you can do is return the favor.\nSo next time your dog gives you the side-eye, perks their ears, or flops over dramatically after a single walk, you'll finally know what they're saying. And let's be honest—it's probably, \"I love you… now give me a treat.\"`,\n    references: [\n      {\n        title: '7 tips for canine body language',\n        authors: 'American Society for the Prevention of Cruelty to Animals (ASPCA)',\n        publication: 'ASPCApro',\n        url: 'https://www.aspcapro.org/resource/7-tips-canine-body-language'\n      },\n      {\n        title: \"Therapy dogs' salivary cortisol levels vary during animal-assisted interventions\",\n        authors: 'Glenk, L. M., Kothgassner, O. D., Stetina, B. U., Palme, R., & Kepplinger, B.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2020,\n        doi: '10.3389/fvets.2020.564201'\n      },\n      {\n        title: 'The importance of associative learning in cross-species social bonding: Dogs and humans',\n        authors: \"D'Aniello, B., Scandurra, A., Alterisio, A., Aria, M., & Siniscalchi, M.\",\n        publication: 'Frontiers in Psychology',\n        year: 2019,\n        doi: '10.3389/fpsyg.2019.01678'\n      },\n      {\n        title: 'Oxytocin-gaze positive loop and the coevolution of human-dog bonds',\n        authors: 'Nagasawa, M., Mitsui, S., En, S., Ohtani, N., Ohta, M., Sakuma, Y., Onaka, T., Mogi, K., & Kikusui, T.',\n        publication: 'Science',\n        year: 2015,\n        doi: '10.1126/science.1261022'\n      },\n      {\n        title: 'Asymmetric tail-wagging responses by dogs to different emotive stimuli',\n        authors: 'Quaranta, A., Siniscalchi, M., & Vallortigara, G.',\n        publication: 'Current Biology',\n        year: 2007,\n        doi: '10.1016/j.cub.2007.02.008'\n      },\n      {\n        title: 'Minimizing fear and anxiety in working dogs: A review',\n        authors: 'Rooney, N. J., Clark, C. C. A., & Casey, R. A.',\n        publication: 'Journal of Veterinary Behavior',\n        year: 2016,\n        doi: '10.1016/j.jveb.2016.11.001'\n      }\n    ],\n    likes: 245,\n    comments: 56,\n    shares: 89\n  },\n  {\n    id: 'blog_2',\n    title: 'What Your Cat is Really Saying',\n    author: {\n      id: 'author_2',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Feline behavior specialist and veterinarian with a focus on cat-human relationships.'\n    },\n    publishDate: '2024-02-23',\n    readTime: '7 min',\n    tags: ['Cats', 'Behavior', 'Pet Care', 'Communication'],\n    content: `Ever wonder why your cat stares at you before slowly blinking or why they randomly sprint across the house at 2 AM? While cats may seem mysterious, they actually have a complex system of communication—if you know what to look for. Unlike dogs, who wear their emotions on their tails (literally), cats are more subtle. But once you learn their signals, you'll start to see what your cat has been trying to tell you all along.\n\nThe Myth of the Aloof Cat: Do They Actually Care About You?\nMany people think cats are independent and don't bond with their owners the way dogs do. But research suggests otherwise. A study by Vitale et al. (2019) found that cats form secure attachments to their owners, much like infants do with their caregivers. In an experiment where cats were briefly separated from their owners, many showed signs of distress when left alone and relief upon their owner's return. So yes, your cat does care about you—they just have their own way of showing it.\n\nThe Slow Blink: A Feline \"I Love You\"\nOne of the best-kept secrets of cat communication is the slow blink. If your cat locks eyes with you and then slowly closes and opens their eyes, congratulations! You've just received a cat's version of a smile. Research completed in 2020 (Humphrey) found that when humans slowly blink at their cats, the cats are more likely to return the gesture and approach them in a friendly manner. So, next time you want to say \"I love you\" to your cat, skip the baby talk and try a slow blink instead.\n\nTail Talk: Not Just for Dogs\nA cat's tail is like a built-in mood ring. Learning to read tail signals can help you avoid scratches and strengthen your bond.\nTail up, tip curved: A friendly, confident cat greeting. If your cat walks toward you with their tail high, they're happy to see you.\nPuffed-up tail: This is a defensive reaction. Your cat is startled or feels threatened.\nLow, slow-wagging tail: Unlike dogs, a slow-wagging cat tail isn't a good sign—it often signals irritation or mild aggression.\nTail wrapped around you or another cat: This is a sign of affection, almost like holding hands.\n\nPurring: More Than Just Happiness\nEveryone loves the soothing sound of a purring cat, but did you know cats don't just purr when they're happy? While contentment is a common reason, studies suggest cats also purr when they're stressed, in pain, or even trying to heal themselves. The frequency of cat purrs (between 25 and 150 Hz) has been linked to tissue regeneration and bone healing in studies on vibrational therapy (Muggenthaler, 2001). So, if your cat is purring at the vet's office, they may not be enjoying themselves—they might just be self-soothing.\n\nHeadbutting and Kneading: Strange but Sweet Gestures\nHeadbutting (bunting): When your cat gently bumps their head against you, they're not just being cute—they're marking you with their scent glands, claiming you as their own (Rodan, 2015).\nKneading: The rhythmic pressing of paws against a soft surface (or your lap) is a behavior kittens use to stimulate milk flow. In adult cats, it's a sign of comfort and contentment (Brown & Bradshaw, 2016).\n\nDo Cats Really Ignore Their Names?\nIf you've ever called your cat and been met with a flick of the ear but no movement, you might think they don't recognize their name. But research says otherwise. A study by Saito & Shinozuka (2013) found that cats can distinguish their names from other words, even in a household with multiple cats. They just don't always feel the need to respond. Unlike dogs, who evolved to seek human approval, cats evolved as solitary hunters. They hear you—they're just deciding whether you're worth getting up for.\n\nThe Zoomies: Science Behind the 2 AM Sprints\nThose sudden, chaotic bursts of energy—also known as \"zoomies\"—are actually a by normal part of feline behavior. Cats are natural hunters, and their instincts tell them to be most active at dawn and dusk. If your cat has zoomies at odd hours, they might just be burning off excess energy. Providing interactive play during the day can help prevent nighttime sprints (Turner, 2021).\n\nConclusion: The More You Watch, the More You Understand\nCats may seem mysterious, but once you learn their language, they're basically tiny, furry drama queens with very specific ways of expressing love (and judgment). That slow blink? A kiss. That tail flick? A warning. The 2 AM zoomies? Either pent-up energy or an exorcism—we may never know.\n\nThe more you pay attention to their signals, the better you'll understand them. And honestly your cat already understands you. They know exactly how to guilt-trip you into giving extra treats, how to wake you up precisely one minute before your alarm, and how to act like they don't care—right before curling up in your lap.\n\nAt the end of the day, cats aren't ignoring us. They're just selectively participating. And now that you can read their signals, you're officially part of their very exclusive club.`,\n    references: [\n      {\n        title: 'Communication in the domestic cat: within- and between-species',\n        authors: 'Brown, S. L., & Bradshaw, J. W. S.',\n        publication: 'Animal Behaviour',\n        year: 2016,\n        doi: '10.1016/j.anbehav.2016.05.015'\n      },\n      {\n        title: 'Feline Behavioral Health and Welfare',\n        authors: 'Rodan, I., & Heath, S.',\n        publication: 'Elsevier Health Sciences',\n        year: 2015\n      },\n      {\n        title: 'The felid purr: A healing mechanism?',\n        authors: 'Muggenthaler, E. von.',\n        publication: 'Proceedings of the 12th International Conference on Low Frequency Noise and Vibration',\n        year: 2001,\n        url: 'https://www.researchgate.net/publication/272259095_The_felid_purr_A_healing_mechanism'\n      },\n      {\n        title: 'Vocal recognition of owners by domestic cats (Felis catus)',\n        authors: 'Saito, A., & Shinozuka, K.',\n        publication: 'Animal Cognition',\n        year: 2013,\n        doi: '10.1007/s10071-013-0620-4'\n      },\n      {\n        title: 'The mechanics of social interactions between cats and their owners',\n        authors: 'Turner, D. C.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2021,\n        doi: '10.3389/fvets.2021.650143'\n      },\n      {\n        title: 'Attachment bonds between domestic cats and humans',\n        authors: 'Vitale, K. R., Behnke, A. C., & Udell, M. A. R.',\n        publication: 'Current Biology',\n        year: 2019,\n        doi: '10.1016/j.cub.2019.08.036'\n      },\n      {\n        title: 'The role of cat eye narrowing movements in cat–human communication',\n        authors: 'Humphrey, T., Proops, L., & McComb, K.',\n        publication: 'Scientific Reports',\n        year: 2020,\n        doi: '10.1038/s41598-020-73426-0'\n      }\n    ],\n    likes: 312,\n    comments: 78,\n    shares: 102\n  },\n  {\n    id: 'blog_3',\n    title: 'What Your Bird is Really Saying',\n    author: {\n      id: 'author_3',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Avian specialist and researcher focusing on bird behavior and communication.'\n    },\n    publishDate: '2024-02-24',\n    readTime: '6 min',\n    tags: ['Birds', 'Behavior', 'Pet Care', 'Avian Communication'],\n    content: `Ever look at your bird and think, What's going on in that tiny dinosaur brain of yours? Well, good news—birds may not text, but they do have an entire language made up of wing flutters, tail flicks, and the occasional judgmental stare. And if you learn to read these signals, you'll finally understand what your feathered friend has been trying to tell you all along.\n\nLet's break down the mysterious world of bird body language so you can stop guessing and start actually communicating with your avian BFF.\n\nThe Head Tilt: Curious or Plotting Something?\nThat adorable head tilt your bird does isn't just to make you go aww—it's actually their way of getting a better look at something. Birds process images differently than we do, so when they tilt their head, they're adjusting their angle to see more clearly (Massen et al., 2014).\n\nSlow, curious head tilt: They're interested in what's happening and trying to analyze the situation. Basically, they're bird detectives.\nFrequent or extreme tilting: Could indicate a vision issue or neurological problem—if it looks excessive, a vet visit is a good idea (Massen et al., 2014).\nOne-eye stare, body stiffened: A sign they're feeling cautious or potentially threatened. If they were a human, this would be the equivalent of side-eye.\n\nFeather Fluffing: Cozy or Cranky?\nFeather movements say a lot about how a bird is feeling. Think of them as mood indicators, kind of like how we use facial expressions—except, you know, with more feathers.\n\nFluffed-up feathers for a few seconds: Just getting comfortable. If your bird puffs up and then smooths back down, they're basically stretching.\nConstantly fluffed-up feathers: Not good. This can be a sign of illness, stress, or even feeling cold (Massen et al., 2014).\nFeathers sleeked back tight to the body: Your bird is nervous or possibly feeling aggressive. Approach with caution (Pika & Bugnyar, 2011).\n\nThe Wing Flutter: Excitement or Back Off?\nBirds use their wings for way more than just flying—they also use them to communicate. Unfortunately, no sign language because birds dont have thumbs\n\nExcited, quick flutters: Happiness! Your bird is basically doing a little happy dance (Osaka University, 2023).\nSlow, controlled wing movements: This can be a \"stay away\" signal, kind of like putting up a hand to say \"not now.\"\nOne wing slightly drooped: Could be a sign of injury—time to check in with your vet.\n\nBunting: Love, Not a Headbutt Attack\nIf your bird presses or rubs their beak against you, congratulations—they're bunting, which is a sign of affection (Pika & Bugnyar, 2011).\n\nGentle beak rubbing: They're marking you as part of their flock. You're officially theirs now.\nAggressive, sudden beak nudging: Might mean \"Hey, stop that\" or \"Give me attention NOW.\"\n\nThe Stare-Down: Challenge or Trust?\nUnlike with dogs, where prolonged eye contact can be a dominance move, birds love staring at their favorite humans. It's actually a good thing—eye contact helps strengthen bonds (Osaka University, 2023).\n\nSoft, relaxed eyes: A sign of trust and comfort. They're chilling.\nWide eyes with pinning pupils: Intense excitement—or potential aggression. If they suddenly go from relaxed to laser-focused, read the room.\n\nTail Wagging: A Whole Different Story Than Dogs\nIf you thought tail wagging only meant happiness (like with dogs), think again—birds have their own unique tail signals.\n\nFast, side-to-side tail wagging: Happy and excited! Your bird is feeling good.\nSlow, deliberate tail flick: Annoyed or getting ready to give you a warning. Think of this as their way of saying \"I'm this close to losing it.\"\nTail fanned out: Displaying dominance or excitement—this is common in birds like parrots when they're trying to show off.\n\nThe Playful Side: Hanging Upside Down & Wing Spreading\nSome birds (especially parrots) love hanging upside down like little acrobats. This is usually a sign of happiness and playfulness. If your bird does this often, they're feeling safe and confident.\n\nUpside-down hanging: Your bird is comfortable with you and their surroundings. They trust you.\nOne wing slightly lifted while playing: This can be an invitation to interact—kind of like a bird's version of waving at you.\n\nConclusion: Your Bird Has Been Speaking—Now You're Fluent\nBirds may not use words the way we do (unless you have a talkative parrot), but their body language speaks volumes. From fluffed feathers to head tilts and beak bunts, every little movement is a clue to how they're feeling.\n\nThe more you watch and learn, the better you'll understand their unique way of communicating. And let's be real—your bird already knows exactly how to get your attention. Whether it's staring at you until you feel guilty enough to offer a treat or flapping their wings dramatically for no reason, they've got you trained.\n\nNow that you can finally read their signals, you're one step closer to becoming the ultimate bird whisperer. Just don't be surprised if they start giving you even more attitude now that you know what's up.`,\n    references: [\n      {\n        title: 'Facial display and blushing: Means of visual communication in blue-and-yellow macaws',\n        authors: 'Massen, J. J. M., Vermunt, D. A., & Sterck, E. H. M.',\n        publication: 'PLoS ONE',\n        year: 2014,\n        doi: '10.1371/journal.pone.0108794'\n      },\n      {\n        title: 'The use of referential gestures in ravens (Corvus corax) in the wild',\n        authors: 'Pika, S., & Bugnyar, T.',\n        publication: 'Nature Communications',\n        year: 2011,\n        doi: '10.1038/ncomms1567'\n      },\n      {\n        title: 'Wild birds gesture \"after you\" to insist their mate go first',\n        authors: 'Osaka University',\n        publication: 'Scientific American',\n        year: 2023,\n        url: 'https://www.scientificamerican.com/article/wild-birds-gesture-after-you-to-insist-their-mate-go-first/'\n      }\n    ],\n    likes: 198,\n    comments: 45,\n    shares: 67\n  }\n];","import React, { useState, useEffect, useContext } from 'react';\nimport { View, ScrollView, Image, StyleSheet, Linking, Dimensions, Platform, TouchableOpacity, TextInput } from 'react-native';\nimport { Button, Text, Card, Title, Paragraph, useTheme } from 'react-native-paper';\nimport { ImageBackground } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport RoadmapSection from '../components/RoadmapSection';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { FontAwesome6 } from '@expo/vector-icons';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\n\nconst { width: windowWidth, height: windowHeight } = Dimensions.get('window');\n\n// Define a sample reviews array\nconst reviews = [\n  {\n    image: require('../../assets/user1.png'),\n    text: \"\\\"CrittrCove has been amazing for finding reliable pet professionals!\",\n    author: \"John Smith\"\n  },\n  {\n    image: require('../../assets/user2.png'),\n    text: \"\\\"Great experience with pet sitting services!\",\n    author: \"Jane Doe\"\n  },\n  {\n    image: require('../../assets/user3.png'),\n    text: \"\\\"Found the perfect sitter for my exotic pets!\",\n    author: \"Sudhakar Vuluvala\"\n  },\n  {\n    image: require('../../assets/user4.png'),\n    text: \"\\\"I've had a fantastic experience with CrittrCove's pet grooming services!\",\n    author: \"Alice Brown\"\n  }\n];\n\n// Define the ReviewImage component\nconst ReviewImage = ({ source, style }) => {\n  if (Platform.OS === 'web') {\n    return <img src={source} style={style} alt=\"\" />;\n  }\n  return <Image source={source} style={style} />;\n};\n\nexport default function HomeScreen({ navigation }) {\n  const { colors } = useTheme();\n  const { screenWidth } = useContext(AuthContext);\n  const isMobileView = screenWidth < 660;\n  const openAppStore = (url) => {\n    Linking.openURL(url);\n  };\n\n  // Add state for social media popup visibility\n  const [isUserScrolling, setIsUserScrolling] = useState(false);\n\n  const AutoScrollSection = ({ data, renderItem, title, cardWidth = 320 }) => {\n    const scrollViewRef = React.useRef(null);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [userScrolling, setUserScrolling] = useState(false);\n    const autoScrollTimerRef = React.useRef(null);\n\n    // Auto-scroll effect\n    useEffect(() => {\n      if (!userScrolling) {\n        autoScrollTimerRef.current = setInterval(() => {\n          if (scrollViewRef.current) {\n            const nextIndex = (currentIndex + 1) % data.length;\n            scrollToIndex(nextIndex);\n          }\n        }, 3000);\n      }\n\n      return () => {\n        if (autoScrollTimerRef.current) {\n          clearInterval(autoScrollTimerRef.current);\n        }\n      };\n    }, [currentIndex, userScrolling, data.length]);\n\n    const scrollToIndex = (index) => {\n      if (scrollViewRef.current) {\n        scrollViewRef.current.scrollTo({\n          x: index * cardWidth,\n          animated: true\n        });\n        setCurrentIndex(index);\n      }\n    };\n\n    const handleScroll = (event) => {\n      const contentOffset = event.nativeEvent.contentOffset.x;\n      const index = Math.round(contentOffset / cardWidth);\n      setCurrentIndex(index);\n    };\n\n    const handleScrollBegin = () => {\n      setUserScrolling(true);\n      if (autoScrollTimerRef.current) {\n        clearInterval(autoScrollTimerRef.current);\n      }\n    };\n\n    const handleScrollEnd = () => {\n      // Reset after a short delay to prevent immediate auto-scroll\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    const handleDotPress = (index) => {\n      setUserScrolling(true);\n      scrollToIndex(index);\n      // Reset auto-scroll after a delay\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    return (\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <View style={styles.scrollContainer}>\n          <ScrollView\n            ref={scrollViewRef}\n            horizontal\n            showsHorizontalScrollIndicator={true}\n            style={[styles.scrollContainer, { WebkitOverflowScrolling: 'touch' }]}\n            contentContainerStyle={styles.scrollContent}\n            onScroll={handleScroll}\n            scrollEventThrottle={16}\n            pagingEnabled={Platform.OS !== 'web'}\n            onScrollBeginDrag={handleScrollBegin}\n            onScrollEndDrag={handleScrollEnd}\n            onMomentumScrollEnd={handleScrollEnd}\n          >\n            {data.map((item, index) => renderItem(item, index))}\n          </ScrollView>\n          {/* Clickable scroll indicators */}\n          <View style={styles.scrollIndicators}>\n            {data.map((_, index) => (\n              <TouchableOpacity\n                key={index}\n                onPress={() => handleDotPress(index)}\n                style={styles.scrollIndicatorButton}\n              >\n                <View\n                  style={[\n                    styles.scrollIndicator,\n                    currentIndex === index && styles.scrollIndicatorActive\n                  ]}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n          {/* Scroll hint for mobile */}\n          {Platform.OS !== 'web' && (\n            <View style={styles.scrollHint}>\n              <Text style={styles.scrollHintText}>Swipe for more</Text>\n              <MaterialCommunityIcons name=\"gesture-swipe-horizontal\" size={24} color={theme.colors.primary} />\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ReviewsSection = () => {\n    const renderReview = (review, index) => (\n      <View key={index} style={styles.reviewCard}>\n        <Text style={styles.reviewText}>{review.text}</Text>\n        <View style={styles.reviewAuthorContainer}>\n          <ReviewImage\n            source={review.image}\n            style={styles.reviewerImage}\n          />\n          <View>\n            <Text style={styles.reviewAuthorName}>{review.author}</Text>\n            <Text style={styles.reviewAuthorTitle}>Client Review</Text>\n            <View style={styles.starsContainer}>\n              {[1, 2, 3, 4, 5].map((_, index) => (\n                <MaterialCommunityIcons \n                  key={index}\n                  name=\"star\"\n                  size={16}\n                  color={theme.colors.primary}\n                  style={styles.starIcon}\n                />\n              ))}\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n\n    return (\n      <AutoScrollSection\n        data={reviews}\n        renderItem={renderReview}\n        title=\"Kind Words From Users\"\n      />\n    );\n  };\n\n  const BlogSection = () => {\n    const renderBlogPost = (post, index) => (\n      <TouchableOpacity \n        key={post.id} \n        style={[\n          styles.blogCard,\n          { marginRight: index === BLOG_POSTS.length - 1 ? 0 : 10 }\n        ]} \n        onPress={() => navigateToFrom(navigation, 'BlogPost', 'Home', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]} numberOfLines={2}>\n              {post.title}\n            </Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}> • </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {post.content.slice(0, 100)}...\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.slice(0, 2).map((tag, tagIndex) => (\n                <View \n                  key={tagIndex} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n\n    return (\n      <AutoScrollSection\n        data={BLOG_POSTS}\n        renderItem={renderBlogPost}\n        title=\"Blog\"\n        cardWidth={320}\n      />\n    );\n  };\n\n  const Features = () => {\n    const [activeTab, setActiveTab] = useState('owners'); // Default to owners tab\n\n    // Add roadmap colors array\n    const roadmapColors = ['#515d6c', '#516a6c', '#516C61', '#6A6C51'];\n\n    // Update the feature item structure and styles\n    const featureItemStyle = {\n      flexDirection: 'row',\n      marginBottom: 20,\n      alignItems: 'flex-start',\n      width: '100%',\n    };\n\n    const featureContentStyle = {\n      flex: 1,\n      marginLeft: 5,\n    };\n\n    return (\n      <View style={styles.featuresSection}>\n        <Text style={styles.sectionTitle}>How It Works</Text>\n        <View style={styles.toggleContainer}>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'owners' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('owners')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'owners' && styles.toggleButtonTextActive]}>For Pet Owners</Text>\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'sitters' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('sitters')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'sitters' && styles.toggleButtonTextActive]}>For Pet Professionals</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.featuresContainer}>\n          {activeTab === 'owners' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Owners</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome6 name=\"person-running\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Your Profile</Text>\n                    <Text style={styles.featureText}>Submit details about you and your requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"horse-human\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Pet Profile</Text>\n                    <Text style={styles.featureText}>Submit details about your pet and sitting requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <MaterialCommunityIcons name=\"professional-hexagon\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Search for Pro's</Text>\n                    <Text style={styles.featureText}>You can use our marketplace to find the best pro for your desired service.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <FontAwesome5 name=\"calendar-check\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Confirm Your Booking</Text>\n                    <Text style={styles.featureText}>Coordinate directly with your professional to finalize details.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Sign up Today!</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n          {activeTab === 'sitters' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Professionals</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome name=\"sign-in\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Apply to Join Pro Community</Text>\n                    <Text style={styles.featureText}>Submit your specialties, documents, bio, and availability to begin.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"plus-circle\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Create Services</Text>\n                    <Text style={styles.featureText}>Create services to offer to pet owners.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <FontAwesome6 name=\"handshake-simple\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Get Matched with Clients</Text>\n                    <Text style={styles.featureText}>Pet owners in your area will reach out to you for yourservices.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <MaterialIcons name=\"auto-graph\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Grow Your Business</Text>\n                    <Text style={styles.featureText}>Manage bookings and get support as you build your pet service business.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Become a Professional</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ContactSection = () => {\n    const [state, handleSubmit] = useForm(\"mkgobpro\");\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleFormSubmit = async (e) => {\n      e.preventDefault();\n      const formData = {\n        name: name,\n        email: email,\n        message: message\n      };\n      \n      await handleSubmit(formData);\n      \n      if (state.succeeded) {\n        setName('');\n        setEmail('');\n        setMessage('');\n      }\n    };\n\n    if (state.succeeded) {\n      return (\n        <View style={styles.contactSection}>\n          <View style={styles.contactContainer}>\n            <Text style={[styles.sectionTitle, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.contactSection}>\n        <View style={styles.contactContainer}>\n          <Text style={styles.sectionTitle}>Contact Us</Text>\n          <TextInput\n            placeholder=\"Your Name\"\n            style={styles.input}\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Email\"\n            style={styles.input}\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Message\"\n            style={[styles.input, styles.messageInput]}\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[\n                styles.actionButton,\n                state.submitting && styles.disabledButton\n              ]}\n              onPress={handleFormSubmit}\n              disabled={state.submitting}\n            >\n              <Text style={styles.buttonText}>\n                {state.submitting ? 'Sending...' : 'Send'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const ServiceCard = ({ icon, title, description, color }) => {\n    const cardStyles = {\n      container: {\n        width: isMobileView ? '90%' : '45%',\n        minWidth: isMobileView ? 'auto' : 300,\n        maxWidth: 500,\n        padding: 20,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 4,\n        elevation: 3,\n        marginBottom: 20,\n        alignSelf: 'center',\n      },\n      header: {\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginBottom: 15,\n      },\n      iconContainer: {\n        width: 60,\n        height: 60,\n        borderRadius: 30,\n        backgroundColor: `${theme.colors.primary}15`,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginBottom: 15,\n      },\n      title: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n        fontFamily: theme.fonts.header.fontFamily,\n        textAlign: 'center',\n        marginBottom: 10,\n      },\n      description: {\n        fontSize: 16,\n        lineHeight: 24,\n        color: theme.colors.text,\n        fontFamily: theme.fonts.regular.fontFamily,\n        textAlign: 'center',\n      },\n    };\n\n    return (\n      <View style={cardStyles.container}>\n        <View style={cardStyles.header}>\n          <View style={cardStyles.iconContainer}>\n            <MaterialCommunityIcons name={icon} size={32} color={color} />\n          </View>\n          <Text style={cardStyles.title}>{title}</Text>\n        </View>\n        <Text style={cardStyles.description}>{description}</Text>\n      </View>\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.heroSection}>\n        <Image\n          source={require('../../assets/hero-image.jpg')}\n          style={styles.heroImage}\n          resizeMode=\"cover\"\n        />\n        <Text style={styles.heroText}>Welcome to CrittrCove</Text>\n      </View>\n\n      {/* Service Highlights Section */}\n      <View style={styles.serviceHighlightsSection}>\n        <Text style={styles.mainServiceTitle}>Marketplace for Pet Owners and Care Professionals</Text>\n        \n        <View style={[styles.servicesGrid, { \n          flexDirection: isMobileView ? 'column' : 'row',\n          alignItems: isMobileView ? 'center' : 'flex-start',\n        }]}>\n          <ServiceCard\n            icon=\"paw\"\n            title=\"All Animals Welcome\"\n            description=\"From common pets to exotic animals, we connect you with professionals experienced in caring for any type of animal companion.\"\n            color={theme.colors.mainColors.senary}\n          />\n          <ServiceCard\n            icon=\"calendar-clock\"\n            title=\"Flexible Booking Options\"\n            description=\"Book single visits, multiple days, or set up recurring services. Create subscription plans or schedule services months in advance.\"\n            color={theme.colors.mainColors.quinary}\n          />\n          <ServiceCard\n            icon=\"shield-check\"\n            title=\"Verified Professionals\"\n            description=\"All professionals are thoroughly vetted and must maintain active insurance coverage to provide services through our platform.\"\n            color={theme.colors.mainColors.main}\n          />\n          <ServiceCard\n            icon=\"tune-variant\"\n            title=\"Customizable Services\"\n            description=\"Professionals can create custom service packages and pricing plans tailored to your specific needs and preferences.\"\n            color={theme.colors.mainColors.quaternary}\n          />\n        </View>\n      </View>\n\n      <Features />\n      <ReviewsSection />\n      <BlogSection />\n\n      {/* Roadmap Section */}\n      <RoadmapSection />\n\n      {/* FAQ Section */}\n      {/* <View style={styles.section}>\n        <Text style={styles.sectionTitle}>FAQs</Text>\n         {faqs.map((faq, index) => (\n          <View key={index} style={styles.faqItem}>\n            <TouchableOpacity \n              style={styles.faqButton}\n              onPress={() => setSelectedFaq(selectedFaq === index ? null : index)}\n            >\n              <Text style={styles.faqQuestion}>{faq.question}</Text>\n              <Text style={styles.faqToggle}>{selectedFaq === index ? '-' : '+'}</Text>\n            </TouchableOpacity>\n            {selectedFaq === index && (\n              <Text style={styles.faqAnswer}>{faq.answer}</Text>\n            )}\n          </View>\n        ))} \n      </View> */}\n\n      {/* Waitlist Section */}\n      <View style={[styles.section, styles.waitlistSection]}>\n        <Text style={styles.sectionTitle}>Join Our Waitlist</Text>\n        <Text style={styles.waitlistDescription}>\n          Get exclusive bonus offers, promotions, and discounts when the app and website launches by signing up on our waitlist today!\n        </Text>\n        <TouchableOpacity \n          style={[styles.actionButton, styles.waitlistButton]} \n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.buttonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Contact Us Section */}\n      <ContactSection />\n\n      {/* Footer */}\n      <View style={styles.footer}>\n        <View style={styles.socialIconsRow}>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://www.instagram.com/thezensitter')}\n          >\n            <FontAwesome name=\"instagram\" size={24} color=\"white\" />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://discord.com/your-profile')}\n          >\n            <FontAwesome5 name=\"discord\" size={24} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.footerLinksRow}>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'PrivacyPolicy', 'Home')}>Privacy Policy</Text>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'TermsOfService', 'Home')}>Terms of Service</Text>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingBottom: 80, // Add padding to the bottom of the content\n  },\n  heroSection: {\n    height: Platform.OS === 'web' ? '70vh' : windowHeight * 0.5,\n    justifyContent: 'center',\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  heroImage: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n  },\n  heroText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n    color: 'white',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: {width: -1, height: 1},\n    textShadowRadius: 10\n  },\n  section: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignItems: 'center',\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 10,\n    textAlign: 'center',\n    color: 'black',\n  },\n  card: {\n    marginBottom: 10,\n  },\n  appButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 10,\n  },\n  appButton: {\n    width: '45%',\n  },\n  reviewsSection: {\n    // height: 350,\n    marginBottom: 20,\n  },\n  reviewsBackground: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewsOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  reviewsSubtitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 20,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  reviewsContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40, // Add space for indicators\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewCard: {\n    width: 300,\n    height: 200,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginRight: 10,\n  },\n  reviewCardMobile: {\n    width: '100%',\n    height: '100%',\n  },\n  reviewQuote: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n  },\n  reviewText: {\n    fontSize: 18,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginBottom: 15,\n    flex: 1,\n  },\n  reviewAuthorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  reviewerImage: {\n    width: 45,\n    height: 60,\n    borderRadius: 8,\n    marginRight: 10,\n    objectFit: 'cover',\n  },\n  reviewAuthorName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewAuthorTitle: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginTop: 2,\n  },\n  paginationDots: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 10,\n  },\n  paginationDot: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: 'white',\n    margin: 5,\n  },\n  paginationDotActive: {\n    backgroundColor: 'black',\n  },\n  featuresSection: {\n    marginBottom: 80,\n    marginTop: 20,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 10,\n  },\n  toggleButton: {\n    padding: 10,\n    backgroundColor: 'white',\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  featuresContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  featureColumn: {\n    width: SCREEN_WIDTH < 768 ? '90%' : '100%',\n    maxWidth: 600,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  columnTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featuresList: {\n    width: '100%',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 20,\n  },\n  featureItem: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    alignItems: 'flex-start',\n    width: '100%',\n  },\n  featureIconCircle: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 5,\n  },\n  featureIcon: {\n    fontSize: 40,\n  },\n  featureTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featureText: {\n    fontSize: theme.fontSizes.mediumLarge + 2,\n    color: 'black',\n    lineHeight: 22,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    backgroundColor: '#6A6C51',\n    width: '50%',\n    padding: 5,\n    borderRadius: 5,\n    alignItems: 'center',\n  },\n  buttonContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  blogSection: {\n    marginBottom: 20,\n    alignItems: 'center',\n  },\n  blogCard: {\n    width: 300,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    padding: 15,\n    marginRight: 10,\n  },\n  authorContainer: {\n    flexDirection: 'column',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginBottom: 10,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n  },\n  readTime: {\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 16,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  roadmapSection: {\n    marginBottom: 20,\n  },\n  roadmapImage: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  roadmapOverlayText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n  },\n  faqSection: {\n    marginBottom: 20,\n  },\n  faqItem: {\n    marginBottom: 10,\n  },\n  faqButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  faqQuestion: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  faqToggle: {\n    fontSize: 14,\n    color: 'gray',\n  },\n  faqAnswer: {\n    fontSize: 16,\n  },\n  contactSection: {\n    // maxWidth: 800,\n    width: '100%',\n    // display: 'flex',\n    // flexDirection: 'column',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: 20,\n  },\n  contactContainer: {\n    width: '100%',\n    maxWidth: 600,\n  },\n  input: {\n    padding: 10,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 5,\n  },\n  footer: {\n    padding: 20,\n    backgroundColor: theme.colors.primary,\n    alignItems: 'center',\n  },\n  socialIconsRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 15,\n  },\n  socialIcon: {\n    marginHorizontal: 15,\n    padding: 5,\n  },\n  footerLinksRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  footerLink: {\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginHorizontal: 15,\n    textDecorationLine: 'underline',\n  },\n  successMessage: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginTop: 10,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 100,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  validationError: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: -5,\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4,\n  },\n  starIcon: {\n    marginRight: 2,\n  },\n  waitlistSection: {\n    // backgroundColor: '#f5f5f5',\n    marginVertical: 20,\n    borderRadius: 10,\n  },\n  waitlistDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    paddingHorizontal: 20,\n    lineHeight: 24,\n  },\n  waitlistButton: {\n    marginTop: 10,\n    width: '80%',\n    maxWidth: 300,\n    padding: 15,\n  },\n  scrollIndicators: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  scrollIndicatorButton: {\n    padding: 10, // Increase touch target\n    marginHorizontal: -6, // Compensate for padding while maintaining visual spacing\n  },\n  scrollIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: theme.colors.border,\n    marginHorizontal: 4,\n  },\n  scrollIndicatorActive: {\n    backgroundColor: theme.colors.primary,\n    width: 24,\n  },\n  scrollHint: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 10,\n  },\n  scrollHintText: {\n    color: theme.colors.primary,\n    marginRight: 5,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  scrollContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  scrollContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  serviceHighlightsSection: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignItems: 'center',\n  },\n  mainServiceTitle: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 40,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  servicesGrid: {\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    gap: 20,\n    width: '100%',\n  },\n});\n","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, SafeAreaView, StatusBar, Alert } from 'react-native';\nimport { Text, TextInput, Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\n\nconst fetchClientProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        name: 'Alice Johnson',\n        email: 'alice@example.com',\n        phone: '(555) 123-4567',\n        age: '32',\n        address: '123 Main St',\n        city: 'San Francisco',\n        state: 'CA',\n        zip: '94122',\n        country: 'USA',\n        bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://example.com/max.jpg' },\n          { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n          { id: '3', name: 'Rocky', type: 'Dog', breed: 'Beagle', age: 2, photo: 'https://example.com/rocky.jpg' },\n        ],\n        emergencyContact: {\n          name: 'John Smith',\n          phone: '(555) 987-6543',\n        },\n        authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n      });\n    }, 1000);\n  });\n};\n\nconst ClientProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({});\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const { isApprovedProfessional, switchRole } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n\n  useEffect(() => {\n    fetchClientProfileData().then((data) => {\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n    }\n  };\n\n  const saveProfile = async () => {\n    const profileData = {\n      profilePhoto,\n      name,\n      email,\n      phone,\n      age,\n      address,\n      city,\n      state,\n      zip,\n      country,\n      bio,\n      pets,\n      emergencyContact,\n      authorizedHouseholdMembers,\n    };\n\n    setIsLoading(true);\n\n    // Simulate API call to save profile data\n    setTimeout(() => {\n      console.log(\"Profile data saved:\", profileData);\n      setIsLoading(false);\n      Alert.alert(\"Success\", \"Profile saved successfully!\");\n    }, 1000);\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode(prevState => ({...prevState, [section]: !prevState[section]}));\n  };\n\n  const renderEditableField = (label, value, onChangeText, section) => {\n    return editMode[section] ? (\n      <TextInput\n        label={label}\n        value={value}\n        onChangeText={onChangeText}\n        style={styles.input}\n      />\n    ) : (\n      <Text style={styles.fieldText}>{label}: {value}</Text>\n    );\n  };\n\n  const addHouseholdMember = () => {\n    if (editMode.household) {\n      setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, '']);\n    }\n  };\n\n  const updateHouseholdMember = (index, value) => {\n    if (editMode.household) {\n      const updatedMembers = [...authorizedHouseholdMembers];\n      updatedMembers[index] = value;\n      setAuthorizedHouseholdMembers(updatedMembers);\n    }\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300; // Adjust this value based on your popup width\n            const popupHeight = 200; // Adjust this value based on your popup height\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight,\n              left: px - scrollViewX - (popupWidth - width) / 2,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const renderIcon = (name, size, color, onPress) => {\n    return (\n      <TouchableOpacity onPress={onPress}>\n        <Ionicons name={name} size={size} color={color} />\n      </TouchableOpacity>\n    );\n  };\n\n  const ContentWrapper = Platform.OS === 'ios' ? SafeAreaView : View;\n\n  const saveSection = (section) => {\n    // Implement the save logic for each section\n    console.log(`Saving ${section} section`);\n    Alert.alert(\"Success\", `${section} information saved successfully!`);\n    toggleEditMode(section);\n  };\n\n  const handleSwitchToProfessional = () => {\n    switchRole();\n    navigation.navigate('ProfessionalProfile');\n  };\n\n  const handleGoBack = () => {\n    navigation.goBack();\n  };\n\n  const renderSaveButton = (section) => {\n    if (editMode[section]) {\n      return (\n        <Button \n          mode=\"contained\" \n          onPress={() => saveSection(section)}\n          style={styles.sectionSaveButton}\n        >\n          Save {section}\n        </Button>\n      );\n    }\n    return null;\n  };\n\n  const renderProfilePhoto = () => {\n    if (profilePhoto) {\n      return <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />;\n    } else {\n      return (\n        <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n          <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n        </View>\n      );\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return windowWidth < 600 ? '90%' : '60%';\n    }\n    return '90%';\n  };\n\n  // Use isApprovedProfessional from context or localIsApprovedProfessional from AsyncStorage\n  const showSwitchToProfessionalButton = isApprovedProfessional || localIsApprovedProfessional;\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <View style={styles.headerLeft}>\n          <TouchableOpacity onPress={() => navigation.navigate('More')} style={styles.backButton}>\n            <Ionicons name=\"chevron-back\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n          <Text style={styles.headerText}>Client Profile</Text>\n        </View>\n        {showSwitchToProfessionalButton && (\n          <Button \n            mode=\"contained\" \n            onPress={handleSwitchToProfessional}\n            style={styles.switchProfileButton}\n          >\n            Switch to Professional\n          </Button>\n        )}\n      </View>\n      <ScrollView \n        ref={scrollViewRef}\n        contentContainerStyle={styles.scrollViewContent}\n      >\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={styles.profileHeader}>\n            <TouchableOpacity onPress={pickImage}>\n              {renderProfilePhoto()}\n            </TouchableOpacity>\n            <View style={styles.profileInfo}>\n              <Text style={styles.name}>{name}</Text>\n              <Text style={styles.location}>{city}, {state}</Text>\n            </View>\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Personal Information</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('personal'))}\n            </View>\n            {renderEditableField('Name', name, setName, 'personal')}\n            {renderEditableField('Email', email, setEmail, 'personal')}\n            {renderEditableField('Phone', phone, setPhone, 'personal')}\n            {renderEditableField('Age', age, setAge, 'personal')}\n            {renderSaveButton('personal')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Address</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('address'))}\n            </View>\n            {renderEditableField('Address', address, setAddress, 'address')}\n            {renderEditableField('City', city, setCity, 'address')}\n            {renderEditableField('State', state, setState, 'address')}\n            {renderEditableField('ZIP', zip, setZip, 'address')}\n            {renderEditableField('Country', country, setCountry, 'address')}\n            {renderSaveButton('address')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>About Me</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('bio'))}\n            </View>\n            {editMode.bio ? (\n              <TextInput\n                multiline\n                numberOfLines={4}\n                value={bio}\n                onChangeText={setBio}\n                style={styles.bioInput}\n              />\n            ) : (\n              <Text style={styles.fieldText}>{bio}</Text>\n            )}\n            {renderSaveButton('bio')}\n          </View>\n\n          <View style={styles.section}>\n            <TouchableOpacity onPress={() => navigation.navigate('MyPets')}>\n              <Text style={styles.sectionTitle}>My Pets</Text>\n            </TouchableOpacity>\n            {pets.map((pet) => (\n              <TouchableOpacity \n                key={pet.id} \n                style={styles.petItem}\n                onPress={() => navigation.navigate('PetProfile', { petId: pet.id })}\n              >\n                <View style={styles.petItemContent}>\n                  <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n                  <View style={styles.petInfo}>\n                    <Text style={styles.petName}>{pet.name}</Text>\n                    <Text style={styles.petDetails}>{pet.type} • {pet.breed} • {pet.age} years old</Text>\n                  </View>\n                </View>\n              </TouchableOpacity>\n            ))}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Emergency Contact</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('emergency'))}\n            </View>\n            {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({...emergencyContact, name: text}), 'emergency')}\n            {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({...emergencyContact, phone: text}), 'emergency')}\n            {renderSaveButton('emergency')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n              <View style={styles.iconContainer}>\n                <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                  <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n                {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('household'))}\n              </View>\n            </View>\n            {authorizedHouseholdMembers.map((member, index) => (\n              editMode.household ? (\n                <TextInput\n                  key={index}\n                  label={`Member ${index + 1}`}\n                  value={member}\n                  onChangeText={(text) => updateHouseholdMember(index, text)}\n                  style={styles.input}\n                />\n              ) : (\n                <Text key={index} style={styles.fieldText}>{member}</Text>\n              )\n            ))}\n            {editMode.household && (\n              <Button mode=\"outlined\" onPress={addHouseholdMember} style={styles.addButton}>\n                Add Household Member\n              </Button>\n            )}\n            {renderSaveButton('household')}\n          </View>\n        </View>\n      </ScrollView>\n\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  content: {\n    alignSelf: 'center',\n    maxWidth: 800,\n    paddingTop: 16, // Add some padding at the top\n  },\n  switchProfileButton: {\n    alignSelf: 'flex-end',\n    marginBottom: 16,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  sectionSaveButton: {\n    marginTop: 16,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginTop: 10,\n    color: theme.colors.primary,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  fieldText: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  iconContainer: {\n    flexDirection: 'row',\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 10,\n  },\n  modalContent: {\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  modalText: {\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  profileInfo: {\n    alignItems: 'center',\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  switchProfileButton: {\n    backgroundColor: theme.colors.primary,\n  },\n});\n\nexport default ClientProfile;\n","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { theme } from '../styles/theme';\n\nconst FloatingSaveButton = ({ visible, onSave, btnText }) => {\n  if (!visible) return null;\n//   console.log('visible: ', visible)\n\n  return (\n    <View style={[\n      styles.floatingButtonContainer,\n      Platform.OS === 'web' ? styles.webButton : styles.mobileButton\n    ]}>\n      <Button \n        mode=\"contained\" \n        onPress={onSave}\n        style={styles.floatingButton}\n      >\n        {btnText}\n      </Button>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  floatingButtonContainer: {\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 16,\n    zIndex: 9999,\n  },\n  webButton: {\n    position: 'sticky',\n    bottom: 20,\n    backgroundColor: 'transparent',\n  },\n  mobileButton: {\n    position: 'absolute',\n    bottom: Platform.OS === 'web' ? 80 : 100,\n    paddingBottom: Platform.OS === 'web' ? 20 : 20,\n  },\n  floatingButton: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 25,\n    paddingHorizontal: 20,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    maxWidth: 600,\n  },\n});\n\nexport default FloatingSaveButton;","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  Alert,\n  ScrollView,\n  Platform,\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { TIME_OPTIONS, GENERAL_CATEGORIES, SERVICE_TYPE_SUGGESTIONS, ANIMAL_TYPE_SUGGESTIONS } from '../data/mockData';\n\nconst AddServiceModal = ({ \n  visible, \n  onClose, \n  onSave,\n  initialService = null,\n  setHasUnsavedChanges \n}) => {\n  const [currentService, setCurrentService] = useState({\n    serviceName: '',\n    serviceDescription: '',\n    animalTypes: '',\n    rates: { \n      base_rate: '',\n      additionalAnimalRate: '',\n      holidayRate: ''\n    },\n    lengthOfService: '',\n    categories: [],\n  });\n  const [additionalRates, setAdditionalRates] = useState([]);\n  const [showValidationErrors, setShowValidationErrors] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [serviceDropdownPosition, setServiceDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [animalDropdownPosition, setAnimalDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [categoryDropdownPosition, setCategoryDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n\n  const serviceInputRef = useRef(null);\n  const animalInputRef = useRef(null);\n  const categoryInputRef = useRef(null);\n  const timeInputRef = useRef(null);\n\n  const categoryDropdownRef = useRef(null);\n  const animalDropdownRef = useRef(null);\n  const serviceDropdownRef = useRef(null);\n  const timeDropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (initialService) {\n      setCurrentService(initialService);\n      setSelectedCategories(initialService.categories || []);\n      setAdditionalRates(initialService.additionalRates || []);\n    }\n  }, [initialService]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showCategoryDropdown && \n          categoryDropdownRef.current && \n          !categoryDropdownRef.current.contains(event.target)) {\n        setShowCategoryDropdown(false);\n      }\n      if (showAnimalDropdown && \n          animalDropdownRef.current && \n          !animalDropdownRef.current.contains(event.target)) {\n        setShowAnimalDropdown(false);\n      }\n      if (showServiceDropdown && \n          serviceDropdownRef.current && \n          !serviceDropdownRef.current.contains(event.target)) {\n        setShowServiceDropdown(false);\n      }\n      if (showTimeDropdown && \n          timeDropdownRef.current && \n          !timeDropdownRef.current.contains(event.target)) {\n        setShowTimeDropdown(false);\n      }\n    };\n\n    if (visible) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showCategoryDropdown, showAnimalDropdown, showServiceDropdown, showTimeDropdown, visible]);\n\n  const measureDropdown = (inputRef, setPosition, inputType) => {\n    if (inputRef.current) {\n      inputRef.current.measure((x, y, width, height, pageX, pageY) => {\n        setPosition({ \n          top: y + height - 6,\n          left: x, \n          width: '100%',\n        });\n      });\n    }\n  };\n\n  const handleServiceTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, serviceName: text }));\n  };\n\n  const handleAnimalTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, animalTypes: text }));\n  };\n\n  const handleCategorySelect = (category) => {\n    setSelectedCategories(prev => {\n      if (prev.includes(category)) {\n        return prev.filter(c => c !== category);\n      }\n      return [...prev, category];\n    });\n  };\n\n  const getFilteredServiceSuggestions = () => {\n    if (!currentService?.serviceName) return SERVICE_TYPE_SUGGESTIONS;\n    return SERVICE_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.serviceName.toLowerCase())\n    );\n  };\n\n  const getFilteredAnimalSuggestions = () => {\n    if (!currentService?.animalTypes) return ANIMAL_TYPE_SUGGESTIONS;\n    return ANIMAL_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.animalTypes.toLowerCase())\n    );\n  };\n\n  const addAdditionalRate = () => {\n    setAdditionalRates(prev => [...prev, { label: '', value: '', description: '' }]);\n  };\n\n  const updateAdditionalRate = (index, key, value) => {\n    setAdditionalRates(prev =>\n      prev.map((rate, i) => (i === index ? { ...rate, [key]: value } : rate))\n    );\n  };\n\n  const handleAddService = async () => {\n    if (!currentService.serviceName?.trim() ||\n        !currentService.animalTypes?.trim() ||\n        !currentService.rates.base_rate?.trim() ||\n        !currentService.rates.additionalAnimalRate?.trim() ||\n        !currentService.rates.holidayRate?.trim() ||\n        !currentService.lengthOfService?.trim()) {\n      setShowValidationErrors(true);\n      return;\n    }\n\n    try {\n      const serviceToSave = {\n        ...currentService,\n        additionalRates,\n        categories: selectedCategories,\n      };\n\n      await onSave(serviceToSave);\n      setHasUnsavedChanges(true);\n      resetForm();\n      onClose();\n    } catch (error) {\n      console.error('Error saving service:', error);\n      Alert.alert('Error', 'Failed to save service');\n    }\n  };\n\n  const resetForm = () => {\n    setCurrentService({\n      serviceName: '',\n      serviceDescription: '',\n      animalTypes: '',\n      rates: { \n        base_rate: '',\n        additionalAnimalRate: '',\n        holidayRate: ''\n      },\n      lengthOfService: '',\n      categories: [],\n    });\n    setSelectedCategories([]);\n    setAdditionalRates([]);\n    setShowValidationErrors(false);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <ScrollView style={styles.modalScroll}>\n            <Text style={styles.modalTitle}>\n              {initialService ? 'Edit Service' : 'Add New Service'}\n            </Text>\n            \n            <View style={[styles.inputWrapper, { zIndex: 4 }]}>\n              <Text style={styles.inputLabel}>General Categories</Text>\n              <TouchableOpacity\n                ref={categoryInputRef}\n                style={[styles.input, styles.categoryInput]}\n                onPress={() => {\n                  measureDropdown(categoryInputRef, setCategoryDropdownPosition, 'category');\n                  setShowCategoryDropdown(!showCategoryDropdown);\n                }}\n              >\n                <Text style={selectedCategories.length ? styles.selectedText : styles.placeholderText}>\n                  {selectedCategories.length ? selectedCategories.join(', ') : 'Select categories'}\n                </Text>\n                <MaterialCommunityIcons \n                  name={showCategoryDropdown ? \"chevron-up\" : \"chevron-down\"} \n                  size={24} \n                  color={theme.colors.primary} \n                />\n              </TouchableOpacity>\n              {showCategoryDropdown && (\n                <View \n                  ref={categoryDropdownRef}\n                  style={[styles.categoryDropdownContainer, categoryDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.categoryScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {GENERAL_CATEGORIES.map((category, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => handleCategorySelect(category)}\n                        style={styles.categoryItem}\n                      >\n                        <Text style={styles.categoryText}>{category}</Text>\n                        <View style={styles.checkmarkContainer}>\n                          {selectedCategories.includes(category) && (\n                            <MaterialCommunityIcons \n                              name=\"check\" \n                              size={20} \n                              color={theme.colors.primary} \n                            />\n                          )}\n                        </View>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 3 }]}>\n              <Text style={styles.inputLabel}>Animal Type</Text>\n              <TextInput\n                ref={animalInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.animalTypes?.trim() && styles.inputError\n                ]}\n                placeholder=\"Animal Type\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.animalTypes}\n                onChangeText={handleAnimalTypeChange}\n                onFocus={() => {\n                  setShowAnimalDropdown(true);\n                  measureDropdown(animalInputRef, setAnimalDropdownPosition, 'animal');\n                }}\n              />\n              {showAnimalDropdown && (\n                <View \n                  ref={animalDropdownRef}\n                  style={[styles.suggestionsContainer, animalDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredAnimalSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, animalTypes: suggestion }));\n                          setShowAnimalDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 2 }]}>\n              <Text style={styles.inputLabel}>Service Name</Text>\n              <TextInput\n                ref={serviceInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.serviceName?.trim() && styles.inputError\n                ]}\n                placeholder=\"Service Name\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceName}\n                onChangeText={handleServiceTypeChange}\n                onFocus={() => {\n                  setShowServiceDropdown(true);\n                  measureDropdown(serviceInputRef, setServiceDropdownPosition, 'service');\n                }}\n              />\n              {showServiceDropdown && (\n                <View \n                  ref={serviceDropdownRef}\n                  style={[styles.suggestionsContainer, serviceDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredServiceSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, serviceName: suggestion }));\n                          setShowServiceDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Service Description</Text>\n              <TextInput\n                style={[styles.input, styles.descriptionInput]}\n                placeholder=\"Service Description\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceDescription}\n                onChangeText={(text) =>\n                  setCurrentService((prev) => ({ ...prev, serviceDescription: text }))\n                }\n                multiline\n              />\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Length of Service</Text>\n              <TouchableOpacity\n                ref={timeInputRef}\n                style={[\n                  styles.input,\n                  styles.timeInput,\n                  showValidationErrors && !currentService?.lengthOfService?.trim() && styles.inputError\n                ]}\n                onPress={() => setShowTimeDropdown(!showTimeDropdown)}\n              >\n                <Text style={currentService?.lengthOfService ? styles.selectedText : styles.placeholderText}>\n                  {currentService?.lengthOfService || 'Select length of service'}\n                </Text>\n                <MaterialCommunityIcons\n                  name={showTimeDropdown ? 'chevron-up' : 'chevron-down'}\n                  size={24}\n                  color={theme.colors.primary}\n                />\n              </TouchableOpacity>\n              {showTimeDropdown && (\n                <View \n                  ref={timeDropdownRef}\n                  style={styles.timeDropdownContainer}\n                >\n                  <ScrollView\n                    style={{ maxHeight: 200 }}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {TIME_OPTIONS.map((option, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        style={styles.timeDropdownItem}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, lengthOfService: option }));\n                          setShowTimeDropdown(false);\n                        }}\n                      >\n                        <Text\n                          style={[\n                            styles.timeDropdownText,\n                            currentService?.lengthOfService === option && styles.selectedTimeOption,\n                          ]}\n                        >\n                          {option}\n                        </Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <Text style={styles.inputLabel}>Base Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.base_rate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 25\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.base_rate ? `$${currentService.rates.base_rate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    base_rate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Additional Animal Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.additionalAnimalRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 20\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.additionalAnimalRate ? `$${currentService.rates.additionalAnimalRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    additionalAnimalRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Holiday Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.holidayRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 30\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.holidayRate ? `$${currentService.rates.holidayRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    holidayRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            {additionalRates.map((rate, idx) => (\n              <View key={idx} style={styles.additionalRateRow}>\n                <Text style={styles.additionalRateTitle}>Rate #{idx + 1}</Text>\n                <Text style={styles.inputLabel}>Rate Title</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.label?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Animal with medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.label || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'label', text)}\n                />\n                <Text style={styles.inputLabel}>Rate Amount</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.value?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"$ Ex. 20\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  keyboardType=\"decimal-pad\"\n                  value={rate.value ? `$${rate.value}` : ''}\n                  onChangeText={(value) => updateAdditionalRate(idx, 'value', value.replace(/[^0-9.]/g, '').replace('$', ''))}\n                />\n                <Text style={styles.inputLabel}>Rate Description</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.description?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Rate for animal needing medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.description || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'description', text)}\n                />\n                <TouchableOpacity \n                  onPress={() => {\n                    setAdditionalRates(prevRates => prevRates.filter((_, i) => i !== idx));\n                  }}\n                  style={styles.deleteRateButton}\n                >\n                  <Text style={styles.deleteRateButtonText}>Delete Additional Rate</Text>\n                </TouchableOpacity>\n              </View>\n            ))}\n\n            <TouchableOpacity onPress={addAdditionalRate} style={styles.addRateButton}>\n              <Text style={styles.addRateText}>+ Add Additional Rate</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.modalButtons}>\n            <TouchableOpacity\n              style={styles.cancelButton}\n              onPress={() => {\n                resetForm();\n                onClose();\n              }}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.saveButton} onPress={handleAddService}>\n              <Text style={styles.saveButtonText}>\n                {initialService ? 'Save Changes' : 'Add Service'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '50%',\n  },\n  modalScroll: {\n    maxHeight: '90%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  inputWrapper: {\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.surface,\n    color: theme.colors.text,\n  },\n  inputError: {\n    borderColor: theme.colors.error,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    marginTop: 15,\n    fontWeight: '500',\n  },\n  categoryInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  timeInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  selectedText: {\n    color: theme.colors.text,\n  },\n  placeholderText: {\n    color: theme.colors.placeHolderText,\n  },\n  categoryDropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  categoryScrollView: {\n    maxHeight: 200,\n  },\n  categoryItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  categoryText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  checkmarkContainer: {\n    width: 24,\n    alignItems: 'center',\n  },\n  suggestionsContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  suggestionScrollView: {\n    maxHeight: 200,\n  },\n  suggestionText: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    color: theme.colors.text,\n  },\n  timeDropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  timeDropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  timeDropdownText: {\n    color: theme.colors.text,\n  },\n  selectedTimeOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  descriptionInput: {\n    height: 80,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  additionalRateRow: {\n    marginTop: 20,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  additionalRateTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  deleteRateButton: {\n    backgroundColor: theme.colors.error,\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 10,\n    alignItems: 'center',\n  },\n  deleteRateButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  addRateButton: {\n    marginTop: 15,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    alignItems: 'center',\n  },\n  addRateText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 20,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    marginLeft: 10,\n  },\n  saveButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default AddServiceModal;\n","import React, { useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ProfessionalServiceCard = ({ \n  item, \n  index, \n  isCollapsed, \n  onEdit, \n  onDelete, \n  onToggleCollapse \n}) => {\n  const { screenWidth } = useContext(AuthContext);\n\n  return (\n    <View style={styles.serviceCard}>\n      <View style={styles.topRow}>\n        <Text style={styles.serviceName}>{item.serviceName}</Text>\n        <View style={styles.topRowIcons}>\n          <TouchableOpacity onPress={() => onDelete(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"trash-can\" size={24} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => onEdit(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"pencil\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </View>\n      \n      {isCollapsed ? (\n        <View style={styles.collapsedContent}>\n          <Text style={styles.rateText}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n        </View>\n      ) : (\n        <View style={styles.contentRow}>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Additional Animal: ${item.rates.additionalAnimalRate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Holiday Rate: ${item.rates.holidayRate || 'N/A'}</Text>\n          {item.additionalRates && item.additionalRates.map((rate, idx) => (\n            <Text key={idx} style={[styles.rateText, { \n              fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n            }]}>\n              {rate.label}: ${rate.value} {rate.description ? `(${rate.description})` : ''}\n            </Text>\n          ))}\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Duration: {item.lengthOfService || 'N/A'}</Text>\n        </View>\n      )}\n\n      <TouchableOpacity \n        onPress={() => onToggleCollapse(index)} \n        style={styles.collapseButton}\n      >\n        <MaterialCommunityIcons \n          name={isCollapsed ? \"chevron-down\" : \"chevron-up\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    marginVertical: 8,\n    padding: 12,\n    position: 'relative',\n  },\n  topRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  topRowIcons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  iconButton: {\n    padding: 4,\n  },\n  contentRow: {\n    gap: 4,\n  },\n  collapsedContent: {\n    marginTop: 4,\n  },\n  rateText: {\n    color: theme.colors.text,\n  },\n  collapseButton: {\n    position: 'absolute',\n    bottom: 8,\n    right: 8,\n    padding: 4,\n  },\n});\n\nexport default ProfessionalServiceCard;","import React from 'react';\nimport { Modal, View, Text, TouchableOpacity, StyleSheet, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ConfirmationModal = ({ \n  visible, \n  onClose, \n  onConfirm, \n  actionText,\n  isLoading = false\n}) => {\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalText}>\n            Are you sure you want to {actionText}?\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.cancelButton]}\n              onPress={onClose}\n              disabled={isLoading}\n            >\n              <Text style={[\n                styles.cancelButtonText,\n                isLoading && styles.disabledText\n              ]}>\n                Cancel\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              style={[\n                styles.button, \n                styles.confirmButton,\n                isLoading && styles.disabledButton\n              ]}\n              onPress={onConfirm}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n              ) : (\n                <Text style={styles.confirmButtonText}>Confirm</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 400,\n  },\n  modalText: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    textAlign: 'center',\n    color: theme.colors.text,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  confirmButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  confirmButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  disabledText: {\n    opacity: 0.5,\n  },\n});\n\nexport default ConfirmationModal;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, FlatList } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddServiceModal from './AddServiceModal';\nimport ProfessionalServiceCard from './ProfessionalServiceCard';\nimport ConfirmationModal from './ConfirmationModal';\nimport { Portal } from 'react-native-paper';\n\nconst ServiceManager = ({ services, setServices, setHasUnsavedChanges, isProfessionalTab = false }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [editingService, setEditingService] = useState(null);\n  const [collapsedServices, setCollapsedServices] = useState([]);\n  const [allCollapsed, setAllCollapsed] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [serviceToDelete, setServiceToDelete] = useState(null);\n  const [hoveredButton, setHoveredButton] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState(null);\n  const [collapseTooltipPosition, setCollapseTooltipPosition] = useState(null);\n  const buttonRef = useRef(null);\n  const collapseButtonRef = useRef(null);\n\n  const toggleCollapseAll = () => {\n    if (allCollapsed) {\n      setCollapsedServices([]);\n    } else {\n      setCollapsedServices(services.map((_, index) => index));\n    }\n    setAllCollapsed(!allCollapsed);\n  };\n\n  const handleEditService = (index) => {\n    const serviceToEdit = { ...services[index], index };\n    setEditingService(serviceToEdit);\n    setShowModal(true);\n  };\n\n  const handleDeleteService = (index) => {\n    setServiceToDelete(index);\n    setShowDeleteModal(true);\n  };\n\n  const handleSaveService = (updatedService) => {\n    if (editingService !== null) {\n      setServices(prev => \n        prev.map((service, index) => \n          index === editingService.index ? updatedService : service\n        )\n      );\n    } else {\n      setServices(prev => [...prev, updatedService]);\n    }\n    setHasUnsavedChanges(true);\n    setEditingService(null);\n  };\n\n  const toggleCollapse = (index) => {\n    setCollapsedServices((prev) =>\n      prev.includes(index)\n        ? prev.filter((i) => i !== index)\n        : [...prev, index]\n    );\n  };\n\n  const confirmDelete = () => {\n    setServices(prevServices => \n      prevServices.filter((_, i) => i !== serviceToDelete)\n    );\n    setHasUnsavedChanges(true);\n    setShowDeleteModal(false);\n  };\n\n  const showTooltip = (ref, tooltipText, setPosition) => {\n    if (ref.current) {\n      setTimeout(() => {\n        // Get the button's DOM element\n        const element = ref.current;\n        // Get the button's bounding rectangle relative to the viewport\n        const rect = element.getBoundingClientRect();\n        \n        \n        setPosition({\n          x: rect.left + (rect.width / 2),\n          y: rect.top, // Position tooltip at the top of the button\n          text: tooltipText\n        });\n        \n        \n        setHoveredButton(tooltipText);\n      }, 0);\n    }\n  };\n\n  // {console.log('Services:', services)}\n\n  return (\n    <View style={styles.container}>\n      <View style={[styles.serviceListContainer, { paddingHorizontal: isProfessionalTab ? 0 : 20 }]}>\n        <View style={styles.headerButtons}>\n          <Text style={styles.sectionTitle}>Services</Text>\n          <View style={styles.headerActions}>\n            <TouchableOpacity \n              ref={collapseButtonRef}\n              onPress={toggleCollapseAll} \n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(\n                    collapseButtonRef, \n                    allCollapsed ? 'Expand All' : 'Collapse All', \n                    setCollapseTooltipPosition\n                  );\n                } catch (error) {\n                  console.error('Error showing collapse tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setCollapseTooltipPosition(null);\n              }}\n            >\n              <MaterialCommunityIcons \n                name={allCollapsed ? \"chevron-down\" : \"chevron-up\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              ref={buttonRef}\n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(buttonRef, 'Add Service', setTooltipPosition);\n                } catch (error) {\n                  console.error('Error showing add tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setTooltipPosition(null);\n              }}\n              onPress={() => {\n                setEditingService(null);\n                setShowModal(true);\n              }}\n            >\n              <MaterialCommunityIcons \n                name=\"plus\" \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        {(Array.isArray(services) && services.length > 0) ? (\n          <FlatList\n            data={services}\n            renderItem={({ item, index }) => {\n              // console.log('Before ProfessionalServiceCard render:', { item, index });\n              \n              if (!item || typeof item !== 'object') {\n                console.warn('Invalid item detected:', item);\n                return null;\n              }\n              \n              return (\n                <ProfessionalServiceCard\n                  key={`service-${index}`}\n                  item={item}\n                  {...item}\n                  service={item}\n                  onEdit={() => handleEditService(index)}\n                  onDelete={() => handleDeleteService(index)}\n                  isCollapsed={collapsedServices.includes(index)}\n                  onToggleCollapse={() => toggleCollapse(index)}\n                  isProfessionalTab={isProfessionalTab}\n                />\n              );\n            }}\n            keyExtractor={(item, index) => `service-${index}`}\n          />\n        ) : (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>No services yet</Text>\n            <TouchableOpacity \n              style={styles.addButton}\n              onPress={() => setShowModal(true)}\n            >\n              <Text style={styles.addButtonText}>Add Services</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      </View>\n      \n\n      <AddServiceModal\n        visible={showModal}\n        onClose={() => {\n          setShowModal(false);\n          setEditingService(null);\n        }}\n        onSave={handleSaveService}\n        initialService={editingService}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n      />\n\n      <ConfirmationModal\n        visible={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        onConfirm={confirmDelete}\n        actionText=\"delete this service\"\n      />\n\n      {tooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: tooltipPosition.y - 40,\n                left: tooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{tooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n\n      {collapseTooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: collapseTooltipPosition.y - 40,\n                left: collapseTooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{collapseTooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 9998,\n    elevation: 9998,\n  },\n  serviceListContainer: {\n    flex: 1,\n    paddingVertical: 0,\n  },\n  headerButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerButton: {\n    marginLeft: 20,\n    padding: 8,\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  buttonTooltip: {\n    position: 'absolute',\n    bottom: '100%',\n    left: '50%',\n    transform: [{ translateX: -35 }],\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    width: 70,\n    textAlign: 'center',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -1,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 10000,\n    elevation: 10000,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  portalTooltip: {\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    width: 70,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  tooltipText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  emptyText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    marginBottom: 20,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n});\n\nexport default ServiceManager;\n","import React from 'react';\nimport { View, Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst RecordedPets = ({ pets }) => {\n  return (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>My Pets</Text>\n      {pets.map((pet) => (\n        <TouchableOpacity key={pet.id} style={styles.petItem}>\n          <View style={styles.petItemContent}>\n            <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type} • {pet.breed} • {pet.age} years old</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      ))}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n});\n\nexport default RecordedPets;","import React from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst EditableSection = ({ \n  title, \n  value, \n  onChangeText, \n  editMode, \n  toggleEditMode, \n  setHasUnsavedChanges,\n  getContentWidth,\n  multiline = true \n}) => {\n  const renderEditableField = () => {\n    return editMode ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${title.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  return (\n    <View style={styles.section}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <TouchableOpacity onPress={toggleEditMode}>\n          <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n        </TouchableOpacity>\n      </View>\n      {renderEditableField()}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    // marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n});\n\nexport default EditableSection;","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  Image,\n  TouchableOpacity,\n  ScrollView,\n  StyleSheet,\n  Modal,\n} from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport ServiceManager from './ServiceManager';\nimport { theme } from '../styles/theme';\nimport RecordedPets from './RecordedPets';\nimport EditableSection from './EditableSection';\nimport * as ImagePicker from 'expo-image-picker';\n\nconst ProfessionalTab = ({ \n  services, \n  setServices, \n  setHasUnsavedChanges,\n  getContentWidth,\n  pets,\n  editMode,\n  toggleEditMode\n}) => {\n  const [professionalPhoto, setProfessionalPhoto] = useState(null);\n  const [professionalBio, setProfessionalBio] = useState('');\n  const [portfolioPhotos, setPortfolioPhotos] = useState([]);\n  const [facilities, setFacilities] = useState('');\n  const [skills, setSkills] = useState({\n    certifications: [],\n    experience: '',\n    specialties: [],\n  });\n  const [selectedFacilities, setSelectedFacilities] = useState([]);\n  const [facilitiesModalVisible, setFacilitiesModalVisible] = useState(false);\n  const [tempSelectedFacilities, setTempSelectedFacilities] = useState([]);\n\n  const FACILITY_OPTIONS = [\n    // Living Situation\n    { id: 'apartment', label: 'Lives in an apartment' },\n    { id: 'house', label: 'Lives in a house' },\n    { id: 'fenced_yard', label: 'Has a fenced yard' },\n    \n    // Household Environment\n    { id: 'non_smoking', label: 'Non-smoking household' },\n    { id: 'no_children', label: 'No children present' },\n    { id: 'has_children', label: 'Children present' },\n    { id: 'security_system', label: 'Has security system' },\n    \n    // Pet Policies\n    { id: 'dogs_bed', label: 'Dogs allowed on bed' },\n    { id: 'dogs_furniture', label: 'Dogs allowed on furniture' },\n    { id: 'crate_available', label: 'Crate available' },\n    { id: 'separate_areas', label: 'Can separate pets' },\n    \n    // Care Details\n    { id: 'potty_0_2', label: 'Potty breaks every 0-2 hours' },\n    { id: 'potty_2_4', label: 'Potty breaks every 2-4 hours' },\n    { id: 'potty_4_6', label: 'Potty breaks every 4-6 hours' },\n    \n    // Resident Pets\n    { id: 'no_pets', label: 'No resident pets' },\n    { id: 'has_dogs', label: 'Has resident dogs' },\n    { id: 'has_cats', label: 'Has resident cats' },\n    \n    // Additional Features\n    { id: 'air_conditioned', label: 'Air-conditioned' },\n    { id: 'outdoor_area', label: 'Has outdoor play area' },\n    { id: 'emergency_transport', label: 'Emergency transport available' },\n  ];\n\n  const pickProfessionalPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfessionalPhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const addPortfolioPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: false,\n      quality: 1,\n      aspect: [4, 3],\n      allowsMultipleSelection: true,\n      selectionLimit: 10,\n    });\n\n    if (!result.canceled) {\n      const newPhotos = result.assets.map(asset => ({\n        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        uri: asset.uri,\n        caption: 'New portfolio photo'\n      }));\n      \n      setPortfolioPhotos(prev => [...prev, ...newPhotos]);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, multiline = false) => {\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${label.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  const toggleFacility = (facilityId) => {\n    setSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n    setHasUnsavedChanges(true);\n  };\n\n  const openFacilitiesModal = () => {\n    setTempSelectedFacilities([...selectedFacilities]);\n    setFacilitiesModalVisible(true);\n  };\n\n  const saveFacilities = () => {\n    setSelectedFacilities(tempSelectedFacilities);\n    setFacilitiesModalVisible(false);\n    setHasUnsavedChanges(true);\n  };\n\n  const toggleTempFacility = (facilityId) => {\n    setTempSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n  };\n\n  return (\n    <View style={styles.centeredContent}>\n      {/* Professional Photo Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Profile Photo (Professional)</Text>\n        </View>\n        <View style={styles.profileHeader}>\n          <TouchableOpacity onPress={pickProfessionalPhoto}>\n            {professionalPhoto ? (\n              <Image source={{ uri: professionalPhoto }} style={styles.profilePhoto} />\n            ) : (\n              <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n              </View>\n            )}\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {/* Professional Bio Section */}\n      <EditableSection\n        title=\"Professional Bio\"\n        value={professionalBio}\n        onChangeText={setProfessionalBio}\n        editMode={editMode.professionalBio}\n        toggleEditMode={() => toggleEditMode('professionalBio')}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n        getContentWidth={getContentWidth}\n      />\n\n      {/* Services Section */}\n      <View style={styles.section}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={true}\n        />\n      </View>\n\n      {/* Portfolio Photos Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Portfolio Photos</Text>\n          <TouchableOpacity onPress={addPortfolioPhoto}>\n            <MaterialCommunityIcons \n              name=\"plus\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.portfolioGrid}>\n          {portfolioPhotos.map((photo) => (\n            <TouchableOpacity \n              key={photo.id} \n              style={styles.portfolioCard}\n              onPress={() => {\n                // Handle photo edit/view\n                // Could add modal to edit caption or view full size\n              }}\n            >\n              <View style={styles.portfolioImageContainer}>\n                <Image \n                  source={{ uri: photo.uri }} \n                  style={styles.portfolioPhoto} \n                />\n              </View>\n              <Text style={styles.portfolioCaption}>{photo.caption}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n        {portfolioPhotos.length === 0 && (\n          <Text style={styles.emptyText}>\n            No portfolio photos added yet\n          </Text>\n        )}\n      </View>\n        \n      { /* My Pets Section (Read-Only) */}\n      <RecordedPets pets={pets} />\n\n      {/* Home & Facilities Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Home & Facilities</Text>\n          <TouchableOpacity onPress={openFacilitiesModal}>\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.facilitiesContainer}>\n          {selectedFacilities.map((facilityId) => {\n            const facility = FACILITY_OPTIONS.find(f => f.id === facilityId);\n            return (\n              <View key={facilityId} style={styles.facilityTag}>\n                <Text style={styles.facilityTagText}>{facility.label}</Text>\n              </View>\n            );\n          })}\n          {selectedFacilities.length === 0 && (\n            <Text style={styles.emptyText}>No facilities selected</Text>\n          )}\n        </View>\n\n        {/* Facilities Selection Modal */}\n        <Modal\n          visible={facilitiesModalVisible}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setFacilitiesModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <View style={styles.modalContent}>\n              <View style={styles.modalHeader}>\n                <Text style={styles.modalTitle}>Select Home & Facilities</Text>\n                <TouchableOpacity onPress={() => setFacilitiesModalVisible(false)}>\n                  <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n                </TouchableOpacity>\n              </View>\n              \n              <ScrollView style={styles.modalScroll}>\n                {FACILITY_OPTIONS.map((facility) => (\n                  <TouchableOpacity\n                    key={facility.id}\n                    style={[\n                      styles.modalFacilityTag,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagSelected\n                    ]}\n                    onPress={() => toggleTempFacility(facility.id)}\n                  >\n                    <Text style={[\n                      styles.modalFacilityText,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagTextSelected\n                    ]}>\n                      {facility.label}\n                    </Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n\n              <View style={styles.modalFooter}>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.cancelButton]}\n                  onPress={() => setFacilitiesModalVisible(false)}\n                >\n                  <Text style={styles.modalButtonText}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.saveButton]}\n                  onPress={saveFacilities}\n                >\n                  <Text style={styles.modalButtonText2}>Save</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </Modal>\n      </View>\n\n      {/* Skills & Experience Section */}\n      {/* <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Skills & Experience</Text>\n          <TouchableOpacity onPress={() => toggleEditMode('skills')}>\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n        {renderEditableField('Experience', skills.experience, \n          (text) => setSkills(prev => ({ ...prev, experience: text })), \n          'skills', \n          true\n        )}\n      </View> */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n    width: '100%',\n    maxWidth: 600,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  portfolioGrid: {\n    width: '100%',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  portfolioCard: {\n    width: '48%',\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    overflow: 'hidden',\n    elevation: 2,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.23,\n    shadowRadius: 2.62,\n  },\n  portfolioImageContainer: {\n    aspectRatio: 4/3,\n    width: '100%',\n  },\n  portfolioPhoto: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n  },\n  portfolioCaption: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    padding: 8,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.placeholder,\n    marginTop: 16,\n  },\n  facilitiesContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    paddingHorizontal: 4,\n  },\n  facilityTag: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  facilityTagSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  facilityTagText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.small,\n  },\n  facilityTagTextSelected: {\n    color: theme.colors.surface,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  modalScroll: {\n    maxHeight: '70%',\n  },\n  modalFacilityTag: {\n    padding: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  modalFacilityText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n  },\n  modalFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n  },\n  modalButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '48%',\n    alignItems: 'center',\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  modalButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  modalButtonText2: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ProfessionalTab;","import React, { useState } from 'react';\nimport { Platform, TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\n\n// Called in DefaultSettingsModal.js\n// Called in MyProfile.js\n// Called in BookingDetails.js\n\nconst DatePicker = ({ \n  value, \n  onChange, \n  placeholder = 'Select Date',\n  displayFormat = (date) => date // Optional custom display format\n}) => {\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const dateValue = value ? new Date(value) : new Date();\n\n  const handleChange = (event, selectedDate) => {\n    if (Platform.OS === 'android') {\n      setShowDatePicker(false);\n    }\n    if (selectedDate) {\n      onChange(selectedDate.toISOString().split('T')[0]);\n    }\n  };\n\n  if (Platform.OS === 'web') {\n    return (\n      <input\n        type=\"date\"\n        value={value || ''}\n        onChange={(e) => onChange(e.target.value)}\n        style={styles.webDatePicker}\n      />\n    );\n  } else if (Platform.OS === 'ios') {\n    return (\n      <DateTimePicker\n        value={dateValue}\n        mode=\"date\"\n        display=\"default\"\n        onChange={handleChange}\n      />\n    );\n  } else {\n    return (\n      <>\n        <TouchableOpacity \n          onPress={() => setShowDatePicker(true)}\n          style={styles.androidButton}\n        >\n          <Text style={styles.dateText}>\n            {value ? displayFormat(value) : placeholder}\n          </Text>\n        </TouchableOpacity>\n        {Platform.OS === 'android' && showDatePicker && (\n          <DateTimePicker\n            value={dateValue}\n            mode=\"date\"\n            display=\"default\"\n            onChange={handleChange}\n          />\n        )}\n      </>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  webDatePicker: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontSize: theme.fontSizes.medium,\n  },\n  androidButton: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default DatePicker;","import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst BackHeader = ({ \n  title, \n  onBackPress, \n  rightIcon = null, // Optional right icon\n  onRightPress = null, // Optional right icon press handler\n  rightComponent = null, // Add this prop\n  customStyles = {} \n}) => {\n  const navigation = useNavigation();\n\n  return (\n    <View style={[styles.header, customStyles]}>\n      <TouchableOpacity onPress={onBackPress} style={styles.backButton}>\n        <MaterialCommunityIcons \n          name=\"arrow-left\" \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n      \n      <Text style={styles.headerText}>{title}</Text>\n      \n      {rightComponent ? rightComponent : (\n        rightIcon && (\n          <TouchableOpacity \n            onPress={onRightPress} \n            style={styles.rightButton}\n          >\n            <MaterialCommunityIcons \n              name={rightIcon} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        )\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n    zIndex: 100,\n    elevation: 100,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    flex: 1, // This allows the title to take up remaining space\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rightButton: {\n    marginLeft: 16,\n  },\n});\n\nexport default BackHeader;","import React, { useState, useEffect } from 'react';\nimport { View, SafeAreaView, Platform, StatusBar, StyleSheet, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst CrossPlatformView = ({ \n  children, \n  style,\n  useSafeArea = true,\n  backgroundColor = theme.colors.background,\n  fullWidthHeader = false,\n  contentWidth = '800px'\n}) => {\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  // For web platform\n  if (Platform.OS === 'web') {\n    // Split children into header and content if fullWidthHeader is true\n    const headerContent = fullWidthHeader ? children[0] : null;\n    const mainContent = fullWidthHeader ? children.slice(1) : children;\n\n    return (\n      <div style={{ \n        backgroundColor, \n        width: '100%',\n        maxWidth: '100vw',\n        overflowX: 'hidden'\n      }}>\n        {fullWidthHeader && (\n          <div style={{ \n            width: '100%', \n            backgroundColor,\n            maxWidth: '100vw',\n            overflowX: 'hidden'\n          }}>\n            {headerContent}\n          </div>\n        )}\n        <div style={{\n          ...styles.webContainer,\n          ...style,\n          maxWidth: contentWidth,\n          margin: '0 auto',\n          width: '100%',\n          overflowX: 'hidden'\n        }}>\n          {mainContent}\n        </div>\n      </div>\n    );\n  }\n\n  // For iOS\n  if (Platform.OS === 'ios' && useSafeArea) {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor }, style]}>\n        {children}\n      </SafeAreaView>\n    );\n  }\n\n  // For Android or when SafeAreaView is disabled\n  return (\n    <View style={[\n      styles.container,\n      { \n        paddingTop: useSafeArea ? StatusBar.currentHeight : 0,\n        backgroundColor \n      },\n      style\n    ]}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n    width: '100%',\n    maxWidth: '100%',\n    overflow: 'hidden',\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default CrossPlatformView;","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { View, ScrollView, StyleSheet, Text, TextInput, TouchableOpacity, Image, Platform, StatusBar, Alert, useWindowDimensions } from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport { Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport ServiceManager from '../components/ServiceManager';\nimport ProfessionalTab from '../components/ProfessionalTab';\nimport RecordedPets from '../components/RecordedPets';\nimport EditableSection from '../components/EditableSection';\nimport DatePicker from '../components/DatePicker';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { DEFAULT_SERVICES } from '../data/mockData';\n\nconst MyProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({\n    professional: false,\n    services: false,\n    bio: false,\n    professionalBio: false,\n    portfolio: false,\n    facilities: false,\n    skills: false,\n  });\n\n  const [services, setServices] = useState(DEFAULT_SERVICES);\n  \n  const [activeTab, setActiveTab] = useState('client');\n  const [rates, setRates] = useState({\n    inHouse: '',\n    overnight: '',\n    dropBys: '',\n    boarding: '',\n    dayCare: '',\n  });\n  const { isApprovedProfessional } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const [photoNeedsSaving, setPhotoNeedsSaving] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [birthday, setBirthday] = useState('');\n  const [calculatedAge, setCalculatedAge] = useState(null);\n\n  useEffect(() => {\n    const fetchMyProfileData = async () => {\n      // Simulate fetching profile data\n      const data = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            name: 'Alice Johnson',\n            email: 'alice@example.com',\n            phone: '(555) 123-4567',\n            age: '32',\n            address: '123 Main St',\n            city: 'San Francisco',\n            state: 'CA',\n            zip: '94122',\n            country: 'USA',\n            bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n            pets: [\n              { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://www.google.com/imgres?q=dog%20photo%20with%20https%20url&imgurl=https%3A%2F%2Fdog.ceo%2Fimg%2Fdog-api-fb.jpg&imgrefurl=https%3A%2F%2Fdog.ceo%2Fdog-api%2F&docid=BfjWdSj7jNl2rM&tbnid=gvZ-PT7ESUiKRM&vet=12ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA..i&w=1200&h=630&hcb=2&ved=2ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA' },\n              { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n              { id: '3', name: 'Rocky', type: 'Exotic', breed: 'Lizard Gecko', age: 2, photo: 'https://example.com/rocky.jpg' },\n            ],\n            emergencyContact: {\n              name: 'John Smith',\n              phone: '(555) 987-6543',\n            },\n            authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n          });\n        }, 1000);\n      });\n\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    };\n\n    fetchMyProfileData();\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const saveProfilePhoto = () => {\n    setPhotoNeedsSaving(false);\n    Alert.alert('Success', 'Profile photo updated successfully');\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300;\n            const popupHeight = 200;\n            \n            // Calculate position relative to window width to prevent overflow\n            const maxLeftPosition = windowWidth - popupWidth - 20; // 20px safety margin\n            const calculatedLeft = px - (popupWidth / 2);\n            const safeLeft = Math.min(maxLeftPosition, Math.max(20, calculatedLeft));\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight - 10, // 10px gap above the icon\n              left: safeLeft,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode((prevState) => ({ ...prevState, [section]: !prevState[section] }));\n  };\n\n  const getContentWidth = () => {\n    // For web, cap at 600px, for mobile use window width minus padding\n    if (Platform.OS === 'web') {\n      return '100%';\n    }\n    // For mobile, account for safe areas and padding\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, type = 'text') => {\n    const isBio = label.toLowerCase() === 'bio';\n    \n    if (type === 'birthday') {\n      return editMode[section] ? (\n        <View style={[styles.input, { width: getContentWidth() }]}>\n          <DatePicker\n            value={birthday}\n            onChange={updateBirthday} // TODO: need to implement the backend call here\n            placeholder=\"Select Birthday\"\n          />\n        </View>\n      ) : (\n        <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n          {`Age: ${calculatedAge || age || 'Not specified'}`}\n        </Text>\n      );\n    }\n\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          isBio && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={isBio}\n        numberOfLines={isBio ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {isBio ? value : `${label}: ${value || 'Not specified'}`}\n      </Text>\n    );\n  };\n\n  const saveChanges = () => {\n    setHasUnsavedChanges(false);\n    setEditMode({}); // Reset all edit modes to false\n    Alert.alert('Success', 'Changes saved successfully');\n  };\n\n  const updateBirthday = async (date) => {\n    setBirthday(date);\n    setHasUnsavedChanges(true);\n    \n    try {\n      // Replace with your actual API endpoint\n      const response = await fetch('/api/calculate-age', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ birthday: date }),\n      });\n      \n      const data = await response.json();\n      setCalculatedAge(data.age);\n    } catch (error) {\n      console.error('Error calculating age:', error);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"My Profile\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView \n        ref={scrollViewRef} \n        contentContainerStyle={styles.scrollViewContent}\n        style={styles.scrollView}\n      >\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n            style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n            <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>Account Info</Text>\n          </TouchableOpacity>\n          {isApprovedProfessional && (\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n              onPress={() => setActiveTab('professional')}\n            >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>Professional</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n        {activeTab === 'client' && (\n          <View style={styles.centeredContent}>\n            <View style={styles.profileHeader}>\n              <Text style={styles.name}>Profile Photo</Text>\n              <TouchableOpacity onPress={pickImage}>\n                {profilePhoto ? (\n                  <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />\n                ) : (\n                  <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                    <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n                  </View>\n                )}\n              </TouchableOpacity>\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Personal Information</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('personal')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', name, setName, 'personal')}\n              {renderEditableField('Email', email, setEmail, 'personal')}\n              {renderEditableField('Phone', phone, setPhone, 'personal')}\n              {renderEditableField('Birthday', birthday, setBirthday, 'personal', 'birthday')}\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Address</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('address')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Address', address, setAddress, 'address')}\n              {renderEditableField('City', city, setCity, 'address')}\n              {renderEditableField('State', state, setState, 'address')}\n              {renderEditableField('ZIP', zip, setZip, 'address')}\n              {renderEditableField('Country', country, setCountry, 'address')}\n              {/* {editMode.address && <Button mode=\"contained\" onPress={() => toggleEditMode('address')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <EditableSection\n              title=\"About Me\"\n              value={bio}\n              onChangeText={setBio}\n              editMode={editMode.bio}\n              toggleEditMode={() => toggleEditMode('bio')}\n              setHasUnsavedChanges={setHasUnsavedChanges}\n              getContentWidth={getContentWidth}\n            />\n            <RecordedPets pets={pets} />\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Emergency Contact</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('emergency')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({ ...emergencyContact, name: text }), 'emergency')}\n              {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({ ...emergencyContact, phone: text }), 'emergency')}\n              {/* {editMode.emergency && <Button mode=\"contained\" onPress={() => toggleEditMode('emergency')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <View style={[\n              styles.section, \n              Platform.OS !== 'web' && styles.lastSection\n            ]}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n                <View style={styles.iconContainer}>\n                  <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                    <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                  <TouchableOpacity onPress={() => toggleEditMode('household')}>\n                    <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                </View>\n              </View>\n              {authorizedHouseholdMembers.map((member, index) => (\n                editMode.household ? (\n                  <TextInput\n                    key={index}\n                    value={member}\n                    onChangeText={(text) => {\n                      const updatedMembers = [...authorizedHouseholdMembers];\n                      updatedMembers[index] = text;\n                      setHasUnsavedChanges(true);\n                      setAuthorizedHouseholdMembers(updatedMembers);\n                    }}\n                    style={[styles.input, { width: getContentWidth() }]}\n                  />\n                ) : (\n                  <Text key={index} style={[styles.fieldText, { width: getContentWidth() }]}>{member}</Text>\n                )\n              ))}\n              {editMode.household && (\n                <View style={{ width: getContentWidth() }}>\n                  <Button \n                    mode=\"outlined\" \n                    onPress={() => setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, ''])} \n                    style={styles.addButton}\n                  >\n                    Add Household Member\n                  </Button>\n                </View>\n              )}\n            </View>\n          </View>\n        )}\n        {activeTab === 'professional' && (\n          <ProfessionalTab\n            services={services}\n            setServices={setServices}\n            setHasUnsavedChanges={setHasUnsavedChanges}\n            getContentWidth={getContentWidth}\n            pets={pets}\n            editMode={editMode}\n            toggleEditMode={toggleEditMode}\n          />\n        )}\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={saveChanges}\n        btnText={'Save Changes'}\n      />\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    padding: 16,\n    alignItems: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n    // borderWidth: 1,\n    // borderColor: theme.colors.border,\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    marginHorizontal: 5,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  profilePhoto: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: '#fff',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: '#fff',\n    borderWidth: 1,\n    borderColor: theme.colors.placeholder,\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  lastSection: {\n    marginBottom: 100, // Extra padding for last section on mobile\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 10,\n    borderRadius: 5,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    marginTop: 10,\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    maxWidth: '90vw', // Ensure popup doesn't exceed viewport width\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    // marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  fieldText: {\n    marginBottom: 10,\n  },\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  fieldContainer: {\n    marginBottom: 16,\n  },\n  fieldLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 4,\n  },\n  birthdayContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 16,\n  },\n  ageText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default MyProfile;\n","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nexport default function CustomButton({ title, onPress }) {\n  return (\n    <TouchableOpacity style={styles.button} onPress={onPress}>\n      <Text style={styles.buttonText}>{title}</Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingVertical: theme.spacing.small,\n    paddingHorizontal: theme.spacing.medium,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginVertical: theme.spacing.small,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useContext, useEffect } from 'react';\nimport { View, TextInput, Text, StyleSheet, TouchableOpacity, Dimensions, Alert, ActivityIndicator, Platform, Keyboard } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { AuthContext } from '../context/AuthContext';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n  const { signIn } = useContext(AuthContext);\n\n  const handleLogin = async () => {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      Keyboard.dismiss();\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/token/`, {\n        email: email.toLowerCase(),\n        password: password,\n      });\n\n      const { access, refresh } = response.data;\n      \n      // Pass both tokens to signIn and get the status\n      const status = await signIn(access, refresh);\n      console.log('Sign in status:', status);\n      \n      // Navigate based on status\n      if (status && status.userRole === 'professional') {\n        navigation.navigate('ProfessionalDashboard');\n      } else {\n        navigation.navigate('Dashboard');\n      }\n    } catch (error) {\n      console.error('Login failed', error);\n      const errorMessage = error.response && error.response.status === 401\n        ? 'Invalid credentials. Please try again.'\n        : 'An unexpected error occurred.';\n\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Login Failed', errorMessage);\n      } else {\n        setSuccessMessage(`Login Failed: ${errorMessage}`);\n      }\n\n      setIsEmailValid(false);\n      setIsPasswordValid(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add useEffect to handle document-wide keyboard events\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleDocumentKeyPress = (e) => {\n        if (e.key === 'Enter') {\n          handleLogin();\n        }\n      };\n\n      document.addEventListener('keydown', handleDocumentKeyPress);\n\n      // Cleanup listener when component unmounts\n      return () => {\n        document.removeEventListener('keydown', handleDocumentKeyPress);\n      };\n    }\n  }, [email, password]); // Dependencies ensure we have latest state values\n\n  // Keep the existing handleKeyPress for input fields\n  const handleKeyPress = (e) => {\n    if (Platform.OS === 'web' && e.nativeEvent.key === 'Enter') {\n      handleLogin();\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Sign In</Text>\n      <TextInput\n        style={[styles.input, !isEmailValid && styles.invalidInput]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setIsEmailValid(true);\n        }}\n        autoCapitalize=\"none\"\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <TextInput\n        style={[styles.input, !isPasswordValid && styles.invalidInput]}\n        placeholder=\"Password\"\n        secureTextEntry\n        value={password}\n        onChangeText={(text) => {\n          setPassword(text);\n          setIsPasswordValid(true);\n        }}\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <CustomButton title=\"Login\" onPress={handleLogin} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      <TouchableOpacity onPress={() => navigation.navigate('ResetPassword')}>\n        <Text style={styles.link}>Forgot Password?</Text>\n      </TouchableOpacity>\n      <TouchableOpacity onPress={() => navigation.navigate('SignUp')}>\n        <Text style={styles.link}>Sign Up</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center', // Center the content horizontally\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  invalidInput: {\n    borderColor: 'red',\n  },\n  link: {\n    color: theme.colors.primary,\n    marginTop: theme.spacing.small,\n    textAlign: 'center',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  prototypeWarning: {\n    backgroundColor: '#FFF3CD',\n    color: '#856404',\n    padding: theme.spacing.small,\n    marginBottom: theme.spacing.medium,\n    borderRadius: 4,\n    textAlign: 'center',\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n  },\n});\n","import React, { useState, useContext } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, KeyboardAvoidingView, Platform, ScrollView, Alert } from 'react-native';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext'; // Import AuthContext\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignUp() {\n  const navigation = useNavigation();\n  const { setIsSignedIn } = useContext(AuthContext); // Use AuthContext to update auth state\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleSignUp = async () => {\n    if (password !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    // Updated data structure to match new backend expectations\n    const userData = {\n      name: `${firstName.trim()} ${lastName.trim()}`, // Combine first and last name\n      email: email.trim().toLowerCase(),\n      password: password,\n      password2: confirmPassword, // Add confirmation password\n      phone_number: '', // Add empty phone number for now\n    };\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/register/`, userData);\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Account created successfully!', [\n          { text: 'OK', onPress: () => navigation.navigate('MyProfile') }\n        ]);\n      } else {\n        setSuccessMessage('Account created successfully!');\n        setTimeout(() => {\n          navigation.navigate('MyProfile');\n        }, 1500);\n      }\n      setIsSignedIn(true);\n    } catch (error) {\n      let errorMessage = 'Signup Failed: An error occurred during signup.';\n      if (error.response) {\n        const errorData = error.response.data;\n        // Handle specific field errors\n        if (errorData) {\n          const firstError = Object.entries(errorData)[0];\n          if (firstError) {\n            const [field, messages] = firstError;\n            errorMessage = `${field}: ${Array.isArray(messages) ? messages[0] : messages}`;\n          }\n        }\n      }\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      keyboardVerticalOffset={Platform.OS === 'ios' ? 64 : 0}\n    >\n      <ScrollView contentContainerStyle={styles.scrollContainer}>\n        <Text style={styles.title}>Sign Up</Text>\n        {[\n          { placeholder: \"First Name\", value: firstName, onChangeText: setFirstName },\n          { placeholder: \"Last Name\", value: lastName, onChangeText: setLastName },\n          { placeholder: \"Email\", value: email, onChangeText: setEmail, keyboardType: \"email-address\", autoCapitalize: \"none\" },\n          { placeholder: \"Password\", value: password, onChangeText: setPassword, secureTextEntry: true },\n          { placeholder: \"Confirm Password\", value: confirmPassword, onChangeText: setConfirmPassword, secureTextEntry: true }\n        ].map((input, index) => (\n          <TextInput\n            key={index}\n            style={styles.input}\n            placeholder={input.placeholder}\n            value={input.value}\n            onChangeText={input.onChangeText}\n            keyboardType={input.keyboardType}\n            autoCapitalize={input.autoCapitalize}\n            secureTextEntry={input.secureTextEntry}\n          />\n        ))}\n        <CustomButton title=\"Sign Up\" onPress={handleSignUp} />\n        {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n        {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContainer: {\n    padding: theme.spacing.medium,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexGrow: 1, // Ensure the ScrollView takes up the full height\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, Alert, ActivityIndicator, Dimensions, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPassword() {\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handleResetPassword = async () => {\n    if (!email) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Please enter your email address.');\n      } else {\n        setSuccessMessage('Error: Please enter your email address.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password/`, { email });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'A reset password link has been sent to your email.', [\n          { text: 'OK', onPress: () => navigation.navigate('Home') }\n        ]);\n      } else {\n        setSuccessMessage('A reset password link has been sent to your email.');\n        setTimeout(() => {\n          navigation.navigate('Home');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 404) {\n        setEmailError(true);\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Email is not associated with any user.');\n        } else {\n          setSuccessMessage('Error: Email is not associated with any user.');\n        }\n      } else {\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Failed to send reset password email. Please try again later.');\n        } else {\n          setSuccessMessage('Error: Failed to send reset password email. Please try again later.');\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={[styles.input, emailError && styles.inputError]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setEmailError(false);\n        }}\n        keyboardType=\"email-address\"\n        autoCapitalize=\"none\"\n      />\n      <CustomButton title=\"Reset Password\" onPress={handleResetPassword} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, Alert, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPasswordConfirm({ route }) {\n  const { uid, token } = route.params;\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handlePasswordReset = async () => {\n    if (newPassword !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password-confirm/${uid}/${token}/`, {\n        new_password: newPassword,\n      });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Your password has been reset.', [\n          { text: 'OK', onPress: () => navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm') }\n        ]);\n      } else {\n        setSuccessMessage('Your password has been reset.');\n        setTimeout(() => {\n          navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      const errorMessage = 'Failed to reset password. Please try again later.';\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={styles.input}\n        placeholder=\"New Password\"\n        value={newPassword}\n        onChangeText={setNewPassword}\n        secureTextEntry\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Confirm Password\"\n        value={confirmPassword}\n        onChangeText={setConfirmPassword}\n        secureTextEntry\n      />\n      <CustomButton title=\"Reset Password\" onPress={handlePasswordReset} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useEffect, useContext } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst Dashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { firstName, screenWidth } = useContext(AuthContext);\n  const { signOut } = useContext(AuthContext);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  // Mock data - replace with actual API calls\n  const upcomingBookings = [\n    { id: '56782', profepsronalsional: 'Jane Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', profepsronalsional: 'John Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming pet care services.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {upcomingBookings.map((booking) => (\n              <TouchableOpacity\n                key={booking.id}\n                onPress={() => navigateToFrom(navigation, 'BookingDetails', 'Dashboard', { bookingId: booking.id })}\n                style={styles.bookingItem}\n              >\n                <List.Item\n                  titleStyle={dynamicStyles.listItemTitle}\n                  descriptionStyle={dynamicStyles.listItemDescription}\n                  title={`${booking.pet} with ${booking.profepsronalsional}`}\n                  description={`${booking.date} at ${booking.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button \n              labelStyle={dynamicStyles.buttonText} \n              onPress={() => navigateToFrom(navigation, 'MyBookings', 'Dashboard')}\n            >\n              View All Bookings\n            </Button>\n          </Card.Actions>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"magnify\" size={size} color={color} /> : \"magnify\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'SearchProfessionalsListing', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                Find a Professional\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"paw\" size={size} color={color} /> : \"paw\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'MyPets', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Pets\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 4 : 0,\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n});\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { \n  View, \n  Text, \n  ScrollView, \n  TouchableOpacity, \n  TextInput, \n  KeyboardAvoidingView, \n  Platform, \n  Dimensions,\n  ActivityIndicator,\n  Alert,\n  StyleSheet\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { Picker } from '@react-native-picker/picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport * as Location from 'expo-location';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { mockProfessionals } from '../data/mockData';\n\nconst SearchProfessionals = ({ navigation }) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [showStartDatePicker, setShowStartDatePicker] = useState(false);\n  const [showEndDatePicker, setShowEndDatePicker] = useState(false);\n  const [location, setLocation] = useState({ country: 'USA', state: '', city: 'Colorado Springs' });\n  const [animalType, setAnimalType] = useState('');\n  const [exoticType, setExoticType] = useState('');\n  const [serviceType, setServiceType] = useState('');\n  const [petCount, setPetCount] = useState({ dogs: 0, cats: 0, exotics: 0 });\n  const [repeatService, setRepeatService] = useState('');\n  const [showServicePicker, setShowServicePicker] = useState(false);\n  const [showAnimalTypePicker, setShowAnimalTypePicker] = useState(false);\n  const [showRepeatServicePicker, setShowRepeatServicePicker] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  const styles = StyleSheet.create({\n    contentContainer: {\n      flex: 1,\n      width: '100%',\n      maxWidth: 600,\n      alignSelf: 'center',\n    },\n    scrollContent: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    filtersContainer: {\n      padding: 16,\n    },\n    picker: {\n      marginBottom: 10,\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterInput: {\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterButton: {\n      marginBottom: 10,\n      padding: 10,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterText: {\n      color: theme.colors.text,\n    },\n    petCountContainer: {\n      marginBottom: 20,\n    },\n    petCounter: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginBottom: 10,\n    },\n    petType: {\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    counterControls: {\n      flexDirection: 'row',\n      alignItems: 'center',\n    },\n    petCount: {\n      marginHorizontal: 10,\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    searchButton: {\n      backgroundColor: theme.colors.primary,\n      padding: 12,\n      borderRadius: 5,\n      alignItems: 'center',\n      marginTop: 20,\n    },\n    searchButtonText: {\n      color: '#fff',\n      fontSize: theme.fontSizes.medium,\n    },\n    datePickerContainer: {\n      marginBottom: 10,\n    },\n    webDatePicker: {\n      padding: 5,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      width: '100%',\n    },\n    webHeader: {\n      maxWidth: 1200,\n      width: '100%',\n      alignSelf: 'center',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  });\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  const handleSearch = async () => {\n    setIsLoading(true);\n    try {\n      const { status } = await Location.requestForegroundPermissionsAsync();\n      let userLocation;\n      \n      if (status === 'granted') {\n        const location = await Location.getCurrentPositionAsync({});\n        userLocation = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      } else {\n        userLocation = {\n          latitude: 38.8339,\n          longitude: -104.8214,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      }\n\n      const searchParams = {\n        startDate: startDate.toISOString(),\n        endDate: endDate.toISOString(),\n        location: userLocation,\n        animalType,\n        exoticType,\n        serviceType,\n        petCount,\n        repeatService,\n        initialProfessionals: mockProfessionals.filter(professional => \n          (!serviceType || professional.serviceTypes.includes(serviceType)) &&\n          (!animalType || professional.animalTypes.includes(animalType))\n        )\n      };\n\n      // Store data based on platform\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('searchParams', JSON.stringify(searchParams));\n      } else {\n        await AsyncStorage.setItem('searchParams', JSON.stringify(searchParams));\n      }\n\n      navigation.navigate('SearchProfessionalsListing');\n    } catch (error) {\n      console.error('Error getting location:', error);\n      Alert.alert('Error', 'Failed to get location. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDateChange = (setter) => (event, date) => {\n    if (Platform.OS !== 'web') {\n      setter(date || new Date());\n    }\n  };\n\n  const renderDatePicker = (date, setDate, showPicker, setShowPicker, label) => {\n    if (Platform.OS === 'web') {\n      return (\n        <View style={styles.datePickerContainer}>\n          <Text>{label}:</Text>\n          <input\n            type=\"date\"\n            value={date.toISOString().split('T')[0]}\n            onChange={(e) => setDate(new Date(e.target.value))}\n            style={styles.webDatePicker}\n          />\n        </View>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n            <Text style={styles.filterText}>{label}: {date.toDateString()}</Text>\n          </TouchableOpacity>\n          {showPicker && (\n            <DateTimePicker\n              value={date}\n              mode=\"date\"\n              display={Platform.OS === 'ios' ? 'spinner' : 'default'}\n              onChange={(event, selectedDate) => {\n                setShowPicker(false);\n                if (selectedDate) setDate(selectedDate);\n              }}\n              style={styles.datePicker}\n            />\n          )}\n        </View>\n      );\n    }\n  };\n\n  const renderPicker = (selectedValue, setSelectedValue, showPicker, setShowPicker, label, options) => (\n    <View>\n      <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n        <Text style={styles.filterText}>{label}: {selectedValue || 'Select'}</Text>\n      </TouchableOpacity>\n      {showPicker && (\n        <Picker\n          selectedValue={selectedValue}\n          onValueChange={(itemValue) => {\n            setSelectedValue(itemValue);\n            setShowPicker(false);\n          }}\n          style={styles.picker}\n        >\n          {options.map((option, index) => (\n            <Picker.Item key={index} label={option.label} value={option.value} />\n          ))}\n        </Picker>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Search Professionals\" \n        onBackPress={() => navigation.goBack()}\n      />\n      <KeyboardAvoidingView \n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'} \n        style={styles.contentContainer}\n      >        \n        <ScrollView contentContainerStyle={styles.scrollContent}>\n          <View style={styles.filtersContainer}>\n            {renderPicker(serviceType, setServiceType, showServicePicker, setShowServicePicker, 'Service Type', [\n              { label: 'Select Service Type', value: '' },\n              { label: 'House Sitting', value: 'House Sitting' },\n              { label: 'Dog Walking', value: 'Dog Walking' },\n              { label: 'Drop-ins', value: 'Drop-ins' },\n              { label: 'Boarding', value: 'Boarding' },\n              { label: 'Day Care', value: 'Day Care' },\n              { label: 'Training', value: 'Training' },\n            ])}\n\n            <View style={styles.petCountContainer}>\n              <Text style={styles.label}>Number of Pets:</Text>\n              {['dogs', 'cats', 'exotics'].map((type) => (\n                <View key={type} style={styles.petCounter}>\n                  <Text style={styles.petType}>{type.charAt(0).toUpperCase() + type.slice(1)}</Text>\n                  <View style={styles.counterControls}>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: Math.max(0, petCount[type] - 1) })}>\n                      <MaterialCommunityIcons name=\"minus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                    <Text style={styles.petCount}>{petCount[type]}</Text>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: petCount[type] + 1 })}>\n                      <MaterialCommunityIcons name=\"plus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              ))}\n            </View>\n\n            {animalType === 'exotic' && (\n              <TextInput\n                style={styles.filterInput}\n                placeholder=\"Type of Exotic Pet\"\n                value={exoticType}\n                onChangeText={setExoticType}\n              />\n            )}\n\n            {renderDatePicker(startDate, setStartDate, showStartDatePicker, setShowStartDatePicker, 'Start Date')}\n            {renderDatePicker(endDate, setEndDate, showEndDatePicker, setShowEndDatePicker, 'End Date')}\n\n            {renderPicker(repeatService, setRepeatService, showRepeatServicePicker, setShowRepeatServicePicker, 'One-time or Repeat?', [\n              { label: 'One-time or Repeat?', value: '' },\n              { label: 'One-time', value: 'One-time' },\n              { label: 'Repeat Weekly', value: 'Repeat Weekly' },\n            ])}\n\n            <TouchableOpacity \n              style={[styles.searchButton, isLoading && styles.searchButtonDisabled]} \n              onPress={handleSearch}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator color=\"#fff\" />\n              ) : (\n                <Text style={styles.searchButtonText}>Search</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </CrossPlatformView>\n  );\n};\n\nexport default SearchProfessionals;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst ProfessionalDashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { signOut, firstName, screenWidth, is_DEBUG } = useContext(AuthContext);\n  const [upcomingBookings, setUpcomingBookings] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    emptyStateText: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.smallMedium,\n      marginBottom: 16,\n      textAlign: 'center',\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  const refreshToken = async () => {\n    try {\n      const refreshToken = await AsyncStorage.getItem('refreshToken');\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken,\n      });\n      const { access } = response.data;\n      await AsyncStorage.setItem('userToken', access);\n      return access;\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      await signOut();\n      navigation.navigate('SignIn');\n    }\n  };\n\n  // Prototype data\n  const prototypeBookings = [\n    { id: '56782', client: 'John Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', client: 'Jane Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const fetchDashboardData = async () => {\n\n    try {\n      setIsLoading(true);\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setUpcomingBookings(response.data.upcoming_bookings || []);\n    } catch (error) {\n      if (error.response?.status === 401) {\n        const newToken = await refreshToken();\n        if (newToken) {\n          try {\n            const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n              headers: { Authorization: `Bearer ${newToken}` }\n            });\n            setUpcomingBookings(response.data.upcoming_bookings || []);\n          } catch (retryError) {\n            console.error('Error fetching dashboard data after token refresh:', retryError);\n          }\n        }\n      } else {\n        console.error('Error fetching dashboard data:', error);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, []);\n\n  // TODO: Fetch client requests from the backend\n  const clientRequests = [\n    { id: '1', client: 'Alice Johnson', pet: 'Fluffy (Rabbit)', date: '2023-05-20', time: '09:00' },\n    { id: '2', client: 'Bob Williams', pet: 'Spike (Iguana)', date: '2023-05-22', time: '16:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const navigateToServiceManager = async () => {\n    if (is_DEBUG) {\n      console.log('Setting previousRoute to:', 'ProfessionalDashboard');\n      console.log('Setting currentRoute to:', 'ServiceManager');\n    }\n    setTimeout(async () => {\n      await navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard');\n    }, 100);\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming activities.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {isLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"small\" color={colors.primary} />\n              </View>\n            ) : upcomingBookings.length > 0 ? (\n              upcomingBookings.map((booking) => (\n                <TouchableOpacity\n                  key={booking.booking_id}\n                  onPress={() => navigateToFrom(navigation, 'BookingDetails', 'ProfessionalDashboard', { \n                    bookingId: booking.booking_id \n                  })}\n                  style={styles.bookingItem}\n                >\n                  <List.Item\n                    titleStyle={dynamicStyles.listItemTitle}\n                    descriptionStyle={dynamicStyles.listItemDescription}\n                    title={`${booking.client_name} - ${booking.pets.slice(0, 3).map(pet => pet.name).join(', ')}${booking.pets.length > 3 ? '...' : ''} (${booking.pets.slice(0, 3).map(pet => pet.species).join(', ')}${booking.pets.length > 3 ? '...' : ''})`}\n                    description={`${booking.start_date} at ${booking.start_time}`}\n                    left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                    right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                  />\n                </TouchableOpacity>\n              ))\n            ) : (\n              <View style={styles.emptyStateContainer}>\n                <Paragraph style={dynamicStyles.emptyStateText}>No bookings yet!</Paragraph>\n                <Button \n                  mode=\"contained\" \n                  onPress={() => navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard')}\n                  style={styles.createServiceButton}\n                  labelStyle={dynamicStyles.buttonText}\n                >\n                  Create Services\n                </Button>\n              </View>\n            )}\n          </Card.Content>\n          {upcomingBookings.length > 0 && (\n            <Card.Actions>\n              <Button \n                onPress={() => navigateToFrom(navigation, 'MyBookings', 'ProfessionalDashboard')}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                View All Bookings\n              </Button>\n            </Card.Actions>\n          )}\n        </Card>\n\n        {/* <Card style={styles.card}>\n          <Card.Content>\n            <Title>Client Requests</Title>\n            {clientRequests.map((request) => (\n              <TouchableOpacity\n                key={request.id}\n                onPress={() => navigation.navigate('RequestDetails', { requestId: request.id })}\n              >\n                <List.Item\n                  title={`${request.client} - ${request.pet}`}\n                  description={`${request.date} at ${request.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"account-clock\" name=\"account-clock\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button onPress={() => navigation.navigate('ClientRequests')}>View All Requests</Button>\n          </Card.Actions>\n        </Card> */}\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"clock\" size={size} color={color} /> : \"clock\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'AvailabilitySettings', 'ProfessionalDashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                {Platform.OS === 'web' ? 'Update Availability' : 'Availability'}\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"briefcase\" size={size} color={color} /> : \"briefcase\"}\n                mode=\"outlined\" \n                onPress={navigateToServiceManager}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Services\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Professional Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    gap: 8,\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 0 : 0,\n    flex: Platform.OS === 'web' ? 1 : 0,\n    minWidth: Platform.OS === 'web' ? 200 : 'auto',\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  loadingContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  createServiceButton: {\n    marginTop: 8,\n  },\n});\n\nexport default ProfessionalDashboard;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TextInput, StyleSheet, ScrollView, SafeAreaView, Platform, StatusBar, TouchableOpacity, ActivityIndicator, Alert, Dimensions, Image } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport * as ImagePicker from 'expo-image-picker';\nimport { AuthContext } from '../context/AuthContext';\nimport { navigateToFrom, handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\n// TODO: mention to user initially we are doing a manual verification process, will implement automation later.\nconst BecomeProfessional = ({ navigation }) => {\n  const [selectedPets, setSelectedPets] = useState({\n    dog: false,\n    cat: false,\n    exotics: false,\n  });\n  const [about, setAbout] = useState('');\n  const [certifications, setCertifications] = useState([]);\n  const [insuranceProof, setInsuranceProof] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { is_DEBUG } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeNavigation = async () => {\n      const currentRoute = Platform.OS === 'web' ? sessionStorage.getItem('currentRoute') : await AsyncStorage.getItem('currentRoute');\n      if (currentRoute !== 'BecomeProfessional') {\n        await navigateToFrom(navigation, 'BecomeProfessional', currentRoute);\n      } else {\n        if (is_DEBUG) {\n          console.log('Error, currentRoute is BecomeProfessional');\n        }\n      }\n    };\n    initializeNavigation();\n  }, []);\n\n  const handleBackPress = () => {\n    handleBack(navigation);\n  };\n\n  const togglePetSelection = (pet) => {\n    setSelectedPets({ ...selectedPets, [pet]: !selectedPets[pet] });\n  };\n\n  const pickCertification = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newCertification = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setCertifications([...certifications, newCertification]);\n    }\n  };\n\n  const pickInsuranceProof = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newProof = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setInsuranceProof([...insuranceProof, newProof]);\n    }\n  };\n\n  const removeCertification = (index) => {\n    setCertifications(certifications.filter((_, i) => i !== index));\n  };\n\n  const removeInsuranceProof = (index) => {\n    setInsuranceProof(insuranceProof.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n\n    \n      // Original submission logic for non-prototype mode\n      setTimeout(() => {\n        setIsSubmitting(false);\n        setSelectedPets({\n          dog: false,\n          cat: false,\n          exotics: false,\n        });\n        setAbout('');\n        setCertifications([]);\n        setInsuranceProof([]);\n        if (Platform.OS === 'web') {\n          window.confirm('Success: Your application has been submitted successfully!') && navigation.navigate('More');\n        } else {\n          Alert.alert('Success', 'Your application has been submitted successfully!', [\n            { text: 'OK', onPress: () => navigation.navigate('More', { screen: 'More', transition: 'slide' }) },\n          ]);\n        }\n      }, 2000);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={handleBackPress} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>Become a Professional</Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <Text style={styles.title}>Become a Professional</Text>\n        \n        <Text style={styles.label}>Select Pets You Can Sit:</Text>\n        <View style={styles.checkboxContainer}>\n          {['dog', 'cat', 'exotics'].map((pet) => (\n            <TouchableOpacity\n              key={pet}\n              style={[\n                styles.petButton,\n                selectedPets[pet] && styles.selectedPetButton,\n              ]}\n              onPress={() => togglePetSelection(pet)}\n            >\n              <MaterialCommunityIcons\n                name={pet === 'exotics' ? 'turtle' : pet}\n                size={24}\n                color={selectedPets[pet] ? '#fff' : theme.colors.primary}\n              />\n              <Text style={[styles.petButtonText, selectedPets[pet] && styles.selectedPetButtonText]}>\n                {pet.charAt(0).toUpperCase() + pet.slice(1)}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        <Text style={styles.label}>About You:</Text>\n        <TextInput\n          style={styles.textInput}\n          multiline\n          numberOfLines={4}\n          placeholder=\"Write a little about yourself...\"\n          value={about}\n          onChangeText={setAbout}\n        />\n\n        <Text style={styles.label}>Upload Certifications/Resume:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickCertification}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Documents</Text>\n        </TouchableOpacity>\n        {certifications.map((cert, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: cert.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {cert.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeCertification(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <Text style={styles.label}>Upload Insurance Proof:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickInsuranceProof}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Insurance</Text>\n        </TouchableOpacity>\n        {insuranceProof.map((proof, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: proof.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {proof.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeInsuranceProof(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity style={styles.submitButton} onPress={handleSubmit} disabled={isSubmitting}>\n          <Text style={styles.submitButtonText}>Submit Application</Text>\n        </TouchableOpacity>\n        {isSubmitting && <ActivityIndicator style={styles.loadingIndicator} size=\"small\" color={theme.colors.primary} />}\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20,\n    width: Platform.OS === 'web' && Dimensions.get('window').width > 600 ? '40%' : '90%',\n    alignSelf: 'center',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  petButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 5,\n    backgroundColor: '#fff',\n  },\n  selectedPetButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  petButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n  },\n  selectedPetButtonText: {\n    color: '#fff',\n  },\n  textInput: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 20,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  certificationText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginTop: 5,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: '#fff',\n    fontSize: theme.fontSizes.medium,\n  },\n  loadingIndicator: {\n    marginTop: 10, // Add margin to separate the loading indicator from the submit button\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  uploadedFileContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 8,\n  },\n  uploadedFilePreview: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n    marginRight: 8,\n  },\n  removeFileButton: {\n    padding: 4,\n    marginLeft: 'auto',\n  },\n});\n\nexport default BecomeProfessional;\n","import React, { useContext, useEffect } from 'react';\nimport { View, StyleSheet, Alert, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { List, Divider, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst MoreScreen = ({ navigation }) => {\n  const { isSignedIn, isApprovedProfessional, userRole, switchRole, signOut } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeRoutes = async () => {\n      try {\n        const initialRoute = isSignedIn \n          ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n          : 'Home';\n\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('currentRoute', initialRoute);\n          sessionStorage.setItem('previousRoute', 'More');\n        } else {\n          await AsyncStorage.setItem('currentRoute', initialRoute);\n          await AsyncStorage.setItem('previousRoute', 'More');\n        }\n      } catch (error) {\n        console.error('Error initializing routes:', error);\n      }\n    };\n\n    initializeRoutes();\n  }, [isSignedIn, userRole]);\n\n  const handleNavigation = async (route) => {\n    try {\n      await navigateToFrom(navigation, route, 'More');\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(route);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut();\n      // Clear navigation history on logout\n      if (Platform.OS === 'web') {\n        sessionStorage.removeItem('currentRoute');\n        sessionStorage.removeItem('previousRoute');\n      } else {\n        await AsyncStorage.multiRemove(['currentRoute', 'previousRoute']);\n      }\n      Alert.alert('Logged Out', 'You have been successfully logged out.');\n      navigation.navigate('Home');\n    } catch (error) {\n      console.error('Logout failed', error);\n      Alert.alert('Logout Failed', 'An error occurred while logging out.');\n    }\n  };\n\n  const handleSwitchRole = async () => {\n    if (isApprovedProfessional) {\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      // console.log('Current role:', userRole);\n      // console.log('Switching to:', newRole);\n      \n      await switchRole();\n      \n      // Store new route before navigating\n      const newRoute = newRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard';\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('currentRoute', newRoute);\n      } else {\n        await AsyncStorage.setItem('currentRoute', newRoute);\n      }\n      \n      // Add a small delay to ensure state is updated before navigation\n      setTimeout(() => {\n        // console.log('Navigating to:', newRoute);\n        navigation.navigate(newRoute);\n      }, 0);\n    } else {\n      Alert.alert('Not Approved', 'You are not approved as a professional yet.');\n      handleNavigation('BecomeProfessional');\n    }\n  };\n\n  const menuItems = {\n    notSignedIn: [\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      // ADD after MVP is released\n    //   { title: 'Help/FAQ', icon: 'help-circle', route: 'HelpFAQ' },\n    //   { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    //   { title: 'Settings', icon: 'cog', route: 'Settings' },\n    ],\n    petOwner: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Become a Professional', icon: 'account-tie', route: 'BecomeProfessional' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n    professional: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Services', icon: 'briefcase-outline', route: 'ServiceManager' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n  };\n\n  const renderMenuItems = () => {\n    let items;\n    if (!isSignedIn) {\n      items = menuItems.notSignedIn;\n    } else if (userRole === 'professional') {\n      items = menuItems.professional;\n    } else {\n      items = menuItems.petOwner;\n    }\n\n    return items.map((item, index) => (\n      <List.Item\n        key={index}\n        title={item.title}\n        titleStyle={styles.listItemTitle}\n        left={props => \n          Platform.OS === 'web' \n            ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n            : <List.Icon {...props} icon={item.icon} />}\n        onPress={() => handleNavigation(item.route)}\n        style={Platform.OS === 'web' ? styles.webListItem : null}\n      />\n    ));\n  };\n\n  const renderWebView = () => (\n    <View style={styles.webContainer}>\n      <View style={styles.webContent}>\n        <List.Section style={styles.webListSection}>\n          {renderMenuItems()}\n        </List.Section>\n        {isSignedIn && isApprovedProfessional && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"outlined\" \n              onPress={handleSwitchRole} \n              style={styles.webButton}\n              labelStyle={styles.buttonText}\n            >\n              Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n            </Button>\n          </View>\n        )}\n        {isSignedIn && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"contained\" \n              onPress={handleLogout} \n              style={[styles.webButton, styles.logoutButton]}\n              labelStyle={styles.buttonText}\n            >\n              Log Out\n            </Button>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderMobileView = () => (\n    <SafeAreaView style={styles.container}>\n      <List.Section>\n        {renderMenuItems()}\n      </List.Section>\n      {isSignedIn && isApprovedProfessional && (\n        <View style={styles.switchRoleButtonContainer}>\n          <Button mode=\"outlined\" onPress={handleSwitchRole} style={styles.switchRoleButton}>\n            Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n          </Button>\n        </View>\n      )}\n      {isSignedIn && (\n        <View style={styles.logoutButtonContainer}>\n          <Button mode=\"contained\" onPress={handleLogout} style={styles.logoutButton}>\n            Log Out\n          </Button>\n        </View>\n      )}\n    </SafeAreaView>\n  );\n\n  return Platform.OS === 'web' ? renderWebView() : renderMobileView();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  logoutButtonContainer: {\n    padding: 16,\n  },\n  logoutButton: {\n    backgroundColor: theme.colors.error,\n  },\n  switchRoleButtonContainer: {\n    padding: 16,\n  },\n  switchRoleButton: {\n    borderColor: theme.colors.primary,\n  },\n  // Web-specific styles\n  webContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    padding: 16,\n  },\n  webListSection: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  webButtonContainer: {\n    marginBottom: 16,\n  },\n  webButton: {\n    width: '100%',\n  },\n  listItemTitle: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n    fontSize: 16,\n  },\n  buttonText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  }\n});\n\nexport default MoreScreen;\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\n\nconst UnavailableTimeSlot = ({ startTime, endTime, reason, onPress, onRemove }) => {\n  const [showAllServices, setShowAllServices] = useState(false);\n  \n  const isAllDay = startTime === '00:00' && endTime === '24:00';\n\n  const formatTime = (time) => {\n    if (isAllDay) {\n      return 'All Day';\n    }\n    \n    if (typeof time === 'string') {\n      try {\n        const date = parse(time, 'HH:mm', new Date());\n        return format(date, 'h:mm a');\n      } catch (error) {\n        console.warn(`Invalid time format: ${time}`);\n        return 'Invalid Time';\n      }\n    } else if (time instanceof Date) {\n      return format(time, 'h:mm a');\n    } else {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const formatServicesDisplay = () => {\n    const services = reason?.replace('Unavailable for: ', '').split(', ') || [];\n    \n    if (services.length === 0) return 'No services specified';\n    if (services.length === 10) return 'All Services';\n    return `${services.length} ${services.length === 1 ? 'Service' : 'Services'}`;\n  };\n\n  return (\n    <>\n      <View style={styles.container}>\n        <TouchableOpacity \n          style={styles.removeButton} \n          onPress={onRemove}\n        >\n          <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n        </TouchableOpacity>\n        \n        <View style={styles.contentContainer}>\n          <Text style={styles.time}>\n            {isAllDay ? 'All Day' : `${formatTime(startTime)} - ${formatTime(endTime)}`}\n          </Text>\n          <View style={styles.serviceContainer}>\n            <Text style={styles.reason}>{formatServicesDisplay()}</Text>\n            {reason && (\n              <TouchableOpacity \n                onPress={() => setShowAllServices(true)}\n                style={styles.seeMoreButton}\n              >\n                <Text style={styles.seeMoreText}>See All</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n        </View>\n      </View>\n\n      <Modal\n        visible={showAllServices}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setShowAllServices(false)}\n      >\n        <TouchableOpacity \n          style={styles.modalOverlay}\n          activeOpacity={1}\n          onPress={() => setShowAllServices(false)}\n        >\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Unavailable Services</Text>\n              <TouchableOpacity onPress={() => setShowAllServices(false)}>\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <Text style={styles.modalTime}>\n              {formatTime(startTime)} - {formatTime(endTime)}\n            </Text>\n            {reason?.replace('Unavailable for: ', '').split(', ').map((service, index) => (\n              <Text key={index} style={styles.serviceItem}>• {service}</Text>\n            ))}\n          </View>\n        </TouchableOpacity>\n      </Modal>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.lightGrey,\n    borderRadius: 5,\n    marginBottom: 5,\n  },\n  removeButton: {\n    padding: 5,\n    marginRight: 5,\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  time: {\n    fontSize: theme.fontSizes.small,\n    fontWeight: 'bold',\n    flex: 1,\n  },\n  serviceContainer: {\n    flex: 2,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  reason: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n    marginRight: 8,\n  },\n  seeMoreButton: {\n    padding: 4,\n    borderRadius: 4,\n    backgroundColor: theme.colors.primary,\n  },\n  seeMoreText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '80%',\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  modalTime: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 12,\n  },\n  serviceItem: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    paddingVertical: 4,\n  },\n});\n\nexport default UnavailableTimeSlot;\n","// First, create a new BookingCard component\n// src/components/BookingCard.js\n\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\n\nconst AvailabilityBookingCard = ({ booking, onPress, onEdit }) => {\n  const navigation = useNavigation();\n  const formatTime = (time) => {\n    try {\n      const date = parse(time, 'HH:mm', new Date());\n      return format(date, 'h:mm a');\n    } catch (error) {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const handlePress = () => {\n    if (onPress) {\n      onPress(booking);\n    }\n  };\n\n  return (\n    <TouchableOpacity \n      style={styles.card} \n      onPress={handlePress}\n    >\n      <View style={styles.cardContent}>\n        <View style={styles.timeContainer}>\n          <MaterialCommunityIcons name=\"clock-outline\" size={20} color={theme.colors.primary} />\n          <Text style={styles.timeText}>\n            {formatTime(booking.startTime)} - {formatTime(booking.endTime)}\n          </Text>\n        </View>\n        <Text style={styles.clientName}>Booked with {booking.client_name}</Text>\n      </View>\n      <TouchableOpacity \n        style={styles.editButton} \n        onPress={handlePress}\n      >\n        <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n      </TouchableOpacity>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n  },\n  cardContent: {\n    flex: 1,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  timeText: {\n    marginLeft: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  clientName: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n  },\n  editButton: {\n    padding: 8,\n  },\n});\n\nexport default AvailabilityBookingCard;","import React from 'react';\nimport { View, Text, StyleSheet, Platform, TouchableOpacity } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst TimePicker = ({ label, value, onChange, fullWidth = false, containerStyle }) => {\n  const [showPicker, setShowPicker] = React.useState(false);\n\n  const handleChange = (event, selectedDate) => {\n    setShowPicker(Platform.OS === 'ios');\n    if (selectedDate) {\n      onChange(selectedDate);\n    }\n  };\n\n  const showTimepicker = () => {\n    setShowPicker(true);\n  };\n\n  const renderTimeDisplay = () => (\n    <TouchableOpacity \n      onPress={showTimepicker}\n      style={[styles.timeButton, !fullWidth && styles.compactTimeButton]}\n    >\n      <Text style={styles.timeText}>\n        {value.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n      </Text>\n      <MaterialCommunityIcons name=\"clock-outline\" size={24} color={theme.colors.text} />\n    </TouchableOpacity>\n  );\n\n  if (Platform.OS === 'web') {\n    const webInputStyle = {\n      padding: 12,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 8,\n      backgroundColor: theme.colors.whiteText,\n      fontSize: theme.fontSizes.medium,\n      width: fullWidth ? '' : '90%',\n    };\n\n    return (\n      <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n        {label && <Text style={styles.label}>{label}</Text>}\n        <input\n          type=\"time\"\n          value={value.toTimeString().slice(0, 5)}\n          onChange={(e) => onChange(new Date(`2000-01-01T${e.target.value}`))}\n          style={webInputStyle}\n        />\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      {renderTimeDisplay()}\n      {showPicker && (\n        <DateTimePicker\n          value={value}\n          mode=\"time\"\n          is24Hour={true}\n          display=\"default\"\n          onChange={handleChange}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    // marginVertical: 8,\n  },\n  fullWidth: {\n    // width: '100%',\n  },\n  label: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 4,\n  },\n  timeButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    // backgroundColor: 'black',\n    minHeight: 48,\n  },\n  compactTimeButton: {\n    width: 150,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  }\n});\n\nexport default TimePicker;\n\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, Platform, Dimensions, ScrollView } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport UnavailableTimeSlot from './UnavailableTimeSlot';\nimport { format, parse } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBookingCard from './AvailabilityBookingCard';\nimport { useNavigation } from '@react-navigation/native';\nimport TimePicker from './TimePicker';\n\nconst { width, height: SCREEN_HEIGHT } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst AddAvailabilityModal = ({ isVisible: propIsVisible, onClose, onSave, selectedDates, currentAvailability, bookings, onRemoveTimeSlot }) => {\n  const [isVisible, setIsVisible] = useState(propIsVisible);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [modalWidth, setModalWidth] = useState(getModalWidth());\n  const [activeView, setActiveView] = useState('bookings');\n  const [editingBooking, setEditingBooking] = useState(null);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    setIsVisible(propIsVisible);\n  }, [propIsVisible]);\n\n  function getModalWidth() {\n    const { width } = Dimensions.get('window');\n    return width < 600 ? width * 0.9 : width * 0.4;\n  }\n\n  useEffect(() => {\n    const updateWidth = () => {\n      setModalWidth(getModalWidth());\n    };\n\n    const dimensionsHandler = Dimensions.addEventListener('change', updateWidth);\n\n    return () => {\n      dimensionsHandler.remove();\n    };\n  }, []);\n\n  const isTimeSlotUnavailable = () => {\n    if (!startTime || !endTime || isAllDay) return false;\n    \n    return selectedDates.some(date => {\n      const existingTimes = currentAvailability[date]?.unavailableTimes || [];\n      return existingTimes.some(time => {\n        const [existingStartHour, existingStartMin] = time.startTime.split(':').map(Number);\n        const [existingEndHour, existingEndMin] = time.endTime.split(':').map(Number);\n        const newStartStr = format(startTime, 'HH:mm');\n        const newEndStr = format(endTime, 'HH:mm');\n        const [newStartHour, newStartMin] = newStartStr.split(':').map(Number);\n        const [newEndHour, newEndMin] = newEndStr.split(':').map(Number);\n        \n        return newStartHour === existingStartHour && \n               newStartMin === existingStartMin && \n               newEndHour === existingEndHour && \n               newEndMin === existingEndMin;\n      });\n    });\n  };\n\n  const handleMarkUnavailable = () => {\n    if (selectedServices.length === 0 || isTimeSlotUnavailable()) return;\n    \n    const services = selectedServices.includes(ALL_SERVICES) \n      ? SERVICE_TYPES.filter(service => service !== ALL_SERVICES) \n      : selectedServices;\n\n    onSave({\n      dates: selectedDates,\n      isAllDay,\n      startTime: isAllDay ? null : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? null : format(endTime, 'HH:mm'),\n      isUnavailable: true,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n  };\n\n  const handleMarkAvailable = () => {\n    if (selectedServices.length === 0 || !isTimeSlotUnavailable()) return;\n\n    const newStartStr = format(startTime, 'HH:mm');\n    const newEndStr = format(endTime, 'HH:mm');\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== newStartStr || time.endTime !== newEndStr\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(selectedDates[0], { startTime: newStartStr, endTime: newEndStr }, updatedAvailability, selectedDates);\n  };\n\n  const handleRemoveTimeSlot = (date, timeSlot) => {\n    if (selectedDates.length === 1) {\n      onRemoveTimeSlot(date, timeSlot);\n      return;\n    }\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== timeSlot.startTime || time.endTime !== timeSlot.endTime\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(date, timeSlot, updatedAvailability, selectedDates);\n  };\n\n  const renderUnavailableTimes = () => {\n    if (selectedDates.length === 0) return null;\n\n    const date = selectedDates[0];\n    const unavailableTimes = currentAvailability[date]?.unavailableTimes || [];\n\n    if (unavailableTimes.length === 0) return null;\n\n    return (\n      <View style={styles.unavailableTimesContainer}>\n        <Text style={styles.sectionTitle}>Unavailable Times:</Text>\n        <ScrollView>\n          {unavailableTimes.map((time, index) => (\n            <UnavailableTimeSlot\n              key={index}\n              startTime={time.startTime}\n              endTime={time.endTime}\n              reason={time.reason}\n              onRemove={() => handleRemoveTimeSlot(date, time)}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    );\n  };\n\nconst renderTimePicker = () => (\n  <>\n    <View style={styles.timePickerContainer}>\n      <Text>Start Time:</Text>\n      <TimePicker\n        value={startTime}\n        onChange={setStartTime}\n        showPicker={showStartTimePicker}\n        setShowPicker={setShowStartTimePicker}\n        fullWidth\n      />\n    </View>\n    <View style={styles.timePickerContainer}>\n      <Text>End Time:</Text>\n      <TimePicker\n        value={endTime}\n        onChange={setEndTime}\n        showPicker={showEndTimePicker}\n        setShowPicker={setShowEndTimePicker}\n        fullWidth\n      />\n    </View>\n  </>\n);\n\nconst formatSelectedDates = () => {\n  if (!selectedDates || selectedDates.length === 0) return '';\n  \n  const startDate = selectedDates[0];\n  const endDate = selectedDates[selectedDates.length - 1];\n  \n  if (startDate === endDate) {\n    return startDate;\n  }\n  \n  return `${startDate} - ${endDate}`;\n};\n\nconst handleEditBooking = async (booking) => {\n  setEditingBooking(booking);\n  // Implement your booking edit logic here\n  try {\n    const response = await updateBooking({\n      ...booking,\n      // Add your updated booking data\n    });\n    \n    if (response.success) {\n      // Update local state\n      // Implement your state update logic\n    }\n  } catch (error) {\n    console.error('Failed to update booking:', error);\n  }\n};\n\nconst renderToggleButtons = () => (\n  <View style={styles.toggleContainer}>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'unavailable' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('unavailable')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'unavailable' && styles.activeToggleText\n      ]}>\n        Unavailable Times\n      </Text>\n    </TouchableOpacity>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'bookings' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('bookings')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'bookings' && styles.activeToggleText\n      ]}>\n        Bookings\n      </Text>\n    </TouchableOpacity>\n  </View>\n);\n\nconst renderBookings = () => {\n  const dateBookings = selectedDates.reduce((acc, date) => {\n    if (bookings[date]) {\n      acc.push(...bookings[date].map(booking => ({\n        ...booking,\n        date\n      })));\n    }\n    return acc;\n  }, []);\n\n  if (dateBookings.length === 0) {\n    return (\n      <View style={styles.emptyState}>\n        <MaterialCommunityIcons \n          name=\"calendar-blank\" \n          size={48} \n          color={theme.colors.textSecondary} \n        />\n        <Text style={styles.emptyStateText}>No bookings for selected dates</Text>\n      </View>\n    );\n  }\n\n  const handleBookingPress = (booking) => {\n    onClose();\n    \n    // Navigate after a short delay\n    setTimeout(() => {\n      navigation.navigate('BookingDetails', { bookingId: booking.id });\n    }, 300);\n  };\n\n  return (\n    <View style={styles.bookingsContainer}>\n      <ScrollView \n        style={styles.bookingsList}\n        nestedScrollEnabled={true}\n      >\n        {dateBookings.map((booking, index) => (\n          <AvailabilityBookingCard\n            key={index}\n            booking={booking}\n            onPress={() => handleBookingPress(booking)}\n            onEdit={() => handleBookingPress(booking)}\n          />\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[styles.modalContent, { width: modalWidth }]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {selectedDates.length > 1 ? 'Edit Multiple Days' : 'Edit Availability'}\n            </Text>\n            <TouchableOpacity \n              style={styles.closeButton} \n              onPress={onClose}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.text} \n              />\n            </TouchableOpacity>\n          </View>\n\n          <Text style={styles.selectedDatesText}>\n            Selected Dates: {formatSelectedDates()}\n          </Text>\n\n          {renderToggleButtons()}\n          \n          <ScrollView \n            style={styles.contentScrollView}\n            nestedScrollEnabled={true}\n          >\n            {activeView === 'unavailable' ? (\n              <View style={styles.unavailableTimesWrapper}>\n                {renderUnavailableTimes()}\n              </View>\n            ) : (\n              <View style={styles.bookingsWrapper}>\n                {renderBookings()}\n              </View>\n            )}\n\n            <View style={styles.availabilityControls}>\n              <View style={styles.inputWrapper}>\n                <Text style={styles.inputLabel}>Service Type(s) *</Text>\n                <TouchableOpacity\n                  style={[\n                    styles.input,\n                    styles.customDropdown,\n                    selectedServices.length === 0 && styles.inputError\n                  ]}\n                  onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n                >\n                  <Text style={{\n                    color: selectedServices.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n                  }}>\n                    {selectedServices.length > 0 \n                      ? selectedServices.includes(ALL_SERVICES)\n                        ? \"All Services\"\n                        : selectedServices.length > 1\n                          ? `${selectedServices.length} services selected`\n                          : selectedServices[0]\n                      : \"Select service type(s)\"\n                    }\n                  </Text>\n                  <MaterialCommunityIcons \n                    name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                    size={24} \n                    color={theme.colors.primary} \n                  />\n                </TouchableOpacity>\n                \n                {showServiceDropdown && (\n                  <View style={styles.dropdownContainer}>\n                    <ScrollView style={styles.dropdownScroll}>\n                      {SERVICE_TYPES.map((service) => (\n                        <TouchableOpacity\n                          key={service}\n                          style={styles.dropdownItem}\n                          onPress={() => {\n                            if (service === ALL_SERVICES) {\n                              setSelectedServices(\n                                selectedServices.includes(ALL_SERVICES) \n                                  ? [] \n                                  : [ALL_SERVICES]\n                              );\n                            } else {\n                              setSelectedServices(prev => {\n                                // Remove \"All Services\" if it was selected\n                                const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                                \n                                if (prev.includes(service)) {\n                                  return withoutAll.filter(s => s !== service);\n                                } else {\n                                  return [...withoutAll, service];\n                                }\n                              });\n                            }\n                          }}\n                        >\n                          <View style={styles.dropdownItemContent}>\n                            <Text style={[\n                              styles.dropdownText,\n                              selectedServices.includes(service) && styles.selectedOption\n                            ]}>\n                              {service}\n                            </Text>\n                            {selectedServices.includes(service) && (\n                              <MaterialCommunityIcons \n                                name=\"check\" \n                                size={20} \n                                color={theme.colors.primary} \n                              />\n                            )}\n                          </View>\n                        </TouchableOpacity>\n                      ))}\n                    </ScrollView>\n                  </View>\n                )}\n              </View>\n\n              <View style={styles.switchContainer}>\n                <Text>All Day</Text>\n                <Switch value={isAllDay} onValueChange={setIsAllDay} />\n              </View>\n\n              {!isAllDay && renderTimePicker()}\n\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.availableButton,\n                    (selectedServices.length === 0 || !isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkAvailable}\n                  disabled={selectedServices.length === 0 || !isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Available\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.unavailableButton,\n                    (selectedServices.length === 0 || isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkUnavailable}\n                  disabled={selectedServices.length === 0 || isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Unavailable\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 17,\n    maxHeight: SCREEN_HEIGHT * 0.7,\n    zIndex: 1,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 15,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  closeButton: {\n    padding: 5,\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginTop: 20,\n    gap: 10,\n  },\n  availabilityButton: {\n    padding: 10,\n    borderRadius: 5,\n    flex: 1,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  availabilityButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  unavailableTimesContainer: {\n    marginTop: 20,\n    maxHeight: 200,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  \n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    fontWeight: '500',\n  },\n  \n  input: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  \n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 40,\n  },\n  \n  dropdownContainer: {\n    position: 'absolute',\n    top: '95%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    marginTop: 2,\n    maxHeight: 160,\n    zIndex: 1000,\n    elevation: 5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  \n  dropdownScroll: {\n    maxHeight: 160,\n  },\n  \n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    height: 40,\n  },\n  \n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n  },\n  \n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  \n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  \n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    padding: 4,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    margin: 2,\n  },\n  activeToggle: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleText: {\n    textAlign: 'center',\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  activeToggleText: {\n    color: theme.colors.whiteText,\n    fontWeight: '500',\n  },\n  bookingsList: {\n    maxHeight: 300,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 32,\n  },\n  emptyStateText: {\n    marginTop: 16,\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    textAlign: 'center',\n  },\n  contentScrollView: {\n    flex: 1,\n    width: '100%',\n  },\n  availabilityControls: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    width: '100%',\n  },\n  bookingsContainer: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  unavailableTimesWrapper: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  bookingsWrapper: {\n    marginBottom: 16,\n  },\n  selectedDatesText: {\n    marginVertical: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default AddAvailabilityModal;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, ScrollView, Platform, Dimensions } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\n\nconst { width } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst ALL_DAYS = \"All Days\";\nconst DAYS_OF_WEEK = [\n  ALL_DAYS,\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n];\n\nconst DefaultSettingsModal = ({ isVisible, onClose, onSave, defaultSettings }) => {\n  const { screenWidth } = useContext(AuthContext);\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [settings, setSettings] = useState(defaultSettings || {\n    Monday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n\n  const [showTimePicker, setShowTimePicker] = useState({ visible: false, type: '', value: '' });\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [isCurrentlyUnavailable, setIsCurrentlyUnavailable] = useState(false);\n  const [showDayDropdown, setShowDayDropdown] = useState(false);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      const dropdownButton = document.getElementById('dropdown-button');\n      const dropdownContainer = document.getElementById('dropdown-container');\n      \n      // If click is not on the button and not inside the dropdown, close it\n      if (showDayDropdown && \n          dropdownContainer && \n          !dropdownContainer.contains(event.target) &&\n          !dropdownButton.contains(event.target)) {\n        setShowDayDropdown(false);\n      }\n    };\n\n    if (Platform.OS === 'web') {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showDayDropdown]);\n\n  const handleSave = () => {\n    onSave({\n      ...settings,\n      [selectedDays[0]]: {\n        ...settings[selectedDays[0]],\n        isUnavailable: !isCurrentlyUnavailable\n      }\n    });\n  };\n\n  const updateDaySettings = (day, newSettings) => {\n    setSettings(prevSettings => ({\n      ...prevSettings,\n      [day]: { ...prevSettings[day], ...newSettings }\n    }));\n  };\n\n  const handleDaySelection = (day) => {\n    setSelectedDays(current => {\n      if (day === ALL_DAYS) {\n        return current.includes(ALL_DAYS) \n          ? [] \n          : DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n      }\n      \n      const withoutAll = current.filter(d => d !== ALL_DAYS);\n      if (withoutAll.includes(day)) {\n        return withoutAll.filter(d => d !== day);\n      } else {\n        if (withoutAll.length + 1 === DAYS_OF_WEEK.length - 1) {\n          return DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n        } else {\n          return [...withoutAll, day];\n        }\n      }\n    });\n  };\n\n  const handleAvailabilityChange = (makeAvailable) => {\n    console.log(\"Selected days:\", selectedDays);\n    if (selectedDays.length === 0) return;\n\n    const daysToUpdate = selectedDays.includes(ALL_DAYS) \n      ? DAYS_OF_WEEK.filter(day => day !== ALL_DAYS)\n      : selectedDays;\n    \n    console.log(\"Days to update:\", daysToUpdate);\n    console.log(\"Current settings:\", settings);\n    console.log(\"Making available:\", makeAvailable);\n\n    const newSettings = { ...settings };\n    daysToUpdate.forEach(day => {\n      console.log(`Updating ${day}`);\n      newSettings[day] = {\n        ...settings[day],\n        isUnavailable: !makeAvailable,\n        startTime: settings[selectedDays[0]].startTime,\n        endTime: settings[selectedDays[0]].endTime,\n        isAllDay: settings[selectedDays[0]].isAllDay,\n        endDate: settings[selectedDays[0]].endDate\n      };\n    });\n    \n    console.log(\"New settings:\", newSettings);\n    setSettings(newSettings);\n    onSave(newSettings);\n    setIsCurrentlyUnavailable(!makeAvailable);\n  };\n\n  const renderTimePicker = (type, value, onChange) => {\n    if (Platform.OS === 'web') {\n      return (\n        <input\n          type=\"time\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          style={styles.webTimePicker}\n        />\n      );\n    } else if (Platform.OS === 'ios') {\n        return (\n            <DateTimePicker\n          value={new Date(`2000-01-01T${value}`)}\n          mode=\"time\"\n          is24Hour={false}\n          display=\"default\"\n          onChange={(event, selectedTime) => {\n            if (selectedTime) {\n              onChange(selectedTime.toTimeString().slice(0, 5));\n            }\n          }}\n        />\n        )\n    } else {\n      return (\n        <>\n          <TouchableOpacity onPress={() => setShowTimePicker({ visible: true, type, value })}>\n            <Text>{value}</Text>\n          </TouchableOpacity>\n          {Platform.OS === 'android' && showTimePicker.visible && showTimePicker.type === type && (\n            <DateTimePicker\n              value={new Date(`2000-01-01T${showTimePicker.value}`)}\n              mode=\"time\"\n              is24Hour={false}\n              display=\"default\"\n              onChange={(event, selectedTime) => {\n                setShowTimePicker({ visible: false, type: '', value: '' });\n                if (selectedTime) {\n                  onChange(selectedTime.toTimeString().slice(0, 5));\n                }\n              }}\n            />\n          )}\n        </>\n      );\n    }\n  };\n\n  const renderEndDatePicker = () => {\n    const daySettings = settings[selectedDays[0]];\n    \n    return (\n      <DatePicker\n        value={daySettings.endDate}\n        onChange={(date) => updateDaySettings(selectedDays[0], { endDate: date })}\n        placeholder=\"Select End Date\"\n      />\n    );\n  };\n\n  const renderDaySettings = () => {\n    const daySettings = settings[selectedDays[0]] || {\n      isAllDay: false,\n      startTime: '09:00',\n      endTime: '17:00',\n      endDate: null\n    };\n    \n    return (\n      <View style={styles.daySettingsContainer}>\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>All Day:</Text>\n          <Switch\n            value={daySettings.isAllDay}\n            onValueChange={(value) => {\n              if (selectedDays.length === 0) return;\n              const newSettings = { ...settings };\n              selectedDays.forEach(day => {\n                newSettings[day] = {\n                  ...newSettings[day],\n                  isAllDay: value\n                };\n              });\n              setSettings(newSettings);\n            }}\n            disabled={selectedDays.length === 0}\n          />\n        </View>\n        {!daySettings.isAllDay && (\n          <>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>Start Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'startTime',\n                  daySettings.startTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        startTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'endTime',\n                  daySettings.endTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        endTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n          </>\n        )}\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Date:</Text>\n          <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n            <DatePicker\n              value={daySettings.endDate}\n              onChange={(date) => {\n                if (selectedDays.length === 0) return;\n                const newSettings = { ...settings };\n                selectedDays.forEach(day => {\n                  newSettings[day] = {\n                    ...newSettings[day],\n                    endDate: date\n                  };\n                });\n                setSettings(newSettings);\n              }}\n              placeholder=\"Select End Date\"\n              disabled={selectedDays.length === 0}\n            />\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const checkCurrentAvailability = (days, settings) => {\n    if (!days || days.length === 0) return false;\n    \n    return days.some(day => settings[day]?.isUnavailable);\n  };\n\n  useEffect(() => {\n    if (selectedDays.length > 0) {\n      const isUnavailable = checkCurrentAvailability(selectedDays, settings);\n      setIsCurrentlyUnavailable(isUnavailable);\n    } else {\n      setIsCurrentlyUnavailable(false);\n    }\n  }, [selectedDays, settings]);\n\n  const renderDaySelector = () => (\n    <View style={styles.inputWrapper}>\n      <Text style={styles.inputLabel}>Day(s) *</Text>\n      <TouchableOpacity\n        id=\"dropdown-button\"\n        style={[\n          styles.input,\n          styles.customDropdown,\n          selectedDays.length === 0 && styles.inputError\n        ]}\n        onPress={() => setShowDayDropdown(!showDayDropdown)}\n      >\n        <Text style={{\n          color: selectedDays.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n        }}>\n          {selectedDays.length === 0 \n            ? 'Select Days' \n            : selectedDays.includes(ALL_DAYS)\n              ? 'All Days'\n              : selectedDays.length > 2\n                ? `${selectedDays.length} Days Selected`\n                : selectedDays.join(', ')}\n        </Text>\n        <MaterialCommunityIcons \n          name={showDayDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n      \n      {showDayDropdown && (\n        <View \n          id=\"dropdown-container\"\n          style={styles.dropdownContainer}\n        >\n          <ScrollView style={styles.dropdownScroll}>\n            {DAYS_OF_WEEK.map((day) => (\n              <TouchableOpacity\n                key={day}\n                style={styles.dropdownItem}\n                onPress={() => handleDaySelection(day)}\n              >\n                <View style={styles.dropdownItemContent}>\n                  <Text style={[\n                    styles.dropdownText,\n                    selectedDays.includes(day) && styles.selectedOption\n                  ]}>\n                    {day}\n                  </Text>\n                  {selectedDays.includes(day) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={20} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </View>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[\n          styles.modalContent,\n          { width: screenWidth < 600 ? '90%' : 600 }\n        ]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Default Settings</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          {renderDaySelector()}\n          {renderDaySettings()}\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => handleAvailabilityChange(true)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => handleAvailabilityChange(false)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    borderRadius: 17,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  settingContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dayContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 5,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 12,\n    marginTop: 20,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 15,\n  },\n  tab: {\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderBottomWidth: 2,\n    borderBottomColor: 'transparent',\n  },\n  selectedTab: {\n    borderBottomColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedTabText: {\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  daySettingsContainer: {\n    marginBottom: 15,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  webDatePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  inputLabel: {\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  disabledText: {\n    color: theme.colors.placeHolderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  enabledText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default DefaultSettingsModal;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, Switch, Animated } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport TimePicker from './TimePicker';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\n\nconst AvailabilityBottomSheet = ({ \n  selectedDates, \n  currentAvailability,\n  onClose,\n  onViewUnavailableTimes,\n  onSave\n}) => {\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const animatedHeight = useRef(new Animated.Value(1)).current;\n  const animatedOpacity = useRef(new Animated.Value(1)).current;\n  const slideAnimation = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    // Start the entrance animation when the component mounts\n    Animated.spring(slideAnimation, {\n      toValue: 1,\n      useNativeDriver: true,\n      tension: 50,\n      friction: 8\n    }).start();\n  }, []);\n\n  const getAvailabilityStatus = () => {\n    if (!selectedDates || selectedDates.length === 0) return 'Unknown';\n\n    const date = selectedDates[0];\n    const dateAvailability = currentAvailability[date];\n\n    if (!dateAvailability) return 'Available';\n    if (!dateAvailability.isAvailable) return 'Unavailable';\n    if (dateAvailability.unavailableTimes?.length > 0) return 'Partially Available';\n    return 'Available';\n  };\n\n  const getStatusColor = () => {\n    const status = getAvailabilityStatus();\n    switch (status) {\n      case 'Available':\n        return theme.colors.success;\n      case 'Partially Available':\n        return theme.colors.warning;\n      case 'Unavailable':\n        return theme.colors.error;\n      default:\n        return theme.colors.text;\n    }\n  };\n\n  const formatDateRange = () => {\n    if (!selectedDates || selectedDates.length === 0) return '';\n    \n    if (selectedDates.length === 1) {\n      return format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy');\n    }\n\n    return `${format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd')} - ${format(parse(selectedDates[selectedDates.length - 1], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy')}`;\n  };\n\n  const validateAndSave = (isAvailable) => {\n    if (selectedServices.length === 0) {\n      setError('Please select at least one service type');\n      return;\n    }\n    setError(null);\n    onSave({ \n      startTime: isAllDay ? '00:00' : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? '24:00' : format(endTime, 'HH:mm'),\n      services: selectedServices,\n      isAvailable,\n      isAllDay\n    });\n  };\n\n  const toggleMinimized = () => {\n    const toValue = isMinimized ? 1 : 0;\n    \n    Animated.parallel([\n      Animated.timing(animatedHeight, {\n        toValue,\n        duration: 300,\n        useNativeDriver: false\n      }),\n      Animated.timing(animatedOpacity, {\n        toValue,\n        duration: 200,\n        useNativeDriver: false\n      })\n    ]).start();\n\n    setIsMinimized(!isMinimized);\n  };\n\n  const handleClose = () => {\n    // Animate the slide down\n    Animated.timing(slideAnimation, {\n      toValue: 0,\n      duration: 300,\n      useNativeDriver: true\n    }).start(() => {\n      // Call the onClose prop after animation completes\n      onClose();\n    });\n  };\n\n  const maxHeight = 600; // Adjust this value based on your content\n  const minHeight = 80;\n\n  const containerHeight = animatedHeight.interpolate({\n    inputRange: [0, 1],\n    outputRange: [minHeight, maxHeight]\n  });\n\n  return (\n    <View style={styles.overlay}>\n      <Animated.View \n        style={[\n          styles.container,\n          { \n            height: containerHeight,\n            transform: [{\n              translateY: slideAnimation.interpolate({\n                inputRange: [0, 1],\n                outputRange: [600, 0]\n              })\n            }]\n          }\n        ]}\n      >\n        <TouchableOpacity \n          onPress={toggleMinimized}\n          style={styles.handleContainer}\n        >\n          <View style={styles.handle} />\n        </TouchableOpacity>\n        \n        <View style={[styles.header, isMinimized && styles.headerMinimized]}>\n          <TouchableOpacity onPress={handleClose} style={styles.closeButton}>\n            <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n          <View style={styles.headerCenter}>\n            <Text style={styles.dateText}>{formatDateRange()}</Text>\n            <Text style={[styles.statusText, { color: getStatusColor() }]}>\n              {getAvailabilityStatus()}\n            </Text>\n          </View>\n          <Animated.View style={{ opacity: animatedOpacity }}>\n            <TouchableOpacity \n              style={styles.actionButton}\n              onPress={onViewUnavailableTimes}\n            >\n              <MaterialCommunityIcons \n                name=\"clock-outline\" \n                size={24} \n                color={theme.colors.primary} \n              />\n              <Text style={styles.actionButtonText}>\n                {'Unavailable\\nTimes'}\n              </Text>\n            </TouchableOpacity>\n          </Animated.View>\n        </View>\n\n        <Animated.View \n          style={[\n            styles.content,\n            { opacity: animatedOpacity }\n          ]}\n        >\n          <View style={styles.serviceSection}>\n            <Text style={styles.label}>Service Type(s)</Text>\n            <TouchableOpacity\n              style={[styles.serviceSelector, error && selectedServices.length <= 0 && styles.serviceSelectorError]}\n              onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n            >\n              <Text style={styles.serviceSelectorText}>\n                {selectedServices.length > 0 \n                  ? selectedServices.includes(ALL_SERVICES)\n                    ? \"All Services\"\n                    : selectedServices.length > 1\n                      ? `${selectedServices.length} services selected`\n                      : selectedServices[0]\n                  : \"Select service type(s)\"\n                }\n              </Text>\n              <MaterialCommunityIcons \n                name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {error && selectedServices.length <= 0 && !showServiceDropdown && <Text style={styles.errorText}>{error}</Text>}\n\n            {showServiceDropdown && (\n              <View style={styles.dropdownContainer}>\n                <ScrollView style={styles.dropdownScroll}>\n                  {SERVICE_TYPES.map((service) => (\n                    <TouchableOpacity\n                      key={service}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        if (service === ALL_SERVICES) {\n                          setSelectedServices(\n                            selectedServices.includes(ALL_SERVICES) \n                              ? [] \n                              : [ALL_SERVICES]\n                          );\n                        } else {\n                          setSelectedServices(prev => {\n                            const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                            if (prev.includes(service)) {\n                              return withoutAll.filter(s => s !== service);\n                            } else {\n                              return [...withoutAll, service];\n                            }\n                          });\n                        }\n                      }}\n                    >\n                      <View style={styles.dropdownItemContent}>\n                        <Text style={[\n                          styles.dropdownText,\n                          selectedServices.includes(service) && styles.selectedOption\n                        ]}>\n                          {service}\n                        </Text>\n                        {selectedServices.includes(service) && (\n                          <MaterialCommunityIcons \n                            name=\"check\" \n                            size={20} \n                            color={theme.colors.primary} \n                          />\n                        )}\n                      </View>\n                    </TouchableOpacity>\n                  ))}\n                </ScrollView>\n              </View>\n            )}\n          </View>\n\n          <View style={styles.timeToggleContainer}>\n            <Text style={styles.label}>Time Selection</Text>\n            <View style={styles.customToggle}>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(true)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  isAllDay && styles.toggleButtonTextActive\n                ]}>All Day</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  !isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(false)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  !isAllDay && styles.toggleButtonTextActive\n                ]}>Custom Hours</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          {!isAllDay && (\n            <View style={styles.timeSection}>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>Start Time</Text>\n                <TimePicker\n                  value={startTime}\n                  onChange={setStartTime}\n                  fullWidth\n                />\n              </View>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>End Time</Text>\n                <TimePicker\n                  value={endTime}\n                  onChange={setEndTime}\n                  fullWidth\n                />\n              </View>\n            </View>\n          )}\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => validateAndSave(true)}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => validateAndSave(false)}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </Animated.View>\n      </Animated.View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    width: '100%',\n  },\n  container: {\n    backgroundColor: theme.colors.surface,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 16,\n    maxWidth: 800,\n    width: '100%',\n    alignSelf: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: -2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    overflow: 'hidden',\n  },\n  handleContainer: {\n    width: '100%',\n    height: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 4,\n  },\n  handle: {\n    width: 40,\n    height: 4,\n    backgroundColor: theme.colors.border,\n    borderRadius: 2,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 24,\n    paddingRight: 8,\n  },\n  headerMinimized: {\n    marginBottom: 0,\n    justifyContent: 'space-between',\n  },\n  headerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  closeButton: {\n    width: 60,\n    height: 40,\n    marginBottom: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  dateText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  statusText: {\n    fontSize: theme.fontSizes.medium,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    width: 60,\n    alignItems: 'center',\n  },\n  actionButtonText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.primary,\n    marginTop: 4,\n    textAlign: 'center',\n    lineHeight: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    gap: 24,\n  },\n  timeToggleContainer: {\n    // marginBottom: 8,\n  },\n  customToggle: {\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 4,\n    // marginTop: 8,\n    gap: 8,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonInactive: {\n    backgroundColor: 'transparent',\n  },\n  toggleButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeSection: {\n    flexDirection: 'row',\n    gap: 16,\n  },\n  timeContainer: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSection: {\n    position: 'relative',\n    zIndex: 1,\n  },\n  serviceSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.background,\n  },\n  serviceSelectorText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginTop: 24,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSelectorError: {\n    borderColor: theme.colors.error,\n    borderWidth: 1,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AvailabilityBottomSheet; ","import React from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst UnavailableTimesModal = ({ \n  visible, \n  onClose, \n  selectedDates,\n  currentAvailability,\n  onRemoveTimeSlot,\n  bookings\n}) => {\n  const navigation = useNavigation();\n\n  const formatTime = (time) => {\n    const [hours, minutes] = time.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours), parseInt(minutes));\n    return format(date, 'h:mm a');\n  };\n\n  const handleBookingPress = async (bookingId) => {\n    onClose(); // Close the modal first\n    await navigateToFrom(navigation, 'BookingDetails', 'AvailabilitySettings', { bookingId });\n  };\n\n  const getUnavailableTimes = () => {\n    if (!selectedDates || selectedDates.length === 0) return [];\n\n    const allTimes = [];\n    const processedTimes = new Set(); // Track processed time slots\n\n    selectedDates.forEach(date => {\n      const dateBookings = bookings[date] || [];\n      const dateAvailability = currentAvailability[date];\n\n      // Add bookings first\n      dateBookings.forEach(booking => {\n        const timeKey = `${date}-${booking.startTime}-${booking.endTime}`;\n        if (!processedTimes.has(timeKey)) {\n          allTimes.push({\n            date,\n            startTime: booking.startTime,\n            endTime: booking.endTime,\n            reason: `${booking.service_type}\\nBooked with ${booking.client_name}`,\n            isBooking: true,\n            clientId: booking.clientId\n          });\n          processedTimes.add(timeKey);\n        }\n      });\n\n      // Add personal unavailable times, excluding any that overlap with bookings\n      if (dateAvailability?.unavailableTimes) {\n        dateAvailability.unavailableTimes\n          .filter(time => !time.clientId) // Only include non-booking unavailable times\n          .forEach(time => {\n            const timeKey = `${date}-${time.startTime}-${time.endTime}`;\n            if (!processedTimes.has(timeKey)) {\n              allTimes.push({\n                date,\n                startTime: time.startTime,\n                endTime: time.endTime,\n                reason: time.reason,\n                isBooking: false\n              });\n              processedTimes.add(timeKey);\n            }\n          });\n      }\n    });\n\n    // Sort by date and then by start time\n    return allTimes.sort((a, b) => {\n      if (a.date !== b.date) return a.date.localeCompare(b.date);\n      return a.startTime.localeCompare(b.startTime);\n    });\n  };\n\n  const renderActionButton = (item) => {\n    if (item.isBooking) {\n      return (\n        <TouchableOpacity\n          style={styles.bookingButton}\n          onPress={() => handleBookingPress(item.clientId)}\n        >\n          <MaterialCommunityIcons name=\"arrow-right\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n      );\n    }\n    \n    return (\n      <TouchableOpacity\n        style={styles.removeButton}\n        onPress={() => onRemoveTimeSlot(item.date, item)}\n      >\n        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n      </TouchableOpacity>\n    );\n  };\n\n  const renderTimeSlot = (item, index) => {\n    const formattedDate = format(parse(item.date, 'yyyy-MM-dd', new Date()), 'MMM d, yyyy');\n    const formattedStartTime = formatTime(item.startTime);\n    const formattedEndTime = formatTime(item.endTime);\n\n    return (\n      <View key={index} style={styles.timeSlotContainer}>\n        <View style={styles.dateHeader}>\n          <Text style={styles.dateText}>{formattedDate}</Text>\n        </View>\n        <View style={[\n          styles.timeSlotContent,\n          item.isBooking && styles.bookingContent\n        ]}>\n          <View style={styles.timeAndReason}>\n            <Text style={styles.timeText}>\n              {formattedStartTime} - {formattedEndTime}\n            </Text>\n            <Text style={styles.reasonText}>\n              {item.reason}\n            </Text>\n          </View>\n          {renderActionButton(item)}\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Unavailable Times</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          \n          <ScrollView style={styles.timesList}>\n            {getUnavailableTimes().map((item, index) => renderTimeSlot(item, index))}\n            {getUnavailableTimes().length === 0 && (\n              <Text style={styles.emptyText}>No unavailable times for selected date(s)</Text>\n            )}\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  timesList: {\n    maxHeight: '90%',\n  },\n  timeSlotContainer: {\n    marginBottom: 15,\n  },\n  dateHeader: {\n    marginBottom: 8,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  timeSlotContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    backgroundColor: theme.colors.background,\n    padding: 12,\n    borderRadius: 8,\n  },\n  bookingContent: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 2,\n  },\n  timeAndReason: {\n    flex: 1,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reasonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.textSecondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  removeButton: {\n    padding: 5,\n    marginLeft: 10,\n  },\n  bookingButton: {\n    padding: 5,\n    marginLeft: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    width: 34,\n    height: 34,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 1,\n    elevation: 2,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    marginTop: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default UnavailableTimesModal; ","import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ScrollView, Platform, StatusBar, Dimensions, ActivityIndicator, Animated } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Calendar } from 'react-native-calendars';\nimport moment from 'moment';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddAvailabilityModal from '../components/AddAvailabilityModal';\nimport DefaultSettingsModal from '../components/DefaultSettingsModal';\nimport { format, parse } from 'date-fns';\nimport { SERVICE_TYPES, fetchAvailabilityData, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBottomSheet from '../components/AvailabilityBottomSheet';\nimport UnavailableTimesModal from '../components/UnavailableTimesModal';\nimport { useNavigation } from '@react-navigation/native';\n\nconst daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst AvailabilitySettings = () => {\n  const [markedDates, setMarkedDates] = useState({});\n  const [selectedDates, setSelectedDates] = useState([]);\n  const [isAddModalVisible, setIsAddModalVisible] = useState(false);\n  const [isSettingsModalVisible, setIsSettingsModalVisible] = useState(false);\n  const [defaultAvailability, setDefaultAvailability] = useState('available');\n  const [currentAvailability, setCurrentAvailability] = useState({});\n  const [bookings, setBookings] = useState({});\n  const [defaultSettings, setDefaultSettings] = useState({\n    Monday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showBottomSheet, setShowBottomSheet] = useState(false);\n  const [showUnavailableTimesModal, setShowUnavailableTimesModal] = useState(false);\n  const [isClosing, setIsClosing] = useState(false);\n  const navigation = useNavigation();\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    const loadAvailabilityData = async () => {\n      try {\n        setIsLoading(true);\n        const data = await fetchAvailabilityData();\n        updateMarkedDates(data.availableDates, data.unavailableDates, data.bookings);\n        \n        const combinedAvailability = {};\n        Object.keys(data.availableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: true,\n            unavailableTimes: [] // Initialize empty array for partially unavailable times\n          };\n        });\n        Object.keys(data.unavailableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: false,\n            unavailableTimes: [{\n              startTime: data.unavailableDates[date].startTime,\n              endTime: data.unavailableDates[date].endTime,\n              reason: ' Personal Time'\n            }]\n          };\n        });\n        Object.keys(data.bookings).forEach(date => {\n          if (!combinedAvailability[date]) {\n            combinedAvailability[date] = { \n              isAvailable: true,\n              unavailableTimes: []\n            };\n          }\n          combinedAvailability[date].unavailableTimes = [\n            ...combinedAvailability[date].unavailableTimes,\n            ...data.bookings[date].map(booking => ({\n              startTime: booking.startTime,\n              endTime: booking.endTime,\n              reason: ` Booked with ${booking.client_name}`,\n              clientId: booking.clientId // Assuming each booking has a clientId\n            }))\n          ];\n        });\n        setCurrentAvailability(combinedAvailability);\n        setBookings(data.bookings);\n      } catch (err) {\n        setError('Failed to load availability data');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadAvailabilityData();\n  }, []);\n\n  const updateMarkedDates = (availableDates, unavailableDates, bookings) => {\n    const newMarkedDates = {};\n\n    // Helper function to check if all services are selected for a time slot\n    const hasAllServices = (reason) => {\n      if (!reason) return false;\n      const services = reason.replace('Unavailable for: ', '').split(', ');\n      return services.length === (SERVICE_TYPES.length - 1);\n    };\n\n    Object.entries(unavailableDates).forEach(([date, time]) => {\n      const isFullDay = time.startTime === '00:00' && time.endTime === '24:00';\n      const allServicesSelected = hasAllServices(time.reason);\n      \n      newMarkedDates[date] = {\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    Object.entries(availableDates).forEach(([date, time]) => {\n      if (!newMarkedDates[date]) {\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    Object.entries(bookings).forEach(([date, bookingList]) => {\n      const isFullDay = bookingList.some(booking => \n        booking.startTime === '00:00' && booking.endTime === '24:00'\n      );\n      newMarkedDates[date] = { \n        marked: true,\n        dotColor: theme.colors.primary,\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay ? theme.colors.primary : theme.colors.calendarColorYellowBrown,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    setMarkedDates(newMarkedDates);\n  };\n\n  const toggleBottomSheet = (show) => {\n    if (show) {\n      setIsClosing(false);\n      setShowBottomSheet(true);\n      Animated.timing(fadeAnim, {\n        toValue: 0.5,\n        duration: 300,\n        useNativeDriver: true,\n      }).start();\n    } else {\n      setIsClosing(true);\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true,\n      }).start(() => {\n        setShowBottomSheet(false);\n        setIsClosing(false);\n      });\n    }\n  };\n\n  const onDayPress = (day) => {\n    const { dateString } = day;\n    const selectedDate = new Date(dateString);\n    selectedDate.setDate(selectedDate.getDate() + 1); // Adjust for timezone offset\n    selectedDate.setHours(0, 0, 0, 0);\n  \n    if (selectedDates.length === 0) {\n      setSelectedDates([dateString]);\n      toggleBottomSheet(true);\n    } else if (selectedDates.length >= 1) {\n      const firstDate = new Date(selectedDates[0]);\n      firstDate.setDate(firstDate.getDate() + 1); // Adjust for timezone offset\n      firstDate.setHours(0, 0, 0, 0);    \n\n      if (selectedDate.getTime() === firstDate.getTime()) {\n        return;\n      }\n\n      if (selectedDate < firstDate) {\n        setSelectedDates([dateString]);\n        toggleBottomSheet(true);\n        return;\n      }\n\n      const range = [];\n      const currentDate = new Date(firstDate);\n      const endDate = new Date(selectedDate);\n\n      while (currentDate <= endDate) {\n        range.push(format(currentDate, 'yyyy-MM-dd'));\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    \n      setSelectedDates(range);\n    }\n  };\n\n  const handleAddAvailability = (availabilityData) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n\n    availabilityData.dates.forEach(date => {\n      const allServicesSelected = availabilityData.serviceTypes.includes(ALL_SERVICES) || \n                                 availabilityData.serviceTypes.length === SERVICE_TYPES.length - 1;\n\n      if (!availabilityData.isAvailable) {\n        newCurrentAvailability[date] = {\n          isAvailable: false,\n          unavailableTimes: [{\n            startTime: availabilityData.startTime,\n            endTime: availabilityData.endTime,\n            reason: availabilityData.reason\n          }]\n        };\n\n        newMarkedDates[date] = {\n          customStyles: {\n            container: {\n              backgroundColor: availabilityData.isAllDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'white' }\n          }\n        };\n      } else {\n        newCurrentAvailability[date] = {\n          isAvailable: true,\n          unavailableTimes: []\n        };\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n    setIsAddModalVisible(false);\n    setSelectedDates([]);\n  };\n\n  const applyDefaultSettingsToCalendar = (settings) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n    \n    const today = new Date();\n    const oneYearFromNow = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());\n\n    const daysMapping = {\n      'Sunday': 0,\n      'Monday': 1,\n      'Tuesday': 2,\n      'Wednesday': 3,\n      'Thursday': 4,\n      'Friday': 5,\n      'Saturday': 6\n    };\n\n    Object.entries(settings).forEach(([day, daySettings]) => {\n      let currentDate = new Date(Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()));\n      const targetDayNumber = daysMapping[day];\n      \n      while (currentDate <= (daySettings.endDate ? new Date(daySettings.endDate) : oneYearFromNow)) {\n        const currentDayNumber = currentDate.getUTCDay();\n        const dateString = currentDate.toISOString().split('T')[0];\n        \n        if (currentDayNumber === targetDayNumber) {\n          if (daySettings.isUnavailable) {\n            if (daySettings.isAllDay) {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: 'lightgrey' },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: false,\n                unavailableTimes: [{ startTime: '00:00', endTime: '24:00', reason: 'Default Setting' }]\n              };\n            } else {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: theme.colors.calendarColor },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: true,\n                unavailableTimes: [{\n                  startTime: daySettings.startTime,\n                  endTime: daySettings.endTime,\n                  reason: 'Default Setting'\n                }]\n              };\n            }\n          } else {\n            // Reset to available\n            delete newMarkedDates[dateString];\n            delete newCurrentAvailability[dateString];\n          }\n        }\n        currentDate.setUTCDate(currentDate.getUTCDate() + 1);\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n  };\n\n  //TODO: implement this in future for making clients on bookings clickable\n  // const handleClientPress = (clientId) => {\n  //   // Navigate to the client history page\n  //   // You'll need to implement this navigation logic\n  //   console.log(`Navigating to client history for client ID: ${clientId}`);\n  // };\n\n  const IconComponent = Platform.OS === 'web' ? MaterialCommunityIcons : Icon;\n\n  const renderArrow = (direction) => {\n    let iconName;\n    if (Platform.OS === 'web') {\n      iconName = direction === 'left' ? 'chevron-left' : 'chevron-right';\n    } else {\n      iconName = direction === 'left' ? 'chevron-back' : 'chevron-forward';\n    }\n    return (\n      <IconComponent \n        name={iconName} \n        size={24} \n        color={theme.colors.primary}\n      />\n    );\n  };\n\n  const handleDefaultSettingsSave = (newSettings) => {\n    console.log(\"Before updating defaultSettings:\", defaultSettings);\n    console.log(\"New settings to be applied:\", newSettings);\n    setDefaultSettings(newSettings);\n    \n    // Add a setTimeout to check the state after update\n    setTimeout(() => {\n      console.log(\"After updating defaultSettings:\", defaultSettings);\n    }, 0);\n    \n    // Call applyDefaultSettingsToCalendar to update the calendar view\n    applyDefaultSettingsToCalendar(newSettings);\n    setIsSettingsModalVisible(false);\n  };\n\n  const handleSaveAvailability = (data) => {\n    const { startTime, endTime, services, isAvailable } = data;\n    const isAllDay = startTime === '00:00' && endTime === '24:00';\n    handleAddAvailability({\n      dates: selectedDates,\n      isAllDay,\n      startTime,\n      endTime,\n      isUnavailable: !isAvailable,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n    toggleBottomSheet(false);\n    setSelectedDates([]);\n  };\n\n  // TODO: make this actually remove the timeslot on the backend\n  const handleRemoveTimeSlot = (date, timeSlot, updatedAvailability, selectedDates) => {\n    if (updatedAvailability && selectedDates) {\n      // Handle multiple dates\n      setCurrentAvailability(prev => ({\n        ...prev,\n        ...updatedAvailability\n      }));\n\n      // Update marked dates for multiple dates\n      const newMarkedDates = { ...markedDates };\n      selectedDates.forEach(date => {\n        if (updatedAvailability[date]?.unavailableTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n        }\n      });\n      setMarkedDates(newMarkedDates);\n    } else {\n      // Handle single date (existing functionality)\n      setCurrentAvailability(prev => {\n        const currentDateAvailability = prev[date];\n        if (!currentDateAvailability) return prev;\n\n        const filteredTimes = currentDateAvailability.unavailableTimes.filter(\n          time => !(time.startTime === timeSlot.startTime && time.endTime === timeSlot.endTime)\n        );\n\n        // Update marked dates for single date\n        const newMarkedDates = { ...markedDates };\n        if (filteredTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n          setMarkedDates(newMarkedDates);\n        }\n\n        return {\n          ...prev,\n          [date]: {\n            ...currentDateAvailability,\n            unavailableTimes: filteredTimes\n          }\n        };\n      });\n    }\n  };\n\n  const handleViewBookings = () => {\n    if (selectedDates.length > 0) {\n      navigation.navigate('MyBookings', {\n        selectedDates,\n        initialTab: 'Upcoming'\n      });\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={styles.loadingText}>Loading availability...</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  if (error) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <TouchableOpacity \n            style={styles.retryButton}\n            onPress={() => {\n              setError(null);\n              loadAvailabilityData();\n            }}\n          >\n            <Text style={styles.retryButtonText}>Retry</Text>\n          </TouchableOpacity>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      <SafeAreaView style={styles.container}>\n        <ScrollView \n          style={styles.scrollView} \n          contentContainerStyle={styles.scrollContent}\n        >\n          <View style={styles.centeredContainer}>\n            <View style={styles.header}>\n              <Text style={styles.title}>Availability</Text>\n              <TouchableOpacity \n                style={styles.defaultSettingsButton} \n                onPress={() => setIsSettingsModalVisible(true)}\n              >\n                <Text style={styles.defaultSettingsText}>Default Settings</Text>\n                <IconComponent \n                  name={Platform.OS === 'web' ? 'cog' : 'settings-outline'} \n                  size={24} \n                  color={theme.colors.text} \n                />\n              </TouchableOpacity>\n            </View>\n\n            {/* TODO: make the calendar look more user friendly */}\n            <Calendar\n              markedDates={{\n                ...markedDates,\n                ...selectedDates.reduce((acc, date) => ({\n                  ...acc,\n                  [date]: {\n                    ...markedDates[date],\n                    selected: true,\n                    customStyles: {\n                      container: {\n                        backgroundColor: theme.colors.primary,\n                        width: selectedDates.length === 1 ? 35 : '100%',\n                        height: 35,\n                        borderRadius: selectedDates.length === 1 ? 17.5 : 0,\n                        ...(selectedDates.length > 1 && {\n                          borderRadius: 0,\n                          ...(date === selectedDates[0] && {\n                            borderTopLeftRadius: 17.5,\n                            borderBottomLeftRadius: 17.5,\n                          }),\n                          ...(date === selectedDates[selectedDates.length - 1] && {\n                            borderTopRightRadius: 17.5,\n                            borderBottomRightRadius: 17.5,\n                          }),\n                        }),\n                      },\n                      text: { \n                        color: 'white',\n                        fontWeight: 'bold',\n                      }\n                    }\n                  }\n                }), {})\n              }}\n              markingType={'custom'}\n              theme={{\n                'stylesheet.calendar.main': {\n                  week: {\n                    marginVertical: 0,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around',\n                  },\n                  dayContainer: {\n                    flex: 1,\n                    alignItems: 'center',\n                    padding: 0,\n                    margin: 0,\n                  }\n                },\n                'stylesheet.calendar.header': {\n                  header: {\n                    paddingLeft: 10,\n                    paddingRight: 10,\n                    paddingBottom: 20,\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  }\n                }\n              }}\n              style={{\n                paddingBottom: 20,\n                paddingLeft: 10,\n                paddingRight: 10\n              }}\n              onDayPress={onDayPress}\n              renderArrow={renderArrow}\n            />\n\n            {/* Color Code Key */}\n            <View style={styles.colorKeyContainer}>\n              <Text style={styles.colorKeyTitle}>Color Code Key:</Text>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: 'lightgrey' }]} />\n                <Text style={styles.colorKeyText}>Unavailable All Day</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColor }]} />\n                <Text style={styles.colorKeyText}>Partially Unavailable</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColorYellowBrown }]} />\n                <Text style={styles.colorKeyText}>Booked Dates</Text>\n              </View>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n\n      {(showBottomSheet || isClosing) && (\n        <>\n          <Animated.View \n            style={[\n              styles.overlay,\n              {\n                opacity: fadeAnim,\n                backgroundColor: 'black'\n              }\n            ]} \n          />\n          <View style={styles.bottomSheetContainer}>\n            <AvailabilityBottomSheet\n              selectedDates={selectedDates}\n              currentAvailability={currentAvailability}\n              onClose={() => {\n                toggleBottomSheet(false);\n                setSelectedDates([]);\n              }}\n              onViewUnavailableTimes={() => {\n                setShowUnavailableTimesModal(true);\n              }}\n              onSave={handleSaveAvailability}\n              onViewBookings={handleViewBookings}\n            />\n          </View>\n        </>\n      )}\n\n      <UnavailableTimesModal\n        visible={showUnavailableTimesModal}\n        onClose={() => setShowUnavailableTimesModal(false)}\n        selectedDates={selectedDates}\n        currentAvailability={currentAvailability}\n        onRemoveTimeSlot={handleRemoveTimeSlot}\n        bookings={bookings}\n      />\n\n      <DefaultSettingsModal\n        isVisible={isSettingsModalVisible}\n        onClose={() => setIsSettingsModalVisible(false)}\n        onSave={handleDefaultSettingsSave}\n        defaultSettings={defaultSettings}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n  },\n  bottomSheetOverlay: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  centeredContainer: {\n    maxWidth: 1000,\n    width: '100%',\n    alignSelf: 'center',\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  addButton: {\n    position: 'absolute',\n    right: 20,\n    bottom: 20,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  defaultSettingsButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  defaultSettingsText: {\n    marginRight: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  colorKeyContainer: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    elevation: 2,\n  },\n  colorKeyTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  colorKeyItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5,\n  },\n  colorBox: {\n    width: 20,\n    height: 20,\n    borderRadius: 3,\n    marginRight: 10,\n  },\n  colorKeyText: {\n    fontSize: 14,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.error,\n    textAlign: 'center',\n    marginBottom: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n  },\n  retryButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'black',\n  },\n  bottomSheetContainer: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n});\n\nexport default AvailabilitySettings;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, Image, Platform, SafeAreaView, StatusBar, Dimensions, ActivityIndicator } from 'react-native';\nimport { Card, Title, Paragraph, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst MyPets = ({ navigation }) => {\n  const [pets, setPets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { screenWidth } = useContext(AuthContext);\n\n  useEffect(() => {\n    fetchPets();\n  }, []);\n\n  const fetchPets = async () => {\n    setLoading(true);\n    try {\n      // Simulate network delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // Mock data\n      const mockPets = [\n        {\n          id: '1',\n          name: 'Max',\n          animal_type: 'Dog',\n          breed: 'border collie',\n          age: {\n            months: 0,\n            years: 5,\n          },\n          weight: 32,\n          sex: 'Male',\n          friendlyWithChildren: true,\n          friendlyWithCats: false,\n          friendlyWithDogs: true,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: true,\n          adoptionDate: '2020-01-15',\n          description: 'Loves to play fetch and go for walks.',\n          energyLevel: 'High',\n          feedingSchedule: 'Morning',\n          leftAlone: '1-4 hours',\n          medication: null,\n          additionalInstructions: 'Needs daily exercise.',\n          vetName: 'Dr. Smith',\n          vetAddress: '123 Vet St.',\n          vetPhone: '555-1234',\n          insuranceProvider: 'Pet Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '2',\n          name: 'Whiskers',\n          animal_type: 'Cat',\n          breed: 'tammy ammy',\n          age: {\n            months: 3,\n            years: 4,\n          },\n          weight: 16,\n          sex: 'Female',\n          friendlyWithChildren: true,\n          friendlyWithCats: true,\n          friendlyWithDogs: false,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: false,\n          adoptionDate: '2019-05-20',\n          description: 'Enjoys lounging in the sun.',\n          energyLevel: 'Low',\n          feedingSchedule: 'Twice a day',\n          leftAlone: '4-8 hours',\n          medication: null,\n          additionalInstructions: 'Prefers quiet environments.',\n          vetName: 'Dr. Jones',\n          vetAddress: '456 Vet Ave.',\n          vetPhone: '555-5678',\n          insuranceProvider: 'Pet Health Insurance',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '3',\n          name: 'Buddy',\n          animal_type: 'Lizard',\n          breed: 'leopard gecko',\n          age: {\n            months: 0,\n            years: 2,\n          },\n          weight: 1,\n          sex: 'Male',\n          friendlyWithChildren: false,\n          friendlyWithCats: false,\n          friendlyWithDogs: false,\n          spayedNeutered: false,\n          houseTrained: false,\n          microchipped: false,\n          adoptionDate: '2021-08-10',\n          description: 'A calm and quiet pet.',\n          energyLevel: 'Low',\n          feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n          leftAlone: 'Can be left alone indefinitely',\n          medication: null,\n          additionalInstructions: 'Keep in a warm environment.',\n          vetName: 'Dr. Green',\n          vetAddress: '789 Vet Blvd.',\n          vetPhone: '555-9012',\n          insuranceProvider: 'Reptile Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n      ];\n\n      setPets(mockPets);\n    } catch (error) {\n      console.error('Error fetching pets:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const PetCard = ({ pet }) => (\n    <TouchableOpacity \n      onPress={() => {\n        if (Platform.OS === 'web') {\n          // Store pet data before navigation\n          sessionStorage.setItem('editPetData', JSON.stringify(pet));\n          // Navigate and immediately clean URL\n          navigation.navigate('AddPet');\n          window.history.replaceState({}, '', '/AddPet');\n        } else {\n          navigation.navigate('AddPet', { pet });\n        }\n      }}\n    >\n      <Card style={styles.petCard}>\n        <Card.Content style={styles.petCardContent}>\n          {pet.image ? (\n            <Image source={{ uri: pet.image }} style={styles.petImage} />\n          ) : (\n            <View style={styles.petImagePlaceholder}>\n              <MaterialCommunityIcons \n                name={getAnimalIcon(pet.animal_type ? pet.animal_type : 'paw')} \n                size={40} \n                color={theme.colors.primary} \n              />\n            </View>\n          )}\n          <View style={styles.petInfo}>\n            <Title>{pet.name}</Title>\n            <Paragraph>{pet.animal_type ? pet.animal_type : 'paw'}</Paragraph>\n            <Paragraph>{pet.age.years} years {pet.age.months} months old</Paragraph>\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  );\n\n  const getAnimalIcon = (animalType) => {\n    switch (animalType.toLowerCase()) {\n      case 'dog':\n        return 'dog';\n      case 'cat':\n        return 'cat';\n      case 'rabbit':\n        return 'rabbit';\n      case 'reptile':\n      case 'lizard':\n        return 'snake';\n      case 'snake':\n        return 'snake';\n      case 'turtle':\n        return 'turtle';\n      case 'bird':\n      case 'parrot':\n        return 'bird';\n      case 'horse':\n        return 'horse';\n      case 'fish':\n        return 'fish';\n      default:\n        return 'paw';\n    }\n  };\n\n  const getCardWidth = () => {\n    if (screenWidth <= 600) {\n      return '90%';\n    } else if (screenWidth <= 800) {\n      return '60%';\n    } else {\n      return '30%';\n    }\n  };\n\n  const Content = () => {\n    if (loading) {\n      return (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      );\n    }\n\n    return (\n      <ScrollView contentContainerStyle={[\n        styles.scrollContent,\n        Platform.OS === 'web' && { alignItems: 'center' },\n        { marginBottom: 15 }\n      ]}>\n        <View style={[styles.contentWrapper, { width: getCardWidth() }]}>\n          {pets.map(pet => (\n            <PetCard key={pet.id} pet={pet} />\n          ))}\n          <Button\n            mode=\"contained\"\n            onPress={() => navigation.navigate('AddPet', { pet: {} })}\n            style={styles.addButton}\n            icon={({ size, color }) => (\n              <MaterialCommunityIcons name=\"plus\" size={size} color={color} />\n            )}\n          >\n            Add Pet\n          </Button>\n        </View>\n      </ScrollView>\n    );\n  };\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, { paddingTop: StatusBar.currentHeight }]}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 16,\n  },\n  contentWrapper: {\n    alignSelf: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    marginBottom: 16,\n  },\n  petCard: {\n    marginBottom: 16,\n    transform: [{ scale: Platform.OS === 'web' ? (screenWidth <= 800 && screenWidth > 600 ? 1.15 : 1) : 1 }],\n  },\n  petCardContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n  },\n  petImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  addButton: {\n    marginTop: 5,\n    alignSelf: 'center',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default MyPets;\n","import React from 'react';\nimport { View, StyleSheet, ScrollView, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst ClientHistory = ({ route, navigation }) => {\n  const { clientId } = route.params;\n  const { colors } = useTheme();\n\n  // Mock data - replace with actual data from your backend\n  const clientData = {\n    id: clientId,\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    phone: '(123) 456-7890',\n    contracts: [\n      { id: '1', date: '2023-05-01', status: 'Completed' },\n      { id: '2', date: '2023-04-15', status: 'Pending' },\n    ],\n    invoices: [\n      { id: '1', date: '2023-05-02', amount: '$100', status: 'Paid' },\n      { id: '2', date: '2023-04-16', amount: '$75', status: 'Unpaid' },\n    ],\n    upcomingBookings: [\n      { id: '1', date: '2023-06-01', service: 'Dog Walking' },\n      { id: '2', date: '2023-06-15', service: 'Cat Sitting' },\n    ],\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>{clientData.name}</Title>\n          <Paragraph>Email: {clientData.email}</Paragraph>\n          <Paragraph>Phone: {clientData.phone}</Paragraph>\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Upcoming Bookings</Title>\n          {clientData.upcomingBookings.map(booking => (\n            <List.Item\n              key={booking.id}\n              title={`Booking ${booking.id}`}\n              description={`Date: ${booking.date} - Service: ${booking.service}`}\n              left={props => <List.Icon {...props} icon=\"calendar\" />}\n            />\n          ))}\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Contracts</Title>\n          {clientData.contracts.map(contract => (\n            <List.Item\n              key={contract.id}\n              title={`Contract ${contract.id}`}\n              description={`Date: ${contract.date} - Status: ${contract.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Contracts', 'ClientHistory', { clientId })}>View All Contracts</Button>\n        </Card.Actions>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Invoices</Title>\n          {clientData.invoices.map(invoice => (\n            <List.Item\n              key={invoice.id}\n              title={`Invoice ${invoice.id}`}\n              description={`Date: ${invoice.date} - Amount: ${invoice.amount} - Status: ${invoice.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Invoices', 'ClientHistory', { clientId })}>View All Invoices</Button>\n        </Card.Actions>\n      </Card>\n\n      <View style={styles.messageButtonContainer}>\n        <Button \n          mode=\"contained\" \n          onPress={() => navigateToFrom(navigation, 'Messages', 'ClientHistory', { clientId })}\n          style={styles.messageButton}\n        >\n          View Messages\n        </Button>\n      </View>\n    </ScrollView>\n  );\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, styles.androidContainer]}>\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidContainer: {\n    paddingTop: StatusBar.currentHeight,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 90, // Extra padding for iOS and Android\n  },\n  card: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  messageButtonContainer: {\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n    marginTop: 16,\n  },\n  messageButton: {\n    width: '100%',\n  },\n});\n\nexport default ClientHistory;\n","/**\n * Validates that the end date/time is not before the start date/time\n * @param {string} startDate - Start date in ISO format\n * @param {string} endDate - End date in ISO format (optional)\n * @param {string} startTime - Start time in HH:mm format\n * @param {string} endTime - End time in HH:mm format\n * @returns {Object} - { isValid: boolean, error: string | null }\n */\nexport const validateDateTimeRange = (startDate, endDate, startTime, endTime) => {\n  // Convert dates and times to comparable format\n  const [startHour, startMinute] = startTime.split(':').map(Number);\n  const [endHour, endMinute] = endTime.split(':').map(Number);\n  \n  const startDateTime = new Date(startDate);\n  startDateTime.setHours(startHour, startMinute, 0);\n  \n  let endDateTime;\n  if (endDate) {\n    endDateTime = new Date(endDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  } else {\n    // If no end date, use start date\n    endDateTime = new Date(startDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  }\n\n  if (endDateTime < startDateTime) {\n    return {\n      isValid: false,\n      error: 'End date/time cannot be before start date/time'\n    };\n  }\n\n  return {\n    isValid: true,\n    error: null\n  };\n}; ","import React, { useState, useEffect } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet, ScrollView, Picker, ActivityIndicator, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport { format } from 'date-fns';\nimport { TIME_OPTIONS } from '../data/mockData';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst ANIMAL_COUNT_OPTIONS = ['1', '2', '3', '4', '5'];\n\nconst WebScrollStyles = `\n  .modal-scroll-container {\n    max-height: 60vh;\n    overflow-y: scroll !important;\n    padding-right: 16px;\n    display: block;\n    position: relative;\n    scrollbar-width: auto;\n    scrollbar-color: rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1);\n  }\n\n  .modal-scroll-container::-webkit-scrollbar {\n    width: 10px;\n    background-color: #F5F5F5;\n    display: block;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.1);\n    border: 1px solid #ccc;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid #aaa;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb:hover {\n    background: rgba(0, 0, 0, 0.7);\n  }\n`;\n\nconst ScrollableContent = ({ children }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <>\n        <style>{WebScrollStyles}</style>\n        <div className=\"modal-scroll-container\">\n          {children}\n        </div>\n      </>\n    );\n  }\n  \n  return (\n    <ScrollView showsVerticalScrollIndicator={true} persistentScrollbar={true}>\n      {children}\n    </ScrollView>\n  );\n};\n\nconst AddOccurrenceModal = ({ \n  visible, \n  onClose, \n  onAdd, \n  defaultRates, \n  hideRates = false,\n  initialOccurrence = null,\n  isEditing = false,\n  modalTitle = 'Add New Occurrence'\n}) => {\n\n  // Helper function to create a Date object from a time string\n  const createTimeDate = (timeStr) => {\n    if (timeStr instanceof Date) return timeStr;\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours, 10));\n    date.setMinutes(parseInt(minutes, 10));\n    return date;\n  };\n\n  const [occurrence, setOccurrence] = useState(() => {\n    \n    \n    if (initialOccurrence) {\n      const initialState = {\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      };\n      \n      return initialState;\n    }\n\n    const defaultState = {\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: defaultRates?.additionalRates || []\n      }\n    };\n    \n    return defaultState;\n  });\n\n  // Reset occurrence when initialOccurrence changes or when modal visibility changes\n  useEffect(() => {\n    if (!visible) {\n      // Reset to default state when modal closes\n      if (!initialOccurrence) {\n        setOccurrence({\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date().toISOString().split('T')[0],\n          startTime: new Date(),\n          endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n          rates: {\n            baseRate: defaultRates?.baseRate || '0',\n            additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n            appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n            holidayRate: defaultRates?.holidayRate || '0',\n            timeUnit: defaultRates?.timeUnit || 'per visit',\n            additionalRates: []\n          }\n        });\n        setTimeUnit(defaultRates?.timeUnit || 'per visit');\n      }\n    } else if (initialOccurrence) {\n      // Only set occurrence data if we're editing\n      setOccurrence({\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      });\n      setTimeUnit(initialOccurrence.rates.timeUnit || 'per visit');\n    }\n  }, [visible, initialOccurrence, defaultRates]);\n\n  const [showAddRate, setShowAddRate] = useState(false);\n  const [newRate, setNewRate] = useState({ name: '', amount: '' });\n  const [timeUnit, setTimeUnit] = useState(initialOccurrence?.rates?.timeUnit || occurrence.rates.timeUnit);\n  const [isLoading, setIsLoading] = useState(false);\n  const [validationError, setValidationError] = useState(null);\n\n  const calculateTotal = () => {\n    // If we have a totalCost from the initialOccurrence, use that\n    if (initialOccurrence?.totalCost) {\n      return parseFloat(initialOccurrence.totalCost).toFixed(2);\n    }\n\n    // Otherwise calculate it\n    const baseAmount = parseFloat(occurrence.rates.baseRate) || 0;\n    const additionalAnimalAmount = parseFloat(occurrence.rates.additionalAnimalRate) || 0;\n    const holidayAmount = parseFloat(occurrence.rates.holidayRate) || 0;\n    const customRatesAmount = occurrence.rates.additionalRates?.reduce((sum, rate) => \n      sum + (parseFloat(rate.amount) || 0), 0) || 0;\n\n    const subtotal = baseAmount + additionalAnimalAmount + holidayAmount + customRatesAmount;\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n\n    return totalClientCost.toFixed(2);\n  };\n\n  const handleAdd = async () => {\n    try {\n      setIsLoading(true);\n      \n      const occurrenceData = {\n        ...occurrence,\n        startTime: format(occurrence.startTime, 'HH:mm'),\n        endTime: format(occurrence.endTime, 'HH:mm'),\n        rates: {\n          ...occurrence.rates,\n          baseRate: parseFloat(occurrence.rates.baseRate) || 0,\n          additionalAnimalRate: parseFloat(occurrence.rates.additionalAnimalRate) || 0,\n          appliesAfterAnimals: occurrence.rates.appliesAfterAnimals,\n          holidayRate: parseFloat(occurrence.rates.holidayRate) || 0,\n          additionalRates: occurrence.rates.additionalRates.map(rate => ({\n            ...rate,\n            amount: parseFloat(rate.amount) || 0\n          })),\n          timeUnit,\n        },\n        totalCost: parseFloat(calculateTotal())\n      };\n\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      await onAdd(occurrenceData);\n\n      setOccurrence({\n        startDate: new Date().toISOString().split('T')[0],\n        endDate: new Date().toISOString().split('T')[0],\n        startTime: new Date(),\n        endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n        rates: {\n          baseRate: defaultRates?.baseRate || 0,\n          additionalAnimalRate: defaultRates?.additionalAnimalRate || 0,\n          appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n          holidayRate: defaultRates?.holidayRate || 0,\n          additionalRates: [],\n          timeUnit: 'per visit'\n        }\n      });\n      setShowAddRate(false);\n      setNewRate({ name: '', amount: '' });\n      \n      await new Promise(resolve => setTimeout(resolve, 500));\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n    } finally {\n      setIsLoading(false);\n      onClose();\n    }\n  };\n\n  const handleAddRate = () => {\n    if (newRate.name && newRate.amount) {\n      setOccurrence(prev => ({\n        ...prev,\n        rates: {\n          ...prev.rates,\n          additionalRates: [...prev.rates.additionalRates, {\n            ...newRate,\n            amount: parseFloat(newRate.amount)\n          }]\n        }\n      }));\n      setNewRate({ name: '', amount: '' });\n      setShowAddRate(false);\n    }\n  };\n\n  const handleDeleteRate = (index) => {\n    setOccurrence(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        additionalRates: prev.rates.additionalRates.filter((_, i) => i !== index)\n      }\n    }));\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleSubmit = () => {\n    // Validate the date/time range\n    const validation = validateDateTimeRange(\n      occurrence.startDate,\n      occurrence.endDate,\n      format(occurrence.startTime, 'HH:mm'),\n      format(occurrence.endTime, 'HH:mm')\n    );\n\n    if (!validation.isValid) {\n      setValidationError(validation.error);\n      return;\n    }\n\n    handleAdd();\n  };\n\n  const resetForm = () => {\n    setOccurrence({\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: []\n      }\n    });\n    setTimeUnit(defaultRates?.timeUnit || 'per visit');\n    setShowAddRate(false);\n    setNewRate({ name: '', amount: '' });\n    setValidationError(null);\n  };\n\n  const renderPickerItems = (options) => {\n    return options.map((option) => (\n      <Picker.Item \n        key={option} \n        label={option} \n        value={option}\n        style={styles.pickerItem}\n      />\n    ));\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={handleClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {modalTitle}\n            </Text>\n            <TouchableOpacity style={styles.closeButton} onPress={handleClose}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollableContent>\n            <View style={styles.dateTimeSection}>\n              <Text style={styles.sectionTitle}>Date & Time</Text>\n              \n              <View style={styles.dateTimeContainer}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Date</Text>\n                  <DatePicker\n                    value={occurrence.startDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, startDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Time</Text>\n                  <TimePicker\n                    value={occurrence.startTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, startTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n            <View style={styles.dateTimeSection}>\n              <View style={[styles.dateTimeContainer, {marginTop: 15}]}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Date</Text>\n                  <DatePicker\n                    value={occurrence.endDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, endDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Time</Text>\n                  <TimePicker\n                    value={occurrence.endTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, endTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n\n            {validationError && (\n              <Text style={styles.errorText}>{validationError}</Text>\n            )}\n\n            {!hideRates && (\n              <>\n                <View style={styles.rateSection}>\n                  <View style={[styles.rateContainer, {marginTop: 15}]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Base Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.baseRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            baseRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Per</Text>\n                      <Picker\n                        selectedValue={timeUnit}\n                        onValueChange={(itemValue) => setTimeUnit(itemValue)}\n                        style={styles.picker}\n                      >\n                        {renderPickerItems(TIME_OPTIONS)}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Additional Animal Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.additionalAnimalRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            additionalAnimalRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Applies After</Text>\n                      <Picker\n                        selectedValue={occurrence.rates.appliesAfterAnimals}\n                        onValueChange={(itemValue) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            appliesAfterAnimals: itemValue\n                          }\n                        }))}\n                        style={styles.picker}\n                      >\n                        {ANIMAL_COUNT_OPTIONS.map((option) => (\n                          <Picker.Item key={option} label={`${option} animal${option === '1' ? '' : 's'}`} value={option} />\n                        ))}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Holiday Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.holidayRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            holidayRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                  </View>\n                </View>\n\n                <View style={styles.rateSection}>\n                  <Text style={[styles.label, {marginTop: 10, marginBottom: 0}]}>Additional Rates</Text>\n                  {occurrence.rates.additionalRates.map((rate, index) => (\n                    <View key={index} style={[styles.rateRow, {marginTop: 10, marginBottom: 0}]}>\n                      <TextInput\n                        style={[styles.input, styles.rateInput]}\n                        value={rate.name}\n                        editable={false}\n                      />\n                      <View style={[styles.rateAmountContainer]}>\n                        <TextInput\n                          style={[styles.input, styles.rateAmountInput]}\n                          value={rate.amount.toString()}\n                          editable={false}\n                        />\n                      </View>\n                      <TouchableOpacity onPress={() => handleDeleteRate(index)}>\n                        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n                      </TouchableOpacity>\n                    </View>\n                  ))}\n\n                  {showAddRate ? (\n                    <>\n                      <View style={styles.rateLabelContainer}>\n                        <Text style={styles.rateTitleLabel}>Rate Title</Text>\n                        <Text style={styles.rateAmountLabel}>Rate Amount</Text>\n                      </View>\n                      <View style={styles.rateRow}>\n                        <TextInput\n                          style={[styles.input, styles.rateInput]}\n                          value={newRate.name}\n                          onChangeText={(text) => setNewRate(prev => ({ ...prev, name: text }))}\n                          placeholder=\"Rate Title\"\n                        />\n                        <View style={[styles.rateAmountContainer]}>\n                          <TextInput\n                            style={[styles.input, styles.rateAmountInput]}\n                            value={newRate.amount}\n                            onChangeText={(text) => setNewRate(prev => ({ \n                              ...prev, \n                              amount: text.replace(/[^0-9.]/g, '') \n                            }))}\n                            keyboardType=\"decimal-pad\"\n                            placeholder=\"0.00\"\n                          />\n                        </View>\n                        <TouchableOpacity onPress={handleAddRate}>\n                          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n                        </TouchableOpacity>\n                      </View>\n                    </>\n                  ) : (\n                    <TouchableOpacity \n                      style={styles.addRateButton}\n                      onPress={() => setShowAddRate(true)}\n                    >\n                      <Text style={styles.addRateButtonText}>Add custom rate</Text>\n                    </TouchableOpacity>\n                  )}\n                </View>\n              \n\n                <View style={styles.totalSection}>\n                  <Text style={styles.totalLabel}>Total:</Text>\n                  <Text style={styles.totalAmount}>${calculateTotal()}</Text>\n                </View>\n\n              </>\n            )}\n\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity\n                style={[styles.button, styles.cancelButton]}\n                onPress={handleClose}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={[styles.button, styles.addButton]}\n                onPress={handleSubmit}\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  <ActivityIndicator color={theme.colors.surface} />\n                ) : (\n                  <Text style={styles.addButtonText}>{isEditing ? 'Save' : 'Add'}</Text>\n                )}\n              </TouchableOpacity>\n            </View>\n          </ScrollableContent>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateTimeSection: {\n    // marginBottom: 10,\n  },\n  dateTimeContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 15,\n    // marginBottom: 15,\n  },\n  dateTimeColumn: {\n    flex: 1,\n  },\n  topSpacing: {\n    marginTop: 15,\n  },\n  rateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n    marginBottom: 10,\n  },\n  rateInput: {\n    flex: 2,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountContainer: {\n    flex: 1,\n  },\n  rateAmountInput: {\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addRateButton: {\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n    // marginTop: ,\n  },\n  addRateButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n  },\n  dollarSign: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 15,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addButtonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateLabelContainer: {\n    flexDirection: 'row',\n    marginTop: 10,\n    marginBottom: 5,\n  },\n  rateTitleLabel: {\n    flex: 2,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginLeft: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    gap: 10,\n  },\n  baseRateInput: {\n    flex: 1,\n  },\n  timeUnitInput: {\n    flex: 1,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    height: 39,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 8,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedDropdownText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  pickerItem: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AddOccurrenceModal;","import React, { useState } from 'react';\nimport { View, StyleSheet, Modal, ScrollView, TouchableOpacity } from 'react-native';\nimport { Button, Text, TextInput } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport AddOccurrenceModal from './AddOccurrenceModal';\nimport { format } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPE_SUGGESTIONS, mockPets } from '../data/mockData';\nimport ConfirmationModal from './ConfirmationModal';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst RequestBookingModal = ({ visible, onClose, onSubmit, services = SERVICE_TYPE_SUGGESTIONS, pets = mockPets }) => {\n  const [selectedService, setSelectedService] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [occurrences, setOccurrences] = useState([]);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [occurrenceErrors, setOccurrenceErrors] = useState({});\n\n  const resetForm = () => {\n    setSelectedService('');\n    setSelectedPets([]);\n    setOccurrences([]);\n    setSelectedOccurrence(null);\n  };\n\n  const validateOccurrences = (occs) => {\n    const errors = {};\n    let isValid = true;\n\n    occs.forEach((occ, index) => {\n      const validation = validateDateTimeRange(\n        occ.startDate,\n        occ.endDate,\n        occ.startTime,\n        occ.endTime\n      );\n\n      if (!validation.isValid) {\n        errors[index] = validation.error;\n        isValid = false;\n      }\n    });\n\n    setOccurrenceErrors(errors);\n    return isValid;\n  };\n\n  const handleSubmit = () => {\n    if (occurrences.length === 0) return;\n\n    // Validate all occurrences before submitting\n    if (!validateOccurrences(occurrences)) {\n      return;\n    }\n\n    const bookingData = {\n      serviceType: selectedService,\n      pets: selectedPets.map(petId => pets.find(p => p.id === petId)),\n      occurrences: occurrences\n    };\n\n    // Create a booking request message\n    const bookingRequestMessage = {\n      type: 'booking_request',\n      data: bookingData,\n      timestamp: new Date().toISOString()\n    };\n\n    onSubmit(bookingRequestMessage);\n    resetForm();\n    onClose();\n  };\n\n  const handleDeleteOccurrence = async (occurrenceToDelete) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      setOccurrences(prev => prev.filter(occ => \n        occ.startDate !== occurrenceToDelete.startDate || \n        occ.startTime !== occurrenceToDelete.startTime\n      ));\n    } finally {\n      setConfirmationModal({ \n        visible: false, \n        actionText: '', \n        onConfirm: null, \n        isLoading: false \n      });\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrence) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrence),\n      isLoading: false\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleOpenOccurrenceModal = () => {\n    setShowServiceDropdown(false);\n    setShowPetDropdown(false);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const handleOccurrenceUpdate = (newOccurrence) => {\n    const { startDate, endDate, startTime, endTime } = newOccurrence;\n    \n    // Validate the new occurrence\n    const validation = validateDateTimeRange(startDate, endDate, startTime, endTime);\n    \n    if (!validation.isValid) {\n      // Show error in the AddOccurrenceModal\n      // You'll need to add error handling in the AddOccurrenceModal component\n      return false;\n    }\n\n    if (selectedOccurrence) {\n      setOccurrences(prev => prev.map(occ => \n        occ === selectedOccurrence ? \n        { startDate, endDate, startTime, endTime } : \n        occ\n      ));\n    } else {\n      setOccurrences(prev => [...prev, { startDate, endDate, startTime, endTime }]);\n    }\n    setSelectedOccurrence(null);\n    setShowAddOccurrenceModal(false);\n    return true;\n  };\n\n  const renderServiceDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{selectedService || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {services.map((service) => (\n              <TouchableOpacity\n                key={service}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setSelectedService(service);\n                  setShowServiceDropdown(false);\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  selectedService === service && styles.selectedOption\n                ]}>\n                  {service}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderPetSelector = () => (\n    <View style={{ zIndex: 2 }}>\n      {selectedPets.map((petId) => {\n        const pet = pets.find(p => p.id === petId);\n        return (\n          <View key={petId} style={styles.petItem}>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type} • {pet.breed}</Text>\n            </View>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter(id => id !== petId))}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.error} \n              />\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n      \n      <TouchableOpacity\n        style={styles.addPetButton}\n        onPress={() => setShowPetDropdown(!showPetDropdown)}\n      >\n        <MaterialCommunityIcons \n          name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={20} \n          color={theme.colors.primary} \n        />\n        <Text style={styles.addPetText}>\n          {selectedPets.length === 0 ? 'Select Pets' : 'Add Pet'}\n        </Text>\n      </TouchableOpacity>\n      \n      {showPetDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true} style={styles.petDropdown}>\n            {pets\n              .filter(pet => !selectedPets.includes(pet.id))\n              .map((pet) => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setSelectedPets(prev => [...prev, pet.id]);\n                    setShowPetDropdown(false);\n                  }}\n                >\n                  <View>\n                    <Text style={styles.dropdownPetName}>{pet.name}</Text>\n                    <Text style={styles.dropdownPetDetails}>\n                      {pet.type} • {pet.breed}\n                    </Text>\n                  </View>\n                </TouchableOpacity>\n              ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderOccurrenceCard = (occ, index) => (\n    <View key={index}>\n      <TouchableOpacity \n        style={[\n          styles.occurrenceCard,\n          occurrenceErrors[index] && styles.occurrenceCardError\n        ]}\n      >\n        <View style={styles.occurrenceDetails}>\n          <Text style={styles.dateText}>\n            {occ.endDate && occ.startDate !== occ.endDate ? \n              `${format(new Date(occ.startDate), 'MMM d, yyyy')} - ${format(new Date(occ.endDate), 'MMM d, yyyy')}` :\n              format(new Date(occ.startDate), 'MMM d, yyyy')\n            }\n          </Text>\n          <Text style={styles.timeText}>\n            {`${occ.startTime} - ${occ.endTime}`}\n          </Text>\n          {occurrenceErrors[index] && (\n            <Text style={styles.errorText}>{occurrenceErrors[index]}</Text>\n          )}\n        </View>\n        <View style={styles.occurrenceActions}>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => confirmDeleteOccurrence(occ)}\n          >\n            <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => {\n              setSelectedOccurrence(occ);\n              handleOpenOccurrenceModal();\n            }}\n          >\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={visible}\n      onRequestClose={handleClose}\n      animationType=\"slide\"\n      transparent={true}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Booking</Text>\n          \n          <ScrollView style={styles.scrollView}>\n            {/* Service Selection */}\n            <Text style={styles.label}>Select Service</Text>\n            {renderServiceDropdown()}\n\n            {/* Pet Selection */}\n            <Text style={styles.label}>Select Pets</Text>\n            {renderPetSelector()}\n\n            {/* Date & Time Selection */}\n            <Text style={styles.label}>Select Date & Time</Text>\n            {occurrences.map((occ, index) => renderOccurrenceCard(occ, index))}\n\n            <TouchableOpacity\n              style={styles.addOccurrenceButton}\n              onPress={() => {\n                setSelectedOccurrence(null);\n                handleOpenOccurrenceModal();\n              }}\n            >\n              <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n              <Text style={styles.addOccurrenceText}>Add Date & Time</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.buttonContainer}>\n            <Button mode=\"outlined\" onPress={handleClose} style={styles.button}>\n              Cancel\n            </Button>\n            <Button \n              mode=\"contained\" \n              onPress={handleSubmit}\n              style={styles.button}\n              disabled={!selectedService || selectedPets.length === 0 || occurrences.length === 0}\n            >\n              Submit\n            </Button>\n          </View>\n        </View>\n      </View>\n\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => setShowAddOccurrenceModal(false)}\n        onAdd={handleOccurrenceUpdate}\n        hideRates={true}\n        initialOccurrence={selectedOccurrence}\n        modalTitle={selectedOccurrence ? 'Edit Occurrence' : 'Add New Occurrence'}\n      />\n\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: '', \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  scrollView: {\n    maxHeight: '70%',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginTop: 15,\n    marginBottom: 10,\n  },\n  serviceOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  serviceButton: {\n    marginBottom: 10,\n  },\n  petOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  petButton: {\n    marginBottom: 10,\n  },\n  dateContainer: {\n    gap: 10,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n  },\n  timePickerWrapper: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    marginBottom: 20,\n    zIndex: 3,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n    elevation: 5,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n  },\n  actionButton: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    borderRadius: 4,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n  },\n  detailText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n  occurrenceCardError: {\n    borderColor: theme.colors.error,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n  },\n});\n\nexport default RequestBookingModal; ","import React, { useState, useCallback, useRef, useEffect, useContext } from 'react';\nimport { View, StyleSheet, FlatList, KeyboardAvoidingView, Platform, SafeAreaView, StatusBar, TextInput, Text, TouchableOpacity, Dimensions, Alert } from 'react-native';\nimport { Button, Card, Paragraph, useTheme, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons'; // Import the icon library\nimport { theme } from '../styles/theme';\nimport { AuthContext, getStorage } from '../context/AuthContext';\nimport RequestBookingModal from '../components/RequestBookingModal';\nimport { createBooking, BOOKING_STATES, mockConversations, mockMessages, CURRENT_USER_ID } from '../data/mockData';\nimport { format } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\n// First, create a function to generate dynamic styles\nconst createStyles = (screenWidth) => StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: screenWidth > 1000 ? 0 : 0,\n    paddingRight: screenWidth > 1000 ? 0 : 0,\n    paddingLeft: screenWidth > 1000 ? 0 : 0,\n    height: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n    position: 'fixed',\n    top: 64,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  filterButton: {\n    marginLeft: 'auto',\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    maxWidth: screenWidth > 1000 ? '100%' : 1000,\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'hidden',\n    height: '100%',\n  },\n  conversationListContainer: {\n    width: screenWidth <= 1000 ? '100%' : '30%',\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    borderRightWidth: 2,\n    backgroundColor: theme.colors.surface,\n    overflow: 'auto',\n  },\n  conversationItem: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    width: '100%',\n  },\n  selectedConversation: {\n    backgroundColor: theme.colors.primary + '20',\n    borderLeftWidth: 3,\n    borderLeftColor: theme.colors.primary,\n  },\n  conversationName: {\n    fontSize: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  messageSection: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    height: '100%',\n    marginLeft: screenWidth > 1000 ? 0 : 0,\n    maxWidth: Platform.OS === 'web' ? \n      (screenWidth <= 1000 ? '100%' : '70%') : \n      '100%',\n    alignSelf: screenWidth <= 1000 ? 'stretch' : 'flex-start',\n    width: screenWidth <= 1000 ? '100%' : 'auto',\n    overflow: 'hidden',\n    paddingRight: screenWidth > 1000 ? 100 : 0,\n    paddingBottom: 60,\n  },\n  messagesContainer: {\n    flex: 1,\n    overflow: 'auto',\n    width: '100%',\n    position: 'absolute',\n    padding: 16,\n    paddingTop: screenWidth > 1000 ? 72 : 0,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  messageList: {\n    // padding: 16,\n    width: '100%',\n    paddingTop: 80, // the list is inverted, so we need to pad the top to account for the footer on mobile\n  },\n  messageInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n  },\n  attachButton: {\n    padding: 8,\n  },\n  messageInput: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    marginHorizontal: 8,\n  },\n  sendButton: {\n    borderRadius: 20,\n  },\n  messageCard: {\n    marginVertical: 4,\n    maxWidth: screenWidth > 1000 ? '40%' : '60%',\n    borderRadius: 12,\n    overflow: 'hidden',\n  },\n  // This is for the messages that are sent and received\n  messageContent: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n  },\n  sentMessage: {\n    alignSelf: 'flex-end',\n    backgroundColor: theme.colors.primary,\n  },\n  receivedMessage: {\n    alignSelf: 'flex-start',\n    backgroundColor: theme.colors.receivedMessage,\n  },\n  messageText: {\n    fontSize: 16,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentMessageContainer: {\n    alignItems: 'flex-end',\n    marginBottom: 4,\n  },\n  receivedMessageContainer: {\n    alignItems: 'flex-start',\n    marginBottom: 4,\n  },\n  senderAbove: {\n    fontWeight: 'bold',\n    marginBottom: 4,\n    fontSize: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  sentSenderName: {\n    alignSelf: 'flex-end',\n  },\n  receivedSenderName: {\n    alignSelf: 'flex-start',\n  },\n  timestampBelow: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentTimestamp: {\n    alignSelf: 'flex-end',\n  },\n  receivedTimestamp: {\n    alignSelf: 'flex-start',\n  },\n  sentMessageText: {\n    color: theme.colors.whiteText,\n  },\n  receivedMessageText: {\n    color: theme.colors.text,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  input: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    maxHeight: 100,\n  },\n  webInput: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    paddingVertical: '8px',\n    paddingLeft: '12px',\n    height: screenWidth <= 600 ? 36 : 40,\n    border: '1px solid ' + theme.colors.border,\n    borderRadius: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontSize: screenWidth <= 600 ? '14px' : 'inherit',\n    appearance: 'none',\n    touchAction: 'manipulation',\n    WebkitTapHighlightColor: 'transparent',\n    WebkitUserSelect: 'none',\n    userSelect: 'none',\n  },\n  conversationContent: {\n    flex: 1,\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  conversationTime: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n  },\n  conversationLastMessage: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  unreadMessage: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  bookingStatusContainer: {\n    backgroundColor: theme.colors.primary + '20',\n    padding: 4,\n    borderRadius: 4,\n    alignSelf: 'flex-start',\n  },\n  bookingStatus: {\n    fontSize: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  requestBookingButton: {\n    marginTop: 4,\n    height: 28,\n    alignSelf: 'flex-start',\n  },\n  requestBookingLabel: {\n    fontSize: 12,\n    marginVertical: 0,\n  },\n  messageListContainer: {\n    flex: 1,\n  },\n  inputWrapper: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    zIndex: 1,\n    width: '100%',\n    padding: screenWidth > 600 ? 16 : 8,\n  },\n  inputInnerContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    marginRight: screenWidth <= 600 ? 4 : 8,\n    \n  },\n  attachButton: {\n    padding: 8,\n    marginRight: 8,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButton: {\n    marginLeft: 8,\n    borderRadius: 20,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n  },\n  attachButtonContainer: {\n    position: 'relative',\n    zIndex: 2,\n  },\n  dropdownMenu: {\n    position: 'absolute',\n    bottom: '100%',\n    left: 0,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: -2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    marginBottom: 8,\n    minWidth: 150,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownItem: {\n    padding: 12,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 14,\n    marginLeft: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeConversationText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileMessageView: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n    position: 'relative',\n    backgroundColor: theme.colors.background,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  backButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n  },\n  backButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileHeader: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    position: 'relative',\n    zIndex: 10,\n  },\n  mobileContent: {\n    flex: 1,\n    position: 'relative',\n    height: 'calc(100% - 56px)',\n  },\n  mobileContainer: {\n    paddingTop: 0,\n    paddingLeft: 0,\n    paddingRight: 0,\n  },\n  sendButtonMobile: {\n    width: 24,\n    height: 24,\n    minWidth: 0,\n    padding: 0,\n    marginLeft: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  messageHeader: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 2,\n  },\n  messageHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    paddingVertical: 16,\n    paddingHorizontal: 8,\n  },\n  mobileHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  backArrow: {\n    position: 'absolute',\n    left: 16,\n    padding: 8,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    maxWidth: 500,\n  },\n  sentBookingRequest: {\n    alignSelf: 'flex-end',\n    marginLeft: '20%',\n  },\n  receivedBookingRequest: {\n    alignSelf: 'flex-start',\n    marginRight: '20%',\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  detailText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  viewBookingButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  viewBookingText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    backgroundColor: theme.colors.primary + '15',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 12,\n  },\n  statusText: {\n    color: theme.colors.primary,\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nconst MessageHistory = ({ navigation, route }) => {\n  const { colors } = useTheme();\n  const { screenWidth } = useContext(AuthContext);\n  const styles = createStyles(screenWidth);\n  \n  // Add loading states\n  const [isLoadingConversations, setIsLoadingConversations] = useState(true);\n  const [isLoadingMessages, setIsLoadingMessages] = useState(false);\n  \n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [selectedConversationData, setSelectedConversationData] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [isSending, setIsSending] = useState(false);\n  const [showRequestModal, setShowRequestModal] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const { is_DEBUG, is_prototype, isApprovedProfessional } = useContext(AuthContext);\n  const [conversations, setConversations] = useState([]);\n  const [hasMore, setHasMore] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n  // Clear data on unmount\n  useEffect(() => {\n    return () => {\n      setConversations([]);\n      setMessages([]);\n      setSelectedConversation(null);\n      setSelectedConversationData(null);\n      setIsLoadingConversations(is_prototype ? false :true);\n      setIsLoadingMessages(false);\n      setCurrentPage(1);\n      setHasMore(true);\n    };\n  }, []);\n\n  // Function to fetch conversations\n  const fetchConversations = async () => {\n    try {\n      setIsLoadingConversations(true);\n      \n      if (is_prototype) {\n        // In prototype mode, use mock data\n        console.log('MBABOSS Setting mock conversations in prototype mode');\n        setConversations(mockConversations);\n        if (mockConversations.length > 0 && screenWidth > 1000) {\n          setSelectedConversation(mockConversations[0].id);\n        }\n        setIsLoadingConversations(false);\n        return;\n      }\n\n      console.log('MBABOSS Fetching conversations...');\n      const token = await getStorage('userToken');\n      console.log('MBABOSS User token exists:', !!token);\n      \n      // Log the full request details\n      const requestUrl = `${API_BASE_URL}/api/conversations/v1/`;\n      console.log('MBABOSS Making request to:', requestUrl);\n      \n      const response = await axios.get(requestUrl, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      console.log('MBABOSS Conversations response status:', response.status);\n      console.log('MBABOSS Conversations data:', response.data);\n      \n      if (response.data && Array.isArray(response.data)) {\n        setConversations(response.data);\n        \n        // Auto-select first conversation on web\n        if (response.data.length > 0 && screenWidth > 1000) {\n          console.log('MBABOSS Auto-selecting first conversation:', response.data[0].conversation_id);\n          setSelectedConversation(response.data[0].conversation_id);\n        }\n      } else {\n        console.error('Invalid response format:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n      if (error.response) {\n        console.error('Error response:', error.response.data);\n        console.error('Error status:', error.response.status);\n      } else if (error.request) {\n        console.error('No response received:', error.request);\n      } else {\n        console.error('Error setting up request:', error.message);\n      }\n    } finally {\n      setIsLoadingConversations(false);\n    }\n  };\n\n  // Function to fetch messages for a conversation\n  const fetchMessages = async (conversationId, page = 1) => {\n    try {\n      if (page === 1) {\n        setIsLoadingMessages(true);\n      } else {\n        setIsLoadingMore(true);\n      }\n      \n      const token = await getStorage('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/messages/v1/conversation/${conversationId}/?page=${page}`, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (page === 1) {\n        setMessages(response.data.messages);\n      } else {\n        setMessages(prev => [...prev, ...response.data.messages]);\n      }\n      \n      setHasMore(response.data.has_more);\n      setCurrentPage(page);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    } finally {\n      setIsLoadingMessages(false);\n      setIsLoadingMore(false);\n    }\n  };\n\n  // Function to send a message\n  const SendNormalMessage = async (messageContent) => {\n    if (is_prototype) {\n      // Keep existing prototype message send logic\n      try {\n        const messageData = {\n          content: messageContent,\n          sender: 'Me',\n          timestamp: new Date().toISOString(),\n        };\n\n        const response = await new Promise((resolve) => {\n          setTimeout(() => {\n            resolve({ status: 200, data: messageData });\n          }, 1000);\n        });\n\n        console.log('MBABOSS Message sent:', response.data);\n        setMessages(prevMessages => [response.data, ...prevMessages]);\n        return response.data;\n      } catch (error) {\n        console.error('Error sending message:', error);\n        throw error;\n      }\n    } else {\n      try {\n        const token = await getStorage('userToken');\n        const response = await axios.post(`${API_BASE_URL}/api/messages/v1/send_norm_message/`, {\n          conversation_id: selectedConversation,\n          content: messageContent\n        }, {\n          headers: { \n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n\n        // Add new message to the beginning of the list since FlatList is inverted\n        setMessages(prevMessages => [response.data, ...prevMessages]);\n\n        // Update conversation's last message\n        setConversations(prev => prev.map(conv => \n          conv.conversation_id === selectedConversation \n            ? {\n                ...conv,\n                last_message: messageContent,\n                last_message_time: response.data.timestamp\n              }\n            : conv\n        ));\n\n        return response.data;\n      } catch (error) {\n        console.error('Error sending message:', error);\n        throw error;\n      }\n    }\n  };\n\n  // Effect to load initial data\n  useEffect(() => {\n    console.log('MBABOSS MessageHistory mounted, is_prototype:', is_prototype);\n    if (is_prototype) {\n      console.log('MBABOSS Setting mock conversations');\n      setIsLoadingConversations(false);\n      setConversations(mockConversations);\n      if (mockConversations.length > 0 && screenWidth > 1000) {\n        setSelectedConversation(mockConversations[0].id);\n      }\n    } else {\n      console.log('MBABOSS Fetching real conversations');\n      fetchConversations();\n    }\n  }, [is_prototype, screenWidth]);\n\n  // Effect to load messages when conversation is selected\n  useEffect(() => {\n    if (!selectedConversation) return;\n\n    if (is_prototype) {\n      const conversation = mockConversations.find(conv => conv.id === selectedConversation);\n      if (conversation) {\n        const conversationMessages = mockMessages[selectedConversation] || [];\n        setMessages(conversationMessages);\n        setSelectedConversationData(conversation);\n      }\n    } else {\n      fetchMessages(selectedConversation);\n      const conversation = conversations.find(conv => conv.conversation_id === selectedConversation);\n      setSelectedConversationData(conversation);\n    }\n  }, [selectedConversation, is_prototype]);\n\n  // Add loadMoreMessages function for infinite scroll\n  const loadMoreMessages = () => {\n    if (hasMore && !isLoadingMore && !is_prototype) {\n      fetchMessages(selectedConversation, currentPage + 1);\n    }\n  };\n\n  const isCurrentUserMessage = useCallback((message) => {\n    return message.sender === 'Me';\n  }, []);\n\n  const renderBookingRequestMessage = useCallback(({ item }) => {\n    const isFromMe = item.sender === CURRENT_USER_ID;\n    \n    return (\n      <BookingRequestMessage \n        data={item.data}\n        isFromMe={isFromMe}\n        timestamp={item.timestamp}\n        onAccept={() => {\n          navigation.navigate('BookingDetails', {\n            bookingId: null,\n            initialData: {\n              serviceType: item.data.serviceType,\n              pets: item.data.pets,\n              occurrences: item.data.occurrences,\n              status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n              clientName: selectedConversationData.name || selectedConversationData.other_user_name,\n              professionalName: 'Me'\n            }\n          });\n        }}\n      />\n    );\n  }, [navigation, selectedConversationData, CURRENT_USER_ID]);\n\n  const renderMessage = useCallback(({ item }) => {\n    if (item.type === 'booking_request') {\n      return renderBookingRequestMessage({ item });\n    }\n\n    // Existing message rendering code\n    // Update message rendering to use sent_by_other_user\n    const isFromMe = !item.sent_by_other_user;\n    return (\n      <View style={isFromMe ? styles.sentMessageContainer : styles.receivedMessageContainer}>\n        {/* <Text style={[\n          styles.senderAbove,\n          isFromMe ? styles.sentSenderName : styles.receivedSenderName\n        ]}>\n          {isFromMe ? 'Me' : selectedConversationData?.name || selectedConversationData?.other_user_name}\n        </Text> */}\n        <View style={[\n          styles.messageCard, \n          isFromMe ? styles.sentMessage : styles.receivedMessage\n        ]}>\n          <View style={styles.messageContent}>\n            <Text style={[\n              styles.messageText,\n              isFromMe ? styles.sentMessageText : styles.receivedMessageText\n            ]}>\n              {item.content}\n            </Text>\n          </View>\n        </View>\n        {/* <Text style={[\n          styles.timestampBelow,\n          isFromMe ? styles.sentTimestamp : styles.receivedTimestamp\n        ]}>\n          {new Date(item.timestamp).toLocaleTimeString()}\n        </Text> */}\n      </View>\n    );\n  }, [selectedConversationData, renderBookingRequestMessage]);\n\n  const WebInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await SendNormalMessage(message.trim());\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputInnerContainer}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          style={styles.webInput}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handleSend();\n            }\n          }}\n          disabled={isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend} \n          disabled={isSending}\n          style={[styles.sendButton, screenWidth <= 600 && styles.sendButtonMobile]}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.whiteText} size=\"small\" />\n          ) : screenWidth <= 600 ? (\n            <MaterialCommunityIcons name=\"arrow-up\" size={16} color={theme.colors.whiteText} />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MobileInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await SendNormalMessage(message.trim());\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={inputRef}\n          style={styles.input}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChangeText={setMessage}\n          multiline\n          blurOnSubmit={false}\n          editable={!isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend}\n          disabled={isSending}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.primary} size=\"small\" />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MessageInput = Platform.OS === 'web' ? <WebInput /> : <MobileInput />;\n  \n  const handleRequestBooking = async () => {\n    const currentConversation = conversations.find(c => c.conversation_id === selectedConversation);\n    console.log('MBABOSS Current conversation:', currentConversation);\n    console.log('MBABOSS CURRENT_USER_ID:', CURRENT_USER_ID);\n    console.log('MBABOSS Selected conversation ID:', selectedConversation);\n    \n    if (!currentConversation) {\n      console.log('MBABOSS No conversation found');\n      return;\n    }\n\n    // Log participant and role information\n    console.log('MBABOSS Participant1 ID:', currentConversation.participant1_id);\n    console.log('MBABOSS Participant2 ID:', currentConversation.participant2_id);\n    console.log('MBABOSS Role map:', currentConversation.role_map);\n\n    // Check if current user is the professional by checking their role in the conversation\n    const isProfessional = \n      (currentConversation.participant1_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant1_role === \"professional\") ||\n      (currentConversation.participant2_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant2_role === \"professional\");\n    \n    console.log('MBABOSS Is Professional?', isProfessional);\n\n    if (isProfessional) {\n      console.log('MBABOSS User is professional - creating booking and navigating to details');\n      try {\n        // Get the client ID (the other participant)\n        const clientId = currentConversation.participant1_id === CURRENT_USER_ID ? \n          currentConversation.participant2_id : currentConversation.participant1_id;\n        const professionalId = CURRENT_USER_ID;\n        \n        console.log('MBABOSS Creating booking with:', {\n          clientId,\n          professionalId,\n          clientName: currentConversation.name || currentConversation.other_user_name\n        });\n\n        const bookingId = await createBooking(\n          clientId,\n          professionalId,\n          {\n            clientName: currentConversation.name || currentConversation.other_user_name,\n            professionalName: 'Me',\n            status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n          }\n        );\n\n        console.log('MBABOSS Created booking with ID:', bookingId);\n\n        if (bookingId) {\n          console.log('MBABOSS Navigating to BookingDetails with:', {\n            bookingId,\n            initialData: null\n          });\n          \n          navigation.navigate('BookingDetails', {\n            bookingId: bookingId,\n            initialData: null\n          });\n        }\n      } catch (error) {\n        console.error('Error creating booking:', error);\n        Alert.alert('Error', 'Unable to create booking. Please try again.');\n      }\n    } else {\n      console.log('MBABOSS User is client - showing request modal');\n      setShowRequestModal(true);\n    }\n    \n    setShowDropdown(false);\n  };\n\n  const handleModalSubmit = async (modalData) => {\n    try {\n      const bookingId = await createBooking(\n        'client123',\n        'freelancer123',\n        {\n          ...modalData,\n          professionalName: 'Professional Name',\n          clientName: 'Me',\n          status: 'Pending',\n        }\n      );\n\n      console.log('MBABOSS Created booking with ID:', bookingId);\n\n      setShowRequestModal(false);\n      navigation.navigate('BookingDetails', {\n        bookingId: bookingId,\n        initialData: null\n      });\n    } catch (error) {\n      console.error('Error creating booking:', error);\n      Alert.alert(\n        'Error',\n        'Unable to create booking. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new function to handle booking request messages\n  const handleBookingRequest = async (bookingRequestMessage) => {\n    try {\n      // Add the booking request message to the current conversation\n      const newMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: selectedConversationData?.participant1_id,\n        participant2_id: selectedConversationData?.participant2_id,\n        sender: CURRENT_USER_ID,\n        role_map: selectedConversationData?.role_map,\n        type: 'booking_request',\n        data: bookingRequestMessage.data,\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      setMessages(prevMessages => [...prevMessages, newMessage]);\n      setShowRequestModal(false);\n    } catch (error) {\n      console.error('Error sending booking request:', error);\n      Alert.alert(\n        'Error',\n        'Unable to send booking request. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new header component\n  const renderHeader = () => {\n    if (screenWidth <= 1000 && selectedConversation) {\n      return null;\n    }\n    return (\n      <View style={styles.headerContainer}>\n        <Text style={styles.headerTitle}>Conversations</Text>\n        <Button \n          mode=\"text\" \n          onPress={() => {/* Handle filter */}}\n          style={styles.filterButton}\n        >\n          Filter\n        </Button>\n      </View>\n    );\n  };\n\n  // Update the conversation list component\n  const renderConversationList = () => (\n    <View style={styles.conversationListContainer}>\n      {conversations.map((conv) => {\n        const otherParticipantName = conv.participant1_id === CURRENT_USER_ID ? \n          conv.participant2_name : conv.participant1_name;\n        \n        return (\n          <TouchableOpacity\n            key={conv.conversation_id}\n            style={[\n              styles.conversationItem,\n              selectedConversation === conv.conversation_id && styles.selectedConversation\n            ]}\n            onPress={() => setSelectedConversation(conv.conversation_id)}\n          >\n            <View style={styles.conversationContent}>\n              <View style={styles.conversationHeader}>\n                <Text style={styles.conversationName}>\n                  {otherParticipantName || conv.name || conv.other_user_name || 'Unknown'}\n                </Text>\n                <Text style={styles.conversationTime}>\n                  {new Date(conv.last_message_time).toLocaleTimeString()}\n                </Text>\n              </View>\n              <Text \n                style={[\n                  styles.conversationLastMessage,\n                  selectedConversation === conv.conversation_id && styles.activeConversationText,\n                  conv.unread && styles.unreadMessage\n                ]} \n                numberOfLines={1}\n              >\n                {conv.last_message}\n              </Text>\n              {conv.bookingStatus && (\n                <View style={[\n                  styles.bookingStatusContainer,\n                  styles[`booking${conv.bookingStatus}Status`] || styles.bookingPendingStatus\n                ]}>\n                  <Text style={styles.bookingStatus}>\n                    {conv.bookingStatus}\n                  </Text>\n                </View>\n              )}\n            </View>\n          </TouchableOpacity>\n        );\n      })}\n    </View>\n  );\n\n  // Update the message section to handle empty states and fix positioning\n  const renderMessageSection = () => {\n    if (!selectedConversation) {\n      return null;\n    }\n\n    return (\n      <View style={styles.messageSection}>\n        {screenWidth > 1000 && selectedConversationData && (\n          <View style={styles.messageHeader}>\n            <Text style={styles.messageHeaderName}>\n              {selectedConversationData.name || selectedConversationData.other_user_name}\n            </Text>\n          </View>\n        )}\n        <View style={styles.messagesContainer}>\n          {messages.length === 0 ? (\n            <Text style={{ padding: 16, color: theme.colors.placeholder }}>\n              No messages yet. Start the conversation!\n            </Text>\n          ) : (\n            <FlatList\n              data={messages}\n              renderItem={renderMessage}\n              keyExtractor={item => (item.message_id || Date.now().toString())}\n              style={styles.messageList}\n              onEndReached={loadMoreMessages}\n              onEndReachedThreshold={0.5}\n              inverted={true}\n              contentContainerStyle={{\n                flexGrow: 1,\n                justifyContent: 'flex-end',\n                paddingBottom: 16\n              }}\n              maintainVisibleContentPosition={{\n                minIndexForVisible: 0,\n                autoscrollToTopThreshold: 10\n              }}\n            />\n          )}\n        </View>\n        <View style={styles.inputWrapper}>\n          <View style={styles.attachButtonContainer}>\n            <TouchableOpacity \n              style={styles.attachButton}\n              onPress={() => setShowDropdown(!showDropdown)}\n            >\n              <MaterialCommunityIcons \n                name={showDropdown ? \"close\" : \"plus\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {showDropdown && (\n              <View style={styles.dropdownMenu}>\n                <TouchableOpacity \n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    handleRequestBooking();\n                    setShowDropdown(false);\n                  }}\n                >\n                  <MaterialCommunityIcons \n                    name=\"calendar-plus\" \n                    size={20} \n                    color={theme.colors.primary} \n                  />\n                  <Text style={styles.dropdownText}>\n                    {selectedConversationData && (\n                      (selectedConversationData.participant1_id === CURRENT_USER_ID && \n                       selectedConversationData.role_map.participant1_role === \"professional\") ||\n                      (selectedConversationData.participant2_id === CURRENT_USER_ID && \n                       selectedConversationData.role_map.participant2_role === \"professional\")\n                    ) ? \"Create Booking\" : \"Request Booking\"}\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            )}\n          </View>\n          <View style={styles.inputContainer}>\n            {Platform.OS === 'web' ? <WebInput /> : <MobileInput />}\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const renderMobileHeader = () => (\n    <View style={styles.mobileHeader}>\n      <View style={styles.mobileHeaderContent}>\n        <TouchableOpacity \n          style={styles.backArrow}\n          onPress={() => setSelectedConversation(null)}\n        >\n          <MaterialCommunityIcons \n            name=\"arrow-left\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Text style={styles.mobileHeaderName}>\n          {selectedConversationData?.name || selectedConversationData?.other_user_name}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Move BookingRequestMessage inside the component\n  const BookingRequestMessage = ({ data, onAccept, isFromMe, timestamp }) => {\n    const navigation = useNavigation();\n    \n    const handleViewBooking = () => {\n      navigation.navigate('BookingDetails', {\n        bookingId: data.bookingId,\n        readOnly: !isFromMe // Make fields read-only for client\n      });\n    };\n\n    // Handle both old and new message formats\n    const renderDates = () => {\n      if (data.dates) {\n        // New format\n        return data.dates.map((date, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(date.startDate), 'MMM d, yyyy')} {date.startTime} - {date.endTime}\n          </Text>\n        ));\n      } else if (data.occurrences) {\n        // Old format\n        return data.occurrences.map((occ, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(occ.startDate), 'MMM d, yyyy')} {occ.startTime} - {occ.endTime}\n          </Text>\n        ));\n      }\n      return null;\n    };\n\n    return (\n      <View style={[\n        styles.bookingRequestCard,\n        isFromMe ? styles.sentBookingRequest : styles.receivedBookingRequest\n      ]}>\n        <View style={styles.bookingRequestHeader}>\n          <MaterialCommunityIcons name=\"calendar-clock\" size={24} color={theme.colors.primary} />\n          <Text style={styles.bookingRequestTitle}>\n            {data.messageType === 'professional_changes' ? 'Booking Update' : \n             data.messageType === 'client_approval' ? 'Booking Approval' : \n             'Booking Request'}\n          </Text>\n        </View>\n        \n        {data.status && (\n          <View style={styles.statusContainer}>\n            <Text style={styles.statusText}>\n              Status: {data.status}\n            </Text>\n          </View>\n        )}\n        \n        <View style={styles.bookingRequestDetails}>\n          <Text style={styles.detailLabel}>Service:</Text>\n          <Text style={styles.detailText}>{data.serviceType}</Text>\n          \n          {data.pets && (\n            <>\n              <Text style={styles.detailLabel}>Pets:</Text>\n              <Text style={styles.detailText}>\n                {data.pets.map(pet => pet.name).join(', ')}\n              </Text>\n            </>\n          )}\n          \n          <Text style={styles.detailLabel}>Dates:</Text>\n          {renderDates()}\n          \n          {data.totalCost !== undefined && (\n            <>\n              <Text style={styles.detailLabel}>Total Cost:</Text>\n              <Text style={styles.detailText}>\n                ${data.totalCost.toFixed(2)}\n              </Text>\n            </>\n          )}\n        </View>\n\n        <TouchableOpacity \n          style={styles.viewBookingButton}\n          onPress={handleViewBooking}\n        >\n          <Text style={styles.viewBookingText}>View Booking Details</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  };\n\n  // Add new component for empty state\n  const renderEmptyState = () => (\n    <View style={{\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 20,\n    }}>\n      <MaterialCommunityIcons \n        name=\"message-text-outline\" \n        size={64} \n        color={theme.colors.placeholder}\n        style={{ marginBottom: 16 }}\n      />\n      <Text style={{\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n        marginBottom: 8,\n        textAlign: 'center'\n      }}>\n        No Messages Yet\n      </Text>\n      <Text style={{\n        fontSize: 16,\n        color: theme.colors.placeholder,\n        marginBottom: 24,\n        textAlign: 'center'\n      }}>\n        {is_prototype ? \n          'Create services to start getting bookings and messages from clients' :\n          'Search professionals to find services and start messaging'}\n      </Text>\n      <Button\n        mode=\"contained\"\n        onPress={() => navigation.navigate(is_prototype ? 'Services' : 'SearchProfessionalListing')}\n        style={{ borderRadius: 8 }}\n      >\n        {is_prototype ? 'Create Services' : 'Find Professionals'}\n      </Button>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={[\n      styles.container,\n      screenWidth <= 1000 && selectedConversation && styles.mobileContainer\n    ]}>\n      {isLoadingConversations ? (\n        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading conversations...</Text>\n        </View>\n      ) : conversations.length > 0 ? (\n        <>\n          {renderHeader()}\n          <View style={[\n            styles.contentContainer,\n            screenWidth <= 1000 && selectedConversation && styles.mobileContent\n          ]}>\n            {screenWidth <= 1000 ? (\n              selectedConversation ? (\n                <View style={styles.mobileMessageView}>\n                  {renderMobileHeader()}\n                  <View style={styles.mobileContent}>\n                    {isLoadingMessages ? (\n                      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n                        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                        <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading messages...</Text>\n                      </View>\n                    ) : (\n                      renderMessageSection()\n                    )}\n                  </View>\n                </View>\n              ) : (\n                renderConversationList()\n              )\n            ) : (\n              <>\n                {renderConversationList()}\n                {isLoadingMessages ? (\n                  <View style={[styles.messageSection, { justifyContent: 'center', alignItems: 'center' }]}>\n                    <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                    <Text style={{ marginTop: 16, color: theme.colors.placeholder }}>Loading messages...</Text>\n                  </View>\n                ) : (\n                  renderMessageSection()\n                )}\n              </>\n            )}\n          </View>\n        </>\n      ) : (\n        renderEmptyState()\n      )}\n      \n      <RequestBookingModal\n        visible={showRequestModal}\n        onClose={() => setShowRequestModal(false)}\n        onSubmit={handleBookingRequest}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default MessageHistory;\n\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, TextInput, StyleSheet } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\nimport { AuthContext } from '../context/AuthContext';\n\n// Only import Stripe-related modules if we're not in prototype mode\nlet stripePromise = null;\nlet Elements = null;\nlet useStripe = null;\nlet useElements = null;\nlet CardElement = null;\nlet IbanElement = null;\n\n// Initialize Stripe conditionally\nconst initializeStripe = async () => {\n  if (Platform.OS === 'web') {\n    const stripe = await import('@stripe/stripe-js');\n    const stripeReact = await import('@stripe/react-stripe-js');\n    stripePromise = stripe.loadStripe(STRIPE_PUBLISHABLE_KEY);\n    Elements = stripeReact.Elements;\n    useStripe = stripeReact.useStripe;\n    useElements = stripeReact.useElements;\n    CardElement = stripeReact.CardElement;\n    IbanElement = stripeReact.IbanElement;\n  }\n};\n\n// Only import CardField for native platforms\nlet CardField = null;\nif (Platform.OS !== 'web') {\n  // Dynamic import to avoid web compilation issues\n  import('@stripe/stripe-react-native').then(module => {\n    CardField = module.CardField;\n  });\n}\n\nconst ELEMENT_OPTIONS = {\n  supportedCountries: ['US'],\n  style: {\n    base: {\n      color: '#32325d',\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: 'antialiased',\n      fontSize: '16px',\n      '::placeholder': {\n        color: '#aab7c4'\n      }\n    },\n    invalid: {\n      color: '#fa755a',\n      iconColor: '#fa755a'\n    }\n  }\n};\n\nconst WebPaymentForm = ({ onChange, paymentType }) => {\n  const stripe = useStripe && useStripe();\n  const elements = useElements && useElements();\n  const [bankFields, setBankFields] = useState({\n    accountNumber: '',\n    routingNumber: ''\n  });\n\n  useEffect(() => {\n    if (stripe && elements) {\n      onChange({\n        complete: false,\n        stripe,\n        elements,\n        paymentType\n      });\n    }\n  }, [stripe, elements, paymentType]);\n\n  const handleBankFieldChange = (field, value) => {\n    const updatedFields = {\n      ...bankFields,\n      [field]: value\n    };\n    setBankFields(updatedFields);\n\n    const isAccountNumberValid = updatedFields.accountNumber.length >= 9;\n    const isRoutingNumberValid = updatedFields.routingNumber.length === 9;\n\n    onChange({\n      complete: isAccountNumberValid && isRoutingNumberValid,\n      value: updatedFields,\n      stripe,\n      elements,\n      paymentType\n    });\n  };\n\n  return (\n    <div style={{ padding: '10px 0' }}>\n      {paymentType === 'card' ? (\n        <CardElement \n          options={ELEMENT_OPTIONS}\n          onChange={(event) => onChange({\n            ...event,\n            stripe,\n            elements,\n            paymentType\n          })}\n        />\n      ) : (\n        <div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Account Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Account Number\"\n              value={bankFields.accountNumber}\n              onChange={(e) => handleBankFieldChange('accountNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Routing Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Routing Number\"\n              value={bankFields.routingNumber}\n              onChange={(e) => handleBankFieldChange('routingNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst NativePaymentElement = ({ onChange, paymentType }) => {\n  if (!CardField) {\n    return null;\n  }\n\n  if (paymentType === 'bank') {\n    // For native platforms, use regular inputs for bank accounts\n    return (\n      <View style={[{ marginRight: 20 }]}>\n        <TextInput\n          placeholder=\"Account Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length >= 9,\n            value: { accountNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n        <TextInput\n          placeholder=\"Routing Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length === 9,\n            value: { routingNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n      </View>\n    );\n  }\n\n  return (\n    <CardField\n      postalCodeEnabled={false}\n      onCardChange={onChange}\n      style={{\n        width: '100%',\n        height: 50,\n        marginVertical: 10,\n      }}\n    />\n  );\n};\n\nexport const StripePaymentElement = ({ onChange, paymentType }) => {\n\n  useEffect(() => {\n    initializeStripe();\n  }, []);\n\n  if (Platform.OS === 'web' && Elements && stripePromise) {\n    return (\n      <Elements stripe={stripePromise}>\n        <WebPaymentForm onChange={onChange} paymentType={paymentType} />\n      </Elements>\n    );\n  }\n\n  return <NativePaymentElement onChange={onChange} paymentType={paymentType} />;\n};\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 4,\n    marginVertical: 5,\n    paddingHorizontal: 10,\n  },\n  bankInputsContainer: {\n    marginHorizontal: 16,\n    marginBottom: 16,\n  },\n  bankInput: {\n    marginBottom: 16,\n  },\n  container: {\n    padding: 16,\n  },\n}); ","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform, Dimensions } from 'react-native';\nimport { Card, Button, IconButton, TextInput, SegmentedButtons, Dialog, Portal, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { useNavigation } from '@react-navigation/native'; \nimport CrossPlatformView from '../components/CrossPlatformView';\nimport STRIPE_PUBLISHABLE_KEY from '../../.env';\nimport axios from 'axios';\nimport { createPaymentMethod } from '../utils/StripeService';\nimport { StripeCardElement } from '../components/StripeCardElement';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { StripePaymentElement } from '../components/StripeCardElement';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst MAX_WIDTH = 500; // Maximum width for web view\n\nconst PaymentMethods = () => {\n  const navigation = useNavigation();\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [confirmPrimaryDialogVisible, setConfirmPrimaryDialogVisible] = useState(false);\n  const [selectedMethod, setSelectedMethod] = useState(null);\n  const [primaryAction, setPrimaryAction] = useState(null); // 'payment' or 'receive'\n  const [newPaymentMethod, setNewPaymentMethod] = useState({\n    type: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvc: '',\n    accountNumber: '',\n    routingNumber: '',\n  });\n  const { isApprovedProfessional, is_DEBUG } = useContext(AuthContext);\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [deleteDialogVisible, setDeleteDialogVisible] = useState(false);\n  const [methodToDelete, setMethodToDelete] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const stripe = Platform.OS !== 'web' ? stripeModule()?.useStripe() : null;\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [cardComplete, setCardComplete] = useState(false);\n  const [cardElement, setCardElement] = useState(null);\n  const [stripeElement, setStripeElement] = useState(null);\n  const [bankAccountComplete, setBankAccountComplete] = useState({\n    accountNumber: false,\n    routingNumber: false\n  });\n  const [verificationModalVisible, setVerificationModalVisible] = useState(false);\n  const [verificationAmounts, setVerificationAmounts] = useState({\n    first: '',\n    second: ''\n  });\n  const [verifyingMethod, setVerifyingMethod] = useState(null);\n  const [modalLoading, setModalLoading] = useState(false);\n\n  useEffect(() => {\n    // Fetch payment methods from backend\n    // This is a placeholder. Replace with actual API calls.\n    setPaymentMethods([\n      { \n        id: '1', \n        type: 'bank', \n        accountNumber: '****1234', \n        routingNumber: '123456789', \n        isPrimaryPayment: true,\n        isPrimaryReceive: true,\n        is_verified: true \n      },\n      { \n        id: '2', \n        type: 'card', \n        last4: '4242', \n        brand: 'Visa', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      },\n      { \n        id: '3', \n        type: 'bank', \n        accountNumber: '****5678', \n        routingNumber: '987654321', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      }\n    ]);\n  }, []);\n\n  // Check if Stripe is ready\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      console.log('Stripe loading started');\n      setLoading(true);\n      const checkStripeReady = async () => {\n        try {\n          const stripe = await import('@stripe/stripe-js');\n          const stripeReact = await import('@stripe/react-stripe-js');\n          if (stripe && stripeReact) {\n            console.log('Stripe modules loaded');\n            setLoading(false);\n          }\n        } catch (error) {\n          console.error('Error loading Stripe modules:', error);\n          setLoading(false);\n        }\n      };\n      checkStripeReady();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  if (loading) {\n    if (is_DEBUG) {\n      console.log('Loading indicator should be visible');\n    }\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  const renderPaymentMethod = (method) => (\n    <Card key={method.id} style={styles.card}>\n      <Card.Content>\n        <View style={styles.cardContent}>\n          <View style={styles.methodInfo}>\n            <Text style={styles.methodType}>\n              {method.type === 'card' \n                ? `${method.brand} •••• ${method.last4}` \n                : `Bank Account ${method.accountNumber || '•••• undefined'}`}\n            </Text>\n            {method.bankName && <Text style={styles.bankName}>{method.bankName}</Text>}\n            {!method.is_verified && (\n              <Text style={styles.verificationNeeded}>\n                {method.type === 'card' \n                  ? 'Card Verification In Progress'\n                  : 'Bank Account Verification Required'}\n              </Text>\n            )}\n          </View>\n          <View style={styles.cardActions}>\n            {!method.is_verified && method.type === 'bank' && (\n              <Button\n                onPress={() => handleVerifyBankAccount(method)}\n                mode=\"contained\"\n              >\n                Verify\n              </Button>\n            )}\n            {method.is_verified && (\n              <>\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />}\n                  onPress={() => handleEditMethod(method)}\n                />\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"delete\" size={20} color={theme.colors.error} />}\n                  onPress={() => handleDeleteMethod(method)}\n                />\n              </>\n            )}\n          </View>\n        </View>\n        {method.is_verified && (\n          <View style={styles.primaryOptionsContainer}>\n            <View style={styles.checkboxRow}>\n              <IconButton\n                icon={() => (\n                  <MaterialCommunityIcons \n                    name={method.isPrimaryPayment ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                    size={24} \n                    color={theme.colors.primary}\n                  />\n                )}\n                onPress={() => handleSetPrimary(method.id, 'payment')}\n                style={styles.checkbox}\n              />\n              <Text style={styles.checkboxLabel}>\n                {method.isPrimaryPayment ? \"Primary Payment Method\" : \"Make Primary Payment Method\"}\n              </Text>\n            </View>\n            {(method.type === 'bank' && isApprovedProfessional) && (\n              <View style={styles.checkboxRow}>\n                <IconButton\n                  icon={() => (\n                    <MaterialCommunityIcons \n                      name={method.isPrimaryReceive ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                  onPress={() => handleSetPrimary(method.id, 'receive')}\n                  style={styles.checkbox}\n                />\n                <Text style={styles.checkboxLabel}>\n                  {method.isPrimaryReceive ? \"Primary Receive Method\" : \"Make Primary Receive Method\"}\n                </Text>\n              </View>\n            )}\n          </View>\n        )}\n      </Card.Content>\n    </Card>\n  );\n\n  const handleAddMethod = async () => {\n    setError(null);\n    setSelectedMethod(null);\n    setNewPaymentMethod({\n      type: 'card',\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: '',\n      routingNumber: '',\n    });\n    setModalVisible(true);\n    if (is_DEBUG) {\n      console.log('MBA: Setting modalLoading to true');\n    }\n    setModalLoading(true);\n\n    if (Platform.OS === 'web') {\n      if (is_DEBUG) {\n        console.log('MBA: Initializing Stripe elements for web');\n      }\n      if (!cardElement || !cardElement.stripe || !cardElement.elements) {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements not initialized, setting up now');\n        }\n        try {\n          const { loadStripe } = await import('@stripe/stripe-js');\n          const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n          if (stripe) {\n            if (is_DEBUG) {\n              console.log('MBA: Stripe loaded successfully');\n            }\n            const elements = stripe.elements();\n            setCardElement({\n              stripe,\n              elements,\n              complete: false,\n              paymentType: 'card',\n              value: {}\n            });\n          }\n        } catch (error) {\n          if (is_DEBUG) {\n            console.error('MBA: Error initializing Stripe elements:', error);\n          }\n        }\n      } else {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements already initialized');\n        }\n      }\n    }\n    // Add a short delay before setting modalLoading to false\n    setTimeout(() => {\n      if (is_DEBUG) {\n        console.log('MBA: Setting modalLoading to false');\n      }\n      setModalLoading(false);\n    }, 500); // 500ms delay\n  };\n\n  const handleEditMethod = (method) => {\n    setError('');\n    setSelectedMethod({ ...method });\n    setNewPaymentMethod({\n      type: method.type,\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: method.accountNumber || '',\n      routingNumber: method.routingNumber || '',\n    });\n    setModalVisible(true);\n  };\n\n  const handleDeleteMethod = (method) => {\n    setMethodToDelete({ ...method });\n    setDeleteError(null);\n    setDeleteDialogVisible(true);\n  };\n\n  const handleSetPrimary = (id, type) => {\n    setSelectedMethod({ id });\n    setPrimaryAction(type);\n    setConfirmPrimaryDialogVisible(true);\n  };\n\n  const confirmSetPrimary = async () => {\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the change\n      setPaymentMethods(prevMethods =>\n        prevMethods.map(method => ({\n          ...method,\n          ...(primaryAction === 'payment' && {\n            isPrimaryPayment: method.id === selectedMethod.id\n          }),\n          ...(primaryAction === 'receive' && {\n            isPrimaryReceive: method.id === selectedMethod.id\n          })\n        }))\n      );\n      \n      console.log('Primary method updated:', selectedMethod);\n    } catch (error) {\n      console.error('Failed to update primary method:', error);\n    } finally {\n      setIsConfirming(false);\n      setConfirmPrimaryDialogVisible(false);\n      setPrimaryAction(null);\n    }\n  };\n\n  const confirmDeleteMethod = async () => {\n    if (methodToDelete.isPrimaryPayment && methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This payment method is set as both your primary payment and receive method. Please select another payment method for both before deleting this one.\");\n      return;\n    }\n    \n    if (methodToDelete.isPrimaryPayment) {\n      setDeleteError(\"This is your primary payment method. Please select another payment method before deleting this one.\");\n      return;\n    }\n\n    if (methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This is your primary receive method. Please select another receive method before deleting this one.\");\n      return;\n    }\n\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the deletion\n      setPaymentMethods(prevMethods => prevMethods.filter(method => method.id !== methodToDelete.id));\n      \n      console.log('Payment method deleted:', methodToDelete);\n      setDeleteDialogVisible(false);\n    } catch (error) {\n      console.error('Failed to delete payment method:', error);\n      setDeleteError('An error occurred while deleting the payment method. Please try again.');\n    } finally {\n      setIsConfirming(false);\n    }\n  };\n\n  const renderAddMethodModal = () => {\n    if (is_DEBUG) {\n      console.log('MBA: Rendering Add Payment Method Modal');\n      console.log('MBA: modalLoading state:', modalLoading);\n    }\n    return (\n      <Portal>\n        <Dialog visible={modalVisible} onDismiss={() => setModalVisible(false)} style={styles.dialog}>\n          <Dialog.Title>Add Payment Method</Dialog.Title>\n          <IconButton\n            icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n            onPress={() => setModalVisible(false)}\n            style={styles.closeButton}\n          />\n          <Dialog.Content>\n            {modalLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                <Text style={styles.loadingText}>Loading...</Text>\n              </View>\n            ) : (\n              <>\n                <SegmentedButtons\n                  value={newPaymentMethod.type}\n                  onValueChange={(value) => setNewPaymentMethod({ ...newPaymentMethod, type: value })}\n                  buttons={[\n                    { value: 'card', label: 'Credit Card' },\n                    { value: 'bank', label: 'Bank Account' },\n                  ]}\n                  style={styles.segmentedButtons}\n                />\n                <StripePaymentElement \n                  key={newPaymentMethod.type}\n                  onChange={handlePaymentChange}\n                  paymentType={newPaymentMethod.type}\n                />\n                {error && <Text style={styles.errorText}>{error}</Text>}\n              </>\n            )}\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={() => setModalVisible(false)} disabled={loading}>Cancel</Button>\n            <Button \n              onPress={handleSavePaymentMethod} \n              disabled={loading || (\n                (newPaymentMethod.type === 'card' && !cardComplete) ||\n                (newPaymentMethod.type === 'bank' && (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber))\n              )}\n              loading={loading}\n            >\n              Save\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    );\n  };\n\n  const renderConfirmPrimaryDialog = () => (\n    <Portal>\n      <Dialog visible={confirmPrimaryDialogVisible} onDismiss={() => setConfirmPrimaryDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>\n          {primaryAction === 'receive' ? 'Confirm Primary Receive Method' : 'Confirm Primary Payment Method'}\n        </Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setConfirmPrimaryDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text>\n            {primaryAction === 'receive' \n              ? \"Are you sure you want to make this your primary receive method?\"\n              : \"Are you sure you want to make this your primary payment method?\"\n            }\n          </Text>\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>\n                {primaryAction === 'receive' \n                  ? \"Updating primary receive method...\"\n                  : \"Updating primary payment method...\"\n                }\n              </Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setConfirmPrimaryDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmSetPrimary} disabled={isConfirming}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const renderDeleteConfirmDialog = () => (\n    <Portal>\n      <Dialog visible={deleteDialogVisible} onDismiss={() => setDeleteDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Confirm Delete Payment Method</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setDeleteDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          {deleteError ? (\n            <Text style={styles.errorText}>{deleteError}</Text>\n          ) : (\n            <Text>Are you sure you want to delete this payment method?</Text>\n          )}\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>Deleting payment method...</Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setDeleteDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmDeleteMethod} disabled={isConfirming || deleteError}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerifyBankAccount = (method) => {\n    setVerifyingMethod(method);\n    setVerificationAmounts({ first: '', second: '' });\n    setVerificationModalVisible(true);\n    setError(null);\n  };\n\n  const renderVerificationModal = () => (\n    <Portal>\n      <Dialog visible={verificationModalVisible} onDismiss={() => setVerificationModalVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Verify Bank Account</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setVerificationModalVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text style={styles.verificationText}>\n            A deposit will be made to your bank account in 1-2 business days of adding your bank account. Please enter the two small deposit amounts that were made to your account:\n          </Text>\n          <View style={styles.amountsContainer}>\n            <TextInput\n              label=\"First Amount (cents)\"\n              value={verificationAmounts.first}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, first: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"32\"\n            />\n            <TextInput\n              label=\"Second Amount (cents)\"\n              value={verificationAmounts.second}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, second: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"45\"\n            />\n          </View>\n          {error && <Text style={styles.errorText}>{error}</Text>}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setVerificationModalVisible(false)} disabled={loading}>\n            Cancel\n          </Button>\n          <Button\n            onPress={handleVerificationSubmit}\n            loading={loading}\n            disabled={loading || !verificationAmounts.first || !verificationAmounts.second}\n          >\n            Verify\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerificationSubmit = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!verifyingMethod) {\n        throw new Error('Missing required verification data');\n      }\n\n      const firstAmount = parseInt(verificationAmounts.first);\n      const secondAmount = parseInt(verificationAmounts.second);\n\n      if ([firstAmount, secondAmount].some(amount => isNaN(amount) || amount < 1 || amount > 99)) {\n        throw new Error('Please enter valid amounts between 1 and 99 cents');\n      }\n\n      // Simulate backend API call\n      const simulateBackendVerification = () => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          // Simulate success for amounts 32 and 45, fail for others\n          if (firstAmount === 12 && secondAmount === 12) {\n            resolve({ success: true });\n          } else {\n            reject(new Error('The amounts entered do not match our records. Please verify the amounts and try again.'));\n          }\n        }, 1000);\n      });\n\n      const result = await simulateBackendVerification();\n\n      // Update the UI if verification succeeds\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === verifyingMethod.id\n            ? { ...m, is_verified: true }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setVerificationModalVisible(false);\n      setVerifyingMethod(null);\n      setVerificationAmounts({ first: '', second: '' });\n      setError('Bank account successfully verified!');\n    } catch (err) {\n      console.error('Verification error:', err);\n      setError(err.message || 'Failed to verify bank account. Please check the amounts and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add card verification handler\n  const handleVerifyCard = async (method) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Create a SetupIntent on your backend\n      const setupIntent = await axios.post('/api/create-setup-intent', {\n        payment_method_id: method.id\n      });\n\n      // Confirm the SetupIntent with Stripe\n      const result = await cardElement.stripe.confirmCardSetup(\n        setupIntent.client_secret,\n        {\n          payment_method: method.id\n        }\n      );\n\n      console.log('Card verification result:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n\n      // Update the payment method status in your lists\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === method.id\n            ? { ...m, status: 'verified', verificationNeeded: false }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setError('Card successfully verified!');\n    } catch (err) {\n      console.error('Card verification error:', err);\n      setError(err.message || 'Failed to verify card');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add these functions back after handleAddMethod\n  const handlePaymentChange = (event) => {\n    console.log('Payment change event:', event);\n    if (Platform.OS === 'web') {\n      if (newPaymentMethod.type === 'card') {\n        setCardComplete(event.complete);\n      } else {\n        // For bank accounts, track both fields\n        if (event.value) {\n          setBankAccountComplete(prev => ({\n            ...prev,\n            accountNumber: event.value.accountNumber?.length >= 9 || prev.accountNumber,\n            routingNumber: event.value.routingNumber?.length === 9 || prev.routingNumber\n          }));\n        }\n        setCardComplete(bankAccountComplete.accountNumber && bankAccountComplete.routingNumber);\n      }\n\n      setCardElement({\n        stripe: event.stripe,\n        elements: event.elements,\n        complete: event.complete,\n        paymentType: newPaymentMethod.type,\n        value: event.value\n      });\n\n      // Update newPaymentMethod state if it's a bank account\n      if (newPaymentMethod.type === 'bank' && event.value) {\n        setNewPaymentMethod(prev => ({\n          ...prev,\n          accountNumber: event.value.accountNumber || prev.accountNumber,\n          routingNumber: event.value.routingNumber || prev.routingNumber,\n        }));\n      }\n    } else {\n      setCardComplete(event.complete);\n      setCardElement(event);\n    }\n  };\n\n  const handleSavePaymentMethod = async () => {\n    if (newPaymentMethod.type === 'card') {\n      if (!cardComplete) {\n        setError('Please complete card details');\n        return;\n      }\n    } else if (newPaymentMethod.type === 'bank') {\n      if (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber) {\n        setError('Please complete both account number and routing number');\n        return;\n      }\n    }\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      if (Platform.OS === 'web') {\n        if (!cardElement.stripe || !cardElement.elements) {\n          throw new Error('Stripe not initialized');\n        }\n\n        let result;\n        if (newPaymentMethod.type === 'card') {\n          // Handle credit card\n          result = await cardElement.stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement.elements.getElement(CardElement),\n          });\n\n          console.log('Card payment method result:', result);\n\n          if (result.error) {\n            throw new Error(result.error.message);\n          }\n\n          const paymentMethodData = {\n            id: result.paymentMethod.id,\n            type: 'card',\n            last4: result.paymentMethod.card.last4,\n            brand: result.paymentMethod.card.brand,\n            is_verified: false\n          };\n\n          // Only add to payForServicesMethods since cards can't be used for receiving\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n        } else {\n          // Handle bank account\n          result = await cardElement.stripe.createToken('bank_account', {\n            country: 'US',\n            currency: 'usd',\n            routing_number: cardElement.value.routingNumber,\n            account_number: cardElement.value.accountNumber,\n            account_holder_type: 'individual',\n          });\n          \n          console.log('Bank token creation result:', result);\n\n          if (result.error || !result.token) {\n            throw new Error(result.error?.message || 'Invalid routing number. Please check and try again.');\n          }\n\n          const paymentMethodData = {\n            id: result.token.id,\n            type: 'bank',\n            accountNumber: `****${result.token.bank_account.last4}`,\n            routingNumber: cardElement.value.routingNumber,\n            bankName: result.token.bank_account.bank_name,\n            is_verified: false\n          };\n\n          // Update the appropriate list based on where it was added\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n\n          setError(\n            'Bank account added but requires verification. Two small deposits will be made to your account in 1-2 business days. ' +\n            'Please check your account and return to verify the amounts.'\n          );\n        }\n\n        setModalVisible(false);\n      } else {\n        // Native platform handling\n        const { paymentMethod, error } = await createPaymentMethod({\n          type: newPaymentMethod.type,\n          card: cardElement,\n          is_receive_payment: selectedMethod?.isPrimaryReceive || false,\n        });\n\n        if (error) {\n          throw new Error(error.message);\n        }\n\n        // Update the appropriate list\n        setPaymentMethods(prev => [...prev, paymentMethod]);\n      }\n\n      setModalVisible(false);\n    } catch (err) {\n      console.error('Payment method error:', err);\n      setError(err.message || 'Failed to save payment method');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Payment Methods\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView style={styles.container} contentContainerStyle={styles.contentContainer}>\n        <View style={styles.sectionContainer}>\n          <View style={styles.headerContainer}>\n            <Text style={styles.sectionTitle}>Payment Methods</Text>\n            <IconButton\n              icon={() => <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />}\n              onPress={() => handleAddMethod()}\n              style={styles.addIconButton}\n            />\n          </View>\n          {paymentMethods.map(method => renderPaymentMethod(method))}\n        </View>\n\n        {renderAddMethodModal()}\n        {renderConfirmPrimaryDialog()}\n        {renderDeleteConfirmDialog()}\n        {renderVerificationModal()}\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    overflow: 'hidden',\n  },\n  contentContainer: {\n    padding: 16,\n    alignItems: 'center',\n    width: '100%',\n  },\n  sectionContainer: {\n    width: '100%',\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n  },\n  card: {\n    marginBottom: 16,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  addButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  segmentedButtons: {\n    marginBottom: 16,\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n    minHeight: 40,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  cardContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  methodInfo: {\n    flex: 1,\n  },\n  methodType: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  primaryOptionsContainer: {\n    marginTop: 8,\n    gap: 4,\n  },\n  checkboxRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  checkbox: {\n    margin: 0,\n    padding: 0,\n  },\n  checkboxLabel: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginLeft: -8,\n  },\n  cardActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dialog: {\n    width: Platform.OS === 'web' ? '90%' : '100%',\n    alignSelf: 'center',\n    maxWidth: 500,\n    marginHorizontal: Platform.OS === 'web' ? 'auto' : 16,\n  },\n  input: {\n    marginBottom: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginLeft: 8,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: 5,\n    top: 5,\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.7)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bankName: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginTop: 4,\n  },\n  verificationNeeded: {\n    color: theme.colors.error,\n    fontSize: 12,\n    marginTop: 4,\n  },\n  amountsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n    marginBottom: 16,\n  },\n  amountInput: {\n    width: '48%',\n  },\n  verificationText: {\n    marginBottom: 8,\n    fontSize: 14,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n    width: '100%',\n  },\n  addIconButton: {\n    margin: 0,\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default PaymentMethods;\n","import React, { useContext } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, Text, TouchableOpacity, StatusBar } from 'react-native';\nimport { List, Divider } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Settings = ({ navigation }) => {\n  \n  const settingsItems = [\n    { title: 'Change Password', icon: 'lock-reset', route: 'ChangePassword' },\n    { title: 'Notification Preferences', icon: 'bell-outline', route: 'NotificationPreferences' },\n    { title: 'Privacy Settings', icon: 'shield-account', route: 'PrivacySettings' },\n    { title: 'Language', icon: 'translate', route: 'LanguageSettings' },\n    { title: 'Display & Accessibility', icon: 'palette', route: 'DisplaySettings' },\n    { title: 'Data Usage', icon: 'chart-bar', route: 'DataUsage' },\n    { title: 'About', icon: 'information-outline', route: 'About' },\n  ];\n\n  const renderSettingsItems = () => {\n    return settingsItems.map((item, index) => (\n      <React.Fragment key={index}>\n        <List.Item\n          title={item.title}\n          left={props => \n            Platform.OS === 'web' \n              ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n              : <List.Icon {...props} icon={item.icon} />\n          }\n          onPress={() => navigation.navigate(item.route)}\n          style={Platform.OS === 'web' ? styles.webListItem : null}\n        />\n        {index < settingsItems.length - 1 && <Divider />}\n      </React.Fragment>\n    ));\n  };\n\n  const renderContent = () => (\n    <List.Section style={styles.listSection}>\n      {renderSettingsItems()}\n    </List.Section>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Settings\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        {renderContent()}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n  },\n  listSection: {\n    backgroundColor: theme.colors.surface,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  warningContainer: {\n    backgroundColor: '#FFF3CD',\n    padding: theme.spacing.small,\n    marginHorizontal: theme.spacing.small,\n    marginTop: theme.spacing.small,\n    borderRadius: 4,\n  },\n  warningText: {\n    color: '#856404',\n    textAlign: 'center',\n  },\n});\n\nexport default Settings;\n","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { handleBack } from '../components/Navigation';\n\nconst appName = 'Zen Exotics';\n\nconst privacy_policy_info = [\n  {sectionTitle: \"Information We Collect\", \n    paragraph: \"When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\", \n    listItems: {listItem: \"Personal Information: Name, email, phone number, address, and service preferences.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.\",\n                listItem: \"Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.\",\n                listItem: \"Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n    }},\n  {}\n];\n\nconst PrivacyPolicy = () => {\n  const navigation = useNavigation();\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Privacy Policy\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView \n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <Text style={styles.title}>Privacy Policy for {appName}</Text>\n        <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n        \n        <Text style={styles.paragraph}>\n          By accessing or using {appName}, you agree to the practices described in this Privacy Policy. If you do not agree with these terms, please discontinue the use of our services immediately.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Information We Collect</Text>\n        <Text style={styles.paragraph}>\n          When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\n        </Text>\n        <Text style={styles.listItem}>• Personal Information: Name, email, phone number, address, and service preferences.</Text>\n        <Text style={styles.listItem}>• Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.</Text>\n        <Text style={styles.listItem}>• Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.</Text>\n        <Text style={styles.listItem}>• Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.</Text>\n        <Text style={styles.listItem}>• Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.</Text>\n        <Text style={styles.listItem}>• Cookies and Tracking: We use cookies and tracking technologies to improve user experience and monitor traffic patterns. You can disable cookies in your browser settings.</Text>\n\n        <Text style={styles.sectionTitle}>How We Use Your Data</Text>\n        <Text style={styles.paragraph}>We use the data we collect to:</Text>\n        <Text style={styles.listItem}>• Facilitate bookings and transactions between professionals and clients.</Text>\n        <Text style={styles.listItem}>• Verify professional eligibility through background checks.</Text>\n        <Text style={styles.listItem}>• Provide customer support and resolve disputes between users.</Text>\n        <Text style={styles.listItem}>• Improve app functionality through analytics and feedback.</Text>\n        <Text style={styles.listItem}>• Manage communications between professionals and clients.</Text>\n        <Text style={styles.listItem}>• Use health data for internal analysis and marketing purposes. We retain control over how this data is used.</Text>\n\n        <Text style={styles.sectionTitle}>Sharing of Information</Text>\n        <Text style={styles.paragraph}>We may share your data in the following ways:</Text>\n        <Text style={styles.listItem}>• With Other Users: For bookings, we share relevant information between professionals and pet owners.</Text>\n        <Text style={styles.listItem}>• With Third-Party Providers: Payment processors, analytics providers, and background check services may access limited information to perform their services.</Text>\n        <Text style={styles.listItem}>• Legal and Compliance Purposes: We may disclose information if required by law or to protect the safety and security of our users.</Text>\n        <Text style={styles.listItem}>• Business Transfers: In case of a merger, sale, or acquisition, your data may be transferred to a new owner.</Text>\n        <Text style={styles.listItem}>• Aggregated Data: We may share non-identifiable, aggregated data for research or business purposes.</Text>\n\n        <Text style={styles.sectionTitle}>Your Rights and Choices</Text>\n        <Text style={styles.listItem}>• Account Management: You can update or delete your account information through the app settings.</Text>\n        <Text style={styles.listItem}>• Health Data Access: You may review the health data associated with your pets but agree that we control its use.</Text>\n        <Text style={styles.listItem}>• Location Services: Manage your location preferences through your device settings.</Text>\n        <Text style={styles.listItem}>• Cookie Preferences: You can opt out of personalized ads and tracking through your browser settings.</Text>\n\n        <Text style={styles.sectionTitle}>Security and Data Retention</Text>\n        <Text style={styles.paragraph}>\n          We implement reasonable security measures to protect your data, though no system is entirely secure. We retain your data as long as needed for operational purposes or as required by law.\n        </Text>\n\n        <Text style={styles.sectionTitle}>International Data Transfers</Text>\n        <Text style={styles.paragraph}>\n          Your data may be processed or stored in countries outside your own. By using the app, you agree to these transfers, even if those countries have different data protection laws.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Changes to This Privacy Policy</Text>\n        <Text style={styles.paragraph}>\n          We may update this policy from time to time to reflect changes in our practices or services. We will notify you of significant changes through the app or via email. Continued use of the app constitutes acceptance of the revised policy.\n        </Text>\n\n        <Text style={styles.sectionTitle}>Contact Us</Text>\n        <Text style={styles.paragraph}>\n          If you have questions or concerns about this policy, please contact us:\n        </Text>\n        <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n        <Text style={styles.listItem}>Phone: 7195106341</Text>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    width: '100%',\n    maxWidth: 800,\n    alignSelf: 'center',\n  },\n  contentContainer: {\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n});\n\nexport default PrivacyPolicy;\n","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ProfessionalSettings = () => {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Professional Settings</Text>\n      <Text>Manage your professional profile and preferences here.</Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default ProfessionalSettings;","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\n\nconst appName = 'Zen Exotics';\n\nconst TermsOfService = () => {\n  const navigation = useNavigation();\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Terms of Service\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <Text>Terms of Service coming soon. Right now we are in prototype mode, so no data is saved except for email/name if you choose to contact us through this platform, then it is saved for marketing purposes.</Text>\n      \n      <ScrollView \n        style={styles.container}\n        contentContainerStyle={styles.contentContainer}\n      >\n        <Text style={styles.title}>Terms of Service for {appName}</Text>\n\n        <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n        \n        <Text style={styles.paragraph}>\n          Welcome to {appName}! By using our platform, mobile application, or any services offered through our platform (collectively, \"the Service\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, you must discontinue use of the Service immediately.\n        </Text>\n\n        <Text style={styles.sectionTitle}>1. Description of Service</Text>\n        <Text style={styles.paragraph}>\n          {appName} provides an online platform for connecting pet owners with professionals specializing in exotic animals, as well as dogs and cats. Users can book services, communicate with professionals, and manage pet-related services, including payments and reviews.\n        </Text>\n\n        <Text style={styles.sectionTitle}>2. User Accounts</Text>\n        <Text style={styles.paragraph}>\n          To use certain features of the Service, you must create an account. You are responsible for keeping your account information accurate and secure.\n        </Text>\n        <Text style={styles.listItem}>• Eligibility: Users must be at least 18 years old to create an account.</Text>\n        <Text style={styles.listItem}>• Account Security: You are responsible for all activities under your account. Notify us immediately if you suspect unauthorized use.</Text>\n        <Text style={styles.listItem}>• Account Termination: We reserve the right to suspend or terminate accounts at our sole discretion for violations of these Terms.</Text>\n\n        <Text style={styles.sectionTitle}>3. User Conduct and Acceptable Use</Text>\n        <Text style={styles.paragraph}>By using the Service, you agree:</Text>\n        <Text style={styles.listItem}>• To provide accurate and complete information.</Text>\n        <Text style={styles.listItem}>• Not to engage in fraudulent or unlawful activities.</Text>\n        <Text style={styles.listItem}>• Not to use the Service for spam, harassment, or abusive behavior toward other users.</Text>\n        <Text style={styles.listItem}>• To comply with all local, national, and international laws applicable to your activities on the platform.</Text>\n        <Text style={styles.paragraph}>Failure to comply with these rules may result in account suspension or termination.</Text>\n\n        <Text style={styles.sectionTitle}>4. Pet and Health Information</Text>\n        <Text style={styles.paragraph}>\n          You acknowledge that the Service involves the collection and sharing of health-related data for pets. By using the Service, you agree to provide accurate medical information for your animals and grant us permission to use and share this data as outlined in our Privacy Policy.\n        </Text>\n\n        <Text style={styles.sectionTitle}>5. Payment Terms</Text>\n        <Text style={styles.paragraph}>\n          All transactions between pet owners and professionals must be processed through the platform's payment system, powered by Stripe. You agree to the following:\n        </Text>\n        <Text style={styles.listItem}>• Booking Fees: You will be charged the agreed-upon amount at the time of booking.</Text>\n        <Text style={styles.listItem}>• Cancellations and Refunds: Cancellations are subject to our cancellation policy, which may result in partial or no refunds.</Text>\n        <Text style={styles.listItem}>• Payouts to Professionals: Professionals must provide accurate payment information and comply with local tax regulations.</Text>\n\n        <Text style={styles.sectionTitle}>6. Liability and Disclaimer of Warranties</Text>\n        <Text style={styles.paragraph}>\n          You acknowledge that {appName} does not guarantee the quality or safety of services provided by professionals. Our platform only facilitates connections between users.\n        </Text>\n        <Text style={styles.listItem}>• We are not liable for any injury, damage, or loss caused during the provision of pet care services.</Text>\n        <Text style={styles.listItem}>• The Service is provided \"as is\" and \"as available\" without warranties of any kind, express or implied.</Text>\n\n        <Text style={styles.sectionTitle}>7. Dispute Resolution Between Users</Text>\n        <Text style={styles.paragraph}>\n          Disputes between users (e.g., pet owners and professionals) must first be addressed directly between the parties. If no resolution is reached, {appName} may mediate but is not responsible for the outcome.\n        </Text>\n\n        <Text style={styles.sectionTitle}>8. Limitation of Liability</Text>\n        <Text style={styles.paragraph}>In no event shall {appName}, its affiliates, officers, employees, or partners be liable for:</Text>\n        <Text style={styles.listItem}>• Indirect, incidental, or consequential damages arising from the use of the Service.</Text>\n        <Text style={styles.listItem}>• Any claims exceeding the amount you paid through the Service within the last six months.</Text>\n\n        <Text style={styles.sectionTitle}>9. Termination and Suspension</Text>\n        <Text style={styles.paragraph}>We reserve the right to suspend or terminate access to the Service at any time without notice if:</Text>\n        <Text style={styles.listItem}>• You breach these Terms.</Text>\n        <Text style={styles.listItem}>• Your actions jeopardize the safety or security of the platform or other users.</Text>\n\n        <Text style={styles.sectionTitle}>10. Modifications to the Service and Terms</Text>\n        <Text style={styles.paragraph}>\n          We may modify these Terms or the Service at any time. Significant changes will be communicated via email or in-app notifications. Continued use of the Service after changes constitutes acceptance of the revised Terms.\n        </Text>\n\n        <Text style={styles.sectionTitle}>11. Intellectual Property Rights</Text>\n        <Text style={styles.paragraph}>\n          All content, trademarks, and logos on the platform are owned by or licensed to {appName}. You may not copy, modify, or distribute content without express permission.\n        </Text>\n\n        <Text style={styles.sectionTitle}>12. Governing Law and Dispute Resolution</Text>\n        <Text style={styles.paragraph}>\n          These Terms are governed by the laws of El Paso County, Colorado, without regard to conflict of law principles.\n        </Text>\n        <Text style={styles.listItem}>• Arbitration Clause: All disputes arising under these Terms shall be resolved through binding arbitration in Colorado Springs, Colorado.</Text>\n        <Text style={styles.listItem}>• Class Action Waiver: You agree to waive your right to participate in class action lawsuits.</Text>\n\n        <Text style={styles.sectionTitle}>13. Indemnification</Text>\n        <Text style={styles.paragraph}>\n          You agree to indemnify and hold harmless {appName}, its affiliates, officers, and employees from any claims, damages, or liabilities arising from your use of the Service or breach of these Terms.\n        </Text>\n\n        <Text style={styles.sectionTitle}>14. Third-Party Links and Services</Text>\n        <Text style={styles.paragraph}>\n          The platform may contain links to third-party websites or services. {appName} is not responsible for the content or actions of those third parties.\n        </Text>\n\n        <Text style={styles.sectionTitle}>15. Contact Us</Text>\n        <Text style={styles.paragraph}>\n          If you have questions about these Terms, please contact us:\n        </Text>\n        <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n        <Text style={styles.listItem}>Phone: 7195106341</Text>\n\n        <Text style={styles.sectionTitle}>Acknowledgment of Agreement</Text>\n        <Text style={styles.paragraph}>\n          By accessing or using {appName}, you acknowledge that you have read, understood, and agreed to these Terms of Service.\n        </Text>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n  },\n  contentContainer: {\n    paddingBottom: 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n  testSection: {\n    marginBottom: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    padding: 10,\n    borderRadius: 4,\n  },\n});\n\nexport default TermsOfService;\n","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst HelpFAQ = () => {\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Help / FAQ</Text>\n      <Text>Frequently asked questions and help topics go here...</Text>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default HelpFAQ;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\n\nconst ContactUs = () => {\n  const navigation = useNavigation();\n  const { screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const handleSubmit = async () => {\n    if (!name || !email || !message) {\n      setSuccessMessage('Please fill in all fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSuccessMessage('');\n    \n    // Use backend API in production mode\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/contact/`, {\n        name,\n        email,\n        message\n      });\n\n      if (response.status === 200) {\n        setSuccessMessage('Your message has been sent successfully!');\n        setName('');\n        setEmail('');\n        setMessage('');\n      } else {\n        throw new Error('Failed to send message');\n      }\n    } catch (error) {\n      setSuccessMessage(error.response?.data?.error || 'Failed to send message. Please try again later.');\n      console.error(error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Show success message from either Formspree or backend\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader title=\"Contact Us\" onBackPress={() => navigation.navigate('More')} />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView \n      fullWidthHeader={true}\n      contentWidth={maxContentWidth}\n    >\n      <BackHeader \n        title=\"Contact Us\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={styles.container}>\n        <View style={[styles.contentWrapper, { width: contentWidth }]}>\n          <Text style={styles.title}>Contact Us</Text>\n          <Text style={styles.subtitle}>Get in touch with our support team</Text>\n          \n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Name\"\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Email\"\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            style={[styles.input, styles.messageInput]}\n            placeholder=\"Your Message\"\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          {successMessage ? (\n            <Text style={styles.successMessage}>\n              {successMessage}\n            </Text>\n          ) : null}\n          \n          <TouchableOpacity \n            style={[styles.button, isSubmitting && styles.disabledButton]} \n            onPress={handleSubmit}\n            disabled={isSubmitting || (state.submitting)}\n          >\n            <Text style={styles.buttonText}>\n              {isSubmitting || (state.submitting) ? 'Sending...' : 'Send Message'}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 120,\n    textAlignVertical: 'top',\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 10,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  successMessage: {\n    color: theme.colors.success,\n    textAlign: 'center',\n    marginBottom: 10,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n    width: '100%',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n});\n\nexport default ContactUs;\n","import React, { useState, useRef, useEffect, forwardRef, memo } from 'react';\nimport { View, TextInput, StyleSheet, Platform } from 'react-native';\nimport { IconButton, useTheme } from 'react-native-paper';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nconst SearchBar = forwardRef(({ placeholder, onChangeText, initialValue = '', style }, ref) => {\n  const { colors } = useTheme();\n  const [value, setValue] = useState(initialValue);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (initialValue !== value) {\n      setValue(initialValue);\n    }\n  }, [initialValue]);\n\n  const handleChangeText = (text) => {\n    if (text !== value) {\n      setValue(text);\n      onChangeText(text);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style, { backgroundColor: colors.surface }]}>\n      <IconButton\n        icon={() => <MaterialIcons name=\"search\" size={24} color={colors.primary} />}\n        onPress={() => inputRef.current?.focus()}\n      />\n      <TextInput\n        ref={inputRef}\n        style={[styles.input, { color: colors.text }]}\n        placeholder={placeholder}\n        placeholderTextColor={colors.placeholder}\n        value={value}\n        onChangeText={handleChangeText}\n        autoFocus={true}\n        keyboardType=\"default\"\n        returnKeyType=\"search\"\n        blurOnSubmit={false}\n      />\n    </View>\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 25, // Make it circular\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    paddingVertical: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default memo(SearchBar);\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { View, StyleSheet, FlatList, TouchableOpacity, Platform, SafeAreaView, StatusBar, TouchableWithoutFeedback } from 'react-native';\nimport { Chip, Card, Title, Paragraph, Button, Portal, Modal, useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport SearchBar from '../components/SearchBar';\nimport { mockClients } from '../data/mockData';\n\nconst Clients = ({ navigation }) => {\n  const { colors } = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilters, setSelectedFilters] = useState([]);\n  const [tempFilters, setTempFilters] = useState([]);\n  const [isFilterModalVisible, setIsFilterModalVisible] = useState(false);\n  const [clients, setClients] = useState([]);\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      setClients(mockClients);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const filters = [\n    { label: 'Dog Sitting', value: 'Dog' },\n    { label: 'Cat Sitting', value: 'Cat' },\n    { label: 'Exotic Sitting', value: 'Exotic' },\n    { label: 'Last Week', value: 'week' },\n    { label: 'Last Month', value: 'month' },\n    { label: 'Last Year', value: 'year' },\n  ];\n\n  const toggleFilter = useCallback((filter) => {\n    setTempFilters(prevFilters =>\n      prevFilters.includes(filter)\n        ? prevFilters.filter(f => f !== filter)\n        : [...prevFilters, filter]\n    );\n  }, []);\n\n  const applyFilters = useCallback(() => {\n    setSelectedFilters(tempFilters);\n    setIsFilterModalVisible(false);\n  }, [tempFilters]);\n\n  const filteredClients = useMemo(() => {\n    return clients.filter(client => {\n      const matchesSearch = client.name.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesFilters = selectedFilters.length === 0 || selectedFilters.every(filter => {\n        if (['Dog', 'Cat', 'Exotic'].includes(filter)) {\n          return client.pet_types.includes(filter);\n        }\n        const lastBookingDate = new Date(client.last_booking);\n        const currentDate = new Date();\n        switch (filter) {\n          case 'week':\n            const weekAgo = new Date();\n            weekAgo.setDate(currentDate.getDate() - 7);\n            return lastBookingDate >= weekAgo;\n          case 'month':\n            const monthAgo = new Date();\n            monthAgo.setMonth(currentDate.getMonth() - 1);\n            return lastBookingDate >= monthAgo;\n          case 'year':\n            const yearAgo = new Date();\n            yearAgo.setFullYear(currentDate.getFullYear() - 1);\n            return lastBookingDate >= yearAgo;\n          default:\n            return true;\n        }\n      });\n      return matchesSearch && matchesFilters;\n    });\n  }, [clients, searchQuery, selectedFilters]);\n\n  const renderClient = useCallback(({ item }) => (\n    <TouchableOpacity onPress={() => navigation.navigate('ClientHistory', { clientId: item.id })}>\n      <Card style={styles.clientCard}>\n        <Card.Content>\n          <Title>{item.name}</Title>\n          <Paragraph>Last booking: {item.last_booking}</Paragraph>\n          <View style={styles.petTypes}>\n            {item.pet_types.map(pet => (\n              <Chip key={pet} style={styles.petChip}>{pet}</Chip>\n            ))}\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  ), [navigation]);\n\n  const handleSearchChange = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n\n  return Platform.OS === 'web' ? (\n    <View style={styles.container}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </View>\n  ) : (\n    <SafeAreaView style={[styles.container, styles.androidSafeArea]}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidSafeArea: {\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  searchAndFilterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    margin: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  searchBar: {\n    flex: 1,\n    marginRight: 8,\n    marginLeft: Platform.OS === 'web' ? 0 : 8,\n  },\n  filterButton: {\n    minWidth: 80,\n    marginRight: Platform.OS === 'web' ? 0 : 8,\n  },\n  clientList: {\n    padding: 16,\n  },\n  clientCard: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  petTypes: {\n    flexDirection: 'row',\n    marginTop: 8,\n  },\n  petChip: {\n    marginRight: 8,\n  },\n  noClientsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 5,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '90%',\n  },\n  modalTitle: {\n    marginBottom: 10,\n  },\n  filtersContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 20,\n  },\n  filterChip: {\n    margin: 4,\n  },\n  applyButton: {\n    marginTop: 10,\n  },\n  closeButton: {\n    marginTop: 10,\n    alignSelf: 'flex-end',\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    zIndex: 1,\n  },\n});\n\nexport default Clients;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Modal,\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Switch,\n} from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport DatePicker from './DatePicker';\nimport { theme } from '../styles/theme';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nexport const CostCalculationModal = ({\n  visible,\n  onClose,\n  serviceName,\n  additionalRates = [],\n  professionalName = \"Professional\",\n  onContactPress,\n}) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [additionalAnimals, setAdditionalAnimals] = useState(0);\n  const [isHolidayRate, setIsHolidayRate] = useState(false);\n  const [selectedRates, setSelectedRates] = useState({});\n  const [totalCost, setTotalCost] = useState(0);\n  const [platformFees, setPlatformFees] = useState(0);\n\n  const BASE_RATE = 20;\n  const ADDITIONAL_ANIMAL_RATE = 10;\n  const HOLIDAY_RATE = 40;\n  const PLATFORM_FEE_PERCENTAGE = 0.10;\n\n  const calculateTotalCost = () => {\n    // Start with either holiday rate or base rate\n    let subtotal = isHolidayRate ? HOLIDAY_RATE : BASE_RATE;\n    \n    // Add additional animal costs\n    subtotal += additionalAnimals * ADDITIONAL_ANIMAL_RATE;\n    \n    // Add any selected additional rates\n    Object.entries(selectedRates).forEach(([_, rate]) => {\n      if (rate.selected) {\n        subtotal += rate.amount;\n      }\n    });\n\n    setTotalCost(subtotal);\n    setPlatformFees(subtotal * PLATFORM_FEE_PERCENTAGE);\n  };\n\n  useEffect(() => {\n    // Initialize selectedRates object\n    const ratesObj = {};\n    additionalRates.forEach(rate => {\n      ratesObj[rate.title] = { ...rate, selected: false };\n    });\n    setSelectedRates(ratesObj);\n  }, [additionalRates]);\n\n  useEffect(() => {\n    calculateTotalCost();\n  }, [additionalAnimals, isHolidayRate, selectedRates]);\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <TouchableOpacity \n            style={styles.closeIcon} \n            onPress={onClose}\n          >\n            <MaterialIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n\n          <Text style={styles.modalTitle}>{serviceName}</Text>\n          \n          <ScrollView \n            style={styles.scrollContent} \n            showsVerticalScrollIndicator={true}\n            persistentScrollbar={true}\n          >\n            {/* Date Selection\n            <View style={styles.dateSection}>\n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>Start Date:</Text>\n                <DatePicker\n                  value={startDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setStartDate(date);\n                  }}\n                />\n              </View>\n              \n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>End Date:</Text>\n                <DatePicker\n                  value={endDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setEndDate(date);\n                  }}\n                />\n              </View>\n            </View> */}\n\n            {/* Base Rate */}\n            <View style={styles.rateItem}>\n              <Text>Base Rate</Text>\n              <Text>${BASE_RATE}</Text>\n            </View>\n\n            {/* Additional Animals */}\n            <View style={styles.rateItem}>\n              <Text>Additional Animals (${ADDITIONAL_ANIMAL_RATE} each)</Text>\n              <View style={styles.counterContainer}>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(Math.max(0, additionalAnimals - 1))}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"remove\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <Text style={styles.counterText}>{additionalAnimals}</Text>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(additionalAnimals + 1)}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"add\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n\n            {/* Holiday Rate */}\n            <View style={styles.rateItem}>\n              <Text>Holiday Rate (${HOLIDAY_RATE})</Text>\n              <Switch\n                value={isHolidayRate}\n                onValueChange={setIsHolidayRate}\n                trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n              />\n            </View>\n\n            {/* Additional Rates */}\n            {Object.entries(selectedRates).map(([title, rate]) => (\n              <View key={title} style={styles.rateItem}>\n                <Text>{title} (${rate.amount})</Text>\n                <Switch\n                  value={rate.selected}\n                  onValueChange={(value) => {\n                    setSelectedRates({\n                      ...selectedRates,\n                      [title]: { ...rate, selected: value },\n                    });\n                  }}\n                  trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n                />\n              </View>\n            ))}\n\n            {/* Total and Fees */}\n            <View style={styles.totalSection}>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Subtotal:</Text>\n                <Text style={styles.totalAmount}>${totalCost}</Text>\n              </View>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Service Fees (10%):</Text>\n                <Text style={styles.totalAmount}>${platformFees.toFixed(2)}</Text>\n              </View>\n              <View style={[styles.totalItem, styles.finalTotal]}>\n                <Text style={[styles.totalLabel, styles.finalTotalText]}>Total Cost:</Text>\n                <Text style={[styles.totalAmount, styles.finalTotalText]}>${(totalCost + platformFees).toFixed(2)}</Text>\n              </View>\n            </View>\n          </ScrollView>\n\n          <TouchableOpacity \n            style={styles.contactButton} \n            onPress={onContactPress}\n          >\n            <Text style={styles.contactButtonText}>Contact {professionalName}</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 20,\n    paddingRight: 15,\n    width: '90%',\n    maxHeight: '43%',\n    maxWidth: 400,\n  },\n  scrollContent: {\n    flexGrow: 0,\n    marginBottom: 10,\n    paddingRight: 12,\n    marginRight: -7,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center',\n    marginTop: 5,\n    paddingHorizontal: 30,\n  },\n  dateSection: {\n    marginBottom: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  dateColumn: {\n    flex: 1,\n  },\n  dateLabel: {\n    marginBottom: 8,\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.text,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  counterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  counterButton: {\n    padding: 5,\n  },\n  counterText: {\n    marginHorizontal: 10,\n    fontSize: theme.fontSizes.medium,\n  },\n  totalSection: {\n    marginTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 15,\n  },\n  totalItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  finalTotal: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 10,\n    marginTop: 5,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  finalTotalText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  closeButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  closeButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  closeIcon: {\n    position: 'absolute',\n    right: 15,\n    top: 15,\n    zIndex: 1,\n    padding: 5,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  contactButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { CostCalculationModal } from './CostCalculationModal';\nimport { mockConversations, mockMessages, createNewConversation } from '../data/mockData';\n\nexport const ServiceCard = ({ \n  service, \n  onHeartPress, \n  isFavorite, \n  professionalName,\n  professionalId,\n  navigation\n}) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalId\n    );\n\n    if (existingConversation) {\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    } else {\n      // Create new conversation using the helper function\n      const newConversation = createNewConversation(\n        professionalId,\n        professionalName,\n        'current_user_id', // Replace with actual current user ID\n        'Me' // Current user name\n      );\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Navigate directly to MessageHistory\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    }\n    setIsModalVisible(false);\n  };\n\n  return (\n    <View style={styles.serviceCard}>\n      {/* <TouchableOpacity \n        style={styles.heartButton}\n        onPress={() => onHeartPress(service.id)}\n      >\n        <MaterialIcons \n          name={isFavorite ? \"favorite\" : \"favorite-border\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity> */}\n      \n      <View style={styles.contentContainer}>\n        <MaterialCommunityIcons name={service.icon} size={30} color={theme.colors.primary} />\n        <Text numberOfLines={2} style={styles.serviceName}>{service.name}</Text>\n        <Text style={styles.startingPrice}>Starting at ${service.startingPrice}</Text>\n        <View style={styles.animalTypeContainer}>\n          {service.animalTypes.map((type, index) => (\n            <Text key={index} style={styles.animalType}>{type}</Text>\n          ))}\n        </View>\n      </View>\n\n      <TouchableOpacity \n        style={styles.calculateButton}\n        onPress={() => setIsModalVisible(true)}\n      >\n        <Text style={styles.calculateButtonText}>Calculate Cost</Text>\n      </TouchableOpacity>\n\n      <CostCalculationModal\n        visible={isModalVisible}\n        onClose={() => setIsModalVisible(false)}\n        serviceName={service.name}\n        additionalRates={service.additionalRates || []}\n        professionalName={professionalName}\n        professionalId={professionalId}\n        onContactPress={handleContactPress}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 12,\n    marginRight: 12,\n    width: 280,\n    height: 220,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    position: 'relative',\n    justifyContent: 'space-between',\n  },\n  heartButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    zIndex: 1,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: '600',\n    marginTop: 8,\n    marginBottom: 6,\n    fontFamily: theme.fonts.header.fontFamily,\n    flexShrink: 1,\n  },\n  startingPrice: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.secondary,\n    marginBottom: 6,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  animalTypeContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 4,\n    marginBottom: 8,\n  },\n  animalType: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.secondary,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calculateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 'auto',\n  },\n  calculateButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n});\n\nexport default ServiceCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, Modal } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { Calendar } from 'react-native-calendars';\nimport { mockPets } from '../data/mockData';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport ServiceCard from '../components/ServiceCard';\nimport { mockServicesForCards } from '../data/mockData';\nimport { mockConversations, mockMessages } from '../data/mockData';\n// Conditionally import WebMap component\nconst WebMap = Platform.OS === 'web' ? require('react-leaflet').MapContainer : null;\n\n// Mock API function to fetch profile data\nconst fetchProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        // profilePhoto: 'https://example.com/profile-photo.jpg',\n        bio: \"Hi! I'm an experienced pet professional who loves all animals. I have 5 years of experience caring for dogs, cats, and exotic pets.\",\n        petPhotos: [\n          // 'https://example.com/pet-photo-1.jpg',\n          // 'https://example.com/pet-photo-2.jpg',\n        ],\n        services: ['Dog Boarding', 'Dog Walking', 'Drop-In Visits', 'House Sitting'],\n        rates: {\n          boarding: '35',\n          daycare: '25',\n          houseSitting: '40',\n          dropInVisits: '20',\n          dogWalking: '15'\n        },\n        name: 'John Doe',\n        location: 'New York, NY'\n      });\n    }, 1000);\n  });\n};\n\nconst mockReviews = [\n  {\n    id: 1,\n    name: 'Noah M.',\n    service: 'Fish Tank Cleaning',\n    date: 'Dec 02, 2024',\n    rating: 5,\n    text: 'Dina was fantastic with our dog! Sent lots of photos and clearly made sure she was comfortable. Will definitely use again!',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 2,\n    name: 'Kaily J.',\n    service: 'Ferrier',\n    date: 'Nov 26, 2024',\n    rating: 4,\n    text: 'Dina always takes such good care of Elijah. He was having tummy problems today and she kept me updated all day on how he was doing.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 3,\n    name: 'Nadia U.',\n    service: 'Reptile Boarding & Habitat Maintenance',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'She took such great care of our puppy! Sent pictures and videos the whole time, her backyard was super nice and clean ❤️ my puppy was definitely in great hands! Bonus her dogs were so sweet with our puppy.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 4,\n    name: 'Vanessa G.',\n    service: 'Bird Feeding',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'Dina was great! She communicated through the whole stay and sent plenty of videos and photos. 10/10',\n    photo: 'https://via.placeholder.com/50'\n  }\n];\n\nconst useResponsiveLayout = () => {\n  const { width } = useWindowDimensions();\n  const [isWideScreen, setIsWideScreen] = useState(true);\n\n  useEffect(() => {\n    setIsWideScreen(Platform.OS === 'web' && width >= 900);\n  }, [width]);\n\n  return isWideScreen;\n};\n\n// Move this outside the component\nif (Platform.OS === 'web') {\n  const style = document.createElement('style');\n  style.textContent = `\n    .services-scroll::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    .services-scroll::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar:horizontal {\n      height: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid white;\n      background-color: rgba(0, 0, 0, .5);\n    }\n  `;\n  document.head.appendChild(style);\n}\n\nconst ProfessionalProfile = ({ route, navigation }) => {\n  const { width: windowWidth } = useWindowDimensions();\n  const [professionalData, setProfessionalData] = useState(null);\n  const [canGoBack, setCanGoBack] = useState(false);\n  const [bioModalVisible, setBioModalVisible] = useState(false);\n  const [reviewsModalVisible, setReviewsModalVisible] = useState(false);\n  const [specialistModalVisible, setSpecialistModalVisible] = useState(false);\n  const [favoriteServices, setFavoriteServices] = useState([]);\n  const [servicesModalVisible, setServicesModalVisible] = useState(false);\n  const isWideScreen = useResponsiveLayout();\n  const dynamicStyles = {\n    profileSection: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      display: windowWidth >= 600 ? 'flex' : 'block',\n    },\n    profileSectionMobile: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      maxWidth: 500,\n      alignSelf: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    servicesBox: {\n      backgroundColor: theme.colors.surface,\n      padding: 24,\n      paddingTop: 0,\n      borderRadius: 12,\n      marginTop: 24,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 4,\n      elevation: 3,\n      width: '100%',\n      maxWidth: Platform.OS === 'web' ? 600 : undefined,\n      alignSelf: 'center',\n    },\n  };\n\n  useEffect(() => {\n    // Check if we can go back and if SearchProfessionalsListing exists in history\n    const state = navigation.getState();\n    const hasHistory = state.routes.some(route => route.name === 'SearchProfessionalsListing');\n    setCanGoBack(navigation.canGoBack() && hasHistory);\n  }, [navigation]);\n\n  const handleBack = () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.removeItem('currentProfessional');\n      // Always use navigate to ensure consistent behavior\n      navigation.navigate('SearchProfessionalsListing');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  // Handle browser back button\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handlePopState = () => {\n        handleBack();\n      };\n\n      window.addEventListener('popstate', handlePopState);\n      return () => window.removeEventListener('popstate', handlePopState);\n    }\n  }, []);\n\n  useEffect(() => {\n    const loadProfessionalData = async () => {\n      if (route?.params?.professional) {\n        setProfessionalData(route.params.professional);\n      } else if (Platform.OS === 'web') {\n        // Try to get professional data from sessionStorage on web reload\n        const storedProfessional = sessionStorage.getItem('currentProfessional');\n        if (storedProfessional) {\n          setProfessionalData(JSON.parse(storedProfessional));\n        } else {\n          // If no data, redirect back to search\n          navigation.replace('SearchProfessionalsListing');\n        }\n      }\n    };\n\n    loadProfessionalData();\n  }, [route?.params?.professional]);\n\n  // Store professional data in AsyncStorage for mobile\n  useEffect(() => {\n    if (Platform.OS !== 'web' && professionalData) {\n      AsyncStorage.setItem('currentProfessional', JSON.stringify(professionalData));\n    }\n  }, [professionalData]);\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return Math.min(1000, windowWidth - 32); // 32px for padding\n    }\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const toggleFavorite = (serviceId) => {\n    setFavoriteServices(prev => \n      prev.includes(serviceId) \n        ? prev.filter(id => id !== serviceId)\n        : [...prev, serviceId]\n    );\n  };\n\n  const renderServices = () => (\n    <View style={styles.servicesSection}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>Services</Text>\n        <TouchableOpacity \n          style={styles.seeAllButton}\n          onPress={() => setServicesModalVisible(true)}\n        >\n          <Text style={styles.seeAllButtonText}>See All</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.servicesWrapper}>\n        <ScrollView \n          horizontal\n          showsHorizontalScrollIndicator={true}\n          style={[\n            styles.servicesScroll,\n            Platform.OS === 'web' && { \n              className: 'services-scroll',\n              overflowX: 'scroll'\n            }\n          ]}\n          contentContainerStyle={styles.servicesScrollContent}\n          persistentScrollbar={true}\n        >\n          {mockServicesForCards.slice(0, 5).map(service => (\n            <ServiceCard \n              key={service.id}\n              service={service}\n              onHeartPress={toggleFavorite}\n              isFavorite={favoriteServices.includes(service.id)}\n              professionalName={professionalData.name}\n              professionalId={professionalData.id}\n              navigation={navigation}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    </View>\n  );\n\n  if (!professionalData) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Professional Profile\" \n          onBackPress={handleBack}\n        />\n        <View style={styles.centered}>\n          <Text>Loading...</Text>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  const renderProfilePhoto = () => {\n    if (professionalData.profilePicture) {\n      return <Image source={{ uri: professionalData.profilePicture }} style={styles.profilePhoto} />;\n    }\n    return (\n      <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n        <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n      </View>\n    );\n  };\n\n  const renderSpecialistExperience = () => (\n    <View style={styles.specialistSection}>\n      <Text style={styles.sectionTitle}>Specialist Experience</Text>\n      <TruncatedText text={professionalData?.bio || ''} />\n    </View>\n  );\n\n  const renderRatingStars = () => (\n    <View style={styles.ratingContainer}>\n      <MaterialCommunityIcons name=\"star\" size={24} color={theme.colors.primary} />\n      <Text style={styles.rating}>{professionalData.reviews}</Text>\n      <Text style={[styles.reviewCount, { marginLeft: 12 }]}>({professionalData.reviewCount || 50} reviews)</Text>\n    </View>\n  );\n\n  // Add new component for truncated text with Read More\n  const TruncatedText = ({ text, maxLines = 3 }) => (\n    <View>\n      <Text \n        numberOfLines={maxLines} \n        style={styles.specialistText}\n      >\n        {text}\n      </Text>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setSpecialistModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderMap = () => {\n    if (Platform.OS === 'web' && WebMap) {\n      const { MapContainer, TileLayer, Marker } = require('react-leaflet');\n      return (\n        <View style={styles.mapContainer}>\n          <MapContainer\n            center={[38.8339, -104.8214]} // Default coordinates\n            zoom={13}\n            style={{ height: 400, width: '100%' }}\n          >\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            <Marker position={[38.8339, -104.8214]} />\n          </MapContainer>\n        </View>\n      );\n    }\n    // For mobile, return null or a placeholder\n    return null;\n  };\n\n  const renderPets = () => {\n    if (!mockPets || mockPets.length === 0) return null;\n    \n    return (\n      <View style={styles.petsSection}>\n        <Text style={styles.sectionTitle}>Pets</Text>\n        {mockPets.map((pet, index) => (\n          <View key={pet.id} style={styles.petItem}>\n            <View style={styles.petPhoto}>\n              <MaterialCommunityIcons \n                name={pet.animal_type.toLowerCase() === 'dog' ? 'dog' : \n                      pet.animal_type.toLowerCase() === 'cat' ? 'cat' : 'snake'} \n                size={30} \n                color={theme.colors.primary} \n              />\n            </View>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petBreed}>{pet.breed}</Text>\n              <Text style={styles.petDetails}>\n                {`${pet.weight} lbs, ${pet.age.years} years${pet.age.months ? ` ${pet.age.months} months` : ''}`}\n              </Text>\n            </View>\n          </View>\n        ))}\n      </View>\n    );\n  };\n\n  const styles2 = StyleSheet.create({\n    modalContent: {\n      backgroundColor: theme.colors.background,\n      padding: 24,\n      borderRadius: 12,\n      width: Platform.OS === 'web' ? \n        (windowWidth <= 650 ? '90%' : '60%') : \n        '90%',\n      maxWidth: 800,\n      maxHeight: '90%',\n    },\n  });\n\n  // Create services array from professionalData\n  const services = [\n    { name: 'Boarding', price: \"25\" },\n    { name: 'Doggy Day Care', price: \"30\" },\n    { name: 'House Sitting', price: \"40\" },\n    { name: 'Drop-In Visits', price: \"35\" },\n    { name: 'Dog Walking', price: \"45\" }\n  ];\n\n  const HomeFeature = ({ text }) => (\n    <View style={styles.featureBubble}>\n      <Text style={styles.featureText}>{text}</Text>\n    </View>\n  );\n\n  const renderReviews = () => (\n    <View style={styles.reviewsSection}>\n      <Text style={styles.sectionTitle}>Reviews</Text>\n      <View style={styles.reviewsGrid}>\n        {mockReviews.slice(0, 4).map(renderReview)}\n      </View>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setReviewsModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more reviews</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderReview = (review) => (\n    <View key={review.id} style={styles.reviewItem}>\n      <View style={styles.reviewHeader}>\n        <Image source={{ uri: review.photo }} style={styles.reviewerPhoto} />\n        <View style={styles.reviewerInfo}>\n          <Text style={styles.reviewerName}>{review.name}</Text>\n          <View style={styles.reviewMeta}>\n            <View style={styles.starContainer}>\n              {[...Array(5)].map((_, index) => (\n                <MaterialCommunityIcons\n                  key={index}\n                  name={index < review.rating ? \"star\" : \"star-outline\"}\n                  size={16}\n                  color={theme.colors.primary}\n                />\n              ))}\n            </View>\n            <View style={styles.serviceInfo}>\n              <MaterialCommunityIcons name=\"home\" size={16} color={theme.colors.secondary} />\n              <Text style={styles.serviceText}>{review.service} • {review.date}</Text>\n            </View>\n          </View>\n        </View>\n      </View>\n      <Text style={styles.reviewText}>{review.text}</Text>\n    </View>\n  );\n\n  const renderHomeSection = () => (\n    <View style={styles.homeSection}>\n      <Text style={styles.sectionTitle}>Home</Text>\n      <View style={styles.homeFeaturesGrid}>\n        <HomeFeature text=\"No children present\" />\n        <HomeFeature text=\"Has security system\" />\n        <HomeFeature text=\"Non-smoking household\" />\n        <HomeFeature text=\"Has 2 dogs\" />\n        <HomeFeature text=\"Dogs allowed on bed\" />\n        <HomeFeature text=\"Dogs allowed on furniture\" />\n        <HomeFeature text=\"Potty breaks every 0-2 hours\" />\n      </View>\n    </View>\n\n  );\n\n  const renderAboutSection = () => (\n    <View style={styles.aboutSection}>\n      <Text style={styles.sectionTitle}>About {professionalData.name}</Text>\n      <View style={styles.aboutSubsections}>\n        <View style={styles.communicationSection}>\n          <Text style={styles.subsectionTitle}>Communication</Text>\n          <Text>22 repeat pet parents</Text>\n          <Text>100% response rate</Text>\n          <Text>Usually responds in a few minutes</Text>\n          <Text>90% bookings with photo updates</Text>\n        </View>\n        <View style={styles.skillsSection}>\n          <Text style={styles.subsectionTitle}>Skills</Text>\n          <Text>3 years of experience</Text>\n        </View>\n      </View> \n    </View>\n  );\n\n  const renderAvailability = () => (\n    <View style={dynamicStyles.servicesBox}>\n      <View style={styles.calendarSection}>\n        <Text style={[styles.sectionTitle, { marginBottom: 0 }]}>Availability</Text>\n        <Calendar\n          style={styles.calendar}\n          theme={{\n            calendarBackground: theme.colors.surface,\n            selectedDayBackgroundColor: theme.colors.primary,\n            selectedDayTextColor: '#ffffff',\n            todayTextColor: theme.colors.primary,\n          }}\n        />\n      </View>\n    </View>\n  );\n\n  const renderGallery = () => {\n    return (\n      <View style={styles.gallerySection}>\n        <Text style={styles.sectionTitle}>53 Photos</Text>\n        <View style={styles.photoGrid}>\n          {[1, 2, 3, 4].map((_, index) => (\n            <Image \n              key={index}\n              source={{ uri: 'https://via.placeholder.com/150' }}\n              style={styles.galleryPhoto}\n                      />\n          ))}\n        </View>\n      </View>\n    );\n  };\n\n  const additionalStyles = StyleSheet.create({\n    servicesSection: {\n      marginBottom: 24,\n    },\n    sectionHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 16,\n    },\n    seeAllButton: {\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 8,\n      alignSelf: 'flex-start',\n      minWidth: 'auto',\n      width: 'auto',\n    },\n    seeAllButtonText: {\n      color: theme.colors.primary,\n      fontSize: 16,\n      fontWeight: '600',\n      textAlign: 'center',\n    },\n    servicesScroll: {\n      marginHorizontal: -24, // To counteract parent padding\n      paddingHorizontal: 24,\n    },\n    modalServicesGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: 16,\n      justifyContent: 'center',\n      padding: 16,\n    },\n  });\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalData.id\n    );\n\n    if (existingConversation) {\n      // Use replace instead of navigate to avoid navigation stack issues\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id\n      });\n    } else {\n      // Create new conversation\n      const newConversation = {\n        id: `conv_${Date.now()}`,\n        name: professionalData.name,\n        professionalId: professionalData.id,\n        lastMessage: '',\n        timestamp: new Date().toISOString(),\n        unread: false,\n        bookingStatus: null\n      };\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Use replace instead of navigate\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id\n      });\n    }\n  };\n\n  // Add this new function to render profile section based on screen size\n  const renderProfileSection = () => {\n    if (windowWidth >= 600) {\n      // Web version - original layout\n      return (\n        <View style={[styles.leftColumn, !isWideScreen && styles.leftColumnMobile]}>\n          <View style={[styles.profileSection, !isWideScreen && styles.profileSectionMobile]}>\n            {renderProfilePhoto()}\n            <Text style={styles.name}>{professionalData.name}</Text>\n            <Text style={styles.location}>{professionalData.location}</Text>\n            {renderRatingStars()}\n            <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n              <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n            </TouchableOpacity>\n          </View>\n          {isWideScreen && renderAvailability()}\n          {isWideScreen && renderMap()}\n          {isWideScreen && mockPets && mockPets.length > 0 && renderPets()}\n        </View>\n      );\n    } else {\n      // Mobile version - fixed layout\n      return (\n        <View style={[dynamicStyles.profileSection, dynamicStyles.profileSectionMobile]}>\n          {renderProfilePhoto()}\n          <Text style={styles.name}>{professionalData.name}</Text>\n          <Text style={styles.location}>{professionalData.location}</Text>\n          {renderRatingStars()}\n          <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n            <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth=\"1200px\">\n      <BackHeader \n        title=\"Professional Profile\" \n        onBackPress={handleBack}\n      />\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={[styles.twoColumnLayout, !isWideScreen && styles.singleColumnLayout]}>\n            {renderProfileSection()}\n            <View style={styles.rightColumn}>\n              {renderGallery()}\n              {renderServices()}\n              {!isWideScreen && renderAvailability()}\n              {renderSpecialistExperience()}\n              {renderReviews()}\n              {renderHomeSection()}\n              {!isWideScreen && renderMap()}\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n\n      {/* Bio Modal */}\n      <Modal\n        visible={bioModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setBioModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <Text style={styles.bioText}>{professionalData.bio}</Text>\n            <TouchableOpacity \n              style={styles.closeButton}\n              onPress={() => setBioModalVisible(false)}\n            >\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Reviews Modal */}\n      <Modal\n        visible={reviewsModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setReviewsModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Reviews</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setReviewsModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              {mockReviews.map((review) => (\n                <View key={review.id} style={styles.modalReviewItem}>\n                  {renderReview(review)}\n                </View>\n              ))}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Specialist Experience Modal */}\n      <Modal\n        visible={specialistModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setSpecialistModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Specialist Experience</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setSpecialistModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <Text style={styles.bioText}>{professionalData?.bio}</Text>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Services Modal */}\n      <Modal\n        visible={servicesModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setServicesModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Services</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setServicesModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <View style={styles.modalServicesGrid}>\n                {mockServicesForCards.map(service => (\n                  <ServiceCard \n                    key={service.id}\n                    service={service}\n                    onHeartPress={toggleFavorite}\n                    isFavorite={favoriteServices.includes(service.id)}\n                    professionalName={professionalData.name}\n                    professionalId={professionalData.id}\n                    navigation={navigation}\n                  />\n                ))}\n              </View>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: 'auto',\n  },\n  content: {\n    alignSelf: 'center',\n    padding: 24,\n  },\n  topSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n    marginBottom: 24,\n  },\n  gallerySection: {\n    maxHeight: 400,\n    overflow: 'hidden',\n    marginBottom: 24,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    maxHeight: 320,\n    overflow: 'auto',\n  },\n  bottomSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  servicesSection: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    backgroundColor: theme.colors.background,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  aboutSection: {\n    maxHeight: 300,\n    overflow: 'auto',\n    marginBottom: 24,\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n  },\n  profileHeader: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  profileInfo: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  hostingSection: {\n    marginTop: 24,\n  },\n  hostTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  weightRanges: {\n    gap: 8,\n  },\n  weightRange: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  galleryPhoto: {\n    width: Platform.OS === 'web' ? 100 : 50,\n    height: Platform.OS === 'web' ? 100 : 50,\n    borderRadius: 8,\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    marginBottom: 16,\n    alignSelf: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 4,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    marginBottom: 8,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  service: {\n    fontSize: 16,\n    marginBottom: 5,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  rateLabel: {\n    flex: 1,\n    fontSize: 16,\n  },\n  rateInput: {\n    flex: 1,\n    backgroundColor: theme.colors.surface,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addPhotoButton: {\n    width: 100,\n    height: 100,\n    margin: 5,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  ratingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  rating: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginLeft: 5,\n  },\n  reviewCount: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginLeft: 4,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignSelf: 'center',\n  },\n  contactButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    textAlign: 'center',\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  statItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 10,\n  },\n  statText: {\n    fontSize: 16,\n    marginLeft: 5,\n  },\n  bioText: {\n    fontSize: 18,\n    lineHeight: 28,\n    color: theme.colors.text,\n    overflow: 'hidden',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  serviceText: {\n    fontSize: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  servicePrice: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  skillsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  skillBadge: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    margin: 5,\n  },\n  skillText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  photoGallery: {\n    flexDirection: 'row',\n  },\n  calculatorText: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRatesButton: {\n    marginTop: 16,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    backgroundColor: theme.colors.surface,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  additionalRatesText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calendarSection: {\n    marginTop: 24,\n  },\n  readMoreButton: {\n    marginTop: 8,\n  },\n  readMoreText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewsSection: {\n    marginVertical: 32,\n    width: '100%',\n    backgroundColor: theme.colors.background,\n  },\n  reviewItem: {\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    maxWidth: Platform.OS === 'web' ? 600 : undefined,\n  },\n  servicesSection: {\n    backgroundColor: theme.colors.surface,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginBottom: 24,\n  },\n  mapContainer: {\n    height: 400,\n    width: '100%',\n    marginVertical: 24,\n  },\n  map: {\n    flex: 1,\n  },\n  petsSection: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  petItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    padding: 12,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  petInfo: {\n    marginLeft: 12,\n    flex: 1,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 2,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petBreed: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginBottom: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  aboutSubsections: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  communicationSection: {\n    flex: 1,\n  },\n  skillsSection: {\n    flex: 1,\n  },\n  homeDetails: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n  },\n  noReviews: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontStyle: 'italic',\n    textAlign: 'center',\n    marginTop: 16,\n  },\n  twoColumnLayout: {\n    flexDirection: 'row',\n    gap: 24,\n  },\n  singleColumnLayout: {\n    flexDirection: 'column',\n  },\n  leftColumn: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    maxWidth: Platform.OS === 'web' ? 400 : undefined,\n  },\n  rightColumn: {\n    flex: Platform.OS === 'web' ? 2 : undefined,\n  },\n  calendar: {\n    height: 300,\n    marginTop: 16,\n  },\n  serviceText: {\n    fontSize: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '100',\n  },\n  homeFeaturesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    marginTop: 16,\n  },\n  featureBubble: {\n    backgroundColor: theme.colors.surface,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  featureText: {\n    fontSize: 14,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewItem: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  reviewHeader: {\n    flexDirection: 'row',\n    marginBottom: 12,\n  },\n  reviewerPhoto: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  reviewerInfo: {\n    flex: 1,\n  },\n  reviewerName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  reviewText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalScroll: {\n    maxHeight: Platform.OS === 'web' ? '70vh' : '80%',\n  },\n  closeButton: {\n    marginTop: 16,\n    alignItems: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 8,\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalCloseIcon: {\n    padding: 8,\n  },\n  modalScrollContent: {\n    paddingBottom: 24,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: Platform.OS === 'web' ? 40 : 20,\n  },\n  reviewsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    marginTop: 16,\n  },\n  reviewItem: {\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    flex: 1,\n    minWidth: Platform.OS === 'web' ? 300 : '100%',\n    // maxWidth: Platform.OS === 'web' ? 'calc(50% - 8px)' : undefined,\n    marginBottom: 0, // Remove default margin since we're using gap\n  },\n  specialistSection: {\n    marginTop: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  specialistText: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalReviewItem: {\n    marginBottom: 16,\n    width: '100%',\n  },\n  leftColumnMobile: {\n    maxWidth: '100%',\n    alignItems: 'center',\n  },\n  seeAllButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8,\n    alignSelf: 'flex-start',\n    minWidth: 'auto',\n    width: 'auto',\n  },\n  seeAllButtonText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalServicesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    justifyContent: 'center',\n    padding: 16,\n  },\n  reviewMeta: {\n    gap: 4,\n  },\n  starContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n});\n\nexport default ProfessionalProfile;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst ContractList = () => {\n  const [contracts, setContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchContracts();\n  }, []);\n\n  const fetchContracts = async () => {\n    setLoading(true);\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setContracts(response.data);\n    } catch (error) {\n      console.error('Error fetching contracts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Contracts</Text>\n      {contracts.length === 0 ? (\n        <Text style={styles.noContractsText}>No contracts yet</Text>\n      ) : (\n        contracts.map((contract) => (\n          <View key={contract.id} style={styles.card}>\n            <Text style={styles.contractTitle}>{contract.title}</Text>\n            <Text style={styles.clientName}>Client: {contract.client_name}</Text>\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Share</Text>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Edit</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        ))\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 50,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  noContractsText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  contractTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractList;\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, Modal, Platform, StyleSheet } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst ClientPicker = ({ clients, selectedClient, onSelectClient }) => {\n  const [showClientPicker, setShowClientPicker] = useState(false);\n\n  if (Platform.OS === 'web') {\n    return (\n      <Picker\n        selectedValue={selectedClient}\n        onValueChange={(itemValue) => onSelectClient(itemValue)}\n        style={styles.picker}\n      >\n        <Picker.Item label=\"Select a client...\" value=\"\" />\n        {clients.map(client => (\n          <Picker.Item key={client.id} label={client.name} value={client.name} />\n        ))}\n      </Picker>\n    );\n  } else {\n    return (\n      <View>\n        <TouchableOpacity\n          style={styles.dropdownButton}\n          onPress={() => setShowClientPicker(true)}\n        >\n          <Text style={styles.dropdownButtonText}>\n            {selectedClient || \"Select a client...\"}\n          </Text>\n          <MaterialCommunityIcons \n            name=\"chevron-down\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Modal\n          visible={showClientPicker}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setShowClientPicker(false)}\n        >\n          <View style={styles.pickerModalContainer}>\n            <View style={styles.pickerContainer}>\n              <Picker\n                selectedValue={selectedClient}\n                onValueChange={(itemValue) => {\n                  onSelectClient(itemValue);\n                  setShowClientPicker(false);\n                }}\n                style={styles.modalPicker}\n              >\n                <Picker.Item label=\"Select a client...\" value=\"\" />\n                {clients.map(client => (\n                  <Picker.Item key={client.id} label={client.name} value={client.name} />\n                ))}\n              </Picker>\n            </View>\n            <TouchableOpacity\n              style={styles.pickerCloseButton}\n              onPress={() => setShowClientPicker(false)}\n            >\n              <Text style={styles.pickerCloseButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </Modal>\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n    width: '90%',\n  },\n  modalPicker: {\n    width: '90%',\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ClientPicker;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, TextInput, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\nimport ClientPicker from './ClientPicker'; // Import the new component\n\nconst ContractTemplate = ({ templates }) => {\n  const [isTemplateModalVisible, setTemplateModalVisible] = useState(false);\n  const [isEditModalVisible, setEditModalVisible] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [contractContent, setContractContent] = useState('');\n  const [clients, setClients] = useState([]);\n  const [selectedClient, setSelectedClient] = useState('');\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/clients/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setClients(response.data);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const handleTemplateSelect = (template) => {\n    setSelectedTemplate(template);\n    setContractContent(template.description);\n    setTemplateModalVisible(false);\n    setEditModalVisible(true);\n  };\n\n  const handleAddSignableField = () => {\n    setContractContent((prevContent) => `${prevContent}\\n[signable] ___________ [end signable]`);\n  };\n\n  const handleSubmitContract = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.post(\n        `${API_BASE_URL}/api/contracts/`,\n        {\n          template: selectedTemplate.id,\n          content: contractContent,\n          client: selectedClient,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log('Contract submitted:', response.data);\n      setEditModalVisible(false);\n    } catch (error) {\n      console.error('Error submitting contract:', error);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Create New Contract</Text>\n      <TouchableOpacity style={styles.button} onPress={() => setTemplateModalVisible(true)}>\n        <Text style={styles.buttonText}>Use Template</Text>\n      </TouchableOpacity>\n\n      {/* Template Selection Modal */}\n      <Modal\n        visible={isTemplateModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setTemplateModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Select a Template</Text>\n            <ScrollView contentContainerStyle={styles.templateGrid}>\n              {templates.length === 0 ? (\n                <Text style={styles.noTemplatesText}>No templates yet</Text>\n              ) : (\n                templates.map((template) => (\n                  <TouchableOpacity\n                    key={template.id}\n                    style={styles.templateBox}\n                    onPress={() => handleTemplateSelect(template)}\n                  >\n                    <Text style={styles.templateTitle}>{template.title}</Text>\n                  </TouchableOpacity>\n                ))\n              )}\n            </ScrollView>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setTemplateModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Edit Contract Modal */}\n      <Modal\n        visible={isEditModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setEditModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Edit Contract</Text>\n            <View style={styles.clientPickerContainer}>\n              <Text style={styles.sectionTitle}>Select a Client</Text>\n              <ClientPicker\n                clients={clients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n            </View>\n            <TextInput\n              style={styles.textArea}\n              placeholder=\"Contract Content\"\n              value={contractContent}\n              onChangeText={setContractContent}\n              multiline\n            />\n            <TouchableOpacity style={styles.button} onPress={handleAddSignableField}>\n              <Text style={styles.buttonText}>Add Signable Field</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button} onPress={handleSubmitContract}>\n              <Text style={styles.buttonText}>Submit Contract</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setEditModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  noTemplatesText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  textArea: {\n    width: '100%',\n    height: 100,\n    padding: 10,\n    borderColor: theme.colors.primary,\n    borderWidth: 1,\n    borderRadius: 5,\n    marginBottom: 10,\n    textAlignVertical: 'top',\n  },\n  clientPickerContainer: {\n    width: '100%', // Ensure the client picker container takes full width\n    marginBottom: 10,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractTemplate;\n","import React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ChronicleSummary = ({ chronicles }) => {\n  if (!chronicles || chronicles.length === 0) {\n    return (\n      <View style={styles.emptyContainer}>\n        <Text style={styles.emptyText}>No chronicles yet</Text>\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Chronicles</Text>\n      {chronicles.map((chronicle) => (\n        <View key={chronicle.id} style={styles.card}>\n          <Text style={styles.chronicleTitle}>{chronicle.title}</Text>\n          <Text style={styles.clientName}>Client: {chronicle.client}</Text>\n          <Text style={styles.petName}>Pet: {chronicle.pets.join(', ')}</Text>\n          <Text style={styles.summary}>{chronicle.summary}</Text>\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Edit</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Send to Client</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      ))}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    marginTop: 16,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  chronicleTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  petName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 2,\n  },\n  summary: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ChronicleSummary;\n","import React, { useState, useRef, useLayoutEffect } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, ScrollView, StyleSheet, Platform, Modal, Dimensions } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst QuestionInput = ({ value, onChange }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const inputRef = useRef(null);\n\n  const [layout, setLayout] = useState(null);\n\nconst handleLayout = (event) => {\n  const { x, y, width, height } = event.nativeEvent.layout;\n    setLayout({ x, y, width, height });\n  };\n\n  const presetQuestions = [\n    \"What is your favorite animal?\",\n    \"How many pets do you have?\",\n    \"What's your experience with exotic pets?\",\n    \"Do you have any allergies to animals?\",\n    \"What type of exotic pet are you interested in?\",\n    \"Have you owned an exotic pet before?\",\n    \"Are you familiar with the care requirements for exotic pets?\",\n    \"Do you have a veterinarian experienced with exotic animals?\",\n    \"What's your living situation? (House, apartment, etc.)\",\n    \"Are there any local regulations about exotic pet ownership in your area?\",\n  ];\n\n  const handleChange = (text) => {\n    onChange(text);\n  };\n\n  useLayoutEffect(() => {\n    if (showDropdown && inputRef.current) {\n      inputRef.current.measure((fx, fy, width, height, px, py) => {\n        if (!isNaN(py) && !isNaN(height)) {\n          const newTop = py + height;\n          const newLeft = px;\n          const newWidth = width;\n            \n          setDropdownPosition({ top: newTop, left: newLeft, width: newWidth });\n        }\n      });\n    }\n\n    // Lock/unlock scrolling\n    if (Platform.OS === 'web') {\n      document.body.style.overflow = showDropdown ? 'hidden' : 'auto';\n    }\n\n    return () => {\n      if (Platform.OS === 'web') {\n        document.body.style.overflow = 'auto';\n      }\n    };\n  }, [showDropdown, layout]);\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  return (\n    <View style={styles.outerContainer}>\n      <View style={styles.container}>\n        <View style={styles.inputContainer} ref={inputRef} onLayout={handleLayout}>\n          <TextInput\n            style={styles.input}\n            value={value}\n            onChangeText={handleChange}\n            placeholder=\"Enter or select a question\"\n            multiline\n          />\n          <TouchableOpacity \n            style={styles.dropdownButton}\n            onPress={toggleDropdown}\n          >\n            <MaterialCommunityIcons \n              name={showDropdown ? \"chevron-up\" : \"chevron-down\"} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <Modal\n          visible={showDropdown}\n          transparent={true}\n          animationType=\"none\"\n          onRequestClose={toggleDropdown}\n        >\n          <TouchableOpacity\n            style={styles.modalOverlay}\n            activeOpacity={1}\n            onPress={toggleDropdown}\n          >\n            <View style={[styles.dropdownContainer, { top: dropdownPosition.top, left: dropdownPosition.left, width: dropdownPosition.width }]}>\n              <ScrollView style={styles.dropdownList}>\n                {presetQuestions.map((q, i) => (\n                  <TouchableOpacity\n                    key={i}\n                    style={styles.dropdownItem}\n                    onPress={() => {\n                      handleChange(q);\n                      toggleDropdown();\n                    }}\n                  >\n                    <Text style={styles.dropdownItemText}>{q}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            </View>\n          </TouchableOpacity>\n        </Modal>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  outerContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  container: {\n    width: SCREEN_WIDTH - 80, // Match the answer input width\n    maxWidth: 600,\n    alignItems: 'center',\n  },\n  inputContainer: {\n    width: '100%',\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    minHeight: 60,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    padding: 4,\n  },\n  modalOverlay: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.background,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    maxHeight: 200,\n    zIndex: 1000, // Ensure it appears on top\n    ...Platform.select({\n      web: {\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      },\n      default: {\n        elevation: 4,\n      },\n    }),\n  },\n  dropdownList: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default QuestionInput;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, ScrollView, Modal, Platform, Dimensions, Image, ActivityIndicator, Pressable } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport * as ImagePicker from 'expo-image-picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport QuestionInput from './QuestionInput';\nimport ClientPicker from './ClientPicker';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst ChronicleForm = ({ onCreateChronicle }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedClient, setSelectedClient] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [questions, setQuestions] = useState([{ question: '', answer: '', isPreset: true }]);\n  const [summary, setSummary] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [showClientPicker, setShowClientPicker] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n\n  const mockClients = [\n    { id: '1', name: 'John Doe', pets: [{ id: '1', name: 'Max' }, { id: '2', name: 'Bella' }] },\n    { id: '2', name: 'Jane Smith', pets: [{ id: '3', name: 'Luna' }, { id: '4', name: 'Charlie' }] }\n  ];\n\n  const pickImages = async () => {\n    try {\n      setIsUploading(true);\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n      });\n\n      if (!result.canceled) {\n        setPhotos([...photos, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error uploading images:', error);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index] = { ...newQuestions[index], [field]: value };\n    setQuestions(newQuestions);\n  };\n\n  const handleCreateChronicle = () => {\n    setIsCreating(true);\n    const newChronicle = {\n      id: Date.now(),\n      client: selectedClient,\n      pets: selectedPets,\n      summary,\n      questions,\n      photos,\n      title: `Chronicle for ${selectedClient}`,\n    };\n\n    setTimeout(() => {\n      console.log('Sending data to backend:', newChronicle);\n      onCreateChronicle(newChronicle);\n      setIsCreating(false);\n      setModalVisible(false);\n      resetForm();\n    }, 2000);\n  };\n\n  const resetForm = () => {\n    setSelectedClient('');\n    setSelectedPets([]);\n    setSummary('');\n    setQuestions([{ question: '', answer: '' }]);\n    setPhotos([]);\n  };\n\n  const addNewQuestion = () => {\n    setQuestions([...questions, { question: '', answer: '', isPreset: false }]);\n  };\n\n  const renderClientSelection = () => {\n    if (Platform.OS === 'web') {\n      return (\n        <Picker\n          selectedValue={selectedClient}\n          onValueChange={(itemValue) => setSelectedClient(itemValue)}\n          style={styles.picker}\n        >\n          <Picker.Item label=\"Select a client...\" value=\"\" />\n          {mockClients.map(client => (\n            <Picker.Item key={client.id} label={client.name} value={client.name} />\n          ))}\n        </Picker>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity\n            style={styles.dropdownButton}\n            onPress={() => setShowClientPicker(true)}\n          >\n            <Text style={styles.dropdownButtonText}>\n              {selectedClient || \"Select a client...\"}\n            </Text>\n            <MaterialCommunityIcons \n              name=\"chevron-down\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n          <Modal\n            visible={showClientPicker}\n            transparent={true}\n            animationType=\"slide\"\n          >\n            <View style={styles.pickerModalContainer}>\n              <View style={styles.pickerContainer}>\n                <Picker\n                  selectedValue={selectedClient}\n                  onValueChange={(itemValue) => {\n                    setSelectedClient(itemValue);\n                    setShowClientPicker(false);\n                  }}\n                >\n                  <Picker.Item label=\"Select a client...\" value=\"\" />\n                  {mockClients.map(client => (\n                    <Picker.Item key={client.id} label={client.name} value={client.name} />\n                  ))}\n                </Picker>\n              </View>\n              <TouchableOpacity\n                style={styles.pickerCloseButton}\n                onPress={() => setShowClientPicker(false)}\n              >\n                <Text style={styles.pickerCloseButtonText}>Close</Text>\n              </TouchableOpacity>\n            </View>\n          </Modal>\n        </View>\n      );\n    }\n  };\n\n  const PhotoPreview = ({ photo }) => (\n    <View style={styles.photoContainer}>\n      <Image source={{ uri: photo.uri }} style={styles.photo} />\n    </View>\n  );\n\n  return (\n    <View>\n      <TouchableOpacity style={styles.createButton} onPress={() => setModalVisible(true)}>\n        <Text style={styles.createButtonText}>Create New Chronicle</Text>\n      </TouchableOpacity>\n\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={[styles.modalContent, Platform.OS === 'web' && styles.webModalContent]}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Create New Chronicle</Text>\n              <TouchableOpacity onPress={() => setModalVisible(false)}>\n                <Text style={styles.closeButtonText}>✕</Text>\n              </TouchableOpacity>\n            </View>\n\n            <ScrollView>\n              <Text style={styles.label}>Select Client</Text>\n              <ClientPicker\n                clients={mockClients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n\n              <Text style={styles.label}>Select Pets</Text>\n              {selectedClient && mockClients.find(c => c.name === selectedClient)?.pets.map(pet => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={[\n                    styles.petOption,\n                    selectedPets.includes(pet.name) && styles.selectedPet\n                  ]}\n                  onPress={() => {\n                    if (selectedPets.includes(pet.name)) {\n                      setSelectedPets(selectedPets.filter(p => p !== pet.name));\n                    } else {\n                      setSelectedPets([...selectedPets, pet.name]);\n                    }\n                  }}\n                >\n                  <Text style={styles.petOptionText}>{pet.name}</Text>\n                </TouchableOpacity>\n              ))}\n\n              <Text style={styles.label}>Summary</Text>\n              <TextInput\n                style={styles.summaryInput}\n                multiline\n                value={summary}\n                onChangeText={setSummary}\n                placeholder=\"Write a summary of the chronicle\"\n                textAlignVertical=\"top\"\n              />\n\n              {questions.map((item, index) => (\n                <View key={index} style={styles.questionContainer}>\n                  <Text style={styles.label}>Question {index + 1}</Text>\n                  <QuestionInput\n                    value={item.question}\n                    onChange={(text) => updateQuestion(index, 'question', text)}\n                  />\n                  <View style={styles.answerInputContainer}>\n                    <TextInput\n                      style={[styles.input, styles.answerInput]}\n                      value={item.answer}\n                      onChangeText={(text) => updateQuestion(index, 'answer', text)}\n                      placeholder=\"Enter answer\"\n                      multiline\n                    />\n                  </View>\n                </View>\n              ))}\n\n              <TouchableOpacity style={styles.addQuestionButton} onPress={addNewQuestion}>\n                <MaterialCommunityIcons name=\"plus\" size={20} color={theme.colors.primary} />\n                <Text style={styles.addQuestionButtonText}>Add Another Question</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.uploadButton} \n                onPress={pickImages}\n                disabled={isUploading}\n              >\n                <MaterialCommunityIcons \n                  name=\"camera\" \n                  size={24} \n                  color={isUploading ? theme.colors.disabled : theme.colors.primary} \n                />\n                <Text style={[\n                  styles.uploadButtonText,\n                  isUploading && styles.uploadingText\n                ]}>\n                  {isUploading ? 'Uploading...' : 'Upload Photos'}\n                </Text>\n                {isUploading && (\n                  <ActivityIndicator \n                    size=\"small\" \n                    color={theme.colors.primary} \n                    style={styles.uploadingSpinner} \n                  />\n                )}\n              </TouchableOpacity>\n\n              <ScrollView horizontal style={styles.photoPreview}>\n                {photos.map((photo, index) => (\n                  <PhotoPreview key={index} photo={photo} />\n                ))}\n              </ScrollView>\n            </ScrollView>\n\n            <View style={styles.modalButtonContainer}>\n              <TouchableOpacity \n                style={styles.cancelButton} \n                onPress={() => {\n                  setModalVisible(false);\n                  resetForm();\n                }}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.submitButton} \n                onPress={handleCreateChronicle}\n                disabled={isCreating}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isCreating ? 'Creating Chronicle...' : 'Create Chronicle'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  createButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  createButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '90%',\n    maxHeight: '80%',\n  },\n  webModalContent: {\n    width: screenWidth > 600 ? '40%' : '90%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  closeButtonText: {\n    fontSize: 20,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    minHeight: 20,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n  },\n  petOption: {\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n  },\n  selectedPet: {\n    backgroundColor: theme.colors.primary,\n  },\n  petOptionText: {\n    color: theme.colors.text,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 16,\n  },\n  uploadButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  photoPreview: {\n    flexDirection: 'row',\n    marginTop: 16,\n  },\n  photoThumbnail: {\n    width: 80,\n    height: 80,\n    marginRight: 8,\n    borderRadius: 4,\n  },\n  questionContainer: {\n    marginBottom: 16,\n    width: '100%',\n    alignItems: 'center',\n  },\n  modalButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  cancelButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginLeft: 8,\n  },\n  submitButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  addQuestionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 8,\n    marginBottom: 16,\n    zIndex: 1, // Lower than dropdown\n  },\n  addQuestionButtonText: {\n    marginLeft: 8,\n    zIndex: 1, // Lower than dropdown\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  answerInputContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  answerInput: {\n    width: screenWidth - 80,\n    maxWidth: 600,\n    minHeight: 60,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    marginTop: 8,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  summaryInput: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    padding: 8,\n    height: 100, // Set a fixed height\n    textAlignVertical: 'top',\n    ...Platform.select({\n      web: {\n        minHeight: 100,\n      },\n      ios: {\n        paddingTop: 8, // Add some padding to the top for iOS\n      },\n      android: {\n        paddingTop: 8, // Add some padding to the top for Android\n      },\n    }),\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  photoContainer: {\n    marginRight: 8,\n  },\n  photo: {\n    width: 100,\n    height: 100,\n    borderRadius: 8,\n  },\n});\n\nexport default ChronicleForm;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, SafeAreaView, StatusBar, Platform, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport ContractList from '../components/ContractList';\nimport ContractTemplate from '../components/ContractTemplate'; // Import ContractTemplate\nimport ChronicleSummary from '../components/ChronicleSummary';\nimport ChronicleForm from '../components/ChronicleForm';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyContracts = () => {\n  const [activeTab, setActiveTab] = useState('contracts');\n  const [chronicles, setChronicles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [templates, setTemplates] = useState([]);\n\n  useEffect(() => {\n    if (activeTab === 'chronicles') {\n      fetchChronicles();\n    }\n  }, [activeTab]);\n\n  const fetchChronicles = async () => {\n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    const mockChronicles = [\n      {\n        id: 1,\n        title: 'Fluffy\\'s Adventure',\n        client: 'John Doe',\n        pets: ['Fluffy'],\n        summary: 'Fluffy had a great time at the park today!',\n      },\n      {\n        id: 2,\n        title: 'Max\\'s Playdate',\n        client: 'Jane Smith',\n        pets: ['Max'],\n        summary: 'Max enjoyed playing with other dogs at the beach.',\n      },\n    ];\n\n    setChronicles(mockChronicles);\n    setLoading(false);\n  };\n\n  const fetchTemplates = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/templates/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setTemplates(response.data);\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates(); // Fetch templates when component mounts\n  }, []);\n\n  const handleCreateChronicle = (newChronicle) => {\n    setChronicles((prevChronicles) => [...prevChronicles, newChronicle]);\n  };\n\n  return (\n    <SafeAreaView style={styles.safeArea}>\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={styles.container}>\n          <Text style={styles.title}>My Contracts & Chronicles</Text>\n          \n          <View style={styles.tabContainer}>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'contracts' && styles.activeTab]}\n              onPress={() => setActiveTab('contracts')}\n            >\n              <Text style={[styles.tabText, activeTab === 'contracts' && styles.activeTabText]}>Contracts</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'chronicles' && styles.activeTab]}\n              onPress={() => setActiveTab('chronicles')}\n            >\n              <Text style={[styles.tabText, activeTab === 'chronicles' && styles.activeTabText]}>Critter Chronicles</Text>\n            </TouchableOpacity>\n          </View>\n\n          {activeTab === 'contracts' && (\n            <View style={styles.contentContainer}>\n              <ContractTemplate templates={templates} />\n              <ContractList />\n            </View>\n          )}\n\n          {activeTab === 'chronicles' && (\n            <View style={styles.contentContainer}>\n              {loading ? (\n                <View style={styles.loadingContainer}>\n                  <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                </View>\n              ) : (\n                <>\n                  <ChronicleForm onCreateChronicle={handleCreateChronicle} />\n                  <ChronicleSummary chronicles={chronicles} />\n                </>\n              )}\n            </View>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  safeArea: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  container: {\n    flex: 1,\n    padding: 16,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    color: theme.colors.primary,\n    textAlign: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    width: '100%',\n    maxWidth: 500,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginHorizontal: 4,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  contentContainer: {\n    width: '100%',\n    maxWidth: 500,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  useTemplateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 16,\n    alignItems: 'center',\n  },\n  useTemplateButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    backgroundColor: theme.colors.primary,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default MyContracts;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TouchableOpacity, StatusBar } from 'react-native';\nimport { TextInput, Button, Text } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ChangePassword = ({ navigation }) => {\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const { isSignedIn } = useContext(AuthContext);\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    const getToken = async () => {\n      const storedToken = await AsyncStorage.getItem('userToken');\n      setToken(storedToken);\n    };\n    getToken();\n  }, []);\n\n  const handleChangePassword = async () => {\n    setError('');\n    setSuccess('');\n\n    if (newPassword !== confirmPassword) {\n      setError('New passwords do not match');\n      return;\n    }\n\n    if (!isSignedIn || !token) {\n      setError('You are not authenticated. Please log in again.');\n      return;\n    }\n\n    try {\n      console.log('Sending request to:', `${API_BASE_URL}/api/users/change-password/`);\n      console.log('Request payload:', {\n        current_password: currentPassword,\n        new_password: newPassword,\n      });\n      console.log('Auth token:', token);\n\n      const response = await axios.post(\n        `${API_BASE_URL}/api/users/change-password/`,\n        {\n          current_password: currentPassword,\n          new_password: newPassword,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      console.log('Response:', response);\n\n      if (response.status === 200) {\n        setSuccess('Password changed successfully');\n        setCurrentPassword('');\n        setNewPassword('');\n        setConfirmPassword('');\n      }\n    } catch (error) {\n      console.error('Error details:', error);\n      setError(error.response?.data?.error || 'Failed to change password');\n    }\n  };\n\n  const renderHeader = () => (\n    <View style={styles.header}>\n      <TouchableOpacity onPress={() => navigation.navigate('Settings')} style={styles.backButton}>\n        <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n      </TouchableOpacity>\n      <Text style={styles.headerText}>Change Password</Text>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {renderHeader()}\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        <TextInput\n          label=\"Current Password\"\n          value={currentPassword}\n          onChangeText={setCurrentPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"New Password\"\n          value={newPassword}\n          onChangeText={setNewPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"Confirm New Password\"\n          value={confirmPassword}\n          onChangeText={setConfirmPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n        {success ? <Text style={styles.successText}>{success}</Text> : null}\n        <Button mode=\"contained\" onPress={handleChangePassword} style={styles.button}>\n          Change Password\n        </Button>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 20,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n  },\n  button: {\n    marginTop: 20,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  successText: {\n    color: theme.colors.success,\n    marginBottom: 10,\n  },\n});\n\nexport default ChangePassword;\n","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TextInput as RNTextInput, TouchableOpacity, ScrollView, Image, Dimensions } from 'react-native';\nimport { Text, Appbar, Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { format } from 'date-fns';\nimport { theme } from '../styles/theme';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport DatePicker from '../components/DatePicker';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst WebInput = ({ label, value, onChangeText, type = 'text', style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <textarea\n        value={value}\n        onChange={(e) => {\n          if (type === 'number' && isNaN(e.target.value)) return;\n          onChangeText(e.target.value);\n        }}\n        style={{ ...styles.webInput, ...style }} // Merge default and custom styles\n        rows={1}\n        maxLength={type === 'text' ? 1000 : undefined}\n      />\n    </View>\n  );\n};\n\nconst MobileInput = ({ label, value, onChangeText, keyboardType = 'default', maxLength, style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <RNTextInput\n        value={value}\n        onChangeText={onChangeText}\n        style={[style, styles.input]} // Ensure custom style is applied first\n        keyboardType={keyboardType}\n        maxLength={maxLength}\n        multiline={true}\n      />\n    </View>\n  );\n};\n\nconst TextInput = Platform.OS === 'web' ? WebInput : MobileInput;\n\nconst AddPet = ({ route }) => {\n  const navigation = useNavigation();\n  \n  // Get initial pet data\n  const [petData] = useState(() => {\n    if (Platform.OS === 'web') {\n      const stored = sessionStorage.getItem('editPetData');\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    }\n    return route.params?.pet || {};\n  });\n\n  // Clean URL on mount\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      if (window.location.search) {\n        window.history.replaceState({}, '', '/AddPet');\n      }\n      // Store pet data if it exists in route params\n      if (route.params?.pet) {\n        sessionStorage.setItem('editPetData', JSON.stringify(route.params.pet));\n      }\n    }\n    // Cleanup on unmount\n    return () => {\n      if (Platform.OS === 'web' && !window.location.pathname.includes('AddPet')) {\n        sessionStorage.removeItem('editPetData');\n      }\n    };\n  }, []);\n\n  // Use petData instead of route.params.pet throughout the component\n  const pet = petData;\n\n  const [petName, setPetName] = useState('');\n  const [petType, setPetType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For actual pet type\n  const [animalType, setAnimalType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For toggle buttons\n  const [weight, setWeight] = useState('');\n  const [breed, setBreed] = useState('');\n  const [ageYears, setAgeYears] = useState('');\n  const [ageMonths, setAgeMonths] = useState('');\n  const [sex, setSex] = useState(null);\n  const [friendlyWithChildren, setFriendlyWithChildren] = useState(null);\n  const [friendlyWithCats, setFriendlyWithCats] = useState(null);\n  const [friendlyWithDogs, setFriendlyWithDogs] = useState(null);\n  const [spayedNeutered, setSpayedNeutered] = useState(null);\n  const [houseTrained, setHouseTrained] = useState(null);\n  const [microchipped, setMicrochipped] = useState(null);\n  const [adoptionDate, setAdoptionDate] = useState(new Date());\n  const [description, setDescription] = useState('');\n  const [profileImage, setProfileImage] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n\n  // New state variables for Care Information\n  const [pottyBreakSchedule, setPottyBreakSchedule] = useState(null);\n  const [customPottyBreak, setCustomPottyBreak] = useState('');\n  const [energyLevel, setEnergyLevel] = useState(null);\n  const [feedingSchedule, setFeedingSchedule] = useState(null);\n  const [customFeedingSchedule, setCustomFeedingSchedule] = useState('');\n  const [leftAlone, setLeftAlone] = useState(null);\n  const [customLeftAlone, setCustomLeftAlone] = useState('');\n  const [medication, setMedication] = useState(null);\n  const [medicationDetails, setMedicationDetails] = useState('');\n  const [additionalInstructions, setAdditionalInstructions] = useState('');\n\n  // Add these new state variables at the top of the AddPet component\n  const [vetName, setVetName] = useState('');\n  const [vetAddress, setVetAddress] = useState('');\n  const [vetPhone, setVetPhone] = useState('');\n  const [vetDocuments, setVetDocuments] = useState([]);\n  const [insuranceProvider, setInsuranceProvider] = useState('');\n  const [galleryImages, setGalleryImages] = useState([]);\n  const [estimatedBirthday, setEstimatedBirthday] = useState(new Date());\n  const [showDatePicker, setShowDatePicker] = useState(false);\n\n  useEffect(() => {\n    setHasUnsavedChanges(false);\n\n    if (pet) {\n      // Populate fields with existing pet data or set to empty string if not available\n      setPetName(pet.name ? pet.name : '');\n      setPetType(pet.animal_type ? pet.animal_type : '');\n      setAnimalType(pet.animal_type === 'Cat' || pet.animal_type === 'Dog' ? pet.animal_type : 'Exotic');\n      setBreed(pet.breed ? pet.breed : '');\n      setWeight(pet.weight ? pet.weight : '');\n      setAgeYears(pet.age && pet.age.years ? pet.age.years : '');\n      setAgeMonths(pet.age && pet.age.months ? pet.age.months : '');\n      setSex(pet.sex ? pet.sex : '');\n      setFriendlyWithChildren(pet.friendlyWithChildren !== undefined ? pet.friendlyWithChildren : null);\n      setFriendlyWithCats(pet.friendlyWithCats !== undefined ? pet.friendlyWithCats : null);\n      setFriendlyWithDogs(pet.friendlyWithDogs !== undefined ? pet.friendlyWithDogs : null);\n      setSpayedNeutered(pet.spayedNeutered !== undefined ? pet.spayedNeutered : null);\n      setHouseTrained(pet.houseTrained !== undefined ? pet.houseTrained : null);\n      setMicrochipped(pet.microchipped !== undefined ? pet.microchipped : null);\n      setAdoptionDate(pet.adoptionDate ? new Date(pet.adoptionDate) : new Date()); // Default to current date if not available\n      setDescription(pet.description ? pet.description : '');\n      setEnergyLevel(pet.energyLevel ? pet.energyLevel : '');\n\n      // Check if feedingSchedule is an array\n      if (Array.isArray(pet.feedingSchedule)) {\n        setFeedingSchedule(pet.feedingSchedule[0]); // Set to 'Custom'\n        setCustomFeedingSchedule(pet.feedingSchedule[1]); // Set custom instructions\n      } else {\n        setFeedingSchedule(pet.feedingSchedule ? pet.feedingSchedule : ''); // Populate feeding schedule\n        setCustomFeedingSchedule(''); // Reset custom feeding schedule\n      }\n\n      setLeftAlone(pet.leftAlone ? pet.leftAlone : '');\n      setMedication(pet.medication ? pet.medication : '');\n      setAdditionalInstructions(pet.additionalInstructions ? pet.additionalInstructions : '');\n      setVetName(pet.vetName ? pet.vetName : '');\n      setVetAddress(pet.vetAddress ? pet.vetAddress : '');\n      setVetPhone(pet.vetPhone ? pet.vetPhone : '');\n      setInsuranceProvider(pet.insuranceProvider ? pet.insuranceProvider : '');\n      setVetDocuments(pet.veterinarian && pet.veterinarian.documents ? pet.veterinarian.documents : []);\n      setGalleryImages(pet.galleryImages ? pet.galleryImages : []);\n      \n      // Set estimated birthday if available\n      if (pet.age) {\n        const today = new Date();\n        const estimatedDate = new Date(today.getFullYear() - pet.age.years, today.getMonth() - pet.age.months);\n        setEstimatedBirthday(estimatedDate);\n      }\n    } else {\n      // If pet is not defined, initialize fields to empty strings\n      setPetName('');\n      setPetType('');\n      setAnimalType('');\n      setWeight('');\n      setAgeYears('');\n      setAgeMonths('');\n      setSex('');\n      setFriendlyWithChildren(null);\n      setFriendlyWithCats(null);\n      setFriendlyWithDogs(null);\n      setSpayedNeutered(null);\n      setHouseTrained(null);\n      setMicrochipped(null);\n      setAdoptionDate(new Date());\n      setDescription('');\n      setEnergyLevel('');\n      setFeedingSchedule(''); // Initialize feeding schedule\n      setCustomFeedingSchedule(''); // Initialize custom feeding schedule\n      setLeftAlone('');\n      setMedication('');\n      setAdditionalInstructions('');\n      setVetName('');\n      setVetAddress('');\n      setVetPhone('');\n      setInsuranceProvider('');\n      setVetDocuments([]);\n      setGalleryImages([]);\n    }\n  }, [pet]);\n\n  useEffect(() => {\n    if (ageYears && ageMonths) {\n      const today = new Date();\n      const estimatedDate = new Date(today.getFullYear() - parseInt(ageYears), today.getMonth() - parseInt(ageMonths));\n      setEstimatedBirthday(estimatedDate);\n    }\n  }, [ageYears, ageMonths]);\n\n  const calculateAge = (birthday) => {\n    const today = new Date();\n    const birthDate = new Date(birthday);\n    let ageYears = today.getFullYear() - birthDate.getFullYear();\n    let ageMonths = today.getMonth() - birthDate.getMonth();\n\n    if (ageMonths < 0) {\n      ageYears--;\n      ageMonths += 12;\n    }\n\n    setAgeYears(ageYears.toString());\n    setAgeMonths(ageMonths.toString());\n  };\n\n  const pickImage = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfileImage(result.assets[0].uri);\n    }\n  };\n\n  const renderEstimatedBirthday = () => (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>Estimated Birthday:</Text>\n      <TouchableOpacity onPress={() => setShowDatePicker(true)}>\n        <Text style={styles.dateText}>\n          {format(estimatedBirthday, 'yyyy-MM-dd')}\n        </Text>\n      </TouchableOpacity>\n      {showDatePicker && (\n        <DatePicker\n          value={estimatedBirthday}\n          onChange={(date) => {\n            if (date) {\n              setEstimatedBirthday(date);\n              calculateAge(date); // Calculate age when date is selected\n              setHasUnsavedChanges(true); // Set hasUnsavedChanges to true when date is selected\n            }\n            setShowDatePicker(false);\n          }}\n        />\n      )}\n    </View>\n  );\n\n  const renderTab = (type) => (\n    <TouchableOpacity\n      style={[\n        styles.tab,\n        animalType === type && styles.activeTab,\n        type === 'Dog' && styles.leftTab,\n        type === 'Exotic' && styles.rightTab,\n      ]}\n      onPress={() => {\n        setAnimalType(type); // Set the pet type\n        setHasUnsavedChanges(true); // Set hasUnsavedChanges to true\n      }}\n    >\n      <Text style={styles.tabText}>{type}</Text>\n    </TouchableOpacity>\n  );\n\n  const renderToggleButtons = (options, value, setValue, customInput = false, customValue = '', setCustomValue = () => {}) => (\n    <View style={styles.toggleContainer}>\n      <View style={styles.buttonRow}>\n        {options.map((option) => (\n          <TouchableOpacity\n            key={option}\n            style={[styles.yesNoButton, value === option && styles.activeYesNoButton]}\n            onPress={() => setValue(option)}\n          >\n            <Text style={styles.yesNoText}>{option}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n      {((customInput && value === 'Custom') || (options.includes('Pill') && value)) && (\n        Platform.OS === 'web' ? (\n          <View style={styles.inputContainer}>\n            <textarea\n              value={customValue}\n              onChange={(e) => setCustomValue(e.target.value)}\n              style={styles.webInput}\n              placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n            />\n          </View>\n        ) : (\n          <TextInput\n            value={customValue}\n            onChangeText={setCustomValue}\n            style={[styles.customInput, { width: '100%' }]}\n            placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n          />\n        )\n      )}\n    </View>\n  );\n\n  const renderYesNoButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === true && styles.activeYesNoButton]}\n        onPress={() => setValue(true)}\n      >\n        <Text style={styles.yesNoText}>Yes</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === false && styles.activeYesNoButton]}\n        onPress={() => setValue(false)}\n      >\n        <Text style={styles.yesNoText}>No</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderSexButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Male' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Male'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Male</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Female' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Female'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Female</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const handleSaveProfile = () => {\n    setIsSubmitting(true);\n    setHasUnsavedChanges(false);\n\n    const petData = {\n      // Basic Info\n      petName,\n      petType: (animalType !== 'Exotic') ? animalType : petType,\n      weight,\n      breed,\n      estimatedBirthday,\n      age: {\n        years: ageYears,\n        months: ageMonths\n      },\n      sex,\n      profileImage,\n      description,\n      adoptionDate: format(adoptionDate, 'yyyy-MM-dd'),\n\n      // Temperament & Training\n      friendlyWithChildren,\n      friendlyWithCats,\n      friendlyWithDogs,\n      spayedNeutered,\n      houseTrained,\n      microchipped,\n\n      // Care Information\n      pottyBreakSchedule: pottyBreakSchedule === 'Custom' ? customPottyBreak : pottyBreakSchedule,\n      energyLevel,\n      feedingSchedule: feedingSchedule === 'Custom' ? customFeedingSchedule : feedingSchedule,\n      leftAlone: leftAlone === 'Custom' ? customLeftAlone : leftAlone,\n      medication: medication ? {\n        type: medication,\n        details: medicationDetails\n      } : null,\n      additionalInstructions,\n\n      // Health Information\n      veterinarian: {\n        name: vetName,\n        address: vetAddress,\n        phone: vetPhone,\n        documents: vetDocuments.map(doc => ({\n          uri: doc.uri,\n          type: doc.type,\n          name: doc.fileName || 'document'\n        }))\n      },\n      insuranceProvider,\n\n      // Photo Gallery\n      galleryImages: galleryImages.map(img => ({\n        uri: img.uri,\n        type: img.type,\n        name: img.fileName || 'image'\n      }))\n    };\n\n    console.log('Pet Profile Data:', JSON.stringify(petData, null, 2));\n\n    // Simulate API call\n    setTimeout(() => {\n      setIsSubmitting(false);\n      // alert('Pet profile saved successfully!');\n      // Navigate back or clear form\n      // setHasUnsavedChanges(false);\n    }, 1000);\n  };\n\n  const pickVetDocuments = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsMultipleSelection: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setVetDocuments([...vetDocuments, ...result.assets]);\n    }\n  };\n\n  const pickGalleryImages = async () => {\n    try {\n      // Request permissions first (for iOS)\n      if (Platform.OS !== 'web') {\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== 'granted') {\n          alert('Sorry, we need camera roll permissions to make this work!');\n          return;\n        }\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n        aspect: [1, 1],\n      });\n\n      if (!result.canceled) {\n        setGalleryImages(prevImages => [...prevImages, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error picking images:', error);\n      alert('Error selecting images. Please try again.');\n    }\n  };\n\n  // Function to handle input changes and set unsaved changes\n  const handleInputChange = (setter) => (value) => {\n    setter(value);\n    setHasUnsavedChanges(true);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => navigation.navigate('MyPets')} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>\n          {pet && Object.keys(pet).length > 0 ? 'Edit Pet' : 'Add a New Pet'}\n        </Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.formContainer}>\n          {/* Pet Details Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"paw\" size={20} /> Pet Details\n          </Text>\n          {/* Profile Photo */}\n          <Text style={styles.label}>Profile Photo</Text>\n          <TouchableOpacity onPress={pickImage} style={styles.profileImageContainer}>\n            {profileImage ? (\n              <Image source={{ uri: profileImage }} style={styles.profileImage} />\n            ) : (\n              <View style={styles.profileImagePlaceholder}>\n                <MaterialCommunityIcons name=\"camera\" size={40} color=\"#ccc\" />\n              </View>\n            )}\n          </TouchableOpacity>\n          {/* Pet Type Selection */}\n          <View style={styles.tabContainer}>\n            {renderTab('Dog')}\n            {renderTab('Cat')}\n            {renderTab('Exotic')}\n          </View>\n          <TextInput \n            label=\"Pet Name\" \n            value={petName} \n            onChangeText={handleInputChange(setPetName)} \n            placeholder={pet ? pet.name : \"Enter pet name\"} \n          />\n          {animalType === 'Exotic' && (\n            <TextInput \n              label=\"Pet Type\" \n              value={pet.animal_type ? pet.animal_type : ''} \n              onChangeText={handleInputChange(setPetType)} \n              placeholder={pet ? pet.animal_type : \"Enter pet type\"} \n            />\n          )}\n          <TextInput \n            label=\"Weight (lbs)\" \n            value={weight.toString()} \n            onChangeText={handleInputChange(setWeight)} \n            keyboardType=\"numeric\" \n          />\n          {renderEstimatedBirthday()}\n          <TextInput\n            label=\"Age in Years\"\n            value={ageYears.toString() ? ageYears.toString() : ''}\n            onChangeText={handleInputChange(setAgeYears)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput\n            label=\"Age in Months\"\n            value={ageMonths === '' ? '' : ageMonths === '0' ? '0' : ageMonths.toString()}\n            onChangeText={handleInputChange(setAgeMonths)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput \n            label=\"Breed\" \n            value={breed} \n            onChangeText={handleInputChange(setBreed)} \n          />\n          <Text style={styles.boldLabel}>Sex:</Text>\n          {renderSexButtons(sex, setSex)}\n          {(animalType === 'Dog' || animalType === 'Cat') && (\n            <>\n                <Text style={styles.boldLabel}>Friendly with Children:</Text>\n                {renderYesNoButtons(friendlyWithChildren, setFriendlyWithChildren)}\n                <Text style={styles.boldLabel}>Friendly with Cats:</Text>\n                {renderYesNoButtons(friendlyWithCats, setFriendlyWithCats)}\n                <Text style={styles.boldLabel}>Friendly with Dogs:</Text>\n                {renderYesNoButtons(friendlyWithDogs, setFriendlyWithDogs)}\n                <Text style={styles.boldLabel}>Spayed/Neutered:</Text>\n                {renderYesNoButtons(spayedNeutered, setSpayedNeutered)}\n                <Text style={styles.boldLabel}>House Trained:</Text>\n                {renderYesNoButtons(houseTrained, setHouseTrained)}\n                <Text style={styles.boldLabel}>Microchipped:</Text>\n                {renderYesNoButtons(microchipped, setMicrochipped)}\n            </>\n            )}\n          <Text style={styles.boldLabel}>Adoption Date:</Text>\n          {/* TODO: change this to the DatePicker.js file i have */}\n          {Platform.OS === 'web' ? (\n            <View style={styles.timePickerContainer}>\n              <input\n                type=\"date\"\n                value={format(adoptionDate, 'yyyy-MM-dd')}\n                onChange={(e) => {\n                  const date = new Date(e.target.value);\n                  setAdoptionDate(date);\n                }}\n                style={styles.webTimePicker}\n              />\n            </View>\n          ) : (\n            <DateTimePicker\n              value={adoptionDate}\n              mode=\"date\"\n              display=\"default\"\n              onChange={(event, selectedDate) => {\n                if (selectedDate) {\n                  setAdoptionDate(selectedDate);\n                }\n              }}\n            />\n          )}\n          <View style={{ height: 16 }} />\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Pet Description\"\n              value={description}\n              onChangeText={handleInputChange(setDescription)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n            />\n          </View>\n\n          {/* Care Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"heart\" size={20} /> Care Information\n          </Text>\n          {(petType === 'Dog') && (\n            <>\n              <Text style={styles.boldLabel}>Potty Break Schedule:</Text>\n              {renderToggleButtons(['2 hours', '4 hours', '8 hours', 'Custom'], pottyBreakSchedule, setPottyBreakSchedule, true, customPottyBreak, setCustomPottyBreak)}\n            </>\n          )}\n          <Text style={styles.boldLabel}>Energy Level:</Text>\n          {renderToggleButtons(['High', 'Moderate', 'Low'], energyLevel, setEnergyLevel)}\n          <Text style={styles.boldLabel}>Feeding Schedule:</Text>\n          {renderToggleButtons(['Morning', 'Twice a day', 'Custom'], feedingSchedule, setFeedingSchedule, true, customFeedingSchedule, setCustomFeedingSchedule)}\n          <Text style={styles.boldLabel}>Can Be Left Alone:</Text>\n          {renderToggleButtons(['<1 hour', '1-4 hours', '4-8 hours', 'Custom'], leftAlone, setLeftAlone, true, customLeftAlone, setCustomLeftAlone)}\n          <Text style={styles.boldLabel}>Medication:</Text>\n          {renderToggleButtons(['Pill', 'Topical', 'Injection'], medication, setMedication, true, medicationDetails, setMedicationDetails)}\n          {/* <View style={{ height: 16 }} /> */}\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Anything Else The Professional Should Know\"\n              value={additionalInstructions}\n              onChangeText={handleInputChange(setAdditionalInstructions)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n              placeholder=\"Add custom instructions\"\n            />\n          </View>\n\n          {/* Health Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"medical-bag\" size={20} /> Health Information\n          </Text>\n\n          <TextInput \n            label=\"Veterinarian Name\"\n            value={vetName}\n            onChangeText={handleInputChange(setVetName)}\n          />\n\n          <TextInput \n            label=\"Veterinarian Address\"\n            value={vetAddress}\n            onChangeText={handleInputChange(setVetAddress)}\n            multiline\n          />\n\n          <TextInput \n            label=\"Veterinarian Phone\"\n            value={vetPhone}\n            onChangeText={handleInputChange(setVetPhone)}\n            keyboardType=\"phone-pad\"\n          />\n\n          <TextInput \n            label=\"Pet Insurance Provider\"\n            value={insuranceProvider}\n            onChangeText={handleInputChange(setInsuranceProvider)}\n            style={styles.input}\n          />\n\n          <Text style={styles.boldLabel}>Veterinary Documents:</Text>\n          <View style={styles.documentsContainer}>\n            <TouchableOpacity style={styles.uploadButton} onPress={pickVetDocuments}>\n              <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Upload Documents</Text>\n            </TouchableOpacity>\n            {vetDocuments.length > 0 && (\n              <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.documentsList}>\n                {vetDocuments.map((doc, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: doc.uri }}\n                    style={styles.documentThumbnail}\n                  />\n                ))}\n              </ScrollView>\n            )}\n          </View>\n\n          {/* Photo Gallery Section */}\n          <View style={styles.gallerySection && styles.scrollViewContent}>\n            <Text style={styles.sectionHeader}>\n              <MaterialCommunityIcons name=\"image-multiple\" size={20} /> Photo Gallery\n            </Text>\n\n            <TouchableOpacity style={styles.uploadButton} onPress={pickGalleryImages}>\n              <MaterialCommunityIcons name=\"image-plus\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Add Photos</Text>\n            </TouchableOpacity>\n\n            {galleryImages.length > 0 && (\n              <View style={styles.galleryContainer}>\n                {galleryImages.map((image, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: image.uri }}\n                    style={styles.galleryThumbnail}\n                    resizeMode=\"cover\"\n                  />\n                ))}\n              </View>\n            )}\n          </View>\n        </View>\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={handleSaveProfile}\n        btnText={'Save Profile'}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  formContainer: {\n    width: Platform.OS === 'web' && screenWidth > 600 ? '40%' : '90%',\n    alignItems: 'center', // Center horizontally\n    paddingBottom: 16,\n  },\n  profileImageContainer: {\n    marginBottom: 16,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n  },\n  profileImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inputContainer: {\n    // marginBottom: 8,\n    width: '100%', // Ensure the container takes full width\n    alignItems: 'center', // Center the input within the container\n    paddingBottom: Platform.OS === 'web' ? 0 : 40,\n    flex: 1,\n  },\n  label: {\n    fontSize: 16,\n    marginBottom: 8,\n    marginTop: 16,\n    textAlign: 'center', // Center the label text\n  },\n  boldLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  sectionHeader: {\n    fontSize: 25,\n    fontWeight: 'bold',\n    marginVertical: 16,\n    alignSelf: 'flex-start',\n    textAlign: 'left',\n  },\n  webInput: {\n    width: '100%', // Full width for web input\n    minHeight: 24, // Set a minimum height\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    resize: 'none', // Prevent textarea from being resizable\n  },\n  input: {\n    width: '100%', // Full width for mobile input\n    height: 40, // Set a consistent height for mobile inputs\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n  },\n  descriptionInput: {\n    width: '100%',\n    minHeight: 90, // Increased height for better visibility\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    textAlignVertical: 'center',\n    // marginTop: 32, // Added margin to separate from the adoption date\n  },\n  customInput: {\n    width: '100%',\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    marginBottom: 8, // Add a smaller margin bottom\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: '#ccc',\n  },\n  activeTab: {\n    backgroundColor: '#ddd',\n  },\n  leftTab: {\n    borderTopLeftRadius: 10,\n    borderBottomLeftRadius: 10,\n  },\n  rightTab: {\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n  },\n  tabText: {\n    fontSize: 16,\n  },\n  toggleContainer: {\n    width: '100%',\n    marginBottom: 8, // Reduce this from 16 to 8\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    marginBottom: 8,\n  },\n  yesNoContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  yesNoButton: {\n    marginHorizontal: 10,\n    padding: 10,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 80, // Ensure the button is wide enough to prevent text wrapping\n  },\n  activeYesNoButton: {\n    backgroundColor: '#ddd',\n  },\n  yesNoText: {\n    fontSize: 16,\n  },\n  datePicker: {\n    marginBottom: 16,\n    padding: 10,\n    // borderWidth: 1,\n    // borderColor: '#ccc',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  dateText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    textAlign: 'center',\n  },\n  saveButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 16,\n  },\n  webTimePicker: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    fontSize: 16,\n  },\n  documentsContainer: {\n    marginVertical: 10,\n    width: '100%',\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  documentsList: {\n    minHeight: 100 + 20, // Add fixed height to prevent collapse\n  },\n  documentThumbnail: {\n    width: 100,\n    height: 100,\n    marginRight: 10,\n    borderRadius: 4,\n  },\n  gallerySection: {\n    width: '100%',\n    marginTop: 16,\n  },\n  galleryContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    width: '100%',\n  },\n  galleryThumbnail: {\n    width: 100,\n    height: 100,\n    borderRadius: 4,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    paddingBottom: 100, // Add padding to prevent content from being hidden behind the button\n  },\n});\n\nexport default AddPet;\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst CustomMultiSelect = ({\n  label,\n  data,\n  value,\n  onChange,\n  placeholder,\n  isOpen,\n  setIsOpen,\n  containerStyle,\n  zIndex = 1,\n}) => {\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleClickOutside = (event) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [setIsOpen]);\n\n  const getDisplayText = () => {\n    if (value.length === 0) return placeholder;\n    \n    const selectedItems = value.map(v => data.find(item => item.value === v)?.label || '');\n    const displayText = selectedItems[0];\n    \n    if (selectedItems.length > 1) {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText + ', ...';\n    } else {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText;\n    }\n  };\n\n  const handleRemoveItem = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.filter(v => v !== itemValue);\n    onChange(newValue);\n  };\n\n  const handleItemSelect = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.includes(itemValue)\n      ? value.filter(v => v !== itemValue)\n      : [...value, itemValue];\n    onChange(newValue);\n  };\n\n  return (\n    <View style={[styles.container, { zIndex }, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      <View ref={dropdownRef} style={styles.dropdownContainer}>\n        <TouchableOpacity\n          style={styles.header}\n          onPress={() => setIsOpen(!isOpen)}\n        >\n          <Text style={value.length ? styles.selectedText : styles.placeholderText}>\n            {getDisplayText()}\n          </Text>\n          <MaterialCommunityIcons \n            name={isOpen ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n\n        {isOpen && (\n          <View style={[styles.dropdown, { zIndex: zIndex + 1 }]}>\n            <ScrollView \n              nestedScrollEnabled={true}\n              style={styles.scrollView}\n              contentContainerStyle={styles.scrollViewContent}\n            >\n              {data.map((item) => (\n                <TouchableOpacity\n                  key={item.value}\n                  style={styles.item}\n                  onPress={(e) => handleItemSelect(item.value, e)}\n                  activeOpacity={0.7}\n                >\n                  <Text style={styles.itemText}>{item.label}</Text>\n                  {value.includes(item.value) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          </View>\n        )}\n\n        {!isOpen && value.length > 0 && (\n          <View style={styles.chipsContainer}>\n            {value.map((v) => {\n              const item = data.find(item => item.value === v);\n              if (!item) return null;\n              return (\n                <View key={v} style={styles.chip}>\n                  <Text style={styles.chipText}>{item.label}</Text>\n                  <TouchableOpacity \n                    onPress={(e) => handleRemoveItem(v, e)}\n                    style={styles.chipRemove}\n                  >\n                    <MaterialCommunityIcons \n                      name=\"close\" \n                      size={18} \n                      color={theme.colors.text} \n                    />\n                  </TouchableOpacity>\n                </View>\n              );\n            })}\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n  },\n  dropdownContainer: {\n    position: 'relative',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    // height: 50,\n    padding: 6,\n    // paddingHorizontal: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n  },\n  dropdown: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 4,\n    elevation: 1000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 9999,\n  },\n  scrollView: {\n    maxHeight: 200,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  item: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    color: theme.colors.placeholderText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    // padding: 8,\n    gap: 8,\n    marginTop: 8,\n  },\n  chip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 16,\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n  },\n  chipText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipRemove: {\n    padding: 2,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n});\n\nexport default CustomMultiSelect;","import React, { useState, useRef, useCallback } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Platform, TextInput, ScrollView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport Dropdown from 'react-native-element-dropdown/src/components/Dropdown';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport Slider from '@react-native-community/slider';\nimport { GooglePlacesAutocomplete } from 'react-native-google-places-autocomplete';\nimport DatePicker from '../components/DatePicker';\nimport { debounce } from 'lodash';\nimport MultiSelect from 'react-native-element-dropdown/src/components/MultiSelect';\nimport CustomMultiSelect from '../components/CustomMultiSelect';\nimport { SERVICE_TYPES, GENERAL_CATEGORIES } from '../data/mockData';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\n\nconst generalCategoriesData = GENERAL_CATEGORIES.map(category => ({\n  label: category,\n  value: category.toLowerCase().replace(/\\s+/g, '-')\n}));\n\nconst LocationInput = ({ value, onChange, suggestions, onSuggestionSelect }) => {\n  const locationInputRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const debouncedFetch = useCallback(\n    debounce(async (text) => {\n      if (text.length < 1) return;\n      \n      try {\n        const response = await fetch(\n          `https://nominatim.openstreetmap.org/search?format=json&q=${text}&countrycodes=us&limit=5`,\n          {\n            headers: {\n              'Accept': 'application/json',\n              'User-Agent': 'ZenExotics Mobile App'\n            }\n          }\n        );\n        const data = await response.json();\n        const suggestions = data.map(item => ({\n          display_name: item.display_name,\n          lat: item.lat,\n          lon: item.lon\n        }));\n        onSuggestionSelect(suggestions);\n      } catch (error) {\n        console.error('Error fetching locations:', error);\n        onSuggestionSelect([]);\n      }\n    }, 300),\n    [onSuggestionSelect]\n  );\n\n  return (\n    <View style={[styles.locationInputWrapper, { zIndex: 2 }]}>\n      <TextInput\n        ref={locationInputRef}\n        style={styles.locationInput}\n        placeholder=\"Enter city, state, or zip\"\n        value={value}\n        onChangeText={(text) => {\n          onChange(text);\n          if (text.length < 1) {\n            onSuggestionSelect([]);\n          } else {\n            debouncedFetch(text);\n          }\n        }}\n      />\n      {suggestions.length > 0 && (\n        <View style={styles.suggestionsWrapper}>\n          <ScrollView \n            style={styles.suggestionsContainer}\n            keyboardShouldPersistTaps=\"always\"\n            nestedScrollEnabled={true}\n          >\n            {suggestions.map((suggestion, index) => (\n              <TouchableOpacity\n                key={index}\n                style={styles.suggestionItem}\n                onPress={() => {\n                  onChange(suggestion.display_name);\n                  onSuggestionSelect([]);\n                }}\n              >\n                <Text>{suggestion.display_name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst SearchRefiner = ({ onFiltersChange }) => {\n  const [filters, setFilters] = useState({\n    category: '',\n    location: '',\n    animalType: '',\n    service: '',\n    startDate: new Date(),\n    endDate: new Date(),\n    selectedPets: [],\n    minRate: 0,\n    maxRate: 250\n  });\n  const [location, setLocation] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [selectedGeneralCategories, setSelectedGeneralCategories] = useState([]);\n  const [selectedAnimalTypes, setSelectedAnimalTypes] = useState([]);\n  const [isServiceDropdownOpen, setIsServiceDropdownOpen] = useState(false);\n  const [isAnimalDropdownOpen, setIsAnimalDropdownOpen] = useState(false);\n  const [isGeneralDropdownOpen, setIsGeneralDropdownOpen] = useState(false);\n\n  const categories = SERVICE_TYPES.map(service => ({\n    label: service,\n    value: service.toLowerCase().replace(/\\s+/g, '-').replace(/[()]/g, '')\n  }));\n\n  const animalTypes = [\n    { label: 'Dogs', value: 'dog' },\n    { label: 'Cats', value: 'cat' },\n    { label: 'Birds', value: 'bird' },\n    { label: 'Small Animals', value: 'small-animal' }\n  ];\n\n  const handleFilterChange = (key, value) => {\n    const newFilters = { ...filters, [key]: value };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const renderPriceRange = () => (\n    <View style={styles.section}>\n      <Text style={styles.label}>Rate Range</Text>\n      <View style={styles.priceRangeContainer}>\n        <Text>${filters.minRate}</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={250}\n          step={5}\n          value={filters.maxRate}\n          onValueChange={(value) => handleFilterChange('maxRate', value)}\n          minimumTrackTintColor={theme.colors.primary}\n          maximumTrackTintColor={theme.colors.border}\n        />\n        <Text>${filters.maxRate}</Text>\n      </View>\n    </View>\n  );\n\n  const renderLocationInput = () => (\n    <View style={[styles.section, { zIndex: 4000 }]}>\n      <Text style={styles.label}>Location</Text>\n      <LocationInput\n        value={location}\n        onChange={setLocation}\n        suggestions={locationSuggestions}\n        onSuggestionSelect={setLocationSuggestions}\n      />\n    </View>\n  );\n\n  const renderDatePickers = () => (\n    <View style={styles.section}>\n      <View style={styles.datePickersContainer}>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>Start Date</Text>\n          <DatePicker\n            value={filters.startDate}\n            onChange={(date) => handleFilterChange('startDate', date)}\n          />\n        </View>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>End Date</Text>\n          <DatePicker\n            value={filters.endDate}\n            onChange={(date) => handleFilterChange('endDate', date)}\n          />\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Refine Search</Text>\n      \n      {renderLocationInput()}\n\n      <View style={[styles.section, { zIndex: 3001 }]}>\n        <CustomMultiSelect\n          label=\"General Categories\"\n          data={generalCategoriesData}\n          value={selectedGeneralCategories}\n          onChange={(newValue) => {\n            setSelectedGeneralCategories(newValue);\n            handleFilterChange('general', newValue);\n          }}\n          placeholder=\"Select general categories\"\n          isOpen={isGeneralDropdownOpen}\n          setIsOpen={setIsGeneralDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 3000 }]}>\n        <CustomMultiSelect\n          label=\"Animal Types\"\n          data={animalTypes}\n          value={selectedAnimalTypes}\n          onChange={(newValue) => {\n            setSelectedAnimalTypes(newValue);\n            handleFilterChange('animalTypes', newValue);\n          }}\n          placeholder=\"Select animal types\"\n          isOpen={isAnimalDropdownOpen}\n          setIsOpen={setIsAnimalDropdownOpen}\n          zIndex={2000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 2000 }]}>\n        <CustomMultiSelect\n          label=\"Service Categories\"\n          data={categories}\n          value={selectedServices}\n          onChange={(newValue) => {\n            setSelectedServices(newValue);\n            handleFilterChange('services', newValue);\n          }}\n          placeholder=\"Select services\"\n          isOpen={isServiceDropdownOpen}\n          setIsOpen={setIsServiceDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderDatePickers()}\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderPriceRange()}\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    height: '100%',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.large,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  section: {\n    marginBottom: theme.spacing.large,\n    position: 'relative',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdown: {\n    height: 50,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  datePickerContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  datePickerWrapper: {\n    maxWidth: 200,\n  },\n  dateLabel: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  rateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  priceRangeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  slider: {\n    flex: 1,\n    height: 40,\n    marginHorizontal: 10,\n  },\n  locationInputWrapper: {\n    position: 'relative',\n    marginBottom: theme.spacing.small,\n  },\n  locationInput: {\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: theme.spacing.small,\n    backgroundColor: theme.colors.background,\n  },\n  suggestionsWrapper: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    zIndex: 1000,\n  },\n  suggestionsContainer: {\n    flex: 1,\n  },\n  suggestionItem: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  datePickersContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  selectedText: {\n    fontSize: theme.fontSizes.large + 2,\n    color: '#000000',\n    fontWeight: '1200',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.placeholderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedItem: {\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n    borderWidth: 8,\n    borderColor: theme.colors.primary,\n  },\n  dropdownIcon: {\n    width: 20,\n    height: 20,\n  },\n  itemContainer: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedChip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    marginRight: theme.spacing.small,\n    marginBottom: theme.spacing.small,\n  },\n  selectedChipText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: '#000000',\n    marginRight: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: theme.spacing.small,\n  },\n  dropdownItemSelected: {\n    backgroundColor: 'white',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 4,\n    margin: 2,\n  },\n  dropdownItemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItemTextSelected: {\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n});\n\nexport default SearchRefiner;","import React from 'react';\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst ProfessionalCard = ({ professional, onPress }) => {\n  const navigation = useNavigation();\n  \n  const handlePress = () => {\n    navigation.navigate('ProfessionalProfile', { \n      professional: professional \n    });\n  };\n\n  return (\n    <TouchableOpacity style={styles.listItem} onPress={handlePress}>\n      <Image \n        source={{ uri: professional.profilePicture }} \n        style={styles.profileImage}\n      />\n      <View style={styles.infoContainer}>\n        <View style={styles.header}>\n          <Text style={styles.name}>{professional.id}. {professional.name}</Text>\n          <View style={styles.starProfessionalBadge}>\n            <Text style={styles.price}>from ${professional.price}/night</Text>\n            {/* <Text style={styles.starProfessionalText}>Star Professional</Text> */}\n          </View>\n        </View>\n        <Text style={styles.location}>{professional.location}</Text>\n        <View style={styles.stats}>\n          <View style={styles.rating}>\n            <MaterialCommunityIcons name=\"star\" size={16} color={theme.colors.primary} />\n            <Text style={styles.ratingText}>{professional.rating ? professional.rating : '4.5'}</Text>\n            <Text style={styles.reviews}>- {professional.reviewCount ? professional.reviewCount : '52'} reviews</Text>\n          </View>\n        </View>\n        \n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst ProfessionalList = ({ professionals, onLoadMore, onProfessionalSelect }) => {\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={professionals}\n        renderItem={({ item }) => (\n          <ProfessionalCard \n            professional={item}\n            onPress={onProfessionalSelect}\n          />\n        )}\n        keyExtractor={item => item.id}\n        onEndReached={onLoadMore}\n        onEndReachedThreshold={0.5}\n        contentContainerStyle={styles.listContent}\n        style={styles.list}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  list: {\n    flex: 1,\n    height: '100%',\n  },\n  listContent: {\n    flexGrow: 1,\n  },\n  listItem: {\n    flexDirection: 'row',\n    padding: theme.spacing.medium,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: theme.spacing.medium,\n  },\n  infoContainer: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing.small,\n  },\n  name: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starProfessionalBadge: {\n    backgroundColor: theme.colors.primary,\n    padding: 4,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  starProfessionalText: {\n    fontSize: theme.fontSizes.small + 2,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  rating: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  ratingText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  reviews: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginLeft: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  repeats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  price: {\n    fontSize: theme.fontSizes.medium + 2,\n    fontWeight: 'bold',\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default ProfessionalList;","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { theme } from '../styles/theme';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default marker icons in Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nconst MapView = ({ professionals, onMarkerPress, region }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <WebMapComponent\n        professionals={professionals}\n        onMarkerPress={onMarkerPress}\n        region={region}\n      />\n    );\n  }\n\n  return (\n    <NativeMapComponent\n      professionals={professionals}\n      onMarkerPress={onMarkerPress}\n      region={region}\n    />\n  );\n};\n\nconst WebMapComponent = ({ professionals, onMarkerPress, region }) => {\n  const NumberedMarkerIcon = (number) => {\n    return L.divIcon({\n      className: 'custom-marker',\n      html: `<div style=\"\n        background-color: ${theme.colors.primary};\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: bold;\n      \">${number}</div>`,\n    });\n  };\n\n  return (\n    <div style={styles.mapContainer}>\n      <MapContainer\n        center={[region.latitude, region.longitude]}\n        zoom={13}\n        style={{ height: 'calc(100vh - 64px)', width: '100%' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {professionals.map((professional, index) => (\n          <Marker\n            key={professional.id}\n            position={[professional.coordinates.latitude, professional.coordinates.longitude]}\n            icon={NumberedMarkerIcon(index + 1)}\n            eventHandlers={{\n              click: () => onMarkerPress(professional),\n            }}\n          >\n            <Popup>\n              <div style={styles.popupContent}>\n                <h3>{index + 1}. {professional.name}</h3>\n                <p>{professional.location}</p>\n                <p>Starting at ${professional.startingRate}/night</p>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n      </MapContainer>\n    </div>\n  );\n};\n\nconst NativeMapComponent = ({ professionals, onMarkerPress, region }) => {\n  return (\n    <View style={styles.mapContainer}>\n      {/* Implement native map component here if needed */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mapContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    // height: 'calc(100vh - 64px)',\n  },\n  map: {\n    flex: 1,\n  },\n  markerContainer: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 20,\n    padding: theme.spacing.small,\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  markerText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  calloutContainer: {\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.small,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  calloutText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  popupContent: {\n    padding: 10,\n  },\n});\n\nexport default MapView;","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, Dimensions, TouchableOpacity, Text, useWindowDimensions } from 'react-native';\nimport SearchRefiner from '../components/SearchRefiner';\nimport ProfessionalList from '../components/ProfessionalList';\nimport MapView from '../components/MapView';\nimport { theme } from '../styles/theme';\nimport { mockProfessionals } from '../data/mockData'; // Import mock data\nimport MaterialCommunityIcons from '@expo/vector-icons/MaterialCommunityIcons';\n\nconst SearchProfessionalsListing = ({ navigation, route }) => {\n  const { width } = useWindowDimensions();\n  const isMobile = width < 1000;\n  const [activeView, setActiveView] = useState(isMobile ? 'filters' : 'all');\n  const [professionals, setProfessionals] = useState(mockProfessionals); // Use mock data\n  const [filters, setFilters] = useState({});\n  const [region, setRegion] = useState({\n    latitude: 38.8339,\n    longitude: -104.8214,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421,\n  });\n\n  useEffect(() => {\n    // Update active view when screen size changes\n    setActiveView(width < 1000 ? 'filters' : 'all');\n  }, [width]);\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', () => {\n      if (isMobile) {\n        setActiveView('filters');\n      }\n    });\n\n    return unsubscribe;\n  }, [navigation, isMobile]);\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    // Implement filtering logic here\n  };\n\n  const handleLoadMore = () => {\n    // Implement pagination logic\n  };\n\n  const handleProfessionalSelect = (professional) => {\n    navigation.navigate('ProfessionalProfile', { professional });\n  };\n\n  const renderContent = () => {\n    if (!isMobile) {\n      return (\n        <View style={styles.container}>\n          <View style={styles.filterColumn}>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n          </View>\n          <View style={styles.listColumn}>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </View>\n          <View style={styles.mapColumn}>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </View>\n        </View>\n      );\n    }\n\n    // Mobile view\n    return (\n      <View style={styles.containerMobile}>\n        {activeView === 'filters' && (\n          <>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n            <TouchableOpacity \n              style={styles.searchButton}\n              onPress={() => setActiveView('list')}\n            >\n              <Text style={styles.searchButtonText}>Search</Text>\n            </TouchableOpacity>\n          </>\n        )}\n        \n        {activeView === 'list' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <Text style={styles.mobileHeaderText}>Professionals</Text>\n              <View style={styles.mobileHeaderRight}>\n                <TouchableOpacity onPress={() => setActiveView('filters')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"filter\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => setActiveView('map')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"map\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </>\n        )}\n        \n        {activeView === 'map' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <TouchableOpacity onPress={() => setActiveView('list')}>\n                <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </>\n        )}\n      </View>\n    );\n  };\n\n  return renderContent();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    height: 'calc(100vh - 64px)',\n    maxHeight: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n  },\n  column: {\n    flex: 1,\n  },\n  filterColumn: {\n    flex: Platform.OS === 'web' ? 0.25 : 1,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  listColumn: {\n    flex: Platform.OS === 'web' ? 0.4 : 1,\n    backgroundColor: theme.colors.background,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  mapColumn: {\n    flex: Platform.OS === 'web' ? 0.35 : 1,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  mobileNav: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n  },\n  navButton: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n  },\n  activeNavButton: {\n    backgroundColor: theme.colors.secondary,\n    borderRadius: 5,\n  },\n  navButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  containerMobile: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderBottomWidth: 2,\n    padding: 10,\n    marginHorizontal: 10,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeaderText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  headerIcon: {\n    padding: 8,\n    marginLeft: 16,\n  },\n  mapButton: {\n    marginLeft: 20,\n  },\n  searchButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  searchButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default SearchProfessionalsListing;\n\n","// components/BookingCard.js\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst BookingCard = ({ booking, type, onViewDetails, onCancel }) => {\n  const { id, status, date, time } = booking;\n  const name = type === 'professional' ? booking.clientName : booking.professionalName;\n\n  return (\n    <TouchableOpacity \n      style={styles.card}\n      onPress={() => onViewDetails()}\n      activeOpacity={0.7}\n    >\n      <View>\n        <View style={styles.header}>\n          <Text style={styles.bookingId}>Booking #{id}</Text>\n          <Text style={[\n            styles.status,\n            { color: status === 'Confirmed' ? theme.colors.success : theme.colors.warning }\n          ]}>\n            {status}\n          </Text>\n        </View>\n\n        <Text style={styles.name}>\n          {type === 'professional' ? 'Client: ' : 'Professional: '}{name}\n        </Text>\n        \n        <Text style={styles.datetime}>\n          {date} at {time}\n        </Text>\n\n        <View style={styles.buttonContainer}>\n          <TouchableOpacity\n            style={[styles.button, styles.viewButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onViewDetails();\n            }}\n          >\n            <Text style={styles.buttonText}>View Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity\n            style={[styles.button, styles.cancelButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onCancel();\n            }}\n          >\n            <Text style={[styles.buttonText, styles.cancelButtonText]}>\n              Cancel Booking\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  bookingId: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  status: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  name: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  datetime: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  button: {\n    flex: 1,\n    padding: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  viewButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, FlatList, TouchableOpacity, ActivityIndicator, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport BookingCard from '../components/BookingCard';\nimport { mockProfessionalBookings, mockClientBookings } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyBookings = () => {\n  const navigation = useNavigation();\n  const { isApprovedProfessional, userRole, is_DEBUG } = useContext(AuthContext);\n  const [activeTab, setActiveTab] = useState(userRole === 'professional' ? 'professional' : 'client');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Handle role changes\n  useEffect(() => {\n    if (userRole === 'professional' && isApprovedProfessional) {\n      setActiveTab('professional');\n    }\n  }, [userRole, isApprovedProfessional]);\n\n  const fetchBookings = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Real API call logic\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      if (is_DEBUG) {\n        console.log('Fetching real bookings:', {\n          isApprovedProfessional,\n          userRole,\n          activeTab\n        });\n      }\n\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (activeTab === 'professional') {\n        setBookings(response.data.bookings.professional_bookings || []);\n      } else {\n        setBookings(response.data.bookings.client_bookings || []);\n      }\n    } catch (error) {\n      console.error('Error fetching bookings:', error);\n      setError('Failed to fetch bookings');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch bookings when component mounts or when dependencies change\n  useEffect(() => {\n    if (is_DEBUG) {\n      console.log('Fetching bookings due to dependency change:', {\n        activeTab,\n        userRole,\n        isApprovedProfessional\n      });\n    }\n    fetchBookings();\n  }, [activeTab, userRole, isApprovedProfessional]);\n\n  // Handle search\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n    \n    if (!query.trim()) {\n      fetchBookings();\n      return;\n    }\n\n    const searchLower = query.toLowerCase();\n    const filtered = bookings.filter(booking => {\n      if (activeTab === 'professional') {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.clientName.toLowerCase().includes(searchLower)\n        );\n      } else {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.professionalName.toLowerCase().includes(searchLower)\n        );\n      }\n    });\n\n    setBookings(filtered);\n  };\n\n  const handleViewDetails = async (booking) => {\n    if (is_DEBUG) {\n      console.log('Navigating to booking details:', {\n        bookingId: booking.booking_id || booking.id,\n        isProfessional: activeTab === 'professional'\n      });\n    }\n    \n    await navigateToFrom(navigation, 'BookingDetails', 'MyBookings', {\n      bookingId: booking.booking_id || booking.id,\n      isProfessional: activeTab === 'professional'\n    });\n  };\n\n  const handleCancelBooking = async (bookingId) => {\n    // Implement booking cancellation logic\n    if (is_DEBUG) {\n      console.log('Cancel booking:', bookingId);\n    }\n  };\n\n  const renderBookingCard = ({ item }) => (\n    <BookingCard\n      booking={{\n        id: item.booking_id || item.id,\n        clientName: item.client_name || item.clientName,\n        professionalName: item.professional_name || item.professionalName,\n        serviceName: item.service_type || item.serviceName,\n        date: item.start_date || item.date,\n        time: item.start_time || item.time,\n        status: item.status\n      }}\n      type={activeTab}\n      onViewDetails={() => handleViewDetails(item)}\n      onCancel={() => handleCancelBooking(item.booking_id || item.id)}\n    />\n  );\n\n  const EmptyStateMessage = () => (\n    <View style={styles.emptyStateContainer}>\n      <MaterialCommunityIcons \n        name={error ? \"alert-circle-outline\" : \"calendar-blank-outline\"} \n        size={64} \n        color={error ? theme.colors.error : theme.colors.primary} \n      />\n      <Text style={styles.emptyStateTitle}>\n        {error ? 'Error Getting Bookings' : 'No Bookings Found'}\n      </Text>\n      <Text style={styles.emptyStateSubtitle}>\n        {error \n          ? 'There was an error fetching your bookings. Please try again later.' \n          : activeTab === 'professional' \n            ? isApprovedProfessional \n              ? 'Create a service to start receiving bookings'\n              : 'Apply to become a professional to start receiving bookings'\n            : 'Browse available services to make your first booking'\n        }\n      </Text>\n      {!error && (\n        <TouchableOpacity\n          style={styles.createServiceButton}\n          onPress={() => navigation.navigate(\n            activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'ServiceManager'\n                : 'BecomeProfessional'\n              : 'SearchProfessionalsListing'\n          )}\n        >\n          <Text style={styles.createServiceButtonText}>\n            {activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'Create Service'\n                : 'Become Professional'\n              : 'Browse Services'\n            }\n          </Text>\n        </TouchableOpacity>\n      )}\n      {error && (\n        <TouchableOpacity\n          style={styles.retryButton}\n          onPress={fetchBookings}\n        >\n          <Text style={styles.retryButtonText}>Retry</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"My Bookings\"\n        onBackPress={() => handleBack(navigation)} // Use default 'More' route\n      />\n      \n      <View style={styles.container}>\n      {isApprovedProfessional && (\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n            onPress={() => setActiveTab('professional')}\n          >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>\n                Professional Bookings\n              </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n              <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>\n                Client Bookings\n              </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      <View style={styles.searchContainer}>\n          <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.placeholder} />\n        <TextInput\n          style={styles.searchInput}\n            placeholder=\"Search by Booking ID or Name\"\n          value={searchQuery}\n          onChangeText={handleSearch}\n        />\n      </View>\n\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n        ) : bookings.length > 0 ? (\n        <FlatList\n          data={bookings}\n          renderItem={renderBookingCard}\n          keyExtractor={item => (item.booking_id || item.id || Math.random().toString()).toString()}\n          contentContainerStyle={styles.listContainer}\n        />\n        ) : (\n          <EmptyStateMessage />\n      )}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    maxWidth: Platform.OS === 'web' ? 632 : 600, // 600 + padding for scrollbar\n    alignSelf: 'center',\n    padding: 16,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    maxHeight: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    backgroundColor: theme.colors.background,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  tab: {\n    flex: 1,\n    padding: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.primary,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeTabText: {\n    color: theme.colors.surface,\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 8,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  listContainer: {\n    paddingBottom: 16,\n    paddingHorizontal: Platform.OS === 'web' ? 16 : 0, // Space for scrollbar\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n  },\n  emptyStateTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginTop: 16,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  emptyStateSubtitle: {\n    fontSize: 16,\n    color: theme.colors.placeholder,\n    textAlign: 'center',\n    marginTop: 8,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  createServiceButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  createServiceButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  retryButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default MyBookings;","import React, { useState } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst AddRateModal = ({ visible, onClose, onAdd }) => {\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleAdd = () => {\n    if (!name || !amount) return;\n    onAdd({\n      name,\n      amount: parseFloat(amount),\n      description\n    });\n    setName('');\n    setAmount('');\n    setDescription('');\n    onClose();\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Add New Rate</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Rate Name *</Text>\n            <TextInput\n              style={styles.input}\n              value={name}\n              onChangeText={setName}\n              placeholder=\"Enter rate name\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Amount *</Text>\n            <TextInput\n              style={styles.input}\n              value={amount}\n              onChangeText={setAmount}\n              keyboardType=\"numeric\"\n              placeholder=\"Enter amount\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Description (optional)</Text>\n            <TextInput\n              style={[styles.input, styles.descriptionInput]}\n              value={description}\n              onChangeText={setDescription}\n              placeholder=\"Enter description\"\n              multiline\n            />\n          </View>\n\n          <TouchableOpacity\n            style={[styles.addButton, (!name || !amount) && styles.disabledButton]}\n            onPress={handleAdd}\n            disabled={!name || !amount}\n          >\n            <Text style={styles.addButtonText}>Add Rate</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  inputContainer: {\n    marginBottom: 15,\n  },\n  label: {\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  descriptionInput: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n});\n\nexport default AddRateModal;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, ActivityIndicator, TextInput, Alert, Platform, Modal } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { fetchBookingDetails, createBooking, updateBookingStatus, mockMessages, mockConversations, CURRENT_USER_ID, BOOKING_STATES } from '../data/mockData';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AddRateModal from '../components/AddRateModal';\nimport { format } from 'date-fns';\nimport AddOccurrenceModal from '../components/AddOccurrenceModal';\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { handleBack } from '../components/Navigation';\n\nconst LAST_VIEWED_BOOKING_ID = 'last_viewed_booking_id';\n\n// Replace with Services that professional offers\nconst SERVICE_OPTIONS = ['Dog Walking', 'Pet Sitting', 'House Sitting', 'Drop-In Visits'];\n// Replace with Animal types that the client owns\nconst ANIMAL_OPTIONS = ['Dog', 'Cat', 'Bird', 'Small Animal'];\n// Replace with the pets that the client has in their \"my pets\" tab\nconst PET_OPTIONS = [\n  { id: 'dog1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' },\n  { id: 'cat1', name: 'Luna', type: 'Cat', breed: 'Siamese' },\n  // Add more default options or fetch from an API\n];\n\nconst mockUpdateBookingPets = async (bookingId, pets) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst mockUpdateBookingService = async (bookingId, serviceDetails) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst formatDateWithoutTimezone = (dateString) => {\n  if (!dateString) return new Date();\n  // Split the date string to avoid timezone issues\n  const [year, month, day] = dateString.split('-').map(num => parseInt(num, 10));\n  return new Date(year, month - 1, day); // month is 0-based in JS Date\n};\n\nconst calculateTimeUnits = (startDate, endDate, startTime, endTime, timeUnit) => {\n  const start = new Date(`${startDate}T${startTime}`);\n  const end = new Date(`${endDate}T${endTime}`);\n  const diffMs = end - start;\n  \n  switch(timeUnit) {\n    case '15 min':\n      return Math.ceil(diffMs / (15 * 60 * 1000));\n    case '30 min':\n      return Math.ceil(diffMs / (30 * 60 * 1000));\n    case '45 min':\n      return Math.ceil(diffMs / (45 * 60 * 1000));\n    case '1 hr':\n      return Math.ceil(diffMs / (60 * 60 * 1000));\n    case '2 hr':\n      return Math.ceil(diffMs / (2 * 60 * 60 * 1000));\n    case '4 hr':\n      return Math.ceil(diffMs / (4 * 60 * 60 * 1000));\n    case '8 hr':\n      return Math.ceil(diffMs / (8 * 60 * 60 * 1000));\n    case '24 hr':\n    case 'per day':\n      return Math.ceil(diffMs / (24 * 60 * 60 * 1000));\n    case 'overnight':\n      return 1; // Overnight is typically counted as one unit\n    case 'per visit':\n      return 1; // Per visit is counted as one unit\n    default:\n      return 1;\n  }\n};\n\nconst calculateOccurrenceCost = (occurrence) => {\n  // If occurrence doesn't have rates, return 0\n  if (!occurrence.rates) {\n    return 0;\n  }\n  \n  const timeUnits = calculateTimeUnits(\n    occurrence.startDate,\n    occurrence.endDate,\n    occurrence.startTime,\n    occurrence.endTime,\n    occurrence.rates.timeUnit\n  );\n  \n  const baseTotal = occurrence.rates.baseRate * timeUnits;\n  const additionalRatesTotal = (occurrence.rates.additionalRates || [])\n    .reduce((sum, rate) => sum + parseFloat(rate.amount || 0), 0);\n    \n  return baseTotal + additionalRatesTotal;\n};\n\nconst RequestChangesModal = ({ visible, onClose, onSubmit, loading }) => {\n  const [reason, setReason] = useState('');\n\n  return (\n    <Modal visible={visible} transparent animationType=\"fade\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Changes</Text>\n          <TextInput\n            style={styles.reasonInput}\n            placeholder=\"Enter reason for changes...\"\n            value={reason}\n            onChangeText={setReason}\n            multiline\n            numberOfLines={4}\n          />\n          <View style={styles.modalButtons}>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.cancelButton]}\n              onPress={onClose}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.submitButton]}\n              onPress={() => onSubmit(reason)}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\n              ) : (\n                <Text style={styles.submitButtonText}>Submit</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst BookingDetails = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { is_DEBUG } = useContext(AuthContext);\n  const [booking, setBooking] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isProfessionalView, setIsProfessionalView] = useState(false);\n  const [isPetsEditMode, setIsPetsEditMode] = useState(false);\n  const [isServiceEditMode, setIsServiceEditMode] = useState(false);\n  const [editedBooking, setEditedBooking] = useState({\n    serviceDetails: {\n      type: '',\n      animalType: '',\n      numberOfPets: 0\n    },\n    rates: {\n      additionalPetRate: 0,\n      holidayFee: 0,\n      weekendFee: 0,\n      extraServices: []\n    }\n  });\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [timeDropdownPosition, setTimeDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const timeInputRef = useRef(null);\n  const [showAddRateModal, setShowAddRateModal] = useState(false);\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showPetRateDropdown, setShowPetRateDropdown] = useState(false);\n  const [showAdditionalPetRate, setShowAdditionalPetRate] = useState(true);\n  const [showHolidayRate, setShowHolidayRate] = useState(true);\n  const [showWeekendRate, setShowWeekendRate] = useState(true);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [expandedOccurrenceId, setExpandedOccurrenceId] = useState(null);\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [isPetsSaving, setIsPetsSaving] = useState(false);\n  const [isServiceSaving, setIsServiceSaving] = useState(false);\n  const [showRequestChangesModal, setShowRequestChangesModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [availablePets, setAvailablePets] = useState([]);\n  const [isLoadingPets, setIsLoadingPets] = useState(false);\n  const [availableServices, setAvailableServices] = useState([]);\n  const [isLoadingServices, setIsLoadingServices] = useState(false);\n\n  useEffect(() => {\n    const fetchBooking = async () => {\n      setLoading(true);\n      \n      try {\n        let bookingId = route.params?.bookingId;\n        let initialData = route.params?.initialData;\n        let isProfessional = route.params?.isProfessional;\n        setIsProfessionalView(isProfessional);\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetching booking with params:', {\n            bookingId,\n            initialData,\n            isProfessional\n          });\n        }\n\n        // Real API call\n        if (!bookingId) {\n          navigation.replace('MyBookings');\n          return;\n        }\n\n        let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        const response = await axios.get(\n          `${API_BASE_URL}/api/bookings/v1/${bookingId}/?is_prorated=true`,\n          { headers: { Authorization: `Bearer ${token}` }}\n        );\n\n        // Transform API response to match the expected format\n        const transformedBooking = {\n          ...response.data,\n          id: response.data.booking_id,\n          clientName: response.data.client_name,\n          professionalName: response.data.professional_name,\n          serviceType: response.data.service_details.service_type,\n          animalType: response.data.service_details.animal_type,\n          numberOfPets: response.data.service_details.num_pets,\n          costs: response.data.cost_summary,\n          status: response.data.status\n        };\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetched and transformed booking data:', transformedBooking);\n        }\n        setBooking(transformedBooking);\n      } catch (error) {\n        console.error('Error fetching booking details:', error);\n        Alert.alert(\n          'Error',\n          'Unable to load booking details. Please try again.',\n          [{ text: 'OK', onPress: () => navigation.replace('MyBookings') }]\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBooking();\n  }, [route.params?.bookingId, navigation]);\n\n  // Add helper function to safely display data\n  const getDisplayValue = (value, placeholder = 'TBD') => {\n    if (value === null || value === undefined || value === '') {\n      return placeholder;\n    }\n    return value;\n  };\n\n  // Reset edit mode when component mounts or reloads\n  useEffect(() => {\n    setIsPetsEditMode(false);\n    setIsServiceEditMode(false);\n  }, []);\n\n  // Add this useEffect to properly initialize editedBooking\n  useEffect(() => {\n    if (booking) {\n      if (is_DEBUG) {\n        console.log('BookingDetails: Booking updated, current value:', booking);\n      }\n      setEditedBooking({\n        ...booking,\n        serviceDetails: {\n          type: booking.serviceType || '',\n          animalType: booking.animalType || '',\n          numberOfPets: (booking.pets || []).length  // Initialize based on pets array length\n        },\n        rates: {\n          additionalPetRate: booking.rates?.additionalPetRate ?? 0,\n          holidayFee: booking.rates?.holidayFee ?? 0,\n          weekendFee: booking.rates?.weekendFee ?? 0,\n          extraServices: booking.rates?.extraServices || []\n        }\n      });\n    }\n  }, [booking]);\n\n  const canEdit = () => {\n\n    if (!booking) {\n      console.log('BookingDetails: Booking is undefined');\n      return false;\n    }\n\n    if (is_DEBUG) {\n      console.log('Booking edit ability:', booking.can_edit);\n    }\n\n    // For real API mode, use the backend's can_edit field\n    return booking.can_edit;\n  };\n\n  // Add function to fetch available pets\n  const fetchAvailablePets = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available pets with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingPets(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/available_pets/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailablePets(response.data);\n      if (is_DEBUG) {\n        console.log('available pets:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available pets:', error);\n      Alert.alert('Error', 'Failed to fetch available pets');\n    } finally {\n      setIsLoadingPets(false);\n    }\n  };\n\n  const togglePetsEditMode = async () => {\n    if (isPetsEditMode) {\n      // Save changes\n      try {\n        setIsPetsSaving(true);\n        \n        setBooking(prev => ({\n          ...prev,\n          pets: selectedPets\n        }));\n        setIsPetsEditMode(false);\n      } catch (error) {\n        console.error('Error updating pets:', error);\n        Alert.alert('Error', 'Failed to update pets');\n      } finally {\n        setIsPetsSaving(false);\n      }\n    } else {\n      setSelectedPets(booking.pets || []);\n      setIsPetsEditMode(true);\n    }\n  };\n\n  const renderPetSelector = () => {\n    if (!isPetsEditMode) {\n      return (\n        <View>\n          {booking?.pets?.length > 0 ? (\n            booking.pets.map((pet, index) => (\n              <View key={index} style={styles.petRow}>\n                <Text style={styles.petName}>\n                  {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n                </Text>\n              </View>\n            ))\n          ) : (\n            <Text style={styles.noContentText}>No pets added to this booking</Text>\n          )}\n        </View>\n      );\n    }\n\n    return (\n      <View>\n        {selectedPets.map((pet, index) => (\n          <View key={index} style={styles.petRow}>\n            <Text style={styles.petName}>\n              {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n            </Text>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter((_, i) => i !== index))}\n            >\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity\n          style={styles.addPetButton}\n          onPress={async () => {\n            if (!showPetDropdown) {\n              await fetchAvailablePets();\n            }\n            setShowPetDropdown(!showPetDropdown);\n          }}\n        >\n          <Text style={styles.addPetText}>Add Pet</Text>\n          <MaterialCommunityIcons \n            name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.text} \n          />\n        </TouchableOpacity>\n\n        {showPetDropdown && (\n          <View style={styles.dropdownList}>\n            <ScrollView nestedScrollEnabled={true} style={{ maxHeight: 200 }}>\n              {isLoadingPets ? (\n                <ActivityIndicator style={{ padding: 10 }} />\n              ) : (\n                availablePets.filter(pet => !selectedPets.some(selected => selected.pet_id === pet.pet_id))\n                  .map((pet) => (\n                    <TouchableOpacity\n                      key={pet.pet_id || pet.id}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        setSelectedPets(prev => [...prev, pet]);\n                        setShowPetDropdown(false);\n                      }}\n                    >\n                      <Text style={styles.dropdownText}>\n                        {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n                      </Text>\n                    </TouchableOpacity>\n                  ))\n              )}\n              {!isLoadingPets && availablePets.length === 0 && (\n                <Text style={styles.noContentText}>No pets available</Text>\n              )}\n            </ScrollView>\n          </View>\n        )}\n      </View>\n    );\n  };\n\n  // Add function to fetch available services\n  const fetchAvailableServices = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available services with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingServices(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/available_services/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailableServices(response.data);\n      if (is_DEBUG) {\n        console.log('available services:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available services:', error);\n      Alert.alert('Error', 'Failed to fetch available services');\n    } finally {\n      setIsLoadingServices(false);\n    }\n  };\n\n  const toggleServiceEditMode = async () => {\n    if (isServiceEditMode) {\n      // Save changes\n      try {\n        setIsServiceSaving(true);\n        \n        setBooking(prev => ({\n          ...prev,\n          service_details: editedBooking.service_details\n        }));\n        setIsServiceEditMode(false);\n      } catch (error) {\n        console.error('Error updating service:', error);\n        Alert.alert('Error', 'Failed to update service details');\n      } finally {\n        setIsServiceSaving(false);\n      }\n    } else {\n      setEditedBooking(prev => ({\n        ...prev,\n        service_details: {\n          ...booking.service_details\n        }\n      }));\n      await fetchAvailableServices();\n      setIsServiceEditMode(true);\n    }\n  };\n\n  const StatusBadge = ({ status }) => (\n    <View style={styles.statusContainer}>\n      <Text style={styles.statusLabel}>Booking Status:</Text>\n      <View style={[\n        styles.statusBadge,\n        { backgroundColor: getStatusColor(status).backgroundColor }\n      ]}>\n        <Text style={[\n          styles.statusText,\n          { color: getStatusColor(status).textColor }\n        ]}>\n          {status}\n        </Text>\n      </View>\n    </View>\n  );\n\n  const getStatusColor = (status) => {\n    const colors = {\n      Pending: { backgroundColor: theme.colors.warning + '20', textColor: theme.colors.warning },\n      Confirmed: { backgroundColor: theme.colors.success + '20', textColor: theme.colors.success },\n      Canceled: { backgroundColor: theme.colors.error + '20', textColor: theme.colors.error },\n      Completed: { backgroundColor: theme.colors.primary + '20', textColor: theme.colors.primary },\n    };\n    return colors[status] || colors.Pending;\n  };\n\n  const handleRemoveService = (index) => {\n    // Add this function since it's referenced in the code\n    if (is_DEBUG) {\n      console.log('Removing service at index:', index);\n    }\n  };\n\n  const renderEditButton = () => (\n    canEdit() && (\n      <TouchableOpacity \n        onPress={togglePetsEditMode}\n        style={[styles.editButton, isPetsEditMode && styles.saveButton]}\n        testID=\"edit-button\"\n        disabled={isPetsSaving}\n      >\n        {isPetsSaving ? (\n          <ActivityIndicator size=\"small\" color={theme.colors.primary} />\n        ) : (\n          isPetsEditMode ? (\n            <Text style={styles.saveButtonText}>Save Pets</Text>\n          ) : (\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          )\n        )}\n      </TouchableOpacity>\n    )\n  );\n\n  const handleUpdatePets = (text) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      serviceDetails: {\n        ...prev.serviceDetails,\n        numberOfPets: text\n      }\n    }));\n  };\n\n  const handleUpdateDuration = (newDuration) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      duration: parseInt(newDuration),\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const handleRemoveRate = (index) => {\n    const updatedRates = [...editedBooking.rates.extraServices];\n    updatedRates.splice(index, 1);\n    \n    setEditedBooking(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        extraServices: updatedRates\n      }\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const recalculateTotals = async () => {\n    try {\n      const baseTotal = editedBooking.rates.baseRate * editedBooking.quantity;\n      const extraServicesTotal = editedBooking.rates.extraServices.reduce((sum, service) => sum + service.amount, 0);\n      const holidayFee = editedBooking.rates.holidayFee || 0;\n      const weekendFee = editedBooking.rates.weekendFee || 0;\n      \n      // Calculate additional pet fees (assuming 1 pet included in base rate)\n      const additionalPets = Math.max(0, editedBooking.numberOfPets - 1);\n      const additionalPetTotal = additionalPets * (editedBooking.rates.additionalPetRate || 0);\n      \n      const subtotal = baseTotal + extraServicesTotal + holidayFee + weekendFee + additionalPetTotal;\n      const clientFee = subtotal * 0.10;\n      const taxes = subtotal * 0.09;\n      const totalClientCost = subtotal + clientFee + taxes;\n      const professionalPayout = subtotal * 0.90;\n\n      setEditedBooking(prev => ({\n        ...prev,\n        costs: {\n          baseTotal,\n          extraServicesTotal,\n          additionalPetTotal,\n          subtotal,\n          clientFee,\n          taxes,\n          totalClientCost,\n          professionalPayout\n        }\n      }));\n    } catch (error) {\n      console.error('Error recalculating totals:', error);\n    }\n  };\n\n  const calculateTotalCosts = (occurrences) => {\n    const subtotal = occurrences.reduce((sum, occ) => \n      sum + parseFloat(occ.calculated_cost || 0), 0);\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n    const totalSitterPayout = subtotal * 0.90; // 90% of subtotal goes to sitter\n    \n    return {\n      subtotal,\n      platform_fee: platformFee,\n      taxes,\n      total_client_cost: totalClientCost,\n      total_sitter_payout: totalSitterPayout\n    };\n  };\n\n  const handleSaveOccurrence = async (updatedOccurrence) => {\n    if (is_DEBUG) {\n      console.log('Saving occurrence:', updatedOccurrence);\n    }\n\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n\n      // Transform the occurrence data for the backend\n      const occurrenceData = {\n        occurrence_id: updatedOccurrence.id || updatedOccurrence.occurrence_id,  // Try both id and occurrence_id\n        start_date: updatedOccurrence.startDate,\n        end_date: updatedOccurrence.endDate,\n        start_time: updatedOccurrence.startTime,\n        end_time: updatedOccurrence.endTime,\n        rates: {\n          base_rate: updatedOccurrence.rates.baseRate,\n          additional_animal_rate: updatedOccurrence.rates.additionalAnimalRate,\n          applies_after: updatedOccurrence.rates.appliesAfterAnimals,\n          unit_of_time: updatedOccurrence.rates.timeUnit.toUpperCase().replace(/ /g, '_'),\n          holiday_rate: updatedOccurrence.rates.holidayRate,\n          holiday_days: 0,\n          additional_rates: updatedOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${rate.amount}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending occurrence data to backend:', occurrenceData);\n      }\n\n      // Real API mode\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // First update the occurrence\n      const updateResponse = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend update response:', updateResponse.data);\n      }\n\n      // Then fetch the latest booking data to ensure we have the most up-to-date state\n      const bookingResponse = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/?is_prorated=true`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Fetched updated booking data:', bookingResponse.data);\n      }\n\n      // Transform API response to match the expected format\n      const transformedBooking = {\n        ...bookingResponse.data,\n        id: bookingResponse.data.booking_id,\n        clientName: bookingResponse.data.client_name,\n        professionalName: bookingResponse.data.professional_name,\n        serviceType: bookingResponse.data.service_details.service_type,\n        animalType: bookingResponse.data.service_details.animal_type,\n        numberOfPets: bookingResponse.data.service_details.num_pets,\n        costs: bookingResponse.data.cost_summary,\n        status: bookingResponse.data.status\n      };\n\n      // Update the booking state with the fresh data\n      setBooking(transformedBooking);\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error saving occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to save occurrence details');\n    }\n  };\n\n  const handleAddOccurrence = async (newOccurrence) => {\n    try {\n      if (!booking) return;\n\n      if (is_DEBUG) {\n        console.log('Adding new occurrence:', newOccurrence);\n      }\n\n      // Real API mode\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Transform the occurrence data to match backend expectations\n      const occurrenceData = {\n        start_date: newOccurrence.startDate,\n        end_date: newOccurrence.endDate,\n        start_time: newOccurrence.startTime,\n        end_time: newOccurrence.endTime,\n        rates: {\n          base_rate: newOccurrence.rates.baseRate,\n          additional_animal_rate: newOccurrence.rates.additionalAnimalRate,\n          applies_after: newOccurrence.rates.appliesAfterAnimals,\n          holiday_rate: newOccurrence.rates.holidayRate,\n          unit_of_time: newOccurrence.rates.timeUnit.toUpperCase().replace(' ', '_'),\n          additional_rates: newOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${parseFloat(rate.amount).toFixed(2)}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending new occurrence data to backend:', occurrenceData);\n      }\n\n      const response = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend response:', response.data);\n      }\n\n      // Update booking status and data from response\n      if (response.data.booking_status) {\n        setBooking(prevBooking => ({\n          ...prevBooking,\n          status: response.data.booking_status\n        }));\n      }\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to add occurrence');\n    }\n  };\n\n  const handleStatusUpdateAfterEdit = async () => {\n    if (!booking) return;\n\n    // If booking is already in a pending changes state, no need to update\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n    ].includes(booking.status)) {\n      return;\n    }\n\n    // Update status based on current status\n    let newStatus;\n    if (booking.status === BOOKING_STATES.CONFIRMED) {\n      newStatus = BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES;\n    } else {\n      newStatus = BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES;\n    }\n\n    await handleStatusUpdate(newStatus);\n  };\n\n  const handleDateTimeCardPress = (occurrence) => {\n    if (is_DEBUG) {\n      console.log('Original occurrence:', occurrence);\n    }\n\n    const transformedOccurrence = {\n      id: occurrence.occurrence_id,\n      occurrence_id: occurrence.occurrence_id,  // Make sure we set both id and occurrence_id\n      startDate: occurrence.start_date,\n      endDate: occurrence.end_date,\n      startTime: occurrence.start_time,\n      endTime: occurrence.end_time,\n      rates: {\n        baseRate: occurrence.rates?.base_rate?.toString() || '0',\n        additionalAnimalRate: occurrence.rates?.additional_animal_rate?.toString() || '0',\n        appliesAfterAnimals: occurrence.rates?.applies_after?.toString() || '1',\n        holidayRate: occurrence.rates?.holiday_rate?.toString() || '0',\n        timeUnit: occurrence.rates?.unit_of_time?.toLowerCase().replace(/_/g, ' ') || 'per visit',\n        additionalRates: (occurrence.rates?.additional_rates || [])\n          .filter(rate => rate.title !== 'Booking Details Cost')\n          .map(rate => ({\n            name: rate.title,\n            description: rate.description || '',\n            amount: (rate.amount?.replace(/[^0-9.]/g, '') || '0').toString()\n          }))\n      },\n      totalCost: occurrence.calculated_cost?.toString() || '0',\n      baseTotal: (occurrence.base_total?.replace(/[^0-9.]/g, '') || '0').toString(),\n      multiple: calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n    };\n\n    if (is_DEBUG) {\n      console.log('Transformed occurrence for modal:', transformedOccurrence);\n    }\n    setSelectedOccurrence(transformedOccurrence);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const getTimeUnitDisplay = (unit) => {\n    if (!unit) return 'per visit';\n    const formatted = unit.toLowerCase().replace('_', ' ');\n    return formatted;\n  };\n\n  const calculateMultiple = (baseTotal, baseRate) => {\n    if (!baseRate || baseRate === 0) return 0;\n    const total = parseFloat(baseTotal.replace('$', ''));\n    const rate = parseFloat(baseRate);\n    return (total / rate).toFixed(2);\n  };\n\n  const renderCostBreakdown = () => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>Cost Breakdown</Text>\n      \n      {(booking?.occurrences || []).map((occurrence, index) => (\n        <TouchableOpacity \n          key={index}\n          style={styles.occurrenceCostRow}\n          onPress={() => setExpandedOccurrenceId(\n            expandedOccurrenceId === occurrence.occurrence_id ? null : occurrence.occurrence_id\n          )}\n        >\n          <View style={styles.occurrenceCostHeader}>\n            <Text style={styles.occurrenceCostHeaderText}>\n              {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n              }\n            </Text>\n            <View style={styles.costAndIcon}>\n              <Text style={styles.occurrenceCost}>\n                ${parseFloat(occurrence.calculated_cost || 0).toFixed(2)}\n              </Text>\n              <MaterialCommunityIcons \n                name={expandedOccurrenceId === occurrence.occurrence_id ? \"chevron-up\" : \"chevron-down\"}\n                size={20} \n                color={theme.colors.text} \n              />\n            </View>\n          </View>\n          \n          {expandedOccurrenceId === occurrence.occurrence_id && (\n            <View style={styles.expandedCostDetails}>\n              <View style={styles.costDetailRow}>\n                <Text style={styles.costDetailText}>Base Rate ({getTimeUnitDisplay(occurrence.rates?.unit_of_time)}):</Text>\n                <Text style={styles.costDetailText}>\n                  ${parseFloat(occurrence.rates?.base_rate || 0).toFixed(2)} × {\n                    calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n                  } = ${parseFloat(occurrence.base_total.replace('$', '')).toFixed(2)}\n                </Text>\n              </View>\n              {occurrence.rates?.additional_animal_rate_applies && occurrence.rates?.additional_animal_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Additional Animal Rate (after {occurrence.rates.applies_after} animals):</Text>\n                  <Text style={styles.costDetailText}>${parseFloat(occurrence.rates.additional_animal_rate).toFixed(2)}</Text>\n                </View>\n              )}\n              {occurrence.rates?.holiday_days > 0 && occurrence.rates?.holiday_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Holiday Rate ({occurrence.rates.holiday_days} day{occurrence.rates.holiday_days > 1 ? 's' : ''}):</Text>\n                  <Text style={styles.costDetailText}>${(parseFloat(occurrence.rates.holiday_rate) * occurrence.rates.holiday_days).toFixed(2)}</Text>\n                </View>\n              )}\n              {(occurrence.rates?.additional_rates || [])\n                .filter(rate => rate.title !== 'Booking Details Cost')\n                .map((rate, idx) => (\n                  <View key={idx} style={styles.costDetailRow}>\n                    <Text style={styles.costDetailText}>{rate.title}:</Text>\n                    <Text style={styles.costDetailText}>${parseFloat(rate.amount.replace('$', '')).toFixed(2)}</Text>\n                  </View>\n              ))}\n            </View>\n          )}\n        </TouchableOpacity>\n      ))}\n\n      <View style={styles.costSummary}>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Subtotal:</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.subtotal || 0).toFixed(2)}</Text>\n        </View>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Platform Fee (10%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.platform_fee || 0).toFixed(2)}</Text>\n        </View>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Taxes (8%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.taxes || 0).toFixed(2)}</Text>\n        </View>\n        <View style={[styles.summaryRow, styles.totalRow]}>\n          <Text style={styles.totalLabel}>Total Cost to Client:</Text>\n          <Text style={styles.totalAmount}>\n            ${(booking?.cost_summary?.total_client_cost || 0).toFixed(2)}\n          </Text>\n        </View>\n        <View style={[styles.summaryRow, styles.payoutRow]}>\n          <Text style={styles.payoutLabel}>Sitter Payout:</Text>\n          <Text style={styles.payoutAmount}>\n            ${(booking?.cost_summary?.total_sitter_payout || 0).toFixed(2)}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const formatTimeString = (dateStr, timeStr) => {\n    if (!dateStr || !timeStr) return '';\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date(dateStr);\n    date.setHours(parseInt(hours, 10), parseInt(minutes, 10));\n    return format(date, 'h:mm a');\n  };\n\n  const sendBookingMessage = async (bookingId, recipientId, messageType) => {\n    try {\n      if (!booking) {\n        throw new Error('No booking data available');\n      }\n\n      if (is_DEBUG) {\n        console.log('Sending booking message:', {\n          bookingId,\n          recipientId,\n          messageType,\n          booking\n        });\n      }\n\n      // Find the existing conversation with Dr. Mike Johnson\n      const conversationId = 'conv_2'; // This is the existing conversation ID from mockData\n      if (is_DEBUG) {\n        console.log('Using existing conversation:', conversationId);\n      }\n\n      const bookingMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: CURRENT_USER_ID,\n        participant2_id: recipientId,\n        sender: CURRENT_USER_ID,\n        type: 'booking_request',\n        data: {\n          bookingId: bookingId,\n          messageType: messageType,\n          serviceType: booking.serviceType,\n          dates: booking.occurrences.map(occ => ({\n            startDate: occ.start_date,\n            endDate: occ.end_date,\n            startTime: occ.start_time,\n            endTime: occ.end_time\n          })),\n          totalCost: booking.costs.totalClientCost,\n          status: booking.status\n        },\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      // Add message to existing conversation\n      if (!mockMessages[conversationId]) {\n        mockMessages[conversationId] = [];\n      }\n      mockMessages[conversationId].push(bookingMessage);\n\n      // Update the conversation's last message\n      const conversation = mockConversations.find(conv => conv.id === conversationId);\n      if (conversation) {\n        conversation.lastMessage = \"Booking update sent\";\n        conversation.timestamp = new Date().toISOString();\n        conversation.unread = true;\n      }\n\n      if (is_DEBUG) {\n        console.log('Message sent successfully to conversation:', conversationId);\n        console.log('Updated conversation messages:', mockMessages[conversationId]);\n      }\n      return true;\n    } catch (error) {\n      console.error('Error sending booking message:', error);\n      return false;\n    }\n  };\n\n  const handleStatusUpdate = async (newStatus, reason = '', metadata = {}) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // First send the message\n      if (newStatus === BOOKING_STATES.PENDING_CLIENT_APPROVAL) {\n        const messageSent = await sendBookingMessage(\n          booking.id,\n          booking.clientId || 'client123',\n          'professional_changes'\n        );\n        if (!messageSent) {\n          throw new Error('Failed to send booking message');\n        }\n      }\n\n      // Then update the booking status\n      if (is_DEBUG) {\n        console.log('Updating booking status:', {\n          bookingId: booking.id,\n          currentStatus: booking.status,\n          newStatus,\n          reason,\n          metadata\n        });\n      }\n\n      const updatedBooking = await updateBookingStatus(\n        booking.id, \n        newStatus, \n        reason, \n        {\n          ...metadata,\n          occurrences: booking.occurrences,\n          costs: booking.costs\n        }\n      );\n\n      setBooking(updatedBooking);\n      setHasUnsavedChanges(false);\n      Alert.alert('Success', `Booking ${newStatus.toLowerCase()} successfully`);\n    } catch (error) {\n      console.error('Error updating booking status:', error);\n      Alert.alert('Error', 'Failed to update booking status');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n    }\n  };\n\n  const handleRequestChanges = async (reason) => {\n    await handleStatusUpdate(BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES, reason);\n    setShowRequestChangesModal(false);\n  };\n\n  const showConfirmation = (actionText, onConfirm) => {\n    setConfirmationModal({\n      visible: true,\n      actionText,\n      onConfirm,\n      isLoading: false\n    });\n  };\n\n  const hideConfirmation = () => {\n    setConfirmationModal({\n      visible: false,\n      actionText: '',\n      onConfirm: null,\n      isLoading: false\n    });\n  };\n\n  const renderActionButtons = () => {\n    if (!booking) return null;\n\n    const buttons = [];\n\n    if (isProfessionalView) {\n      // Send to Client button - Professional Only\n      if ([\n        BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"send\"\n            style={[styles.button, styles.primaryButton]}\n            onPress={() => showConfirmation(\n              'send these changes to the client',\n              () => handleStatusUpdate(BOOKING_STATES.PENDING_CLIENT_APPROVAL)\n            )}\n          >\n            <Text style={styles.buttonText}>Send to Client</Text>\n          </TouchableOpacity>\n        );\n      }\n\n      // Deny button - Professional Only\n      if (booking.status === BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"deny\"\n            style={[styles.button, styles.denyButton]}\n            onPress={() => showConfirmation(\n              'deny this booking',\n              () => handleStatusUpdate(BOOKING_STATES.DENIED)\n            )}\n          >\n            <Text style={styles.buttonText}>Deny</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    // Cancel button - Both Professional and Client\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n    ].includes(booking.status)) {\n      buttons.push(\n        <TouchableOpacity\n          key=\"cancel\"\n          style={[styles.button, styles.cancelButton]}\n          onPress={() => showConfirmation(\n            'cancel this booking',\n            () => handleStatusUpdate(BOOKING_STATES.CANCELLED)\n          )}\n        >\n          <Text style={styles.cancelButtonText}>Cancel Booking</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    // Client-specific buttons\n    if (!isProfessionalView) {\n      // Approve button - Client Only\n      if ([\n        BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n        BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"approve\"\n            style={[styles.button, styles.approveButton]}\n            onPress={() => showConfirmation(\n              'approve this booking',\n              () => handleStatusUpdate(BOOKING_STATES.CONFIRMED)\n            )}\n          >\n            <Text style={styles.buttonText}>Approve</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    return (\n      <View style={styles.actionButtonsContainer}>\n        {buttons}\n      </View>\n    );\n  };\n\n  // Add this effect to update editedBooking when booking changes\n  useEffect(() => {\n    if (booking) {\n      setEditedBooking(booking);\n    }\n  }, [booking]);\n\n  const handleServiceTypeChange = (newServiceType) => {\n    if (is_DEBUG) {\n      console.log('Previous editedBooking:', editedBooking);\n      console.log('New service type:', newServiceType);\n    }\n    \n    setEditedBooking(prev => {\n      const updated = {\n        ...prev,\n        serviceDetails: {\n          ...prev.serviceDetails,\n          type: newServiceType\n        }\n      };\n      if (is_DEBUG) {\n        console.log('Updated editedBooking:', updated);\n      }\n      return updated;\n    });\n  };\n\n  const renderServiceTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{editedBooking?.service_details?.service_type || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {isLoadingServices ? (\n              <ActivityIndicator style={{ padding: 10 }} />\n            ) : (\n              availableServices.map((service) => (\n                <TouchableOpacity\n                  key={service.service_id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setEditedBooking(prev => ({\n                      ...prev,\n                      service_details: {\n                        ...prev.service_details,\n                        service_type: service.service_name,\n                        service_id: service.service_id\n                      }\n                    }));\n                    setShowServiceDropdown(false);\n                  }}\n                >\n                  <Text style={[\n                    styles.dropdownText,\n                    editedBooking?.service_details?.service_type === (service.service_name) && styles.selectedOption\n                  ]}>\n                    {service.service_name}\n                  </Text>\n                </TouchableOpacity>\n              ))\n            )}\n            {!isLoadingServices && availableServices.length === 0 && (\n              <Text style={styles.noContentText}>No services available</Text>\n            )}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderAnimalTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowAnimalDropdown(!showAnimalDropdown)}\n      >\n        <Text>{editedBooking?.serviceDetails?.animalType || 'Select Animal Type'}</Text>\n        <MaterialCommunityIcons \n          name={showAnimalDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showAnimalDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {ANIMAL_OPTIONS.map((animal) => (\n              <TouchableOpacity\n                key={animal}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setEditedBooking(prev => ({\n                    ...prev,\n                    serviceDetails: {\n                      ...(prev.serviceDetails || {}),\n                      animalType: animal\n                    }\n                  }));\n                  setShowAnimalDropdown(false);\n                  handleStatusUpdateAfterEdit();\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  editedBooking?.serviceDetails?.animalType === animal && styles.selectedOption\n                ]}>\n                  {animal}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderDateTimeSection = () => (\n    <View>\n      <Text style={styles.sectionTitle}>\n        {canEdit() ? \"Dates & Times (Set Rates for Dates)\" : \"Dates & Times\"}\n      </Text>\n      {(booking?.occurrences || []).map((occurrence, index) => (\n        canEdit() ? (\n          <TouchableOpacity \n            key={index}\n            style={styles.occurrenceCard}\n            onPress={() => handleDateTimeCardPress(occurrence)}\n          >\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n            <View style={styles.occurrenceActions}>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => confirmDeleteOccurrence(occurrence.occurrence_id)}\n              >\n                <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => handleDateTimeCardPress(occurrence)}\n              >\n                <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n          </TouchableOpacity>\n        ) : (\n          <View key={index} style={styles.occurrenceCard}>\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n          </View>\n        )\n      ))}\n      \n      {canEdit() && (\n        <TouchableOpacity\n          style={styles.addOccurrenceButton}\n          onPress={() => {\n            setSelectedOccurrence(null);\n            setShowAddOccurrenceModal(true);\n          }}\n        >\n          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n          <Text style={styles.addOccurrenceText}>Add Occurrence</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  const handleDeleteOccurrence = async (occurrenceId) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      const updatedOccurrences = booking.occurrences.filter(occ => occ.occurrence_id !== occurrenceId);\n      \n      setBooking(prev => ({\n        ...prev,\n        occurrences: updatedOccurrences,\n        costs: calculateTotalCosts(updatedOccurrences)\n      }));\n      \n      handleStatusUpdateAfterEdit();\n    } catch (error) {\n      console.error('Error deleting occurrence:', error);\n      Alert.alert('Error', 'Failed to delete occurrence');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n      \n      setTimeout(() => {\n        setConfirmationModal({ \n          visible: false, \n          actionText: '', \n          onConfirm: null, \n          isLoading: false \n        });\n      }, 300);\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrenceId) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrenceId),\n      isLoading: false\n    });\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"Booking Details\"\n        onBackPress={() => handleBack(navigation)}\n      />\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      ) : !booking ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Unable to load booking details</Text>\n        </View>\n      ) : (\n        <ScrollView style={styles.container}>\n          <StatusBadge status={getDisplayValue(booking?.status, 'Pending Professional Changes')} />\n          \n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Booking Parties</Text>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Client: </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.clientName)}</Text>\n            </View>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Professional:  </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.professionalName)}</Text>\n            </View>\n          </View>\n\n          <View style={[styles.section, styles.petsSection]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Booking Pets</Text>\n              {renderEditButton()}\n            </View>\n            \n            {renderPetSelector()}\n          </View>\n\n          <View style={[styles.section, { zIndex: 2 }]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Service Details</Text>\n              {canEdit() && (\n                <TouchableOpacity \n                  onPress={toggleServiceEditMode}\n                  style={[styles.sectionEditButton, isServiceEditMode && styles.saveButton]}\n                  disabled={isServiceSaving}\n                  testID=\"edit-button\"\n                >\n                  {isServiceEditMode ? (\n                    isServiceSaving ? (\n                      <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n                    ) : (\n                      <Text style={styles.saveButtonText}>Save Service Details</Text>\n                    )\n                  ) : (\n                    <MaterialCommunityIcons \n                      name=\"pencil\"\n                      size={24} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </TouchableOpacity>\n              )}\n            </View>\n            {isServiceEditMode ? (\n              <View style={styles.serviceEditContainer}>\n                <View style={[styles.serviceInputRow, { zIndex: 3 }]}>\n                  <Text style={styles.inputLabel}>Service Type:</Text>\n                  <View style={styles.inputContainer}>\n                    {renderServiceTypeDropdown()}\n                  </View>\n                </View>\n              </View>\n            ) : (\n              <View style={styles.serviceDetailsContainer}>\n                <View style={styles.serviceDetailRow}>\n                  <Text style={styles.label}>Service Type: </Text>\n                  <Text style={styles.value}>{booking.service_details.service_type}</Text>\n                </View>\n              </View>\n            )}\n          </View>\n\n          <View style={[styles.section, styles.dateTimeSection]}>\n            {renderDateTimeSection()}\n          </View>\n\n          {renderCostBreakdown()}\n\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Cancellation Policy</Text>\n            <Text style={styles.policyText}>\n              • No refund if canceled within 1 hour of booking start time{'\\n'}\n              • 50% refund if canceled between 1-24 hours before start time{'\\n'}\n              • Full refund if canceled more than 24 hours before the booking\n            </Text>\n          </View>\n\n          {renderActionButtons()}\n\n          <RequestChangesModal\n            visible={showRequestChangesModal}\n            onClose={() => setShowRequestChangesModal(false)}\n            onSubmit={handleRequestChanges}\n            loading={actionLoading}\n          />\n        </ScrollView>\n      )}\n      <AddRateModal\n        visible={showAddRateModal}\n        onClose={() => setShowAddRateModal(false)}\n        onAdd={(newRate) => {\n          setEditedBooking(prev => ({\n            ...prev,\n            rates: {\n              ...prev.rates,\n              extraServices: [...(prev.rates.extraServices || []), newRate]\n            }\n          }));\n          recalculateTotals();\n          setShowAddRateModal(false);\n        }}\n      />\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => {\n          setShowAddOccurrenceModal(false);\n          setTimeout(() => {\n            setSelectedOccurrence(null);\n          }, 300);\n        }}\n        onAdd={selectedOccurrence ? \n          (updatedData) => handleSaveOccurrence({...updatedData, occurrence_id: selectedOccurrence.occurrence_id}) : \n          handleAddOccurrence}\n        defaultRates={booking?.rates}\n        initialOccurrence={selectedOccurrence}\n        isEditing={!!selectedOccurrence}\n      />\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: confirmationModal.actionText, \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  statusBadge: {\n    alignSelf: 'flex-start',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n  },\n  statusText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    position: 'relative',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n    fontWeight: '500',\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  text: {\n    fontSize: 16,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  totalRow: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 8,\n    marginTop: 8,\n  },\n  totalLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  policyText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  button: {\n    padding: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    padding: 8,\n    borderRadius: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  errorText: {  \n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  statusLabel: {\n    fontSize: 16,\n    marginRight: 8,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noContentText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  saveButtonText: {\n    color: 'white',\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editButton: {\n  },\n  editField: {\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  editableServiceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  removeServiceButton: {\n    marginLeft: 8,\n  },\n  editRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n    position: 'relative',\n  },\n  editInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    width: 80,\n    textAlign: 'right',\n  },\n  addRateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n  },\n  addRateText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    width: 150,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 4,\n    backgroundColor: theme.colors.surface,\n  },\n  timeDropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: '#FFFFFF',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    maxHeight: 200,\n    zIndex: 1001,\n    elevation: 5,\n    marginTop: 4,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: '#FFFFFF',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  bookingDatesSection: {\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  sectionSubtitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateTimeRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n  },\n  datePickerContainer: {\n    flex: 1,\n    marginRight: 10,\n  },\n  timePickerContainer: {\n    width: 120,\n  },\n  timePickerButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: '100%',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  rateSection: {\n    marginBottom: 20,\n    padding: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  rateSectionTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rateInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  rateInputGroup: {\n    flex: 1,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    fontSize: 14,\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  removeButton: {\n    padding: 4,\n  },\n  summarySection: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  rateHeaderRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n    paddingHorizontal: 4,\n  },\n  columnHeader: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountColumn: {\n    alignItems: 'flex-start',\n  },\n  rateActionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: 72,\n    gap: 8,\n  },\n  infoButton: {\n    padding: 4,\n  },\n  actionButtonsContainer: {\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    gap: 12,\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    padding: 16,\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n  },\n  reasonInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 16,\n    minHeight: 100,\n    textAlignVertical: 'top',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    gap: 12,\n  },\n  modalButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  submitButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  primaryButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  denyButton: {\n    backgroundColor: theme.colors.error,\n  },\n  serviceEditContainer: {\n    gap: 16,\n  },\n  serviceInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  inputContainer: {\n    width: 150, // Fixed width for dropdowns and number input\n  },\n  numberInput: {\n    height: 40,\n    width: 150, // Match the width of dropdowns\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    fontSize: 16,\n  },\n  serviceDetailsContainer: {\n    gap: 12,\n  },\n  serviceDetailRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  actionButton: {\n    padding: 8,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    minWidth: 140,  // Ensure enough width for the text\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '600',\n    fontSize: 14,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButtons: {\n    width: 72, // Approximate width of both buttons + gap\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginLeft: 20,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  occurrenceCostRow: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingVertical: 12,\n  },\n  occurrenceCostHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  occurrenceCostHeaderText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAndIcon: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  costSummary: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  expandedCostDetails: {\n    marginTop: 10,\n    paddingTop: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  costDetailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 4,\n  },\n  costDetailText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  sectionEditButton: {\n    padding: 8,\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  petDropdown: {\n    maxHeight: 200,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 8,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    zIndex: 1000,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownPetName: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  dropdownPetDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginTop: 2,\n  },\n  noPetsText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n  },\n  petsSection: {\n    zIndex: 3,\n    elevation: 3,\n  },\n  dateTimeSection: {\n    zIndex: 1,\n    elevation: 1,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n  },\n  clientName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  proName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceTypeLabel: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'normal',\n  },\n  petListTitle: {\n    fontSize: 16,\n    fontWeight: '900',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petInfo: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costBreakdownTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  costLabel: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateLabel: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateAmount: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailLabel: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailValue: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceCardDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  summaryText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingDetails;","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ActivityIndicator, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport ServiceManager from '../components/ServiceManager';\nimport AddServiceModal from '../components/AddServiceModal';\nimport { theme } from '../styles/theme';\nimport { DEFAULT_SERVICES } from '../data/mockData';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ServiceManagerScreen = () => {\n  const navigation = useNavigation();\n  const [services, setServices] = useState([]);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        setServices(DEFAULT_SERVICES);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        setIsLoading(false);\n      }\n    };\n\n    fetchServices();\n  }, []);\n\n  useEffect(() => {\n    const setRouteHistory = async () => {\n      const currentRoute = 'ServiceManager';\n      let previousRoute;\n\n      if (Platform.OS === 'web') {\n        previousRoute = sessionStorage.getItem('previousRoute');\n        sessionStorage.setItem('previousRoute', previousRoute || '');\n        sessionStorage.setItem('currentRoute', currentRoute);\n      } else {\n        previousRoute = await AsyncStorage.getItem('previousRoute');\n        await AsyncStorage.setItem('previousRoute', previousRoute || '');\n        await AsyncStorage.setItem('currentRoute', currentRoute);\n      }\n\n      if (!previousRoute) {\n        previousRoute = 'ProfessionalDashboard';\n        currentRoute = 'ServiceManager';\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('previousRoute', previousRoute || '');\n          sessionStorage.setItem('currentRoute', currentRoute);\n        } else {\n          await AsyncStorage.setItem('previousRoute', previousRoute || '');\n          await AsyncStorage.setItem('currentRoute', currentRoute);\n        }\n      }\n    };\n    setRouteHistory();\n  }, []);\n\n  const handleAddService = (newService) => {\n    setServices(prev => [...prev, newService]);\n    setHasUnsavedChanges(true);\n  };\n\n  if (isLoading) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => navigation.navigate('More')} \n        />\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} style={{ position: 'relative', zIndex: 1 }}>\n      <View style={{ position: 'relative', zIndex: 1 }}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => handleBack(navigation)} \n          style={{ zIndex: 1 }}\n        />\n      </View>\n      <View style={[styles.container, { marginTop: 20, position: 'relative', zIndex: 2 }]}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={false}\n        />\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 1,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyText: {\n    fontSize: 18,\n    color: theme.colors.text,\n    // marginBottom: 20,\n  },\n  addButton: {\n    paddingHorizontal: 20,\n  },\n});\n\nexport default ServiceManagerScreen; ","import React, { useState, useCallback } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  Image,\n  Platform,\n  TextInput\n} from 'react-native';\nimport { useTheme, Searchbar } from 'react-native-paper';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst BlogScreen = ({ navigation }) => {\n  const theme = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredPosts, setFilteredPosts] = useState(BLOG_POSTS);\n\n  const handleBack = () => {\n    navigation.navigate('More');\n  };\n\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n    const lowercaseQuery = query.toLowerCase();\n    const filtered = BLOG_POSTS.filter(post => \n      post.title.toLowerCase().includes(lowercaseQuery) ||\n      post.author.name.toLowerCase().includes(lowercaseQuery) ||\n      post.content.toLowerCase().includes(lowercaseQuery)\n    );\n    setFilteredPosts(filtered);\n  }, []);\n\n  const renderBlogPost = (post) => {\n    const truncatedContent = post.content.slice(0, 200) + '...';\n\n    return (\n      <TouchableOpacity\n        key={post.id}\n        style={[styles.blogCard, { backgroundColor: theme.colors.surface }]}\n        onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>{post.title}</Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}> • </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {truncatedContent}\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.map((tag, index) => (\n                <View \n                  key={index} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title=\"Blog\" \n        onBackPress={handleBack}\n      />\n      <View style={styles.searchBarContainer}>\n        {Platform.OS === 'web' ? (\n          <View style={[styles.searchBar, { backgroundColor: theme.colors.surface }]}>\n            <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.primary} />\n            <TextInput\n              placeholder=\"Search by title, author, or content\"\n              onChangeText={handleSearch}\n              value={searchQuery}\n              style={styles.webSearchInput}\n            />\n            {searchQuery ? (\n              <TouchableOpacity onPress={() => handleSearch('')}>\n                <MaterialCommunityIcons name=\"close-circle\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            ) : null}\n          </View>\n        ) : (\n          <Searchbar\n            placeholder=\"Search by title, author, or content\"\n            onChangeText={handleSearch}\n            value={searchQuery}\n            style={styles.searchBar}\n            icon=\"magnify\"\n            clearIcon=\"close-circle\"\n          />\n        )}\n      </View>\n      <ScrollView style={styles.scrollView}>\n        {filteredPosts.length > 0 ? (\n          filteredPosts.map(renderBlogPost)\n        ) : (\n          <View style={styles.noResultsContainer}>\n            <MaterialCommunityIcons \n              name=\"magnify-close\" \n              size={48} \n              color={theme.colors.secondary} \n            />\n            <Text style={[styles.noResultsText, { color: theme.colors.secondary }]}>\n              No blog posts found\n            </Text>\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  searchBarContainer: {\n    margin: 16,\n  },\n  searchBar: {\n    elevation: 4,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  searchInput: {\n    fontSize: 16,\n    color: theme.colors.text,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  blogCard: {\n    margin: 16,\n    padding: 16,\n    borderRadius: 12,\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 12,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noResultsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n  },\n  noResultsText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  webSearchInput: {\n    flex: 1,\n    padding: 8,\n    fontSize: 16,\n    color: theme.colors.text,\n    border: 'none',\n    backgroundColor: 'transparent',\n    WebkitTapHighlightColor: 'transparent',\n    outlineWidth: 0,\n    outlineStyle: 'none',\n    boxShadow: 'none',\n    borderColor: 'transparent',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogScreen;","import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  Linking,\n  Platform\n} from 'react-native';\nimport { useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\n\nconst BlogPost = ({ route, navigation }) => {\n  const [post, setPost] = useState(null);\n  const theme = useTheme();\n\n  // Validate post data structure\n  const isValidPost = (postData) => {\n    return postData && \n           typeof postData === 'object' && \n           postData.author && \n           typeof postData.author === 'object' &&\n           postData.author.name &&\n           postData.author.profilePicture &&\n           postData.author.bio &&\n           postData.title &&\n           postData.content &&\n           Array.isArray(postData.tags);\n  };\n\n  useEffect(() => {\n    const loadPost = async () => {\n      try {\n        // Try to get post from route params first\n        if (route?.params?.post && isValidPost(route.params.post)) {\n          setPost(route.params.post);\n          // Store the post data\n          if (Platform.OS === 'web') {\n            sessionStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          } else {\n            await AsyncStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          }\n          return;\n        }\n\n        // If no route params or invalid post, try to load from storage\n        let storedPost;\n        if (Platform.OS === 'web') {\n          storedPost = sessionStorage.getItem('currentBlogPost');\n        } else {\n          storedPost = await AsyncStorage.getItem('currentBlogPost');\n        }\n\n        if (storedPost) {\n          const parsedPost = JSON.parse(storedPost);\n          if (isValidPost(parsedPost)) {\n            setPost(parsedPost);\n            return;\n          }\n        }\n\n        // If no valid post found in storage, try to find it in BLOG_POSTS\n        if (route?.params?.postId) {\n          const foundPost = BLOG_POSTS.find(p => p.id === route.params.postId);\n          if (foundPost && isValidPost(foundPost)) {\n            setPost(foundPost);\n            return;\n          }\n        }\n\n        // If still no valid post, redirect to blog list\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      } catch (error) {\n        console.error('Error loading blog post:', error);\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      }\n    };\n\n    loadPost();\n  }, [route?.params]);\n\n  // If no post data is available, show an error state\n  if (!post || !isValidPost(post)) {\n    return (\n      <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n        <BackHeader \n          title=\"Blog Post\"\n          onBackPress={() => handleBack(navigation)}\n        />\n        <View style={styles.errorContainer}>\n          <MaterialCommunityIcons \n            name=\"alert-circle-outline\" \n            size={48} \n            color={theme.colors.error} \n          />\n          <Text style={[styles.errorText, { color: theme.colors.error }]}>\n            Blog post not found or invalid\n          </Text>\n          <TouchableOpacity\n            style={[styles.errorButton, { backgroundColor: theme.colors.primary }]}\n            onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost')}\n          >\n            <Text style={[styles.errorButtonText, { color: theme.colors.surface }]}>\n              Go to Blog List\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n\n  const handleReferencePress = (reference) => {\n    if (reference.url) {\n      Linking.openURL(reference.url);\n    } else if (reference.doi) {\n      Linking.openURL(`https://doi.org/${reference.doi}`);\n    }\n  };\n\n  return (\n    <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title={post.title}\n        onBackPress={() => handleBack(navigation)}\n      />\n      <ScrollView style={styles.container}>\n        <View style={styles.header}>\n          <View style={styles.authorContainer}>\n            <Image\n              source={{ uri: post.author.profilePicture }}\n              style={styles.authorImage}\n            />\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.authorBio}>{post.author.bio}</Text>\n              <View style={styles.postInfo}>\n                <Text style={styles.date}>{post.publishDate}</Text>\n                <Text style={styles.dot}> • </Text>\n                <Text style={styles.readTime}>{post.readTime}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.tags}>\n          {post.tags.map((tag, index) => (\n            <View \n              key={index} \n              style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n            >\n              <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n            </View>\n          ))}\n        </View>\n\n        <Text style={[styles.content, { color: theme.colors.text }]}>{post.content}</Text>\n\n        <View style={styles.stats}>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"heart-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.likes}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"comment-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.comments}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"share-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.shares}</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.references}>\n          <Text style={[styles.referencesTitle, { color: theme.colors.primary }]}>References</Text>\n          {post.references.map((reference, index) => (\n            <TouchableOpacity\n              key={index}\n              style={styles.reference}\n              onPress={() => handleReferencePress(reference)}\n            >\n              <Text style={styles.referenceText}>\n                {reference.authors} ({reference.year || 'n.d.'}). {reference.title}. {reference.publication}.\n                {reference.doi && ` DOI: ${reference.doi}`}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n  },\n  header: {\n    padding: 16,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  authorImage: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 12,\n  },\n  authorInfo: {\n    flex: 1,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorBio: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  postInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  date: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: 16,\n    paddingTop: 0,\n  },\n  tag: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    fontSize: 16,\n    lineHeight: 24,\n    padding: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#eee',\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  statText: {\n    marginLeft: 8,\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  references: {\n    padding: 16,\n  },\n  referencesTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  reference: {\n    marginBottom: 12,\n  },\n  referenceText: {\n    fontSize: 14,\n    color: '#444',\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  errorButtonText: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogPost;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { handleBack } from '../components/Navigation';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst Waitlist = () => {\n  const navigation = useNavigation();\n  const { screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  \n  // Form state\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [petInfo, setPetInfo] = useState('');\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [userType, setUserType] = useState('');\n  const [hesitations, setHesitations] = useState('');\n  const [desiredFeatures, setDesiredFeatures] = useState('');\n  const [newsletter, setNewsletter] = useState(false);\n  const [agreeToTerms, setAgreeToTerms] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [otherService, setOtherService] = useState('');\n  const [showOtherInput, setShowOtherInput] = useState(false);\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const services = [\n    'Pet Sitting',\n    'Grooming',\n    'Training',\n    'Veterinary Services',\n    'Farm/Homestead Care',\n    'Care Consulting',\n    'Other'\n  ];\n\n  const userTypes = [\n    'Pet owner in need of services',\n    'Care specialist (sitter, groomer, ferrier, fish tank cleaner, etc)',\n    'Both'\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !firstName || !lastName || !phone || !petInfo || selectedServices.length === 0 || !userType || !agreeToTerms) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const formData = {\n        firstName,\n        lastName,\n        email,\n        phone,\n        petInfo,\n        services: selectedServices.includes('Other') \n          ? [...selectedServices.filter(s => s !== 'Other'), `Other: ${otherService}`]\n          : selectedServices,\n        userType,\n        hesitations,\n        desiredFeatures,\n        newsletter,\n        agreeToTerms\n      };\n\n      await handleFormspreeSubmit(formData);\n\n      if (state.succeeded) {\n        // Reset form\n        setFirstName('');\n        setLastName('');\n        setEmail('');\n        setPhone('');\n        setPetInfo('');\n        setSelectedServices([]);\n        setOtherService('');\n        setShowOtherInput(false);\n        setUserType('');\n        setHesitations('');\n        setDesiredFeatures('');\n        setNewsletter(false);\n        setAgreeToTerms(false);\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleService = (service) => {\n    setSelectedServices(prev => {\n      if (service === 'Other') {\n        setShowOtherInput(!prev.includes('Other'));\n      }\n      return prev.includes(service)\n        ? prev.filter(s => s !== service)\n        : [...prev, service];\n    });\n  };\n\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader \n          title=\"Join Waitlist\" \n          onBackPress={() => handleBack(navigation)} \n        />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thank you for joining the CrittrCove waitlist!\n            </Text>\n            <Text style={styles.successMessage}>\n              Whether you're a pet owner looking for trusted pet services or a specialist offering your expertise, \n              you're now part of a community that supports independent animal specialists and small businesses.\n            </Text>\n            <Text style={styles.successMessage}>\n              As a waitlist member, you'll enjoy exclusive early access to the app, priority placement, \n              special gifts, and a unique profile badge to highlight your role as a founding member of CrittrCove.\n            </Text>\n            <Text style={styles.successMessage}>\n              Stay tuned for exciting updates!\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n      <BackHeader \n        title=\"Join Waitlist\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView style={styles.scrollView}>\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={styles.title}>Join the CrittrCove Waitlist!</Text>\n            <Text style={styles.description}>\n              Welcome to Critter Cove's early sign-up, the ultimate pet care marketplace for all pets—whether furry, feathery, or scaly! \n              Our app connects local pet care specialists with pet owners, offering reliable and loving care for your beloved companions.\n            </Text>\n            <Text style={styles.description}>\n              By joining our waitlist, you'll gain early access to exclusive features, special gifts, and a profile badge as a founding member of the Critter Cove community.\n            </Text>\n\n            <View style={styles.formSection}>\n              <View style={styles.nameContainer}>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>First Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={firstName}\n                    onChangeText={setFirstName}\n                    placeholder=\"First Name\"\n                  />\n                </View>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>Last Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={lastName}\n                    onChangeText={setLastName}\n                    placeholder=\"Last Name\"\n                  />\n                </View>\n              </View>\n\n              <Text style={styles.label}>Email *</Text>\n              <TextInput\n                style={styles.input}\n                value={email}\n                onChangeText={setEmail}\n                placeholder=\"Email\"\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n              />\n\n              <Text style={styles.label}>Phone Number *</Text>\n              <TextInput\n                style={styles.input}\n                value={phone}\n                onChangeText={setPhone}\n                placeholder=\"Phone Number\"\n                keyboardType=\"phone-pad\"\n              />\n\n              <Text style={styles.label}>Do you currently own pets? If yes, tell us all about them! *</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={petInfo}\n                onChangeText={setPetInfo}\n                placeholder=\"Tell us about your pets\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What kind of pet care services are you most interested in? *</Text>\n              <View style={styles.checkboxGroup}>\n                {services.map((service) => (\n                  <View key={service}>\n                    <TouchableOpacity \n                      style={styles.checkboxContainer}\n                      onPress={() => toggleService(service)}\n                    >\n                      <MaterialCommunityIcons\n                        name={selectedServices.includes(service) ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                        size={24}\n                        color={theme.colors.primary}\n                        style={styles.checkboxIcon}\n                      />\n                      <Text style={styles.checkboxLabel}>{service}</Text>\n                    </TouchableOpacity>\n                    {service === 'Other' && selectedServices.includes('Other') && (\n                      <View style={styles.otherInputContainer}>\n                        <TextInput\n                          style={[styles.input, styles.otherInput]}\n                          value={otherService}\n                          onChangeText={setOtherService}\n                          placeholder=\"Please specify other service\"\n                        />\n                      </View>\n                    )}\n                  </View>\n                ))}\n              </View>\n\n              <Text style={styles.label}>Are you signing up as a: *</Text>\n              <View style={styles.radioGroup}>\n                {userTypes.map((type) => (\n                  <TouchableOpacity \n                    key={type}\n                    style={styles.radioContainer}\n                    onPress={() => setUserType(type)}\n                  >\n                    <View style={[styles.radio, userType === type && styles.radioSelected]} />\n                    <Text style={styles.radioLabel}>{type}</Text>\n                  </TouchableOpacity>\n                ))}\n              </View>\n\n              <Text style={styles.label}>What hesitations do you have about using an app to connect your to local pet care?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={hesitations}\n                onChangeText={setHesitations}\n                placeholder=\"Share your concerns\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What features or tools would make Critter Cove perfect for you?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={desiredFeatures}\n                onChangeText={setDesiredFeatures}\n                placeholder=\"Share your ideas\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setNewsletter(!newsletter)}\n              >\n                <MaterialCommunityIcons\n                  name={newsletter ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  Would you like to be added to the email newsletter for updates on the app, pet care tips, discounts and more? *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setAgreeToTerms(!agreeToTerms)}\n              >\n                <MaterialCommunityIcons\n                  name={agreeToTerms ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  I agree to the terms and conditions and understand my data will be used to improve the app experience. *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={[styles.submitButton, (isSubmitting || !agreeToTerms) && styles.disabledButton]}\n                onPress={handleSubmit}\n                disabled={isSubmitting || !agreeToTerms}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isSubmitting ? 'Submitting...' : 'Join Waitlist'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  description: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    lineHeight: 24,\n  },\n  formSection: {\n    width: '100%',\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    gap: 10,\n    marginBottom: 15,\n  },\n  nameField: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '500',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  textArea: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  checkboxGroup: {\n    marginBottom: 15,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 10,\n    paddingRight: 10,\n  },\n  checkboxIcon: {\n    marginRight: 10,\n  },\n  checkboxLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  radioGroup: {\n    marginBottom: 15,\n  },\n  radioContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  radio: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    marginRight: 10,\n  },\n  radioSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  radioLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  successMessage: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    marginBottom: 15,\n    lineHeight: 24,\n  },\n  otherInputContainer: {\n    paddingLeft: 34,\n    width: '100%',\n  },\n  otherInput: {\n    marginTop: 5,\n    marginBottom: 10,\n    width: '90%',\n  },\n});\n\nexport default Waitlist; ","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Provider as PaperProvider } from 'react-native-paper';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator, TransitionPresets } from '@react-navigation/stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Navigation from './src/components/Navigation';\nimport { theme } from './src/styles/theme';\nimport { AuthProvider, AuthContext } from './src/context/AuthContext';\nimport { API_BASE_URL } from './src/config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { createNavigationContainerRef } from '@react-navigation/native';\nimport { Linking } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from './src/components/Navigation';\n\n// Import all your screen components\nimport HomeScreen from './src/screens/HomeScreen';\nimport AboutScreen from './src/screens/AboutScreen';\nimport ClientProfile from './src/screens/ClientProfile';\nimport MyProfile from './src/screens/MyProfile';\nimport SignIn from './src/screens/SignIn';\nimport SignUp from './src/screens/SignUp';\nimport ResetPassword from './src/screens/ResetPassword';\nimport ResetPasswordConfirm from './src/screens/ResetPasswordConfirm';\nimport Dashboard from './src/screens/Dashboard';\nimport SearchProfessionals from './src/screens/SearchProfessionals';\nimport ProfessionalDashboard from './src/screens/ProfessionalDashboard';\nimport BecomeProfessional from './src/screens/BecomeProfessional';\nimport MoreScreen from './src/screens/MoreScreen';\nimport AvailabilitySettings from './src/screens/AvailabilitySettings';\n// import Messages from './src/screens/Messages';\nimport MyPets from './src/screens/MyPets';\nimport ClientHistory from './src/screens/ClientHistory';\nimport MessageHistory from './src/screens/MessageHistory';\nimport PaymentMethods from './src/screens/PaymentMethods';\nimport Settings from './src/screens/Settings';\nimport PrivacyPolicy from './src/screens/PrivacyPolicy';\nimport ProfessionalSettings from './src/screens/ProfessionalSettings';\nimport TermsOfService from './src/screens/TermsOfService';\nimport HelpFAQ from './src/screens/HelpFAQ';\nimport ContactUs from './src/screens/ContactUs';\nimport Clients from './src/screens/Clients';\nimport ProfessionalProfile from './src/screens/ProfessionalProfile';\nimport MyContracts from './src/screens/MyContracts';\nimport ChangePassword from './src/screens/ChangePassword';\nimport AddPet from './src/screens/AddPet';\nimport SearchProfessionalsListing from './src/screens/SearchProfessionalsListing';\nimport MyBookings from './src/screens/MyBookings';\nimport BookingDetails from './src/screens/BookingDetails';\nimport ServiceManagerScreen from './src/screens/ServiceManagerScreen';\nimport BlogScreen from './src/screens/BlogScreen';\nimport BlogPost from './src/screens/BlogPost';\nimport Waitlist from './src/screens/Waitlist';\n\nconst Stack = createStackNavigator();\nconst Tab = createBottomTabNavigator();\n\nconst screens = [\n  { name: 'Home', component: HomeScreen },\n  { name: 'About', component: AboutScreen },\n  { name: 'ClientProfile', component: ClientProfile },\n  { name: 'MyProfile', component: MyProfile },  \n  { name: 'SignIn', component: SignIn },\n  { name: 'SignUp', component: SignUp },\n  { name: 'ResetPassword', component: ResetPassword },\n  { name: 'ResetPasswordConfirm', component: ResetPasswordConfirm },\n  { name: 'Dashboard', component: Dashboard },\n  { name: 'SearchProfessionals', component: SearchProfessionals },\n  { name: 'SearchProfessionalsListing', component: SearchProfessionalsListing },\n  { name: 'ClientHistory', component: ClientHistory },\n  { name: 'MessageHistory', component: MessageHistory },\n  // { name: 'Messages', component: Messages },\n  { name: 'ProfessionalDashboard', component: ProfessionalDashboard },\n  { name: 'BecomeProfessional', component: BecomeProfessional },\n  { name: 'More', component: MoreScreen },\n  { name: 'Clients', component: Clients },\n  { name: 'AvailabilitySettings', component: AvailabilitySettings },\n  { name: 'MyPets', component: MyPets },\n  { name: 'PaymentMethods', component: PaymentMethods },\n  { name: 'Settings', component: Settings },\n  { name: 'PrivacyPolicy', component: PrivacyPolicy },\n  { name: 'ProfessionalSettings', component: ProfessionalSettings },\n  { name: 'TermsOfService', component: TermsOfService },\n  { name: 'HelpFAQ', component: HelpFAQ },\n  { name: 'ContactUs', component: ContactUs },\n  { name: 'ProfessionalProfile', component: ProfessionalProfile },\n  { name: 'MyContracts', component: MyContracts },\n  { name: 'ChangePassword', component: ChangePassword },\n  { name: 'AddPet', component: AddPet },\n  { name: 'MyBookings', component: MyBookings },\n  { name: 'BookingDetails', component: BookingDetails },\n  { name: 'ServiceManager', component: ServiceManagerScreen },\n  { name: 'Blog', component: BlogScreen },\n  { name: 'BlogPost', component: BlogPost },\n  { name: 'Waitlist', component: Waitlist },\n];\n\nconst linking = {\n  enabled: true,\n  prefixes: [\n    'https://staging.crittrcove.com',\n    'http://staging.crittrcove.com',\n    `${API_BASE_URL}`\n  ],\n  config: {\n    screens: {\n      Home: '*',  // This will catch all unmatched routes\n      About: 'about',\n      ClientProfile: 'client-profile',\n      MyProfile: 'my-profile',\n      SignIn: 'signin',\n      SignUp: 'signup',\n      ResetPassword: 'reset-password',\n      ResetPasswordConfirm: 'reset-password/:uid/:token',\n      Dashboard: 'dashboard',\n      SearchProfessionals: 'search-professionals',\n      SearchProfessionalsListing: 'search-professionals-listing',\n      ClientHistory: 'client-history',\n      MessageHistory: {\n        path: 'message-history',\n        parse: {\n          messageId: (messageId) => messageId || null,\n          senderName: (senderName) => senderName || 'Unknown User'\n        }\n      },\n      ProfessionalDashboard: 'professional-dashboard',\n      BecomeProfessional: 'become-professional',\n      More: 'more',\n      Clients: 'clients',\n      AvailabilitySettings: 'availability-settings',\n      MyPets: 'my-pets',\n      PaymentMethods: 'payment-methods',\n      Settings: 'settings',\n      PrivacyPolicy: 'privacy-policy',\n      ProfessionalSettings: 'professional-settings',\n      TermsOfService: 'terms-of-service',\n      HelpFAQ: 'help-faq',\n      ContactUs: 'contact-us',\n      ProfessionalProfile: {\n        path: 'professional-profile',\n        parse: {\n          professional: (professional) => undefined\n        }\n      },\n      MyContracts: 'my-contracts',\n      ChangePassword: 'change-password',\n      AddPet: {\n        path: 'add-pet',\n        parse: {\n          pet: () => undefined\n        }\n      },\n      MyBookings: 'my-bookings',\n      BookingDetails: 'booking-details',\n      ServiceManager: 'service-manager',\n      Blog: 'blog',\n      BlogPost: 'blog-post',\n      Waitlist: 'waitlist'\n    }\n  }\n};\n\n\nexport const navigationRef = createNavigationContainerRef();\n\nexport function navigate(name, params) {\n  if (navigationRef.isReady()) {\n    navigationRef.navigate(name, params);\n  }\n}\n\nfunction TabNavigator() {\n  return (\n    <Tab.Navigator tabBar={props => <Navigation {...props} />}>\n      {screens.map(screen => (\n        <Tab.Screen \n          key={screen.name}\n          name={screen.name} \n          component={screen.component} \n          options={{ headerShown: false }} \n        />\n      ))}\n    </Tab.Navigator>\n  );\n}\n\nconst MVPWarning = () => {\n  const [isVisible, setIsVisible] = useState(true);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const checkBannerStatus = async () => {\n      if (Platform.OS === 'web') {\n        const hidden = sessionStorage.getItem('mvp_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      } else {\n        const hidden = await AsyncStorage.getItem('mvp_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      }\n    };\n    checkBannerStatus();\n  }, []);\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('mvp_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('mvp_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <View style={styles.warningBanner}>\n      <View style={styles.warningContent}>\n        <TouchableOpacity \n          style={styles.closeButton}\n          onPress={hideBanner}\n        >\n          <Text style={styles.closeButtonText}>✕</Text>\n        </TouchableOpacity>\n        <Text style={styles.warningText}>\n          🚧 MVP MODE: Features are still under development.\n        </Text>\n        <TouchableOpacity \n          style={styles.waitlistButton}\n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.waitlistButtonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nfunction AppContent() {\n  const { checkAuthStatus, is_DEBUG } = useContext(AuthContext);\n  const [initialRoute, setInitialRoute] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        const authStatus = await checkAuthStatus();\n        let route = 'Home';\n\n        // Only change route if user is authenticated\n        if (authStatus.isSignedIn) {\n          if (is_DEBUG) {\n            console.log('Auth status on init:', authStatus);\n          }\n          route = authStatus.userRole === 'professional' && authStatus.isApprovedProfessional\n            ? 'ProfessionalDashboard'\n            : 'Dashboard';\n        } else {\n          route = 'Home';\n        }\n\n        // For web platform\n        if (Platform.OS === 'web') {\n          const path = window.location.pathname;\n          \n          // If we're at the root path, use the route based on auth status\n          if (path === '/' || path === '') {\n            // route is already set based on auth status above\n          } else {\n            // Extract the route from the path\n            const routePath = path.slice(1).split('/')[0].toLowerCase();\n            if (routePath === 'home') {\n              // Use the route based on auth status\n            } else {\n              // Find the matching screen for the current path\n              const matchingScreen = screens.find(screen => \n                screen.name.toLowerCase() === routePath\n              );\n              if (matchingScreen) {\n                route = matchingScreen.name;\n              }\n            }\n          }\n        }\n\n        setInitialRoute(route);\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setInitialRoute('Home');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeApp();\n  }, []);\n\n  // Handle route changes without triggering auth checks\n  useEffect(() => {\n    if (!isLoading && initialRoute && Platform.OS !== 'web') {\n      AsyncStorage.setItem('lastRoute', initialRoute)\n        .catch(error => console.error('Error storing route:', error));\n    }\n  }, [initialRoute, isLoading]);\n\n  if (isLoading || !initialRoute) {\n    return null; // Or a loading spinner component\n  }\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('mvp_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('mvp_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  \n\n  return (\n    <NavigationContainer \n      ref={navigationRef}\n      linking={linking}\n      onStateChange={async (state) => {\n        if (Platform.OS !== 'web' && state?.routes?.length > 0) {\n          const currentRoute = state.routes[state.routes.length - 1].name;\n          await AsyncStorage.setItem('lastRoute', currentRoute)\n            .catch(error => console.error('Error storing route:', error));\n        }\n      }}\n    >\n      {isVisible && <MVPWarning />}\n      {Platform.OS === 'web' ? (\n        <Stack.Navigator\n          initialRouteName={initialRoute}\n          screenOptions={{\n            headerShown: true,\n            header: ({ navigation }) => <Navigation navigation={navigation} />,\n            ...TransitionPresets.SlideFromRightIOS,\n            presentation: 'card',\n            animation: 'slide_from_right'\n          }}\n        >\n          {screens.map(screen => (\n            <Stack.Screen \n              key={screen.name}\n              name={screen.name} \n              component={screen.component}\n              options={{\n                headerShown: true,\n                animation: 'slide_from_right'\n              }}\n            />\n          ))}\n        </Stack.Navigator>\n      ) : (\n        <TabNavigator />\n      )}\n    </NavigationContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  warningBanner: {\n    backgroundColor: '#ffebee',\n    padding: Platform.OS === 'web' ? 12 : 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ef5350',\n    width: '100%',\n    flexShrink: 0, // Prevent banner from shrinking\n  },\n  warningContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    gap: 10,\n    maxWidth: 1200,\n    marginHorizontal: 'auto',\n    width: '100%',\n  },\n  warningText: {\n    color: '#c62828',\n    textAlign: 'center',\n    fontSize: Platform.OS === 'web' ? 15 : 14,\n    flexShrink: 1,\n    flex: 1,\n    marginHorizontal: 15,\n  },\n  waitlistButton: {\n    backgroundColor: '#ef5350',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 20,\n    marginLeft: 'auto',\n  },\n  waitlistButtonText: {\n    color: 'white',\n    fontSize: Platform.OS === 'web' ? 14 : 13,\n    fontWeight: '600',\n  },\n  closeButton: {\n    width: 24,\n    height: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 5,\n  },\n  closeButtonText: {\n    color: '#c62828',\n    fontSize: 18,\n    fontWeight: '600',\n  },\n});\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <PaperProvider theme={theme}>\n        <AppContent />\n      </PaperProvider>\n    </AuthProvider>\n  );\n}\n\n","import React from 'react';\nimport { View } from 'react-native';\nimport { Text } from 'react-native-paper';\n\nexport default function AboutScreen() {\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <Text>About Screen</Text>\n    </View>\n  );\n}","var map = {\n\t\"./af\": 17582,\n\t\"./af.js\": 17582,\n\t\"./ar\": 93042,\n\t\"./ar-dz\": 54265,\n\t\"./ar-dz.js\": 54265,\n\t\"./ar-kw\": 92553,\n\t\"./ar-kw.js\": 92553,\n\t\"./ar-ly\": 85352,\n\t\"./ar-ly.js\": 85352,\n\t\"./ar-ma\": 67097,\n\t\"./ar-ma.js\": 67097,\n\t\"./ar-ps\": 76150,\n\t\"./ar-ps.js\": 76150,\n\t\"./ar-sa\": 84427,\n\t\"./ar-sa.js\": 84427,\n\t\"./ar-tn\": 7221,\n\t\"./ar-tn.js\": 7221,\n\t\"./ar.js\": 93042,\n\t\"./az\": 60458,\n\t\"./az.js\": 60458,\n\t\"./be\": 17596,\n\t\"./be.js\": 17596,\n\t\"./bg\": 93830,\n\t\"./bg.js\": 93830,\n\t\"./bm\": 27044,\n\t\"./bm.js\": 27044,\n\t\"./bn\": 58573,\n\t\"./bn-bd\": 13296,\n\t\"./bn-bd.js\": 13296,\n\t\"./bn.js\": 58573,\n\t\"./bo\": 25614,\n\t\"./bo.js\": 25614,\n\t\"./br\": 62041,\n\t\"./br.js\": 62041,\n\t\"./bs\": 91786,\n\t\"./bs.js\": 91786,\n\t\"./ca\": 75833,\n\t\"./ca.js\": 75833,\n\t\"./cs\": 52711,\n\t\"./cs.js\": 52711,\n\t\"./cv\": 71036,\n\t\"./cv.js\": 71036,\n\t\"./cy\": 84977,\n\t\"./cy.js\": 84977,\n\t\"./da\": 8770,\n\t\"./da.js\": 8770,\n\t\"./de\": 67342,\n\t\"./de-at\": 81566,\n\t\"./de-at.js\": 81566,\n\t\"./de-ch\": 87544,\n\t\"./de-ch.js\": 87544,\n\t\"./de.js\": 67342,\n\t\"./dv\": 82875,\n\t\"./dv.js\": 82875,\n\t\"./el\": 78536,\n\t\"./el.js\": 78536,\n\t\"./en-au\": 38617,\n\t\"./en-au.js\": 38617,\n\t\"./en-ca\": 79227,\n\t\"./en-ca.js\": 79227,\n\t\"./en-gb\": 59754,\n\t\"./en-gb.js\": 59754,\n\t\"./en-ie\": 37217,\n\t\"./en-ie.js\": 37217,\n\t\"./en-il\": 85418,\n\t\"./en-il.js\": 85418,\n\t\"./en-in\": 80800,\n\t\"./en-in.js\": 80800,\n\t\"./en-nz\": 67299,\n\t\"./en-nz.js\": 67299,\n\t\"./en-sg\": 76305,\n\t\"./en-sg.js\": 76305,\n\t\"./eo\": 8673,\n\t\"./eo.js\": 8673,\n\t\"./es\": 71301,\n\t\"./es-do\": 3187,\n\t\"./es-do.js\": 3187,\n\t\"./es-mx\": 48223,\n\t\"./es-mx.js\": 48223,\n\t\"./es-us\": 37634,\n\t\"./es-us.js\": 37634,\n\t\"./es.js\": 71301,\n\t\"./et\": 4976,\n\t\"./et.js\": 4976,\n\t\"./eu\": 11847,\n\t\"./eu.js\": 11847,\n\t\"./fa\": 74372,\n\t\"./fa.js\": 74372,\n\t\"./fi\": 41628,\n\t\"./fi.js\": 41628,\n\t\"./fil\": 56802,\n\t\"./fil.js\": 56802,\n\t\"./fo\": 42874,\n\t\"./fo.js\": 42874,\n\t\"./fr\": 9853,\n\t\"./fr-ca\": 87170,\n\t\"./fr-ca.js\": 87170,\n\t\"./fr-ch\": 22825,\n\t\"./fr-ch.js\": 22825,\n\t\"./fr.js\": 9853,\n\t\"./fy\": 68876,\n\t\"./fy.js\": 68876,\n\t\"./ga\": 93533,\n\t\"./ga.js\": 93533,\n\t\"./gd\": 82770,\n\t\"./gd.js\": 82770,\n\t\"./gl\": 98602,\n\t\"./gl.js\": 98602,\n\t\"./gom-deva\": 63059,\n\t\"./gom-deva.js\": 63059,\n\t\"./gom-latn\": 48212,\n\t\"./gom-latn.js\": 48212,\n\t\"./gu\": 23409,\n\t\"./gu.js\": 23409,\n\t\"./he\": 17210,\n\t\"./he.js\": 17210,\n\t\"./hi\": 4750,\n\t\"./hi.js\": 4750,\n\t\"./hr\": 51315,\n\t\"./hr.js\": 51315,\n\t\"./hu\": 47626,\n\t\"./hu.js\": 47626,\n\t\"./hy-am\": 91317,\n\t\"./hy-am.js\": 91317,\n\t\"./id\": 26892,\n\t\"./id.js\": 26892,\n\t\"./is\": 97577,\n\t\"./is.js\": 97577,\n\t\"./it\": 57628,\n\t\"./it-ch\": 3046,\n\t\"./it-ch.js\": 3046,\n\t\"./it.js\": 57628,\n\t\"./ja\": 92504,\n\t\"./ja.js\": 92504,\n\t\"./jv\": 25917,\n\t\"./jv.js\": 25917,\n\t\"./ka\": 64513,\n\t\"./ka.js\": 64513,\n\t\"./kk\": 94935,\n\t\"./kk.js\": 94935,\n\t\"./km\": 96661,\n\t\"./km.js\": 96661,\n\t\"./kn\": 89964,\n\t\"./kn.js\": 89964,\n\t\"./ko\": 98067,\n\t\"./ko.js\": 98067,\n\t\"./ku\": 61165,\n\t\"./ku-kmr\": 85158,\n\t\"./ku-kmr.js\": 85158,\n\t\"./ku.js\": 61165,\n\t\"./ky\": 11177,\n\t\"./ky.js\": 11177,\n\t\"./lb\": 2967,\n\t\"./lb.js\": 2967,\n\t\"./lo\": 81972,\n\t\"./lo.js\": 81972,\n\t\"./lt\": 58469,\n\t\"./lt.js\": 58469,\n\t\"./lv\": 33155,\n\t\"./lv.js\": 33155,\n\t\"./me\": 87935,\n\t\"./me.js\": 87935,\n\t\"./mi\": 74483,\n\t\"./mi.js\": 74483,\n\t\"./mk\": 32501,\n\t\"./mk.js\": 32501,\n\t\"./ml\": 73120,\n\t\"./ml.js\": 73120,\n\t\"./mn\": 20266,\n\t\"./mn.js\": 20266,\n\t\"./mr\": 19406,\n\t\"./mr.js\": 19406,\n\t\"./ms\": 80109,\n\t\"./ms-my\": 90864,\n\t\"./ms-my.js\": 90864,\n\t\"./ms.js\": 80109,\n\t\"./mt\": 22904,\n\t\"./mt.js\": 22904,\n\t\"./my\": 44067,\n\t\"./my.js\": 44067,\n\t\"./nb\": 21301,\n\t\"./nb.js\": 21301,\n\t\"./ne\": 81152,\n\t\"./ne.js\": 81152,\n\t\"./nl\": 76735,\n\t\"./nl-be\": 97761,\n\t\"./nl-be.js\": 97761,\n\t\"./nl.js\": 76735,\n\t\"./nn\": 37569,\n\t\"./nn.js\": 37569,\n\t\"./oc-lnc\": 20833,\n\t\"./oc-lnc.js\": 20833,\n\t\"./pa-in\": 3044,\n\t\"./pa-in.js\": 3044,\n\t\"./pl\": 34249,\n\t\"./pl.js\": 34249,\n\t\"./pt\": 87585,\n\t\"./pt-br\": 26826,\n\t\"./pt-br.js\": 26826,\n\t\"./pt.js\": 87585,\n\t\"./ro\": 62526,\n\t\"./ro.js\": 62526,\n\t\"./ru\": 62204,\n\t\"./ru.js\": 62204,\n\t\"./sd\": 43270,\n\t\"./sd.js\": 43270,\n\t\"./se\": 61541,\n\t\"./se.js\": 61541,\n\t\"./si\": 71921,\n\t\"./si.js\": 71921,\n\t\"./sk\": 49935,\n\t\"./sk.js\": 49935,\n\t\"./sl\": 46254,\n\t\"./sl.js\": 46254,\n\t\"./sq\": 59897,\n\t\"./sq.js\": 59897,\n\t\"./sr\": 42496,\n\t\"./sr-cyrl\": 11135,\n\t\"./sr-cyrl.js\": 11135,\n\t\"./sr.js\": 42496,\n\t\"./ss\": 32215,\n\t\"./ss.js\": 32215,\n\t\"./sv\": 84716,\n\t\"./sv.js\": 84716,\n\t\"./sw\": 50803,\n\t\"./sw.js\": 50803,\n\t\"./ta\": 31538,\n\t\"./ta.js\": 31538,\n\t\"./te\": 2302,\n\t\"./te.js\": 2302,\n\t\"./tet\": 25280,\n\t\"./tet.js\": 25280,\n\t\"./tg\": 14100,\n\t\"./tg.js\": 14100,\n\t\"./th\": 95385,\n\t\"./th.js\": 95385,\n\t\"./tk\": 736,\n\t\"./tk.js\": 736,\n\t\"./tl-ph\": 79726,\n\t\"./tl-ph.js\": 79726,\n\t\"./tlh\": 41873,\n\t\"./tlh.js\": 41873,\n\t\"./tr\": 36463,\n\t\"./tr.js\": 36463,\n\t\"./tzl\": 27491,\n\t\"./tzl.js\": 27491,\n\t\"./tzm\": 29500,\n\t\"./tzm-latn\": 80196,\n\t\"./tzm-latn.js\": 80196,\n\t\"./tzm.js\": 29500,\n\t\"./ug-cn\": 91287,\n\t\"./ug-cn.js\": 91287,\n\t\"./uk\": 35341,\n\t\"./uk.js\": 35341,\n\t\"./ur\": 36246,\n\t\"./ur.js\": 36246,\n\t\"./uz\": 55550,\n\t\"./uz-latn\": 77254,\n\t\"./uz-latn.js\": 77254,\n\t\"./uz.js\": 55550,\n\t\"./vi\": 78796,\n\t\"./vi.js\": 78796,\n\t\"./x-pseudo\": 22736,\n\t\"./x-pseudo.js\": 22736,\n\t\"./yo\": 28621,\n\t\"./yo.js\": 28621,\n\t\"./zh-cn\": 67601,\n\t\"./zh-cn.js\": 67601,\n\t\"./zh-hk\": 39053,\n\t\"./zh-hk.js\": 39053,\n\t\"./zh-mo\": 71248,\n\t\"./zh-mo.js\": 71248,\n\t\"./zh-tw\": 74725,\n\t\"./zh-tw.js\": 74725\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"aaed7a5a\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [619], () => (__webpack_require__(55819)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["theme","Object","assign","DefaultTheme","fonts","regular","fontFamily","header","typography","body","colors","mainColors","main","secondary","tertiary","quaternary","quinary","senary","primary","background","backgroundContrast","calendarColor","calendarColorYellowBrown","text","whiteText","placeHolderText","accent","error","surface","border","inputBackground","receivedMessage","danger","fontSizes","small","smallMedium","medium","mediumLarge","large","largeLarge","extraLarge","spacing","API_BASE_URL","stripeInstance","initStripe","async","loadStripe","stripe","undefined","Error","getStripeModule","SCREEN_WIDTH","Dimensions","get","width","AuthContext","height","createContext","getStorage","sessionStorage","getItem","key","console","AuthProvider","children","isSignedIn","setIsSignedIn","useState","userRole","setUserRole","isApprovedProfessional","setIsApprovedProfessional","loading","setLoading","screenWidth","setScreenWidth","firstName","setFirstName","is_DEBUG","setIsDebug","useEffect","subscription","addEventListener","handleDimensionsChange","window","remove","checkAuthStatus","fetchUserName","loadInitialAuth","token","response","axios","concat","headers","Authorization","data","first_name","message","storedRole","storedApproval","log","isApproved","role","loadAuthState","getProfessionalStatus","is_approved","AsyncStorage","setItem","String","suggestedRole","signOut","multiRemove","removeItem","setTimeout","navigate","currentPath","location","pathname","slice","isHomePage","toLowerCase","refreshToken","currentToken","isValid","post","status","validateToken","newToken","refresh","access","refreshUserToken","newRole","_jsx","Provider","value","signIn","refreshTokenValue","initialRole","switchRole","previousRoute","currentRoute","handleBack","navigation","navigateToFrom","toLocation","fromLocation","params","Navigation","visible","setVisible","isMobile","setIsMobile","useTheme","useContext","closeMenu","updateLayout","handleNavigation","screenName","initialRoute","initializeRouteTracking","renderMenuItems","title","icon","route","_Fragment","_jsxs","Appbar","Header","style","styles","backgroundColor","View","titleContainer","flex","TouchableOpacity","onPress","Text","color","titleContainer2","navLinkContainer","MaterialCommunityIcons","name","size","fontWeight","marginLeft","fontSize","Menu","onDismiss","anchor","Action","openMenu","map","item","index","Item","titleStyle","desktopNav","webNavItem","webNavText","StyleSheet","create","container","display","content","justifyContent","flexDirection","textAlign","alignItems","navItem","marginHorizontal","cursor","customNavBar","position","bottom","left","right","paddingVertical","borderTopWidth","borderTopColor","navButton","paddingHorizontal","navText","marginTop","padding","maxWidth","marginRight","marginBottom","mobileContainer","mobileItemContainer","mobileMarker","mobileMilestoneTitle","mobileDashedLine","borderStyle","borderWidth","borderColor","webContainer","dashedLine","top","webMarker","transform","translateX","webMilestoneTitle","markerContainer","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalOverlay","modalContent","modalIconContainer","modalNumber","modalTitle","modalDescription","lineHeight","closeButton","closeButtonText","RoadmapSection","selectedMilestone","setSelectedMilestone","modalVisible","setModalVisible","roadmapData","id","description","handleMilestonePress","milestone","length","FontAwesome5","Modal","transparent","animationType","onRequestClose","number","BOOKING_STATES","DRAFT","PENDING_INITIAL_PROFESSIONAL_CHANGES","PENDING_PROFESSIONAL_CHANGES","PENDING_CLIENT_APPROVAL","CONFIRMED","CONFIRMED_PENDING_PROFESSIONAL_CHANGES","CONFIRMED_PENDING_CLIENT_APPROVAL","COMPLETED","DENIED","CANCELLED","PROFESSIONAL_EDITABLE_STATES","ALL_SERVICES","SERVICE_TYPES","TIME_OPTIONS","mockAdditionalRates","amount","mockServicesForCards","startingPrice","animalTypes","additionalRates","GENERAL_CATEGORIES","mockPets","animal_type","breed","age","months","years","weight","sex","friendlyWithChildren","friendlyWithCats","friendlyWithDogs","spayedNeutered","houseTrained","microchipped","adoptionDate","energyLevel","feedingSchedule","leftAlone","medication","additionalInstructions","vetName","vetAddress","vetPhone","insuranceProvider","vetDocuments","galleryImages","mockProfessionals","profilePicture","require","reviews","price","bio","coordinates","latitude","longitude","serviceTypes","mockClients","pet_types","last_booking","pets","email","phone","address","sharedBookingDetails","booking_id","client_name","professional_name","service_details","service_type","pet_id","species","occurrences","occurrence_id","start_date","end_date","start_time","end_time","calculated_cost","base_total","rates","base_rate","additional_animal_rate","additional_animal_rate_applies","applies_after","unit_of_time","holiday_rate","holiday_days","additional_rates","cost_summary","subtotal","platform_fee","taxes","total_client_cost","total_sitter_payout","is_prorated","mockBookingDetails","clientName","startDate","startTime","createBooking","values","booking","date","time","serviceType","numberOfPets","totalCost","costs","totalClientCost","professionalPayout","clientId","freelancerId","initialData","newBookingId","Date","now","newBooking","professionalName","animalType","duration","baseRate","additionalPetRate","extraServices","baseTotal","additionalPetTotal","extraServicesTotal","clientFee","created_at","toISOString","updated_at","bookingId","allBookings","keys","Promise","resolve","CURRENT_USER_ID","mockConversations","participant1_id","participant2_id","role_map","participant1_role","participant2_role","lastMessage","timestamp","unread","mockMessages","message_id","sender","is_booking_request","metadata","type","endDate","endTime","DEFAULT_SERVICES","serviceName","additionalAnimalRate","SERVICE_TYPE_SUGGESTIONS","ANIMAL_TYPE_SUGGESTIONS","BLOG_POSTS","author","publishDate","readTime","tags","references","authors","publication","url","year","doi","likes","comments","shares","windowWidth","windowHeight","image","ReviewImage","source","src","alt","scrollView","contentContainer","paddingBottom","heroSection","overflow","heroImage","heroText","textShadowColor","textShadowOffset","textShadowRadius","section","sectionTitle","card","appButtons","appButton","reviewsSection","reviewsBackground","reviewsOverlay","reviewsSubtitle","reviewsTitle","reviewsContainer","overflowX","WebkitOverflowScrolling","msOverflowStyle","scrollbarWidth","scrollbarColor","reviewsContent","minWidth","gap","reviewCard","reviewCardMobile","reviewQuote","reviewText","reviewAuthorContainer","reviewerImage","objectFit","reviewAuthorName","reviewAuthorTitle","paginationDots","paginationDot","margin","paginationDotActive","featuresSection","toggleContainer","toggleButton","toggleButtonActive","toggleButtonText","toggleButtonTextActive","featuresContainer","featureColumn","columnTitle","featuresList","featureItem","featureIconCircle","featureIcon","featureTitle","featureText","actionButton","buttonContainer","buttonText","blogSection","blogCard","authorContainer","authorImage","blogContent","authorInfo","authorName","dot","preview","flexWrap","tag","tagText","stats","stat","statText","roadmapSection","roadmapImage","roadmapOverlayText","faqSection","faqItem","faqButton","faqQuestion","faqToggle","faqAnswer","contactSection","contactContainer","input","footer","socialIconsRow","socialIcon","footerLinksRow","footerLink","textDecorationLine","successMessage","messageInput","textAlignVertical","paddingTop","disabledButton","opacity","validationError","starsContainer","starIcon","waitlistSection","marginVertical","waitlistDescription","waitlistButton","scrollIndicators","scrollIndicatorButton","scrollIndicator","scrollIndicatorActive","scrollHint","scrollHintText","scrollContainer","scrollContent","serviceHighlightsSection","mainServiceTitle","servicesGrid","scrollViewContent","flexGrow","alignSelf","switchProfileButton","profileHeader","sectionSaveButton","borderBottomWidth","borderBottomColor","bioInput","petItem","petName","petInfo","petDetails","placeholder","saveButton","addButton","profilePhoto","profilePhotoPlaceholder","centered","sectionHeader","fieldText","iconContainer","petItemContent","petPhoto","modalContainer","modalText","webPopup","zIndex","webPopupTitle","webPopupText","profileInfo","headerLeft","backButton","headerText","ClientProfile","useNavigation","useWindowDimensions","setProfilePhoto","setName","setEmail","setPhone","setAge","setAddress","city","setCity","state","setState","zip","setZip","country","setCountry","setBio","setPets","emergencyContact","setEmergencyContact","authorizedHouseholdMembers","setAuthorizedHouseholdMembers","isLoading","setIsLoading","editMode","setEditMode","showAuthorizedMembersInfo","setShowAuthorizedMembersInfo","popupPosition","setPopupPosition","questionMarkRef","useRef","scrollViewRef","localIsApprovedProfessional","setLocalIsApprovedProfessional","photo","then","storedIsApprovedProfessional","JSON","parse","fetchProfessionalStatus","toggleEditMode","prevState","renderEditableField","label","onChangeText","TextInput","renderIcon","Ionicons","renderSaveButton","Button","mode","Alert","alert","saveSection","showSwitchToProfessionalButton","SafeAreaView","handleSwitchToProfessional","ScrollView","ref","contentContainerStyle","result","ImagePicker","launchImageLibraryAsync","mediaTypes","Images","allowsEditing","aspect","quality","canceled","assets","uri","Image","multiline","numberOfLines","pet","petId","showAuthorizedMembersPopup","current","measure","fx","fy","px","py","_","__","___","____","scrollViewX","scrollViewY","member","household","updateHouseholdMember","updatedMembers","addHouseholdMember","Portal","floatingButtonContainer","webButton","mobileButton","floatingButton","FloatingSaveButton","onSave","btnText","maxHeight","modalScroll","inputWrapper","inputError","inputLabel","categoryInput","paddingRight","timeInput","selectedText","placeholderText","categoryDropdownContainer","categoryScrollView","categoryItem","categoryText","checkmarkContainer","suggestionsContainer","suggestionScrollView","suggestionText","timeDropdownContainer","timeDropdownItem","timeDropdownText","selectedTimeOption","descriptionInput","additionalRateRow","additionalRateTitle","deleteRateButton","deleteRateButtonText","addRateButton","addRateText","modalButtons","saveButtonText","cancelButton","cancelButtonText","AddServiceModal","onClose","initialService","setHasUnsavedChanges","currentService","setCurrentService","serviceDescription","holidayRate","lengthOfService","categories","setAdditionalRates","showValidationErrors","setShowValidationErrors","showServiceDropdown","setShowServiceDropdown","showAnimalDropdown","setShowAnimalDropdown","showTimeDropdown","setShowTimeDropdown","showCategoryDropdown","setShowCategoryDropdown","selectedCategories","setSelectedCategories","serviceDropdownPosition","setServiceDropdownPosition","animalDropdownPosition","setAnimalDropdownPosition","categoryDropdownPosition","setCategoryDropdownPosition","serviceInputRef","animalInputRef","categoryInputRef","timeInputRef","categoryDropdownRef","animalDropdownRef","serviceDropdownRef","timeDropdownRef","handleClickOutside","event","contains","target","document","removeEventListener","measureDropdown","inputRef","setPosition","inputType","x","y","pageX","pageY","updateAdditionalRate","prev","rate","i","resetForm","join","nestedScrollEnabled","showsVerticalScrollIndicator","persistentScrollbar","category","includes","filter","c","handleCategorySelect","trim","placeholderTextColor","onFocus","suggestion","option","keyboardType","replace","idx","prevRates","addAdditionalRate","serviceToSave","serviceCard","topRow","topRowIcons","iconButton","contentRow","collapsedContent","rateText","collapseButton","ProfessionalServiceCard","isCollapsed","onEdit","onDelete","onToggleCollapse","button","confirmButton","confirmButtonText","disabledText","ConfirmationModal","onConfirm","actionText","disabled","ActivityIndicator","serviceListContainer","headerButtons","headerActions","headerButton","buttonTooltip","portalTooltip","tooltipText","emptyContainer","emptyText","addButtonText","ServiceManager","services","setServices","isProfessionalTab","showModal","setShowModal","editingService","setEditingService","collapsedServices","setCollapsedServices","allCollapsed","setAllCollapsed","showDeleteModal","setShowDeleteModal","serviceToDelete","setServiceToDelete","hoveredButton","setHoveredButton","tooltipPosition","setTooltipPosition","collapseTooltipPosition","setCollapseTooltipPosition","buttonRef","collapseButtonRef","showTooltip","rect","getBoundingClientRect","toggleCollapseAll","onMouseEnter","onMouseLeave","Array","isArray","FlatList","renderItem","service","serviceToEdit","handleEditService","handleDeleteService","toggleCollapse","warn","keyExtractor","updatedService","confirmDelete","prevServices","RecordedPets","EditableSection","getContentWidth","centeredContent","portfolioGrid","portfolioCard","portfolioImageContainer","aspectRatio","portfolioPhoto","borderTopLeftRadius","borderTopRightRadius","portfolioCaption","facilitiesContainer","facilityTag","facilityTagSelected","facilityTagText","facilityTagTextSelected","modalHeader","modalFacilityTag","modalFacilityText","modalFooter","modalButton","modalButtonText","modalButtonText2","ProfessionalTab","professionalPhoto","setProfessionalPhoto","professionalBio","setProfessionalBio","portfolioPhotos","setPortfolioPhotos","facilities","setFacilities","skills","setSkills","certifications","experience","specialties","selectedFacilities","setSelectedFacilities","facilitiesModalVisible","setFacilitiesModalVisible","tempSelectedFacilities","setTempSelectedFacilities","FACILITY_OPTIONS","allowsMultipleSelection","selectionLimit","newPhotos","asset","toString","Math","random","substr","caption","openFacilitiesModal","facilityId","facility","find","f","toggleTempFacility","saveFacilities","webDatePicker","androidButton","dateText","DatePicker","onChange","displayFormat","showDatePicker","setShowDatePicker","e","rightButton","BackHeader","onBackPress","rightIcon","onRightPress","rightComponent","customStyles","minHeight","CrossPlatformView","useSafeArea","fullWidthHeader","contentWidth","setWindowWidth","updateDimensions","headerContent","mainContent","tabContainer","tab","activeTab","tabText","activeTabText","lastSection","fieldContainer","fieldLabel","birthdayContainer","ageText","MyProfile","professional","portfolio","setActiveTab","setRates","inHouse","overnight","dropBys","boarding","dayCare","photoNeedsSaving","setPhotoNeedsSaving","hasUnsavedChanges","birthday","setBirthday","calculatedAge","setCalculatedAge","fetchMyProfileData","isBio","updateBirthday","fetch","method","stringify","json","maxLeftPosition","calculatedLeft","popupWidth","safeLeft","min","max","saveChanges","CustomButton","invalidInput","link","prototypeWarning","screenHeight","safeArea","cardContainer","quickActions","quickActionButton","bookingItem","Dashboard","isLargeScreen","dynamicStyles","headerTitle","cardTitle","cardParagraph","listItemTitle","listItemDescription","upcomingBookings","profepsronalsional","IconComponent","_ref","props","_objectWithoutPropertiesLoose","_excluded","Content","Card","Title","Paragraph","List","descriptionStyle","Actions","labelStyle","SearchProfessionals","setStartDate","setEndDate","showStartDatePicker","setShowStartDatePicker","showEndDatePicker","setShowEndDatePicker","setLocation","setAnimalType","exoticType","setExoticType","setServiceType","petCount","setPetCount","dogs","cats","exotics","repeatService","setRepeatService","showServicePicker","setShowServicePicker","showAnimalTypePicker","setShowAnimalTypePicker","showRepeatServicePicker","setShowRepeatServicePicker","filtersContainer","picker","filterInput","filterButton","filterText","petCountContainer","petCounter","petType","counterControls","searchButton","searchButtonText","datePickerContainer","webHeader","renderDatePicker","setDate","showPicker","setShowPicker","split","renderPicker","selectedValue","setSelectedValue","options","Picker","onValueChange","itemValue","goBack","KeyboardAvoidingView","behavior","charAt","toUpperCase","searchButtonDisabled","Location","requestForegroundPermissionsAsync","userLocation","getCurrentPositionAsync","coords","latitudeDelta","longitudeDelta","searchParams","initialProfessionals","loadingContainer","emptyStateContainer","createServiceButton","ProfessionalDashboard","setUpcomingBookings","emptyStateText","fetchDashboardData","upcoming_bookings","retryError","navigateToServiceManager","checkboxContainer","petButton","selectedPetButton","petButtonText","selectedPetButtonText","textInput","certificationText","uploadButton","uploadText","submitButton","submitButtonText","loadingIndicator","subtitle","uploadedFileContainer","uploadedFilePreview","removeFileButton","BecomeProfessional","selectedPets","setSelectedPets","dog","cat","about","setAbout","setCertifications","insuranceProof","setInsuranceProof","isSubmitting","setIsSubmitting","initializeNavigation","handleBackPress","togglePetSelection","base64","newCertification","pop","cert","removeCertification","newProof","proof","removeInsuranceProof","confirm","logoutButtonContainer","logoutButton","switchRoleButtonContainer","switchRoleButton","webContent","webListSection","webListItem","webButtonContainer","MoreScreen","initializeRoutes","handleLogout","handleSwitchRole","newRoute","menuItems","items","lightGrey","removeButton","serviceContainer","reason","textSecondary","seeMoreButton","seeMoreText","modalTime","serviceItem","cardContent","timeContainer","timeText","editButton","fullWidth","timeButton","compactTimeButton","TimePicker","containerStyle","React","webInputStyle","toTimeString","SCREEN_HEIGHT","switchContainer","availabilityButton","availableButton","unavailableButton","availabilityButtonText","timePickerContainer","webTimePicker","unavailableTimesContainer","customDropdown","dropdownContainer","dropdownScroll","dropdownItem","dropdownText","selectedOption","dropdownItemContent","activeToggle","toggleText","activeToggleText","bookingsList","emptyState","contentScrollView","availabilityControls","bookingsContainer","unavailableTimesWrapper","bookingsWrapper","selectedDatesText","ALL_DAYS","DAYS_OF_WEEK","settingContainer","dayContainer","selectedTab","selectedTabText","daySettingsContainer","settingRow","enabledText","DefaultSettingsModal","isVisible","defaultSettings","selectedDays","setSelectedDays","settings","setSettings","Monday","isAllDay","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","showTimePicker","setShowTimePicker","isCurrentlyUnavailable","setIsCurrentlyUnavailable","showDayDropdown","setShowDayDropdown","dropdownButton","getElementById","handleAvailabilityChange","makeAvailable","daysToUpdate","day","newSettings","forEach","isUnavailable","renderTimePicker","checkCurrentAvailability","days","some","d","withoutAll","handleDaySelection","renderDaySettings","daySettings","Switch","pointerEvents","newTime","overlay","handleContainer","handle","headerMinimized","headerCenter","statusText","actionButtonText","timeToggleContainer","customToggle","toggleButtonInactive","timeSection","serviceSection","serviceSelector","serviceSelectorText","serviceSelectorError","errorText","AvailabilityBottomSheet","selectedDates","currentAvailability","onViewUnavailableTimes","setStartTime","setEndTime","selectedServices","setSelectedServices","setIsAllDay","setError","isMinimized","setIsMinimized","animatedHeight","Animated","Value","animatedOpacity","slideAnimation","spring","toValue","useNativeDriver","tension","friction","start","getAvailabilityStatus","dateAvailability","isAvailable","unavailableTimes","validateAndSave","format","containerHeight","interpolate","inputRange","outputRange","translateY","toggleMinimized","parallel","timing","handleClose","getStatusColor","success","warning","s","timesList","timeSlotContainer","dateHeader","timeSlotContent","bookingContent","timeAndReason","reasonText","bookingButton","UnavailableTimesModal","onRemoveTimeSlot","bookings","formatTime","hours","minutes","setHours","parseInt","getUnavailableTimes","allTimes","processedTimes","Set","dateBookings","timeKey","has","push","isBooking","add","sort","a","b","localeCompare","renderActionButton","handleBookingPress","renderTimeSlot","formattedDate","formattedStartTime","formattedEndTime","mainContainer","bottomSheetOverlay","centeredContainer","defaultSettingsButton","defaultSettingsText","colorKeyContainer","colorKeyTitle","colorKeyItem","colorBox","colorKeyText","loadingText","errorContainer","retryButton","retryButtonText","bottomSheetContainer","AvailabilitySettings","markedDates","setMarkedDates","setSelectedDates","isAddModalVisible","setIsAddModalVisible","isSettingsModalVisible","setIsSettingsModalVisible","defaultAvailability","setDefaultAvailability","setCurrentAvailability","setBookings","setDefaultSettings","showBottomSheet","setShowBottomSheet","showUnavailableTimesModal","setShowUnavailableTimesModal","isClosing","setIsClosing","fadeAnim","availableDates","unavailableDates","updateMarkedDates","combinedAvailability","err","loadAvailabilityData","newMarkedDates","entries","isFullDay","allServicesSelected","bookingList","marked","dotColor","toggleBottomSheet","show","Calendar","reduce","acc","selected","borderBottomLeftRadius","borderBottomRightRadius","markingType","week","paddingLeft","onDayPress","dateString","selectedDate","getDate","firstDate","getTime","range","currentDate","renderArrow","direction","iconName","availabilityData","newCurrentAvailability","dates","handleAddAvailability","onViewBookings","handleViewBookings","initialTab","handleRemoveTimeSlot","timeSlot","updatedAvailability","currentDateAvailability","filteredTimes","today","oneYearFromNow","getFullYear","getMonth","daysMapping","UTC","targetDayNumber","currentDayNumber","getUTCDay","setUTCDate","getUTCDate","applyDefaultSettingsToCalendar","contentWrapper","petCard","scale","petCardContent","petImage","petImagePlaceholder","MyPets","fetchPets","PetCard","history","replaceState","getAnimalIcon","androidContainer","StatusBar","currentHeight","messageButtonContainer","messageButton","ClientHistory","clientData","contracts","invoices","contract","invoice","validateDateTimeRange","startHour","startMinute","Number","endHour","endMinute","startDateTime","endDateTime","ANIMAL_COUNT_OPTIONS","ScrollableContent","className","dateTimeSection","dateTimeContainer","dateTimeColumn","topSpacing","rateRow","rateInput","rateAmountContainer","rateAmountInput","addRateButtonText","inputContainer","dollarSign","rateLabelContainer","rateTitleLabel","rateAmountLabel","rateContainer","baseRateInput","timeUnitInput","totalSection","totalLabel","totalAmount","selectedDropdownText","pickerItem","AddOccurrenceModal","onAdd","defaultRates","hideRates","initialOccurrence","isEditing","createTimeDate","timeStr","setMinutes","occurrence","setOccurrence","appliesAfterAnimals","timeUnit","getHours","setTimeUnit","showAddRate","setShowAddRate","newRate","setNewRate","setValidationError","calculateTotal","parseFloat","toFixed","sum","platformFee","rateSection","editable","handleDeleteRate","handleAddRate","handleSubmit","validation","occurrenceData","handleAdd","serviceOptions","serviceButton","petOptions","dateContainer","timePickerWrapper","dropdownInput","dropdownList","addPetButton","addPetText","occurrenceCard","occurrenceDetails","addOccurrenceButton","addOccurrenceText","occurrenceActions","bookingRequestCard","bookingRequestHeader","bookingRequestTitle","bookingRequestDetails","detailLabel","detailText","acceptButton","acceptButtonText","occurrenceCardError","RequestBookingModal","onSubmit","selectedService","setSelectedService","showPetDropdown","setShowPetDropdown","showAddOccurrenceModal","setShowAddOccurrenceModal","setOccurrences","selectedOccurrence","setSelectedOccurrence","confirmationModal","setConfirmationModal","occurrenceErrors","setOccurrenceErrors","confirmDeleteOccurrence","occ","occurrenceToDelete","handleDeleteOccurrence","handleOpenOccurrenceModal","p","petDropdown","dropdownPetName","dropdownPetDetails","renderOccurrenceCard","occs","errors","validateOccurrences","bookingRequestMessage","newOccurrence","MessageHistory","headerContainer","conversationListContainer","borderRightWidth","conversationItem","selectedConversation","borderLeftWidth","borderLeftColor","conversationName","messageSection","messagesContainer","messageList","messageInputContainer","attachButton","sendButton","messageCard","messageContent","sentMessage","messageText","sentMessageContainer","receivedMessageContainer","senderAbove","sentSenderName","receivedSenderName","timestampBelow","sentTimestamp","receivedTimestamp","sentMessageText","receivedMessageText","webInput","appearance","touchAction","WebkitTapHighlightColor","WebkitUserSelect","userSelect","conversationContent","conversationHeader","conversationTime","conversationLastMessage","unreadMessage","bookingStatusContainer","bookingStatus","requestBookingButton","requestBookingLabel","messageListContainer","inputInnerContainer","attachButtonContainer","dropdownMenu","activeConversationText","mobileMessageView","backButtonText","mobileHeader","mobileContent","sendButtonMobile","messageHeader","messageHeaderName","mobileHeaderContent","mobileHeaderName","backArrow","sentBookingRequest","receivedBookingRequest","viewBookingButton","viewBookingText","statusContainer","createStyles","isLoadingConversations","setIsLoadingConversations","isLoadingMessages","setIsLoadingMessages","setSelectedConversation","selectedConversationData","setSelectedConversationData","messages","setMessages","isSending","setIsSending","showRequestModal","setShowRequestModal","showDropdown","setShowDropdown","is_prototype","conversations","setConversations","hasMore","setHasMore","currentPage","setCurrentPage","isLoadingMore","setIsLoadingMore","fetchMessages","conversationId","page","has_more","SendNormalMessage","messageData","prevMessages","conversation_id","conv","last_message","last_message_time","requestUrl","request","fetchConversations","conversation","conversationMessages","loadMoreMessages","renderBookingRequestMessage","useCallback","isFromMe","BookingRequestMessage","onAccept","other_user_name","renderMessage","sent_by_other_user","WebInput","setMessage","handleSend","onKeyPress","shiftKey","preventDefault","renderConversationList","otherParticipantName","participant2_name","participant1_name","toLocaleTimeString","bookingPendingStatus","renderMessageSection","onEndReached","onEndReachedThreshold","inverted","maintainVisibleContentPosition","minIndexForVisible","autoscrollToTopThreshold","currentConversation","isProfessional","professionalId","handleRequestBooking","messageType","handleViewBooking","readOnly","newMessage","stripePromise","Elements","useStripe","useElements","CardElement","IbanElement","ELEMENT_OPTIONS","supportedCountries","base","fontSmoothing","invalid","iconColor","WebPaymentForm","paymentType","elements","bankFields","setBankFields","accountNumber","routingNumber","complete","handleBankFieldChange","field","updatedFields","isAccountNumberValid","isRoutingNumberValid","NativePaymentElement","StripePaymentElement","stripeReact","initializeStripe","bankInputsContainer","bankInput","sectionContainer","segmentedButtons","methodInfo","methodType","primaryOptionsContainer","checkboxRow","checkbox","checkboxLabel","cardActions","dialog","loadingOverlay","bankName","verificationNeeded","amountsContainer","amountInput","verificationText","addIconButton","PaymentMethods","paymentMethods","setPaymentMethods","confirmPrimaryDialogVisible","setConfirmPrimaryDialogVisible","selectedMethod","setSelectedMethod","primaryAction","setPrimaryAction","newPaymentMethod","setNewPaymentMethod","cardNumber","expiryDate","cvc","isConfirming","setIsConfirming","deleteDialogVisible","setDeleteDialogVisible","methodToDelete","setMethodToDelete","deleteError","setDeleteError","cardComplete","setCardComplete","cardElement","setCardElement","stripeElement","setStripeElement","bankAccountComplete","setBankAccountComplete","verificationModalVisible","setVerificationModalVisible","verificationAmounts","setVerificationAmounts","first","second","verifyingMethod","setVerifyingMethod","modalLoading","setModalLoading","isPrimaryPayment","isPrimaryReceive","is_verified","last4","brand","checkStripeReady","handleEditMethod","handleDeleteMethod","handleSetPrimary","confirmSetPrimary","prevMethods","confirmDeleteMethod","handleVerifyBankAccount","handleVerificationSubmit","firstAmount","secondAmount","isNaN","simulateBackendVerification","reject","updateMethod","methods","m","handlePaymentChange","handleSavePaymentMethod","createPaymentMethod","getElement","paymentMethodData","paymentMethod","createToken","currency","routing_number","account_number","account_holder_type","bank_account","bank_name","IconButton","STRIPE_PUBLISHABLE_KEY","handleAddMethod","renderPaymentMethod","Dialog","SegmentedButtons","buttons","animating","listSection","warningContainer","warningText","Settings","settingsItems","Divider","appName","paragraph","listItem","PrivacyPolicy","ProfessionalSettings","testSection","TermsOfService","HelpFAQ","ContactUs","handleFormspreeSubmit","useForm","setSuccessMessage","maxContentWidth","succeeded","ValidationError","prefix","autoCapitalize","submitting","SearchBar","forwardRef","initialValue","setValue","MaterialIcons","focus","autoFocus","returnKeyType","blurOnSubmit","memo","androidSafeArea","searchAndFilterContainer","searchBar","clientList","clientCard","petTypes","petChip","noClientsContainer","filterChip","applyButton","closeIcon","Clients","searchQuery","setSearchQuery","selectedFilters","setSelectedFilters","tempFilters","setTempFilters","isFilterModalVisible","setIsFilterModalVisible","clients","setClients","fetchClients","toggleFilter","prevFilters","applyFilters","filteredClients","useMemo","client","matchesSearch","matchesFilters","every","lastBookingDate","weekAgo","monthAgo","setMonth","yearAgo","setFullYear","renderClient","Chip","handleSearchChange","query","TouchableWithoutFeedback","keyboardShouldPersistTaps","removeClippedSubviews","CostCalculationModal","onContactPress","additionalAnimals","setAdditionalAnimals","isHolidayRate","setIsHolidayRate","selectedRates","setSelectedRates","setTotalCost","platformFees","setPlatformFees","ratesObj","calculateTotalCost","rateItem","counterContainer","counterButton","counterText","trackColor","false","true","totalItem","finalTotal","finalTotalText","contactButton","contactButtonText","dateSection","dateColumn","dateLabel","heartButton","flexShrink","animalTypeContainer","calculateButton","calculateButtonText","ServiceCard","onHeartPress","isFavorite","isModalVisible","setIsModalVisible","handleContactPress","existingConversation","newConversation","createNewConversation","isCurrentUserClient","unshift","WebMap","mockReviews","rating","createElement","textContent","head","appendChild","topSection","gallerySection","photoGrid","bottomSection","servicesSection","aboutSection","hostingSection","hostTitle","weightRanges","weightRange","galleryPhoto","rateLabel","addPhotoButton","ratingContainer","reviewCount","statsContainer","statItem","bioText","serviceText","servicePrice","skillsGrid","skillBadge","skillText","photoGallery","calculatorText","additionalRatesButton","outline","additionalRatesText","calendarSection","readMoreButton","readMoreText","reviewItem","mapContainer","petsSection","petBreed","aboutSubsections","communicationSection","skillsSection","homeDetails","noReviews","fontStyle","twoColumnLayout","singleColumnLayout","leftColumn","rightColumn","calendar","homeFeaturesGrid","featureBubble","reviewHeader","reviewerPhoto","reviewerInfo","reviewerName","serviceInfo","modalCloseIcon","modalScrollContent","reviewsGrid","specialistSection","specialistText","modalReviewItem","leftColumnMobile","seeAllButton","seeAllButtonText","modalServicesGrid","reviewMeta","starContainer","ProfessionalProfile","professionalData","setProfessionalData","canGoBack","setCanGoBack","bioModalVisible","setBioModalVisible","reviewsModalVisible","setReviewsModalVisible","specialistModalVisible","setSpecialistModalVisible","favoriteServices","setFavoriteServices","servicesModalVisible","setServicesModalVisible","isWideScreen","useResponsiveLayout","setIsWideScreen","profileSection","profileSectionMobile","servicesBox","hasHistory","getState","routes","handlePopState","storedProfessional","loadProfessionalData","toggleFavorite","serviceId","renderProfilePhoto","renderRatingStars","TruncatedText","maxLines","renderMap","MapContainer","TileLayer","Marker","center","zoom","attribution","styles2","HomeFeature","renderReview","review","renderAvailability","calendarBackground","selectedDayBackgroundColor","selectedDayTextColor","todayTextColor","servicesScroll","servicesWrapper","horizontal","showsHorizontalScrollIndicator","servicesScrollContent","homeSection","noContractsText","contractTitle","ContractList","setContracts","fetchContracts","modalPicker","dropdownButtonText","pickerModalContainer","pickerContainer","pickerCloseButton","pickerCloseButtonText","ClientPicker","selectedClient","onSelectClient","showClientPicker","setShowClientPicker","templateGrid","templateBox","templateTitle","noTemplatesText","textArea","clientPickerContainer","ContractTemplate","templates","isTemplateModalVisible","setTemplateModalVisible","isEditModalVisible","setEditModalVisible","selectedTemplate","setSelectedTemplate","contractContent","setContractContent","setSelectedClient","template","handleTemplateSelect","handleAddSignableField","prevContent","chronicleTitle","summary","ChronicleSummary","chronicles","chronicle","outerContainer","boxShadow","dropdownItemText","QuestionInput","dropdownPosition","setDropdownPosition","layout","setLayout","handleChange","useLayoutEffect","toggleDropdown","onLayout","nativeEvent","activeOpacity","q","createButton","createButtonText","webModalContent","petOption","selectedPet","petOptionText","uploadButtonText","photoPreview","photoThumbnail","questionContainer","modalButtonContainer","addQuestionButton","addQuestionButtonText","answerInputContainer","answerInput","summaryInput","photoContainer","ChronicleForm","onCreateChronicle","questions","setQuestions","question","answer","isPreset","setSummary","photos","setPhotos","isUploading","setIsUploading","isCreating","setIsCreating","updateQuestion","newQuestions","PhotoPreview","addNewQuestion","uploadingText","uploadingSpinner","handleCreateChronicle","newChronicle","useTemplateButton","useTemplateButtonText","MyContracts","setChronicles","setTemplates","fetchChronicles","fetchTemplates","prevChronicles","successText","ChangePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","setSuccess","setToken","storedToken","getToken","secureTextEntry","current_password","new_password","rows","maxLength","formContainer","profileImageContainer","profileImage","profileImagePlaceholder","boldLabel","resize","customInput","leftTab","rightTab","buttonRow","yesNoContainer","yesNoButton","activeYesNoButton","yesNoText","datePicker","documentsContainer","documentsList","documentThumbnail","galleryContainer","galleryThumbnail","AddPet","petData","stored","search","setPetName","setPetType","setWeight","setBreed","ageYears","setAgeYears","ageMonths","setAgeMonths","setSex","setFriendlyWithChildren","setFriendlyWithCats","setFriendlyWithDogs","setSpayedNeutered","setHouseTrained","setMicrochipped","setAdoptionDate","setDescription","setProfileImage","pottyBreakSchedule","setPottyBreakSchedule","customPottyBreak","setCustomPottyBreak","setEnergyLevel","setFeedingSchedule","customFeedingSchedule","setCustomFeedingSchedule","setLeftAlone","customLeftAlone","setCustomLeftAlone","setMedication","medicationDetails","setMedicationDetails","setAdditionalInstructions","setVetName","setVetAddress","setVetPhone","setVetDocuments","setInsuranceProvider","setGalleryImages","estimatedBirthday","setEstimatedBirthday","veterinarian","documents","estimatedDate","renderTab","renderToggleButtons","customValue","setCustomValue","renderYesNoButtons","handleInputChange","setter","birthDate","calculateAge","All","doc","prevImages","resizeMode","handleSaveProfile","details","fileName","img","renderSexButtons","dropdown","itemText","chipsContainer","chip","chipText","chipRemove","CustomMultiSelect","isOpen","setIsOpen","dropdownRef","getDisplayText","selectedItems","v","displayText","substring","handleItemSelect","stopPropagation","newValue","handleRemoveItem","generalCategoriesData","LocationInput","suggestions","onSuggestionSelect","locationInputRef","debouncedFetch","debounce","display_name","lat","lon","locationInputWrapper","locationInput","suggestionsWrapper","suggestionItem","borderRightColor","datePickerWrapper","dateInput","priceRangeContainer","slider","datePickersContainer","selectedItem","dropdownIcon","itemContainer","selectedChip","selectedChipText","dropdownItemSelected","dropdownItemTextSelected","SearchRefiner","onFiltersChange","filters","setFilters","minRate","maxRate","locationSuggestions","setLocationSuggestions","selectedGeneralCategories","setSelectedGeneralCategories","selectedAnimalTypes","setSelectedAnimalTypes","isServiceDropdownOpen","setIsServiceDropdownOpen","isAnimalDropdownOpen","setIsAnimalDropdownOpen","isGeneralDropdownOpen","setIsGeneralDropdownOpen","handleFilterChange","newFilters","Slider","minimumValue","maximumValue","step","minimumTrackTintColor","maximumTrackTintColor","ProfessionalCard","handlePress","infoContainer","starProfessionalBadge","ratingText","list","listContent","starProfessionalText","repeats","ProfessionalList","professionals","onLoadMore","onProfessionalSelect","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","WebMapComponent","onMarkerPress","region","html","eventHandlers","click","Popup","popupContent","startingRate","markerText","calloutContainer","calloutText","MapView","column","filterColumn","listColumn","mapColumn","mobileNav","activeNavButton","navButtonText","containerMobile","mobileHeaderText","mobileHeaderRight","headerIcon","mapButton","SearchProfessionalsListing","activeView","setActiveView","setProfessionals","setRegion","addListener","handleFiltersChange","handleLoadMore","handleProfessionalSelect","datetime","viewButton","BookingCard","onViewDetails","onCancel","searchContainer","searchInput","listContainer","emptyStateTitle","emptyStateSubtitle","createServiceButtonText","MyBookings","fetchBookings","professional_bookings","client_bookings","searchLower","filtered","renderBookingCard","handleViewDetails","handleCancelBooking","EmptyStateMessage","AddRateModal","setAmount","formatDateWithoutTimezone","month","num","RequestChangesModal","setReason","reasonInput","statusBadge","costRow","totalRow","payoutRow","payoutLabel","payoutAmount","policyText","statusLabel","occurrenceCost","noContentText","editField","editableServiceRow","removeServiceButton","editRow","editInput","timeDropdownList","bookingDatesSection","sectionSubtitle","dateTimeRow","timePickerButton","rateSectionTitle","rateInputRow","rateInputGroup","summarySection","summaryRow","rateHeaderRow","columnHeader","rateAmountColumn","rateActionButtons","infoButton","actionButtonsContainer","primaryButton","denyButton","serviceEditContainer","serviceInputRow","numberInput","serviceDetailsContainer","serviceDetailRow","actionButtons","editOccurrenceButton","editOccurrenceText","occurrenceCostRow","occurrenceCostHeader","occurrenceCostHeaderText","costAndIcon","costSummary","expandedCostDetails","costDetailRow","costDetailText","sectionEditButton","noPetsText","proName","serviceTypeLabel","petListTitle","occurrenceTitle","occurrenceDate","occurrenceTime","costBreakdownTitle","costLabel","costAmount","additionalRateLabel","additionalRateAmount","serviceDetailLabel","serviceDetailValue","occurrenceCardTitle","occurrenceCardDate","occurrenceCardTime","summaryText","occurrenceCardText","BookingDetails","useRoute","setBooking","isProfessionalView","setIsProfessionalView","isPetsEditMode","setIsPetsEditMode","isServiceEditMode","setIsServiceEditMode","editedBooking","setEditedBooking","serviceDetails","holidayFee","weekendFee","timeDropdownPosition","setTimeDropdownPosition","showAddRateModal","setShowAddRateModal","showStartTimePicker","setShowStartTimePicker","showEndTimePicker","setShowEndTimePicker","showPetRateDropdown","setShowPetRateDropdown","showAdditionalPetRate","setShowAdditionalPetRate","showHolidayRate","setShowHolidayRate","showWeekendRate","setShowWeekendRate","expandedOccurrenceId","setExpandedOccurrenceId","isPetsSaving","setIsPetsSaving","isServiceSaving","setIsServiceSaving","showRequestChangesModal","setShowRequestChangesModal","actionLoading","setActionLoading","availablePets","setAvailablePets","isLoadingPets","setIsLoadingPets","availableServices","setAvailableServices","isLoadingServices","setIsLoadingServices","transformedBooking","num_pets","fetchBooking","getDisplayValue","canEdit","can_edit","togglePetsEditMode","Pending","textColor","Confirmed","Canceled","Completed","recalculateTotals","quantity","calculateTotalCosts","handleStatusUpdateAfterEdit","newStatus","handleStatusUpdate","handleDateTimeCardPress","transformedOccurrence","multiple","calculateMultiple","getTimeUnitDisplay","unit","messageSent","recipientId","bookingMessage","sendBookingMessage","currentStatus","updatedBooking","availableBookings","bookingKey","statusReason","updateBookingStatus","showConfirmation","occurrenceId","updatedOccurrences","StatusBadge","testID","petRow","fetchAvailablePets","fetchAvailableServices","service_name","service_id","renderActionButtons","approveButton","updatedData","updatedOccurrence","updateResponse","patch","bookingResponse","handleSaveOccurrence","booking_status","prevBooking","ServiceManagerScreen","showAddModal","setShowAddModal","fetchServices","setRouteHistory","searchBarContainer","noResultsContainer","noResultsText","webSearchInput","outlineWidth","outlineStyle","BlogScreen","filteredPosts","setFilteredPosts","handleSearch","lowercaseQuery","truncatedContent","authorBio","postInfo","referencesTitle","reference","referenceText","errorButton","errorButtonText","BlogPost","setPost","isValidPost","postData","storedPost","parsedPost","postId","foundPost","loadPost","Linking","openURL","handleReferencePress","formSection","nameContainer","nameField","checkboxGroup","checkboxIcon","radioGroup","radioContainer","radio","radioSelected","radioLabel","otherInputContainer","otherInput","Waitlist","lastName","setLastName","setPetInfo","userType","setUserType","hesitations","setHesitations","desiredFeatures","setDesiredFeatures","newsletter","setNewsletter","agreeToTerms","setAgreeToTerms","otherService","setOtherService","showOtherInput","setShowOtherInput","toggleService","formData","Stack","createStackNavigator","screens","createBottomTabNavigator","component","isMobileView","isUserScrolling","setIsUserScrolling","AutoScrollSection","cardWidth","currentIndex","setCurrentIndex","userScrolling","setUserScrolling","autoScrollTimerRef","setInterval","nextIndex","scrollToIndex","clearInterval","scrollTo","animated","handleScrollEnd","onScroll","contentOffset","round","scrollEventThrottle","pagingEnabled","onScrollBeginDrag","handleScrollBegin","onScrollEndDrag","onMomentumScrollEnd","handleDotPress","cardStyles","Features","roadmapColors","featureItemStyle","featureContentStyle","FontAwesome6","FontAwesome","ReviewsSection","BlogSection","renderBlogPost","tagIndex","ContactSection","password","setPassword","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLogin","errorMessage","handleDocumentKeyPress","handleKeyPress","keyboardVerticalOffset","userData","password2","phone_number","errorData","firstError","emailError","setEmailError","uid","linking","enabled","prefixes","config","Home","About","SignIn","SignUp","ResetPassword","ResetPasswordConfirm","path","messageId","senderName","More","Blog","navigationRef","createNavigationContainerRef","isReady","MVPWarning","setIsVisible","checkBannerStatus","warningBanner","warningContent","waitlistButtonText","AppContent","setInitialRoute","authStatus","routePath","matchingScreen","screen","initializeApp","NavigationContainer","onStateChange","Navigator","initialRouteName","screenOptions","headerShown","TransitionPresets","SlideFromRightIOS","presentation","animation","Screen","App","PaperProvider","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","r","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","t","this","ns","def","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","Symbol","toStringTag","nmd","paths","installedChunks","installedChunkData","promise","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}