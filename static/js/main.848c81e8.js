(()=>{var e={71284:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>Ln,navigate:()=>En,navigationRef:()=>_n});var a=o(36665),n=o(73929),r=o(6283),i=o(15648),s=o(73668),l=o(8218),d=o(66986),c=o(44370),u=o(26166),f=o(43150),m=o(26725),g=o(7869),h=o(16204);const p=Object.assign({},h.DefaultTheme,{fonts:Object.assign({},h.DefaultTheme.fonts,{regular:{fontFamily:"PlayfairDisplay"},header:{fontFamily:"Futura"}}),typography:{header:{fontFamily:"Futura"},body:{fontFamily:"PlayfairDisplay"}},colors:Object.assign({},h.DefaultTheme.colors,{mainColors:{main:"#6A6C51",secondary:"#5D6C51",tertiary:"#516C53",quaternary:"#516C61",quinary:"#516A6C",senary:"#515D6C"},primary:"#6A6C51",secondary:"#516C61",background:"#f6f6f6",backgroundContrast:"#F6F3FC",calendarColor:"#A99E6B",calendarColorYellowBrown:"#8A8C6D",text:"black",whiteText:"white",placeHolderText:"#A9A9A9",accent:"#03dac4",error:"#B00020",surface:"#f6f6f6",border:"#6A6C51",inputBackground:"#f6f6f6",receivedMessage:"#e7eae6",danger:"#A52A2A"}),fontSizes:{small:12,smallMedium:14,medium:16,mediumLarge:18,large:20,largeLarge:24,extraLarge:26},spacing:{small:8,medium:16,large:24}});var y=o(91087),x=o(77109);let b;b="http://localhost:8000";let j=null;const w=async()=>(j||(j=await(async()=>{{const{loadStripe:e}=await o.e(210).then(o.bind(o,79210)),t=await e(void 0);if(!t)throw new Error("Failed to initialize Stripe");return t}})()),j);var C=o(60397);const S=m.default.get("window").width,v=(m.default.get("window").height,(0,a.createContext)()),T=({children:e})=>{const[t,o]=(0,a.useState)(!1),[n,r]=(0,a.useState)(null),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(m.default.get("window").width),[f,g]=(0,a.useState)(""),[h,p]=(0,a.useState)(!0),[j,S]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t&&!h&&w()}),[t,h]),(0,a.useEffect)((()=>{const e=m.default.addEventListener("change",(({window:e})=>{u(e.width)}));return()=>{e?.remove&&e.remove()}}),[]),(0,a.useEffect)((()=>{(async()=>{try{if(h)return o(!0),r("professional"),s(!0),void await y.default.multiSet([["userRole","professional"],["isApprovedProfessional","true"]]);(await I()).isSignedIn&&await T()}finally{d(!1)}})()}),[]);const T=async()=>{if(h)g("John");else try{let e=sessionStorage.getItem("userToken");if(!e)return void(j&&console.error("No token found"));const t=await x.default.get("".concat(b,"/api/users/v1/get-name/"),{headers:{Authorization:"Bearer ".concat(e)}});g(t.data.first_name)}catch(e){console.error("Error fetching user name:",e.response?e.response.data:e.message)}};(0,a.useEffect)((()=>{(async()=>{try{let e,t,a;e=sessionStorage.getItem("userToken"),t=sessionStorage.getItem("userRole"),a=sessionStorage.getItem("isApprovedProfessional"),j&&console.log("MBA got token:",e,"storedRole:",t,"StoredApproval:",a);const n=!!a&&"true"===a[1];e?(j&&console.log("MBA got into load auth state if token. storedRole:",t),o(!0),r(t||"petOwner"),s(n),j&&console.log("Initial auth state set:",{role:t||"petOwner",isApproved:n})):(j&&console.log("No token found, setting to signed out state"),o(!1),r(null),s(!1))}catch(e){console.error("Error loading auth state:",e)}finally{d(!1),j&&console.log("Finished loadAuthState")}})()}),[]),(0,a.useEffect)((()=>{t&&T()}),[t]);const k=async e=>{try{const t=await x.default.get("".concat(b,"/api/professional-status/v1/"),{headers:{Authorization:"Bearer ".concat(e)}});console.log("Professional status response:",t.data);const{is_approved:o}=t.data;return s(o),await y.default.setItem("isApprovedProfessional",String(o)),{isApprovedProfessional:o,suggestedRole:o?"professional":"petOwner"}}catch(t){return console.error("Error getting professional status:",t.response?.data||t),{isApprovedProfessional:!1,suggestedRole:"petOwner"}}},B=async()=>{try{await y.default.multiRemove(["userToken","refreshToken","userRole","isApprovedProfessional"]),await sessionStorage.removeItem("userToken"),await sessionStorage.removeItem("refreshToken"),await sessionStorage.removeItem("userRole"),await sessionStorage.removeItem("isApprovedProfessional")}catch(e){console.error("Error clearing storage:",e)}o(!1),s(!1),r(null),setTimeout((()=>{sessionStorage.setItem("explicitSignOut","true"),En("SignIn")}),0)},I=async()=>{try{if("true"===sessionStorage.getItem("explicitSignOut"))return sessionStorage.removeItem("explicitSignOut"),{isSignedIn:!1,userRole:null,isApprovedProfessional:!1};let e="";e=window.location.pathname.slice(1);const t=!e||""===e||"home"===e.toLowerCase();if(h){if(!sessionStorage.getItem("userToken"))return j&&console.log("Prototype mode: No token found, signing out"),{isSignedIn:!1,userRole:null,isApprovedProfessional:!1};j&&console.log("Prototype mode: Token found, setting signed in state"),o(!0);const e=sessionStorage.getItem("userRole");return j&&console.log("MBA setting user role",e),r("professional"===e||"petOwner"===e?e:"petOwner"),s(!0),{isSignedIn:!0,userRole:"professional"===e||"petOwner"===e?e:"petOwner",isApprovedProfessional:!0}}let a,n,l,d;if(a=sessionStorage.getItem("userToken"),n=sessionStorage.getItem("refreshToken"),l=sessionStorage.getItem("userRole"),d=sessionStorage.getItem("isApprovedProfessional"),j&&(console.log("MBA userToken:",a),console.log("MBA refreshToken:",n),console.log("MBA storedRole:",l),console.log("MBA isApprovedProfessional:",i),console.log("MBA storedApproval:",d),console.log("Current path:",e),console.log("Is home page:",t)),!a||!n)return console.log("No tokens found - handling based on current route"),t||await B(),{isSignedIn:!1,userRole:null,isApprovedProfessional:!1};let c=a,u=!1;if(c&&(u=await(async e=>{try{return h?(j&&console.log("Prototype mode: Mock token validation successful"),!0):(await x.default.post("".concat(b,"/api/token/verify/"),{token:e}),!0)}catch(t){return console.log("Token validation error:",t.response?.status),!1}})(c)),!u&&n){const e=await(async()=>{try{if(h){j&&console.log("Prototype mode: Mock token refresh successful");const e="mock_refreshed_token";return sessionStorage.setItem("userToken",e),e}const e=sessionStorage.getItem("refreshToken");if(!e)return console.error("No refresh token found"),null;const t=(await x.default.post("".concat(b,"/api/token/refresh/"),{refresh:e})).data.access;return sessionStorage.setItem("userToken",t),t}catch(e){return console.error("Error refreshing token:",e.response?.status),null}})();e&&(c=e,u=!0)}if(!u)return console.log("No valid token available - handling based on current route"),t?(En("Home"),{isSignedIn:!1,userRole:null,isApprovedProfessional:!1}):(await B(),{isSignedIn:!1,userRole:null,isApprovedProfessional:!1});console.log("Token validation successful, checking professional status with token:",c);const f=await k(c);if(console.log("Professional status check result:",f),o(!0),s(f.isApprovedProfessional),"SearchProfessionalsListing"===e)return r("petOwner"),{isSignedIn:!0,userRole:"petOwner",isApprovedProfessional:f.isApprovedProfessional};if(l){const e=l;return r(e),{isSignedIn:!0,userRole:e,isApprovedProfessional:f.isApprovedProfessional}}const m=f.suggestedRole||"petOwner";return r(m),await y.default.setItem("userRole",m),{isSignedIn:!0,userRole:m,isApprovedProfessional:f.isApprovedProfessional}}catch(e){return console.error("Error in checkAuthStatus:",e),await B(),{isSignedIn:!1,userRole:null,isApprovedProfessional:!1}}finally{j&&console.log("=== Ending checkAuthStatus ===")}};return(0,a.useEffect)((()=>{h&&t&&(y.default.setItem("userRole",n||"professional"),y.default.setItem("isApprovedProfessional",String(i)))}),[h,t,n,i]),(0,a.useEffect)((()=>{h&&(s(!0),j&&console.log("Prototype mode: isApprovedProfessional set to true"))}),[h]),(0,C.jsx)(v.Provider,{value:{isSignedIn:t,setIsSignedIn:o,userRole:n,setUserRole:r,isApprovedProfessional:i,setIsApprovedProfessional:s,loading:l,signIn:async(e,t)=>{try{if(sessionStorage.setItem("userToken",e),sessionStorage.setItem("refreshToken",t),j&&console.log("MBA sign in token",e,"refreshToken",t),o(!0),h){const e="professional";return r(e),sessionStorage.setItem("userRole",e),s(!0),{userRole:e,isApprovedProfessional:!0}}const a=await k(e),n=a.suggestedRole;return r(n),sessionStorage.setItem("userRole",n),j&&(console.log("Access token stored:",e),console.log("Refresh token stored:",t)),{userRole:n,isApprovedProfessional:a.isApprovedProfessional}}catch(a){throw console.error("Error during sign in:",a),a}},signOut:B,switchRole:async()=>{if(i){j&&console.log("MBA userRole",n);const t="professional"===n?"petOwner":"professional";r(t);try{sessionStorage.setItem("userRole",t);const e=sessionStorage.getItem("userRole");console.log("MBA Stored role:",e),console.log("MBA New role:",t)}catch(e){console.error("Error updating role in storage:",e)}}else console.log("User is not an approved professional, cannot switch roles");console.log("Switching role. Current isApprovedProfessional:",i)},screenWidth:c,checkAuthStatus:I,firstName:f,is_prototype:h,setIsPrototype:p,is_DEBUG:j,setIsDebug:S},children:e})};var k=o(25520),B=o(98180);let I,P;const z=async e=>{try{if(I=sessionStorage.getItem("previousRoute"),P=sessionStorage.getItem("currentRoute"),I?(sessionStorage.setItem("currentRoute",I),sessionStorage.setItem("previousRoute",P),e.navigate(I)):e.navigate("More"),I===P)return void e.navigate("More")}catch(t){console.error("Error handling back navigation:",t),e.navigate("More")}},D=async(e,t,o,a={})=>{try{sessionStorage.setItem("previousRoute",o),sessionStorage.setItem("currentRoute",t),setTimeout((()=>{e.navigate(t,a)}),50)}catch(n){console.error("Error navigating:",n),e.navigate(t,a)}};function R({navigation:e}){const[t,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(m.default.get("window").width<900),{colors:d}=(0,h.useTheme)(),{isSignedIn:c,is_DEBUG:u,userRole:f}=(0,a.useContext)(v),y=()=>o(!1);(0,a.useEffect)((()=>{const e=m.default.addEventListener("change",(()=>{l(m.default.get("window").width<900)}));return()=>{e?.remove()}}),[]);const x=async t=>{y(),u&&console.log("Screen name:",t);try{{const e=sessionStorage.getItem("currentRoute");e&&sessionStorage.setItem("previousRoute",e),sessionStorage.setItem("currentRoute",t)}e.navigate(t)}catch(o){console.error("Error handling navigation:",o),e.navigate(t)}};(0,a.useEffect)((()=>{(async()=>{try{if(!sessionStorage.getItem("currentRoute")){const e=c?"professional"===f?"ProfessionalDashboard":"Dashboard":"Home";sessionStorage.setItem("currentRoute",e)}}catch(e){console.error("Error initializing route tracking:",e)}})()}),[c,f]);const b=()=>c?"professional"===f?[{title:"Pro Dashboard",icon:"view-dashboard",route:"ProfessionalDashboard"},{title:"MyBookings",icon:"account-group",route:"MyBookings"},{title:"Messages",icon:"message-text",route:"MessageHistory"},{title:"Availability",icon:"clock-outline",route:"AvailabilitySettings"},{title:"More",icon:"dots-horizontal",route:"More"}]:[{title:"Dashboard",icon:"view-dashboard",route:"Dashboard"},{title:"Search Pros",icon:"magnify",route:"SearchProfessionalsListing"},{title:"Messages",icon:"message-text",route:"MessageHistory"},{title:"Become a Pro",icon:"paw",route:"BecomeProfessional"},{title:"More",icon:"dots-horizontal",route:"More"}]:[{title:"Home",icon:"home",route:"Home"},{title:"Sign In",icon:"login",route:"SignIn"},{title:"Sign Up",icon:"account-plus",route:"SignUp"},{title:"Become Pro",icon:"clipboard-text-outline",route:"Waitlist"},{title:"More",icon:"dots-horizontal",route:"More"}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(k.default.Header,{style:[F.header,{backgroundColor:d.primary}],children:[(0,C.jsx)(n.default,{style:F.titleContainer,children:(0,C.jsx)(i.default,{onPress:()=>x("Home"),style:{width:150},children:(0,C.jsx)(r.default,{style:[F.title,{color:d.whiteText,width:110}],children:"CrittrCove"})})}),s?(0,C.jsx)(B.default,{visible:t,onDismiss:y,anchor:(0,C.jsx)(k.default.Action,{icon:()=>(0,C.jsx)(g.default,{name:"menu",size:24,color:d.whiteText}),onPress:()=>o(!0)}),children:b().map(((e,t)=>(0,C.jsx)(B.default.Item,{onPress:()=>x(e.route),title:e.title,titleStyle:{fontFamily:p.fonts.regular.fontFamily,fontWeight:"600"}},t)))}):(0,C.jsx)(n.default,{style:F.desktopNav,children:b().map(((e,t)=>(0,C.jsx)(i.default,{style:F.webNavItem,onPress:()=>x(e.route),children:(0,C.jsx)(r.default,{style:F.webNavText,children:e.title})},t)))})]})})}const F=s.default.create({container:{display:"flex",backgroundColor:p.colors.primary},content:{flex:1},header:{backgroundColor:p.colors.primary},titleContainer:{flex:1,justifyContent:"center"},title:{textAlign:"left",marginLeft:p.spacing.medium,fontSize:p.fontSizes.large,color:p.colors.text,fontWeight:"bold",fontFamily:p.fonts.header.fontFamily},desktopNav:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},navItem:{marginHorizontal:p.spacing.medium,fontSize:p.fontSizes.medium,color:p.colors.text,cursor:"pointer",fontFamily:p.fonts.regular.fontFamily,fontWeight:"600"},customNavBar:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:p.colors.primary,position:"absolute",bottom:0,left:0,right:0,paddingVertical:10,borderTopWidth:1,borderTopColor:p.colors.border},navButton:{alignItems:"center",justifyContent:"center",height:60,paddingHorizontal:5},navText:{color:p.colors.whiteText,fontSize:p.fontSizes.small,marginTop:5,textAlign:"center",fontFamily:p.fonts.regular.fontFamily,fontWeight:"600"},webNavItem:{marginHorizontal:p.spacing.medium},webNavText:{fontSize:p.fontSizes.medium,color:p.colors.whiteText,fontFamily:p.fonts.regular.fontFamily,fontWeight:"600"}});var A=o(8179),W=o(2772),_=o(40484),E=o(79632),N=o(16773),O=o(18885),M=o(17438),L=o(92288),H=o(78264);const V=s.default.create({container:{padding:20,width:"100%",maxWidth:1200,marginLeft:"auto",marginRight:"auto"},title:{fontSize:24,fontWeight:"bold",textAlign:"center",marginBottom:40,color:"black",fontFamily:p.fonts.header.fontFamily},mobileContainer:{width:"100%",alignItems:"center",paddingVertical:20},mobileItemContainer:{width:"100%",alignItems:"center",marginBottom:80,position:"relative"},mobileMarker:{alignItems:"center",marginBottom:20},mobileMilestoneTitle:{fontSize:16,fontWeight:"bold",color:"black",marginTop:15,textAlign:"center",marginBottom:30},mobileDashedLine:{position:"absolute",width:2,height:60,bottom:-50,borderStyle:"dashed",borderWidth:1,borderColor:"#333"},webContainer:{position:"relative",marginTop:20,marginBottom:120,width:"100%"},dashedLine:{position:"absolute",height:2,top:30,borderStyle:"dashed",borderWidth:1,borderColor:"#333"},webMarker:{position:"absolute",alignItems:"center",width:120,transform:[{translateX:-60}]},webMilestoneTitle:{marginTop:10,fontSize:16,fontWeight:"bold",color:"black",textAlign:"center"},markerContainer:{width:60,height:60,borderRadius:30,justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",padding:20},modalContent:{backgroundColor:"white",padding:20,borderRadius:15,width:"90%",maxWidth:400,alignItems:"center"},modalIconContainer:{width:80,height:80,borderRadius:40,justifyContent:"center",alignItems:"center",marginBottom:20},modalNumber:{color:"white",fontSize:20,fontWeight:"bold",position:"absolute",top:10},modalTitle:{fontSize:24,fontWeight:"bold",marginBottom:15,color:"black",textAlign:"center",fontFamily:p.fonts.header.fontFamily},modalDescription:{fontSize:18,textAlign:"center",marginBottom:20,color:"black",lineHeight:24,fontFamily:p.fonts.regular.fontFamily},closeButton:{padding:12,borderRadius:8,width:"100%",alignItems:"center"},closeButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),U=()=>{const[e,t]=(0,a.useState)(null),[o,s]=(0,a.useState)(!1),{screenWidth:l}=(0,a.useContext)(v),d=l<768,c=[{id:1,title:"Prototype Launch",description:"Initial release of CrittrCove webpage and landing page with no signup or app functionality.",icon:"dog",color:p.colors.mainColors.senary},{id:2,title:"Launch of MVP",description:"This is when users will be able to sign up and use the app fully for the first time on the website! For a full feature list, please check our blog or discord.",icon:"dragon",color:p.colors.mainColors.quinary},{id:3,title:"Launch of App",description:"Mobile app release with real-time messaging, notifications, and payment integration. For a full feature list, please check our blog or discord.",icon:"cat",color:p.colors.mainColors.quaternary},{id:4,title:"Community Features",description:"Adding social features, pet communities, and expert advice forums.",icon:"fish",color:p.colors.mainColors.main}],u=e=>{t(e),s(!0)};return(0,C.jsxs)(n.default,{style:V.container,children:[(0,C.jsx)(r.default,{style:V.title,children:"Roadmap"}),d?(0,C.jsx)(n.default,{style:V.mobileContainer,children:c.map(((e,t)=>(0,C.jsxs)(n.default,{style:[V.mobileItemContainer,t===c.length-1?{marginBottom:0}:null],children:[(0,C.jsx)(i.default,{style:V.mobileMarker,onPress:()=>u(e),children:(0,C.jsx)(n.default,{style:[V.markerContainer,{backgroundColor:e.color}],children:(0,C.jsx)(L.default,{name:e.icon,size:24,color:"white"})})}),(0,C.jsx)(r.default,{style:V.mobileMilestoneTitle,children:e.title}),t<c.length-1&&(0,C.jsx)(n.default,{style:V.mobileDashedLine})]},e.id)))}):(0,C.jsxs)(n.default,{style:V.webContainer,children:[(0,C.jsx)(n.default,{style:[V.dashedLine,{width:"80%",left:"10%"}]}),c.map(((e,t)=>(0,C.jsxs)(i.default,{style:[V.webMarker,{left:"".concat(10+t*(80/(c.length-1)),"%")}],onPress:()=>u(e),children:[(0,C.jsx)(n.default,{style:[V.markerContainer,{backgroundColor:e.color}],children:(0,C.jsx)(L.default,{name:e.icon,size:24,color:"white"})}),(0,C.jsx)(r.default,{style:V.webMilestoneTitle,children:e.title})]},e.id)))]}),(0,C.jsx)(H.default,{visible:o,transparent:!0,animationType:"fade",onRequestClose:()=>s(!1),children:(0,C.jsx)(n.default,{style:V.modalOverlay,children:(0,C.jsx)(n.default,{style:V.modalContent,children:e&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(n.default,{style:[V.modalIconContainer,{backgroundColor:e.color}],children:[(0,C.jsx)(r.default,{style:V.modalNumber,children:e.number}),(0,C.jsx)(L.default,{name:e.icon,size:40,color:"white"})]}),(0,C.jsx)(r.default,{style:V.modalTitle,children:e.title}),(0,C.jsx)(r.default,{style:V.modalDescription,children:e.description}),(0,C.jsx)(i.default,{style:[V.closeButton,{backgroundColor:e.color}],onPress:()=>s(!1),children:(0,C.jsx)(r.default,{style:V.closeButtonText,children:"Close"})})]})})})})]})};var G=o(52622),q=o(97584),Y=o(19149);const J={DRAFT:"Draft",PENDING_INITIAL_PROFESSIONAL_CHANGES:"Pending initial Professional Changes",PENDING_PROFESSIONAL_CHANGES:"Pending Professional Changes",PENDING_CLIENT_APPROVAL:"Pending Client Approval",CONFIRMED:"Confirmed",CONFIRMED_PENDING_PROFESSIONAL_CHANGES:"Confirmed Pending Professional Changes",CONFIRMED_PENDING_CLIENT_APPROVAL:"Confirmed Pending Client Approval",COMPLETED:"Completed",DENIED:"Denied",CANCELLED:"Cancelled",PROFESSIONAL_EDITABLE_STATES:["Draft","Pending initial Professional Changes","Pending Professional Changes","Confirmed Pending Professional Changes","Confirmed"]},$="All Services",K=[$,"Overnight Cat Sitting (Client's Home)","Cat Boarding","Drop-In Visits (30 min)","Drop-In Visits (60 min)","Dog Walking","Doggy Day Care","Pet Boarding","Exotic Pet Care","Daytime Pet Sitting","Ferrier"],Z=["15 min","30 min","45 min","1 hr","2 hr","4 hr","8 hr","24 hr","overnight","per day","per visit"],Q={"Fish Tank Cleaning":[{title:"Extended Stay (7+ days)",amount:15},{title:"Pickup/Dropoff Service",amount:25},{title:"Special Diet Handling",amount:10},{title:"Medication Administration",amount:15}],Ferrier:[{title:"Extended Hours",amount:20},{title:"Training Session",amount:30},{title:"Grooming",amount:25}],"Dog Walking":[{title:"Extra 15 Minutes",amount:10},{title:"Plant Watering",amount:5},{title:"Photo Updates",amount:5}],"Reptile Boarding & Habitat Maintenance":[{title:"Plant Watering",amount:10},{title:"Mail Collection",amount:5},{title:"Extended Visit (4+ hrs)",amount:30}],"Bird Feeding":[{title:"Extra 15 Minutes",amount:10},{title:"Multiple Route Options",amount:5},{title:"Training During Walk",amount:20}]},X=[{id:1,name:"Fish Tank Cleaning",startingPrice:25,animalTypes:["Fish"],icon:"fish",additionalRates:Q["Fish Tank Cleaning"]},{id:2,name:"Ferrier",startingPrice:30,animalTypes:["Dogs"],icon:"horse",additionalRates:Q.Ferrier},{id:3,name:"Dog Walking",startingPrice:40,animalTypes:["Dogs"],icon:"dog",additionalRates:Q["Dog Walking"]},{id:4,name:"Reptile Boarding & Habitat Maintenance",startingPrice:35,animalTypes:["Reptiles"],icon:"snake",additionalRates:Q["Reptile Boarding & Habitat Maintenance"]},{id:5,name:"Bird Feeding",startingPrice:45,animalTypes:["Birds"],icon:"bird",additionalRates:Q["Bird Feeding"]}],ee=["Farm Animals","Domestic","Exotic","Aquatic","Invertibrates"],te=[{id:"1",name:"Max",animal_type:"Dog",breed:"border collie",age:{months:0,years:5},weight:32,sex:"Male",friendlyWithChildren:!0,friendlyWithCats:!1,friendlyWithDogs:!0,spayedNeutered:!0,houseTrained:!0,microchipped:!0,adoptionDate:"2020-01-15",description:"Loves to play fetch and go for walks.",energyLevel:"High",feedingSchedule:"Morning",leftAlone:"1-4 hours",medication:null,additionalInstructions:"Needs daily exercise.",vetName:"Dr. Smith",vetAddress:"123 Vet St.",vetPhone:"555-1234",insuranceProvider:"Pet Insurance Co.",vetDocuments:[],galleryImages:[]},{id:"2",name:"Whiskers",animal_type:"Cat",breed:"tammy ammy",age:{months:3,years:4},weight:16,sex:"Female",friendlyWithChildren:!0,friendlyWithCats:!0,friendlyWithDogs:!1,spayedNeutered:!0,houseTrained:!0,microchipped:!1,adoptionDate:"2019-05-20",description:"Enjoys lounging in the sun.",energyLevel:"Low",feedingSchedule:"Twice a day",leftAlone:"4-8 hours",medication:null,additionalInstructions:"Prefers quiet environments.",vetName:"Dr. Jones",vetAddress:"456 Vet Ave.",vetPhone:"555-5678",insuranceProvider:"Pet Health Insurance",vetDocuments:[],galleryImages:[]},{id:"3",name:"Buddy",animal_type:"snake",breed:"leopard gecko",age:{months:0,years:2},weight:1,sex:"Male",friendlyWithChildren:!1,friendlyWithCats:!1,friendlyWithDogs:!1,spayedNeutered:!1,houseTrained:!1,microchipped:!1,adoptionDate:"2021-08-10",description:"A calm and quiet pet.",energyLevel:"Low",feedingSchedule:["Custom","3 times a day with liquid food."],leftAlone:"Can be left alone indefinitely",medication:null,additionalInstructions:"Keep in a warm environment.",vetName:"Dr. Green",vetAddress:"789 Vet Blvd.",vetPhone:"555-9012",insuranceProvider:"Reptile Insurance Co.",vetDocuments:[],galleryImages:[]}],oe=[{id:"1",name:"John Doe",profilePicture:o(81029),reviews:4.5,price:25,bio:"Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.",location:"Colorado Springs, CO",coordinates:{latitude:38.8339,longitude:-104.8214},serviceTypes:["House Sitting","Dog Walking"],animalTypes:["dogs","cats"]},{id:"2",name:"Jane Smith",profilePicture:o(53198),reviews:4.8,price:30,bio:"Specialized in exotic pets.",location:"Manitou Springs, CO",coordinates:{latitude:38.8597,longitude:-104.9172},serviceTypes:["House Sitting","Drop-ins"],animalTypes:["exotics","cats"]},{id:"3",name:"Mike Wilson",profilePicture:o(52695),reviews:4.7,price:28,bio:"Dog trainer with 5 years experience.",location:"Security-Widefield, CO",coordinates:{latitude:38.7478,longitude:-104.7288},serviceTypes:["Dog Walking","Training"],animalTypes:["dogs"]},{id:"4",name:"Sarah Johnson",profilePicture:o(30552),reviews:4.9,price:35,bio:"Veterinary technician, great with medical needs.",location:"Fountain, CO",coordinates:{latitude:38.6822,longitude:-104.7008},serviceTypes:["House Sitting","Drop-ins"],animalTypes:["dogs","cats","exotics"]},{id:"5",name:"Tom Brown",profilePicture:o(51681),reviews:4.6,price:27,bio:"Experienced with large breeds.",location:"Black Forest, CO",coordinates:{latitude:39.0128,longitude:-104.7008},serviceTypes:["Dog Walking","House Sitting"],animalTypes:["dogs"]},{id:"6",name:"Lisa Anderson",profilePicture:o(10602),reviews:4.4,price:32,bio:"Experienced with birds and small animals.",location:"Monument, CO",coordinates:{latitude:39.0917,longitude:-104.8722},serviceTypes:["House Sitting","Drop-ins"],animalTypes:["exotics","cats"]},{id:"7",name:"David Clark",profilePicture:o(26163),reviews:4.7,price:29,bio:"Specializing in puppy care and training.",location:"Woodland Park, CO",coordinates:{latitude:38.9939,longitude:-105.0569},serviceTypes:["Dog Walking","Training"],animalTypes:["dogs"]},{id:"8",name:"Emma White",profilePicture:o(244),reviews:4.8,price:33,bio:"Experienced with senior pets.",location:"Pueblo West, CO",coordinates:{latitude:38.3494,longitude:-104.7224},serviceTypes:["House Sitting","Drop-ins"],animalTypes:["dogs","cats"]},{id:"9",name:"James Miller",profilePicture:o(21373),reviews:4.5,price:26,bio:"Great with high-energy dogs.",location:"Castle Rock, CO",coordinates:{latitude:39.3722,longitude:-104.8561},serviceTypes:["Dog Walking","House Sitting"],animalTypes:["dogs"]},{id:"10",name:"Rachel Green",profilePicture:o(24289),reviews:4.9,price:34,bio:"Experienced with reptiles and amphibians.",location:"Palmer Lake, CO",coordinates:{latitude:39.1153,longitude:-104.9158},serviceTypes:["House Sitting","Drop-ins"],animalTypes:["exotics"]}],ae=[{id:"1",name:"Alice Johnson",pet_types:["Dog","Cat"],last_booking:"2024-01-15",pets:["1","2"],email:"alice@example.com",phone:"555-0101",address:"123 Pine St, Colorado Springs, CO"},{id:"2",name:"Bob Wilson",pet_types:["Dog"],last_booking:"2024-02-01",pets:["3"],email:"bob@example.com",phone:"555-0102",address:"456 Oak Ave, Colorado Springs, CO"},{id:"3",name:"Carol Martinez",pet_types:["Cat","Exotic"],last_booking:"2024-01-28",pets:["4","5"],email:"carol@example.com",phone:"555-0103",address:"789 Maple Dr, Colorado Springs, CO"},{id:"4",name:"David Brown",pet_types:["Dog"],last_booking:"2024-02-05",pets:["6"],email:"david@example.com",phone:"555-0104",address:"321 Elm St, Colorado Springs, CO"},{id:"5",name:"Eva Garcia",pet_types:["Exotic"],last_booking:"2024-01-20",pets:["7"],email:"eva@example.com",phone:"555-0105",address:"654 Birch Ln, Colorado Springs, CO"}],ne={booking_id:"bk1",status:"Confirmed",client_name:"matt aertker",professional_name:"matt2 aertker2",service_details:{service_type:"Ferrier"},pets:[{pet_id:3,name:"Jack",species:"DOG",breed:"Golden"}],occurrences:[{occurrence_id:10,start_date:"2025-02-01",end_date:"2025-02-02",start_time:"15:06",end_time:"16:06",calculated_cost:"61.04",base_total:"$26.04",rates:{base_rate:"25.00",additional_animal_rate:"5.00",additional_animal_rate_applies:!1,applies_after:2,unit_of_time:"PER_DAY",holiday_rate:"35.00",holiday_days:0,additional_rates:[{title:"Extra Travel Time Rate",description:"Far Drive rate for service",amount:"$25.00"},{title:"Dog Poops Inside Rate",description:"Dog Poops Inside rate for service",amount:"$5.00"},{title:"Dog Separation rate",description:"When we need to separate the dog from other animals in the house",amount:"$5.00"}]}},{occurrence_id:9,start_date:"2025-03-13",end_date:"2025-03-14",start_time:"09:00",end_time:"14:00",calculated_cost:"120.08",base_total:"$35.04",rates:{base_rate:"29.00",additional_animal_rate:"8.00",additional_animal_rate_applies:!1,applies_after:1,unit_of_time:"PER_DAY",holiday_rate:"40.00",holiday_days:0,additional_rates:[{title:"Extra Travel Time Rate",description:"Far Drive rate for service",amount:"$25.00"},{title:"Dog Poops Inside Rate",description:"Dog Poops Inside rate for service",amount:"$25.00"},{title:"Dog Separation rate",description:"When we need to separate the dog from other animals in the house",amount:"$35.04"}]}}],cost_summary:{subtotal:181.12,platform_fee:18.11,taxes:15.94,total_client_cost:215.17,total_sitter_payout:163.01,is_prorated:!0}},re={1234:Object.assign({},ne,{id:"1234",clientName:"John Doe",status:J.CONFIRMED,startDate:"2024-02-20",startTime:"14:00"}),5678:Object.assign({},ne,{id:"5678",clientName:"Margarett Laporte",status:J.CANCELLED,startDate:"2024-02-21",startTime:"15:30"}),56782:Object.assign({},ne,{id:"56782",clientName:"Zoe Aerial",status:J.DENIED,startDate:"2024-02-21",startTime:"15:30"}),5673:Object.assign({},ne,{id:"5673",clientName:"Matt Clark",status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,startDate:"2024-02-21",startTime:"15:30"}),5674:Object.assign({},ne,{id:"5674",clientName:"Mark Smith",status:J.PENDING_CLIENT_APPROVAL,startDate:"2024-02-21",startTime:"15:30"}),5675:Object.assign({},ne,{id:"5675",clientName:"Lauren Smith",status:J.PENDING_PROFESSIONAL_CHANGES,startDate:"2024-02-21",startTime:"15:30"}),5675:Object.assign({},ne,{id:"56712",clientName:"Matt Smith",status:J.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,startDate:"2024-02-21",startTime:"15:30"}),56713:Object.assign({},ne,{id:"567123",clientName:"Albert Einstein",status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,startDate:"2025-02-21",startTime:"15:30"}),3749:Object.assign({},ne,{id:"567132",clientName:"Dr. Mike Johnson",status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,startDate:"2025-02-21",startTime:"15:30"}),91011:Object.assign({},ne,{id:"91011",clientName:"Dr. Bla Johnson",status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,startDate:"2025-02-21",startTime:"15:30"}),91012:Object.assign({},ne,{id:"91012",clientName:"Dr. Blabla Johnson",status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,startDate:"2025-02-21",startTime:"15:30"})},ie=Object.values(re).map((e=>({id:e.id,clientName:e.clientName,status:e.status,date:e.startDate,time:e.startTime,serviceType:e.serviceType,numberOfPets:e.numberOfPets||1,totalCost:e.costs?.totalClientCost||0,professionalPayout:e.costs?.professionalPayout||0}))),se=async(e,t,o={})=>{const a="booking_".concat(Date.now()),n=Object.assign({id:a,clientId:e,freelancerId:t,status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,clientName:o.clientName||"TBD",professionalName:o.professionalName||"TBD",serviceType:o.serviceType||"TBD",animalType:o.animalType||"TBD",numberOfPets:o.numberOfPets||0,duration:o.duration||0,occurrences:o.occurrences||[],rates:{baseRate:0,additionalPetRate:0,extraServices:[]},costs:{baseTotal:0,additionalPetTotal:0,extraServicesTotal:0,subtotal:0,clientFee:0,taxes:0,totalClientCost:0,professionalPayout:0},created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},o);return re[a]=n,console.log("Created new booking:",{bookingId:a,booking:n,allBookings:Object.keys(re)}),await new Promise((e=>setTimeout(e,500))),a},le=[{id:"91011",professionalName:"Sarah Wilson",status:J.CONFIRMED,date:"2024-02-22",time:"10:00",serviceType:"Dog Walking",numberOfPets:2,totalCost:75},{id:"91012",professionalName:"Mike Johnson",status:J.PENDING_CLIENT_APPROVAL,date:"2024-02-23",time:"11:00",serviceType:"Pet Sitting",numberOfPets:1,totalCost:50}],de=101,ce=[{id:"conv_1",participant1_id:de,participant2_id:202,name:"Dr. Sarah Smith",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"I'd be happy to help! What kind of pet do you have?",timestamp:"2024-02-21T07:05:00Z",unread:!1},{id:"conv_2",participant1_id:303,participant2_id:de,name:"Dr. Mike Johnson",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"I'm available! Let's set up a booking",timestamp:"2024-02-21T15:35:00Z",unread:!1},{id:"conv_3",participant1_id:de,participant2_id:204,name:"Dr. Emily Wilson",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Your cat's checkup is scheduled",timestamp:"2024-02-20T10:15:00Z",unread:!0},{id:"conv_4",participant1_id:de,participant2_id:205,name:"Dr. James Anderson",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"See you tomorrow at 2 PM",timestamp:"2024-02-19T16:45:00Z",unread:!1},{id:"conv_5",participant1_id:de,participant2_id:206,name:"Dr. Lisa Brown",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"How is Max doing today?",timestamp:"2024-02-18T09:30:00Z",unread:!1},{id:"conv_6",participant1_id:de,participant2_id:207,name:"Dr. Robert Taylor",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"The medication has been prescribed",timestamp:"2024-02-17T14:20:00Z",unread:!1},{id:"conv_7",participant1_id:de,participant2_id:208,name:"Dr. Maria Garcia",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Your appointment is confirmed",timestamp:"2024-02-16T11:25:00Z",unread:!0},{id:"conv_8",participant1_id:de,participant2_id:209,name:"Dr. David Lee",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Let's schedule a follow-up",timestamp:"2024-02-15T13:40:00Z",unread:!1},{id:"conv_9",participant1_id:de,participant2_id:210,name:"Dr. Sarah Martinez",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"The test results are ready",timestamp:"2024-02-14T15:55:00Z",unread:!1},{id:"conv_10",participant1_id:de,participant2_id:211,name:"Dr. John White",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"How's the new diet working?",timestamp:"2024-02-13T08:15:00Z",unread:!1},{id:"conv_11",participant1_id:de,participant2_id:212,name:"Dr. Anna Clark",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Vaccination reminder",timestamp:"2024-02-12T10:30:00Z",unread:!0},{id:"conv_12",participant1_id:de,participant2_id:213,name:"Dr. Thomas Wright",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Surgery scheduled for next week",timestamp:"2024-02-11T12:45:00Z",unread:!1},{id:"conv_13",participant1_id:de,participant2_id:214,name:"Dr. Patricia Moore",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Emergency consultation available",timestamp:"2024-02-10T17:20:00Z",unread:!1},{id:"conv_14",participant1_id:de,participant2_id:215,name:"Dr. Kevin Hall",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Treatment plan updated",timestamp:"2024-02-09T14:10:00Z",unread:!1},{id:"conv_15",participant1_id:de,participant2_id:216,name:"Dr. Rachel Green",role_map:{participant1_role:"client",participant2_role:"professional"},lastMessage:"Prescription ready for pickup",timestamp:"2024-02-08T16:35:00Z",unread:!0}],ue={conv_1:[{message_id:1,participant1_id:de,participant2_id:202,sender:de,role_map:{participant1_role:"client",participant2_role:"professional"},content:"Hi, I'm interested in your pet sitting services",timestamp:"2024-02-21T14:00:00Z",booking_id:null,status:"read",is_booking_request:!1,metadata:{}},{message_id:2,participant1_id:de,participant2_id:202,sender:202,role_map:{participant1_role:"client",participant2_role:"professional"},content:"I'd be happy to help! What kind of pet do you have?",timestamp:"2024-02-21T14:05:00Z",booking_id:null,status:"sent",is_booking_request:!1,metadata:{}}],conv_2:[{message_id:3,participant1_id:303,participant2_id:de,sender:303,role_map:{participant1_role:"client",participant2_role:"professional"},content:"Looking for a dog walker next week",timestamp:"2024-02-21T15:30:00Z",booking_id:null,status:"read",is_booking_request:!1,metadata:{}},{message_id:4,participant1_id:303,participant2_id:de,sender:303,role_map:{participant1_role:"client",participant2_role:"professional"},type:"booking_request",data:{serviceType:"Dog Walking",pets:[{id:"1",name:"Max",type:"Dog",breed:"Golden Retriever"}],occurrences:[{startDate:"2024-02-28",endDate:"2024-02-28",startTime:"14:00",endTime:"15:00"}]},timestamp:"2024-02-21T15:35:00Z",status:"sent",is_booking_request:!0,metadata:{}},{message_id:5,participant1_id:303,participant2_id:de,sender:de,role_map:{participant1_role:"client",participant2_role:"professional"},content:"I'll take a look!",timestamp:"2024-02-21T15:30:00Z",booking_id:null,status:"read",is_booking_request:!1,metadata:{}}]},fe=[{serviceName:"Dog Walking",animalTypes:"Dogs",rates:{base_rate:"20"},additionalAnimalRate:"10"},{serviceName:"Cat Sitting",animalTypes:"Cats",rates:{base_rate:"20"},additionalAnimalRate:"5"},{serviceName:"Exotic Pet Care",animalTypes:"Lizards, Birds",rates:{base_rate:"25"},additionalAnimalRate:"15"}],me=["Overnight Cat Sitting (Client's Home)","Cat Boarding","Drop-In Visits (30 min)","Drop-In Visits (60 min)","Dog Walking","Doggy Day Care","Pet Boarding","Exotic Pet Care","Daytime Pet Sitting","Ferrier"],ge=["Dog","Cat","Cow","Calf","Lizard","Bird","Rabbit","Fish"],he=[{id:"blog_1",title:"What Your Dog is Really Saying",author:{id:"author_1",name:"Zoe Neale",profilePicture:o(58162),bio:"Professional dog trainer and animal behavior specialist with over 10 years of experience."},publishDate:"2024-02-22",readTime:"8 min",tags:["Dogs","Behavior","Training","Pet Care"],content:"You know that moment when your dog tilts their head at you like you just asked them to solve a calculus problem? Turns out, they're not the only ones trying to understand you\u2014they've been communicating with you this whole time, and you probably didn't even realize it.\n\nDogs may not speak English (yet\u2014give them time), but they have an entire language built on tail wags, ear positions, and those big, soulful eyes they use to manipulate you into giving them extra treats. Learning to read their body language isn't just a party trick\u2014it can help prevent stress, deepen your bond, and maybe even stop your dog from embarrassing you at the dog park. So, let's finally crack the code on what your dog has been trying to tell you.\n\nTail Wagging: Not Always a Sign of Happiness\nOne of the biggest myths out there is that a wagging tail means a happy dog. Nope. Not always. A dog's tail is basically their mood ring, and the way they wag tells a whole different story.\nLoose, full-body wag (with bonus butt wiggles): This is the classic \"OMG YOU'RE HOME!!\" happy dance. A+ vibes.\nSlow wag, tail held high: The \"I'm analyzing this situation\" wag. Suspicious, calculating, possibly deciding if you're worth their energy.\nStiff, fast wag with a raised tail: Yikes. This is \"I'm on edge, don't mess with me\" energy. Proceed with caution.\nLow, fast wag: \"I'm nervous, and I don't know what's happening, so I'm just gonna keep wiggling and hope for the best.\"\nTucked tail: Fear. If the tail is all the way tucked under, your dog is basically saying, \"I regret everything, please don't yell at me.\"\nEven the direction of the wag matters\u2014researchers found that dogs wag more to the right when they're happy and to the left when they're unsure or stressed (Quaranta et al., 2007). Yes, your dog's tail literally has anxiety tells.\n\nEars and Eyes: The Silent Storytellers\nDogs don't just talk with their tails\u2014they also use their ears and eyes like tiny, furry actors in a silent film.\nSoft eyes, relaxed ears: Your dog is living their best life. No stress, just vibes.\nWide eyes, whites showing (a.k.a. \"whale eye\"): \"I am uncomfortable with the energy we have created in this room.\" This is a warning sign\u2014your dog feels uneasy or trapped.\nPerked-up ears: \"I heard something, and I will investigate.\" Could be excitement, curiosity, or them preparing to bark at absolutely nothing.\nEars pinned back: \"I'm nervous\" or \"I did something bad, and I hope you don't notice.\" Classic guilty dog move.\nEver notice how some dogs do a little squint when they're happy? It's their version of a smile. On the flip side, prolonged direct eye contact\u2014especially with an unfamiliar dog\u2014can be a challenge. So, if you're having a staring contest with a dog you just met\u2026maybe don't.\n\nThe Freeze: When Your Dog Hits Pause (And You Should Pay Attention)\nIf a dog suddenly stops moving and stiffens, pay attention. Freezing is often their last warning before things escalate to growling, snapping, or biting. A lot of people miss this and then wonder why their dog \"suddenly\" lashed out.\nYou might see this when:\nA child is hugging a dog (which, fun fact, most dogs hate).\nSomeone is petting a dog too aggressively.\nThe dog feels cornered and has no escape route.\nResearch by Rooney Clark and Casey (2016) helped show that when a dog freezes, in some way or another they are stressed, its best to give them space in that moment and take a mental note of your newest training goal! Sometimes, they just need a minute to de-escalate, like when you have to breathe through a customer service call that's not going well.\n\nMouth Matters: Smiles vs. Stress\nDogs can technically smile, but it's not always what you think.\nLoose, open mouth, tongue hanging out: Happy, relaxed, living their best life.\nClosed mouth, tight lips: Alert or unsure. They're analyzing the situation.\nLips pulled back, slight teeth showing: Some dogs do a \"submissive grin,\" which isn't aggression\u2014it's their way of saying, \"Hey, I'm friendly!\"\nWrinkled nose, full teeth bared: This is aggression. Back off.\nExcessive yawning in a new situation: Dogs don't just yawn when they're tired\u2014they also yawn when they're stressed. To put it simply, they are overstimulated. (Glenk, 2020) Don't be fooled by the parrot dog, sometimes they yawn because they saw you yawn first! (D'Aniello, 2019)\n\nConclusion: Your Dog Has Been Sending You Texts\u2014Now You Can Finally Read Them\nDogs may not be able to talk (yet), but they've been communicating loud and clear this whole time. That tail wag? Could be excitement, could be stress. That little squint? Doggy love. The full-body freeze? That's a big ol' \"DO NOT DISTURB\" sign.\nThe more you pay attention, the better you'll understand your dog\u2014and the fewer awkward misunderstandings you'll have (like mistaking a stress yawn for a nap cue). As we said in the beginning, your dog already knows exactly how to read you. They know your routine, when you're about to leave the house, and how to guilt-trip you into sharing your snacks. The least you can do is return the favor.\nSo next time your dog gives you the side-eye, perks their ears, or flops over dramatically after a single walk, you'll finally know what they're saying. And let's be honest\u2014it's probably, \"I love you\u2026 now give me a treat.\"",references:[{title:"7 tips for canine body language",authors:"American Society for the Prevention of Cruelty to Animals (ASPCA)",publication:"ASPCApro",url:"https://www.aspcapro.org/resource/7-tips-canine-body-language"},{title:"Therapy dogs' salivary cortisol levels vary during animal-assisted interventions",authors:"Glenk, L. M., Kothgassner, O. D., Stetina, B. U., Palme, R., & Kepplinger, B.",publication:"Frontiers in Veterinary Science",year:2020,doi:"10.3389/fvets.2020.564201"},{title:"The importance of associative learning in cross-species social bonding: Dogs and humans",authors:"D'Aniello, B., Scandurra, A., Alterisio, A., Aria, M., & Siniscalchi, M.",publication:"Frontiers in Psychology",year:2019,doi:"10.3389/fpsyg.2019.01678"},{title:"Oxytocin-gaze positive loop and the coevolution of human-dog bonds",authors:"Nagasawa, M., Mitsui, S., En, S., Ohtani, N., Ohta, M., Sakuma, Y., Onaka, T., Mogi, K., & Kikusui, T.",publication:"Science",year:2015,doi:"10.1126/science.1261022"},{title:"Asymmetric tail-wagging responses by dogs to different emotive stimuli",authors:"Quaranta, A., Siniscalchi, M., & Vallortigara, G.",publication:"Current Biology",year:2007,doi:"10.1016/j.cub.2007.02.008"},{title:"Minimizing fear and anxiety in working dogs: A review",authors:"Rooney, N. J., Clark, C. C. A., & Casey, R. A.",publication:"Journal of Veterinary Behavior",year:2016,doi:"10.1016/j.jveb.2016.11.001"}],likes:245,comments:56,shares:89},{id:"blog_2",title:"What Your Cat is Really Saying",author:{id:"author_2",name:"Zoe Neale",profilePicture:o(58162),bio:"Feline behavior specialist and veterinarian with a focus on cat-human relationships."},publishDate:"2024-02-23",readTime:"7 min",tags:["Cats","Behavior","Pet Care","Communication"],content:"Ever wonder why your cat stares at you before slowly blinking or why they randomly sprint across the house at 2 AM? While cats may seem mysterious, they actually have a complex system of communication\u2014if you know what to look for. Unlike dogs, who wear their emotions on their tails (literally), cats are more subtle. But once you learn their signals, you'll start to see what your cat has been trying to tell you all along.\n\nThe Myth of the Aloof Cat: Do They Actually Care About You?\nMany people think cats are independent and don't bond with their owners the way dogs do. But research suggests otherwise. A study by Vitale et al. (2019) found that cats form secure attachments to their owners, much like infants do with their caregivers. In an experiment where cats were briefly separated from their owners, many showed signs of distress when left alone and relief upon their owner's return. So yes, your cat does care about you\u2014they just have their own way of showing it.\n\nThe Slow Blink: A Feline \"I Love You\"\nOne of the best-kept secrets of cat communication is the slow blink. If your cat locks eyes with you and then slowly closes and opens their eyes, congratulations! You've just received a cat's version of a smile. Research completed in 2020 (Humphrey) found that when humans slowly blink at their cats, the cats are more likely to return the gesture and approach them in a friendly manner. So, next time you want to say \"I love you\" to your cat, skip the baby talk and try a slow blink instead.\n\nTail Talk: Not Just for Dogs\nA cat's tail is like a built-in mood ring. Learning to read tail signals can help you avoid scratches and strengthen your bond.\nTail up, tip curved: A friendly, confident cat greeting. If your cat walks toward you with their tail high, they're happy to see you.\nPuffed-up tail: This is a defensive reaction. Your cat is startled or feels threatened.\nLow, slow-wagging tail: Unlike dogs, a slow-wagging cat tail isn't a good sign\u2014it often signals irritation or mild aggression.\nTail wrapped around you or another cat: This is a sign of affection, almost like holding hands.\n\nPurring: More Than Just Happiness\nEveryone loves the soothing sound of a purring cat, but did you know cats don't just purr when they're happy? While contentment is a common reason, studies suggest cats also purr when they're stressed, in pain, or even trying to heal themselves. The frequency of cat purrs (between 25 and 150 Hz) has been linked to tissue regeneration and bone healing in studies on vibrational therapy (Muggenthaler, 2001). So, if your cat is purring at the vet's office, they may not be enjoying themselves\u2014they might just be self-soothing.\n\nHeadbutting and Kneading: Strange but Sweet Gestures\nHeadbutting (bunting): When your cat gently bumps their head against you, they're not just being cute\u2014they're marking you with their scent glands, claiming you as their own (Rodan, 2015).\nKneading: The rhythmic pressing of paws against a soft surface (or your lap) is a behavior kittens use to stimulate milk flow. In adult cats, it's a sign of comfort and contentment (Brown & Bradshaw, 2016).\n\nDo Cats Really Ignore Their Names?\nIf you've ever called your cat and been met with a flick of the ear but no movement, you might think they don't recognize their name. But research says otherwise. A study by Saito & Shinozuka (2013) found that cats can distinguish their names from other words, even in a household with multiple cats. They just don't always feel the need to respond. Unlike dogs, who evolved to seek human approval, cats evolved as solitary hunters. They hear you\u2014they're just deciding whether you're worth getting up for.\n\nThe Zoomies: Science Behind the 2 AM Sprints\nThose sudden, chaotic bursts of energy\u2014also known as \"zoomies\"\u2014are actually a by normal part of feline behavior. Cats are natural hunters, and their instincts tell them to be most active at dawn and dusk. If your cat has zoomies at odd hours, they might just be burning off excess energy. Providing interactive play during the day can help prevent nighttime sprints (Turner, 2021).\n\nConclusion: The More You Watch, the More You Understand\nCats may seem mysterious, but once you learn their language, they're basically tiny, furry drama queens with very specific ways of expressing love (and judgment). That slow blink? A kiss. That tail flick? A warning. The 2 AM zoomies? Either pent-up energy or an exorcism\u2014we may never know.\n\nThe more you pay attention to their signals, the better you'll understand them. And honestly your cat already understands you. They know exactly how to guilt-trip you into giving extra treats, how to wake you up precisely one minute before your alarm, and how to act like they don't care\u2014right before curling up in your lap.\n\nAt the end of the day, cats aren't ignoring us. They're just selectively participating. And now that you can read their signals, you're officially part of their very exclusive club.",references:[{title:"Communication in the domestic cat: within- and between-species",authors:"Brown, S. L., & Bradshaw, J. W. S.",publication:"Animal Behaviour",year:2016,doi:"10.1016/j.anbehav.2016.05.015"},{title:"Feline Behavioral Health and Welfare",authors:"Rodan, I., & Heath, S.",publication:"Elsevier Health Sciences",year:2015},{title:"The felid purr: A healing mechanism?",authors:"Muggenthaler, E. von.",publication:"Proceedings of the 12th International Conference on Low Frequency Noise and Vibration",year:2001,url:"https://www.researchgate.net/publication/272259095_The_felid_purr_A_healing_mechanism"},{title:"Vocal recognition of owners by domestic cats (Felis catus)",authors:"Saito, A., & Shinozuka, K.",publication:"Animal Cognition",year:2013,doi:"10.1007/s10071-013-0620-4"},{title:"The mechanics of social interactions between cats and their owners",authors:"Turner, D. C.",publication:"Frontiers in Veterinary Science",year:2021,doi:"10.3389/fvets.2021.650143"},{title:"Attachment bonds between domestic cats and humans",authors:"Vitale, K. R., Behnke, A. C., & Udell, M. A. R.",publication:"Current Biology",year:2019,doi:"10.1016/j.cub.2019.08.036"},{title:"The role of cat eye narrowing movements in cat\u2013human communication",authors:"Humphrey, T., Proops, L., & McComb, K.",publication:"Scientific Reports",year:2020,doi:"10.1038/s41598-020-73426-0"}],likes:312,comments:78,shares:102},{id:"blog_3",title:"What Your Bird is Really Saying",author:{id:"author_3",name:"Zoe Neale",profilePicture:o(58162),bio:"Avian specialist and researcher focusing on bird behavior and communication."},publishDate:"2024-02-24",readTime:"6 min",tags:["Birds","Behavior","Pet Care","Avian Communication"],content:"Ever look at your bird and think, What's going on in that tiny dinosaur brain of yours? Well, good news\u2014birds may not text, but they do have an entire language made up of wing flutters, tail flicks, and the occasional judgmental stare. And if you learn to read these signals, you'll finally understand what your feathered friend has been trying to tell you all along.\n\nLet's break down the mysterious world of bird body language so you can stop guessing and start actually communicating with your avian BFF.\n\nThe Head Tilt: Curious or Plotting Something?\nThat adorable head tilt your bird does isn't just to make you go aww\u2014it's actually their way of getting a better look at something. Birds process images differently than we do, so when they tilt their head, they're adjusting their angle to see more clearly (Massen et al., 2014).\n\nSlow, curious head tilt: They're interested in what's happening and trying to analyze the situation. Basically, they're bird detectives.\nFrequent or extreme tilting: Could indicate a vision issue or neurological problem\u2014if it looks excessive, a vet visit is a good idea (Massen et al., 2014).\nOne-eye stare, body stiffened: A sign they're feeling cautious or potentially threatened. If they were a human, this would be the equivalent of side-eye.\n\nFeather Fluffing: Cozy or Cranky?\nFeather movements say a lot about how a bird is feeling. Think of them as mood indicators, kind of like how we use facial expressions\u2014except, you know, with more feathers.\n\nFluffed-up feathers for a few seconds: Just getting comfortable. If your bird puffs up and then smooths back down, they're basically stretching.\nConstantly fluffed-up feathers: Not good. This can be a sign of illness, stress, or even feeling cold (Massen et al., 2014).\nFeathers sleeked back tight to the body: Your bird is nervous or possibly feeling aggressive. Approach with caution (Pika & Bugnyar, 2011).\n\nThe Wing Flutter: Excitement or Back Off?\nBirds use their wings for way more than just flying\u2014they also use them to communicate. Unfortunately, no sign language because birds dont have thumbs\n\nExcited, quick flutters: Happiness! Your bird is basically doing a little happy dance (Osaka University, 2023).\nSlow, controlled wing movements: This can be a \"stay away\" signal, kind of like putting up a hand to say \"not now.\"\nOne wing slightly drooped: Could be a sign of injury\u2014time to check in with your vet.\n\nBunting: Love, Not a Headbutt Attack\nIf your bird presses or rubs their beak against you, congratulations\u2014they're bunting, which is a sign of affection (Pika & Bugnyar, 2011).\n\nGentle beak rubbing: They're marking you as part of their flock. You're officially theirs now.\nAggressive, sudden beak nudging: Might mean \"Hey, stop that\" or \"Give me attention NOW.\"\n\nThe Stare-Down: Challenge or Trust?\nUnlike with dogs, where prolonged eye contact can be a dominance move, birds love staring at their favorite humans. It's actually a good thing\u2014eye contact helps strengthen bonds (Osaka University, 2023).\n\nSoft, relaxed eyes: A sign of trust and comfort. They're chilling.\nWide eyes with pinning pupils: Intense excitement\u2014or potential aggression. If they suddenly go from relaxed to laser-focused, read the room.\n\nTail Wagging: A Whole Different Story Than Dogs\nIf you thought tail wagging only meant happiness (like with dogs), think again\u2014birds have their own unique tail signals.\n\nFast, side-to-side tail wagging: Happy and excited! Your bird is feeling good.\nSlow, deliberate tail flick: Annoyed or getting ready to give you a warning. Think of this as their way of saying \"I'm this close to losing it.\"\nTail fanned out: Displaying dominance or excitement\u2014this is common in birds like parrots when they're trying to show off.\n\nThe Playful Side: Hanging Upside Down & Wing Spreading\nSome birds (especially parrots) love hanging upside down like little acrobats. This is usually a sign of happiness and playfulness. If your bird does this often, they're feeling safe and confident.\n\nUpside-down hanging: Your bird is comfortable with you and their surroundings. They trust you.\nOne wing slightly lifted while playing: This can be an invitation to interact\u2014kind of like a bird's version of waving at you.\n\nConclusion: Your Bird Has Been Speaking\u2014Now You're Fluent\nBirds may not use words the way we do (unless you have a talkative parrot), but their body language speaks volumes. From fluffed feathers to head tilts and beak bunts, every little movement is a clue to how they're feeling.\n\nThe more you watch and learn, the better you'll understand their unique way of communicating. And let's be real\u2014your bird already knows exactly how to get your attention. Whether it's staring at you until you feel guilty enough to offer a treat or flapping their wings dramatically for no reason, they've got you trained.\n\nNow that you can finally read their signals, you're one step closer to becoming the ultimate bird whisperer. Just don't be surprised if they start giving you even more attitude now that you know what's up.",references:[{title:"Facial display and blushing: Means of visual communication in blue-and-yellow macaws",authors:"Massen, J. J. M., Vermunt, D. A., & Sterck, E. H. M.",publication:"PLoS ONE",year:2014,doi:"10.1371/journal.pone.0108794"},{title:"The use of referential gestures in ravens (Corvus corax) in the wild",authors:"Pika, S., & Bugnyar, T.",publication:"Nature Communications",year:2011,doi:"10.1038/ncomms1567"},{title:'Wild birds gesture "after you" to insist their mate go first',authors:"Osaka University",publication:"Scientific American",year:2023,url:"https://www.scientificamerican.com/article/wild-birds-gesture-after-you-to-insist-their-mate-go-first/"}],likes:198,comments:45,shares:67}],{width:pe,height:ye}=m.default.get("window"),xe=[{image:o(81029),text:'"CrittrCove has been amazing for finding reliable pet professionals!',author:"John Smith"},{image:o(53198),text:'"Great experience with pet sitting services!',author:"Jane Doe"},{image:o(52695),text:'"Found the perfect sitter for my exotic pets!',author:"Sudhakar Vuluvala"},{image:o(30552),text:"\"I've had a fantastic experience with CrittrCove's pet grooming services!",author:"Alice Brown"}],be=({source:e,style:t})=>(0,C.jsx)("img",{src:e,style:t,alt:""});const je=s.default.create({scrollView:{flex:1},contentContainer:{paddingBottom:80},heroSection:{height:"70vh",justifyContent:"center",alignItems:"center",overflow:"hidden"},heroImage:{width:"100%",height:"100%",position:"absolute"},heroText:{fontSize:32,fontWeight:"bold",fontFamily:p.fonts.header.fontFamily,textAlign:"center",color:"white",textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:-1,height:1},textShadowRadius:10},section:{padding:20,width:"100%",maxWidth:1200,marginLeft:"auto",marginRight:"auto",alignItems:"center"},sectionTitle:{fontSize:p.fontSizes.largeLarge,fontWeight:"bold",fontFamily:p.fonts.header.fontFamily,marginBottom:10,textAlign:"center",color:"black"},card:{marginBottom:10},appButtons:{flexDirection:"row",justifyContent:"space-around",marginTop:10},appButton:{width:"45%"},reviewsSection:{marginBottom:20},reviewsBackground:{flex:1,justifyContent:"center",alignItems:"center"},reviewsOverlay:{flex:1,justifyContent:"center",alignItems:"center",padding:20},reviewsSubtitle:{fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",color:"black",marginBottom:10,textAlign:"center",width:"100%"},reviewsTitle:{fontSize:p.fontSizes.largeLarge,fontFamily:p.fonts.header.fontFamily,fontWeight:"bold",color:"black",marginBottom:20,textAlign:"center",width:"100%"},reviewsContainer:{width:"100%",maxWidth:1200,marginLeft:"auto",marginRight:"auto",overflowX:"auto",WebkitOverflowScrolling:"touch",msOverflowStyle:"auto",scrollbarWidth:"auto",scrollbarColor:"".concat(p.colors.primary," transparent")},reviewsContent:{flexDirection:"row",minWidth:"min-content",gap:10,padding:20,paddingBottom:40,justifyContent:"center",alignItems:"center"},reviewCard:{width:300,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3,marginRight:10},reviewCardMobile:{width:"100%",height:"100%"},reviewQuote:{fontSize:24,fontWeight:"bold",color:"black",marginBottom:10},reviewText:{fontSize:18,color:"black",fontFamily:p.fonts.regular.fontFamily,marginBottom:15,flex:1},reviewAuthorContainer:{flexDirection:"row",alignItems:"center"},reviewerImage:{width:45,height:60,borderRadius:8,marginRight:10,objectFit:"cover"},reviewAuthorName:{fontSize:16,fontWeight:"bold",color:"black",fontFamily:p.fonts.regular.fontFamily},reviewAuthorTitle:{fontSize:14,color:"#666",fontFamily:p.fonts.regular.fontFamily,marginTop:2},paginationDots:{flexDirection:"row",justifyContent:"center",marginTop:10},paginationDot:{width:10,height:10,borderRadius:5,backgroundColor:"white",margin:5},paginationDotActive:{backgroundColor:"black"},featuresSection:{marginBottom:20,marginTop:20},toggleContainer:{flexDirection:"row",justifyContent:"center",marginBottom:10},toggleButton:{padding:10,backgroundColor:"white",borderWidth:2,borderColor:p.colors.primary},toggleButtonActive:{backgroundColor:p.colors.primary},toggleButtonText:{fontSize:18,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},toggleButtonTextActive:{color:p.colors.whiteText,fontFamily:p.fonts.regular.fontFamily},featuresContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},featureColumn:{width:S<768?"90%":"100%",maxWidth:600,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},columnTitle:{fontSize:24,fontWeight:"bold",marginBottom:20,color:"black",textAlign:"center",fontFamily:p.fonts.header.fontFamily},featuresList:{width:"100%",fontFamily:p.fonts.header.fontFamily,marginBottom:20},featureItem:{flexDirection:"row",marginBottom:20,alignItems:"flex-start",width:"100%"},featureIconCircle:{width:50,height:50,borderRadius:25,justifyContent:"center",alignItems:"center",marginTop:5},featureIcon:{fontSize:40},featureTitle:{fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",marginBottom:5,color:"black",fontFamily:p.fonts.header.fontFamily},featureText:{fontSize:p.fontSizes.mediumLarge+2,color:"black",lineHeight:22,fontFamily:p.fonts.regular.fontFamily},actionButton:{backgroundColor:"#6A6C51",width:"50%",padding:5,borderRadius:5,alignItems:"center"},buttonContainer:{display:"flex",justifyContent:"center",alignItems:"center"},buttonText:{fontSize:18,fontWeight:"bold",color:"white",fontFamily:p.fonts.regular.fontFamily},blogSection:{marginBottom:20,alignItems:"center"},blogCard:{width:300,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3,padding:15,marginRight:10},authorContainer:{flexDirection:"column"},authorImage:{width:40,height:40,borderRadius:20,marginBottom:10},blogContent:{flex:1},title:{fontSize:18,fontWeight:"bold",marginBottom:8,fontFamily:p.fonts.header.fontFamily},authorInfo:{flexDirection:"row",alignItems:"center",marginBottom:8},authorName:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},dot:{marginHorizontal:4,color:"#666"},readTime:{fontSize:16,color:"#666",fontFamily:p.fonts.regular.fontFamily},preview:{fontSize:16,lineHeight:20,marginBottom:12,color:"#444",fontFamily:p.fonts.regular.fontFamily},tags:{flexDirection:"row",flexWrap:"wrap",marginBottom:12},tag:{paddingHorizontal:8,paddingVertical:4,borderRadius:16,marginRight:8,marginBottom:8},tagText:{fontSize:14,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},stats:{flexDirection:"row",justifyContent:"flex-start",marginTop:8},stat:{flexDirection:"row",alignItems:"center",marginRight:16},statText:{marginLeft:4,fontSize:14,color:"#666",fontFamily:p.fonts.regular.fontFamily},roadmapSection:{marginBottom:20},roadmapImage:{flex:1,justifyContent:"center",alignItems:"center"},roadmapOverlayText:{fontSize:24,fontWeight:"bold",color:"black"},faqSection:{marginBottom:20},faqItem:{marginBottom:10},faqButton:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},faqQuestion:{fontSize:16,fontWeight:"bold"},faqToggle:{fontSize:14,color:"gray"},faqAnswer:{fontSize:16},contactSection:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",padding:20},contactContainer:{width:"100%",maxWidth:600},input:{padding:10,marginBottom:10,borderWidth:1,borderColor:"gray",borderRadius:5},footer:{padding:20,backgroundColor:p.colors.primary,alignItems:"center"},socialIconsRow:{flexDirection:"row",justifyContent:"center",marginBottom:15},socialIcon:{marginHorizontal:15,padding:5},footerLinksRow:{flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},footerLink:{color:"white",fontFamily:p.fonts.regular.fontFamily,marginHorizontal:15,textDecorationLine:"underline"},successMessage:{fontSize:18,textAlign:"center",marginTop:10,color:"black",fontFamily:p.fonts.regular.fontFamily},messageInput:{height:100,textAlignVertical:"top",paddingTop:10},disabledButton:{opacity:.7},validationError:{color:"red",fontSize:16,marginTop:-5,marginBottom:10,fontFamily:p.fonts.regular.fontFamily},starsContainer:{flexDirection:"row",alignItems:"center",marginTop:4},starIcon:{marginRight:2},waitlistSection:{marginVertical:20,borderRadius:10},waitlistDescription:{fontSize:18,textAlign:"center",marginBottom:20,color:"black",fontFamily:p.fonts.regular.fontFamily,paddingHorizontal:20,lineHeight:24},waitlistButton:{marginTop:10,width:"80%",maxWidth:300,padding:15},scrollIndicators:{flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:10,marginBottom:20},scrollIndicatorButton:{padding:10,marginHorizontal:-6},scrollIndicator:{width:8,height:8,borderRadius:4,backgroundColor:p.colors.border,marginHorizontal:4},scrollIndicatorActive:{backgroundColor:p.colors.primary,width:24},scrollHint:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:10},scrollHintText:{color:p.colors.primary,marginRight:5,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},scrollContainer:{width:"100%",maxWidth:1200,marginLeft:"auto",marginRight:"auto",overflowX:"auto",WebkitOverflowScrolling:"touch",msOverflowStyle:"auto",scrollbarWidth:"auto",scrollbarColor:"".concat(p.colors.primary," transparent")},scrollContent:{flexDirection:"row",minWidth:"min-content",gap:10,padding:20,paddingBottom:40,justifyContent:"center",alignItems:"center"}});var we=o(40558),Ce=o(4701),Se=o(51690),ve=o(61092),Te=o(47514),ke=o(42490),Be=o(31385),Ie=o(63303),Pe=o(49050);const ze=s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0},scrollViewContent:{flexGrow:1,paddingBottom:16},content:{alignSelf:"center",maxWidth:800,paddingTop:16},switchProfileButton:{alignSelf:"flex-end",marginBottom:16},profileHeader:{alignItems:"center",marginBottom:20},sectionSaveButton:{marginTop:16},name:{fontSize:24,fontWeight:"bold",marginTop:10,color:p.colors.primary},location:{fontSize:16,color:p.colors.secondary},section:{padding:20,borderBottomWidth:1,borderBottomColor:p.colors.border},sectionTitle:{fontSize:20,fontWeight:"bold",marginBottom:10,color:p.colors.primary},input:{marginBottom:10,backgroundColor:p.colors.surface},bioInput:{backgroundColor:p.colors.surface},petItem:{marginBottom:10,padding:10,backgroundColor:p.colors.surface,borderRadius:5},petName:{fontSize:16,fontWeight:"bold"},petInfo:{flex:1},petDetails:{fontSize:14,color:p.colors.placeholder,flexWrap:"wrap"},saveButton:{margin:20},addButton:{marginTop:10},profilePhoto:{width:120,height:120,borderRadius:60},profilePhotoPlaceholder:{backgroundColor:p.colors.surface,justifyContent:"center",alignItems:"center"},centered:{justifyContent:"center",alignItems:"center"},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},fieldText:{fontSize:16,marginBottom:5,color:p.colors.text},iconContainer:{flexDirection:"row"},petItemContent:{flexDirection:"row",alignItems:"center"},petPhoto:{width:50,height:50,borderRadius:25,marginRight:10},modalContainer:{backgroundColor:"white",padding:20,margin:20,borderRadius:10},modalContent:{alignItems:"center"},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:10},modalText:{marginBottom:20,textAlign:"center"},webPopup:{position:"absolute",backgroundColor:"white",padding:20,borderRadius:10,width:300,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,zIndex:1e3},webPopupTitle:{fontSize:18,fontWeight:"bold",marginBottom:10},webPopupText:{marginBottom:20},profileInfo:{alignItems:"center"},name:{fontSize:24,fontWeight:"bold",marginBottom:5},location:{fontSize:16,color:p.colors.secondary},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border,backgroundColor:p.colors.background},headerLeft:{flexDirection:"row",alignItems:"center"},backButton:{marginRight:16},headerText:{fontSize:20,fontWeight:"bold",color:p.colors.primary},switchProfileButton:{backgroundColor:p.colors.primary}}),De=()=>{const e=(0,A.useNavigation)(),{width:t}=(0,we.default)(),[o,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[S,T]=(0,a.useState)(""),[k,B]=(0,a.useState)(""),[I,P]=(0,a.useState)(""),[z,D]=(0,a.useState)(""),[R,F]=(0,a.useState)([]),[E,N]=(0,a.useState)({name:"",phone:""}),[M,L]=(0,a.useState)([""]),[H,V]=(0,a.useState)(!0),[U,G]=(0,a.useState)({}),[q,Y]=(0,a.useState)(!1),[J,$]=(0,a.useState)({top:0,left:0}),K=(0,a.useRef)(null),Z=(0,a.useRef)(null),{isApprovedProfessional:Q,switchRole:X}=(0,a.useContext)(v),[ee,te]=(0,a.useState)(!1);(0,a.useEffect)((()=>{new Promise((e=>{setTimeout((()=>{e({name:"Alice Johnson",email:"alice@example.com",phone:"(555) 123-4567",age:"32",address:"123 Main St",city:"San Francisco",state:"CA",zip:"94122",country:"USA",bio:"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!",pets:[{id:"1",name:"Max",type:"Dog",breed:"Golden Retriever",age:5,photo:"https://example.com/max.jpg"},{id:"2",name:"Luna",type:"Cat",breed:"Siamese",age:3,photo:"https://example.com/luna.jpg"},{id:"3",name:"Rocky",type:"Dog",breed:"Beagle",age:2,photo:"https://example.com/rocky.jpg"}],emergencyContact:{name:"John Smith",phone:"(555) 987-6543"},authorizedHouseholdMembers:["Sarah Johnson","Mike Johnson"]})}),1e3)})).then((e=>{l(e.name),c(e.email),f(e.phone),h(e.age),b(e.address),w(e.city),T(e.state),B(e.zip),P(e.country),D(e.bio),F(e.pets),N(e.emergencyContact),L(e.authorizedHouseholdMembers),V(!1)}))}),[]),(0,a.useEffect)((()=>{(async()=>{const e=await y.default.getItem("isApprovedProfessional");te(JSON.parse(e))})()}),[]);const oe=e=>{G((t=>Object.assign({},t,{[e]:!t[e]})))},ae=(e,t,o,a)=>U[a]?(0,C.jsx)(ve.default,{label:e,value:t,onChangeText:o,style:ze.input}):(0,C.jsxs)(O.default,{style:ze.fieldText,children:[e,": ",t]}),ne=(e,t,o,a)=>(0,C.jsx)(i.default,{onPress:a,children:(0,C.jsx)(Be.default,{name:e,size:t,color:o})}),re=(n.default,e=>U[e]?(0,C.jsxs)(Te.default,{mode:"contained",onPress:()=>(e=>{console.log("Saving ".concat(e," section")),Se.default.alert("Success","".concat(e," information saved successfully!")),oe(e)})(e),style:ze.sectionSaveButton,children:["Save ",e]}):null);if(H)return(0,C.jsx)(n.default,{style:[ze.container,ze.centered],children:(0,C.jsx)(O.default,{children:"Loading..."})});const ie=Q||ee;return(0,C.jsxs)(Ce.default,{style:ze.container,children:[(0,C.jsxs)(n.default,{style:ze.header,children:[(0,C.jsxs)(n.default,{style:ze.headerLeft,children:[(0,C.jsx)(i.default,{onPress:()=>e.navigate("More"),style:ze.backButton,children:(0,C.jsx)(Be.default,{name:"chevron-back",size:24,color:p.colors.primary})}),(0,C.jsx)(O.default,{style:ze.headerText,children:"Client Profile"})]}),ie&&(0,C.jsx)(Te.default,{mode:"contained",onPress:()=>{X(),e.navigate("ProfessionalProfile")},style:ze.switchProfileButton,children:"Switch to Professional"})]}),(0,C.jsx)(W.default,{ref:Z,contentContainerStyle:ze.scrollViewContent,children:(0,C.jsxs)(n.default,{style:[ze.content,{width:t<600?"90%":"60%"}],children:[(0,C.jsxs)(n.default,{style:ze.profileHeader,children:[(0,C.jsx)(i.default,{onPress:async()=>{let e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:1});e.canceled||r(e.assets[0].uri)},children:o?(0,C.jsx)(_.default,{source:{uri:o},style:ze.profilePhoto}):(0,C.jsx)(n.default,{style:[ze.profilePhoto,ze.profilePhotoPlaceholder],children:(0,C.jsx)(g.default,{name:"account",size:80,color:p.colors.primary})})}),(0,C.jsxs)(n.default,{style:ze.profileInfo,children:[(0,C.jsx)(O.default,{style:ze.name,children:s}),(0,C.jsxs)(O.default,{style:ze.location,children:[j,", ",S]})]})]}),(0,C.jsxs)(n.default,{style:ze.section,children:[(0,C.jsxs)(n.default,{style:ze.sectionHeader,children:[(0,C.jsx)(O.default,{style:ze.sectionTitle,children:"Personal Information"}),ne("pencil",20,p.colors.primary,(()=>oe("personal")))]}),ae("Name",s,l,"personal"),ae("Email",d,c,"personal"),ae("Phone",u,f,"personal"),ae("Age",m,h,"personal"),re("personal")]}),(0,C.jsxs)(n.default,{style:ze.section,children:[(0,C.jsxs)(n.default,{style:ze.sectionHeader,children:[(0,C.jsx)(O.default,{style:ze.sectionTitle,children:"Address"}),ne("pencil",20,p.colors.primary,(()=>oe("address")))]}),ae("Address",x,b,"address"),ae("City",j,w,"address"),ae("State",S,T,"address"),ae("ZIP",k,B,"address"),ae("Country",I,P,"address"),re("address")]}),(0,C.jsxs)(n.default,{style:ze.section,children:[(0,C.jsxs)(n.default,{style:ze.sectionHeader,children:[(0,C.jsx)(O.default,{style:ze.sectionTitle,children:"About Me"}),ne("pencil",20,p.colors.primary,(()=>oe("bio")))]}),U.bio?(0,C.jsx)(ve.default,{multiline:!0,numberOfLines:4,value:z,onChangeText:D,style:ze.bioInput}):(0,C.jsx)(O.default,{style:ze.fieldText,children:z}),re("bio")]}),(0,C.jsxs)(n.default,{style:ze.section,children:[(0,C.jsx)(i.default,{onPress:()=>e.navigate("MyPets"),children:(0,C.jsx)(O.default,{style:ze.sectionTitle,children:"My Pets"})}),R.map((t=>(0,C.jsx)(i.default,{style:ze.petItem,onPress:()=>e.navigate("PetProfile",{petId:t.id}),children:(0,C.jsxs)(n.default,{style:ze.petItemContent,children:[(0,C.jsx)(_.default,{source:{uri:t.photo},style:ze.petPhoto}),(0,C.jsxs)(n.default,{style:ze.petInfo,children:[(0,C.jsx)(O.default,{style:ze.petName,children:t.name}),(0,C.jsxs)(O.default,{style:ze.petDetails,children:[t.type," \u2022 ",t.breed," \u2022 ",t.age," years old"]})]})]})},t.id)))]}),(0,C.jsxs)(n.default,{style:ze.section,children:[(0,C.jsxs)(n.default,{style:ze.sectionHeader,children:[(0,C.jsx)(O.default,{style:ze.sectionTitle,children:"Emergency Contact"}),ne("pencil",20,p.colors.primary,(()=>oe("emergency")))]}),ae("Name",E.name,(e=>N(Object.assign({},E,{name:e}))),"emergency"),ae("Phone",E.phone,(e=>N(Object.assign({},E,{phone:e}))),"emergency"),re("emergency")]}),(0,C.jsxs)(n.default,{style:ze.section,children:[(0,C.jsxs)(n.default,{style:ze.sectionHeader,children:[(0,C.jsx)(O.default,{style:ze.sectionTitle,children:"Authorized Household Members"}),(0,C.jsxs)(n.default,{style:ze.iconContainer,children:[(0,C.jsx)(i.default,{onPress:()=>{K.current&&Z.current&&K.current.measure(((e,t,o,a,n,r)=>{Z.current.measure(((e,t,a,i,s,l)=>{$({top:r-l-200,left:n-s-(300-o)/2}),Y(!0)}))}))},ref:K,children:(0,C.jsx)(Be.default,{name:"help-circle-outline",size:20,color:p.colors.primary})}),ne("pencil",20,p.colors.primary,(()=>oe("household")))]})]}),M.map(((e,t)=>U.household?(0,C.jsx)(ve.default,{label:"Member ".concat(t+1),value:e,onChangeText:e=>((e,t)=>{if(U.household){const o=[...M];o[e]=t,L(o)}})(t,e),style:ze.input},t):(0,C.jsx)(O.default,{style:ze.fieldText,children:e},t))),U.household&&(0,C.jsx)(Te.default,{mode:"outlined",onPress:()=>{U.household&&L([...M,""])},style:ze.addButton,children:"Add Household Member"}),re("household")]})]})}),(0,C.jsx)(ke.default,{children:q&&(0,C.jsxs)(n.default,{style:[ze.webPopup,{top:J.top,left:J.left}],children:[(0,C.jsx)(O.default,{style:ze.webPopupTitle,children:"Authorized Household Members"}),(0,C.jsx)(O.default,{style:ze.webPopupText,children:"Authorized household members are individuals who are allowed to make decisions about your pets in your absence. This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed."}),(0,C.jsx)(Te.default,{onPress:()=>Y(!1),children:"Got it"})]})})]})},Re=s.default.create({floatingButtonContainer:{left:0,right:0,alignItems:"center",justifyContent:"center",paddingHorizontal:16,zIndex:9999},webButton:{position:"sticky",bottom:20,backgroundColor:"transparent"},mobileButton:{position:"absolute",bottom:80,paddingBottom:20},floatingButton:{backgroundColor:p.colors.primary,borderRadius:25,paddingHorizontal:20,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,maxWidth:600}}),Fe=({visible:e,onSave:t,btnText:o})=>e?(0,C.jsx)(n.default,{style:[Re.floatingButtonContainer,Re.webButton],children:(0,C.jsx)(Te.default,{mode:"contained",onPress:t,style:Re.floatingButton,children:o})}):null;var Ae=o(90932);const We=s.default.create({modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{width:"90%",maxWidth:500,backgroundColor:p.colors.background,borderRadius:10,padding:20,maxHeight:"50%"},modalScroll:{maxHeight:"90%"},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",marginBottom:5,color:p.colors.text},inputWrapper:{position:"relative"},input:{width:"100%",height:40,borderWidth:1,borderColor:p.colors.border,borderRadius:5,paddingHorizontal:10,backgroundColor:p.colors.surface,color:p.colors.text},inputError:{borderColor:p.colors.error},inputLabel:{fontSize:p.fontSizes.small,color:p.colors.text,marginBottom:5,marginTop:15,fontWeight:"500"},categoryInput:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:10},timeInput:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:10},selectedText:{color:p.colors.text},placeholderText:{color:p.colors.placeHolderText},categoryDropdownContainer:{position:"absolute",backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:5,maxHeight:200,zIndex:1e3},categoryScrollView:{maxHeight:200},categoryItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},categoryText:{fontSize:p.fontSizes.medium,color:p.colors.text,flex:1},checkmarkContainer:{width:24,alignItems:"center"},suggestionsContainer:{position:"absolute",backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:5,maxHeight:200,zIndex:1e3},suggestionScrollView:{maxHeight:200},suggestionText:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border,color:p.colors.text},timeDropdownContainer:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:5,maxHeight:200,zIndex:1e3},timeDropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},timeDropdownText:{color:p.colors.text},selectedTimeOption:{color:p.colors.primary,fontWeight:"bold"},descriptionInput:{height:80,textAlignVertical:"top",paddingTop:10},additionalRateRow:{marginTop:20,padding:15,backgroundColor:p.colors.surface,borderRadius:8,borderWidth:1,borderColor:p.colors.border},additionalRateTitle:{fontSize:p.fontSizes.medium,fontWeight:"bold",marginBottom:10,color:p.colors.text},deleteRateButton:{backgroundColor:p.colors.error,padding:10,borderRadius:5,marginTop:10,alignItems:"center"},deleteRateButtonText:{color:p.colors.whiteText,fontWeight:"bold"},addRateButton:{marginTop:15,padding:15,backgroundColor:p.colors.surface,borderRadius:8,borderWidth:1,borderColor:p.colors.border,alignItems:"center"},addRateText:{color:p.colors.primary,fontWeight:"bold"},modalButtons:{flexDirection:"row",justifyContent:"flex-end",marginTop:20},saveButton:{backgroundColor:p.colors.primary,paddingHorizontal:20,paddingVertical:10,borderRadius:5,marginLeft:10},saveButtonText:{color:p.colors.whiteText,fontWeight:"bold"},cancelButton:{backgroundColor:p.colors.surface,paddingHorizontal:20,paddingVertical:10,borderRadius:5,borderWidth:1,borderColor:p.colors.border},cancelButtonText:{color:p.colors.text}}),_e=({visible:e,onClose:t,onSave:o,initialService:s=null,setHasUnsavedChanges:l})=>{const[d,c]=(0,a.useState)({serviceName:"",serviceDescription:"",animalTypes:"",rates:{base_rate:"",additionalAnimalRate:"",holidayRate:""},lengthOfService:"",categories:[]}),[u,f]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),[v,T]=(0,a.useState)(!1),[k,B]=(0,a.useState)([]),[I,P]=(0,a.useState)({top:0,left:0,width:0}),[z,D]=(0,a.useState)({top:0,left:0,width:0}),[R,F]=(0,a.useState)({top:0,left:0,width:0}),A=(0,a.useRef)(null),_=(0,a.useRef)(null),E=(0,a.useRef)(null),O=(0,a.useRef)(null),M=(0,a.useRef)(null),L=(0,a.useRef)(null),V=(0,a.useRef)(null),U=(0,a.useRef)(null);(0,a.useEffect)((()=>{s&&(c(s),B(s.categories||[]),f(s.additionalRates||[]))}),[s]),(0,a.useEffect)((()=>{const t=e=>{v&&M.current&&!M.current.contains(e.target)&&T(!1),b&&L.current&&!L.current.contains(e.target)&&j(!1),y&&V.current&&!V.current.contains(e.target)&&x(!1),w&&U.current&&!U.current.contains(e.target)&&S(!1)};return e&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}}),[v,b,y,w,e]);const G=(e,t,o)=>{e.current&&e.current.measure(((e,o,a,n,r,i)=>{t({top:o+n-6,left:e,width:"100%"})}))},q=(e,t,o)=>{f((a=>a.map(((a,n)=>n===e?Object.assign({},a,{[t]:o}):a))))},Y=()=>{c({serviceName:"",serviceDescription:"",animalTypes:"",rates:{base_rate:"",additionalAnimalRate:"",holidayRate:""},lengthOfService:"",categories:[]}),B([]),f([]),h(!1)};return(0,C.jsx)(H.default,{visible:e,transparent:!0,animationType:"slide",onRequestClose:t,children:(0,C.jsx)(n.default,{style:We.modalOverlay,children:(0,C.jsxs)(n.default,{style:We.modalContent,children:[(0,C.jsxs)(W.default,{style:We.modalScroll,children:[(0,C.jsx)(r.default,{style:We.modalTitle,children:s?"Edit Service":"Add New Service"}),(0,C.jsxs)(n.default,{style:[We.inputWrapper,{zIndex:4}],children:[(0,C.jsx)(r.default,{style:We.inputLabel,children:"General Categories"}),(0,C.jsxs)(i.default,{ref:E,style:[We.input,We.categoryInput],onPress:()=>{G(E,F),T(!v)},children:[(0,C.jsx)(r.default,{style:k.length?We.selectedText:We.placeholderText,children:k.length?k.join(", "):"Select categories"}),(0,C.jsx)(g.default,{name:v?"chevron-up":"chevron-down",size:24,color:p.colors.primary})]}),v&&(0,C.jsx)(n.default,{ref:M,style:[We.categoryDropdownContainer,R],children:(0,C.jsx)(W.default,{style:We.categoryScrollView,nestedScrollEnabled:!0,showsVerticalScrollIndicator:!0,persistentScrollbar:!0,children:ee.map(((e,t)=>(0,C.jsxs)(i.default,{onPress:()=>(e=>{B((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e),style:We.categoryItem,children:[(0,C.jsx)(r.default,{style:We.categoryText,children:e}),(0,C.jsx)(n.default,{style:We.checkmarkContainer,children:k.includes(e)&&(0,C.jsx)(g.default,{name:"check",size:20,color:p.colors.primary})})]},t)))})})]}),(0,C.jsxs)(n.default,{style:[We.inputWrapper,{zIndex:3}],children:[(0,C.jsx)(r.default,{style:We.inputLabel,children:"Animal Type"}),(0,C.jsx)(N.default,{ref:_,style:[We.input,m&&!d?.animalTypes?.trim()&&We.inputError],placeholder:"Animal Type",placeholderTextColor:p.colors.placeHolderText,value:d?.animalTypes,onChangeText:e=>{c((t=>Object.assign({},t,{animalTypes:e})))},onFocus:()=>{j(!0),G(_,D)}}),b&&(0,C.jsx)(n.default,{ref:L,style:[We.suggestionsContainer,z],children:(0,C.jsx)(W.default,{style:We.suggestionScrollView,nestedScrollEnabled:!0,showsVerticalScrollIndicator:!0,persistentScrollbar:!0,children:(d?.animalTypes?ge.filter((e=>e.toLowerCase().includes(d.animalTypes.toLowerCase()))):ge).map(((e,t)=>(0,C.jsx)(i.default,{onPress:()=>{c((t=>Object.assign({},t,{animalTypes:e}))),j(!1)},children:(0,C.jsx)(r.default,{style:We.suggestionText,children:e})},t)))})})]}),(0,C.jsxs)(n.default,{style:[We.inputWrapper,{zIndex:2}],children:[(0,C.jsx)(r.default,{style:We.inputLabel,children:"Service Name"}),(0,C.jsx)(N.default,{ref:A,style:[We.input,m&&!d?.serviceName?.trim()&&We.inputError],placeholder:"Service Name",placeholderTextColor:p.colors.placeHolderText,value:d?.serviceName,onChangeText:e=>{c((t=>Object.assign({},t,{serviceName:e})))},onFocus:()=>{x(!0),G(A,P)}}),y&&(0,C.jsx)(n.default,{ref:V,style:[We.suggestionsContainer,I],children:(0,C.jsx)(W.default,{style:We.suggestionScrollView,nestedScrollEnabled:!0,showsVerticalScrollIndicator:!0,persistentScrollbar:!0,children:(d?.serviceName?me.filter((e=>e.toLowerCase().includes(d.serviceName.toLowerCase()))):me).map(((e,t)=>(0,C.jsx)(i.default,{onPress:()=>{c((t=>Object.assign({},t,{serviceName:e}))),x(!1)},children:(0,C.jsx)(r.default,{style:We.suggestionText,children:e})},t)))})})]}),(0,C.jsxs)(n.default,{style:[We.inputWrapper,{zIndex:1}],children:[(0,C.jsx)(r.default,{style:We.inputLabel,children:"Service Description"}),(0,C.jsx)(N.default,{style:[We.input,We.descriptionInput],placeholder:"Service Description",placeholderTextColor:p.colors.placeHolderText,value:d?.serviceDescription,onChangeText:e=>c((t=>Object.assign({},t,{serviceDescription:e}))),multiline:!0})]}),(0,C.jsxs)(n.default,{style:[We.inputWrapper,{zIndex:1}],children:[(0,C.jsx)(r.default,{style:We.inputLabel,children:"Length of Service"}),(0,C.jsxs)(i.default,{ref:O,style:[We.input,We.timeInput,m&&!d?.lengthOfService?.trim()&&We.inputError],onPress:()=>S(!w),children:[(0,C.jsx)(r.default,{style:d?.lengthOfService?We.selectedText:We.placeholderText,children:d?.lengthOfService||"Select length of service"}),(0,C.jsx)(g.default,{name:w?"chevron-up":"chevron-down",size:24,color:p.colors.primary})]}),w&&(0,C.jsx)(n.default,{ref:U,style:We.timeDropdownContainer,children:(0,C.jsx)(W.default,{style:{maxHeight:200},nestedScrollEnabled:!0,showsVerticalScrollIndicator:!0,persistentScrollbar:!0,children:Z.map(((e,t)=>(0,C.jsx)(i.default,{style:We.timeDropdownItem,onPress:()=>{c((t=>Object.assign({},t,{lengthOfService:e}))),S(!1)},children:(0,C.jsx)(r.default,{style:[We.timeDropdownText,d?.lengthOfService===e&&We.selectedTimeOption],children:e})},t)))})})]}),(0,C.jsx)(r.default,{style:We.inputLabel,children:"Base Rate"}),(0,C.jsx)(N.default,{style:[We.input,m&&!d?.rates?.base_rate?.trim()&&We.inputError],placeholder:"$ Ex. 25",placeholderTextColor:p.colors.placeHolderText,keyboardType:"decimal-pad",value:d?.rates?.base_rate?"$".concat(d.rates.base_rate):"",onChangeText:e=>c((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{base_rate:e.replace(/[^0-9.]/g,"").replace("$","")})})))}),(0,C.jsx)(r.default,{style:We.inputLabel,children:"Additional Animal Rate"}),(0,C.jsx)(N.default,{style:[We.input,m&&!d?.rates?.additionalAnimalRate?.trim()&&We.inputError],placeholder:"$ Ex. 20",placeholderTextColor:p.colors.placeHolderText,keyboardType:"decimal-pad",value:d?.rates?.additionalAnimalRate?"$".concat(d.rates.additionalAnimalRate):"",onChangeText:e=>c((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{additionalAnimalRate:e.replace(/[^0-9.]/g,"").replace("$","")})})))}),(0,C.jsx)(r.default,{style:We.inputLabel,children:"Holiday Rate"}),(0,C.jsx)(N.default,{style:[We.input,m&&!d?.rates?.holidayRate?.trim()&&We.inputError],placeholder:"$ Ex. 30",placeholderTextColor:p.colors.placeHolderText,keyboardType:"decimal-pad",value:d?.rates?.holidayRate?"$".concat(d.rates.holidayRate):"",onChangeText:e=>c((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{holidayRate:e.replace(/[^0-9.]/g,"").replace("$","")})})))}),u.map(((e,t)=>(0,C.jsxs)(n.default,{style:We.additionalRateRow,children:[(0,C.jsxs)(r.default,{style:We.additionalRateTitle,children:["Rate #",t+1]}),(0,C.jsx)(r.default,{style:We.inputLabel,children:"Rate Title"}),(0,C.jsx)(N.default,{style:[We.input,m&&!e.label?.trim()&&We.inputError],placeholder:"Animal with medication",placeholderTextColor:p.colors.placeHolderText,value:e.label||"",onChangeText:e=>q(t,"label",e)}),(0,C.jsx)(r.default,{style:We.inputLabel,children:"Rate Amount"}),(0,C.jsx)(N.default,{style:[We.input,m&&!e.value?.trim()&&We.inputError],placeholder:"$ Ex. 20",placeholderTextColor:p.colors.placeHolderText,keyboardType:"decimal-pad",value:e.value?"$".concat(e.value):"",onChangeText:e=>q(t,"value",e.replace(/[^0-9.]/g,"").replace("$",""))}),(0,C.jsx)(r.default,{style:We.inputLabel,children:"Rate Description"}),(0,C.jsx)(N.default,{style:[We.input,m&&!e.description?.trim()&&We.inputError],placeholder:"Rate for animal needing medication",placeholderTextColor:p.colors.placeHolderText,value:e.description||"",onChangeText:e=>q(t,"description",e)}),(0,C.jsx)(i.default,{onPress:()=>{f((e=>e.filter(((e,o)=>o!==t))))},style:We.deleteRateButton,children:(0,C.jsx)(r.default,{style:We.deleteRateButtonText,children:"Delete Additional Rate"})})]},t))),(0,C.jsx)(i.default,{onPress:()=>{f((e=>[...e,{label:"",value:"",description:""}]))},style:We.addRateButton,children:(0,C.jsx)(r.default,{style:We.addRateText,children:"+ Add Additional Rate"})})]}),(0,C.jsxs)(n.default,{style:We.modalButtons,children:[(0,C.jsx)(i.default,{style:We.cancelButton,onPress:()=>{Y(),t()},children:(0,C.jsx)(r.default,{style:We.cancelButtonText,children:"Cancel"})}),(0,C.jsx)(i.default,{style:We.saveButton,onPress:async()=>{if(d.serviceName?.trim()&&d.animalTypes?.trim()&&d.rates.base_rate?.trim()&&d.rates.additionalAnimalRate?.trim()&&d.rates.holidayRate?.trim()&&d.lengthOfService?.trim())try{const e=Object.assign({},d,{additionalRates:u,categories:k});await o(e),l(!0),Y(),t()}catch(e){console.error("Error saving service:",e),Se.default.alert("Error","Failed to save service")}else h(!0)},children:(0,C.jsx)(r.default,{style:We.saveButtonText,children:s?"Save Changes":"Add Service"})})]})]})})})},Ee=s.default.create({serviceCard:{backgroundColor:p.colors.surface,borderRadius:8,borderWidth:1,borderColor:p.colors.border,marginVertical:8,padding:12,position:"relative"},topRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},serviceName:{fontSize:p.fontSizes.medium,color:p.colors.primary,fontWeight:"bold"},topRowIcons:{flexDirection:"row",alignItems:"center",gap:8},iconButton:{padding:4},contentRow:{gap:4},collapsedContent:{marginTop:4},rateText:{color:p.colors.text},collapseButton:{position:"absolute",bottom:8,right:8,padding:4}}),Ne=({item:e,index:t,isCollapsed:o,onEdit:s,onDelete:l,onToggleCollapse:d})=>{const{screenWidth:c}=(0,a.useContext)(v);return(0,C.jsxs)(n.default,{style:Ee.serviceCard,children:[(0,C.jsxs)(n.default,{style:Ee.topRow,children:[(0,C.jsx)(r.default,{style:Ee.serviceName,children:e.serviceName}),(0,C.jsxs)(n.default,{style:Ee.topRowIcons,children:[(0,C.jsx)(i.default,{onPress:()=>l(t),style:Ee.iconButton,children:(0,C.jsx)(g.default,{name:"trash-can",size:24,color:p.colors.error})}),(0,C.jsx)(i.default,{onPress:()=>s(t),style:Ee.iconButton,children:(0,C.jsx)(g.default,{name:"pencil",size:24,color:p.colors.primary})})]})]}),o?(0,C.jsx)(n.default,{style:Ee.collapsedContent,children:(0,C.jsxs)(r.default,{style:Ee.rateText,children:["Base Rate: $",e.rates.base_rate||"N/A"]})}):(0,C.jsxs)(n.default,{style:Ee.contentRow,children:[(0,C.jsxs)(r.default,{style:[Ee.rateText,{fontSize:c<=600?p.fontSizes.small:p.fontSizes.medium}],children:["Base Rate: $",e.rates.base_rate||"N/A"]}),(0,C.jsxs)(r.default,{style:[Ee.rateText,{fontSize:c<=600?p.fontSizes.small:p.fontSizes.medium}],children:["Additional Animal: $",e.rates.additionalAnimalRate||"N/A"]}),(0,C.jsxs)(r.default,{style:[Ee.rateText,{fontSize:c<=600?p.fontSizes.small:p.fontSizes.medium}],children:["Holiday Rate: $",e.rates.holidayRate||"N/A"]}),e.additionalRates&&e.additionalRates.map(((e,t)=>(0,C.jsxs)(r.default,{style:[Ee.rateText,{fontSize:c<=600?p.fontSizes.small:p.fontSizes.medium}],children:[e.label,": $",e.value," ",e.description?"(".concat(e.description,")"):""]},t))),(0,C.jsxs)(r.default,{style:[Ee.rateText,{fontSize:c<=600?p.fontSizes.small:p.fontSizes.medium}],children:["Duration: ",e.lengthOfService||"N/A"]})]}),(0,C.jsx)(i.default,{onPress:()=>d(t),style:Ee.collapseButton,children:(0,C.jsx)(g.default,{name:o?"chevron-down":"chevron-up",size:24,color:p.colors.primary})})]})};var Oe=o(20530);const Me=s.default.create({modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:p.colors.surface,borderRadius:8,padding:20,width:"90%",maxWidth:400},modalText:{fontSize:p.fontSizes.medium,marginBottom:20,textAlign:"center",color:p.colors.text},buttonContainer:{flexDirection:"row",justifyContent:"space-between",gap:10},button:{flex:1,paddingVertical:12,borderRadius:8,alignItems:"center"},cancelButton:{backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border},confirmButton:{backgroundColor:p.colors.primary},cancelButtonText:{color:p.colors.text,fontWeight:"500"},confirmButtonText:{color:p.colors.surface,fontWeight:"500"},disabledButton:{opacity:.7},disabledText:{opacity:.5}}),Le=({visible:e,onClose:t,onConfirm:o,actionText:a,isLoading:s=!1})=>(0,C.jsx)(H.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:t,children:(0,C.jsx)(n.default,{style:Me.modalOverlay,children:(0,C.jsxs)(n.default,{style:Me.modalContent,children:[(0,C.jsxs)(r.default,{style:Me.modalText,children:["Are you sure you want to ",a,"?"]}),(0,C.jsxs)(n.default,{style:Me.buttonContainer,children:[(0,C.jsx)(i.default,{style:[Me.button,Me.cancelButton],onPress:t,disabled:s,children:(0,C.jsx)(r.default,{style:[Me.cancelButtonText,s&&Me.disabledText],children:"Cancel"})}),(0,C.jsx)(i.default,{style:[Me.button,Me.confirmButton,s&&Me.disabledButton],onPress:o,disabled:s,children:s?(0,C.jsx)(Oe.default,{size:"small",color:p.colors.surface}):(0,C.jsx)(r.default,{style:Me.confirmButtonText,children:"Confirm"})})]})]})})}),He=s.default.create({container:{flex:1,position:"relative",zIndex:9998,elevation:9998},serviceListContainer:{flex:1,paddingVertical:0},headerButtons:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:9999,elevation:9999},headerActions:{flexDirection:"row",alignItems:"center",zIndex:9999,elevation:9999},headerButton:{marginLeft:20,padding:8,position:"relative",zIndex:9999,elevation:9999},buttonTooltip:{position:"absolute",bottom:"100%",left:"50%",transform:[{translateX:-35}],backgroundColor:p.colors.surface,padding:8,borderRadius:4,fontSize:p.fontSizes.small,color:p.colors.text,width:70,textAlign:"center",shadowColor:"#000",shadowOffset:{width:0,height:-1},shadowOpacity:.25,shadowRadius:3.84,zIndex:1e4,elevation:1e4},sectionTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.primary},portalTooltip:{backgroundColor:p.colors.surface,padding:8,borderRadius:4,width:70,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},tooltipText:{fontSize:p.fontSizes.small,color:p.colors.text,textAlign:"center"},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},emptyText:{fontSize:p.fontSizes.mediumLarge,color:p.colors.text,marginBottom:20},addButton:{backgroundColor:p.colors.primary,paddingHorizontal:20,paddingVertical:10,borderRadius:8},addButtonText:{color:p.colors.surface,fontSize:p.fontSizes.medium,fontWeight:"500"}}),Ve=({services:e,setServices:t,setHasUnsavedChanges:o,isProfessionalTab:s=!1})=>{const[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[f,m]=(0,a.useState)([]),[h,y]=(0,a.useState)(!1),[x,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[S,v]=(0,a.useState)(null),[T,k]=(0,a.useState)(null),[B,I]=(0,a.useState)(null),P=(0,a.useRef)(null),z=(0,a.useRef)(null),D=(e,t,o)=>{e.current&&setTimeout((()=>{const a=e.current.getBoundingClientRect();o({x:a.left+a.width/2,y:a.top,text:t}),v(t)}),0)};return(0,C.jsxs)(n.default,{style:He.container,children:[(0,C.jsxs)(n.default,{style:[He.serviceListContainer,{paddingHorizontal:s?0:20}],children:[(0,C.jsxs)(n.default,{style:He.headerButtons,children:[(0,C.jsx)(r.default,{style:He.sectionTitle,children:"Services"}),(0,C.jsxs)(n.default,{style:He.headerActions,children:[(0,C.jsx)(i.default,{ref:z,onPress:()=>{m(h?[]:e.map(((e,t)=>t))),y(!h)},style:He.headerButton,onMouseEnter:()=>{try{D(z,h?"Expand All":"Collapse All",I)}catch(e){console.error("Error showing collapse tooltip:",e)}},onMouseLeave:()=>{v(null),I(null)},children:(0,C.jsx)(g.default,{name:h?"chevron-down":"chevron-up",size:24,color:p.colors.primary})}),(0,C.jsx)(i.default,{ref:P,style:He.headerButton,onMouseEnter:()=>{try{D(P,"Add Service",k)}catch(e){console.error("Error showing add tooltip:",e)}},onMouseLeave:()=>{v(null),k(null)},onPress:()=>{u(null),d(!0)},children:(0,C.jsx)(g.default,{name:"plus",size:24,color:p.colors.primary})})]})]}),Array.isArray(e)&&e.length>0?(0,C.jsx)(Ae.default,{data:e,renderItem:({item:t,index:o})=>t&&"object"===typeof t?(0,C.jsx)(Ne,Object.assign({item:t},t,{service:t,onEdit:()=>(t=>{const o=Object.assign({},e[t],{index:t});u(o),d(!0)})(o),onDelete:()=>(e=>{w(e),b(!0)})(o),isCollapsed:f.includes(o),onToggleCollapse:()=>(e=>{m((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(o),isProfessionalTab:s}),"service-".concat(o)):(console.warn("Invalid item detected:",t),null),keyExtractor:(e,t)=>"service-".concat(t)}):(0,C.jsxs)(n.default,{style:He.emptyContainer,children:[(0,C.jsx)(r.default,{style:He.emptyText,children:"No services yet"}),(0,C.jsx)(i.default,{style:He.addButton,onPress:()=>d(!0),children:(0,C.jsx)(r.default,{style:He.addButtonText,children:"Add Services"})})]})]}),(0,C.jsx)(_e,{visible:l,onClose:()=>{d(!1),u(null)},onSave:e=>{t(null!==c?t=>t.map(((t,o)=>o===c.index?e:t)):t=>[...t,e]),o(!0),u(null)},initialService:c,setHasUnsavedChanges:o}),(0,C.jsx)(Le,{visible:x,onClose:()=>b(!1),onConfirm:()=>{t((e=>e.filter(((e,t)=>t!==j)))),o(!0),b(!1)},actionText:"delete this service"}),T&&(0,C.jsx)(ke.default,{children:(0,C.jsx)(n.default,{style:[He.portalTooltip,{position:"fixed",top:T.y-40,left:T.x-35}],children:(0,C.jsx)(r.default,{style:He.tooltipText,children:T.text})})}),B&&(0,C.jsx)(ke.default,{children:(0,C.jsx)(n.default,{style:[He.portalTooltip,{position:"fixed",top:B.y-40,left:B.x-35}],children:(0,C.jsx)(r.default,{style:He.tooltipText,children:B.text})})})]})},Ue=s.default.create({section:{width:"100%",maxWidth:600,marginBottom:20,paddingVertical:20,borderBottomWidth:1,borderBottomColor:p.colors.border},sectionTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.primary,marginBottom:10},petItem:{marginBottom:10,padding:10,backgroundColor:p.colors.surface,borderColor:p.colors.border,borderWidth:1,borderRadius:5,width:"100%",maxWidth:600},petItemContent:{flexDirection:"row",alignItems:"center"},petPhoto:{width:50,height:50,borderRadius:25,marginRight:10},petName:{fontSize:p.fontSizes.medium,fontWeight:"bold"},petInfo:{flex:1},petDetails:{fontSize:p.fontSizes.smallMedium,color:p.colors.placeholder,flexWrap:"wrap"}}),Ge=({pets:e})=>(0,C.jsxs)(n.default,{style:Ue.section,children:[(0,C.jsx)(r.default,{style:Ue.sectionTitle,children:"My Pets"}),e.map((e=>(0,C.jsx)(i.default,{style:Ue.petItem,children:(0,C.jsxs)(n.default,{style:Ue.petItemContent,children:[(0,C.jsx)(_.default,{source:{uri:e.photo},style:Ue.petPhoto}),(0,C.jsxs)(n.default,{style:Ue.petInfo,children:[(0,C.jsx)(r.default,{style:Ue.petName,children:e.name}),(0,C.jsxs)(r.default,{style:Ue.petDetails,children:[e.type," \u2022 ",e.breed," \u2022 ",e.age," years old"]})]})]})},e.id)))]}),qe=s.default.create({section:{width:"100%",maxWidth:600,paddingVertical:20,borderBottomWidth:1,borderBottomColor:p.colors.border},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:10},sectionTitle:{fontSize:p.fontSizes.large,marginBottom:10,fontWeight:"bold",color:p.colors.primary},input:{width:"100%",maxWidth:600,marginBottom:10,backgroundColor:p.colors.surface,padding:10,borderRadius:5,borderWidth:1,borderColor:p.colors.border},fieldText:{width:"100%",maxWidth:600,fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:10}}),Ye=({title:e,value:t,onChangeText:o,editMode:a,toggleEditMode:s,setHasUnsavedChanges:l,getContentWidth:d,multiline:c=!0})=>(0,C.jsxs)(n.default,{style:qe.section,children:[(0,C.jsxs)(n.default,{style:qe.sectionHeader,children:[(0,C.jsx)(r.default,{style:qe.sectionTitle,children:e}),(0,C.jsx)(i.default,{onPress:s,children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]}),a?(0,C.jsx)(N.default,{value:t,onChangeText:e=>{o(e),l(!0)},style:[qe.input,{width:d()},c&&{height:100,textAlignVertical:"top"}],multiline:c,numberOfLines:c?4:1}):(0,C.jsx)(r.default,{style:[qe.fieldText,{width:d()}],children:t||"No ".concat(e.toLowerCase()," provided")})]}),Je=s.default.create({centeredContent:{width:"100%",maxWidth:600,alignItems:"center",alignSelf:"center"},section:{width:"100%",maxWidth:600,marginBottom:20,paddingVertical:20,borderBottomWidth:1,borderBottomColor:p.colors.border},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:10},sectionTitle:{fontSize:p.fontSizes.large,marginBottom:10,fontWeight:"bold",color:p.colors.primary},profileHeader:{alignItems:"center",marginBottom:20,width:"100%",maxWidth:600},profilePhoto:{width:120,height:120,borderRadius:60},profilePhotoPlaceholder:{backgroundColor:p.colors.surface,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:p.colors.border},input:{width:"100%",maxWidth:600,marginBottom:10,backgroundColor:p.colors.surface,padding:10,borderRadius:5},fieldText:{width:"100%",maxWidth:600,fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:10},portfolioGrid:{width:"100%",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",gap:16},portfolioCard:{width:"48%",marginBottom:16,backgroundColor:p.colors.surface,borderRadius:8,overflow:"hidden",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62},portfolioImageContainer:{aspectRatio:4/3,width:"100%"},portfolioPhoto:{width:"100%",height:"100%",borderTopLeftRadius:8,borderTopRightRadius:8},portfolioCaption:{fontSize:p.fontSizes.small,color:p.colors.text,padding:8},emptyText:{textAlign:"center",color:p.colors.placeholder,marginTop:16},facilitiesContainer:{flexDirection:"row",flexWrap:"wrap",gap:8,paddingHorizontal:4},facilityTag:{paddingHorizontal:16,paddingVertical:8,borderRadius:20,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.primary,marginBottom:8},facilityTagSelected:{backgroundColor:p.colors.primary},facilityTagText:{color:p.colors.primary,fontSize:p.fontSizes.small},facilityTagTextSelected:{color:p.colors.surface},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{width:"90%",maxWidth:500,backgroundColor:p.colors.background,borderRadius:10,padding:20,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold"},modalScroll:{maxHeight:"70%"},modalFacilityTag:{padding:16,borderRadius:8,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.primary,marginBottom:8},modalFacilityText:{fontSize:p.fontSizes.medium,color:p.colors.primary},modalFooter:{flexDirection:"row",justifyContent:"space-between",marginTop:20},modalButton:{padding:12,borderRadius:8,width:"48%",alignItems:"center"},saveButton:{backgroundColor:p.colors.primary},cancelButton:{backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.primary},modalButtonText:{color:p.colors.primary,fontSize:p.fontSizes.medium,fontWeight:"bold"},modalButtonText2:{color:p.colors.whiteText,fontSize:p.fontSizes.medium,fontWeight:"bold"}}),$e=({services:e,setServices:t,setHasUnsavedChanges:o,getContentWidth:s,pets:l,editMode:d,toggleEditMode:c})=>{const[u,f]=(0,a.useState)(null),[m,h]=(0,a.useState)(""),[y,x]=(0,a.useState)([]),[b,j]=(0,a.useState)(""),[w,S]=(0,a.useState)({certifications:[],experience:"",specialties:[]}),[v,T]=(0,a.useState)([]),[k,B]=(0,a.useState)(!1),[I,P]=(0,a.useState)([]),z=[{id:"apartment",label:"Lives in an apartment"},{id:"house",label:"Lives in a house"},{id:"fenced_yard",label:"Has a fenced yard"},{id:"non_smoking",label:"Non-smoking household"},{id:"no_children",label:"No children present"},{id:"has_children",label:"Children present"},{id:"security_system",label:"Has security system"},{id:"dogs_bed",label:"Dogs allowed on bed"},{id:"dogs_furniture",label:"Dogs allowed on furniture"},{id:"crate_available",label:"Crate available"},{id:"separate_areas",label:"Can separate pets"},{id:"potty_0_2",label:"Potty breaks every 0-2 hours"},{id:"potty_2_4",label:"Potty breaks every 2-4 hours"},{id:"potty_4_6",label:"Potty breaks every 4-6 hours"},{id:"no_pets",label:"No resident pets"},{id:"has_dogs",label:"Has resident dogs"},{id:"has_cats",label:"Has resident cats"},{id:"air_conditioned",label:"Air-conditioned"},{id:"outdoor_area",label:"Has outdoor play area"},{id:"emergency_transport",label:"Emergency transport available"}];return(0,C.jsxs)(n.default,{style:Je.centeredContent,children:[(0,C.jsxs)(n.default,{style:Je.section,children:[(0,C.jsx)(n.default,{style:Je.sectionHeader,children:(0,C.jsx)(r.default,{style:Je.sectionTitle,children:"Profile Photo (Professional)"})}),(0,C.jsx)(n.default,{style:Je.profileHeader,children:(0,C.jsx)(i.default,{onPress:async()=>{let e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:1});e.canceled||(f(e.assets[0].uri),o(!0))},children:u?(0,C.jsx)(_.default,{source:{uri:u},style:Je.profilePhoto}):(0,C.jsx)(n.default,{style:[Je.profilePhoto,Je.profilePhotoPlaceholder],children:(0,C.jsx)(Be.default,{name:"person",size:60,color:p.colors.placeholder})})})})]}),(0,C.jsx)(Ye,{title:"Professional Bio",value:m,onChangeText:h,editMode:d.professionalBio,toggleEditMode:()=>c("professionalBio"),setHasUnsavedChanges:o,getContentWidth:s}),(0,C.jsx)(n.default,{style:Je.section,children:(0,C.jsx)(Ve,{services:e||[],setServices:t,setHasUnsavedChanges:o,isProfessionalTab:!0})}),(0,C.jsxs)(n.default,{style:Je.section,children:[(0,C.jsxs)(n.default,{style:Je.sectionHeader,children:[(0,C.jsx)(r.default,{style:Je.sectionTitle,children:"Portfolio Photos"}),(0,C.jsx)(i.default,{onPress:async()=>{let e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!1,quality:1,aspect:[4,3],allowsMultipleSelection:!0,selectionLimit:10});if(!e.canceled){const t=e.assets.map((e=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),uri:e.uri,caption:"New portfolio photo"})));x((e=>[...e,...t])),o(!0)}},children:(0,C.jsx)(g.default,{name:"plus",size:24,color:p.colors.primary})})]}),(0,C.jsx)(n.default,{style:Je.portfolioGrid,children:y.map((e=>(0,C.jsxs)(i.default,{style:Je.portfolioCard,onPress:()=>{},children:[(0,C.jsx)(n.default,{style:Je.portfolioImageContainer,children:(0,C.jsx)(_.default,{source:{uri:e.uri},style:Je.portfolioPhoto})}),(0,C.jsx)(r.default,{style:Je.portfolioCaption,children:e.caption})]},e.id)))}),0===y.length&&(0,C.jsx)(r.default,{style:Je.emptyText,children:"No portfolio photos added yet"})]}),(0,C.jsx)(Ge,{pets:l}),(0,C.jsxs)(n.default,{style:Je.section,children:[(0,C.jsxs)(n.default,{style:Je.sectionHeader,children:[(0,C.jsx)(r.default,{style:Je.sectionTitle,children:"Home & Facilities"}),(0,C.jsx)(i.default,{onPress:()=>{P([...v]),B(!0)},children:(0,C.jsx)(g.default,{name:"pencil",size:24,color:p.colors.primary})})]}),(0,C.jsxs)(n.default,{style:Je.facilitiesContainer,children:[v.map((e=>{const t=z.find((t=>t.id===e));return(0,C.jsx)(n.default,{style:Je.facilityTag,children:(0,C.jsx)(r.default,{style:Je.facilityTagText,children:t.label})},e)})),0===v.length&&(0,C.jsx)(r.default,{style:Je.emptyText,children:"No facilities selected"})]}),(0,C.jsx)(H.default,{visible:k,transparent:!0,animationType:"slide",onRequestClose:()=>B(!1),children:(0,C.jsx)(n.default,{style:Je.modalOverlay,children:(0,C.jsxs)(n.default,{style:Je.modalContent,children:[(0,C.jsxs)(n.default,{style:Je.modalHeader,children:[(0,C.jsx)(r.default,{style:Je.modalTitle,children:"Select Home & Facilities"}),(0,C.jsx)(i.default,{onPress:()=>B(!1),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsx)(W.default,{style:Je.modalScroll,children:z.map((e=>(0,C.jsx)(i.default,{style:[Je.modalFacilityTag,I.includes(e.id)&&Je.facilityTagSelected],onPress:()=>{return t=e.id,void P((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},children:(0,C.jsx)(r.default,{style:[Je.modalFacilityText,I.includes(e.id)&&Je.facilityTagTextSelected],children:e.label})},e.id)))}),(0,C.jsxs)(n.default,{style:Je.modalFooter,children:[(0,C.jsx)(i.default,{style:[Je.modalButton,Je.cancelButton],onPress:()=>B(!1),children:(0,C.jsx)(r.default,{style:Je.modalButtonText,children:"Cancel"})}),(0,C.jsx)(i.default,{style:[Je.modalButton,Je.saveButton],onPress:()=>{T(I),B(!1),o(!0)},children:(0,C.jsx)(r.default,{style:Je.modalButtonText2,children:"Save"})})]})]})})})]})]})};o(49162);const Ke=s.default.create({webDatePicker:{padding:8,borderRadius:4,borderWidth:1,borderColor:p.colors.border,fontSize:p.fontSizes.medium},androidButton:{padding:8,borderRadius:4,borderWidth:1,borderColor:p.colors.border},dateText:{fontSize:p.fontSizes.medium,color:p.colors.text}}),Ze=({value:e,onChange:t,placeholder:o="Select Date",displayFormat:n=e=>e})=>{const[r,i]=(0,a.useState)(!1);e?new Date(e):new Date;return(0,C.jsx)("input",{type:"date",value:e||"",onChange:e=>t(e.target.value),style:Ke.webDatePicker})},Qe=s.default.create({header:{flexDirection:"row",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border,backgroundColor:p.colors.background,zIndex:100,elevation:100},backButton:{marginRight:16},headerText:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.primary,flex:1,fontFamily:p.fonts.header.fontFamily},rightButton:{marginLeft:16}}),Xe=({title:e,onBackPress:t,rightIcon:o=null,onRightPress:a=null,rightComponent:s=null,customStyles:l={}})=>{(0,A.useNavigation)();return(0,C.jsxs)(n.default,{style:[Qe.header,l],children:[(0,C.jsx)(i.default,{onPress:t,style:Qe.backButton,children:(0,C.jsx)(g.default,{name:"arrow-left",size:24,color:p.colors.primary})}),(0,C.jsx)(r.default,{style:Qe.headerText,children:e}),s||o&&(0,C.jsx)(i.default,{onPress:a,style:Qe.rightButton,children:(0,C.jsx)(g.default,{name:o,size:24,color:p.colors.primary})})]})};var et=o(21815);const tt=s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0,width:"100%",maxWidth:"100%",overflow:"hidden"},webContainer:{display:"flex",flexDirection:"column",minHeight:"85vh",width:"100%",maxWidth:"100%",overflowX:"hidden"}}),ot=({children:e,style:t,useSafeArea:o=!0,backgroundColor:n=p.colors.background,fullWidthHeader:r=!1,contentWidth:i="800px"})=>{const[s,l]=(0,a.useState)(m.default.get("window").width);(0,a.useEffect)((()=>{{const e=()=>{l(m.default.get("window").width)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[]);{const o=r?e[0]:null,a=r?e.slice(1):e;return(0,C.jsxs)("div",{style:{backgroundColor:n,width:"100%",maxWidth:"100vw",overflowX:"hidden"},children:[r&&(0,C.jsx)("div",{style:{width:"100%",backgroundColor:n,maxWidth:"100vw",overflowX:"hidden"},children:o}),(0,C.jsx)("div",{style:Object.assign({},tt.webContainer,t,{maxWidth:i,margin:"0 auto",width:"100%",overflowX:"hidden"}),children:a})]})}},at=s.default.create({container:{flex:1,backgroundColor:"#f0f0f0"},scrollView:{flex:1},header:{flexDirection:"row",alignItems:"center",padding:16,backgroundColor:p.colors.surface},backButton:{marginRight:16},headerText:{fontSize:20,fontWeight:"bold",color:p.colors.primary},scrollViewContent:{padding:16,alignItems:"center"},tabContainer:{flexDirection:"row",justifyContent:"space-between",marginBottom:16,width:"100%",maxWidth:600,alignSelf:"center"},tab:{flex:1,padding:10,alignItems:"center",borderRadius:5,backgroundColor:p.colors.surface,borderColor:p.colors.border,borderWidth:1,marginHorizontal:5},activeTab:{backgroundColor:p.colors.primary},tabText:{color:p.colors.text},activeTabText:{color:p.colors.background},profileHeader:{alignItems:"center",marginBottom:20},profilePhoto:{width:80,height:80,borderRadius:40,backgroundColor:"#fff",justifyContent:"center",alignItems:"center"},profilePhotoPlaceholder:{backgroundColor:"#fff",borderWidth:1,borderColor:p.colors.placeholder},name:{fontSize:20,fontWeight:"bold",color:p.colors.primary,marginBottom:10},location:{fontSize:16,color:p.colors.secondary},section:{width:"100%",maxWidth:600,alignItems:"center",paddingVertical:20,borderBottomWidth:1,borderBottomColor:p.colors.border},lastSection:{marginBottom:100},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:10},sectionTitle:{fontSize:20,fontWeight:"bold",color:p.colors.primary},input:{marginBottom:10,backgroundColor:p.colors.surface,borderColor:p.colors.border,borderWidth:1,padding:10,borderRadius:5},bioInput:{backgroundColor:p.colors.surface,width:"100%",maxWidth:600},petItem:{marginBottom:10,padding:10,backgroundColor:p.colors.surface,borderRadius:5,width:"100%",maxWidth:600},petItemContent:{flexDirection:"row",alignItems:"center"},petPhoto:{width:50,height:50,borderRadius:25,marginRight:10},petName:{fontSize:16,fontWeight:"bold"},petInfo:{flex:1},petDetails:{fontSize:14,color:p.colors.placeholder,flexWrap:"wrap"},addButton:{marginTop:10},saveButton:{backgroundColor:p.colors.primary,marginTop:10},centered:{justifyContent:"center",alignItems:"center"},iconContainer:{flexDirection:"row",alignItems:"center"},webPopup:{position:"absolute",backgroundColor:"white",padding:20,borderRadius:10,width:300,maxWidth:"90vw",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,zIndex:1e3},webPopupTitle:{fontSize:18,fontWeight:"bold"},webPopupText:{marginBottom:20},fieldText:{marginBottom:10},centeredContent:{width:"100%",maxWidth:600,alignItems:"center",alignSelf:"center"},fieldContainer:{marginBottom:16},fieldLabel:{fontSize:p.fontSizes.small,color:p.colors.text,marginBottom:4},birthdayContainer:{flexDirection:"row",alignItems:"center",gap:16},ageText:{fontSize:p.fontSizes.medium,color:p.colors.text}}),nt=()=>{const e=(0,A.useNavigation)(),{width:t}=(0,we.default)(),[o,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[w,S]=(0,a.useState)(""),[T,k]=(0,a.useState)(""),[B,I]=(0,a.useState)(""),[P,z]=(0,a.useState)(""),[D,R]=(0,a.useState)(""),[F,E]=(0,a.useState)([]),[O,M]=(0,a.useState)({name:"",phone:""}),[L,H]=(0,a.useState)([""]),[V,U]=(0,a.useState)(!0),[G,q]=(0,a.useState)({professional:!1,services:!1,bio:!1,professionalBio:!1,portfolio:!1,facilities:!1,skills:!1}),[Y,J]=(0,a.useState)(fe),[$,K]=(0,a.useState)("client"),[Z,Q]=(0,a.useState)({inHouse:"",overnight:"",dropBys:"",boarding:"",dayCare:""}),{isApprovedProfessional:X}=(0,a.useContext)(v),[ee,te]=(0,a.useState)(!1),[oe,ae]=(0,a.useState)(!1),[ne,re]=(0,a.useState)({top:0,left:0}),ie=(0,a.useRef)(null),se=(0,a.useRef)(null),[le,de]=(0,a.useState)(!1),[ce,ue]=(0,a.useState)(!1),[me,ge]=(0,a.useState)(""),[he,pe]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{const e=await new Promise((e=>{setTimeout((()=>{e({name:"Alice Johnson",email:"alice@example.com",phone:"(555) 123-4567",age:"32",address:"123 Main St",city:"San Francisco",state:"CA",zip:"94122",country:"USA",bio:"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!",pets:[{id:"1",name:"Max",type:"Dog",breed:"Golden Retriever",age:5,photo:"https://www.google.com/imgres?q=dog%20photo%20with%20https%20url&imgurl=https%3A%2F%2Fdog.ceo%2Fimg%2Fdog-api-fb.jpg&imgrefurl=https%3A%2F%2Fdog.ceo%2Fdog-api%2F&docid=BfjWdSj7jNl2rM&tbnid=gvZ-PT7ESUiKRM&vet=12ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA..i&w=1200&h=630&hcb=2&ved=2ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA"},{id:"2",name:"Luna",type:"Cat",breed:"Siamese",age:3,photo:"https://example.com/luna.jpg"},{id:"3",name:"Rocky",type:"Exotic",breed:"Lizard Gecko",age:2,photo:"https://example.com/rocky.jpg"}],emergencyContact:{name:"John Smith",phone:"(555) 987-6543"},authorizedHouseholdMembers:["Sarah Johnson","Mike Johnson"]})}),1e3)}));d(e.name),u(e.email),m(e.phone),x(e.age),j(e.address),S(e.city),k(e.state),I(e.zip),z(e.country),R(e.bio),E(e.pets),M(e.emergencyContact),H(e.authorizedHouseholdMembers),U(!1)})()}),[]),(0,a.useEffect)((()=>{(async()=>{const e=await y.default.getItem("isApprovedProfessional");te(JSON.parse(e))})()}),[]);const ye=e=>{q((t=>Object.assign({},t,{[e]:!t[e]})))},xe=()=>"100%",be=(e,t,o,a,i="text")=>{const s="bio"===e.toLowerCase();return"birthday"===i?G[a]?(0,C.jsx)(n.default,{style:[at.input,{width:"100%"}],children:(0,C.jsx)(Ze,{value:me,onChange:je,placeholder:"Select Birthday"})}):(0,C.jsx)(r.default,{style:[at.fieldText,{width:"100%"}],children:"Age: ".concat(he||h||"Not specified")}):G[a]?(0,C.jsx)(N.default,{value:t,onChangeText:e=>{o(e),ue(!0)},style:[at.input,{width:"100%"},s&&{height:100,textAlignVertical:"top"}],multiline:s,numberOfLines:s?4:1}):(0,C.jsx)(r.default,{style:[at.fieldText,{width:"100%"}],children:s?t:"".concat(e,": ").concat(t||"Not specified")})},je=async e=>{ge(e),ue(!0);try{const t=await fetch("/api/calculate-age",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({birthday:e})}),o=await t.json();pe(o.age)}catch(t){console.error("Error calculating age:",t)}};return V?(0,C.jsx)(n.default,{style:[at.container,at.centered],children:(0,C.jsx)(r.default,{children:"Loading..."})}):(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"My Profile",onBackPress:()=>e.navigate("More")}),(0,C.jsxs)(W.default,{ref:se,contentContainerStyle:at.scrollViewContent,style:at.scrollView,children:[(0,C.jsxs)(n.default,{style:at.tabContainer,children:[(0,C.jsx)(i.default,{style:[at.tab,"client"===$&&at.activeTab],onPress:()=>K("client"),children:(0,C.jsx)(r.default,{style:[at.tabText,"client"===$&&at.activeTabText],children:"Account Info"})}),X&&(0,C.jsx)(i.default,{style:[at.tab,"professional"===$&&at.activeTab],onPress:()=>K("professional"),children:(0,C.jsx)(r.default,{style:[at.tabText,"professional"===$&&at.activeTabText],children:"Professional"})})]}),"client"===$&&(0,C.jsxs)(n.default,{style:at.centeredContent,children:[(0,C.jsxs)(n.default,{style:at.profileHeader,children:[(0,C.jsx)(r.default,{style:at.name,children:"Profile Photo"}),(0,C.jsx)(i.default,{onPress:async()=>{let e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:1});e.canceled||(s(e.assets[0].uri),ue(!0))},children:o?(0,C.jsx)(_.default,{source:{uri:o},style:at.profilePhoto}):(0,C.jsx)(n.default,{style:[at.profilePhoto,at.profilePhotoPlaceholder],children:(0,C.jsx)(Be.default,{name:"person",size:60,color:p.colors.placeholder})})})]}),(0,C.jsxs)(n.default,{style:at.section,children:[(0,C.jsxs)(n.default,{style:at.sectionHeader,children:[(0,C.jsx)(r.default,{style:at.sectionTitle,children:"Personal Information"}),(0,C.jsx)(i.default,{onPress:()=>ye("personal"),children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]}),be("Name",l,d,"personal"),be("Email",c,u,"personal"),be("Phone",f,m,"personal"),be("Birthday",me,ge,"personal","birthday")]}),(0,C.jsxs)(n.default,{style:at.section,children:[(0,C.jsxs)(n.default,{style:at.sectionHeader,children:[(0,C.jsx)(r.default,{style:at.sectionTitle,children:"Address"}),(0,C.jsx)(i.default,{onPress:()=>ye("address"),children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]}),be("Address",b,j,"address"),be("City",w,S,"address"),be("State",T,k,"address"),be("ZIP",B,I,"address"),be("Country",P,z,"address")]}),(0,C.jsx)(Ye,{title:"About Me",value:D,onChangeText:R,editMode:G.bio,toggleEditMode:()=>ye("bio"),setHasUnsavedChanges:ue,getContentWidth:xe}),(0,C.jsx)(Ge,{pets:F}),(0,C.jsxs)(n.default,{style:at.section,children:[(0,C.jsxs)(n.default,{style:at.sectionHeader,children:[(0,C.jsx)(r.default,{style:at.sectionTitle,children:"Emergency Contact"}),(0,C.jsx)(i.default,{onPress:()=>ye("emergency"),children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]}),be("Name",O.name,(e=>M(Object.assign({},O,{name:e}))),"emergency"),be("Phone",O.phone,(e=>M(Object.assign({},O,{phone:e}))),"emergency")]}),(0,C.jsxs)(n.default,{style:[at.section,!1],children:[(0,C.jsxs)(n.default,{style:at.sectionHeader,children:[(0,C.jsx)(r.default,{style:at.sectionTitle,children:"Authorized Household Members"}),(0,C.jsxs)(n.default,{style:at.iconContainer,children:[(0,C.jsx)(i.default,{onPress:()=>{ie.current&&se.current&&ie.current.measure(((e,o,a,n,r,i)=>{se.current.measure(((e,o,a,n,s,l)=>{const d=t-300-20,c=r-150,u=Math.min(d,Math.max(20,c));re({top:i-l-200-10,left:u}),ae(!0)}))}))},ref:ie,children:(0,C.jsx)(Be.default,{name:"help-circle-outline",size:20,color:p.colors.primary})}),(0,C.jsx)(i.default,{onPress:()=>ye("household"),children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]})]}),L.map(((e,t)=>G.household?(0,C.jsx)(N.default,{value:e,onChangeText:e=>{const o=[...L];o[t]=e,ue(!0),H(o)},style:[at.input,{width:"100%"}]},t):(0,C.jsx)(r.default,{style:[at.fieldText,{width:"100%"}],children:e},t))),G.household&&(0,C.jsx)(n.default,{style:{width:"100%"},children:(0,C.jsx)(Te.default,{mode:"outlined",onPress:()=>H([...L,""]),style:at.addButton,children:"Add Household Member"})})]})]}),"professional"===$&&(0,C.jsx)($e,{services:Y,setServices:J,setHasUnsavedChanges:ue,getContentWidth:xe,pets:F,editMode:G,toggleEditMode:ye})]}),(0,C.jsx)(Fe,{visible:ce,onSave:()=>{ue(!1),q({}),Se.default.alert("Success","Changes saved successfully")},btnText:"Save Changes"}),(0,C.jsx)(ke.default,{children:oe&&(0,C.jsxs)(n.default,{style:[at.webPopup,{top:ne.top,left:ne.left}],children:[(0,C.jsx)(r.default,{style:at.webPopupTitle,children:"Authorized Household Members"}),(0,C.jsx)(r.default,{style:at.webPopupText,children:"Authorized household members are individuals who are allowed to make decisions about your pets in your absence. This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed."}),(0,C.jsx)(Te.default,{onPress:()=>ae(!1),children:"Got it"})]})})]})};function rt({title:e,onPress:t}){return(0,C.jsx)(i.default,{style:it.button,onPress:t,children:(0,C.jsx)(r.default,{style:it.buttonText,children:e})})}const it=s.default.create({button:{backgroundColor:p.colors.primary,paddingVertical:p.spacing.small,paddingHorizontal:p.spacing.medium,borderRadius:5,alignItems:"center",marginVertical:p.spacing.small},buttonText:{color:p.colors.whiteText,fontSize:p.fontSizes.medium}}),{width:st}=m.default.get("window");const lt=s.default.create({container:{padding:p.spacing.medium,backgroundColor:p.colors.background,flex:1,justifyContent:"center",alignItems:"center"},title:{fontSize:p.fontSizes.large,color:p.colors.primary,marginBottom:p.spacing.medium},input:{width:st>600?600:"100%",maxWidth:600,height:40,borderColor:"gray",borderWidth:1,marginBottom:p.spacing.small,paddingHorizontal:p.spacing.small},invalidInput:{borderColor:"red"},link:{color:p.colors.primary,marginTop:p.spacing.small,textAlign:"center"},message:{marginTop:p.spacing.small,color:p.colors.primary,fontSize:p.fontSizes.medium},prototypeWarning:{backgroundColor:"#FFF3CD",color:"#856404",padding:p.spacing.small,marginBottom:p.spacing.medium,borderRadius:4,textAlign:"center",width:st>600?600:"100%",maxWidth:600}});var dt=o(44767);const{width:ct}=m.default.get("window");const ut=s.default.create({container:{flex:1,backgroundColor:p.colors.background},scrollContainer:{padding:p.spacing.medium,alignItems:"center",justifyContent:"center",flexGrow:1},title:{fontSize:p.fontSizes.large,color:p.colors.primary,marginBottom:p.spacing.medium},input:{width:ct>600?600:"100%",maxWidth:600,height:40,borderColor:"gray",borderWidth:1,marginBottom:p.spacing.small,paddingHorizontal:p.spacing.small},message:{marginTop:p.spacing.small,color:p.colors.primary,fontSize:p.fontSizes.medium}}),{width:ft}=m.default.get("window");const mt=s.default.create({container:{padding:p.spacing.medium,backgroundColor:p.colors.background,flex:1,justifyContent:"center",alignItems:"center"},title:{fontSize:p.fontSizes.large,color:p.colors.primary,marginBottom:p.spacing.medium},input:{width:ft>600?600:"100%",maxWidth:600,height:40,borderColor:"gray",borderWidth:1,marginBottom:p.spacing.small,paddingHorizontal:p.spacing.small},inputError:{borderColor:"red"},message:{marginTop:p.spacing.small,color:p.colors.primary,fontSize:p.fontSizes.medium}}),{width:gt}=m.default.get("window");const ht=s.default.create({container:{padding:p.spacing.medium,backgroundColor:p.colors.background,flex:1,justifyContent:"center",alignItems:"center"},title:{fontSize:p.fontSizes.large,color:p.colors.primary,marginBottom:p.spacing.medium},input:{width:gt>600?600:"100%",maxWidth:600,height:40,borderColor:"gray",borderWidth:1,marginBottom:p.spacing.small,paddingHorizontal:p.spacing.small},message:{marginTop:p.spacing.small,color:p.colors.primary,fontSize:p.fontSizes.medium}});var pt=o(98587),yt=o(26318),xt=o(21055),bt=o(29299),jt=o(30336);const wt=["name"],{width:Ct,height:St}=m.default.get("window"),vt=s.default.create({container:{flex:1,backgroundColor:"#f0f0f0"},safeArea:{flex:0,backgroundColor:"#f0f0f0"},scrollView:{flex:1},contentContainer:{padding:16,paddingBottom:0,paddingTop:16},cardContainer:{maxWidth:800,alignSelf:"center",width:"100%"},card:{marginBottom:16},quickActions:{flexDirection:"row",justifyContent:"space-between",marginTop:16},quickActionButton:{marginVertical:0,marginHorizontal:4},header:{paddingVertical:12,paddingHorizontal:16,backgroundColor:p.colors.surface,borderBottomWidth:1,borderBottomColor:p.colors.border,justifyContent:"center",alignItems:void 0},bookingItem:{padding:6,shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3,marginVertical:4,borderRadius:4}}),Tt=({navigation:e})=>{const{colors:t}=(0,h.useTheme)(),{firstName:o,screenWidth:s}=(0,a.useContext)(v),{signOut:l}=(0,a.useContext)(v),d=s>600,c={headerTitle:{fontSize:d?p.fontSizes.extraLarge:p.fontSizes.large,fontWeight:"500",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},cardTitle:{fontSize:d?p.fontSizes.largeLarge:p.fontSizes.large,fontFamily:p.fonts.header.fontFamily},cardParagraph:{fontSize:d?p.fontSizes.large:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},listItemTitle:{fontSize:d?p.fontSizes.large:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},listItemDescription:{fontSize:d?p.fontSizes.mediumLarge:p.fontSizes.smallMedium,fontFamily:p.fonts.regular.fontFamily},buttonText:{fontSize:d?p.fontSizes.mediumLarge:p.fontSizes.smallMedium,fontFamily:p.fonts.regular.fontFamily}},u=[{id:"56782",profepsronalsional:"Jane Doe",pet:"Max (Dog)",date:"2023-05-15",time:"14:00"},{id:"5678",profepsronalsional:"John Smith",pet:"Whiskers (Cat)",date:"2023-05-17",time:"10:00"}],f=e=>{let{name:t}=e,o=(0,pt.default)(e,wt);return(0,C.jsx)(g.default,Object.assign({name:t},o))};return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(n.default,{style:vt.header,children:(0,C.jsx)(r.default,{style:c.headerTitle,children:"Dashboard"})}),(0,C.jsx)((()=>(0,C.jsx)(W.default,{style:vt.scrollView,contentContainerStyle:vt.contentContainer,children:(0,C.jsxs)(n.default,{style:vt.cardContainer,children:[(0,C.jsx)(yt.default,{style:vt.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsxs)(xt.default,{style:c.cardTitle,children:["Welcome back, ",o,"!"]}),(0,C.jsx)(bt.default,{style:c.cardParagraph,children:"Here's an overview of your upcoming pet care services."})]})}),(0,C.jsxs)(yt.default,{style:vt.card,children:[(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{style:c.cardTitle,children:"Upcoming Bookings"}),u.map((t=>(0,C.jsx)(i.default,{onPress:()=>D(e,"BookingDetails","Dashboard",{bookingId:t.id}),style:vt.bookingItem,children:(0,C.jsx)(jt.default,{titleStyle:c.listItemTitle,descriptionStyle:c.listItemDescription,title:"".concat(t.pet," with ").concat(t.profepsronalsional),description:"".concat(t.date," at ").concat(t.time),left:e=>(0,C.jsx)(f,Object.assign({},e,{icon:"calendar",name:"calendar"})),right:e=>(0,C.jsx)(f,Object.assign({},e,{icon:"chevron-right",name:"chevron-right"}))})},t.id)))]}),(0,C.jsx)(yt.default.Actions,{children:(0,C.jsx)(Te.default,{labelStyle:c.buttonText,onPress:()=>D(e,"MyBookings","Dashboard"),children:"View All Bookings"})})]}),(0,C.jsx)(yt.default,{style:vt.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{style:c.cardTitle,children:"Quick Actions"}),(0,C.jsxs)(n.default,{style:vt.quickActions,children:[(0,C.jsx)(Te.default,{icon:({size:e,color:t})=>(0,C.jsx)(g.default,{name:"magnify",size:e,color:t}),mode:"outlined",onPress:()=>D(e,"SearchProfessionalsListing","Dashboard"),style:vt.quickActionButton,labelStyle:c.buttonText,children:"Find a Professional"}),(0,C.jsx)(Te.default,{icon:({size:e,color:t})=>(0,C.jsx)(g.default,{name:"paw",size:e,color:t}),mode:"outlined",onPress:()=>D(e,"MyPets","Dashboard"),style:vt.quickActionButton,labelStyle:c.buttonText,children:"My Pets"})]})]})})]})})),{})]})};var kt=o(17366),Bt=o(12409);const It=({navigation:e})=>{const[t,o]=(0,a.useState)(new Date),[l,d]=(0,a.useState)(new Date),[c,u]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1),[y,x]=(0,a.useState)({country:"USA",state:"",city:"Colorado Springs"}),[b,j]=(0,a.useState)(""),[w,S]=(0,a.useState)(""),[v,T]=(0,a.useState)(""),[k,B]=(0,a.useState)({dogs:0,cats:0,exotics:0}),[I,P]=(0,a.useState)(""),[z,D]=(0,a.useState)(!1),[R,F]=(0,a.useState)(!1),[A,_]=(0,a.useState)(!1),[E,O]=(0,a.useState)(!1),[M,L]=(0,a.useState)(m.default.get("window").width),H=s.default.create({contentContainer:{flex:1,width:"100%",maxWidth:600,alignSelf:"center"},scrollContent:{flexGrow:1,padding:20},filtersContainer:{padding:16},picker:{marginBottom:10,borderColor:p.colors.border,borderWidth:1,borderRadius:5,backgroundColor:p.colors.inputBackground},filterInput:{borderColor:p.colors.border,borderWidth:1,borderRadius:5,padding:10,marginBottom:10,backgroundColor:p.colors.inputBackground},filterButton:{marginBottom:10,padding:10,borderWidth:1,borderColor:p.colors.border,borderRadius:5,backgroundColor:p.colors.inputBackground},filterText:{color:p.colors.text},petCountContainer:{marginBottom:20},petCounter:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},petType:{fontSize:p.fontSizes.medium,color:p.colors.text},counterControls:{flexDirection:"row",alignItems:"center"},petCount:{marginHorizontal:10,fontSize:p.fontSizes.medium,color:p.colors.text},searchButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:5,alignItems:"center",marginTop:20},searchButtonText:{color:"#fff",fontSize:p.fontSizes.medium},datePickerContainer:{marginBottom:10},webDatePicker:{padding:5,borderWidth:1,borderColor:p.colors.border,borderRadius:5,width:"100%"},webHeader:{maxWidth:1200,width:"100%",alignSelf:"center",marginLeft:"auto",marginRight:"auto"}});(0,a.useEffect)((()=>{{const e=()=>{L(m.default.get("window").width)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[]);const V=(e,t,o,a,i)=>(0,C.jsxs)(n.default,{style:H.datePickerContainer,children:[(0,C.jsxs)(r.default,{children:[i,":"]}),(0,C.jsx)("input",{type:"date",value:e.toISOString().split("T")[0],onChange:e=>t(new Date(e.target.value)),style:H.webDatePicker})]}),U=(e,t,o,a,s,l)=>(0,C.jsxs)(n.default,{children:[(0,C.jsx)(i.default,{onPress:()=>a(!0),style:H.filterButton,children:(0,C.jsxs)(r.default,{style:H.filterText,children:[s,": ",e||"Select"]})}),o&&(0,C.jsx)(kt.Picker,{selectedValue:e,onValueChange:e=>{t(e),a(!1)},style:H.picker,children:l.map(((e,t)=>(0,C.jsx)(kt.Picker.Item,{label:e.label,value:e.value},t)))})]});return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Search Professionals",onBackPress:()=>e.goBack()}),(0,C.jsx)(dt.default,{behavior:"height",style:H.contentContainer,children:(0,C.jsx)(W.default,{contentContainerStyle:H.scrollContent,children:(0,C.jsxs)(n.default,{style:H.filtersContainer,children:[U(v,T,z,D,"Service Type",[{label:"Select Service Type",value:""},{label:"House Sitting",value:"House Sitting"},{label:"Dog Walking",value:"Dog Walking"},{label:"Drop-ins",value:"Drop-ins"},{label:"Boarding",value:"Boarding"},{label:"Day Care",value:"Day Care"},{label:"Training",value:"Training"}]),(0,C.jsxs)(n.default,{style:H.petCountContainer,children:[(0,C.jsx)(r.default,{style:H.label,children:"Number of Pets:"}),["dogs","cats","exotics"].map((e=>(0,C.jsxs)(n.default,{style:H.petCounter,children:[(0,C.jsx)(r.default,{style:H.petType,children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,C.jsxs)(n.default,{style:H.counterControls,children:[(0,C.jsx)(i.default,{onPress:()=>B(Object.assign({},k,{[e]:Math.max(0,k[e]-1)})),children:(0,C.jsx)(g.default,{name:"minus-circle",size:24,color:p.colors.primary})}),(0,C.jsx)(r.default,{style:H.petCount,children:k[e]}),(0,C.jsx)(i.default,{onPress:()=>B(Object.assign({},k,{[e]:k[e]+1})),children:(0,C.jsx)(g.default,{name:"plus-circle",size:24,color:p.colors.primary})})]})]},e)))]}),"exotic"===b&&(0,C.jsx)(N.default,{style:H.filterInput,placeholder:"Type of Exotic Pet",value:w,onChangeText:S}),V(t,o,0,0,"Start Date"),V(l,d,0,0,"End Date"),U(I,P,A,_,"One-time or Repeat?",[{label:"One-time or Repeat?",value:""},{label:"One-time",value:"One-time"},{label:"Repeat Weekly",value:"Repeat Weekly"}]),(0,C.jsx)(i.default,{style:[H.searchButton,E&&H.searchButtonDisabled],onPress:async()=>{O(!0);try{const{status:o}=await Bt.requestForegroundPermissionsAsync();let a;if("granted"===o){const e=await Bt.getCurrentPositionAsync({});a={latitude:e.coords.latitude,longitude:e.coords.longitude,latitudeDelta:.0922,longitudeDelta:.0421}}else a={latitude:38.8339,longitude:-104.8214,latitudeDelta:.0922,longitudeDelta:.0421};const n={startDate:t.toISOString(),endDate:l.toISOString(),location:a,animalType:b,exoticType:w,serviceType:v,petCount:k,repeatService:I,initialProfessionals:oe.filter((e=>(!v||e.serviceTypes.includes(v))&&(!b||e.animalTypes.includes(b))))};sessionStorage.setItem("searchParams",JSON.stringify(n)),e.navigate("SearchProfessionalsListing")}catch(o){console.error("Error getting location:",o),Se.default.alert("Error","Failed to get location. Please try again.")}finally{O(!1)}},disabled:E,children:E?(0,C.jsx)(Oe.default,{color:"#fff"}):(0,C.jsx)(r.default,{style:H.searchButtonText,children:"Search"})})]})})})]})};var Pt=o(12686);const zt=["name"],{width:Dt,height:Rt}=m.default.get("window"),Ft=s.default.create({container:{flex:1,backgroundColor:"#f0f0f0"},safeArea:{flex:0,backgroundColor:"#f0f0f0"},bookingItem:{padding:6,shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:3,marginVertical:4,borderRadius:4},scrollView:{flex:1},contentContainer:{padding:16,paddingBottom:0,paddingTop:16},cardContainer:{maxWidth:800,alignSelf:"center",width:"100%"},card:{marginBottom:16},quickActions:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",gap:8,marginTop:16},quickActionButton:{marginVertical:0,marginHorizontal:0,flex:1,minWidth:200},header:{paddingVertical:12,paddingHorizontal:16,backgroundColor:p.colors.surface,borderBottomWidth:1,borderBottomColor:p.colors.border,justifyContent:"center",alignItems:void 0},loadingContainer:{padding:20,alignItems:"center"},emptyStateContainer:{padding:20,alignItems:"center"},createServiceButton:{marginTop:8}}),At=({navigation:e})=>{const{colors:t}=(0,h.useTheme)(),{signOut:o,firstName:s,is_prototype:l,screenWidth:d,is_DEBUG:c}=(0,a.useContext)(v),[u,f]=(0,a.useState)([]),[m,j]=(0,a.useState)(!0),w=d>600,S={headerTitle:{fontSize:w?p.fontSizes.extraLarge:p.fontSizes.large,fontWeight:"500",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},emptyStateText:{fontSize:w?p.fontSizes.large:p.fontSizes.smallMedium,marginBottom:16,textAlign:"center",fontFamily:p.fonts.regular.fontFamily},cardTitle:{fontSize:w?p.fontSizes.largeLarge:p.fontSizes.large,fontFamily:p.fonts.header.fontFamily},cardParagraph:{fontSize:w?p.fontSizes.large:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},listItemTitle:{fontSize:w?p.fontSizes.large:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},listItemDescription:{fontSize:w?p.fontSizes.mediumLarge:p.fontSizes.smallMedium,fontFamily:p.fonts.regular.fontFamily},buttonText:{fontSize:w?p.fontSizes.mediumLarge:p.fontSizes.smallMedium,fontFamily:p.fonts.regular.fontFamily}},T=[{id:"56782",client:"John Doe",pet:"Max (Dog)",date:"2023-05-15",time:"14:00"},{id:"5678",client:"Jane Smith",pet:"Whiskers (Cat)",date:"2023-05-17",time:"10:00"}],k=async()=>{if(l)return f(T),void j(!1);try{j(!0);let e=sessionStorage.getItem("userToken");const t=await x.default.get("".concat(b,"/api/professionals/v1/dashboard/"),{headers:{Authorization:"Bearer ".concat(e)}});f(t.data.upcoming_bookings||[])}catch(t){if(401===t.response?.status){const n=await(async()=>{try{const e=await y.default.getItem("refreshToken"),t=await x.default.post("".concat(b,"/api/token/refresh/"),{refresh:e}),{access:o}=t.data;return await y.default.setItem("userToken",o),o}catch(t){console.error("Error refreshing token:",t),await o(),e.navigate("SignIn")}})();if(n)try{const e=await x.default.get("".concat(b,"/api/professionals/v1/dashboard/"),{headers:{Authorization:"Bearer ".concat(n)}});f(e.data.upcoming_bookings||[])}catch(a){console.error("Error fetching dashboard data after token refresh:",a)}}else console.error("Error fetching dashboard data:",t)}finally{j(!1)}};(0,a.useEffect)((()=>{k()}),[l]);const B=e=>{let{name:t}=e,o=(0,pt.default)(e,zt);return(0,C.jsx)(g.default,Object.assign({name:t},o))},I=async()=>{c&&(console.log("Setting previousRoute to:","ProfessionalDashboard"),console.log("Setting currentRoute to:","ServiceManager")),setTimeout((async()=>{await D(e,"ServiceManager","ProfessionalDashboard")}),100)};return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(n.default,{style:Ft.header,children:(0,C.jsx)(r.default,{style:S.headerTitle,children:"Professional Dashboard"})}),(0,C.jsx)((()=>(0,C.jsx)(W.default,{style:Ft.scrollView,contentContainerStyle:Ft.contentContainer,children:(0,C.jsxs)(n.default,{style:Ft.cardContainer,children:[(0,C.jsx)(yt.default,{style:Ft.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsxs)(xt.default,{style:S.cardTitle,children:["Welcome back, ",l?"John Doe":s,"!"]}),(0,C.jsx)(bt.default,{style:S.cardParagraph,children:"Here's an overview of your upcoming activities."})]})}),(0,C.jsxs)(yt.default,{style:Ft.card,children:[(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{style:S.cardTitle,children:"Upcoming Bookings"}),m?(0,C.jsx)(n.default,{style:Ft.loadingContainer,children:(0,C.jsx)(Pt.default,{size:"small",color:t.primary})}):u.length>0?u.map((t=>(0,C.jsx)(i.default,{onPress:()=>D(e,"BookingDetails","ProfessionalDashboard",{bookingId:l?t.id:t.booking_id}),style:Ft.bookingItem,children:(0,C.jsx)(jt.default,{titleStyle:S.listItemTitle,descriptionStyle:S.listItemDescription,title:l?"".concat(t.client," - ").concat(t.pet):"".concat(t.client_name," - ").concat(t.pets.slice(0,3).map((e=>e.name)).join(", ")).concat(t.pets.length>3?"...":""," (").concat(t.pets.slice(0,3).map((e=>e.species)).join(", ")).concat(t.pets.length>3?"...":"",")"),description:l?"".concat(t.date," at ").concat(t.time):"".concat(t.start_date," at ").concat(t.start_time),left:e=>(0,C.jsx)(B,Object.assign({},e,{icon:"calendar",name:"calendar"})),right:e=>(0,C.jsx)(B,Object.assign({},e,{icon:"chevron-right",name:"chevron-right"}))})},l?t.id:t.booking_id))):(0,C.jsxs)(n.default,{style:Ft.emptyStateContainer,children:[(0,C.jsx)(bt.default,{style:S.emptyStateText,children:"No bookings yet!"}),(0,C.jsx)(Te.default,{mode:"contained",onPress:()=>D(e,"ServiceManager","ProfessionalDashboard"),style:Ft.createServiceButton,labelStyle:S.buttonText,children:"Create Services"})]})]}),u.length>0&&(0,C.jsx)(yt.default.Actions,{children:(0,C.jsx)(Te.default,{onPress:()=>D(e,"MyBookings","ProfessionalDashboard"),labelStyle:S.buttonText,children:"View All Bookings"})})]}),(0,C.jsx)(yt.default,{style:Ft.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{style:S.cardTitle,children:"Quick Actions"}),(0,C.jsxs)(n.default,{style:Ft.quickActions,children:[(0,C.jsx)(Te.default,{icon:({size:e,color:t})=>(0,C.jsx)(g.default,{name:"clock",size:e,color:t}),mode:"outlined",onPress:()=>D(e,"AvailabilitySettings","ProfessionalDashboard"),style:Ft.quickActionButton,labelStyle:S.buttonText,children:"Update Availability"}),(0,C.jsx)(Te.default,{icon:({size:e,color:t})=>(0,C.jsx)(g.default,{name:"briefcase",size:e,color:t}),mode:"outlined",onPress:I,style:Ft.quickActionButton,labelStyle:S.buttonText,children:"My Services"})]})]})})]})})),{})]})},Wt=s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0},scrollContent:{flexGrow:1,padding:20,width:m.default.get("window").width>600?"40%":"90%",alignSelf:"center"},header:{flexDirection:"row",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border},backButton:{marginRight:16},headerText:{fontSize:20,fontWeight:"bold",color:p.colors.primary},title:{fontSize:p.fontSizes.large,color:p.colors.text,textAlign:"center",marginBottom:20},label:{fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:10},checkboxContainer:{flexDirection:"row",justifyContent:"space-around",marginBottom:20},petButton:{flexDirection:"row",alignItems:"center",padding:10,borderWidth:1,borderColor:p.colors.primary,borderRadius:5,backgroundColor:"#fff"},selectedPetButton:{backgroundColor:p.colors.primary},petButtonText:{marginLeft:8,color:p.colors.primary},selectedPetButtonText:{color:"#fff"},textInput:{borderColor:p.colors.border,borderWidth:1,borderRadius:5,padding:10,marginBottom:20,backgroundColor:p.colors.inputBackground},certificationText:{fontSize:p.fontSizes.small,color:p.colors.text,marginTop:5},uploadButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:12,borderWidth:1,borderColor:"#ccc",borderRadius:4,borderStyle:"dashed",marginBottom:10},uploadText:{marginLeft:8,color:"#666"},submitButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:5,alignItems:"center",marginTop:20},submitButtonText:{color:"#fff",fontSize:p.fontSizes.medium},loadingIndicator:{marginTop:10},subtitle:{fontSize:p.fontSizes.medium,color:p.colors.text,textAlign:"center",marginBottom:20},uploadedFileContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"#f5f5f5",padding:8,borderRadius:4,marginBottom:8},uploadedFilePreview:{width:40,height:40,borderRadius:4,marginRight:8},removeFileButton:{padding:4,marginLeft:"auto"}}),_t=({navigation:e})=>{const[t,o]=(0,a.useState)({dog:!1,cat:!1,exotics:!1}),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[u,f]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),{is_DEBUG:y,is_prototype:x}=(0,a.useContext)(v),[b,j]=(0,G.useForm)("mkgobpro");(0,a.useEffect)((()=>{(async()=>{const t=sessionStorage.getItem("currentRoute");"BecomeProfessional"!==t?await D(e,"BecomeProfessional",t):y&&console.log("Error, currentRoute is BecomeProfessional")})()}),[]);const w=()=>{z(e)};return x&&b.succeeded?(0,C.jsxs)(Ce.default,{style:Wt.container,children:[(0,C.jsxs)(n.default,{style:Wt.header,children:[(0,C.jsx)(i.default,{onPress:w,style:Wt.backButton,children:(0,C.jsx)(g.default,{name:"arrow-left",size:24,color:p.colors.primary})}),(0,C.jsx)(r.default,{style:Wt.headerText,children:"Become a Professional"})]}),(0,C.jsxs)(n.default,{style:[Wt.container,{justifyContent:"center",alignItems:"center"}],children:[(0,C.jsx)(r.default,{style:[Wt.title,{color:p.colors.primary}],children:"Thanks for applying!"}),(0,C.jsx)(r.default,{style:Wt.subtitle,children:"We'll review your application and get back to you soon."})]})]}):(0,C.jsxs)(Ce.default,{style:Wt.container,children:[(0,C.jsxs)(n.default,{style:Wt.header,children:[(0,C.jsx)(i.default,{onPress:w,style:Wt.backButton,children:(0,C.jsx)(g.default,{name:"arrow-left",size:24,color:p.colors.primary})}),(0,C.jsx)(r.default,{style:Wt.headerText,children:"Become a Professional"})]}),(0,C.jsxs)(W.default,{contentContainerStyle:Wt.scrollContent,children:[(0,C.jsx)(r.default,{style:Wt.title,children:"Become a Professional"}),(0,C.jsx)(r.default,{style:Wt.label,children:"Select Pets You Can Sit:"}),(0,C.jsx)(n.default,{style:Wt.checkboxContainer,children:["dog","cat","exotics"].map((e=>(0,C.jsxs)(i.default,{style:[Wt.petButton,t[e]&&Wt.selectedPetButton],onPress:()=>(e=>{o(Object.assign({},t,{[e]:!t[e]}))})(e),children:[(0,C.jsx)(g.default,{name:"exotics"===e?"turtle":e,size:24,color:t[e]?"#fff":p.colors.primary}),(0,C.jsx)(r.default,{style:[Wt.petButtonText,t[e]&&Wt.selectedPetButtonText],children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))}),(0,C.jsx)(r.default,{style:Wt.label,children:"About You:"}),(0,C.jsx)(N.default,{style:Wt.textInput,multiline:!0,numberOfLines:4,placeholder:"Write a little about yourself...",value:s,onChangeText:l}),(0,C.jsx)(r.default,{style:Wt.label,children:"Upload Certifications/Resume:"}),(0,C.jsxs)(i.default,{style:Wt.uploadButton,onPress:async()=>{let e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[4,3],quality:1,base64:!0});if(!e.canceled){const t={uri:e.assets[0].uri,base64:e.assets[0].base64,name:e.assets[0].uri.split("/").pop()};c([...d,t])}},children:[(0,C.jsx)(g.default,{name:"file-upload",size:24,color:"#666"}),(0,C.jsx)(r.default,{style:Wt.uploadText,children:"Upload Documents"})]}),d.map(((e,t)=>(0,C.jsxs)(n.default,{style:Wt.uploadedFileContainer,children:[(0,C.jsx)(_.default,{source:{uri:e.uri},style:Wt.uploadedFilePreview}),(0,C.jsx)(r.default,{style:Wt.certificationText,numberOfLines:1,children:e.name}),(0,C.jsx)(i.default,{style:Wt.removeFileButton,onPress:()=>(e=>{c(d.filter(((t,o)=>o!==e)))})(t),children:(0,C.jsx)(g.default,{name:"close",size:20,color:p.colors.error})})]},t))),(0,C.jsx)(r.default,{style:Wt.label,children:"Upload Insurance Proof:"}),(0,C.jsxs)(i.default,{style:Wt.uploadButton,onPress:async()=>{let e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[4,3],quality:1,base64:!0});if(!e.canceled){const t={uri:e.assets[0].uri,base64:e.assets[0].base64,name:e.assets[0].uri.split("/").pop()};f([...u,t])}},children:[(0,C.jsx)(g.default,{name:"file-upload",size:24,color:"#666"}),(0,C.jsx)(r.default,{style:Wt.uploadText,children:"Upload Insurance"})]}),u.map(((e,t)=>(0,C.jsxs)(n.default,{style:Wt.uploadedFileContainer,children:[(0,C.jsx)(_.default,{source:{uri:e.uri},style:Wt.uploadedFilePreview}),(0,C.jsx)(r.default,{style:Wt.certificationText,numberOfLines:1,children:e.name}),(0,C.jsx)(i.default,{style:Wt.removeFileButton,onPress:()=>(e=>{f(u.filter(((t,o)=>o!==e)))})(t),children:(0,C.jsx)(g.default,{name:"close",size:20,color:p.colors.error})})]},t))),(0,C.jsx)(i.default,{style:Wt.submitButton,onPress:async()=>{if(h(!0),x)try{const a=new FormData;a.append("type","Professional Application"),a.append("selectedPets",Object.entries(t).filter((([e,t])=>t)).map((([e])=>e)).join(", ")),a.append("about",s),d.forEach(((e,t)=>{const o=e.name||"certification".concat(t+1,".jpg"),n={uri:e.uri,type:"image/jpeg",name:o};a.append("certification_".concat(t+1),n)})),u.forEach(((e,t)=>{const o=e.name||"insurance".concat(t+1,".jpg"),n={uri:e.uri,type:"image/jpeg",name:o};a.append("insurance_".concat(t+1),n)})),await j(a),b.succeeded&&(o({dog:!1,cat:!1,exotics:!1}),l(""),c([]),f([]),window.confirm("Success: Your application has been submitted successfully!")&&e.navigate("More"))}catch(a){console.error("Error submitting form:",a),Se.default.alert("Error","Failed to submit application. Please try again.")}finally{h(!1)}else setTimeout((()=>{h(!1),o({dog:!1,cat:!1,exotics:!1}),l(""),c([]),f([]),window.confirm("Success: Your application has been submitted successfully!")&&e.navigate("More")}),2e3)},disabled:m,children:(0,C.jsx)(r.default,{style:Wt.submitButtonText,children:"Submit Application"})}),m&&(0,C.jsx)(Oe.default,{style:Wt.loadingIndicator,size:"small",color:p.colors.primary})]})]})};var Et=o(84268);const Nt=s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0},logoutButtonContainer:{padding:16},logoutButton:{backgroundColor:p.colors.error},switchRoleButtonContainer:{padding:16},switchRoleButton:{borderColor:p.colors.primary},webContainer:{flex:1,backgroundColor:p.colors.background,alignItems:"center",justifyContent:"center"},webContent:{width:"100%",maxWidth:600,padding:16},webListSection:{backgroundColor:p.colors.surface,borderRadius:8,marginBottom:16},webListItem:{borderBottomWidth:1,borderBottomColor:p.colors.border},webButtonContainer:{marginBottom:16},webButton:{width:"100%"},listItemTitle:{fontFamily:p.fonts.regular.fontFamily,fontWeight:"600",fontSize:16},buttonText:{fontFamily:p.fonts.regular.fontFamily,fontWeight:"600"}}),Ot=({navigation:e})=>{const{isSignedIn:t,isApprovedProfessional:o,userRole:r,switchRole:i,signOut:s}=(0,a.useContext)(v);(0,a.useEffect)((()=>{(async()=>{try{const e=t?"professional"===r?"ProfessionalDashboard":"Dashboard":"Home";sessionStorage.setItem("currentRoute",e),sessionStorage.setItem("previousRoute","More")}catch(e){console.error("Error initializing routes:",e)}})()}),[t,r]);const l=async t=>{try{await D(e,t,"More")}catch(o){console.error("Error handling navigation:",o),e.navigate(t)}},d=async()=>{try{await s(),sessionStorage.removeItem("currentRoute"),sessionStorage.removeItem("previousRoute"),Se.default.alert("Logged Out","You have been successfully logged out."),e.navigate("Home")}catch(t){console.error("Logout failed",t),Se.default.alert("Logout Failed","An error occurred while logging out.")}},c=async()=>{if(o){const t="professional"===r?"petOwner":"professional";await i();const o="professional"===t?"ProfessionalDashboard":"Dashboard";sessionStorage.setItem("currentRoute",o),setTimeout((()=>{e.navigate(o)}),0)}else Se.default.alert("Not Approved","You are not approved as a professional yet."),l("BecomeProfessional")},u=[{title:"Privacy Policy",icon:"shield-account",route:"PrivacyPolicy"},{title:"Terms of Service",icon:"file-document",route:"TermsOfService"}],f=[{title:"Profile",icon:"account",route:"MyProfile"},{title:"My Bookings",icon:"calendar-clock",route:"MyBookings"},{title:"Payment Methods",icon:"credit-card",route:"PaymentMethods"},{title:"Become a Professional",icon:"account-tie",route:"BecomeProfessional"},{title:"Settings",icon:"cog",route:"Settings"},{title:"My Pets",icon:"paw",route:"MyPets"},{title:"Blog",icon:"post",route:"Blog"},{title:"Privacy Policy",icon:"shield-account",route:"PrivacyPolicy"},{title:"Terms of Service",icon:"file-document",route:"TermsOfService"},{title:"Contact Us",icon:"email",route:"ContactUs"}],m=[{title:"Profile",icon:"account",route:"MyProfile"},{title:"My Services",icon:"briefcase-outline",route:"ServiceManager"},{title:"My Bookings",icon:"calendar-clock",route:"MyBookings"},{title:"My Pets",icon:"paw",route:"MyPets"},{title:"Payment Methods",icon:"credit-card",route:"PaymentMethods"},{title:"Settings",icon:"cog",route:"Settings"},{title:"Blog",icon:"post",route:"Blog"},{title:"Privacy Policy",icon:"shield-account",route:"PrivacyPolicy"},{title:"Terms of Service",icon:"file-document",route:"TermsOfService"},{title:"Contact Us",icon:"email",route:"ContactUs"}],h=()=>{let e;return e=t?"professional"===r?m:f:u,e.map(((e,t)=>(0,C.jsx)(jt.default,{title:e.title,titleStyle:Nt.listItemTitle,left:t=>(0,C.jsx)(g.default,{name:e.icon,size:24,color:p.colors.primary}),onPress:()=>l(e.route),style:Nt.webListItem},t)))};return(0,C.jsx)(n.default,{style:Nt.webContainer,children:(0,C.jsxs)(n.default,{style:Nt.webContent,children:[(0,C.jsx)(Et.default,{style:Nt.webListSection,children:h()}),t&&o&&(0,C.jsx)(n.default,{style:Nt.webButtonContainer,children:(0,C.jsxs)(Te.default,{mode:"outlined",onPress:c,style:Nt.webButton,labelStyle:Nt.buttonText,children:["Switch to ","professional"===r?"Pet Owner":"Professional"," Mode"]})}),t&&(0,C.jsx)(n.default,{style:Nt.webButtonContainer,children:(0,C.jsx)(Te.default,{mode:"contained",onPress:d,style:[Nt.webButton,Nt.logoutButton],labelStyle:Nt.buttonText,children:"Log Out"})})]})})};var Mt=o(61171),Lt=o(56662),Ht=(o(99164),o(59814),o(74037)),Vt=o(19367),Ut=o(54564);s.default.create({container:{flexDirection:"row",alignItems:"center",paddingVertical:8,paddingHorizontal:10,backgroundColor:p.colors.lightGrey,borderRadius:5,marginBottom:5},removeButton:{padding:5,marginRight:5},contentContainer:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},time:{fontSize:p.fontSizes.small,fontWeight:"bold",flex:1},serviceContainer:{flex:2,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},reason:{fontSize:p.fontSizes.small,color:p.colors.textSecondary,marginRight:8},seeMoreButton:{padding:4,borderRadius:4,backgroundColor:p.colors.primary},seeMoreText:{color:p.colors.whiteText,fontSize:p.fontSizes.small},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:p.colors.background,borderRadius:8,padding:16,width:"80%",maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text},modalTime:{fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:12},serviceItem:{fontSize:p.fontSizes.medium,color:p.colors.text,paddingVertical:4}}),s.default.create({card:{backgroundColor:p.colors.surface,borderRadius:8,padding:12,marginBottom:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:2},cardContent:{flex:1},timeContainer:{flexDirection:"row",alignItems:"center",marginBottom:4},timeText:{marginLeft:8,fontSize:p.fontSizes.medium,color:p.colors.text,fontWeight:"500"},clientName:{fontSize:p.fontSizes.small,color:p.colors.textSecondary},editButton:{padding:8}});const Gt=s.default.create({container:{},fullWidth:{},label:{fontSize:p.fontSizes.smallMedium,color:p.colors.placeholder,marginBottom:4},timeButton:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:p.colors.border,borderRadius:8,padding:12,minHeight:48},compactTimeButton:{width:150},timeText:{fontSize:p.fontSizes.medium,color:p.colors.text}}),qt=({label:e,value:t,onChange:o,fullWidth:i=!1,containerStyle:s})=>{const[l,d]=a.useState(!1);{const a={padding:12,borderWidth:1,borderColor:p.colors.border,borderRadius:8,backgroundColor:p.colors.whiteText,fontSize:p.fontSizes.medium,width:i?"":"90%"};return(0,C.jsxs)(n.default,{style:[Gt.container,i&&Gt.fullWidth,s],children:[e&&(0,C.jsx)(r.default,{style:Gt.label,children:e}),(0,C.jsx)("input",{type:"time",value:t.toTimeString().slice(0,5),onChange:e=>o(new Date("2000-01-01T".concat(e.target.value))),style:a})]})}},{width:Yt,height:Jt}=m.default.get("window"),{width:$t}=(s.default.create({modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:p.colors.background,padding:22,justifyContent:"center",alignItems:"center",borderRadius:17,maxHeight:.7*Jt,zIndex:1},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:15},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold"},closeButton:{padding:5},switchContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginVertical:10,zIndex:1},buttonContainer:{flexDirection:"row",justifyContent:"space-between",width:"100%",marginTop:20,gap:10},availabilityButton:{padding:10,borderRadius:5,flex:1,alignItems:"center"},availableButton:{backgroundColor:p.colors.primary},unavailableButton:{backgroundColor:p.colors.danger},disabledButton:{opacity:.5},availabilityButtonText:{color:p.colors.whiteText,fontWeight:"bold"},timePickerContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginVertical:10,zIndex:1},webTimePicker:{padding:5,borderWidth:1,borderColor:p.colors.border,borderRadius:5},unavailableTimesContainer:{marginTop:20,maxHeight:200},sectionTitle:{fontSize:p.fontSizes.medium,fontWeight:"bold",marginBottom:10},inputWrapper:{position:"relative",width:"100%",marginBottom:15,zIndex:2},inputLabel:{fontSize:p.fontSizes.small,color:p.colors.text,marginBottom:5,fontWeight:"500"},input:{borderColor:p.colors.border,borderWidth:1,borderRadius:5,padding:10,backgroundColor:p.colors.inputBackground},customDropdown:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:40},dropdownContainer:{position:"absolute",top:"95%",left:0,right:0,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:5,marginTop:2,maxHeight:160,zIndex:1e3,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},dropdownScroll:{maxHeight:160},dropdownItem:{padding:10,borderBottomWidth:1,borderBottomColor:p.colors.border,height:40},dropdownText:{color:p.colors.text,fontSize:p.fontSizes.medium},selectedOption:{color:p.colors.primary,fontWeight:"bold"},inputError:{borderColor:p.colors.danger},dropdownItemContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:10},toggleContainer:{flexDirection:"row",marginBottom:16,borderRadius:8,backgroundColor:p.colors.surface,padding:4},toggleButton:{flex:1,paddingVertical:8,paddingHorizontal:16,borderRadius:6,borderColor:p.colors.border,borderWidth:1,margin:2},activeToggle:{backgroundColor:p.colors.primary},toggleText:{textAlign:"center",color:p.colors.text,fontSize:p.fontSizes.small},activeToggleText:{color:p.colors.whiteText,fontWeight:"500"},bookingsList:{maxHeight:300},emptyState:{alignItems:"center",justifyContent:"center",padding:32},emptyStateText:{marginTop:16,color:p.colors.textSecondary,fontSize:p.fontSizes.medium,textAlign:"center"},contentScrollView:{flex:1,width:"100%"},availabilityControls:{marginTop:20,paddingTop:20,borderTopWidth:1,borderTopColor:p.colors.border,width:"100%"},bookingsContainer:{maxHeight:200,marginBottom:16},unavailableTimesWrapper:{maxHeight:200,marginBottom:16},bookingsWrapper:{marginBottom:16},selectedDatesText:{marginVertical:8,fontSize:p.fontSizes.medium,color:p.colors.text}}),m.default.get("window")),Kt="All Days",Zt=[Kt,"Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Qt=s.default.create({modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:p.colors.background,padding:22,borderRadius:17,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},closeButton:{padding:8},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",marginBottom:15,fontFamily:p.fonts.header.fontFamily},settingContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginVertical:10},sectionTitle:{fontSize:p.fontSizes.medium,fontWeight:"bold",marginTop:20,marginBottom:10,fontFamily:p.fonts.header.fontFamily},dayContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginVertical:5},buttonContainer:{flexDirection:"row",justifyContent:"space-between",gap:12,marginTop:20},button:{flex:1,padding:12,borderRadius:8,alignItems:"center"},availableButton:{backgroundColor:p.colors.primary},unavailableButton:{backgroundColor:p.colors.error},buttonText:{color:p.colors.whiteText,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},tabContainer:{flexDirection:"row",marginBottom:15},tab:{paddingHorizontal:15,paddingVertical:10,borderBottomWidth:2,borderBottomColor:"transparent"},selectedTab:{borderBottomColor:p.colors.primary},tabText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},selectedTabText:{color:p.colors.primary,fontFamily:p.fonts.regular.fontFamily},daySettingsContainer:{marginBottom:15},settingRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},webTimePicker:{padding:5,borderWidth:1,borderColor:p.colors.border,borderRadius:5},webDatePicker:{padding:5,borderWidth:1,borderColor:p.colors.border,borderRadius:5},inputWrapper:{position:"relative",width:"100%",marginBottom:15,zIndex:2},inputLabel:{marginBottom:5,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},input:{borderWidth:1,borderColor:p.colors.border,borderRadius:5,padding:10,backgroundColor:p.colors.surface},customDropdown:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},dropdownContainer:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:5,maxHeight:200,zIndex:1e3},dropdownScroll:{maxHeight:200},dropdownItem:{padding:10,borderBottomWidth:1,borderBottomColor:p.colors.border},dropdownItemContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},dropdownText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},selectedOption:{color:p.colors.primary,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},inputError:{borderColor:p.colors.danger},disabledButton:{opacity:.5},disabledText:{color:p.colors.placeHolderText,fontFamily:p.fonts.regular.fontFamily},enabledText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily}}),Xt=({isVisible:e,onClose:t,onSave:o,defaultSettings:s})=>{const{screenWidth:l}=(0,a.useContext)(v),[d,c]=(0,a.useState)([]),[u,f]=(0,a.useState)(s||{Monday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null},Tuesday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null},Wednesday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null},Thursday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null},Friday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null},Saturday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null},Sunday:{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null}}),[m,h]=(0,a.useState)({visible:!1,type:"",value:""}),[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=e=>{const t=document.getElementById("dropdown-button"),o=document.getElementById("dropdown-container");w&&o&&!o.contains(e.target)&&!t.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[w]);const T=e=>{if(console.log("Selected days:",d),0===d.length)return;const t=d.includes(Kt)?Zt.filter((e=>e!==Kt)):d;console.log("Days to update:",t),console.log("Current settings:",u),console.log("Making available:",e);const a=Object.assign({},u);t.forEach((t=>{console.log("Updating ".concat(t)),a[t]=Object.assign({},u[t],{isUnavailable:!e,startTime:u[d[0]].startTime,endTime:u[d[0]].endTime,isAllDay:u[d[0]].isAllDay,endDate:u[d[0]].endDate})})),console.log("New settings:",a),f(a),o(a),j(!e)},k=(e,t,o)=>(0,C.jsx)("input",{type:"time",value:t,onChange:e=>o(e.target.value),style:Qt.webTimePicker});(0,a.useEffect)((()=>{if(d.length>0){const e=((e,t)=>!(!e||0===e.length)&&e.some((e=>t[e]?.isUnavailable)))(d,u);j(e)}else j(!1)}),[d,u]);return(0,C.jsx)(H.default,{visible:e,animationType:"slide",transparent:!0,onRequestClose:t,children:(0,C.jsx)(n.default,{style:Qt.modalContainer,children:(0,C.jsxs)(n.default,{style:[Qt.modalContent,{width:l<600?"90%":600}],children:[(0,C.jsxs)(n.default,{style:Qt.modalHeader,children:[(0,C.jsx)(r.default,{style:Qt.modalTitle,children:"Default Settings"}),(0,C.jsx)(i.default,{onPress:t,style:Qt.closeButton,children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsxs)(n.default,{style:Qt.inputWrapper,children:[(0,C.jsx)(r.default,{style:Qt.inputLabel,children:"Day(s) *"}),(0,C.jsxs)(i.default,{id:"dropdown-button",style:[Qt.input,Qt.customDropdown,0===d.length&&Qt.inputError],onPress:()=>S(!w),children:[(0,C.jsx)(r.default,{style:{color:d.length>0?p.colors.text:p.colors.placeHolderText},children:0===d.length?"Select Days":d.includes(Kt)?"All Days":d.length>2?"".concat(d.length," Days Selected"):d.join(", ")}),(0,C.jsx)(g.default,{name:w?"chevron-up":"chevron-down",size:24,color:p.colors.text})]}),w&&(0,C.jsx)(n.default,{id:"dropdown-container",style:Qt.dropdownContainer,children:(0,C.jsx)(W.default,{style:Qt.dropdownScroll,children:Zt.map((e=>(0,C.jsx)(i.default,{style:Qt.dropdownItem,onPress:()=>(e=>{c((t=>{if(e===Kt)return t.includes(Kt)?[]:Zt.filter((e=>e!==Kt));const o=t.filter((e=>e!==Kt));return o.includes(e)?o.filter((t=>t!==e)):o.length+1===Zt.length-1?Zt.filter((e=>e!==Kt)):[...o,e]}))})(e),children:(0,C.jsxs)(n.default,{style:Qt.dropdownItemContent,children:[(0,C.jsx)(r.default,{style:[Qt.dropdownText,d.includes(e)&&Qt.selectedOption],children:e}),d.includes(e)&&(0,C.jsx)(g.default,{name:"check",size:20,color:p.colors.primary})]})},e)))})})]}),(()=>{const e=u[d[0]]||{isAllDay:!1,startTime:"09:00",endTime:"17:00",endDate:null};return(0,C.jsxs)(n.default,{style:Qt.daySettingsContainer,children:[(0,C.jsxs)(n.default,{style:Qt.settingRow,children:[(0,C.jsx)(r.default,{style:0===d.length?Qt.disabledText:Qt.enabledText,children:"All Day:"}),(0,C.jsx)(Ht.default,{value:e.isAllDay,onValueChange:e=>{if(0===d.length)return;const t=Object.assign({},u);d.forEach((o=>{t[o]=Object.assign({},t[o],{isAllDay:e})})),f(t)},disabled:0===d.length})]}),!e.isAllDay&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(n.default,{style:Qt.settingRow,children:[(0,C.jsx)(r.default,{style:0===d.length?Qt.disabledText:Qt.enabledText,children:"Start Time:"}),(0,C.jsx)(n.default,{pointerEvents:0===d.length?"none":"auto",children:k(0,e.startTime,(e=>{if(0===d.length)return;const t=Object.assign({},u);d.forEach((o=>{t[o]=Object.assign({},t[o],{startTime:e})})),f(t)}))})]}),(0,C.jsxs)(n.default,{style:Qt.settingRow,children:[(0,C.jsx)(r.default,{style:0===d.length?Qt.disabledText:Qt.enabledText,children:"End Time:"}),(0,C.jsx)(n.default,{pointerEvents:0===d.length?"none":"auto",children:k(0,e.endTime,(e=>{if(0===d.length)return;const t=Object.assign({},u);d.forEach((o=>{t[o]=Object.assign({},t[o],{endTime:e})})),f(t)}))})]})]}),(0,C.jsxs)(n.default,{style:Qt.settingRow,children:[(0,C.jsx)(r.default,{style:0===d.length?Qt.disabledText:Qt.enabledText,children:"End Date:"}),(0,C.jsx)(n.default,{pointerEvents:0===d.length?"none":"auto",children:(0,C.jsx)(Ze,{value:e.endDate,onChange:e=>{if(0===d.length)return;const t=Object.assign({},u);d.forEach((o=>{t[o]=Object.assign({},t[o],{endDate:e})})),f(t)},placeholder:"Select End Date",disabled:0===d.length})})]})]})})(),(0,C.jsxs)(n.default,{style:Qt.buttonContainer,children:[(0,C.jsx)(i.default,{style:[Qt.button,Qt.availableButton],onPress:()=>T(!0),disabled:0===d.length,children:(0,C.jsx)(r.default,{style:Qt.buttonText,children:"Mark Available"})}),(0,C.jsx)(i.default,{style:[Qt.button,Qt.unavailableButton],onPress:()=>T(!1),disabled:0===d.length,children:(0,C.jsx)(r.default,{style:Qt.buttonText,children:"Mark Unavailable"})})]})]})})})};var eo=o(15009);const to=s.default.create({overlay:{width:"100%"},container:{backgroundColor:p.colors.surface,borderTopLeftRadius:20,borderTopRightRadius:20,padding:16,paddingBottom:16,maxWidth:800,width:"100%",alignSelf:"center",shadowColor:"#000",shadowOffset:{width:0,height:-2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,overflow:"hidden"},handleContainer:{width:"100%",height:24,alignItems:"center",justifyContent:"center",marginBottom:4},handle:{width:40,height:4,backgroundColor:p.colors.border,borderRadius:2},header:{flexDirection:"row",alignItems:"center",marginBottom:24,paddingRight:8},headerMinimized:{marginBottom:0,justifyContent:"space-between"},headerCenter:{flex:1,alignItems:"center"},closeButton:{width:60,height:40,marginBottom:30,justifyContent:"center",alignItems:"center"},dateText:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},statusText:{fontSize:p.fontSizes.medium,marginTop:4,fontFamily:p.fonts.regular.fontFamily},actionButton:{width:60,alignItems:"center"},actionButtonText:{fontSize:p.fontSizes.small,color:p.colors.primary,marginTop:4,textAlign:"center",lineHeight:16,fontFamily:p.fonts.regular.fontFamily},content:{gap:24},timeToggleContainer:{},customToggle:{flexDirection:"row",backgroundColor:p.colors.background,borderRadius:8,padding:4,gap:8},toggleButton:{flex:1,paddingVertical:12,paddingHorizontal:16,borderRadius:6,alignItems:"center",borderWidth:1,borderColor:p.colors.border},toggleButtonActive:{backgroundColor:p.colors.primary,borderColor:p.colors.primary},toggleButtonInactive:{backgroundColor:"transparent"},toggleButtonText:{color:p.colors.text,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},toggleButtonTextActive:{color:p.colors.whiteText,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},timeSection:{flexDirection:"row",gap:16},timeContainer:{flex:1},label:{fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:8,fontFamily:p.fonts.regular.fontFamily},serviceSection:{position:"relative",zIndex:1},serviceSelector:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:p.colors.border,borderRadius:8,padding:12,backgroundColor:p.colors.background},serviceSelectorText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},dropdownContainer:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:8,maxHeight:200,zIndex:1e3},dropdownScroll:{maxHeight:200},dropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},dropdownItemContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},dropdownText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},selectedOption:{color:p.colors.primary,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},buttonContainer:{flexDirection:"row",gap:12,marginTop:24},button:{flex:1,padding:12,borderRadius:8,alignItems:"center"},availableButton:{backgroundColor:p.colors.primary},unavailableButton:{backgroundColor:p.colors.error},buttonText:{color:p.colors.whiteText,fontSize:p.fontSizes.medium,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},serviceSelectorError:{borderColor:p.colors.error,borderWidth:1},errorText:{color:p.colors.error,fontSize:p.fontSizes.small,marginTop:4,fontFamily:p.fonts.regular.fontFamily}}),oo=({selectedDates:e,currentAvailability:t,onClose:o,onViewUnavailableTimes:s,onSave:l})=>{const[d,c]=(0,a.useState)(new Date),[u,f]=(0,a.useState)(new Date),[m,h]=(0,a.useState)([]),[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)(null),[v,T]=(0,a.useState)(!1),k=(0,a.useRef)(new eo.default.Value(1)).current,B=(0,a.useRef)(new eo.default.Value(1)).current,I=()=>{if(!e||0===e.length)return"Unknown";const o=e[0],a=t[o];return a?a.isAvailable?a.unavailableTimes?.length>0?"Partially Available":"Available":"Unavailable":"Available"},P=e=>{0!==m.length?(S(null),l({startTime:b?"00:00":(0,Ut.format)(d,"HH:mm"),endTime:b?"24:00":(0,Ut.format)(u,"HH:mm"),services:m,isAvailable:e,isAllDay:b})):S("Please select at least one service type")},z=k.interpolate({inputRange:[0,1],outputRange:[80,600]});return(0,C.jsx)(n.default,{style:to.overlay,children:(0,C.jsxs)(eo.default.View,{style:[to.container,{height:z}],children:[(0,C.jsx)(i.default,{onPress:()=>{const e=v?1:0;eo.default.parallel([eo.default.timing(k,{toValue:e,duration:300,useNativeDriver:!1}),eo.default.timing(B,{toValue:e,duration:200,useNativeDriver:!1})]).start(),T(!v)},style:to.handleContainer,children:(0,C.jsx)(n.default,{style:to.handle})}),(0,C.jsxs)(n.default,{style:[to.header,v&&to.headerMinimized],children:[(0,C.jsx)(i.default,{onPress:o,style:to.closeButton,children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})}),(0,C.jsxs)(n.default,{style:to.headerCenter,children:[(0,C.jsx)(r.default,{style:to.dateText,children:e&&0!==e.length?1===e.length?(0,Ut.format)((0,Vt.parse)(e[0],"yyyy-MM-dd",new Date),"MMM dd, yyyy"):"".concat((0,Ut.format)((0,Vt.parse)(e[0],"yyyy-MM-dd",new Date),"MMM dd")," - ").concat((0,Ut.format)((0,Vt.parse)(e[e.length-1],"yyyy-MM-dd",new Date),"MMM dd, yyyy")):""}),(0,C.jsx)(r.default,{style:[to.statusText,{color:(()=>{switch(I()){case"Available":return p.colors.success;case"Partially Available":return p.colors.warning;case"Unavailable":return p.colors.error;default:return p.colors.text}})()}],children:I()})]}),(0,C.jsx)(eo.default.View,{style:{opacity:B},children:(0,C.jsxs)(i.default,{style:to.actionButton,onPress:s,children:[(0,C.jsx)(g.default,{name:"clock-outline",size:24,color:p.colors.primary}),(0,C.jsx)(r.default,{style:to.actionButtonText,children:"Unavailable\nTimes"})]})})]}),(0,C.jsxs)(eo.default.View,{style:[to.content,{opacity:B}],children:[(0,C.jsxs)(n.default,{style:to.serviceSection,children:[(0,C.jsx)(r.default,{style:to.label,children:"Service Type(s)"}),(0,C.jsxs)(i.default,{style:[to.serviceSelector,w&&m.length<=0&&to.serviceSelectorError],onPress:()=>x(!y),children:[(0,C.jsx)(r.default,{style:to.serviceSelectorText,children:m.length>0?m.includes($)?"All Services":m.length>1?"".concat(m.length," services selected"):m[0]:"Select service type(s)"}),(0,C.jsx)(g.default,{name:y?"chevron-up":"chevron-down",size:24,color:p.colors.primary})]}),w&&m.length<=0&&!y&&(0,C.jsx)(r.default,{style:to.errorText,children:w}),y&&(0,C.jsx)(n.default,{style:to.dropdownContainer,children:(0,C.jsx)(W.default,{style:to.dropdownScroll,children:K.map((e=>(0,C.jsx)(i.default,{style:to.dropdownItem,onPress:()=>{h(e===$?m.includes($)?[]:[$]:t=>{const o=t.filter((e=>e!==$));return t.includes(e)?o.filter((t=>t!==e)):[...o,e]})},children:(0,C.jsxs)(n.default,{style:to.dropdownItemContent,children:[(0,C.jsx)(r.default,{style:[to.dropdownText,m.includes(e)&&to.selectedOption],children:e}),m.includes(e)&&(0,C.jsx)(g.default,{name:"check",size:20,color:p.colors.primary})]})},e)))})})]}),(0,C.jsxs)(n.default,{style:to.timeToggleContainer,children:[(0,C.jsx)(r.default,{style:to.label,children:"Time Selection"}),(0,C.jsxs)(n.default,{style:to.customToggle,children:[(0,C.jsx)(i.default,{style:[to.toggleButton,b?to.toggleButtonActive:to.toggleButtonInactive],onPress:()=>j(!0),children:(0,C.jsx)(r.default,{style:[to.toggleButtonText,b&&to.toggleButtonTextActive],children:"All Day"})}),(0,C.jsx)(i.default,{style:[to.toggleButton,b?to.toggleButtonInactive:to.toggleButtonActive],onPress:()=>j(!1),children:(0,C.jsx)(r.default,{style:[to.toggleButtonText,!b&&to.toggleButtonTextActive],children:"Custom Hours"})})]})]}),!b&&(0,C.jsxs)(n.default,{style:to.timeSection,children:[(0,C.jsxs)(n.default,{style:to.timeContainer,children:[(0,C.jsx)(r.default,{style:to.label,children:"Start Time"}),(0,C.jsx)(qt,{value:d,onChange:c,fullWidth:!0})]}),(0,C.jsxs)(n.default,{style:to.timeContainer,children:[(0,C.jsx)(r.default,{style:to.label,children:"End Time"}),(0,C.jsx)(qt,{value:u,onChange:f,fullWidth:!0})]})]}),(0,C.jsxs)(n.default,{style:to.buttonContainer,children:[(0,C.jsx)(i.default,{style:[to.button,to.availableButton],onPress:()=>P(!0),children:(0,C.jsx)(r.default,{style:to.buttonText,children:"Mark Available"})}),(0,C.jsx)(i.default,{style:[to.button,to.unavailableButton],onPress:()=>P(!1),children:(0,C.jsx)(r.default,{style:to.buttonText,children:"Mark Unavailable"})})]})]})]})})},ao=s.default.create({modalContainer:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:p.colors.surface,borderRadius:20,padding:20,width:"90%",maxWidth:500,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},closeButton:{padding:5},timesList:{maxHeight:"90%"},timeSlotContainer:{marginBottom:15},dateHeader:{marginBottom:8},dateText:{fontSize:p.fontSizes.medium,fontWeight:"bold",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},timeSlotContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:p.colors.background,padding:12,borderRadius:8},bookingContent:{borderWidth:1,borderColor:p.colors.border,backgroundColor:p.colors.surface,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},timeAndReason:{flex:1},timeText:{fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:4,fontFamily:p.fonts.regular.fontFamily},reasonText:{fontSize:p.fontSizes.medium,color:p.colors.textSecondary,fontFamily:p.fonts.regular.fontFamily},removeButton:{padding:5,marginLeft:10},bookingButton:{padding:5,marginLeft:10,backgroundColor:p.colors.surface,borderRadius:20,width:34,height:34,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:1,elevation:2},emptyText:{textAlign:"center",color:p.colors.textSecondary,fontSize:p.fontSizes.medium,marginTop:20,fontFamily:p.fonts.regular.fontFamily}}),no=({visible:e,onClose:t,selectedDates:o,currentAvailability:a,onRemoveTimeSlot:s,bookings:l})=>{const d=(0,A.useNavigation)(),c=e=>{const[t,o]=e.split(":"),a=new Date;return a.setHours(parseInt(t),parseInt(o)),(0,Ut.format)(a,"h:mm a")},u=()=>{if(!o||0===o.length)return[];const e=[],t=new Set;return o.forEach((o=>{const n=l[o]||[],r=a[o];n.forEach((a=>{const n="".concat(o,"-").concat(a.startTime,"-").concat(a.endTime);t.has(n)||(e.push({date:o,startTime:a.startTime,endTime:a.endTime,reason:"".concat(a.service_type,"\nBooked with ").concat(a.client_name),isBooking:!0,clientId:a.clientId}),t.add(n))})),r?.unavailableTimes&&r.unavailableTimes.filter((e=>!e.clientId)).forEach((a=>{const n="".concat(o,"-").concat(a.startTime,"-").concat(a.endTime);t.has(n)||(e.push({date:o,startTime:a.startTime,endTime:a.endTime,reason:a.reason,isBooking:!1}),t.add(n))}))})),e.sort(((e,t)=>e.date!==t.date?e.date.localeCompare(t.date):e.startTime.localeCompare(t.startTime)))},f=e=>e.isBooking?(0,C.jsx)(i.default,{style:ao.bookingButton,onPress:()=>(async e=>{t(),await D(d,"BookingDetails","AvailabilitySettings",{bookingId:e})})(e.clientId),children:(0,C.jsx)(g.default,{name:"arrow-right",size:24,color:p.colors.primary})}):(0,C.jsx)(i.default,{style:ao.removeButton,onPress:()=>s(e.date,e),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.error})});return(0,C.jsx)(H.default,{visible:e,animationType:"slide",transparent:!0,onRequestClose:t,children:(0,C.jsx)(n.default,{style:ao.modalContainer,children:(0,C.jsxs)(n.default,{style:ao.modalContent,children:[(0,C.jsxs)(n.default,{style:ao.modalHeader,children:[(0,C.jsx)(r.default,{style:ao.modalTitle,children:"Unavailable Times"}),(0,C.jsx)(i.default,{onPress:t,style:ao.closeButton,children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsxs)(W.default,{style:ao.timesList,children:[u().map(((e,t)=>((e,t)=>{const o=(0,Ut.format)((0,Vt.parse)(e.date,"yyyy-MM-dd",new Date),"MMM d, yyyy"),a=c(e.startTime),i=c(e.endTime);return(0,C.jsxs)(n.default,{style:ao.timeSlotContainer,children:[(0,C.jsx)(n.default,{style:ao.dateHeader,children:(0,C.jsx)(r.default,{style:ao.dateText,children:o})}),(0,C.jsxs)(n.default,{style:[ao.timeSlotContent,e.isBooking&&ao.bookingContent],children:[(0,C.jsxs)(n.default,{style:ao.timeAndReason,children:[(0,C.jsxs)(r.default,{style:ao.timeText,children:[a," - ",i]}),(0,C.jsx)(r.default,{style:ao.reasonText,children:e.reason})]}),f(e)]})]},t)})(e,t))),0===u().length&&(0,C.jsx)(r.default,{style:ao.emptyText,children:"No unavailable times for selected date(s)"})]})]})})})},ro=s.default.create({mainContainer:{flex:1,backgroundColor:p.colors.background},container:{flex:1},scrollView:{flex:1},scrollContent:{flexGrow:1},bottomSheetOverlay:{position:"absolute",bottom:0,left:0,right:0},centeredContainer:{maxWidth:1e3,width:"100%",alignSelf:"center",flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16},title:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},addButton:{position:"absolute",right:20,bottom:20,width:56,height:56,borderRadius:28,backgroundColor:p.colors.primary,justifyContent:"center",alignItems:"center",elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},defaultSettingsButton:{flexDirection:"row",alignItems:"center",padding:8},defaultSettingsText:{marginRight:8,fontSize:p.fontSizes.medium,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},colorKeyContainer:{marginTop:20,padding:10,backgroundColor:"white",borderRadius:5,elevation:2},colorKeyTitle:{fontSize:16,fontWeight:"bold",marginBottom:10,fontFamily:p.fonts.header.fontFamily},colorKeyItem:{flexDirection:"row",alignItems:"center",marginVertical:5},colorBox:{width:20,height:20,borderRadius:3,marginRight:10},colorKeyText:{fontSize:14,color:"black",fontFamily:p.fonts.regular.fontFamily},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:10,fontSize:p.fontSizes.medium,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:p.fontSizes.medium,color:p.colors.error,textAlign:"center",marginBottom:20,fontFamily:p.fonts.regular.fontFamily},retryButton:{backgroundColor:p.colors.primary,padding:10,borderRadius:5},retryButtonText:{color:p.colors.whiteText,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily}}),io=()=>{const[e,t]=(0,a.useState)({}),[o,s]=(0,a.useState)([]),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[f,m]=(0,a.useState)("available"),[h,y]=(0,a.useState)({}),[x,b]=(0,a.useState)({}),[j,w]=(0,a.useState)({Monday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null},Tuesday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null},Wednesday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null},Thursday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null},Friday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null},Saturday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null},Sunday:{isAllDay:!1,isUnavailable:!1,startTime:"09:00",endTime:"17:00",endDate:null}}),[S,v]=(0,a.useState)(!0),[T,k]=(0,a.useState)(null),[B,I]=(0,a.useState)(!1),[P,z]=(0,a.useState)(!1),D=(0,A.useNavigation)();(0,a.useEffect)((()=>{(async()=>{try{v(!0);const e=await new Promise((e=>{setTimeout((()=>{e({availableDates:{"2025-02-01":{startTime:"09:00",endTime:"17:00"},"2025-02-02":{startTime:"10:00",endTime:"18:00"},"2025-02-03":{startTime:"09:00",endTime:"17:00"}},unavailableDates:{"2025-02-04":{startTime:"00:00",endTime:"24:00"},"2025-02-05":{startTime:"10:00",endTime:"18:00"}},bookings:{"2025-02-06":[{id:"bk1",startTime:"14:00",endTime:"16:00",client_name:"Charlie",service_type:"Dog Walking"},{id:"bk2",startTime:"16:00",endTime:"18:00",client_name:"Bob",service_type:"Dog Walking"},{id:"bk3",startTime:"18:00",endTime:"20:00",client_name:"Nick",service_type:"Pet Boarding"},{id:"bk4",startTime:"20:00",endTime:"22:00",client_name:"Alfred",service_type:"Drop-In Visits (30 min)"}],"2025-02-07":[{id:"bk5",startTime:"10:00",endTime:"12:00",client_name:"Uhtred",service_type:"Dog Walking"}]}})}),1e3)}));R(e.availableDates,e.unavailableDates,e.bookings);const t={};Object.keys(e.availableDates).forEach((e=>{t[e]={isAvailable:!0,unavailableTimes:[]}})),Object.keys(e.unavailableDates).forEach((o=>{t[o]={isAvailable:!1,unavailableTimes:[{startTime:e.unavailableDates[o].startTime,endTime:e.unavailableDates[o].endTime,reason:" Personal Time"}]}})),Object.keys(e.bookings).forEach((o=>{t[o]||(t[o]={isAvailable:!0,unavailableTimes:[]}),t[o].unavailableTimes=[...t[o].unavailableTimes,...e.bookings[o].map((e=>({startTime:e.startTime,endTime:e.endTime,reason:" Booked with ".concat(e.client_name),clientId:e.clientId})))]})),y(t),b(e.bookings)}catch(e){k("Failed to load availability data"),console.error(e)}finally{v(!1)}})()}),[]);const R=(e,o,a)=>{const n={};Object.entries(o).forEach((([e,t])=>{const o="00:00"===t.startTime&&"24:00"===t.endTime,a=!!(r=t.reason)&&r.replace("Unavailable for: ","").split(", ").length===K.length-1;var r;n[e]={customStyles:{container:{backgroundColor:o&&a?"lightgrey":p.colors.calendarColor,width:35,height:35,borderRadius:17.5,alignItems:"center",justifyContent:"center"},text:{color:"white"}}}})),Object.entries(e).forEach((([e,t])=>{n[e]||(n[e]={customStyles:{container:{backgroundColor:"white",width:35,height:35,borderRadius:17.5,alignItems:"center",justifyContent:"center"},text:{color:"black"}}})})),Object.entries(a).forEach((([e,t])=>{const o=t.some((e=>"00:00"===e.startTime&&"24:00"===e.endTime));n[e]={marked:!0,dotColor:p.colors.primary,customStyles:{container:{backgroundColor:o?p.colors.primary:p.colors.calendarColorYellowBrown,width:35,height:35,borderRadius:17.5,alignItems:"center",justifyContent:"center"},text:{color:"white"}}}})),t(n)},F=g.default;return S?(0,C.jsx)(Mt.SafeAreaView,{style:ro.container,children:(0,C.jsxs)(n.default,{style:ro.loadingContainer,children:[(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary}),(0,C.jsx)(r.default,{style:ro.loadingText,children:"Loading availability..."})]})}):T?(0,C.jsx)(Mt.SafeAreaView,{style:ro.container,children:(0,C.jsxs)(n.default,{style:ro.errorContainer,children:[(0,C.jsx)(r.default,{style:ro.errorText,children:T}),(0,C.jsx)(i.default,{style:ro.retryButton,onPress:()=>{k(null),loadAvailabilityData()},children:(0,C.jsx)(r.default,{style:ro.retryButtonText,children:"Retry"})})]})}):(0,C.jsxs)(n.default,{style:ro.mainContainer,children:[(0,C.jsx)(Mt.SafeAreaView,{style:ro.container,children:(0,C.jsx)(W.default,{style:ro.scrollView,contentContainerStyle:ro.scrollContent,children:(0,C.jsxs)(n.default,{style:ro.centeredContainer,children:[(0,C.jsxs)(n.default,{style:ro.header,children:[(0,C.jsx)(r.default,{style:ro.title,children:"Availability"}),(0,C.jsxs)(i.default,{style:ro.defaultSettingsButton,onPress:()=>u(!0),children:[(0,C.jsx)(r.default,{style:ro.defaultSettingsText,children:"Default Settings"}),(0,C.jsx)(F,{name:"cog",size:24,color:p.colors.text})]})]}),(0,C.jsx)(Lt.Calendar,{markedDates:Object.assign({},e,o.reduce(((t,a)=>Object.assign({},t,{[a]:Object.assign({},e[a],{selected:!0,customStyles:{container:Object.assign({backgroundColor:p.colors.primary,width:1===o.length?35:"100%",height:35,borderRadius:1===o.length?17.5:0},o.length>1&&Object.assign({borderRadius:0},a===o[0]&&{borderTopLeftRadius:17.5,borderBottomLeftRadius:17.5},a===o[o.length-1]&&{borderTopRightRadius:17.5,borderBottomRightRadius:17.5})),text:{color:"white",fontWeight:"bold"}}})})),{})),markingType:"custom",theme:{"stylesheet.calendar.main":{week:{marginVertical:0,flexDirection:"row",justifyContent:"space-around"},dayContainer:{flex:1,alignItems:"center",padding:0,margin:0}},"stylesheet.calendar.header":{header:{paddingLeft:10,paddingRight:10,paddingBottom:20,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}},style:{paddingBottom:20,paddingLeft:10,paddingRight:10},onDayPress:e=>{const{dateString:t}=e,a=new Date(t);if(a.setDate(a.getDate()+1),a.setHours(0,0,0,0),0===o.length)s([t]),I(!0);else if(o.length>=1){const e=new Date(o[0]);if(e.setDate(e.getDate()+1),e.setHours(0,0,0,0),a.getTime()===e.getTime())return;if(a<e)return s([t]),void I(!0);const n=[],r=new Date(e),i=new Date(a);for(;r<=i;)n.push((0,Ut.format)(r,"yyyy-MM-dd")),r.setDate(r.getDate()+1);s(n)}},renderArrow:e=>{let t;return t="left"===e?"chevron-left":"chevron-right",(0,C.jsx)(F,{name:t,size:24,color:p.colors.primary})}}),(0,C.jsxs)(n.default,{style:ro.colorKeyContainer,children:[(0,C.jsx)(r.default,{style:ro.colorKeyTitle,children:"Color Code Key:"}),(0,C.jsxs)(n.default,{style:ro.colorKeyItem,children:[(0,C.jsx)(n.default,{style:[ro.colorBox,{backgroundColor:"lightgrey"}]}),(0,C.jsx)(r.default,{style:ro.colorKeyText,children:"Unavailable All Day"})]}),(0,C.jsxs)(n.default,{style:ro.colorKeyItem,children:[(0,C.jsx)(n.default,{style:[ro.colorBox,{backgroundColor:p.colors.calendarColor}]}),(0,C.jsx)(r.default,{style:ro.colorKeyText,children:"Partially Unavailable"})]}),(0,C.jsxs)(n.default,{style:ro.colorKeyItem,children:[(0,C.jsx)(n.default,{style:[ro.colorBox,{backgroundColor:p.colors.calendarColorYellowBrown}]}),(0,C.jsx)(r.default,{style:ro.colorKeyText,children:"Booked Dates"})]})]})]})})}),B&&(0,C.jsx)(n.default,{style:ro.bottomSheetOverlay,children:(0,C.jsx)(oo,{selectedDates:o,currentAvailability:h,onClose:()=>{I(!1),s([])},onViewUnavailableTimes:()=>{z(!0)},onSave:a=>{const{startTime:n,endTime:r,services:i,isAvailable:l}=a;(o=>{const a=Object.assign({},e),n=Object.assign({},h);o.dates.forEach((e=>{const t=o.serviceTypes.includes($)||o.serviceTypes.length===K.length-1;o.isAvailable?(n[e]={isAvailable:!0,unavailableTimes:[]},a[e]={customStyles:{container:{backgroundColor:"white",width:35,height:35,borderRadius:17.5,alignItems:"center",justifyContent:"center"},text:{color:"black"}}}):(n[e]={isAvailable:!1,unavailableTimes:[{startTime:o.startTime,endTime:o.endTime,reason:o.reason}]},a[e]={customStyles:{container:{backgroundColor:o.isAllDay&&t?"lightgrey":p.colors.calendarColor,width:35,height:35,borderRadius:17.5,alignItems:"center",justifyContent:"center"},text:{color:"white"}}})})),t(a),y(n),d(!1),s([])})({dates:o,isAllDay:"00:00"===n&&"24:00"===r,startTime:n,endTime:r,isUnavailable:!l,serviceTypes:i,reason:"Unavailable for: ".concat(i.join(", "))}),I(!1),s([])},onViewBookings:()=>{o.length>0&&D.navigate("MyBookings",{selectedDates:o,initialTab:"Upcoming"})}})}),(0,C.jsx)(no,{visible:P,onClose:()=>z(!1),selectedDates:o,currentAvailability:h,onRemoveTimeSlot:(o,a,n,r)=>{if(n&&r){y((e=>Object.assign({},e,n)));const o=Object.assign({},e);r.forEach((e=>{0===n[e]?.unavailableTimes.length&&(o[e]={customStyles:{container:{backgroundColor:"white"},text:{color:"black"}}})})),t(o)}else y((n=>{const r=n[o];if(!r)return n;const i=r.unavailableTimes.filter((e=>!(e.startTime===a.startTime&&e.endTime===a.endTime))),s=Object.assign({},e);return 0===i.length&&(s[o]={customStyles:{container:{backgroundColor:"white"},text:{color:"black"}}},t(s)),Object.assign({},n,{[o]:Object.assign({},r,{unavailableTimes:i})})}))},bookings:x}),(0,C.jsx)(Xt,{isVisible:c,onClose:()=>u(!1),onSave:o=>{console.log("Before updating defaultSettings:",j),console.log("New settings to be applied:",o),w(o),setTimeout((()=>{console.log("After updating defaultSettings:",j)}),0),(o=>{const a=Object.assign({},e),n=Object.assign({},h),r=new Date,i=new Date(r.getFullYear()+1,r.getMonth(),r.getDate()),s={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};Object.entries(o).forEach((([e,t])=>{let o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));const l=s[e];for(;o<=(t.endDate?new Date(t.endDate):i);){const e=o.getUTCDay(),r=o.toISOString().split("T")[0];e===l&&(t.isUnavailable?t.isAllDay?(a[r]={customStyles:{container:{backgroundColor:"lightgrey"},text:{color:"white"}}},n[r]={isAvailable:!1,unavailableTimes:[{startTime:"00:00",endTime:"24:00",reason:"Default Setting"}]}):(a[r]={customStyles:{container:{backgroundColor:p.colors.calendarColor},text:{color:"white"}}},n[r]={isAvailable:!0,unavailableTimes:[{startTime:t.startTime,endTime:t.endTime,reason:"Default Setting"}]}):(delete a[r],delete n[r])),o.setUTCDate(o.getUTCDate()+1)}})),t(a),y(n)})(o),u(!1)},defaultSettings:j})]})},{width:so}=m.default.get("window"),lo=s.default.create({container:{flex:1,backgroundColor:p.colors.background},scrollContent:{flexGrow:1,padding:16},contentWrapper:{alignSelf:"center"},title:{fontSize:p.fontSizes.large,color:p.colors.text,marginBottom:16},petCard:{marginBottom:16,transform:[{scale:so<=800&&so>600?1.15:1}]},petCardContent:{flexDirection:"row",alignItems:"center"},petImage:{width:80,height:80,borderRadius:40,marginRight:16},petImagePlaceholder:{width:80,height:80,borderRadius:40,marginRight:16,borderWidth:2,borderColor:p.colors.primary,justifyContent:"center",alignItems:"center"},petInfo:{flex:1},addButton:{marginTop:5,alignSelf:"center"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"}}),co=({navigation:e})=>{const[t,o]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),{screenWidth:l}=(0,a.useContext)(v);(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{s(!0);try{await new Promise((e=>setTimeout(e,1e3)));o([{id:"1",name:"Max",animal_type:"Dog",breed:"border collie",age:{months:0,years:5},weight:32,sex:"Male",friendlyWithChildren:!0,friendlyWithCats:!1,friendlyWithDogs:!0,spayedNeutered:!0,houseTrained:!0,microchipped:!0,adoptionDate:"2020-01-15",description:"Loves to play fetch and go for walks.",energyLevel:"High",feedingSchedule:"Morning",leftAlone:"1-4 hours",medication:null,additionalInstructions:"Needs daily exercise.",vetName:"Dr. Smith",vetAddress:"123 Vet St.",vetPhone:"555-1234",insuranceProvider:"Pet Insurance Co.",vetDocuments:[],galleryImages:[]},{id:"2",name:"Whiskers",animal_type:"Cat",breed:"tammy ammy",age:{months:3,years:4},weight:16,sex:"Female",friendlyWithChildren:!0,friendlyWithCats:!0,friendlyWithDogs:!1,spayedNeutered:!0,houseTrained:!0,microchipped:!1,adoptionDate:"2019-05-20",description:"Enjoys lounging in the sun.",energyLevel:"Low",feedingSchedule:"Twice a day",leftAlone:"4-8 hours",medication:null,additionalInstructions:"Prefers quiet environments.",vetName:"Dr. Jones",vetAddress:"456 Vet Ave.",vetPhone:"555-5678",insuranceProvider:"Pet Health Insurance",vetDocuments:[],galleryImages:[]},{id:"3",name:"Buddy",animal_type:"Lizard",breed:"leopard gecko",age:{months:0,years:2},weight:1,sex:"Male",friendlyWithChildren:!1,friendlyWithCats:!1,friendlyWithDogs:!1,spayedNeutered:!1,houseTrained:!1,microchipped:!1,adoptionDate:"2021-08-10",description:"A calm and quiet pet.",energyLevel:"Low",feedingSchedule:["Custom","3 times a day with liquid food."],leftAlone:"Can be left alone indefinitely",medication:null,additionalInstructions:"Keep in a warm environment.",vetName:"Dr. Green",vetAddress:"789 Vet Blvd.",vetPhone:"555-9012",insuranceProvider:"Reptile Insurance Co.",vetDocuments:[],galleryImages:[]}])}catch(e){console.error("Error fetching pets:",e)}finally{s(!1)}},c=({pet:t})=>(0,C.jsx)(i.default,{onPress:()=>{sessionStorage.setItem("editPetData",JSON.stringify(t)),e.navigate("AddPet"),window.history.replaceState({},"","/AddPet")},children:(0,C.jsx)(yt.default,{style:lo.petCard,children:(0,C.jsxs)(yt.default.Content,{style:lo.petCardContent,children:[t.image?(0,C.jsx)(_.default,{source:{uri:t.image},style:lo.petImage}):(0,C.jsx)(n.default,{style:lo.petImagePlaceholder,children:(0,C.jsx)(g.default,{name:u(t.animal_type?t.animal_type:"paw"),size:40,color:p.colors.primary})}),(0,C.jsxs)(n.default,{style:lo.petInfo,children:[(0,C.jsx)(xt.default,{children:t.name}),(0,C.jsx)(bt.default,{children:t.animal_type?t.animal_type:"paw"}),(0,C.jsxs)(bt.default,{children:[t.age.years," years ",t.age.months," months old"]})]})]})})}),u=e=>{switch(e.toLowerCase()){case"dog":return"dog";case"cat":return"cat";case"rabbit":return"rabbit";case"reptile":case"lizard":case"snake":return"snake";case"turtle":return"turtle";case"bird":case"parrot":return"bird";case"horse":return"horse";case"fish":return"fish";default:return"paw"}},f=()=>r?(0,C.jsx)(n.default,{style:lo.loadingContainer,children:(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary})}):(0,C.jsx)(W.default,{contentContainerStyle:[lo.scrollContent,{alignItems:"center"},{marginBottom:15}],children:(0,C.jsxs)(n.default,{style:[lo.contentWrapper,{width:l<=600?"90%":l<=800?"60%":"30%"}],children:[t.map((e=>(0,C.jsx)(c,{pet:e},e.id))),(0,C.jsx)(Te.default,{mode:"contained",onPress:()=>e.navigate("AddPet",{pet:{}}),style:lo.addButton,icon:({size:e,color:t})=>(0,C.jsx)(g.default,{name:"plus",size:e,color:t}),children:"Add Pet"})]})});return(0,C.jsxs)(n.default,{style:lo.container,children:[(0,C.jsx)(Xe,{title:"My Pets",onBackPress:()=>z(e)}),(0,C.jsx)(f,{})]})};var uo=o(91808);const fo=s.default.create({container:{flex:1,backgroundColor:p.colors.background},androidContainer:{paddingTop:et.default.currentHeight},scrollView:{flex:1},scrollViewContent:{padding:16,paddingBottom:16},card:{marginBottom:16,maxWidth:600,alignSelf:"center",width:"100%"},messageButtonContainer:{maxWidth:600,alignSelf:"center",width:"100%",marginTop:16},messageButton:{width:"100%"}}),mo=({route:e,navigation:t})=>{const{clientId:o}=e.params,{colors:a}=(0,h.useTheme)(),r={id:o,name:"John Doe",email:"john.doe@example.com",phone:"(123) 456-7890",contracts:[{id:"1",date:"2023-05-01",status:"Completed"},{id:"2",date:"2023-04-15",status:"Pending"}],invoices:[{id:"1",date:"2023-05-02",amount:"$100",status:"Paid"},{id:"2",date:"2023-04-16",amount:"$75",status:"Unpaid"}],upcomingBookings:[{id:"1",date:"2023-06-01",service:"Dog Walking"},{id:"2",date:"2023-06-15",service:"Cat Sitting"}]},i=()=>(0,C.jsxs)(W.default,{style:fo.scrollView,contentContainerStyle:fo.scrollViewContent,children:[(0,C.jsx)(yt.default,{style:fo.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{children:r.name}),(0,C.jsxs)(bt.default,{children:["Email: ",r.email]}),(0,C.jsxs)(bt.default,{children:["Phone: ",r.phone]})]})}),(0,C.jsx)(yt.default,{style:fo.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{children:"Upcoming Bookings"}),r.upcomingBookings.map((e=>(0,C.jsx)(jt.default,{title:"Booking ".concat(e.id),description:"Date: ".concat(e.date," - Service: ").concat(e.service),left:e=>(0,C.jsx)(uo.default,Object.assign({},e,{icon:"calendar"}))},e.id)))]})}),(0,C.jsxs)(yt.default,{style:fo.card,children:[(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{children:"Contracts"}),r.contracts.map((e=>(0,C.jsx)(jt.default,{title:"Contract ".concat(e.id),description:"Date: ".concat(e.date," - Status: ").concat(e.status),left:e=>(0,C.jsx)(uo.default,Object.assign({},e,{icon:"file-document-outline"}))},e.id)))]}),(0,C.jsx)(yt.default.Actions,{children:(0,C.jsx)(Te.default,{onPress:()=>D(t,"Contracts","ClientHistory",{clientId:o}),children:"View All Contracts"})})]}),(0,C.jsxs)(yt.default,{style:fo.card,children:[(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{children:"Invoices"}),r.invoices.map((e=>(0,C.jsx)(jt.default,{title:"Invoice ".concat(e.id),description:"Date: ".concat(e.date," - Amount: ").concat(e.amount," - Status: ").concat(e.status),left:e=>(0,C.jsx)(uo.default,Object.assign({},e,{icon:"file-document-outline"}))},e.id)))]}),(0,C.jsx)(yt.default.Actions,{children:(0,C.jsx)(Te.default,{onPress:()=>D(t,"Invoices","ClientHistory",{clientId:o}),children:"View All Invoices"})})]}),(0,C.jsx)(n.default,{style:fo.messageButtonContainer,children:(0,C.jsx)(Te.default,{mode:"contained",onPress:()=>D(t,"Messages","ClientHistory",{clientId:o}),style:fo.messageButton,children:"View Messages"})})]});return(0,C.jsx)(n.default,{style:fo.container,children:(0,C.jsx)(i,{})})};var go=o(69574);const ho=(e,t,o,a)=>{const[n,r]=o.split(":").map(Number),[i,s]=a.split(":").map(Number),l=new Date(e);let d;return l.setHours(n,r,0),t?(d=new Date(t),d.setHours(i,s,0)):(d=new Date(e),d.setHours(i,s,0)),d<l?{isValid:!1,error:"End date/time cannot be before start date/time"}:{isValid:!0,error:null}},po=["1","2","3","4","5"],yo=({children:e})=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("style",{children:"\n  .modal-scroll-container {\n    max-height: 60vh;\n    overflow-y: scroll !important;\n    padding-right: 16px;\n    display: block;\n    position: relative;\n    scrollbar-width: auto;\n    scrollbar-color: rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1);\n  }\n\n  .modal-scroll-container::-webkit-scrollbar {\n    width: 10px;\n    background-color: #F5F5F5;\n    display: block;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.1);\n    border: 1px solid #ccc;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid #aaa;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb:hover {\n    background: rgba(0, 0, 0, 0.7);\n  }\n"}),(0,C.jsx)("div",{className:"modal-scroll-container",children:e})]}),xo=s.default.create({modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:p.colors.surface,borderRadius:8,padding:20,width:"90%",maxWidth:500,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},modalTitle:{fontSize:p.fontSizes.largeLarge,fontWeight:"bold",fontFamily:p.fonts.header.fontFamily},closeButton:{padding:5},sectionTitle:{fontSize:p.fontSizes.large,fontWeight:"500",fontFamily:p.fonts.header.fontFamily},dateTimeSection:{},dateTimeContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:15},dateTimeColumn:{flex:1},topSpacing:{marginTop:15},rateRow:{flexDirection:"row",alignItems:"center",gap:10,marginBottom:10},rateInput:{flex:2,borderWidth:1,borderColor:p.colors.border,borderRadius:8,padding:12,fontFamily:p.fonts.regular.fontFamily},rateAmountContainer:{flex:1},rateAmountInput:{flex:1,fontFamily:p.fonts.regular.fontFamily},addRateButton:{padding:10,borderWidth:1,borderColor:p.colors.border,borderRadius:8,alignItems:"center"},addRateButtonText:{color:p.colors.primary,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},label:{fontSize:p.fontSizes.medium,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},inputContainer:{flexDirection:"row",alignItems:"center",borderWidth:1,borderColor:p.colors.border,borderRadius:8,paddingHorizontal:12},dollarSign:{fontSize:p.fontSizes.medium,color:p.colors.text,marginRight:4,fontFamily:p.fonts.regular.fontFamily},input:{backgroundColor:p.colors.surface,padding:10,borderRadius:8,borderWidth:1,borderColor:p.colors.border,fontFamily:p.fonts.regular.fontFamily},buttonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20,gap:15},button:{flex:1,paddingVertical:12,borderRadius:8,alignItems:"center"},cancelButton:{backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border},addButton:{backgroundColor:p.colors.primary},cancelButtonText:{color:p.colors.text,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},addButtonText:{fontSize:p.fontSizes.medium,color:p.colors.surface,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},rateLabelContainer:{flexDirection:"row",marginTop:10,marginBottom:5},rateTitleLabel:{flex:2,fontSize:p.fontSizes.medium,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},rateAmountLabel:{flex:1,fontSize:p.fontSizes.medium,color:p.colors.text,marginLeft:10,fontFamily:p.fonts.regular.fontFamily},rateContainer:{flexDirection:"row",alignItems:"flex-end",gap:10},baseRateInput:{flex:1},timeUnitInput:{flex:1},picker:{backgroundColor:p.colors.surface,borderRadius:8,height:39,borderWidth:1,borderColor:p.colors.border,fontFamily:p.fonts.regular.fontFamily},totalSection:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:20,paddingTop:20,borderTopWidth:1,borderTopColor:p.colors.border},totalLabel:{fontSize:p.fontSizes.medium,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},totalAmount:{fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",color:p.colors.primary,fontFamily:p.fonts.regular.fontFamily},errorText:{color:p.colors.error,fontSize:p.fontSizes.small,marginTop:8,marginBottom:8,fontFamily:p.fonts.regular.fontFamily},dropdownText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},selectedDropdownText:{color:p.colors.primary,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},pickerItem:{fontFamily:p.fonts.regular.fontFamily}}),bo=({visible:e,onClose:t,onAdd:o,defaultRates:s,hideRates:l=!1,initialOccurrence:d=null,isEditing:c=!1,modalTitle:u="Add New Occurrence"})=>{const f=e=>{if(e instanceof Date)return e;const[t,o]=e.split(":"),a=new Date;return a.setHours(parseInt(t,10)),a.setMinutes(parseInt(o,10)),a},[m,h]=(0,a.useState)((()=>{if(d){return{startDate:d.startDate,endDate:d.endDate,startTime:f(d.startTime),endTime:f(d.endTime),rates:{baseRate:d.rates.baseRate||"0",additionalAnimalRate:d.rates.additionalAnimalRate||"0",appliesAfterAnimals:d.rates.appliesAfterAnimals||"1",holidayRate:d.rates.holidayRate||"0",timeUnit:d.rates.timeUnit||"per visit",additionalRates:(d.rates.additionalRates||[]).map((e=>({name:e.name,description:e.description||"",amount:e.amount.toString()})))},totalCost:d.totalCost||"0",baseTotal:d.baseTotal||"0"}}return{startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],startTime:new Date,endTime:new Date((new Date).setHours((new Date).getHours()+1)),rates:{baseRate:s?.baseRate||"0",additionalAnimalRate:s?.additionalAnimalRate||"0",appliesAfterAnimals:s?.appliesAfterAnimals||"1",holidayRate:s?.holidayRate||"0",timeUnit:s?.timeUnit||"per visit",additionalRates:s?.additionalRates||[]}}}));(0,a.useEffect)((()=>{e?d&&(h({startDate:d.startDate,endDate:d.endDate,startTime:f(d.startTime),endTime:f(d.endTime),rates:{baseRate:d.rates.baseRate||"0",additionalAnimalRate:d.rates.additionalAnimalRate||"0",appliesAfterAnimals:d.rates.appliesAfterAnimals||"1",holidayRate:d.rates.holidayRate||"0",timeUnit:d.rates.timeUnit||"per visit",additionalRates:(d.rates.additionalRates||[]).map((e=>({name:e.name,description:e.description||"",amount:e.amount.toString()})))},totalCost:d.totalCost||"0",baseTotal:d.baseTotal||"0"}),S(d.rates.timeUnit||"per visit")):d||(h({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],startTime:new Date,endTime:new Date((new Date).setHours((new Date).getHours()+1)),rates:{baseRate:s?.baseRate||"0",additionalAnimalRate:s?.additionalAnimalRate||"0",appliesAfterAnimals:s?.appliesAfterAnimals||"1",holidayRate:s?.holidayRate||"0",timeUnit:s?.timeUnit||"per visit",additionalRates:[]}}),S(s?.timeUnit||"per visit"))}),[e,d,s]);const[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)({name:"",amount:""}),[w,S]=(0,a.useState)(d?.rates?.timeUnit||m.rates.timeUnit),[v,T]=(0,a.useState)(!1),[k,B]=(0,a.useState)(null),I=()=>{if(d?.totalCost)return parseFloat(d.totalCost).toFixed(2);const e=(parseFloat(m.rates.baseRate)||0)+(parseFloat(m.rates.additionalAnimalRate)||0)+(parseFloat(m.rates.holidayRate)||0)+(m.rates.additionalRates?.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0)||0),t=.1*e;return(e+t+.09*(e+t)).toFixed(2)},P=()=>{z(),t()},z=()=>{h({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],startTime:new Date,endTime:new Date((new Date).setHours((new Date).getHours()+1)),rates:{baseRate:s?.baseRate||"0",additionalAnimalRate:s?.additionalAnimalRate||"0",appliesAfterAnimals:s?.appliesAfterAnimals||"1",holidayRate:s?.holidayRate||"0",timeUnit:s?.timeUnit||"per visit",additionalRates:[]}}),S(s?.timeUnit||"per visit"),x(!1),j({name:"",amount:""}),B(null)};return(0,C.jsx)(H.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:P,children:(0,C.jsx)(n.default,{style:xo.modalOverlay,children:(0,C.jsxs)(n.default,{style:xo.modalContent,children:[(0,C.jsxs)(n.default,{style:xo.modalHeader,children:[(0,C.jsx)(r.default,{style:xo.modalTitle,children:u}),(0,C.jsx)(i.default,{style:xo.closeButton,onPress:P,children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsxs)(yo,{children:[(0,C.jsxs)(n.default,{style:xo.dateTimeSection,children:[(0,C.jsx)(r.default,{style:xo.sectionTitle,children:"Date & Time"}),(0,C.jsxs)(n.default,{style:xo.dateTimeContainer,children:[(0,C.jsxs)(n.default,{style:xo.dateTimeColumn,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Start Date"}),(0,C.jsx)(Ze,{value:m.startDate,onChange:e=>h((t=>Object.assign({},t,{startDate:e})))})]}),(0,C.jsxs)(n.default,{style:xo.dateTimeColumn,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Start Time"}),(0,C.jsx)(qt,{value:m.startTime,onChange:e=>h((t=>Object.assign({},t,{startTime:e}))),fullWidth:!0})]})]})]}),(0,C.jsx)(n.default,{style:xo.dateTimeSection,children:(0,C.jsxs)(n.default,{style:[xo.dateTimeContainer,{marginTop:15}],children:[(0,C.jsxs)(n.default,{style:xo.dateTimeColumn,children:[(0,C.jsx)(r.default,{style:xo.label,children:"End Date"}),(0,C.jsx)(Ze,{value:m.endDate,onChange:e=>h((t=>Object.assign({},t,{endDate:e})))})]}),(0,C.jsxs)(n.default,{style:xo.dateTimeColumn,children:[(0,C.jsx)(r.default,{style:xo.label,children:"End Time"}),(0,C.jsx)(qt,{value:m.endTime,onChange:e=>h((t=>Object.assign({},t,{endTime:e}))),fullWidth:!0})]})]})}),k&&(0,C.jsx)(r.default,{style:xo.errorText,children:k}),!l&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(n.default,{style:xo.rateSection,children:[(0,C.jsxs)(n.default,{style:[xo.rateContainer,{marginTop:15}],children:[(0,C.jsxs)(n.default,{style:xo.baseRateInput,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Base Rate"}),(0,C.jsx)(N.default,{style:xo.input,value:m.rates.baseRate.toString(),onChangeText:e=>h((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{baseRate:e.replace(/[^0-9.]/g,"")})}))),keyboardType:"decimal-pad",placeholder:"0.00"})]}),(0,C.jsxs)(n.default,{style:xo.timeUnitInput,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Per"}),(0,C.jsx)(go.default,{selectedValue:w,onValueChange:e=>S(e),style:xo.picker,children:(D=Z,D.map((e=>(0,C.jsx)(go.default.Item,{label:e,value:e,style:xo.pickerItem},e))))})]})]}),(0,C.jsxs)(n.default,{style:[xo.rateContainer,xo.topSpacing],children:[(0,C.jsxs)(n.default,{style:xo.baseRateInput,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Additional Animal Rate"}),(0,C.jsx)(N.default,{style:xo.input,value:m.rates.additionalAnimalRate.toString(),onChangeText:e=>h((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{additionalAnimalRate:e.replace(/[^0-9.]/g,"")})}))),keyboardType:"decimal-pad",placeholder:"0.00"})]}),(0,C.jsxs)(n.default,{style:xo.timeUnitInput,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Applies After"}),(0,C.jsx)(go.default,{selectedValue:m.rates.appliesAfterAnimals,onValueChange:e=>h((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{appliesAfterAnimals:e})}))),style:xo.picker,children:po.map((e=>(0,C.jsx)(go.default.Item,{label:"".concat(e," animal").concat("1"===e?"":"s"),value:e},e)))})]})]}),(0,C.jsx)(n.default,{style:[xo.rateContainer,xo.topSpacing],children:(0,C.jsxs)(n.default,{style:xo.baseRateInput,children:[(0,C.jsx)(r.default,{style:xo.label,children:"Holiday Rate"}),(0,C.jsx)(N.default,{style:xo.input,value:m.rates.holidayRate.toString(),onChangeText:e=>h((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{holidayRate:e.replace(/[^0-9.]/g,"")})}))),keyboardType:"decimal-pad",placeholder:"0.00"})]})})]}),(0,C.jsxs)(n.default,{style:xo.rateSection,children:[(0,C.jsx)(r.default,{style:[xo.label,{marginTop:10,marginBottom:0}],children:"Additional Rates"}),m.rates.additionalRates.map(((e,t)=>(0,C.jsxs)(n.default,{style:[xo.rateRow,{marginTop:10,marginBottom:0}],children:[(0,C.jsx)(N.default,{style:[xo.input,xo.rateInput],value:e.name,editable:!1}),(0,C.jsx)(n.default,{style:[xo.rateAmountContainer],children:(0,C.jsx)(N.default,{style:[xo.input,xo.rateAmountInput],value:e.amount.toString(),editable:!1})}),(0,C.jsx)(i.default,{onPress:()=>(e=>{h((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{additionalRates:t.rates.additionalRates.filter(((t,o)=>o!==e))})})))})(t),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.error})})]},t))),y?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(n.default,{style:xo.rateLabelContainer,children:[(0,C.jsx)(r.default,{style:xo.rateTitleLabel,children:"Rate Title"}),(0,C.jsx)(r.default,{style:xo.rateAmountLabel,children:"Rate Amount"})]}),(0,C.jsxs)(n.default,{style:xo.rateRow,children:[(0,C.jsx)(N.default,{style:[xo.input,xo.rateInput],value:b.name,onChangeText:e=>j((t=>Object.assign({},t,{name:e}))),placeholder:"Rate Title"}),(0,C.jsx)(n.default,{style:[xo.rateAmountContainer],children:(0,C.jsx)(N.default,{style:[xo.input,xo.rateAmountInput],value:b.amount,onChangeText:e=>j((t=>Object.assign({},t,{amount:e.replace(/[^0-9.]/g,"")}))),keyboardType:"decimal-pad",placeholder:"0.00"})}),(0,C.jsx)(i.default,{onPress:()=>{b.name&&b.amount&&(h((e=>Object.assign({},e,{rates:Object.assign({},e.rates,{additionalRates:[...e.rates.additionalRates,Object.assign({},b,{amount:parseFloat(b.amount)})]})}))),j({name:"",amount:""}),x(!1))},children:(0,C.jsx)(g.default,{name:"plus",size:24,color:p.colors.primary})})]})]}):(0,C.jsx)(i.default,{style:xo.addRateButton,onPress:()=>x(!0),children:(0,C.jsx)(r.default,{style:xo.addRateButtonText,children:"Add custom rate"})})]}),(0,C.jsxs)(n.default,{style:xo.totalSection,children:[(0,C.jsx)(r.default,{style:xo.totalLabel,children:"Total:"}),(0,C.jsxs)(r.default,{style:xo.totalAmount,children:["$",I()]})]})]}),(0,C.jsxs)(n.default,{style:xo.buttonContainer,children:[(0,C.jsx)(i.default,{style:[xo.button,xo.cancelButton],onPress:P,children:(0,C.jsx)(r.default,{style:xo.cancelButtonText,children:"Cancel"})}),(0,C.jsx)(i.default,{style:[xo.button,xo.addButton],onPress:()=>{const e=ho(m.startDate,m.endDate,(0,Ut.format)(m.startTime,"HH:mm"),(0,Ut.format)(m.endTime,"HH:mm"));e.isValid?(async()=>{try{T(!0);const e=Object.assign({},m,{startTime:(0,Ut.format)(m.startTime,"HH:mm"),endTime:(0,Ut.format)(m.endTime,"HH:mm"),rates:Object.assign({},m.rates,{baseRate:parseFloat(m.rates.baseRate)||0,additionalAnimalRate:parseFloat(m.rates.additionalAnimalRate)||0,appliesAfterAnimals:m.rates.appliesAfterAnimals,holidayRate:parseFloat(m.rates.holidayRate)||0,additionalRates:m.rates.additionalRates.map((e=>Object.assign({},e,{amount:parseFloat(e.amount)||0}))),timeUnit:w}),totalCost:parseFloat(I())});await new Promise((e=>setTimeout(e,1e3))),await o(e),h({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],startTime:new Date,endTime:new Date((new Date).setHours((new Date).getHours()+1)),rates:{baseRate:s?.baseRate||0,additionalAnimalRate:s?.additionalAnimalRate||0,appliesAfterAnimals:s?.appliesAfterAnimals||"1",holidayRate:s?.holidayRate||0,additionalRates:[],timeUnit:"per visit"}}),x(!1),j({name:"",amount:""}),await new Promise((e=>setTimeout(e,500)))}catch(e){console.error("Error adding occurrence:",e)}finally{T(!1),t()}})():B(e.error)},disabled:v,children:v?(0,C.jsx)(Oe.default,{color:p.colors.surface}):(0,C.jsx)(r.default,{style:xo.addButtonText,children:c?"Save":"Add"})})]})]})]})})});var D},jo=s.default.create({modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:p.colors.background,borderRadius:8,padding:20,width:"90%",maxWidth:500,maxHeight:"80%"},modalTitle:{fontSize:p.fontSizes.largeLarge,fontWeight:"bold",marginBottom:20,textAlign:"center"},scrollView:{maxHeight:"70%"},label:{fontSize:p.fontSizes.medium,fontWeight:"500",marginTop:15,marginBottom:10},serviceOptions:{flexDirection:"row",flexWrap:"wrap",gap:10},serviceButton:{marginBottom:10},petOptions:{flexDirection:"row",flexWrap:"wrap",gap:10},petButton:{marginBottom:10},dateContainer:{gap:10},timeContainer:{flexDirection:"row",justifyContent:"space-between",gap:10},buttonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20,gap:10},button:{flex:1},timePickerWrapper:{flex:1},dropdownContainer:{position:"relative",marginBottom:20,zIndex:3},dropdownInput:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:p.colors.border,borderRadius:8,padding:12,backgroundColor:p.colors.surface},dropdownList:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:8,maxHeight:200,zIndex:1e3,elevation:5},dropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},dropdownText:{color:p.colors.text},selectedOption:{color:p.colors.primary,fontWeight:"bold"},petItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:p.colors.border},petInfo:{flex:1},petName:{fontSize:p.fontSizes.medium,fontWeight:"500",marginBottom:4},petDetails:{fontSize:p.fontSizes.smallMedium,color:p.colors.placeholder},addPetButton:{flexDirection:"row",alignItems:"center",padding:12,marginTop:8,borderWidth:1,borderColor:p.colors.border,borderRadius:8,justifyContent:"center"},addPetText:{marginLeft:8,color:p.colors.primary,fontSize:p.fontSizes.medium},occurrenceCard:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:p.colors.surface,borderRadius:8,marginBottom:10,borderWidth:1,borderColor:p.colors.border},occurrenceDetails:{flex:1},dateText:{fontSize:p.fontSizes.medium,fontWeight:"500",marginBottom:4},timeText:{fontSize:p.fontSizes.smallMedium,color:p.colors.placeholder},addOccurrenceButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:16,borderWidth:1,borderColor:p.colors.primary,borderRadius:8,marginTop:12},addOccurrenceText:{marginLeft:8,color:p.colors.primary,fontSize:p.fontSizes.medium},occurrenceActions:{flexDirection:"row",alignItems:"center",gap:10},actionButton:{padding:8,borderWidth:1,borderColor:p.colors.error,borderRadius:4},bookingRequestCard:{backgroundColor:p.colors.surface,borderRadius:8,padding:16,margin:8,borderWidth:1,borderColor:p.colors.primary},bookingRequestHeader:{flexDirection:"row",alignItems:"center",marginBottom:12,gap:8},bookingRequestTitle:{fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",color:p.colors.primary},bookingRequestDetails:{gap:8},detailLabel:{fontSize:p.fontSizes.smallMedium,fontWeight:"500",color:p.colors.placeholder},detailText:{fontSize:p.fontSizes.medium,color:p.colors.text},acceptButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:8,alignItems:"center",marginTop:16},acceptButtonText:{color:p.colors.surface,fontSize:p.fontSizes.medium,fontWeight:"500"},occurrenceCardError:{borderColor:p.colors.error},errorText:{color:p.colors.error,fontSize:p.fontSizes.small,marginTop:4}}),wo=({visible:e,onClose:t,onSubmit:o,services:r=me,pets:s=te})=>{const[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)([]),[f,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),[x,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)([]),[S,v]=(0,a.useState)(null),[T,k]=(0,a.useState)({visible:!1,actionText:"",onConfirm:null,isLoading:!1}),[B,I]=(0,a.useState)({}),P=()=>{d(""),u([]),w([]),v(null)},z=e=>{k({visible:!0,actionText:"delete this occurrence",onConfirm:()=>(async e=>{k((e=>Object.assign({},e,{isLoading:!0})));try{w((t=>t.filter((t=>t.startDate!==e.startDate||t.startTime!==e.startTime))))}finally{k({visible:!1,actionText:"",onConfirm:null,isLoading:!1})}})(e),isLoading:!1})},D=()=>{P(),t()},R=()=>{m(!1),y(!1),b(!0)};return(0,C.jsxs)(H.default,{visible:e,onRequestClose:D,animationType:"slide",transparent:!0,children:[(0,C.jsx)(n.default,{style:jo.modalContainer,children:(0,C.jsxs)(n.default,{style:jo.modalContent,children:[(0,C.jsx)(O.default,{style:jo.modalTitle,children:"Request Booking"}),(0,C.jsxs)(W.default,{style:jo.scrollView,children:[(0,C.jsx)(O.default,{style:jo.label,children:"Select Service"}),(0,C.jsxs)(n.default,{style:jo.dropdownContainer,children:[(0,C.jsxs)(i.default,{style:jo.dropdownInput,onPress:()=>m(!f),children:[(0,C.jsx)(O.default,{children:l||"Select Service Type"}),(0,C.jsx)(g.default,{name:f?"chevron-up":"chevron-down",size:24,color:p.colors.text})]}),f&&(0,C.jsx)(n.default,{style:jo.dropdownList,children:(0,C.jsx)(W.default,{nestedScrollEnabled:!0,children:r.map((e=>(0,C.jsx)(i.default,{style:jo.dropdownItem,onPress:()=>{d(e),m(!1)},children:(0,C.jsx)(O.default,{style:[jo.dropdownText,l===e&&jo.selectedOption],children:e})},e)))})})]}),(0,C.jsx)(O.default,{style:jo.label,children:"Select Pets"}),(0,C.jsxs)(n.default,{style:{zIndex:2},children:[c.map((e=>{const t=s.find((t=>t.id===e));return(0,C.jsxs)(n.default,{style:jo.petItem,children:[(0,C.jsxs)(n.default,{style:jo.petInfo,children:[(0,C.jsx)(O.default,{style:jo.petName,children:t.name}),(0,C.jsxs)(O.default,{style:jo.petDetails,children:[t.type," \u2022 ",t.breed]})]}),(0,C.jsx)(i.default,{onPress:()=>u((t=>t.filter((t=>t!==e)))),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.error})})]},e)})),(0,C.jsxs)(i.default,{style:jo.addPetButton,onPress:()=>y(!h),children:[(0,C.jsx)(g.default,{name:h?"chevron-up":"chevron-down",size:20,color:p.colors.primary}),(0,C.jsx)(O.default,{style:jo.addPetText,children:0===c.length?"Select Pets":"Add Pet"})]}),h&&(0,C.jsx)(n.default,{style:jo.dropdownList,children:(0,C.jsx)(W.default,{nestedScrollEnabled:!0,style:jo.petDropdown,children:s.filter((e=>!c.includes(e.id))).map((e=>(0,C.jsx)(i.default,{style:jo.dropdownItem,onPress:()=>{u((t=>[...t,e.id])),y(!1)},children:(0,C.jsxs)(n.default,{children:[(0,C.jsx)(O.default,{style:jo.dropdownPetName,children:e.name}),(0,C.jsxs)(O.default,{style:jo.dropdownPetDetails,children:[e.type," \u2022 ",e.breed]})]})},e.id)))})})]}),(0,C.jsx)(O.default,{style:jo.label,children:"Select Date & Time"}),j.map(((e,t)=>((e,t)=>(0,C.jsx)(n.default,{children:(0,C.jsxs)(i.default,{style:[jo.occurrenceCard,B[t]&&jo.occurrenceCardError],children:[(0,C.jsxs)(n.default,{style:jo.occurrenceDetails,children:[(0,C.jsx)(O.default,{style:jo.dateText,children:e.endDate&&e.startDate!==e.endDate?"".concat((0,Ut.format)(new Date(e.startDate),"MMM d, yyyy")," - ").concat((0,Ut.format)(new Date(e.endDate),"MMM d, yyyy")):(0,Ut.format)(new Date(e.startDate),"MMM d, yyyy")}),(0,C.jsx)(O.default,{style:jo.timeText,children:"".concat(e.startTime," - ").concat(e.endTime)}),B[t]&&(0,C.jsx)(O.default,{style:jo.errorText,children:B[t]})]}),(0,C.jsxs)(n.default,{style:jo.occurrenceActions,children:[(0,C.jsx)(i.default,{style:jo.actionButton,onPress:()=>z(e),children:(0,C.jsx)(g.default,{name:"trash-can-outline",size:20,color:p.colors.error})}),(0,C.jsx)(i.default,{style:jo.actionButton,onPress:()=>{v(e),R()},children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]})]})},t))(e,t))),(0,C.jsxs)(i.default,{style:jo.addOccurrenceButton,onPress:()=>{v(null),R()},children:[(0,C.jsx)(g.default,{name:"plus",size:24,color:p.colors.primary}),(0,C.jsx)(O.default,{style:jo.addOccurrenceText,children:"Add Date & Time"})]})]}),(0,C.jsxs)(n.default,{style:jo.buttonContainer,children:[(0,C.jsx)(Te.default,{mode:"outlined",onPress:D,style:jo.button,children:"Cancel"}),(0,C.jsx)(Te.default,{mode:"contained",onPress:()=>{if(0===j.length)return;if(!(e=>{const t={};let o=!0;return e.forEach(((e,a)=>{const n=ho(e.startDate,e.endDate,e.startTime,e.endTime);n.isValid||(t[a]=n.error,o=!1)})),I(t),o})(j))return;const e={type:"booking_request",data:{serviceType:l,pets:c.map((e=>s.find((t=>t.id===e)))),occurrences:j},timestamp:(new Date).toISOString()};o(e),P(),t()},style:jo.button,disabled:!l||0===c.length||0===j.length,children:"Submit"})]})]})}),(0,C.jsx)(bo,{visible:x,onClose:()=>b(!1),onAdd:e=>{const{startDate:t,endDate:o,startTime:a,endTime:n}=e;return!!ho(t,o,a,n).isValid&&(w(S?e=>e.map((e=>e===S?{startDate:t,endDate:o,startTime:a,endTime:n}:e)):e=>[...e,{startDate:t,endDate:o,startTime:a,endTime:n}]),v(null),b(!1),!0)},hideRates:!0,initialOccurrence:S,modalTitle:S?"Edit Occurrence":"Add New Occurrence"}),(0,C.jsx)(Le,{visible:T.visible,actionText:T.actionText,onClose:()=>{T.isLoading||k({visible:!1,actionText:"",onConfirm:null,isLoading:!1})},onConfirm:T.onConfirm,isLoading:T.isLoading})]})},Co=({navigation:e,route:t})=>{console.log("TESTING MVP PUSH TO MVP AND gh-pages-test being deployed");const{colors:o}=(0,h.useTheme)(),[l,d]=(0,a.useState)(m.default.get("window").width),c=(e=>s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0,paddingRight:0,paddingLeft:0,height:"calc(100vh - 64px)",overflow:"hidden",position:"fixed",top:64,left:0,right:0,bottom:0},headerContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border},headerTitle:{fontSize:20,fontWeight:"bold",color:p.colors.primary,fontFamily:p.fonts.header.fontFamily},filterButton:{marginLeft:"auto"},contentContainer:{flex:1,flexDirection:"row",justifyContent:"center",maxWidth:e>1e3?"100%":1e3,alignSelf:"center",width:"100%",overflow:"hidden",height:"100%"},conversationListContainer:{width:e<=1e3?"100%":"30%",maxWidth:e<1e3?"":600,borderRightWidth:2,backgroundColor:p.colors.surface,overflow:"auto"},conversationItem:{padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border,maxWidth:e<1e3?"":600,width:"100%"},selectedConversation:{backgroundColor:p.colors.primary+"20",borderLeftWidth:3,borderLeftColor:p.colors.primary},conversationName:{fontSize:16,fontFamily:p.fonts.header.fontFamily},messageSection:{flex:1,display:"flex",flexDirection:"column",position:"relative",height:"100%",marginLeft:0,maxWidth:e<=1e3?"100%":"70%",alignSelf:e<=1e3?"stretch":"flex-start",width:e<=1e3?"100%":"auto",overflow:"hidden",paddingRight:e>1e3?100:0,paddingBottom:60},messagesContainer:{flex:1,overflow:"auto",width:"100%",position:"absolute",padding:16,paddingTop:e>1e3?72:20,top:0,left:0,right:0,bottom:0},messageList:{width:"100%",paddingBottom:80},messageInputContainer:{flexDirection:"row",alignItems:"center",padding:8,borderTopWidth:1,borderTopColor:p.colors.border,backgroundColor:p.colors.surface},attachButton:{padding:8},messageInput:{flex:1,backgroundColor:p.colors.background,borderRadius:20,paddingHorizontal:16,paddingVertical:8,marginHorizontal:8},sendButton:{borderRadius:20},messageCard:{marginVertical:4,maxWidth:"80%",borderRadius:12,overflow:"hidden"},messageContent:{paddingHorizontal:8,paddingVertical:4},sentMessage:{alignSelf:"flex-end",backgroundColor:p.colors.primary},receivedMessage:{alignSelf:"flex-start",backgroundColor:p.colors.receivedMessage},messageText:{fontSize:16,lineHeight:20,fontFamily:p.fonts.regular.fontFamily},sentMessageContainer:{alignItems:"flex-end",marginBottom:16},receivedMessageContainer:{alignItems:"flex-start",marginBottom:16},senderAbove:{fontWeight:"bold",marginBottom:4,fontSize:12,fontFamily:p.fonts.header.fontFamily},sentSenderName:{alignSelf:"flex-end"},receivedSenderName:{alignSelf:"flex-start"},timestampBelow:{fontSize:12,color:p.colors.placeholder,marginTop:4,fontFamily:p.fonts.regular.fontFamily},sentTimestamp:{alignSelf:"flex-end"},receivedTimestamp:{alignSelf:"flex-start"},sentMessageText:{color:p.colors.whiteText},receivedMessageText:{color:p.colors.text},inputContainer:{flexDirection:"row",alignItems:"center",flex:1,marginRight:8},input:{flex:1,backgroundColor:p.colors.background,paddingHorizontal:8,paddingVertical:8,maxHeight:100},webInput:{flex:1,backgroundColor:"transparent",paddingVertical:"8px",paddingLeft:"12px",height:e<=600?36:40,border:"1px solid "+p.colors.border,borderRadius:20,fontFamily:p.fonts.regular.fontFamily,fontSize:e<=600?"14px":"inherit",appearance:"none",touchAction:"manipulation",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},conversationContent:{flex:1},conversationHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},conversationTime:{fontSize:12,color:p.colors.placeholder},conversationLastMessage:{fontSize:14,color:p.colors.placeholder,marginBottom:8,fontFamily:p.fonts.regular.fontFamily},unreadMessage:{color:p.colors.text,fontWeight:"bold"},bookingStatusContainer:{backgroundColor:p.colors.primary+"20",padding:4,borderRadius:4,alignSelf:"flex-start"},bookingStatus:{fontSize:12,color:p.colors.primary,fontFamily:p.fonts.regular.fontFamily},requestBookingButton:{marginTop:4,height:28,alignSelf:"flex-start"},requestBookingLabel:{fontSize:12,marginVertical:0},messageListContainer:{flex:1},inputWrapper:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",alignItems:"center",borderTopWidth:1,borderTopColor:p.colors.border,backgroundColor:p.colors.surface,zIndex:1,width:"100%",padding:e>600?16:8},inputInnerContainer:{flex:1,flexDirection:"row",alignItems:"center",backgroundColor:p.colors.background,borderRadius:20,marginRight:e<=600?4:8},attachButton:{padding:8,marginRight:8,backgroundColor:p.colors.background,borderRadius:20,width:40,height:40,justifyContent:"center",alignItems:"center"},sendButton:{marginLeft:8,borderRadius:20,height:40,justifyContent:"center",alignItems:"center",paddingHorizontal:16},attachButtonContainer:{position:"relative",zIndex:2},dropdownMenu:{position:"absolute",bottom:"100%",left:0,backgroundColor:p.colors.surface,borderRadius:8,shadowColor:"#000",shadowOffset:{width:0,height:-2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginBottom:8,minWidth:150,borderWidth:1,borderColor:p.colors.border},dropdownItem:{padding:12,flexDirection:"row",alignItems:"center"},dropdownText:{color:p.colors.text,fontSize:14,marginLeft:8,fontFamily:p.fonts.regular.fontFamily},activeConversationText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},mobileMessageView:{flex:1,width:"100%",height:"100%",position:"relative",backgroundColor:p.colors.background,display:"flex",flexDirection:"column"},backButton:{flexDirection:"row",alignItems:"center",padding:16},backButtonText:{marginLeft:8,color:p.colors.primary,fontSize:16,fontFamily:p.fonts.regular.fontFamily},mobileHeader:{width:"100%",backgroundColor:p.colors.surface,borderBottomWidth:1,borderBottomColor:p.colors.border,position:"relative",zIndex:10},mobileContent:{flex:1,position:"relative",height:"calc(100% - 56px)"},mobileContainer:{paddingTop:0,paddingLeft:0,paddingRight:0},sendButtonMobile:{width:24,height:24,minWidth:0,padding:0,marginLeft:4,justifyContent:"center",alignItems:"center"},messageHeader:{padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border,backgroundColor:p.colors.surface,position:"absolute",top:0,left:0,right:0,zIndex:2},messageHeaderName:{fontSize:18,fontWeight:"bold",color:p.colors.text,textAlign:"center",fontFamily:p.fonts.header.fontFamily},mobileHeaderContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",paddingVertical:16,paddingHorizontal:8},mobileHeaderName:{fontSize:18,fontWeight:"bold",color:p.colors.text,textAlign:"center",fontFamily:p.fonts.header.fontFamily},backArrow:{position:"absolute",left:16,padding:8},bookingRequestCard:{backgroundColor:p.colors.surface,borderRadius:8,padding:16,margin:8,borderWidth:1,borderColor:p.colors.primary,maxWidth:500},sentBookingRequest:{alignSelf:"flex-end",marginLeft:"20%"},receivedBookingRequest:{alignSelf:"flex-start",marginRight:"20%"},bookingRequestHeader:{flexDirection:"row",alignItems:"center",marginBottom:12,gap:8},bookingRequestTitle:{fontSize:18,fontWeight:"bold",color:p.colors.primary,fontFamily:p.fonts.header.fontFamily},bookingRequestDetails:{gap:8},detailLabel:{fontSize:14,fontWeight:"500",color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},detailText:{fontSize:16,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},acceptButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:8,alignItems:"center",marginTop:16},acceptButtonText:{color:p.colors.surface,fontSize:16,fontWeight:"500"},viewBookingButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:8,alignItems:"center",marginTop:16},viewBookingText:{color:p.colors.surface,fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},statusContainer:{backgroundColor:p.colors.primary+"15",padding:8,borderRadius:4,marginBottom:12},statusText:{color:p.colors.primary,fontSize:14,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily}}))(l),[u,f]=(0,a.useState)(null),[y,x]=(0,a.useState)(null),[b,j]=(0,a.useState)([]),[w,S]=(0,a.useState)(!1),[T,k]=(0,a.useState)(!1),[B,I]=(0,a.useState)(!1),{is_DEBUG:P}=(0,a.useContext)(v),[z,D]=(0,a.useState)(ce);(0,a.useEffect)((()=>{z.length>0&&!u&&f(z[0].id)}),[z]),(0,a.useEffect)((()=>{if(u){const e=z.find((e=>e.id===u));if(e){const t=ue[u]||[];P&&(console.log("Selected conversation:",u),console.log("Available messages:",ue),console.log("Loading messages:",t)),j(t),x(e)}}}),[u,z]),(0,a.useEffect)((()=>{if(t.params?.selectedConversation&&(f(t.params.selectedConversation),t.params.professionalId&&t.params.professionalName)){const e=ce.find((e=>e.id===t.params.selectedConversation));e&&(e.professionalId=t.params.professionalId,e.name=t.params.professionalName,e.isProfessional=!0)}}),[t.params]);(0,a.useCallback)((e=>"Me"===e.sender),[]);const R=(0,a.useCallback)((({item:t})=>{const o=t.sender===de;return(0,C.jsx)(O,{data:t.data,isFromMe:o,timestamp:t.timestamp,onAccept:()=>{e.navigate("BookingDetails",{bookingId:null,initialData:{serviceType:t.data.serviceType,pets:t.data.pets,occurrences:t.data.occurrences,status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES,clientName:y.name,professionalName:"Me"}})}})}),[e,y,de]),F=(0,a.useCallback)((({item:e})=>{if("booking_request"===e.type)return R({item:e});const t=e.sender===de;return(0,C.jsxs)(n.default,{style:t?c.sentMessageContainer:c.receivedMessageContainer,children:[(0,C.jsx)(r.default,{style:[c.senderAbove,t?c.sentSenderName:c.receivedSenderName],children:t?"Me":y?.name}),(0,C.jsx)(n.default,{style:[c.messageCard,t?c.sentMessage:c.receivedMessage],children:(0,C.jsx)(n.default,{style:c.messageContent,children:(0,C.jsx)(r.default,{style:[c.messageText,t?c.sentMessageText:c.receivedMessageText],children:e.content})})}),(0,C.jsx)(r.default,{style:[c.timestampBelow,t?c.sentTimestamp:c.receivedTimestamp],children:new Date(e.timestamp).toLocaleTimeString()})]})}),[y,R]),W=async e=>{try{const t={content:e,sender:"Me",timestamp:(new Date).toISOString()},o=await new Promise((e=>{setTimeout((()=>{e({status:200,data:t})}),1e3)}));return console.log("Message sent:",o.data),o.data}catch(t){throw console.error("Error sending message:",t),t}},_=()=>{const[e,t]=(0,a.useState)(""),o=(0,a.useRef)(null),r=async()=>{if(e.trim()&&!w){S(!0);try{await W(e.trim());const o={message_id:Date.now().toString(),participant1_id:y?.participant1_id!==de?y?.participant1_id:de,participant2_id:y?.participant2_id!==de?y?.participant2_id:de,sender:de,role_map:y?.role_map,content:e.trim(),timestamp:(new Date).toISOString(),status:"sent",is_booking_request:!1,metadata:{}};j((e=>[...e,o])),t("")}catch(o){console.error("Failed to send message:",o)}finally{S(!1)}}};return(0,C.jsxs)(n.default,{style:c.inputInnerContainer,children:[(0,C.jsx)("input",{ref:o,type:"text",style:c.webInput,placeholder:"Type a message...",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),r())},disabled:w}),(0,C.jsx)(Te.default,{mode:"contained",onPress:r,disabled:w,style:[c.sendButton,l<=600&&c.sendButtonMobile],children:w?(0,C.jsx)(Pt.default,{color:p.colors.whiteText,size:"small"}):l<=600?(0,C.jsx)(g.default,{name:"arrow-up",size:16,color:p.colors.whiteText}):"Send"})]})},E=((0,C.jsx)(_,{}),()=>(0,C.jsx)(n.default,{style:c.conversationListContainer,children:z.map((e=>{const t=e.participant1_id===de?e.participant2_name:e.participant1_name;return(0,C.jsx)(i.default,{style:[c.conversationItem,u===e.id&&c.selectedConversation],onPress:()=>f(e.id),children:(0,C.jsxs)(n.default,{style:c.conversationContent,children:[(0,C.jsxs)(n.default,{style:c.conversationHeader,children:[(0,C.jsx)(r.default,{style:c.conversationName,children:t||e.name||"Unknown"}),(0,C.jsx)(r.default,{style:c.conversationTime,children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,C.jsx)(r.default,{style:[c.conversationLastMessage,u===e.id&&c.activeConversationText,e.unread&&c.unreadMessage],numberOfLines:1,children:e.lastMessage}),e.bookingStatus&&(0,C.jsx)(n.default,{style:[c.bookingStatusContainer,c["booking".concat(e.bookingStatus,"Status")]||c.bookingPendingStatus],children:(0,C.jsx)(r.default,{style:c.bookingStatus,children:e.bookingStatus})})]})},e.id)}))})),N=()=>u?(0,C.jsxs)(n.default,{style:c.messageSection,children:[l>1e3&&y&&(0,C.jsx)(n.default,{style:c.messageHeader,children:(0,C.jsx)(r.default,{style:c.messageHeaderName,children:y.name})}),(0,C.jsx)(n.default,{style:c.messagesContainer,children:0===b.length?(0,C.jsx)(r.default,{style:{padding:16,color:p.colors.placeholder},children:"No messages yet. Start the conversation!"}):(0,C.jsx)(Ae.default,{data:b,renderItem:F,keyExtractor:e=>e.message_id||Date.now().toString(),style:c.messageList})}),(0,C.jsxs)(n.default,{style:c.inputWrapper,children:[(0,C.jsxs)(n.default,{style:c.attachButtonContainer,children:[(0,C.jsx)(i.default,{style:c.attachButton,onPress:()=>I(!B),children:(0,C.jsx)(g.default,{name:B?"close":"plus",size:24,color:p.colors.primary})}),B&&(0,C.jsx)(n.default,{style:c.dropdownMenu,children:(0,C.jsxs)(i.default,{style:c.dropdownItem,onPress:()=>{(async()=>{const t=z.find((e=>e.id===u));if(console.log("Current conversation:",t),console.log("CURRENT_USER_ID:",de),console.log("Selected conversation ID:",u),!t)return void console.log("No conversation found");console.log("Participant1 ID:",t.participant1_id),console.log("Participant2 ID:",t.participant2_id),console.log("Role map:",t.role_map);const o=t.participant1_id===de&&"professional"===t.role_map.participant1_role||t.participant2_id===de&&"professional"===t.role_map.participant2_role;if(console.log("Is Professional?",o),o){console.log("User is professional - creating booking and navigating to details");try{const o=t.participant1_id===de?t.participant2_id:t.participant1_id,a=de;console.log("Creating booking with:",{clientId:o,professionalId:a,clientName:t.name});const n=await se(o,a,{clientName:t.name,professionalName:"Me",status:J.PENDING_INITIAL_PROFESSIONAL_CHANGES});console.log("Created booking with ID:",n),n&&(console.log("Navigating to BookingDetails with:",{bookingId:n,initialData:null}),e.navigate("BookingDetails",{bookingId:n,initialData:null}))}catch(a){console.error("Error creating booking:",a),Se.default.alert("Error","Unable to create booking. Please try again.")}}else console.log("User is client - showing request modal"),k(!0);I(!1)})(),I(!1)},children:[(0,C.jsx)(g.default,{name:"calendar-plus",size:20,color:p.colors.primary}),(0,C.jsx)(r.default,{style:c.dropdownText,children:"Request Booking"})]})})]}),(0,C.jsx)(n.default,{style:c.inputContainer,children:(0,C.jsx)(_,{})})]})]}):null;(0,a.useEffect)((()=>{const e=()=>{const e=m.default.get("window").width;d(e)};return window.addEventListener("resize",e),e(),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]);const O=({data:e,onAccept:t,isFromMe:o,timestamp:a})=>{const s=(0,A.useNavigation)();return(0,C.jsxs)(n.default,{style:[c.bookingRequestCard,o?c.sentBookingRequest:c.receivedBookingRequest],children:[(0,C.jsxs)(n.default,{style:c.bookingRequestHeader,children:[(0,C.jsx)(g.default,{name:"calendar-clock",size:24,color:p.colors.primary}),(0,C.jsx)(r.default,{style:c.bookingRequestTitle,children:"professional_changes"===e.messageType?"Booking Update":"client_approval"===e.messageType?"Booking Approval":"Booking Request"})]}),e.status&&(0,C.jsx)(n.default,{style:c.statusContainer,children:(0,C.jsxs)(r.default,{style:c.statusText,children:["Status: ",e.status]})}),(0,C.jsxs)(n.default,{style:c.bookingRequestDetails,children:[(0,C.jsx)(r.default,{style:c.detailLabel,children:"Service:"}),(0,C.jsx)(r.default,{style:c.detailText,children:e.serviceType}),e.pets&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(r.default,{style:c.detailLabel,children:"Pets:"}),(0,C.jsx)(r.default,{style:c.detailText,children:e.pets.map((e=>e.name)).join(", ")})]}),(0,C.jsx)(r.default,{style:c.detailLabel,children:"Dates:"}),e.dates?e.dates.map(((e,t)=>(0,C.jsxs)(r.default,{style:c.detailText,children:[(0,Ut.format)(new Date(e.startDate),"MMM d, yyyy")," ",e.startTime," - ",e.endTime]},t))):e.occurrences?e.occurrences.map(((e,t)=>(0,C.jsxs)(r.default,{style:c.detailText,children:[(0,Ut.format)(new Date(e.startDate),"MMM d, yyyy")," ",e.startTime," - ",e.endTime]},t))):null,void 0!==e.totalCost&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(r.default,{style:c.detailLabel,children:"Total Cost:"}),(0,C.jsxs)(r.default,{style:c.detailText,children:["$",e.totalCost.toFixed(2)]})]})]}),(0,C.jsx)(i.default,{style:c.viewBookingButton,onPress:()=>{s.navigate("BookingDetails",{bookingId:e.bookingId,readOnly:!o})},children:(0,C.jsx)(r.default,{style:c.viewBookingText,children:"View Booking Details"})})]})};return(0,C.jsxs)(Ce.default,{style:[c.container,l<=1e3&&u&&c.mobileContainer],children:[z.length>0?(0,C.jsxs)(C.Fragment,{children:[l<=1e3&&u?null:(0,C.jsxs)(n.default,{style:c.headerContainer,children:[(0,C.jsx)(r.default,{style:c.headerTitle,children:"Conversations"}),(0,C.jsx)(Te.default,{mode:"text",onPress:()=>{},style:c.filterButton,children:"Filter"})]}),(0,C.jsx)(n.default,{style:[c.contentContainer,l<=1e3&&u&&c.mobileContent],children:l<=1e3?u?(0,C.jsxs)(n.default,{style:c.mobileMessageView,children:[(0,C.jsx)(n.default,{style:c.mobileHeader,children:(0,C.jsxs)(n.default,{style:c.mobileHeaderContent,children:[(0,C.jsx)(i.default,{style:c.backArrow,onPress:()=>f(null),children:(0,C.jsx)(g.default,{name:"arrow-left",size:24,color:p.colors.primary})}),(0,C.jsx)(r.default,{style:c.mobileHeaderName,children:y?.name})]})}),(0,C.jsx)(n.default,{style:c.mobileContent,children:N()})]}):E():(0,C.jsxs)(C.Fragment,{children:[E(),N()]})})]}):(0,C.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",padding:20},children:[(0,C.jsx)(g.default,{name:"message-text-outline",size:64,color:p.colors.placeholder,style:{marginBottom:16}}),(0,C.jsx)(r.default,{style:{fontSize:20,fontWeight:"bold",color:p.colors.text,marginBottom:8,textAlign:"center"},children:"No Messages Yet"}),(0,C.jsx)(r.default,{style:{fontSize:16,color:p.colors.placeholder,marginBottom:24,textAlign:"center"},children:"Create services to start getting bookings and messages from clients"}),(0,C.jsx)(Te.default,{mode:"contained",onPress:()=>e.navigate("Services"),style:{borderRadius:8},children:"Create Services"})]}),(0,C.jsx)(wo,{visible:T,onClose:()=>k(!1),onSubmit:async e=>{try{const t={message_id:Date.now().toString(),participant1_id:y?.participant1_id,participant2_id:y?.participant2_id,sender:de,role_map:y?.role_map,type:"booking_request",data:e.data,timestamp:(new Date).toISOString(),status:"sent",is_booking_request:!0,metadata:{}};j((e=>[...e,t])),k(!1)}catch(t){console.error("Error sending booking request:",t),Se.default.alert("Error","Unable to send booking request. Please try again.",[{text:"OK"}])}}})]})};var So=o(61457),vo=o(74352),To=o(27339);const ko=o.p+"static/media/.env.574bd0dc5d246bd65b37";let Bo=null,Io=null,Po=null,zo=null,Do=null,Ro=null;const Fo={supportedCountries:["US"],style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},Ao=({onChange:e,paymentType:t})=>{const o=Po&&Po(),n=zo&&zo(),[r,i]=(0,a.useState)({accountNumber:"",routingNumber:""});(0,a.useEffect)((()=>{o&&n&&e({complete:!1,stripe:o,elements:n,paymentType:t})}),[o,n,t]);const s=(a,s)=>{const l=Object.assign({},r,{[a]:s});i(l);const d=l.accountNumber.length>=9,c=9===l.routingNumber.length;e({complete:d&&c,value:l,stripe:o,elements:n,paymentType:t})};return(0,C.jsx)("div",{style:{padding:"10px 0"},children:"card"===t?(0,C.jsx)(Do,{options:Fo,onChange:a=>e(Object.assign({},a,{stripe:o,elements:n,paymentType:t}))}):(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:(0,C.jsx)("input",{className:"stripe-input",placeholder:"Account Number",value:r.accountNumber,onChange:e=>s("accountNumber",e.target.value),style:{padding:"10px",border:"1px solid #ccc",borderRadius:"4px",width:"50%",marginTop:"5px"}})}),(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:(0,C.jsx)("input",{className:"stripe-input",placeholder:"Routing Number",value:r.routingNumber,onChange:e=>s("routingNumber",e.target.value),style:{padding:"10px",border:"1px solid #ccc",borderRadius:"4px",width:"50%",marginTop:"5px"}})})]})})},Wo=({onChange:e,paymentType:t})=>null,_o=({onChange:e,paymentType:t})=>{const{is_prototype:r}=(0,a.useContext)(v);return(0,a.useEffect)((()=>{(async e=>{if(!e){const e=await o.e(210).then(o.bind(o,79210)),t=await Promise.resolve().then(o.t.bind(o,32147,23));Bo=e.loadStripe(void 0),Io=t.Elements,Po=t.useStripe,zo=t.useElements,Do=t.CardElement,Ro=t.IbanElement}})(r)}),[r]),r?(0,C.jsx)(n.default,{style:Eo.container,children:"card"===t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N.default,{style:Eo.input,placeholder:"Card Number",keyboardType:"numeric"}),(0,C.jsx)(N.default,{style:Eo.input,placeholder:"MM/YY",keyboardType:"numeric"}),(0,C.jsx)(N.default,{style:Eo.input,placeholder:"CVC",keyboardType:"numeric",secureTextEntry:!0})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N.default,{style:Eo.input,placeholder:"Account Number",keyboardType:"numeric"}),(0,C.jsx)(N.default,{style:Eo.input,placeholder:"Routing Number",keyboardType:"numeric"})]})}):Io&&Bo?(0,C.jsx)(Io,{stripe:Bo,children:(0,C.jsx)(Ao,{onChange:e,paymentType:t})}):(0,C.jsx)(Wo,{onChange:e,paymentType:t})},Eo=s.default.create({input:{height:50,borderWidth:1,borderColor:"#ddd",borderRadius:4,marginVertical:5,paddingHorizontal:10},bankInputsContainer:{marginHorizontal:16,marginBottom:16},bankInput:{marginBottom:16},container:{padding:16}});var No=o(32147);const{width:Oo}=m.default.get("window"),Mo=s.default.create({container:{flex:1,width:"100%",overflow:"hidden"},contentContainer:{padding:16,alignItems:"center",width:"100%"},sectionContainer:{width:"100%",maxWidth:500,alignSelf:"center"},card:{marginBottom:16,width:"100%",alignSelf:"center"},addButton:{marginTop:16,width:"100%"},segmentedButtons:{marginBottom:16,maxWidth:500,alignSelf:"center",minHeight:40},sectionTitle:{fontSize:20,fontWeight:"bold",color:p.colors.primary},cardContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},methodInfo:{flex:1},methodType:{fontSize:16,fontWeight:"bold"},primaryOptionsContainer:{marginTop:8,gap:4},checkboxRow:{flexDirection:"row",alignItems:"center"},checkbox:{margin:0,padding:0},checkboxLabel:{fontSize:14,color:p.colors.text,marginLeft:-8},cardActions:{flexDirection:"row",alignItems:"center"},dialog:{width:"90%",alignSelf:"center",maxWidth:500,marginHorizontal:"auto"},input:{marginBottom:16},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginLeft:8},errorText:{color:p.colors.error,marginBottom:10},closeButton:{position:"absolute",right:5,top:5},loadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.7)",justifyContent:"center",alignItems:"center"},bankName:{fontSize:14,color:p.colors.secondary,marginTop:4},verificationNeeded:{color:p.colors.error,fontSize:12,marginTop:4},amountsContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:16,marginBottom:16},amountInput:{width:"48%"},verificationText:{marginBottom:8,fontSize:14},headerContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16,width:"100%"},addIconButton:{margin:0},webContainer:{display:"flex",flexDirection:"column",minHeight:"85vh",width:"100%",maxWidth:"100%",overflowX:"hidden"}}),Lo=()=>{const e=(0,A.useNavigation)(),[t,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[u,f]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[y,x]=(0,a.useState)({type:"card",cardNumber:"",expiryDate:"",cvc:"",accountNumber:"",routingNumber:""}),{isApprovedProfessional:b,is_prototype:j,is_DEBUG:w}=(0,a.useContext)(v),[S,T]=(0,a.useState)(!1),[k,B]=(0,a.useState)(!1),[I,P]=(0,a.useState)(null),[z,D]=(0,a.useState)(null),[R,F]=(0,a.useState)(!0),[_,E]=(0,a.useState)(null),[N,O]=(0,a.useState)(!1),[M,L]=(0,a.useState)(null),[H,V]=(0,a.useState)(null),[U,G]=(0,a.useState)({accountNumber:!1,routingNumber:!1}),[q,Y]=(0,a.useState)(!1),[J,$]=(0,a.useState)({first:"",second:""}),[K,Z]=(0,a.useState)(null),[Q,X]=(0,a.useState)(!1);if((0,a.useEffect)((()=>{i([{id:"1",type:"bank",accountNumber:"****1234",routingNumber:"123456789",isPrimaryPayment:!0,isPrimaryReceive:!0,is_verified:!0},{id:"2",type:"card",last4:"4242",brand:"Visa",isPrimaryPayment:!1,isPrimaryReceive:!1,is_verified:!0},{id:"3",type:"bank",accountNumber:"****5678",routingNumber:"987654321",isPrimaryPayment:!1,isPrimaryReceive:!1,is_verified:!0}])}),[]),(0,a.useEffect)((()=>{if(j)F(!1);else{console.log("Stripe loading started"),F(!0);const e=async()=>{try{const e=await o.e(210).then(o.bind(o,79210)),t=await Promise.resolve().then(o.t.bind(o,32147,23));e&&t&&(console.log("Stripe modules loaded"),F(!1))}catch(_){console.error("Error loading Stripe modules:",_),F(!1)}};e()}}),[j]),R)return w&&console.log("Loading indicator should be visible"),(0,C.jsx)(n.default,{style:Mo.loadingContainer,children:(0,C.jsx)(Pt.default,{size:"large",color:p.colors.primary})});const ee=e=>{E(""),f(Object.assign({},e)),x({type:e.type,cardNumber:"",expiryDate:"",cvc:"",accountNumber:e.accountNumber||"",routingNumber:e.routingNumber||""}),l(!0)},te=e=>{P(Object.assign({},e)),D(null),B(!0)},oe=(e,t)=>{f({id:e}),h(t),c(!0)},ae=async()=>{T(!0);try{await new Promise((e=>setTimeout(e,2e3))),i((e=>e.map((e=>Object.assign({},e,"payment"===m&&{isPrimaryPayment:e.id===u.id},"receive"===m&&{isPrimaryReceive:e.id===u.id}))))),console.log("Primary method updated:",u)}catch(_){console.error("Failed to update primary method:",_)}finally{T(!1),c(!1),h(null)}},ne=async()=>{if(I.isPrimaryPayment&&I.isPrimaryReceive)D("This payment method is set as both your primary payment and receive method. Please select another payment method for both before deleting this one.");else if(I.isPrimaryPayment)D("This is your primary payment method. Please select another payment method before deleting this one.");else if(I.isPrimaryReceive)D("This is your primary receive method. Please select another receive method before deleting this one.");else{T(!0);try{await new Promise((e=>setTimeout(e,2e3))),i((e=>e.filter((e=>e.id!==I.id)))),console.log("Payment method deleted:",I),B(!1)}catch(_){console.error("Failed to delete payment method:",_),D("An error occurred while deleting the payment method. Please try again.")}finally{T(!1)}}},re=e=>{Z(e),$({first:"",second:""}),Y(!0),E(null)},ie=async()=>{F(!0),E(null);try{if(!K)throw new Error("Missing required verification data");const e=parseInt(J.first),t=parseInt(J.second);if([e,t].some((e=>isNaN(e)||e<1||e>99)))throw new Error("Please enter valid amounts between 1 and 99 cents");const o=()=>new Promise(((o,a)=>{setTimeout((()=>{12===e&&12===t?o({success:!0}):a(new Error("The amounts entered do not match our records. Please verify the amounts and try again."))}),1e3)})),a=(await o(),e=>e.map((e=>e.id===K.id?Object.assign({},e,{is_verified:!0}):e)));i((e=>a(e))),Y(!1),Z(null),$({first:"",second:""}),E("Bank account successfully verified!")}catch(e){console.error("Verification error:",e),E(e.message||"Failed to verify bank account. Please check the amounts and try again.")}finally{F(!1)}},se=e=>{console.log("Payment change event:",e),"card"===y.type?O(e.complete):(e.value&&G((t=>Object.assign({},t,{accountNumber:e.value.accountNumber?.length>=9||t.accountNumber,routingNumber:9===e.value.routingNumber?.length||t.routingNumber}))),O(U.accountNumber&&U.routingNumber)),L({stripe:e.stripe,elements:e.elements,complete:e.complete,paymentType:y.type,value:e.value}),"bank"===y.type&&e.value&&x((t=>Object.assign({},t,{accountNumber:e.value.accountNumber||t.accountNumber,routingNumber:e.value.routingNumber||t.routingNumber})))},le=async()=>{if("card"===y.type){if(!N)return void E("Please complete card details")}else if("bank"===y.type&&(!U.accountNumber||!U.routingNumber))return void E("Please complete both account number and routing number");F(!0),E(null);try{{if(!M.stripe||!M.elements)throw new Error("Stripe not initialized");let e;if("card"===y.type){if(e=await M.stripe.createPaymentMethod({type:"card",card:M.elements.getElement(No.CardElement)}),console.log("Card payment method result:",e),e.error)throw new Error(e.error.message);const t={id:e.paymentMethod.id,type:"card",last4:e.paymentMethod.card.last4,brand:e.paymentMethod.card.brand,is_verified:!1};i((e=>[...e,t]))}else{if(e=await M.stripe.createToken("bank_account",{country:"US",currency:"usd",routing_number:M.value.routingNumber,account_number:M.value.accountNumber,account_holder_type:"individual"}),console.log("Bank token creation result:",e),e.error||!e.token)throw new Error(e.error?.message||"Invalid routing number. Please check and try again.");const t={id:e.token.id,type:"bank",accountNumber:"****".concat(e.token.bank_account.last4),routingNumber:M.value.routingNumber,bankName:e.token.bank_account.bank_name,is_verified:!1};i((e=>[...e,t])),E("Bank account added but requires verification. Two small deposits will be made to your account in 1-2 business days. Please check your account and return to verify the amounts.")}l(!1)}l(!1)}catch(e){console.error("Payment method error:",e),E(e.message||"Failed to save payment method")}finally{F(!1)}};return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Payment Methods",onBackPress:()=>e.navigate("More")}),(0,C.jsxs)(W.default,{style:Mo.container,contentContainerStyle:Mo.contentContainer,children:[(0,C.jsxs)(n.default,{style:Mo.sectionContainer,children:[(0,C.jsxs)(n.default,{style:Mo.headerContainer,children:[(0,C.jsx)(r.default,{style:Mo.sectionTitle,children:"Payment Methods"}),(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"plus",size:24,color:p.colors.primary}),onPress:()=>(async()=>{if(E(null),f(null),x({type:"card",cardNumber:"",expiryDate:"",cvc:"",accountNumber:"",routingNumber:""}),l(!0),w&&console.log("MBA: Setting modalLoading to true"),X(!0),!j)if(w&&console.log("MBA: Initializing Stripe elements for web"),M&&M.stripe&&M.elements)w&&console.log("MBA: Stripe elements already initialized");else{w&&console.log("MBA: Stripe elements not initialized, setting up now");try{const{loadStripe:e}=await o.e(210).then(o.bind(o,79210)),t=await e(ko);if(t){w&&console.log("MBA: Stripe loaded successfully");const e=t.elements();L({stripe:t,elements:e,complete:!1,paymentType:"card",value:{}})}}catch(_){w&&console.error("MBA: Error initializing Stripe elements:",_)}}setTimeout((()=>{w&&console.log("MBA: Setting modalLoading to false"),X(!1)}),500)})(),style:Mo.addIconButton})]}),t.map((e=>(e=>(0,C.jsx)(yt.default,{style:Mo.card,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsxs)(n.default,{style:Mo.cardContent,children:[(0,C.jsxs)(n.default,{style:Mo.methodInfo,children:[(0,C.jsx)(r.default,{style:Mo.methodType,children:"card"===e.type?"".concat(e.brand," \u2022\u2022\u2022\u2022 ").concat(e.last4):"Bank Account ".concat(e.accountNumber||"\u2022\u2022\u2022\u2022 undefined")}),e.bankName&&(0,C.jsx)(r.default,{style:Mo.bankName,children:e.bankName}),!e.is_verified&&(0,C.jsx)(r.default,{style:Mo.verificationNeeded,children:"card"===e.type?"Card Verification In Progress":"Bank Account Verification Required"})]}),(0,C.jsxs)(n.default,{style:Mo.cardActions,children:[!e.is_verified&&"bank"===e.type&&(0,C.jsx)(Te.default,{onPress:()=>re(e),mode:"contained",children:"Verify"}),e.is_verified&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary}),onPress:()=>ee(e)}),(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"delete",size:20,color:p.colors.error}),onPress:()=>te(e)})]})]})]}),e.is_verified&&(0,C.jsxs)(n.default,{style:Mo.primaryOptionsContainer,children:[(0,C.jsxs)(n.default,{style:Mo.checkboxRow,children:[(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:e.isPrimaryPayment?"checkbox-marked":"checkbox-blank-outline",size:24,color:p.colors.primary}),onPress:()=>oe(e.id,"payment"),style:Mo.checkbox}),(0,C.jsx)(r.default,{style:Mo.checkboxLabel,children:e.isPrimaryPayment?"Primary Payment Method":"Make Primary Payment Method"})]}),"bank"===e.type&&b&&(0,C.jsxs)(n.default,{style:Mo.checkboxRow,children:[(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:e.isPrimaryReceive?"checkbox-marked":"checkbox-blank-outline",size:24,color:p.colors.primary}),onPress:()=>oe(e.id,"receive"),style:Mo.checkbox}),(0,C.jsx)(r.default,{style:Mo.checkboxLabel,children:e.isPrimaryReceive?"Primary Receive Method":"Make Primary Receive Method"})]})]})]})},e.id))(e)))]}),(w&&(console.log("MBA: Rendering Add Payment Method Modal"),console.log("MBA: modalLoading state:",Q)),(0,C.jsx)(ke.default,{children:(0,C.jsxs)(To.default,{visible:s,onDismiss:()=>l(!1),style:Mo.dialog,children:[(0,C.jsx)(To.default.Title,{children:"Add Payment Method"}),(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text}),onPress:()=>l(!1),style:Mo.closeButton}),(0,C.jsx)(To.default.Content,{children:Q?(0,C.jsxs)(n.default,{style:Mo.loadingContainer,children:[(0,C.jsx)(Pt.default,{size:"large",color:p.colors.primary}),(0,C.jsx)(r.default,{style:Mo.loadingText,children:"Loading..."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(vo.default,{value:y.type,onValueChange:e=>x(Object.assign({},y,{type:e})),buttons:[{value:"card",label:"Credit Card"},{value:"bank",label:"Bank Account"}],style:Mo.segmentedButtons}),(0,C.jsx)(_o,{onChange:se,paymentType:y.type},y.type),_&&(0,C.jsx)(r.default,{style:Mo.errorText,children:_})]})}),(0,C.jsxs)(To.default.Actions,{children:[(0,C.jsx)(Te.default,{onPress:()=>l(!1),disabled:R,children:"Cancel"}),(0,C.jsx)(Te.default,{onPress:le,disabled:R||"card"===y.type&&!N||"bank"===y.type&&(!U.accountNumber||!U.routingNumber),loading:R,children:"Save"})]})]})})),(0,C.jsx)(ke.default,{children:(0,C.jsxs)(To.default,{visible:d,onDismiss:()=>c(!1),style:Mo.dialog,children:[(0,C.jsx)(To.default.Title,{children:"receive"===m?"Confirm Primary Receive Method":"Confirm Primary Payment Method"}),(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text}),onPress:()=>c(!1),style:Mo.closeButton}),(0,C.jsxs)(To.default.Content,{children:[(0,C.jsx)(r.default,{children:"receive"===m?"Are you sure you want to make this your primary receive method?":"Are you sure you want to make this your primary payment method?"}),S&&(0,C.jsxs)(n.default,{style:Mo.loadingContainer,children:[(0,C.jsx)(Pt.default,{animating:!0,color:p.colors.primary}),(0,C.jsx)(r.default,{style:Mo.loadingText,children:"receive"===m?"Updating primary receive method...":"Updating primary payment method..."})]})]}),(0,C.jsxs)(To.default.Actions,{children:[(0,C.jsx)(Te.default,{onPress:()=>c(!1),disabled:S,children:"Cancel"}),(0,C.jsx)(Te.default,{onPress:ae,disabled:S,children:"Confirm"})]})]})}),(0,C.jsx)(ke.default,{children:(0,C.jsxs)(To.default,{visible:k,onDismiss:()=>B(!1),style:Mo.dialog,children:[(0,C.jsx)(To.default.Title,{children:"Confirm Delete Payment Method"}),(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text}),onPress:()=>B(!1),style:Mo.closeButton}),(0,C.jsxs)(To.default.Content,{children:[z?(0,C.jsx)(r.default,{style:Mo.errorText,children:z}):(0,C.jsx)(r.default,{children:"Are you sure you want to delete this payment method?"}),S&&(0,C.jsxs)(n.default,{style:Mo.loadingContainer,children:[(0,C.jsx)(Pt.default,{animating:!0,color:p.colors.primary}),(0,C.jsx)(r.default,{style:Mo.loadingText,children:"Deleting payment method..."})]})]}),(0,C.jsxs)(To.default.Actions,{children:[(0,C.jsx)(Te.default,{onPress:()=>B(!1),disabled:S,children:"Cancel"}),(0,C.jsx)(Te.default,{onPress:ne,disabled:S||z,children:"Confirm"})]})]})}),(0,C.jsx)(ke.default,{children:(0,C.jsxs)(To.default,{visible:q,onDismiss:()=>Y(!1),style:Mo.dialog,children:[(0,C.jsx)(To.default.Title,{children:"Verify Bank Account"}),(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text}),onPress:()=>Y(!1),style:Mo.closeButton}),(0,C.jsxs)(To.default.Content,{children:[(0,C.jsx)(r.default,{style:Mo.verificationText,children:"A deposit will be made to your bank account in 1-2 business days of adding your bank account. Please enter the two small deposit amounts that were made to your account:"}),(0,C.jsxs)(n.default,{style:Mo.amountsContainer,children:[(0,C.jsx)(ve.default,{label:"First Amount (cents)",value:J.first,onChangeText:e=>$((t=>Object.assign({},t,{first:e}))),keyboardType:"numeric",style:Mo.amountInput,mode:"outlined",placeholder:"32"}),(0,C.jsx)(ve.default,{label:"Second Amount (cents)",value:J.second,onChangeText:e=>$((t=>Object.assign({},t,{second:e}))),keyboardType:"numeric",style:Mo.amountInput,mode:"outlined",placeholder:"45"})]}),_&&(0,C.jsx)(r.default,{style:Mo.errorText,children:_})]}),(0,C.jsxs)(To.default.Actions,{children:[(0,C.jsx)(Te.default,{onPress:()=>Y(!1),disabled:R,children:"Cancel"}),(0,C.jsx)(Te.default,{onPress:ie,loading:R,disabled:R||!J.first||!J.second,children:"Verify"})]})]})})]})]})};var Ho=o(59793);const Vo=s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0},content:{flex:1},listSection:{backgroundColor:p.colors.surface},webContent:{width:"100%",maxWidth:600,alignSelf:"center",padding:16},webListItem:{borderBottomWidth:1,borderBottomColor:p.colors.border},warningContainer:{backgroundColor:"#FFF3CD",padding:p.spacing.small,marginHorizontal:p.spacing.small,marginTop:p.spacing.small,borderRadius:4},warningText:{color:"#856404",textAlign:"center"}}),Uo=({navigation:e})=>{const{is_prototype:t}=(0,a.useContext)(v),o=[{title:"Change Password",icon:"lock-reset",route:"ChangePassword"},{title:"Notification Preferences",icon:"bell-outline",route:"NotificationPreferences"},{title:"Privacy Settings",icon:"shield-account",route:"PrivacySettings"},{title:"Language",icon:"translate",route:"LanguageSettings"},{title:"Display & Accessibility",icon:"palette",route:"DisplaySettings"},{title:"Data Usage",icon:"chart-bar",route:"DataUsage"},{title:"About",icon:"information-outline",route:"About"}];return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Settings",onBackPress:()=>e.navigate("More")}),t&&(0,C.jsx)(n.default,{style:Vo.warningContainer,children:(0,C.jsx)(r.default,{style:Vo.warningText,children:'Prototype Mode: Only "Change Password" is currently functional'})}),(0,C.jsx)(n.default,{style:Vo.webContent,children:(0,C.jsx)(Et.default,{style:Vo.listSection,children:o.map(((t,n)=>(0,C.jsxs)(a.Fragment,{children:[(0,C.jsx)(jt.default,{title:t.title,left:e=>(0,C.jsx)(g.default,{name:t.icon,size:24,color:p.colors.primary}),onPress:()=>e.navigate(t.route),style:Vo.webListItem}),n<o.length-1&&(0,C.jsx)(Ho.default,{})]},n)))})})]})},Go="Zen Exotics",qo=s.default.create({container:{flex:1,padding:20,width:"100%",maxWidth:800,alignSelf:"center"},contentContainer:{paddingBottom:16},title:{fontSize:24,fontWeight:"bold",marginBottom:10,color:p.colors.primary},date:{fontSize:16,marginBottom:20,color:p.colors.text},sectionTitle:{fontSize:20,fontWeight:"bold",marginTop:20,marginBottom:10,color:p.colors.primary},paragraph:{fontSize:16,marginBottom:10,color:p.colors.text},listItem:{fontSize:16,marginBottom:5,marginLeft:10,color:p.colors.text}}),Yo=()=>{const e=(0,A.useNavigation)(),{is_prototype:t}=(0,a.useContext)(v);return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Privacy Policy",onBackPress:()=>z(e)}),(0,C.jsx)(r.default,{children:"Privacy Policy coming soon. We collect no data right now other than your email address and name from a contact form."}),t?null:(0,C.jsxs)(W.default,{style:qo.container,contentContainerStyle:qo.contentContainer,children:[(0,C.jsxs)(r.default,{style:qo.title,children:["Privacy Policy for ",Go]}),(0,C.jsx)(r.default,{style:qo.date,children:"Effective Date: 10/21/2024"}),(0,C.jsxs)(r.default,{style:qo.paragraph,children:["By accessing or using ",Go,", you agree to the practices described in this Privacy Policy. If you do not agree with these terms, please discontinue the use of our services immediately."]}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"Information We Collect"}),(0,C.jsxs)(r.default,{style:qo.paragraph,children:["When you use ",Go,", we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:"]}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Personal Information: Name, email, phone number, address, and service preferences."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Cookies and Tracking: We use cookies and tracking technologies to improve user experience and monitor traffic patterns. You can disable cookies in your browser settings."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"How We Use Your Data"}),(0,C.jsx)(r.default,{style:qo.paragraph,children:"We use the data we collect to:"}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Facilitate bookings and transactions between professionals and clients."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Verify professional eligibility through background checks."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Provide customer support and resolve disputes between users."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Improve app functionality through analytics and feedback."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Manage communications between professionals and clients."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Use health data for internal analysis and marketing purposes. We retain control over how this data is used."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"Sharing of Information"}),(0,C.jsx)(r.default,{style:qo.paragraph,children:"We may share your data in the following ways:"}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 With Other Users: For bookings, we share relevant information between professionals and pet owners."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 With Third-Party Providers: Payment processors, analytics providers, and background check services may access limited information to perform their services."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Legal and Compliance Purposes: We may disclose information if required by law or to protect the safety and security of our users."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Business Transfers: In case of a merger, sale, or acquisition, your data may be transferred to a new owner."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Aggregated Data: We may share non-identifiable, aggregated data for research or business purposes."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"Your Rights and Choices"}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Account Management: You can update or delete your account information through the app settings."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Health Data Access: You may review the health data associated with your pets but agree that we control its use."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Location Services: Manage your location preferences through your device settings."}),(0,C.jsx)(r.default,{style:qo.listItem,children:"\u2022 Cookie Preferences: You can opt out of personalized ads and tracking through your browser settings."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"Security and Data Retention"}),(0,C.jsx)(r.default,{style:qo.paragraph,children:"We implement reasonable security measures to protect your data, though no system is entirely secure. We retain your data as long as needed for operational purposes or as required by law."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"International Data Transfers"}),(0,C.jsx)(r.default,{style:qo.paragraph,children:"Your data may be processed or stored in countries outside your own. By using the app, you agree to these transfers, even if those countries have different data protection laws."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"Changes to This Privacy Policy"}),(0,C.jsx)(r.default,{style:qo.paragraph,children:"We may update this policy from time to time to reflect changes in our practices or services. We will notify you of significant changes through the app or via email. Continued use of the app constitutes acceptance of the revised policy."}),(0,C.jsx)(r.default,{style:qo.sectionTitle,children:"Contact Us"}),(0,C.jsx)(r.default,{style:qo.paragraph,children:"If you have questions or concerns about this policy, please contact us:"}),(0,C.jsx)(r.default,{style:qo.listItem,children:"Email: zam.hh.llc@gmail.com"}),(0,C.jsx)(r.default,{style:qo.listItem,children:"Phone: 7195106341"})]})]})},Jo=s.default.create({container:{flex:1,padding:20,backgroundColor:p.colors.background},title:{fontSize:24,fontWeight:"bold",marginBottom:20,color:p.colors.primary}}),$o=()=>(0,C.jsxs)(n.default,{style:Jo.container,children:[(0,C.jsx)(r.default,{style:Jo.title,children:"Professional Settings"}),(0,C.jsx)(r.default,{children:"Manage your professional profile and preferences here."})]}),Ko="Zen Exotics",Zo=s.default.create({container:{flex:1,padding:20},contentContainer:{paddingBottom:80},title:{fontSize:24,fontWeight:"bold",marginBottom:10,color:p.colors.primary},date:{fontSize:16,marginBottom:20,color:p.colors.text},sectionTitle:{fontSize:20,fontWeight:"bold",marginTop:20,marginBottom:10,color:p.colors.primary},paragraph:{fontSize:16,marginBottom:10,color:p.colors.text},listItem:{fontSize:16,marginBottom:5,marginLeft:10,color:p.colors.text},testSection:{marginBottom:20,borderWidth:1,borderColor:p.colors.border,padding:10,borderRadius:4}}),Qo=()=>{const e=(0,A.useNavigation)(),{is_prototype:t}=(0,a.useContext)(v);return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Terms of Service",onBackPress:()=>z(e)}),(0,C.jsx)(r.default,{children:"Terms of Service coming soon. Right now we are in prototype mode, so no data is saved except for email/name if you choose to contact us through this platform, then it is saved for marketing purposes."}),t?null:(0,C.jsxs)(W.default,{style:Zo.container,contentContainerStyle:Zo.contentContainer,children:[(0,C.jsxs)(r.default,{style:Zo.title,children:["Terms of Service for ",Ko]}),(0,C.jsx)(r.default,{style:Zo.date,children:"Effective Date: 10/21/2024"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["Welcome to ",Ko,'! By using our platform, mobile application, or any services offered through our platform (collectively, "the Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, you must discontinue use of the Service immediately.']}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"1. Description of Service"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:[Ko," provides an online platform for connecting pet owners with professionals specializing in exotic animals, as well as dogs and cats. Users can book services, communicate with professionals, and manage pet-related services, including payments and reviews."]}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"2. User Accounts"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"To use certain features of the Service, you must create an account. You are responsible for keeping your account information accurate and secure."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Eligibility: Users must be at least 18 years old to create an account."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Account Security: You are responsible for all activities under your account. Notify us immediately if you suspect unauthorized use."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Account Termination: We reserve the right to suspend or terminate accounts at our sole discretion for violations of these Terms."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"3. User Conduct and Acceptable Use"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"By using the Service, you agree:"}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 To provide accurate and complete information."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Not to engage in fraudulent or unlawful activities."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Not to use the Service for spam, harassment, or abusive behavior toward other users."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 To comply with all local, national, and international laws applicable to your activities on the platform."}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"Failure to comply with these rules may result in account suspension or termination."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"4. Pet and Health Information"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"You acknowledge that the Service involves the collection and sharing of health-related data for pets. By using the Service, you agree to provide accurate medical information for your animals and grant us permission to use and share this data as outlined in our Privacy Policy."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"5. Payment Terms"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"All transactions between pet owners and professionals must be processed through the platform's payment system, powered by Stripe. You agree to the following:"}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Booking Fees: You will be charged the agreed-upon amount at the time of booking."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Cancellations and Refunds: Cancellations are subject to our cancellation policy, which may result in partial or no refunds."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Payouts to Professionals: Professionals must provide accurate payment information and comply with local tax regulations."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"6. Liability and Disclaimer of Warranties"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["You acknowledge that ",Ko," does not guarantee the quality or safety of services provided by professionals. Our platform only facilitates connections between users."]}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 We are not liable for any injury, damage, or loss caused during the provision of pet care services."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:'\u2022 The Service is provided "as is" and "as available" without warranties of any kind, express or implied.'}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"7. Dispute Resolution Between Users"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["Disputes between users (e.g., pet owners and professionals) must first be addressed directly between the parties. If no resolution is reached, ",Ko," may mediate but is not responsible for the outcome."]}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"8. Limitation of Liability"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["In no event shall ",Ko,", its affiliates, officers, employees, or partners be liable for:"]}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Indirect, incidental, or consequential damages arising from the use of the Service."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Any claims exceeding the amount you paid through the Service within the last six months."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"9. Termination and Suspension"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"We reserve the right to suspend or terminate access to the Service at any time without notice if:"}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 You breach these Terms."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Your actions jeopardize the safety or security of the platform or other users."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"10. Modifications to the Service and Terms"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"We may modify these Terms or the Service at any time. Significant changes will be communicated via email or in-app notifications. Continued use of the Service after changes constitutes acceptance of the revised Terms."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"11. Intellectual Property Rights"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["All content, trademarks, and logos on the platform are owned by or licensed to ",Ko,". You may not copy, modify, or distribute content without express permission."]}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"12. Governing Law and Dispute Resolution"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"These Terms are governed by the laws of El Paso County, Colorado, without regard to conflict of law principles."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Arbitration Clause: All disputes arising under these Terms shall be resolved through binding arbitration in Colorado Springs, Colorado."}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"\u2022 Class Action Waiver: You agree to waive your right to participate in class action lawsuits."}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"13. Indemnification"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["You agree to indemnify and hold harmless ",Ko,", its affiliates, officers, and employees from any claims, damages, or liabilities arising from your use of the Service or breach of these Terms."]}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"14. Third-Party Links and Services"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["The platform may contain links to third-party websites or services. ",Ko," is not responsible for the content or actions of those third parties."]}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"15. Contact Us"}),(0,C.jsx)(r.default,{style:Zo.paragraph,children:"If you have questions about these Terms, please contact us:"}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"Email: zam.hh.llc@gmail.com"}),(0,C.jsx)(r.default,{style:Zo.listItem,children:"Phone: 7195106341"}),(0,C.jsx)(r.default,{style:Zo.sectionTitle,children:"Acknowledgment of Agreement"}),(0,C.jsxs)(r.default,{style:Zo.paragraph,children:["By accessing or using ",Ko,", you acknowledge that you have read, understood, and agreed to these Terms of Service."]})]})]})},Xo=s.default.create({container:{flex:1,padding:20,backgroundColor:p.colors.background},title:{fontSize:24,fontWeight:"bold",marginBottom:20,color:p.colors.primary}}),ea=()=>(0,C.jsxs)(W.default,{style:Xo.container,children:[(0,C.jsx)(r.default,{style:Xo.title,children:"Help / FAQ"}),(0,C.jsx)(r.default,{children:"Frequently asked questions and help topics go here..."})]}),ta=s.default.create({container:{flex:1,width:"100%",alignItems:"center",justifyContent:"flex-start",paddingVertical:20},contentWrapper:{padding:20,alignItems:"center",backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},title:{fontSize:p.fontSizes.largeLarge,fontWeight:"bold",marginBottom:10,color:p.colors.primary,fontFamily:p.fonts.header.fontFamily,textAlign:"center"},subtitle:{fontSize:p.fontSizes.medium,marginBottom:20,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily,textAlign:"center"},input:{backgroundColor:p.colors.surface,borderRadius:5,borderColor:p.colors.border,borderWidth:1,padding:15,marginBottom:15,fontSize:p.fontSizes.medium,width:"100%",fontFamily:p.fonts.regular.fontFamily},messageInput:{height:120,textAlignVertical:"top"},button:{backgroundColor:p.colors.primary,padding:15,borderRadius:5,alignItems:"center",width:"100%",marginTop:10},buttonText:{color:p.colors.whiteText,fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},successMessage:{color:p.colors.success,textAlign:"center",marginBottom:10,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily,width:"100%"},disabledButton:{opacity:.7}}),oa=()=>{const e=(0,A.useNavigation)(),{is_prototype:t,screenWidth:o}=(0,a.useContext)(v),[s,l]=(0,G.useForm)("mkgobpro"),[d,c]=(0,a.useState)(""),[u,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[h,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(""),S=o<768,T=S?"90%":"600px",k=S?"100%":"800px";return t&&s.succeeded?(0,C.jsxs)(ot,{fullWidthHeader:!0,contentWidth:k,children:[(0,C.jsx)(Xe,{title:"Contact Us",onBackPress:()=>e.navigate("More")}),(0,C.jsx)(n.default,{style:ta.container,children:(0,C.jsxs)(n.default,{style:[ta.contentWrapper,{width:T}],children:[(0,C.jsx)(r.default,{style:[ta.title,{color:p.colors.primary}],children:"Thanks for reaching out!"}),(0,C.jsx)(r.default,{style:ta.successMessage,children:"We'll get back to you soon."})]})})]}):(0,C.jsxs)(ot,{fullWidthHeader:!0,contentWidth:k,children:[(0,C.jsx)(Xe,{title:"Contact Us",onBackPress:()=>e.navigate("More")}),(0,C.jsx)(n.default,{style:ta.container,children:(0,C.jsxs)(n.default,{style:[ta.contentWrapper,{width:T}],children:[(0,C.jsx)(r.default,{style:ta.title,children:"Contact Us"}),(0,C.jsx)(r.default,{style:ta.subtitle,children:"Get in touch with our support team"}),(0,C.jsx)(N.default,{style:ta.input,placeholder:"Your Name",value:d,onChangeText:c,name:"name"}),t&&(0,C.jsx)(G.ValidationError,{prefix:"Name",field:"name",errors:s.errors}),(0,C.jsx)(N.default,{style:ta.input,placeholder:"Your Email",value:u,onChangeText:f,keyboardType:"email-address",name:"email",autoCapitalize:"none"}),t&&(0,C.jsx)(G.ValidationError,{prefix:"Email",field:"email",errors:s.errors}),(0,C.jsx)(N.default,{style:[ta.input,ta.messageInput],placeholder:"Your Message",value:m,onChangeText:g,multiline:!0,name:"message"}),t&&(0,C.jsx)(G.ValidationError,{prefix:"Message",field:"message",errors:s.errors}),j?(0,C.jsx)(r.default,{style:ta.successMessage,children:j}):null,(0,C.jsx)(i.default,{style:[ta.button,h&&ta.disabledButton],onPress:async()=>{if(d&&u&&m)if(y(!0),w(""),t)try{await l({name:d,email:u,message:m}),s.succeeded&&(w("Your message has been sent successfully!"),c(""),f(""),g(""))}catch(e){w("Failed to send message. Please try again later."),console.error(e)}finally{y(!1)}else try{if(200!==(await x.default.post("".concat(b,"/api/users/contact/"),{name:d,email:u,message:m})).status)throw new Error("Failed to send message");w("Your message has been sent successfully!"),c(""),f(""),g("")}catch(e){w(e.response?.data?.error||"Failed to send message. Please try again later."),console.error(e)}finally{y(!1)}else w("Please fill in all fields")},disabled:h||t&&s.submitting,children:(0,C.jsx)(r.default,{style:ta.buttonText,children:h||t&&s.submitting?"Sending...":"Send Message"})})]})})]})};var aa=o(51950),na=o(802),ra=o(8615);const ia=(0,a.forwardRef)((({placeholder:e,onChangeText:t,initialValue:o="",style:r},i)=>{const{colors:s}=(0,h.useTheme)(),[l,d]=(0,a.useState)(o),c=(0,a.useRef)(null);(0,a.useEffect)((()=>{o!==l&&d(o)}),[o]);return(0,C.jsxs)(n.default,{style:[sa.container,r,{backgroundColor:s.surface}],children:[(0,C.jsx)(So.default,{icon:()=>(0,C.jsx)(Y.default,{name:"search",size:24,color:s.primary}),onPress:()=>c.current?.focus()}),(0,C.jsx)(N.default,{ref:c,style:[sa.input,{color:s.text}],placeholder:e,placeholderTextColor:s.placeholder,value:l,onChangeText:e=>{e!==l&&(d(e),t(e))},autoFocus:!0,keyboardType:"default",returnKeyType:"search",blurOnSubmit:!1})]})})),sa=s.default.create({container:{flexDirection:"row",alignItems:"center",borderRadius:25,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:2},input:{flex:1,fontSize:16,paddingVertical:8,paddingRight:8}}),la=(0,a.memo)(ia),da=s.default.create({container:{flex:1,backgroundColor:p.colors.background},androidSafeArea:{paddingTop:0},searchAndFilterContainer:{flexDirection:"row",alignItems:"center",margin:16,maxWidth:600,alignSelf:"center",width:"100%"},searchBar:{flex:1,marginRight:8,marginLeft:0},filterButton:{minWidth:80,marginRight:0},clientList:{padding:16},clientCard:{marginBottom:16,maxWidth:600,alignSelf:"center",width:"100%"},petTypes:{flexDirection:"row",marginTop:8},petChip:{marginRight:8},noClientsContainer:{flex:1,justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"white",padding:20,margin:20,borderRadius:5,maxWidth:600,alignSelf:"center",width:"90%"},modalTitle:{marginBottom:10},filtersContainer:{flexDirection:"row",flexWrap:"wrap",marginBottom:20},filterChip:{margin:4},applyButton:{marginTop:10},closeButton:{marginTop:10,alignSelf:"flex-end"},closeIcon:{position:"absolute",top:10,right:10,zIndex:1}}),ca=({navigation:e})=>{const{colors:t}=(0,h.useTheme)(),[o,r]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)([]);(0,a.useEffect)((()=>{y()}),[]);const y=async()=>{try{await new Promise((e=>setTimeout(e,1e3))),p(ae)}catch(e){console.error("Error fetching clients:",e)}},x=(0,a.useCallback)((e=>{c((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}),[]),b=(0,a.useCallback)((()=>{l(d),f(!1)}),[d]),j=(0,a.useMemo)((()=>m.filter((e=>{const t=e.name.toLowerCase().includes(o.toLowerCase()),a=0===s.length||s.every((t=>{if(["Dog","Cat","Exotic"].includes(t))return e.pet_types.includes(t);const o=new Date(e.last_booking),a=new Date;switch(t){case"week":const e=new Date;return e.setDate(a.getDate()-7),o>=e;case"month":const t=new Date;return t.setMonth(a.getMonth()-1),o>=t;case"year":const n=new Date;return n.setFullYear(a.getFullYear()-1),o>=n;default:return!0}}));return t&&a}))),[m,o,s]),w=(0,a.useCallback)((({item:t})=>(0,C.jsx)(i.default,{onPress:()=>e.navigate("ClientHistory",{clientId:t.id}),children:(0,C.jsx)(yt.default,{style:da.clientCard,children:(0,C.jsxs)(yt.default.Content,{children:[(0,C.jsx)(xt.default,{children:t.name}),(0,C.jsxs)(bt.default,{children:["Last booking: ",t.last_booking]}),(0,C.jsx)(n.default,{style:da.petTypes,children:t.pet_types.map((e=>(0,C.jsx)(na.default,{style:da.petChip,children:e},e)))})]})})})),[e]),S=(0,a.useCallback)((e=>{r(e)}),[]);return(0,C.jsxs)(n.default,{style:da.container,children:[(0,C.jsxs)(n.default,{style:da.searchAndFilterContainer,children:[(0,C.jsx)(aa.default,{onPress:()=>{},children:(0,C.jsx)(la,{placeholder:"Search clients",onChangeText:S,initialValue:o,style:da.searchBar})}),(0,C.jsx)(Te.default,{mode:"outlined",onPress:()=>{c(s),f(!0)},style:da.filterButton,children:"Filters"})]}),j.length>0?(0,C.jsx)(Ae.default,{data:j,renderItem:w,keyExtractor:e=>e.id,contentContainerStyle:da.clientList,keyboardShouldPersistTaps:"handled",removeClippedSubviews:!1}):(0,C.jsx)(n.default,{style:da.noClientsContainer,children:(0,C.jsx)(bt.default,{children:"No clients match your search or filters."})}),(0,C.jsx)(ke.default,{children:(0,C.jsxs)(ra.default,{visible:u,onDismiss:()=>f(!1),contentContainerStyle:da.modalContainer,children:[(0,C.jsx)(i.default,{onPress:()=>f(!1),style:da.closeIcon,children:(0,C.jsx)(g.default,{name:"close",size:24,color:"black"})}),(0,C.jsx)(xt.default,{style:da.modalTitle,children:"Filters"}),(0,C.jsx)(n.default,{style:da.filtersContainer,children:[{label:"Dog Sitting",value:"Dog"},{label:"Cat Sitting",value:"Cat"},{label:"Exotic Sitting",value:"Exotic"},{label:"Last Week",value:"week"},{label:"Last Month",value:"month"},{label:"Last Year",value:"year"}].map((e=>(0,C.jsx)(na.default,{style:da.filterChip,selected:d.includes(e.value),onPress:()=>x(e.value),icon:d.includes(e.value)?({size:e,color:t})=>(0,C.jsx)(g.default,{name:"check",size:e,color:t}):void 0,children:e.label},e.value)))}),(0,C.jsx)(Te.default,{mode:"contained",onPress:b,style:da.applyButton,children:"Apply Filters"})]})})]})},ua=({visible:e,onClose:t,serviceName:o,additionalRates:s=[],professionalName:l="Professional",onContactPress:d})=>{const[c,u]=(0,a.useState)(new Date),[f,m]=(0,a.useState)(new Date),[g,h]=(0,a.useState)(0),[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)({}),[w,S]=(0,a.useState)(0),[v,T]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const e={};s.forEach((t=>{e[t.title]=Object.assign({},t,{selected:!1})})),j(e)}),[s]),(0,a.useEffect)((()=>{(()=>{let e=y?40:20;e+=10*g,Object.entries(b).forEach((([t,o])=>{o.selected&&(e+=o.amount)})),S(e),T(.1*e)})()}),[g,y,b]),(0,C.jsx)(H.default,{visible:e,animationType:"slide",transparent:!0,onRequestClose:t,children:(0,C.jsx)(n.default,{style:fa.modalContainer,children:(0,C.jsxs)(n.default,{style:fa.modalContent,children:[(0,C.jsx)(i.default,{style:fa.closeIcon,onPress:t,children:(0,C.jsx)(Y.default,{name:"close",size:24,color:p.colors.text})}),(0,C.jsx)(r.default,{style:fa.modalTitle,children:o}),(0,C.jsxs)(W.default,{style:fa.scrollContent,showsVerticalScrollIndicator:!0,persistentScrollbar:!0,children:[(0,C.jsxs)(n.default,{style:fa.rateItem,children:[(0,C.jsx)(r.default,{children:"Base Rate"}),(0,C.jsxs)(r.default,{children:["$",20]})]}),(0,C.jsxs)(n.default,{style:fa.rateItem,children:[(0,C.jsxs)(r.default,{children:["Additional Animals ($",10," each)"]}),(0,C.jsxs)(n.default,{style:fa.counterContainer,children:[(0,C.jsx)(i.default,{onPress:()=>h(Math.max(0,g-1)),style:fa.counterButton,children:(0,C.jsx)(Y.default,{name:"remove",size:24,color:p.colors.primary})}),(0,C.jsx)(r.default,{style:fa.counterText,children:g}),(0,C.jsx)(i.default,{onPress:()=>h(g+1),style:fa.counterButton,children:(0,C.jsx)(Y.default,{name:"add",size:24,color:p.colors.primary})})]})]}),(0,C.jsxs)(n.default,{style:fa.rateItem,children:[(0,C.jsxs)(r.default,{children:["Holiday Rate ($",40,")"]}),(0,C.jsx)(Ht.default,{value:y,onValueChange:x,trackColor:{false:"#767577",true:p.colors.primary}})]}),Object.entries(b).map((([e,t])=>(0,C.jsxs)(n.default,{style:fa.rateItem,children:[(0,C.jsxs)(r.default,{children:[e," ($",t.amount,")"]}),(0,C.jsx)(Ht.default,{value:t.selected,onValueChange:o=>{j(Object.assign({},b,{[e]:Object.assign({},t,{selected:o})}))},trackColor:{false:"#767577",true:p.colors.primary}})]},e))),(0,C.jsxs)(n.default,{style:fa.totalSection,children:[(0,C.jsxs)(n.default,{style:fa.totalItem,children:[(0,C.jsx)(r.default,{style:fa.totalLabel,children:"Subtotal:"}),(0,C.jsxs)(r.default,{style:fa.totalAmount,children:["$",w]})]}),(0,C.jsxs)(n.default,{style:fa.totalItem,children:[(0,C.jsx)(r.default,{style:fa.totalLabel,children:"Service Fees (10%):"}),(0,C.jsxs)(r.default,{style:fa.totalAmount,children:["$",v.toFixed(2)]})]}),(0,C.jsxs)(n.default,{style:[fa.totalItem,fa.finalTotal],children:[(0,C.jsx)(r.default,{style:[fa.totalLabel,fa.finalTotalText],children:"Total Cost:"}),(0,C.jsxs)(r.default,{style:[fa.totalAmount,fa.finalTotalText],children:["$",(w+v).toFixed(2)]})]})]})]}),(0,C.jsx)(i.default,{style:fa.contactButton,onPress:d,children:(0,C.jsxs)(r.default,{style:fa.contactButtonText,children:["Contact ",l]})})]})})})},fa=s.default.create({modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:p.colors.surface,borderRadius:12,padding:20,paddingRight:15,width:"90%",maxHeight:"43%",maxWidth:400},scrollContent:{flexGrow:0,marginBottom:10,paddingRight:12,marginRight:-7},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",marginBottom:15,textAlign:"center",marginTop:5,paddingHorizontal:30},dateSection:{marginBottom:20,flexDirection:"row",justifyContent:"space-between",gap:16},dateColumn:{flex:1},dateLabel:{marginBottom:8,fontSize:p.fontSizes.smallMedium,color:p.colors.text},rateItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:15},counterContainer:{flexDirection:"row",alignItems:"center"},counterButton:{padding:5},counterText:{marginHorizontal:10,fontSize:p.fontSizes.medium},totalSection:{marginTop:20,borderTopWidth:1,borderTopColor:p.colors.border,paddingTop:15},totalItem:{flexDirection:"row",justifyContent:"space-between",marginBottom:10},finalTotal:{borderTopWidth:1,borderTopColor:p.colors.border,paddingTop:10,marginTop:5},totalLabel:{fontSize:p.fontSizes.medium,fontWeight:"600"},totalAmount:{fontSize:p.fontSizes.medium,fontWeight:"bold"},finalTotalText:{fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",color:p.colors.primary},closeButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:8,alignItems:"center",marginTop:10},closeButtonText:{color:p.colors.surface,fontSize:p.fontSizes.medium,fontWeight:"600"},closeIcon:{position:"absolute",right:15,top:15,zIndex:1,padding:5},contactButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:8,alignItems:"center",marginTop:10},contactButtonText:{color:p.colors.surface,fontSize:p.fontSizes.medium,fontWeight:"600"}}),ma=s.default.create({serviceCard:{backgroundColor:p.colors.surface,borderRadius:12,padding:12,marginRight:12,width:280,height:220,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3,position:"relative",justifyContent:"space-between"},heartButton:{position:"absolute",right:8,top:8,zIndex:1},serviceName:{fontSize:p.fontSizes.mediumLarge,fontWeight:"600",marginTop:8,marginBottom:6,fontFamily:p.fonts.header.fontFamily,flexShrink:1},startingPrice:{fontSize:p.fontSizes.medium+2,color:p.colors.secondary,marginBottom:6,fontFamily:p.fonts.regular.fontFamily},animalTypeContainer:{flexDirection:"row",flexWrap:"wrap",gap:4,marginBottom:8},animalType:{fontSize:p.fontSizes.small+2,color:p.colors.secondary,backgroundColor:p.colors.background,borderRadius:8,paddingHorizontal:6,paddingVertical:2,fontFamily:p.fonts.regular.fontFamily},calculateButton:{backgroundColor:p.colors.primary,padding:10,borderRadius:8,alignItems:"center",marginTop:"auto"},calculateButtonText:{color:p.colors.surface,fontSize:p.fontSizes.medium,fontWeight:"600",fontFamily:p.fonts.regular.fontFamily},contentContainer:{flex:1}}),ga=({service:e,onHeartPress:t,isFavorite:o,professionalName:s,professionalId:l,navigation:d})=>{const[c,u]=(0,a.useState)(!1);return(0,C.jsxs)(n.default,{style:ma.serviceCard,children:[(0,C.jsxs)(n.default,{style:ma.contentContainer,children:[(0,C.jsx)(g.default,{name:e.icon,size:30,color:p.colors.primary}),(0,C.jsx)(r.default,{numberOfLines:2,style:ma.serviceName,children:e.name}),(0,C.jsxs)(r.default,{style:ma.startingPrice,children:["Starting at $",e.startingPrice]}),(0,C.jsx)(n.default,{style:ma.animalTypeContainer,children:e.animalTypes.map(((e,t)=>(0,C.jsx)(r.default,{style:ma.animalType,children:e},t)))})]}),(0,C.jsx)(i.default,{style:ma.calculateButton,onPress:()=>u(!0),children:(0,C.jsx)(r.default,{style:ma.calculateButtonText,children:"Calculate Cost"})}),(0,C.jsx)(ua,{visible:c,onClose:()=>u(!1),serviceName:e.name,additionalRates:e.additionalRates||[],professionalName:s,professionalId:l,onContactPress:()=>{const e=ce.find((e=>e.professionalId===l));if(e)d.replace("MessageHistory",{selectedConversation:e.id,professionalName:s,professionalId:l});else{const e=((e,t,o)=>{const a="conv_".concat(Date.now()),n=o===de;return{id:a,participant1_id:n?o:e,participant2_id:n?e:o,role_map:{participant1_role:n?"client":"professional",participant2_role:n?"professional":"client"},lastMessage:"",timestamp:(new Date).toISOString(),unread:!1,bookingStatus:null}})(l,0,"current_user_id");ce.unshift(e),ue[e.id]=[],d.replace("MessageHistory",{selectedConversation:e.id,professionalName:s,professionalId:l})}u(!1)}})]})},ha=o(27733).MapContainer,pa=[{id:1,name:"Noah M.",service:"Fish Tank Cleaning",date:"Dec 02, 2024",rating:5,text:"Dina was fantastic with our dog! Sent lots of photos and clearly made sure she was comfortable. Will definitely use again!",photo:"https://via.placeholder.com/50"},{id:2,name:"Kaily J.",service:"Ferrier",date:"Nov 26, 2024",rating:4,text:"Dina always takes such good care of Elijah. He was having tummy problems today and she kept me updated all day on how he was doing.",photo:"https://via.placeholder.com/50"},{id:3,name:"Nadia U.",service:"Reptile Boarding & Habitat Maintenance",date:"Nov 19, 2024",rating:5,text:"She took such great care of our puppy! Sent pictures and videos the whole time, her backyard was super nice and clean \u2764\ufe0f my puppy was definitely in great hands! Bonus her dogs were so sweet with our puppy.",photo:"https://via.placeholder.com/50"},{id:4,name:"Vanessa G.",service:"Bird Feeding",date:"Nov 19, 2024",rating:5,text:"Dina was great! She communicated through the whole stay and sent plenty of videos and photos. 10/10",photo:"https://via.placeholder.com/50"}];{const e=document.createElement("style");e.textContent="\n    .services-scroll::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    .services-scroll::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar:horizontal {\n      height: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid white;\n      background-color: rgba(0, 0, 0, .5);\n    }\n  ",document.head.appendChild(e)}const ya=s.default.create({scrollViewContent:{flexGrow:1,paddingBottom:16,height:"calc(100vh - 124px)",overflow:"auto"},content:{alignSelf:"center",padding:24},topSection:{flexDirection:"row",gap:24,marginBottom:24},gallerySection:{maxHeight:400,overflow:"hidden",marginBottom:24},photoGrid:{flexDirection:"row",flexWrap:"wrap",gap:8,maxHeight:320,overflow:"auto"},bottomSection:{flexDirection:"row",gap:24},servicesSection:{flex:1,backgroundColor:p.colors.background,padding:24,borderRadius:12,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},aboutSection:{maxHeight:300,overflow:"auto",marginBottom:24,padding:16,backgroundColor:p.colors.surface,borderRadius:12},profileHeader:{alignItems:"flex-start"},profileInfo:{alignItems:"flex-start"},hostingSection:{marginTop:24},hostTitle:{fontSize:18,fontWeight:"bold",marginBottom:12,fontFamily:p.fonts.header.fontFamily},weightRanges:{gap:8},weightRange:{fontSize:16,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},galleryPhoto:{width:100,height:100,borderRadius:8},centered:{flex:1,justifyContent:"center",alignItems:"center"},profilePhoto:{width:120,height:120,borderRadius:60,marginBottom:16,alignSelf:"center"},profilePhotoPlaceholder:{backgroundColor:p.colors.surface,justifyContent:"center",alignItems:"center",marginBottom:10},name:{fontSize:24,fontWeight:"bold",marginBottom:4,textAlign:"center",fontFamily:p.fonts.header.fontFamily},location:{fontSize:16,color:p.colors.secondary,marginBottom:8,textAlign:"center",fontFamily:p.fonts.regular.fontFamily},section:{padding:20,borderBottomWidth:1,borderBottomColor:p.colors.border},sectionTitle:{fontSize:20,fontWeight:"bold",marginBottom:10,color:p.colors.primary,fontFamily:p.fonts.header.fontFamily},bioInput:{backgroundColor:p.colors.surface},service:{fontSize:16,marginBottom:5},rateItem:{flexDirection:"row",alignItems:"center",marginBottom:10},rateLabel:{flex:1,fontSize:16},rateInput:{flex:1,backgroundColor:p.colors.surface},photoGrid:{flexDirection:"row",flexWrap:"wrap"},petPhoto:{width:50,height:50,borderRadius:25,backgroundColor:p.colors.surface,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:p.colors.border},addPhotoButton:{width:100,height:100,margin:5,borderRadius:10,borderWidth:1,borderColor:p.colors.primary,justifyContent:"center",alignItems:"center"},saveButton:{margin:20},ratingContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:16},rating:{fontSize:16,fontWeight:"bold",marginLeft:5},reviewCount:{fontSize:14,color:p.colors.secondary,marginLeft:4},contactButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:8,alignSelf:"center"},contactButtonText:{fontSize:16,fontWeight:"bold",color:p.colors.surface,textAlign:"center"},statsContainer:{flexDirection:"row",justifyContent:"space-around",marginBottom:20},statItem:{flexDirection:"row",alignItems:"center",marginRight:10},statText:{fontSize:16,marginLeft:5},bioText:{fontSize:18,lineHeight:28,color:p.colors.text,overflow:"hidden",fontFamily:p.fonts.regular.fontFamily},serviceItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},serviceText:{fontSize:8,fontFamily:p.fonts.regular.fontFamily},servicePrice:{fontSize:14,color:p.colors.secondary,fontFamily:p.fonts.regular.fontFamily},skillsGrid:{flexDirection:"row",flexWrap:"wrap"},skillBadge:{backgroundColor:p.colors.surface,padding:10,borderRadius:5,margin:5},skillText:{fontSize:16,fontFamily:p.fonts.regular.fontFamily},photoGallery:{flexDirection:"row"},calculatorText:{fontSize:16,color:p.colors.secondary,fontFamily:p.fonts.regular.fontFamily},additionalRatesButton:{marginTop:16,paddingVertical:12,paddingHorizontal:16,borderRadius:6,backgroundColor:p.colors.surface,alignItems:"center",borderWidth:1,borderColor:p.colors.outline},additionalRatesText:{color:p.colors.primary,fontSize:16,fontWeight:"600",fontFamily:p.fonts.regular.fontFamily},calendarSection:{marginTop:24},readMoreButton:{marginTop:8},readMoreText:{color:p.colors.primary,fontSize:16,fontWeight:"600",fontFamily:p.fonts.regular.fontFamily},reviewsSection:{marginVertical:32,width:"100%",backgroundColor:p.colors.background},reviewItem:{marginBottom:16,backgroundColor:p.colors.surface,padding:16,borderRadius:12,maxWidth:600},servicesSection:{backgroundColor:p.colors.surface,padding:24,borderRadius:12,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3,marginBottom:24},mapContainer:{height:400,width:"100%",marginVertical:24},map:{flex:1},petsSection:{marginBottom:24,backgroundColor:p.colors.surface,padding:16,borderRadius:12},petItem:{flexDirection:"row",alignItems:"center",marginBottom:12,padding:12,borderRadius:8,borderWidth:1,borderColor:p.colors.border,backgroundColor:p.colors.background},petInfo:{marginLeft:12,flex:1},petName:{fontSize:16,fontWeight:"600",marginBottom:2,fontFamily:p.fonts.header.fontFamily},petBreed:{fontSize:14,color:p.colors.secondary,marginBottom:2,fontFamily:p.fonts.regular.fontFamily},petDetails:{fontSize:14,color:p.colors.secondary,fontFamily:p.fonts.regular.fontFamily},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},aboutSubsections:{flexDirection:"row",gap:24},communicationSection:{flex:1},skillsSection:{flex:1},homeDetails:{flexDirection:"row",flexWrap:"wrap",gap:16},noReviews:{fontSize:16,color:p.colors.secondary,fontStyle:"italic",textAlign:"center",marginTop:16},twoColumnLayout:{flexDirection:"row",gap:24},singleColumnLayout:{flexDirection:"column"},leftColumn:{flex:1,maxWidth:400},rightColumn:{flex:2},calendar:{height:300,marginTop:16},serviceText:{fontSize:12,fontFamily:p.fonts.regular.fontFamily,fontWeight:"100"},homeFeaturesGrid:{flexDirection:"row",flexWrap:"wrap",gap:8,marginTop:16},featureBubble:{backgroundColor:p.colors.surface,paddingVertical:8,paddingHorizontal:16,borderRadius:20,borderWidth:1,borderColor:p.colors.outline},featureText:{fontSize:14,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},reviewItem:{marginBottom:24,backgroundColor:p.colors.surface,padding:16,borderRadius:12},reviewHeader:{flexDirection:"row",marginBottom:12},reviewerPhoto:{width:40,height:40,borderRadius:20,marginRight:12},reviewerInfo:{flex:1},reviewerName:{fontSize:16,fontWeight:"600",marginBottom:4,fontFamily:p.fonts.header.fontFamily},serviceInfo:{flexDirection:"row",alignItems:"center",gap:4},reviewText:{fontSize:14,lineHeight:20,fontFamily:p.fonts.regular.fontFamily},modalTitle:{fontSize:20,fontWeight:"600",marginBottom:16,fontFamily:p.fonts.header.fontFamily},modalScroll:{maxHeight:"70vh"},closeButton:{marginTop:16,alignItems:"center",padding:12,backgroundColor:p.colors.primary,borderRadius:8},closeButtonText:{color:"#fff",fontSize:16,fontWeight:"600",fontFamily:p.fonts.regular.fontFamily},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},modalCloseIcon:{padding:8},modalScrollContent:{paddingBottom:24},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",padding:40},reviewsGrid:{flexDirection:"row",flexWrap:"wrap",gap:16,marginTop:16},reviewItem:{backgroundColor:p.colors.surface,padding:16,borderRadius:12,flex:1,minWidth:300,marginBottom:0},specialistSection:{marginTop:24,backgroundColor:p.colors.surface,padding:16,borderRadius:12},specialistText:{fontSize:16,lineHeight:24,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},modalReviewItem:{marginBottom:16,width:"100%"},leftColumnMobile:{maxWidth:"100%",alignItems:"center"},seeAllButton:{borderWidth:1,borderColor:p.colors.primary,paddingHorizontal:12,paddingVertical:6,borderRadius:8,alignSelf:"flex-start",minWidth:"auto",width:"auto"},seeAllButtonText:{color:p.colors.primary,fontSize:16,fontWeight:"600",textAlign:"center",fontFamily:p.fonts.regular.fontFamily},modalServicesGrid:{flexDirection:"row",flexWrap:"wrap",gap:16,justifyContent:"center",padding:16},reviewMeta:{gap:4},starContainer:{flexDirection:"row",alignItems:"center",marginBottom:4}}),xa=({route:e,navigation:t})=>{const{width:l}=(0,we.default)(),[d,c]=(0,a.useState)(null),[u,f]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)([]),[T,k]=(0,a.useState)(!1),B=(()=>{const{width:e}=(0,we.default)(),[t,o]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{o(e>=900)}),[e]),t})(),{is_prototype:I}=(0,a.useContext)(v),P={profileSection:{backgroundColor:p.colors.surface,borderRadius:12,padding:16,marginBottom:16,alignItems:"center",width:"100%",display:l>=600?"flex":"block"},profileSectionMobile:{backgroundColor:p.colors.surface,borderRadius:12,padding:16,marginBottom:16,alignItems:"center",width:"100%",maxWidth:500,alignSelf:"center",display:"flex",flexDirection:"column",alignItems:"center"},servicesBox:{backgroundColor:p.colors.surface,padding:24,paddingTop:0,borderRadius:12,marginTop:24,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3,width:"100%",maxWidth:600,alignSelf:"center"}};(0,a.useEffect)((()=>{const e=t.getState().routes.some((e=>"SearchProfessionalsListing"===e.name));f(t.canGoBack()&&e)}),[t]);const z=()=>{sessionStorage.removeItem("currentProfessional"),t.navigate("SearchProfessionalsListing")};(0,a.useEffect)((()=>{{const e=()=>{z()};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)}}),[]),(0,a.useEffect)((()=>{(async()=>{if(e?.params?.professional)c(e.params.professional);else{{const e=sessionStorage.getItem("currentProfessional");e?c(JSON.parse(e)):t.replace("SearchProfessionalsListing")}}})()}),[e?.params?.professional]),(0,a.useEffect)((()=>{0}),[d]);const D=e=>{S((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))};if(!d)return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Professional Profile",onBackPress:z}),(0,C.jsx)(n.default,{style:ya.centered,children:(0,C.jsx)(r.default,{children:"Loading..."})})]});const R=()=>d.profilePicture?(0,C.jsx)(_.default,{source:{uri:d.profilePicture},style:ya.profilePhoto}):(0,C.jsx)(n.default,{style:[ya.profilePhoto,ya.profilePhotoPlaceholder],children:(0,C.jsx)(g.default,{name:"account",size:80,color:p.colors.primary})}),F=()=>(0,C.jsxs)(n.default,{style:ya.ratingContainer,children:[(0,C.jsx)(g.default,{name:"star",size:24,color:p.colors.primary}),(0,C.jsx)(r.default,{style:ya.rating,children:d.reviews}),(0,C.jsxs)(r.default,{style:[ya.reviewCount,{marginLeft:12}],children:["(",d.reviewCount||50," reviews)"]})]}),A=({text:e,maxLines:t=3})=>(0,C.jsxs)(n.default,{children:[(0,C.jsx)(r.default,{numberOfLines:t,style:ya.specialistText,children:e}),(0,C.jsx)(i.default,{style:ya.readMoreButton,onPress:()=>j(!0),children:(0,C.jsx)(r.default,{style:ya.readMoreText,children:"Read more"})})]}),E=()=>{if(ha){const{MapContainer:e,TileLayer:t,Marker:a}=o(27733);return(0,C.jsx)(n.default,{style:ya.mapContainer,children:(0,C.jsxs)(e,{center:[38.8339,-104.8214],zoom:13,style:{height:400,width:"100%"},children:[(0,C.jsx)(t,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,C.jsx)(a,{position:[38.8339,-104.8214]})]})})}return null},N=s.default.create({modalContent:{backgroundColor:p.colors.background,padding:24,borderRadius:12,width:l<=650?"90%":"60%",maxWidth:800,maxHeight:"90%"}}),O=({text:e})=>(0,C.jsx)(n.default,{style:ya.featureBubble,children:(0,C.jsx)(r.default,{style:ya.featureText,children:e})}),M=e=>(0,C.jsxs)(n.default,{style:ya.reviewItem,children:[(0,C.jsxs)(n.default,{style:ya.reviewHeader,children:[(0,C.jsx)(_.default,{source:{uri:e.photo},style:ya.reviewerPhoto}),(0,C.jsxs)(n.default,{style:ya.reviewerInfo,children:[(0,C.jsx)(r.default,{style:ya.reviewerName,children:e.name}),(0,C.jsxs)(n.default,{style:ya.reviewMeta,children:[(0,C.jsx)(n.default,{style:ya.starContainer,children:[...Array(5)].map(((t,o)=>(0,C.jsx)(g.default,{name:o<e.rating?"star":"star-outline",size:16,color:p.colors.primary},o)))}),(0,C.jsxs)(n.default,{style:ya.serviceInfo,children:[(0,C.jsx)(g.default,{name:"home",size:16,color:p.colors.secondary}),(0,C.jsxs)(r.default,{style:ya.serviceText,children:[e.service," \u2022 ",e.date]})]})]})]})]}),(0,C.jsx)(r.default,{style:ya.reviewText,children:e.text})]},e.id),L=()=>(0,C.jsx)(n.default,{style:P.servicesBox,children:(0,C.jsxs)(n.default,{style:ya.calendarSection,children:[(0,C.jsx)(r.default,{style:[ya.sectionTitle,{marginBottom:0}],children:"Availability"}),(0,C.jsx)(Lt.Calendar,{style:ya.calendar,theme:{calendarBackground:p.colors.surface,selectedDayBackgroundColor:p.colors.primary,selectedDayTextColor:"#ffffff",todayTextColor:p.colors.primary}})]})}),V=(s.default.create({servicesSection:{marginBottom:24},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},seeAllButton:{borderWidth:1,borderColor:p.colors.primary,paddingHorizontal:12,paddingVertical:6,borderRadius:8,alignSelf:"flex-start",minWidth:"auto",width:"auto"},seeAllButtonText:{color:p.colors.primary,fontSize:16,fontWeight:"600",textAlign:"center"},servicesScroll:{marginHorizontal:-24,paddingHorizontal:24},modalServicesGrid:{flexDirection:"row",flexWrap:"wrap",gap:16,justifyContent:"center",padding:16}}),()=>{const e=ce.find((e=>e.professionalId===d.id));if(e)t.replace("MessageHistory",{selectedConversation:e.id});else{const e={id:"conv_".concat(Date.now()),name:d.name,professionalId:d.id,lastMessage:"",timestamp:(new Date).toISOString(),unread:!1,bookingStatus:null};ce.unshift(e),ue[e.id]=[],t.replace("MessageHistory",{selectedConversation:e.id})}});return(0,C.jsxs)(ot,{fullWidthHeader:!0,contentWidth:"1200px",children:[(0,C.jsx)(Xe,{title:"Professional Profile",onBackPress:z}),(0,C.jsx)(W.default,{contentContainerStyle:ya.scrollViewContent,children:(0,C.jsx)(n.default,{style:[ya.content,{width:Math.min(1e3,l-32)}],children:(0,C.jsxs)(n.default,{style:[ya.twoColumnLayout,!B&&ya.singleColumnLayout],children:[l>=600?(0,C.jsxs)(n.default,{style:[ya.leftColumn,!B&&ya.leftColumnMobile],children:[(0,C.jsxs)(n.default,{style:[ya.profileSection,!B&&ya.profileSectionMobile],children:[R(),(0,C.jsx)(r.default,{style:ya.name,children:d.name}),(0,C.jsx)(r.default,{style:ya.location,children:d.location}),F(),(0,C.jsx)(i.default,{style:ya.contactButton,onPress:V,children:(0,C.jsxs)(r.default,{style:ya.contactButtonText,children:["Contact ",d.name]})})]}),B&&L(),B&&E(),B&&te&&te.length>0&&(te&&0!==te.length?(0,C.jsxs)(n.default,{style:ya.petsSection,children:[(0,C.jsx)(r.default,{style:ya.sectionTitle,children:"Pets"}),te.map(((e,t)=>(0,C.jsxs)(n.default,{style:ya.petItem,children:[(0,C.jsx)(n.default,{style:ya.petPhoto,children:(0,C.jsx)(g.default,{name:"dog"===e.animal_type.toLowerCase()?"dog":"cat"===e.animal_type.toLowerCase()?"cat":"snake",size:30,color:p.colors.primary})}),(0,C.jsxs)(n.default,{style:ya.petInfo,children:[(0,C.jsx)(r.default,{style:ya.petName,children:e.name}),(0,C.jsx)(r.default,{style:ya.petBreed,children:e.breed}),(0,C.jsx)(r.default,{style:ya.petDetails,children:"".concat(e.weight," lbs, ").concat(e.age.years," years").concat(e.age.months?" ".concat(e.age.months," months"):"")})]})]},e.id)))]}):null)]}):(0,C.jsxs)(n.default,{style:[P.profileSection,P.profileSectionMobile],children:[R(),(0,C.jsx)(r.default,{style:ya.name,children:d.name}),(0,C.jsx)(r.default,{style:ya.location,children:d.location}),F(),(0,C.jsx)(i.default,{style:ya.contactButton,onPress:V,children:(0,C.jsxs)(r.default,{style:ya.contactButtonText,children:["Contact ",d.name]})})]}),(0,C.jsxs)(n.default,{style:ya.rightColumn,children:[I?null:(0,C.jsxs)(n.default,{style:ya.gallerySection,children:[(0,C.jsx)(r.default,{style:ya.sectionTitle,children:"53 Photos"}),(0,C.jsx)(n.default,{style:ya.photoGrid,children:[1,2,3,4].map(((e,t)=>(0,C.jsx)(_.default,{source:{uri:"https://via.placeholder.com/150"},style:ya.galleryPhoto},t)))})]}),(0,C.jsxs)(n.default,{style:ya.servicesSection,children:[(0,C.jsxs)(n.default,{style:ya.sectionHeader,children:[(0,C.jsx)(r.default,{style:ya.sectionTitle,children:"Services"}),(0,C.jsx)(i.default,{style:ya.seeAllButton,onPress:()=>k(!0),children:(0,C.jsx)(r.default,{style:ya.seeAllButtonText,children:"See All"})})]}),(0,C.jsx)(n.default,{style:ya.servicesWrapper,children:(0,C.jsx)(W.default,{horizontal:!0,showsHorizontalScrollIndicator:!0,style:[ya.servicesScroll,{className:"services-scroll",overflowX:"scroll"}],contentContainerStyle:ya.servicesScrollContent,persistentScrollbar:!0,children:X.slice(0,5).map((e=>(0,C.jsx)(ga,{service:e,onHeartPress:D,isFavorite:w.includes(e.id),professionalName:d.name,professionalId:d.id,navigation:t},e.id)))})})]}),!B&&L(),(0,C.jsxs)(n.default,{style:ya.specialistSection,children:[(0,C.jsx)(r.default,{style:ya.sectionTitle,children:"Specialist Experience"}),(0,C.jsx)(A,{text:d?.bio||""})]}),(0,C.jsxs)(n.default,{style:ya.reviewsSection,children:[(0,C.jsx)(r.default,{style:ya.sectionTitle,children:"Reviews"}),(0,C.jsx)(n.default,{style:ya.reviewsGrid,children:pa.slice(0,4).map(M)}),(0,C.jsx)(i.default,{style:ya.readMoreButton,onPress:()=>x(!0),children:(0,C.jsx)(r.default,{style:ya.readMoreText,children:"Read more reviews"})})]}),(0,C.jsxs)(n.default,{style:ya.homeSection,children:[(0,C.jsx)(r.default,{style:ya.sectionTitle,children:"Home"}),(0,C.jsxs)(n.default,{style:ya.homeFeaturesGrid,children:[(0,C.jsx)(O,{text:"No children present"}),(0,C.jsx)(O,{text:"Has security system"}),(0,C.jsx)(O,{text:"Non-smoking household"}),(0,C.jsx)(O,{text:"Has 2 dogs"}),(0,C.jsx)(O,{text:"Dogs allowed on bed"}),(0,C.jsx)(O,{text:"Dogs allowed on furniture"}),(0,C.jsx)(O,{text:"Potty breaks every 0-2 hours"})]})]}),!B&&E()]})]})})}),(0,C.jsx)(H.default,{visible:m,animationType:"slide",transparent:!0,onRequestClose:()=>h(!1),children:(0,C.jsx)(n.default,{style:ya.modalContainer,children:(0,C.jsxs)(n.default,{style:N.modalContent,children:[(0,C.jsx)(r.default,{style:ya.bioText,children:d.bio}),(0,C.jsx)(i.default,{style:ya.closeButton,onPress:()=>h(!1),children:(0,C.jsx)(r.default,{style:ya.closeButtonText,children:"Close"})})]})})}),(0,C.jsx)(H.default,{visible:y,animationType:"slide",transparent:!0,onRequestClose:()=>x(!1),children:(0,C.jsx)(n.default,{style:ya.modalContainer,children:(0,C.jsxs)(n.default,{style:N.modalContent,children:[(0,C.jsxs)(n.default,{style:ya.modalHeader,children:[(0,C.jsx)(r.default,{style:ya.modalTitle,children:"All Reviews"}),(0,C.jsx)(i.default,{style:ya.modalCloseIcon,onPress:()=>x(!1),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsx)(W.default,{style:ya.modalScroll,contentContainerStyle:ya.modalScrollContent,children:pa.map((e=>(0,C.jsx)(n.default,{style:ya.modalReviewItem,children:M(e)},e.id)))})]})})}),(0,C.jsx)(H.default,{visible:b,animationType:"slide",transparent:!0,onRequestClose:()=>j(!1),children:(0,C.jsx)(n.default,{style:ya.modalContainer,children:(0,C.jsxs)(n.default,{style:N.modalContent,children:[(0,C.jsxs)(n.default,{style:ya.modalHeader,children:[(0,C.jsx)(r.default,{style:ya.modalTitle,children:"Specialist Experience"}),(0,C.jsx)(i.default,{style:ya.modalCloseIcon,onPress:()=>j(!1),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsx)(W.default,{style:ya.modalScroll,contentContainerStyle:ya.modalScrollContent,children:(0,C.jsx)(r.default,{style:ya.bioText,children:d?.bio})})]})})}),(0,C.jsx)(H.default,{visible:T,animationType:"slide",transparent:!0,onRequestClose:()=>k(!1),children:(0,C.jsx)(n.default,{style:ya.modalContainer,children:(0,C.jsxs)(n.default,{style:N.modalContent,children:[(0,C.jsxs)(n.default,{style:ya.modalHeader,children:[(0,C.jsx)(r.default,{style:ya.modalTitle,children:"All Services"}),(0,C.jsx)(i.default,{style:ya.modalCloseIcon,onPress:()=>k(!1),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsx)(W.default,{style:ya.modalScroll,contentContainerStyle:ya.modalScrollContent,children:(0,C.jsx)(n.default,{style:ya.modalServicesGrid,children:X.map((e=>(0,C.jsx)(ga,{service:e,onHeartPress:D,isFavorite:w.includes(e.id),professionalName:d.name,professionalId:d.id,navigation:t},e.id)))})})]})})})]})},ba=s.default.create({container:{marginTop:16},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",marginTop:50},sectionTitle:{fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",marginBottom:8,color:p.colors.text},noContractsText:{fontSize:p.fontSizes.medium,color:p.colors.text,textAlign:"center",marginTop:20},card:{backgroundColor:p.colors.surface,borderRadius:8,padding:16,marginBottom:16},contractTitle:{fontSize:p.fontSizes.medium,fontWeight:"bold",color:p.colors.primary},clientName:{fontSize:p.fontSizes.medium,color:p.colors.text,marginTop:4},buttonContainer:{flexDirection:"row",justifyContent:"flex-end",marginTop:8},button:{backgroundColor:p.colors.primary,paddingHorizontal:12,paddingVertical:6,borderRadius:4,marginLeft:8},buttonText:{color:p.colors.background,fontWeight:"bold"}}),ja=()=>{const[e,t]=(0,a.useState)([]),[o,s]=(0,a.useState)(!0);(0,a.useEffect)((()=>{l()}),[]);const l=async()=>{s(!0);try{const e=await y.default.getItem("userToken");if(!e)return void console.error("No token found");const o=await x.default.get("".concat(b,"/api/contracts/"),{headers:{Authorization:"Bearer ".concat(e)}});t(o.data)}catch(e){console.error("Error fetching contracts:",e)}finally{s(!1)}};return o?(0,C.jsx)(n.default,{style:ba.loadingContainer,children:(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary})}):(0,C.jsxs)(n.default,{style:ba.container,children:[(0,C.jsx)(r.default,{style:ba.sectionTitle,children:"Your Contracts"}),0===e.length?(0,C.jsx)(r.default,{style:ba.noContractsText,children:"No contracts yet"}):e.map((e=>(0,C.jsxs)(n.default,{style:ba.card,children:[(0,C.jsx)(r.default,{style:ba.contractTitle,children:e.title}),(0,C.jsxs)(r.default,{style:ba.clientName,children:["Client: ",e.client_name]}),(0,C.jsxs)(n.default,{style:ba.buttonContainer,children:[(0,C.jsx)(i.default,{style:ba.button,children:(0,C.jsx)(r.default,{style:ba.buttonText,children:"Share"})}),(0,C.jsx)(i.default,{style:ba.button,children:(0,C.jsx)(r.default,{style:ba.buttonText,children:"Edit"})})]})]},e.id)))]})},wa=s.default.create({picker:{backgroundColor:p.colors.surface,marginBottom:8,borderRadius:4,padding:0,width:"90%"},modalPicker:{width:"90%"},dropdownButton:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:p.colors.surface,borderRadius:4,padding:12,marginBottom:16,borderWidth:1,borderColor:p.colors.border},dropdownButtonText:{color:p.colors.text},pickerModalContainer:{flex:1,justifyContent:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.5)"},pickerContainer:{backgroundColor:p.colors.background,borderTopLeftRadius:20,borderTopRightRadius:20,padding:16},pickerCloseButton:{backgroundColor:p.colors.primary,padding:16,alignItems:"center"},pickerCloseButtonText:{color:p.colors.background,fontWeight:"bold"}}),Ca=({clients:e,selectedClient:t,onSelectClient:o})=>{const[n,r]=(0,a.useState)(!1);return(0,C.jsxs)(kt.Picker,{selectedValue:t,onValueChange:e=>o(e),style:wa.picker,children:[(0,C.jsx)(kt.Picker.Item,{label:"Select a client...",value:""}),e.map((e=>(0,C.jsx)(kt.Picker.Item,{label:e.name,value:e.name},e.id)))]})},Sa=s.default.create({container:{marginBottom:16},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:8,color:p.colors.text},button:{backgroundColor:p.colors.primary,paddingHorizontal:16,paddingVertical:12,borderRadius:8,alignItems:"center",marginBottom:10},buttonText:{color:p.colors.background,fontWeight:"bold",fontSize:16},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{width:"80%",backgroundColor:p.colors.surface,borderRadius:10,padding:20,alignItems:"center"},modalTitle:{fontSize:20,fontWeight:"bold",marginBottom:20},templateGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},templateBox:{width:100,height:100,margin:10,justifyContent:"center",alignItems:"center",backgroundColor:p.colors.primary,borderRadius:5},templateTitle:{color:p.colors.background,textAlign:"center"},noTemplatesText:{fontSize:16,color:p.colors.text,textAlign:"center",marginTop:20},closeButton:{marginTop:20,padding:10,backgroundColor:p.colors.primary,borderRadius:5},closeButtonText:{color:p.colors.background,fontWeight:"bold"},textArea:{width:"100%",height:100,padding:10,borderColor:p.colors.primary,borderWidth:1,borderRadius:5,marginBottom:10,textAlignVertical:"top"},clientPickerContainer:{width:"100%",marginBottom:10},pickerModalContainer:{flex:1,justifyContent:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.5)"},pickerContainer:{backgroundColor:p.colors.background,borderTopLeftRadius:20,borderTopRightRadius:20,padding:16},pickerCloseButton:{backgroundColor:p.colors.primary,padding:16,alignItems:"center"},pickerCloseButtonText:{color:p.colors.background,fontWeight:"bold"}}),va=({templates:e})=>{const[t,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[u,f]=(0,a.useState)(""),[m,g]=(0,a.useState)([]),[h,p]=(0,a.useState)("");(0,a.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=await y.default.getItem("userToken");if(!e)return void console.error("No token found");const t=await x.default.get("".concat(b,"/api/clients/"),{headers:{Authorization:"Bearer ".concat(e)}});g(t.data)}catch(e){console.error("Error fetching clients:",e)}};return(0,C.jsxs)(n.default,{style:Sa.container,children:[(0,C.jsx)(r.default,{style:Sa.sectionTitle,children:"Create New Contract"}),(0,C.jsx)(i.default,{style:Sa.button,onPress:()=>o(!0),children:(0,C.jsx)(r.default,{style:Sa.buttonText,children:"Use Template"})}),(0,C.jsx)(H.default,{visible:t,transparent:!0,animationType:"slide",onRequestClose:()=>o(!1),children:(0,C.jsx)(n.default,{style:Sa.modalContainer,children:(0,C.jsxs)(n.default,{style:Sa.modalContent,children:[(0,C.jsx)(r.default,{style:Sa.modalTitle,children:"Select a Template"}),(0,C.jsx)(W.default,{contentContainerStyle:Sa.templateGrid,children:0===e.length?(0,C.jsx)(r.default,{style:Sa.noTemplatesText,children:"No templates yet"}):e.map((e=>(0,C.jsx)(i.default,{style:Sa.templateBox,onPress:()=>(e=>{c(e),f(e.description),o(!1),l(!0)})(e),children:(0,C.jsx)(r.default,{style:Sa.templateTitle,children:e.title})},e.id)))}),(0,C.jsx)(i.default,{style:Sa.closeButton,onPress:()=>o(!1),children:(0,C.jsx)(r.default,{style:Sa.closeButtonText,children:"Close"})})]})})}),(0,C.jsx)(H.default,{visible:s,transparent:!0,animationType:"slide",onRequestClose:()=>l(!1),children:(0,C.jsx)(n.default,{style:Sa.modalContainer,children:(0,C.jsxs)(n.default,{style:Sa.modalContent,children:[(0,C.jsx)(r.default,{style:Sa.modalTitle,children:"Edit Contract"}),(0,C.jsxs)(n.default,{style:Sa.clientPickerContainer,children:[(0,C.jsx)(r.default,{style:Sa.sectionTitle,children:"Select a Client"}),(0,C.jsx)(Ca,{clients:m,selectedClient:h,onSelectClient:p})]}),(0,C.jsx)(N.default,{style:Sa.textArea,placeholder:"Contract Content",value:u,onChangeText:f,multiline:!0}),(0,C.jsx)(i.default,{style:Sa.button,onPress:()=>{f((e=>"".concat(e,"\n[signable] ___________ [end signable]")))},children:(0,C.jsx)(r.default,{style:Sa.buttonText,children:"Add Signable Field"})}),(0,C.jsx)(i.default,{style:Sa.button,onPress:async()=>{try{const e=await y.default.getItem("userToken");if(!e)return void console.error("No token found");const t=await x.default.post("".concat(b,"/api/contracts/"),{template:d.id,content:u,client:h},{headers:{Authorization:"Bearer ".concat(e)}});console.log("Contract submitted:",t.data),l(!1)}catch(e){console.error("Error submitting contract:",e)}},children:(0,C.jsx)(r.default,{style:Sa.buttonText,children:"Submit Contract"})}),(0,C.jsx)(i.default,{style:Sa.closeButton,onPress:()=>l(!1),children:(0,C.jsx)(r.default,{style:Sa.closeButtonText,children:"Close"})})]})})})]})},Ta=s.default.create({container:{flex:1},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",minHeight:200},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",minHeight:200,backgroundColor:p.colors.surface,borderRadius:8,padding:20,marginTop:16},emptyText:{fontSize:16,color:p.colors.text,textAlign:"center"},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:8,color:p.colors.text},card:{backgroundColor:p.colors.surface,borderRadius:8,padding:16,marginBottom:16},chronicleTitle:{fontSize:16,fontWeight:"bold",color:p.colors.primary},clientName:{fontSize:14,color:p.colors.text,marginTop:4},petName:{fontSize:14,color:p.colors.text,marginTop:2},summary:{fontSize:14,color:p.colors.text,marginTop:8,marginBottom:8},buttonContainer:{flexDirection:"row",justifyContent:"flex-end",marginTop:8},button:{backgroundColor:p.colors.primary,paddingHorizontal:12,paddingVertical:6,borderRadius:4,marginLeft:8},buttonText:{color:p.colors.background,fontWeight:"bold"}}),ka=({chronicles:e})=>e&&0!==e.length?(0,C.jsxs)(W.default,{style:Ta.container,children:[(0,C.jsx)(r.default,{style:Ta.sectionTitle,children:"Your Chronicles"}),e.map((e=>(0,C.jsxs)(n.default,{style:Ta.card,children:[(0,C.jsx)(r.default,{style:Ta.chronicleTitle,children:e.title}),(0,C.jsxs)(r.default,{style:Ta.clientName,children:["Client: ",e.client]}),(0,C.jsxs)(r.default,{style:Ta.petName,children:["Pet: ",e.pets.join(", ")]}),(0,C.jsx)(r.default,{style:Ta.summary,children:e.summary}),(0,C.jsxs)(n.default,{style:Ta.buttonContainer,children:[(0,C.jsx)(i.default,{style:Ta.button,children:(0,C.jsx)(r.default,{style:Ta.buttonText,children:"Edit"})}),(0,C.jsx)(i.default,{style:Ta.button,children:(0,C.jsx)(r.default,{style:Ta.buttonText,children:"Send to Client"})})]})]},e.id)))]}):(0,C.jsx)(n.default,{style:Ta.emptyContainer,children:(0,C.jsx)(r.default,{style:Ta.emptyText,children:"No chronicles yet"})}),{width:Ba}=m.default.get("window"),Ia=s.default.create({outerContainer:{width:"100%",alignItems:"center",marginBottom:16},container:{width:Ba-80,maxWidth:600,alignItems:"center"},inputContainer:{width:"100%",position:"relative"},input:Object.assign({width:"100%",backgroundColor:p.colors.surface,borderRadius:4,padding:8,minHeight:60},{border:"1px solid ".concat(p.colors.border)}),dropdownButton:{position:"absolute",right:8,top:8,padding:4},modalOverlay:{flex:1},dropdownContainer:Object.assign({position:"absolute",backgroundColor:p.colors.background,borderRadius:4,borderWidth:1,borderColor:p.colors.border,maxHeight:200,zIndex:1e3},{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}),dropdownList:{maxHeight:200},dropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},dropdownItemText:{color:p.colors.text}}),Pa=({value:e,onChange:t})=>{const[o,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)({top:0,left:0,width:0}),c=(0,a.useRef)(null),[u,f]=(0,a.useState)(null),m=e=>{t(e)};(0,a.useLayoutEffect)((()=>(o&&c.current&&c.current.measure(((e,t,o,a,n,r)=>{if(!isNaN(r)&&!isNaN(a)){d({top:r+a,left:n,width:o})}})),document.body.style.overflow=o?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[o,u]);const h=()=>{s(!o)};return(0,C.jsx)(n.default,{style:Ia.outerContainer,children:(0,C.jsxs)(n.default,{style:Ia.container,children:[(0,C.jsxs)(n.default,{style:Ia.inputContainer,ref:c,onLayout:e=>{const{x:t,y:o,width:a,height:n}=e.nativeEvent.layout;f({x:t,y:o,width:a,height:n})},children:[(0,C.jsx)(N.default,{style:Ia.input,value:e,onChangeText:m,placeholder:"Enter or select a question",multiline:!0}),(0,C.jsx)(i.default,{style:Ia.dropdownButton,onPress:h,children:(0,C.jsx)(g.default,{name:o?"chevron-up":"chevron-down",size:24,color:p.colors.primary})})]}),(0,C.jsx)(H.default,{visible:o,transparent:!0,animationType:"none",onRequestClose:h,children:(0,C.jsx)(i.default,{style:Ia.modalOverlay,activeOpacity:1,onPress:h,children:(0,C.jsx)(n.default,{style:[Ia.dropdownContainer,{top:l.top,left:l.left,width:l.width}],children:(0,C.jsx)(W.default,{style:Ia.dropdownList,children:["What is your favorite animal?","How many pets do you have?","What's your experience with exotic pets?","Do you have any allergies to animals?","What type of exotic pet are you interested in?","Have you owned an exotic pet before?","Are you familiar with the care requirements for exotic pets?","Do you have a veterinarian experienced with exotic animals?","What's your living situation? (House, apartment, etc.)","Are there any local regulations about exotic pet ownership in your area?"].map(((e,t)=>(0,C.jsx)(i.default,{style:Ia.dropdownItem,onPress:()=>{m(e),h()},children:(0,C.jsx)(r.default,{style:Ia.dropdownItemText,children:e})},t)))})})})})]})})},{width:za}=m.default.get("window"),Da=s.default.create({createButton:{backgroundColor:p.colors.primary,paddingHorizontal:16,paddingVertical:12,borderRadius:8,alignItems:"center",marginBottom:16},createButtonText:{color:p.colors.background,fontWeight:"bold",fontSize:16},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:p.colors.background,borderRadius:8,padding:16,width:"90%",maxHeight:"80%"},webModalContent:{width:za>600?"40%":"90%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},modalTitle:{fontSize:20,fontWeight:"bold",color:p.colors.text},closeButton:{padding:8},closeButtonText:{fontSize:20,color:p.colors.text,fontWeight:"bold"},label:{fontSize:16,fontWeight:"bold",marginBottom:8,color:p.colors.text},input:{backgroundColor:p.colors.surface,borderRadius:4,marginBottom:8,minHeight:20},picker:{backgroundColor:p.colors.surface,marginBottom:8,borderRadius:4,padding:0},petOption:{padding:8,backgroundColor:p.colors.surface,marginBottom:8,borderRadius:4},selectedPet:{backgroundColor:p.colors.primary},petOptionText:{color:p.colors.text},uploadButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:12,backgroundColor:p.colors.surface,borderRadius:4,marginTop:16},uploadButtonText:{marginLeft:8,color:p.colors.primary,fontWeight:"bold"},photoPreview:{flexDirection:"row",marginTop:16},photoThumbnail:{width:80,height:80,marginRight:8,borderRadius:4},questionContainer:{marginBottom:16,width:"100%",alignItems:"center"},modalButtonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:16},cancelButton:{backgroundColor:p.colors.error,paddingHorizontal:16,paddingVertical:12,borderRadius:4,alignItems:"center",flex:1,marginRight:8},cancelButtonText:{color:p.colors.background,fontWeight:"bold"},submitButton:{backgroundColor:p.colors.primary,paddingHorizontal:16,paddingVertical:12,borderRadius:4,alignItems:"center",flex:1,marginLeft:8},submitButtonText:{color:p.colors.background,fontWeight:"bold"},addQuestionButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:12,backgroundColor:p.colors.surface,borderRadius:4,marginTop:8,marginBottom:16,zIndex:1},addQuestionButtonText:{marginLeft:8,zIndex:1,color:p.colors.primary,fontWeight:"bold"},answerInputContainer:{width:"100%",alignItems:"center"},answerInput:Object.assign({width:za-80,maxWidth:600,minHeight:60,backgroundColor:p.colors.surface,borderRadius:4,padding:8,marginTop:8},{border:"1px solid ".concat(p.colors.border)}),summaryInput:Object.assign({backgroundColor:p.colors.surface,borderRadius:4,marginBottom:8,padding:8,height:100,textAlignVertical:"top"},{minHeight:100},{border:"1px solid ".concat(p.colors.border)}),dropdownButton:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:p.colors.surface,borderRadius:4,padding:12,marginBottom:16,borderWidth:1,borderColor:p.colors.border},dropdownButtonText:{color:p.colors.text},pickerModalContainer:{flex:1,justifyContent:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.5)"},pickerContainer:{backgroundColor:p.colors.background,borderTopLeftRadius:20,borderTopRightRadius:20,padding:16},pickerCloseButton:{backgroundColor:p.colors.primary,padding:16,alignItems:"center"},pickerCloseButtonText:{color:p.colors.background,fontWeight:"bold"},photoContainer:{marginRight:8},photo:{width:100,height:100,borderRadius:8}}),Ra=({onCreateChronicle:e})=>{const[t,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[u,f]=(0,a.useState)([{question:"",answer:"",isPreset:!0}]),[m,h]=(0,a.useState)(""),[y,x]=(0,a.useState)([]),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),[v,T]=(0,a.useState)(!1),k=[{id:"1",name:"John Doe",pets:[{id:"1",name:"Max"},{id:"2",name:"Bella"}]},{id:"2",name:"Jane Smith",pets:[{id:"3",name:"Luna"},{id:"4",name:"Charlie"}]}],B=(e,t,o)=>{const a=[...u];a[e]=Object.assign({},a[e],{[t]:o}),f(a)},I=()=>{l(""),c([]),h(""),f([{question:"",answer:""}]),x([])},P=({photo:e})=>(0,C.jsx)(n.default,{style:Da.photoContainer,children:(0,C.jsx)(_.default,{source:{uri:e.uri},style:Da.photo})});return(0,C.jsxs)(n.default,{children:[(0,C.jsx)(i.default,{style:Da.createButton,onPress:()=>o(!0),children:(0,C.jsx)(r.default,{style:Da.createButtonText,children:"Create New Chronicle"})}),(0,C.jsx)(H.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:()=>o(!1),children:(0,C.jsx)(n.default,{style:Da.modalContainer,children:(0,C.jsxs)(n.default,{style:[Da.modalContent,Da.webModalContent],children:[(0,C.jsxs)(n.default,{style:Da.modalHeader,children:[(0,C.jsx)(r.default,{style:Da.modalTitle,children:"Create New Chronicle"}),(0,C.jsx)(i.default,{onPress:()=>o(!1),children:(0,C.jsx)(r.default,{style:Da.closeButtonText,children:"\u2715"})})]}),(0,C.jsxs)(W.default,{children:[(0,C.jsx)(r.default,{style:Da.label,children:"Select Client"}),(0,C.jsx)(Ca,{clients:k,selectedClient:s,onSelectClient:l}),(0,C.jsx)(r.default,{style:Da.label,children:"Select Pets"}),s&&k.find((e=>e.name===s))?.pets.map((e=>(0,C.jsx)(i.default,{style:[Da.petOption,d.includes(e.name)&&Da.selectedPet],onPress:()=>{d.includes(e.name)?c(d.filter((t=>t!==e.name))):c([...d,e.name])},children:(0,C.jsx)(r.default,{style:Da.petOptionText,children:e.name})},e.id))),(0,C.jsx)(r.default,{style:Da.label,children:"Summary"}),(0,C.jsx)(N.default,{style:Da.summaryInput,multiline:!0,value:m,onChangeText:h,placeholder:"Write a summary of the chronicle",textAlignVertical:"top"}),u.map(((e,t)=>(0,C.jsxs)(n.default,{style:Da.questionContainer,children:[(0,C.jsxs)(r.default,{style:Da.label,children:["Question ",t+1]}),(0,C.jsx)(Pa,{value:e.question,onChange:e=>B(t,"question",e)}),(0,C.jsx)(n.default,{style:Da.answerInputContainer,children:(0,C.jsx)(N.default,{style:[Da.input,Da.answerInput],value:e.answer,onChangeText:e=>B(t,"answer",e),placeholder:"Enter answer",multiline:!0})})]},t))),(0,C.jsxs)(i.default,{style:Da.addQuestionButton,onPress:()=>{f([...u,{question:"",answer:"",isPreset:!1}])},children:[(0,C.jsx)(g.default,{name:"plus",size:20,color:p.colors.primary}),(0,C.jsx)(r.default,{style:Da.addQuestionButtonText,children:"Add Another Question"})]}),(0,C.jsxs)(i.default,{style:Da.uploadButton,onPress:async()=>{try{j(!0);const e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsMultipleSelection:!0,quality:1});e.canceled||x([...y,...e.assets])}catch(e){console.error("Error uploading images:",e)}finally{j(!1)}},disabled:b,children:[(0,C.jsx)(g.default,{name:"camera",size:24,color:b?p.colors.disabled:p.colors.primary}),(0,C.jsx)(r.default,{style:[Da.uploadButtonText,b&&Da.uploadingText],children:b?"Uploading...":"Upload Photos"}),b&&(0,C.jsx)(Oe.default,{size:"small",color:p.colors.primary,style:Da.uploadingSpinner})]}),(0,C.jsx)(W.default,{horizontal:!0,style:Da.photoPreview,children:y.map(((e,t)=>(0,C.jsx)(P,{photo:e},t)))})]}),(0,C.jsxs)(n.default,{style:Da.modalButtonContainer,children:[(0,C.jsx)(i.default,{style:Da.cancelButton,onPress:()=>{o(!1),I()},children:(0,C.jsx)(r.default,{style:Da.cancelButtonText,children:"Cancel"})}),(0,C.jsx)(i.default,{style:Da.submitButton,onPress:()=>{T(!0);const t={id:Date.now(),client:s,pets:d,summary:m,questions:u,photos:y,title:"Chronicle for ".concat(s)};setTimeout((()=>{console.log("Sending data to backend:",t),e(t),T(!1),o(!1),I()}),2e3)},disabled:v,children:(0,C.jsx)(r.default,{style:Da.submitButtonText,children:v?"Creating Chronicle...":"Create Chronicle"})})]})]})})})]})},Fa=s.default.create({safeArea:{flex:1,backgroundColor:p.colors.background,paddingTop:0},scrollViewContent:{flexGrow:1},container:{flex:1,padding:16,alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:16,color:p.colors.primary,textAlign:"center"},tabContainer:{flexDirection:"row",marginBottom:16,width:"100%",maxWidth:500},tab:{flex:1,paddingVertical:12,alignItems:"center",backgroundColor:p.colors.surface,borderRadius:8,marginHorizontal:4},activeTab:{backgroundColor:p.colors.primary},tabText:{color:p.colors.text,fontWeight:"bold"},activeTabText:{color:p.colors.background},contentContainer:{width:"100%",maxWidth:500},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",minHeight:200},useTemplateButton:{backgroundColor:p.colors.primary,padding:10,borderRadius:5,marginBottom:16,alignItems:"center"},useTemplateButtonText:{color:p.colors.background,fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{width:"80%",backgroundColor:p.colors.surface,borderRadius:10,padding:20,alignItems:"center"},modalTitle:{fontSize:20,fontWeight:"bold",marginBottom:20},templateGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},templateBox:{width:100,height:100,backgroundColor:p.colors.primary,margin:10,justifyContent:"center",alignItems:"center",borderRadius:5},templateTitle:{color:p.colors.background,textAlign:"center"},closeButton:{marginTop:20,padding:10,backgroundColor:p.colors.primary,borderRadius:5},closeButtonText:{color:p.colors.background,fontWeight:"bold"}}),Aa=()=>{const[e,t]=(0,a.useState)("contracts"),[o,s]=(0,a.useState)([]),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)([]);(0,a.useEffect)((()=>{"chronicles"===e&&f()}),[e]);const f=async()=>{d(!0),await new Promise((e=>setTimeout(e,1e3)));s([{id:1,title:"Fluffy's Adventure",client:"John Doe",pets:["Fluffy"],summary:"Fluffy had a great time at the park today!"},{id:2,title:"Max's Playdate",client:"Jane Smith",pets:["Max"],summary:"Max enjoyed playing with other dogs at the beach."}]),d(!1)};(0,a.useEffect)((()=>{(async()=>{try{const e=await y.default.getItem("userToken");if(!e)return void console.error("No token found");const t=await x.default.get("".concat(b,"/api/contracts/templates/"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data)}catch(e){console.error("Error fetching templates:",e)}})()}),[]);return(0,C.jsx)(Ce.default,{style:Fa.safeArea,children:(0,C.jsx)(W.default,{contentContainerStyle:Fa.scrollViewContent,children:(0,C.jsxs)(n.default,{style:Fa.container,children:[(0,C.jsx)(r.default,{style:Fa.title,children:"My Contracts & Chronicles"}),(0,C.jsxs)(n.default,{style:Fa.tabContainer,children:[(0,C.jsx)(i.default,{style:[Fa.tab,"contracts"===e&&Fa.activeTab],onPress:()=>t("contracts"),children:(0,C.jsx)(r.default,{style:[Fa.tabText,"contracts"===e&&Fa.activeTabText],children:"Contracts"})}),(0,C.jsx)(i.default,{style:[Fa.tab,"chronicles"===e&&Fa.activeTab],onPress:()=>t("chronicles"),children:(0,C.jsx)(r.default,{style:[Fa.tabText,"chronicles"===e&&Fa.activeTabText],children:"Critter Chronicles"})})]}),"contracts"===e&&(0,C.jsxs)(n.default,{style:Fa.contentContainer,children:[(0,C.jsx)(va,{templates:c}),(0,C.jsx)(ja,{})]}),"chronicles"===e&&(0,C.jsx)(n.default,{style:Fa.contentContainer,children:l?(0,C.jsx)(n.default,{style:Fa.loadingContainer,children:(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ra,{onCreateChronicle:e=>{s((t=>[...t,e]))}}),(0,C.jsx)(ka,{chronicles:o})]})})]})})})},Wa=s.default.create({container:{flex:1,backgroundColor:p.colors.background,paddingTop:0},content:{flex:1,padding:20},webContent:{width:"100%",maxWidth:600,alignSelf:"center",padding:20},header:{flexDirection:"row",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border},backButton:{marginRight:16},headerText:{fontSize:20,fontWeight:"bold",color:p.colors.primary},input:{marginBottom:10},button:{marginTop:20},errorText:{color:p.colors.error,marginBottom:10},successText:{color:p.colors.success,marginBottom:10}}),_a=({navigation:e})=>{const[t,o]=(0,a.useState)(""),[r,s]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),{isSignedIn:h}=(0,a.useContext)(v),[j,w]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{const e=await y.default.getItem("userToken");w(e)})()}),[]);return(0,C.jsxs)(Ce.default,{style:Wa.container,children:[(0,C.jsxs)(n.default,{style:Wa.header,children:[(0,C.jsx)(i.default,{onPress:()=>e.navigate("Settings"),style:Wa.backButton,children:(0,C.jsx)(g.default,{name:"arrow-left",size:24,color:p.colors.primary})}),(0,C.jsx)(O.default,{style:Wa.headerText,children:"Change Password"})]}),(0,C.jsxs)(n.default,{style:Wa.webContent,children:[(0,C.jsx)(ve.default,{label:"Current Password",value:t,onChangeText:o,secureTextEntry:!0,style:Wa.input}),(0,C.jsx)(ve.default,{label:"New Password",value:r,onChangeText:s,secureTextEntry:!0,style:Wa.input}),(0,C.jsx)(ve.default,{label:"Confirm New Password",value:l,onChangeText:d,secureTextEntry:!0,style:Wa.input}),c?(0,C.jsx)(O.default,{style:Wa.errorText,children:c}):null,f?(0,C.jsx)(O.default,{style:Wa.successText,children:f}):null,(0,C.jsx)(Te.default,{mode:"contained",onPress:async()=>{if(u(""),m(""),r===l)if(h&&j)try{console.log("Sending request to:","".concat(b,"/api/users/change-password/")),console.log("Request payload:",{current_password:t,new_password:r}),console.log("Auth token:",j);const e=await x.default.post("".concat(b,"/api/users/change-password/"),{current_password:t,new_password:r},{headers:{Authorization:"Bearer ".concat(j)}});console.log("Response:",e),200===e.status&&(m("Password changed successfully"),o(""),s(""),d(""))}catch(c){console.error("Error details:",c),u(c.response?.data?.error||"Failed to change password")}else u("You are not authenticated. Please log in again.");else u("New passwords do not match")},style:Wa.button,children:"Change Password"})]})]})},{width:Ea}=m.default.get("window"),Na=({label:e,value:t,onChangeText:o,type:a="text",style:r})=>(0,C.jsxs)(n.default,{style:Oa.inputContainer,children:[(0,C.jsx)(O.default,{style:Oa.label,children:e}),(0,C.jsx)("textarea",{value:t,onChange:e=>{"number"===a&&isNaN(e.target.value)||o(e.target.value)},style:Object.assign({},Oa.webInput,r),rows:1,maxLength:"text"===a?1e3:void 0})]}),Oa=s.default.create({container:{flex:1,backgroundColor:"#fff"},scrollContent:{flexGrow:1,alignItems:"center",paddingVertical:16,paddingBottom:16},formContainer:{width:Ea>600?"40%":"90%",alignItems:"center",paddingBottom:16},profileImageContainer:{marginBottom:16},profileImage:{width:80,height:80,borderRadius:40},profileImagePlaceholder:{width:80,height:80,borderRadius:40,borderWidth:2,borderColor:"#ccc",justifyContent:"center",alignItems:"center"},inputContainer:{width:"100%",alignItems:"center",paddingBottom:0,flex:1},label:{fontSize:16,marginBottom:8,marginTop:16,textAlign:"center"},boldLabel:{fontSize:16,fontWeight:"bold",marginBottom:8,textAlign:"center"},sectionHeader:{fontSize:25,fontWeight:"bold",marginVertical:16,alignSelf:"flex-start",textAlign:"left"},webInput:{width:"100%",minHeight:24,padding:8,fontSize:16,borderColor:"#ccc",borderWidth:1,borderRadius:4,resize:"none"},input:{width:"100%",height:40,padding:8,fontSize:16,borderColor:"#ccc",borderWidth:1,borderRadius:4},descriptionInput:{width:"100%",minHeight:90,padding:8,fontSize:16,borderColor:"#ccc",borderWidth:1,borderRadius:4,textAlignVertical:"center"},customInput:{width:"100%",padding:8,fontSize:16,borderColor:"#ccc",borderWidth:1,borderRadius:4,marginBottom:8},tabContainer:{flexDirection:"row",marginBottom:16},tab:{flex:1,padding:10,alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#ccc"},activeTab:{backgroundColor:"#ddd"},leftTab:{borderTopLeftRadius:10,borderBottomLeftRadius:10},rightTab:{borderTopRightRadius:10,borderBottomRightRadius:10},tabText:{fontSize:16},toggleContainer:{width:"100%",marginBottom:8},buttonRow:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginBottom:8},yesNoContainer:{flexDirection:"row",justifyContent:"center",marginBottom:16},yesNoButton:{marginHorizontal:10,padding:10,borderRadius:20,borderWidth:1,borderColor:"#ccc",alignItems:"center",justifyContent:"center",width:80},activeYesNoButton:{backgroundColor:"#ddd"},yesNoText:{fontSize:16},datePicker:{marginBottom:16,padding:10,borderRadius:4,alignItems:"center",justifyContent:"center",width:"100%"},dateText:{fontSize:16,color:p.colors.text,padding:10,borderWidth:1,borderColor:"#ccc",borderRadius:4,textAlign:"center"},saveButton:{marginTop:16,width:"100%"},timePickerContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:16},webTimePicker:{padding:8,borderWidth:1,borderColor:"#ccc",borderRadius:4,fontSize:16},documentsContainer:{marginVertical:10,width:"100%"},uploadButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:12,borderWidth:1,borderColor:"#ccc",borderRadius:4,borderStyle:"dashed",marginBottom:10},uploadText:{marginLeft:8,color:"#666"},documentsList:{minHeight:120},documentThumbnail:{width:100,height:100,marginRight:10,borderRadius:4},gallerySection:{width:"100%",marginTop:16},galleryContainer:{flexDirection:"row",flexWrap:"wrap",gap:8,width:"100%"},galleryThumbnail:{width:100,height:100,borderRadius:4,marginRight:8,marginBottom:8},header:{flexDirection:"row",alignItems:"center",padding:16,borderBottomWidth:1,borderBottomColor:p.colors.border},backButton:{marginRight:16},headerText:{fontSize:20,fontWeight:"bold",color:p.colors.primary},scrollViewContent:{paddingBottom:100}}),Ma=({route:e})=>{const t=(0,A.useNavigation)(),[o]=(0,a.useState)((()=>{{const e=sessionStorage.getItem("editPetData");if(e)return JSON.parse(e)}return e.params?.pet||{}}));(0,a.useEffect)((()=>(window.location.search&&window.history.replaceState({},"","/AddPet"),e.params?.pet&&sessionStorage.setItem("editPetData",JSON.stringify(e.params.pet)),()=>{window.location.pathname.includes("AddPet")||sessionStorage.removeItem("editPetData")})),[]);const r=o,[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(r&&r.animal_type?r.animal_type:""),[u,f]=(0,a.useState)(r&&r.animal_type?r.animal_type:""),[m,h]=(0,a.useState)(""),[y,x]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[w,S]=(0,a.useState)(""),[v,T]=(0,a.useState)(null),[k,B]=(0,a.useState)(null),[I,P]=(0,a.useState)(null),[z,D]=(0,a.useState)(null),[R,F]=(0,a.useState)(null),[E,N]=(0,a.useState)(null),[M,L]=(0,a.useState)(null),[H,V]=(0,a.useState)(new Date),[U,G]=(0,a.useState)(""),[q,Y]=(0,a.useState)(null),[J,$]=(0,a.useState)(!1),[K,Z]=(0,a.useState)(!1),[Q,X]=(0,a.useState)(null),[ee,te]=(0,a.useState)(""),[oe,ae]=(0,a.useState)(null),[ne,re]=(0,a.useState)(null),[ie,se]=(0,a.useState)(""),[le,de]=(0,a.useState)(null),[ce,ue]=(0,a.useState)(""),[fe,me]=(0,a.useState)(null),[ge,he]=(0,a.useState)(""),[pe,ye]=(0,a.useState)(""),[xe,be]=(0,a.useState)(""),[je,we]=(0,a.useState)(""),[Se,ve]=(0,a.useState)(""),[Te,ke]=(0,a.useState)([]),[Be,ze]=(0,a.useState)(""),[De,Re]=(0,a.useState)([]),[Ae,We]=(0,a.useState)(new Date),[_e,Ee]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(Z(!1),r){if(l(r.name?r.name:""),c(r.animal_type?r.animal_type:""),f("Cat"===r.animal_type||"Dog"===r.animal_type?r.animal_type:"Exotic"),x(r.breed?r.breed:""),h(r.weight?r.weight:""),j(r.age&&r.age.years?r.age.years:""),S(r.age&&r.age.months?r.age.months:""),T(r.sex?r.sex:""),B(void 0!==r.friendlyWithChildren?r.friendlyWithChildren:null),P(void 0!==r.friendlyWithCats?r.friendlyWithCats:null),D(void 0!==r.friendlyWithDogs?r.friendlyWithDogs:null),F(void 0!==r.spayedNeutered?r.spayedNeutered:null),N(void 0!==r.houseTrained?r.houseTrained:null),L(void 0!==r.microchipped?r.microchipped:null),V(r.adoptionDate?new Date(r.adoptionDate):new Date),G(r.description?r.description:""),ae(r.energyLevel?r.energyLevel:""),Array.isArray(r.feedingSchedule)?(re(r.feedingSchedule[0]),se(r.feedingSchedule[1])):(re(r.feedingSchedule?r.feedingSchedule:""),se("")),de(r.leftAlone?r.leftAlone:""),me(r.medication?r.medication:""),ye(r.additionalInstructions?r.additionalInstructions:""),be(r.vetName?r.vetName:""),we(r.vetAddress?r.vetAddress:""),ve(r.vetPhone?r.vetPhone:""),ze(r.insuranceProvider?r.insuranceProvider:""),ke(r.veterinarian&&r.veterinarian.documents?r.veterinarian.documents:[]),Re(r.galleryImages?r.galleryImages:[]),r.age){const e=new Date,t=new Date(e.getFullYear()-r.age.years,e.getMonth()-r.age.months);We(t)}}else l(""),c(""),f(""),h(""),j(""),S(""),T(""),B(null),P(null),D(null),F(null),N(null),L(null),V(new Date),G(""),ae(""),re(""),se(""),de(""),me(""),ye(""),be(""),we(""),ve(""),ze(""),ke([]),Re([])}),[r]),(0,a.useEffect)((()=>{if(b&&w){const e=new Date,t=new Date(e.getFullYear()-parseInt(b),e.getMonth()-parseInt(w));We(t)}}),[b,w]);const Ne=e=>(0,C.jsx)(i.default,{style:[Oa.tab,u===e&&Oa.activeTab,"Dog"===e&&Oa.leftTab,"Exotic"===e&&Oa.rightTab],onPress:()=>{f(e),Z(!0)},children:(0,C.jsx)(O.default,{style:Oa.tabText,children:e})}),Oe=(e,t,o,a=!1,r="",s=()=>{})=>(0,C.jsxs)(n.default,{style:Oa.toggleContainer,children:[(0,C.jsx)(n.default,{style:Oa.buttonRow,children:e.map((e=>(0,C.jsx)(i.default,{style:[Oa.yesNoButton,t===e&&Oa.activeYesNoButton],onPress:()=>o(e),children:(0,C.jsx)(O.default,{style:Oa.yesNoText,children:e})},e)))}),(a&&"Custom"===t||e.includes("Pill")&&t)&&(0,C.jsx)(n.default,{style:Oa.inputContainer,children:(0,C.jsx)("textarea",{value:r,onChange:e=>s(e.target.value),style:Oa.webInput,placeholder:e.includes("Pill")?"Enter medication details":"Enter custom time"})})]}),Me=(e,t)=>(0,C.jsxs)(n.default,{style:Oa.yesNoContainer,children:[(0,C.jsx)(i.default,{style:[Oa.yesNoButton,!0===e&&Oa.activeYesNoButton],onPress:()=>t(!0),children:(0,C.jsx)(O.default,{style:Oa.yesNoText,children:"Yes"})}),(0,C.jsx)(i.default,{style:[Oa.yesNoButton,!1===e&&Oa.activeYesNoButton],onPress:()=>t(!1),children:(0,C.jsx)(O.default,{style:Oa.yesNoText,children:"No"})})]}),Le=e=>t=>{e(t),Z(!0)};return(0,C.jsxs)(Ce.default,{style:Oa.container,children:[(0,C.jsxs)(n.default,{style:Oa.header,children:[(0,C.jsx)(i.default,{onPress:()=>t.navigate("MyPets"),style:Oa.backButton,children:(0,C.jsx)(g.default,{name:"arrow-left",size:24,color:p.colors.primary})}),(0,C.jsx)(O.default,{style:Oa.headerText,children:r&&Object.keys(r).length>0?"Edit Pet":"Add a New Pet"})]}),(0,C.jsx)(W.default,{contentContainerStyle:Oa.scrollContent,children:(0,C.jsxs)(n.default,{style:Oa.formContainer,children:[(0,C.jsxs)(O.default,{style:Oa.sectionHeader,children:[(0,C.jsx)(g.default,{name:"paw",size:20})," Pet Details"]}),(0,C.jsx)(O.default,{style:Oa.label,children:"Profile Photo"}),(0,C.jsx)(i.default,{onPress:async()=>{const e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:1});e.canceled||Y(e.assets[0].uri)},style:Oa.profileImageContainer,children:q?(0,C.jsx)(_.default,{source:{uri:q},style:Oa.profileImage}):(0,C.jsx)(n.default,{style:Oa.profileImagePlaceholder,children:(0,C.jsx)(g.default,{name:"camera",size:40,color:"#ccc"})})}),(0,C.jsxs)(n.default,{style:Oa.tabContainer,children:[Ne("Dog"),Ne("Cat"),Ne("Exotic")]}),(0,C.jsx)(Na,{label:"Pet Name",value:s,onChangeText:Le(l),placeholder:r?r.name:"Enter pet name"}),"Exotic"===u&&(0,C.jsx)(Na,{label:"Pet Type",value:r.animal_type?r.animal_type:"",onChangeText:Le(c),placeholder:r?r.animal_type:"Enter pet type"}),(0,C.jsx)(Na,{label:"Weight (lbs)",value:m.toString(),onChangeText:Le(h),keyboardType:"numeric"}),(0,C.jsxs)(n.default,{style:Oa.inputContainer,children:[(0,C.jsx)(O.default,{style:Oa.label,children:"Estimated Birthday:"}),(0,C.jsx)(i.default,{onPress:()=>Ee(!0),children:(0,C.jsx)(O.default,{style:Oa.dateText,children:(0,Ut.format)(Ae,"yyyy-MM-dd")})}),_e&&(0,C.jsx)(Ze,{value:Ae,onChange:e=>{e&&(We(e),(e=>{const t=new Date,o=new Date(e);let a=t.getFullYear()-o.getFullYear(),n=t.getMonth()-o.getMonth();n<0&&(a--,n+=12),j(a.toString()),S(n.toString())})(e),Z(!0)),Ee(!1)}})]}),(0,C.jsx)(Na,{label:"Age in Years",value:b.toString()?b.toString():"",onChangeText:Le(j),keyboardType:"numeric",maxLength:2}),(0,C.jsx)(Na,{label:"Age in Months",value:""===w?"":"0"===w?"0":w.toString(),onChangeText:Le(S),keyboardType:"numeric",maxLength:2}),(0,C.jsx)(Na,{label:"Breed",value:y,onChangeText:Le(x)}),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Sex:"}),(He=v,(0,C.jsxs)(n.default,{style:Oa.yesNoContainer,children:[(0,C.jsx)(i.default,{style:[Oa.yesNoButton,"Male"===He&&Oa.activeYesNoButton],onPress:()=>{T("Male"),Z(!0)},children:(0,C.jsx)(O.default,{style:Oa.yesNoText,children:"Male"})}),(0,C.jsx)(i.default,{style:[Oa.yesNoButton,"Female"===He&&Oa.activeYesNoButton],onPress:()=>{T("Female"),Z(!0)},children:(0,C.jsx)(O.default,{style:Oa.yesNoText,children:"Female"})})]})),("Dog"===u||"Cat"===u)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Friendly with Children:"}),Me(k,B),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Friendly with Cats:"}),Me(I,P),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Friendly with Dogs:"}),Me(z,D),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Spayed/Neutered:"}),Me(R,F),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"House Trained:"}),Me(E,N),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Microchipped:"}),Me(M,L)]}),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Adoption Date:"}),(0,C.jsx)(n.default,{style:Oa.timePickerContainer,children:(0,C.jsx)("input",{type:"date",value:(0,Ut.format)(H,"yyyy-MM-dd"),onChange:e=>{const t=new Date(e.target.value);V(t)},style:Oa.webTimePicker})}),(0,C.jsx)(n.default,{style:{height:16}}),(0,C.jsx)(n.default,{style:Oa.inputContainer,children:(0,C.jsx)(Na,{label:"Pet Description",value:U,onChangeText:Le(G),maxLength:1e3,multiline:!0,style:Oa.descriptionInput})}),(0,C.jsxs)(O.default,{style:Oa.sectionHeader,children:[(0,C.jsx)(g.default,{name:"heart",size:20})," Care Information"]}),"Dog"===d&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Potty Break Schedule:"}),Oe(["2 hours","4 hours","8 hours","Custom"],Q,X,!0,ee,te)]}),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Energy Level:"}),Oe(["High","Moderate","Low"],oe,ae),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Feeding Schedule:"}),Oe(["Morning","Twice a day","Custom"],ne,re,!0,ie,se),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Can Be Left Alone:"}),Oe(["<1 hour","1-4 hours","4-8 hours","Custom"],le,de,!0,ce,ue),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Medication:"}),Oe(["Pill","Topical","Injection"],fe,me,!0,ge,he),(0,C.jsx)(n.default,{style:Oa.inputContainer,children:(0,C.jsx)(Na,{label:"Anything Else The Professional Should Know",value:pe,onChangeText:Le(ye),maxLength:1e3,multiline:!0,style:Oa.descriptionInput,placeholder:"Add custom instructions"})}),(0,C.jsxs)(O.default,{style:Oa.sectionHeader,children:[(0,C.jsx)(g.default,{name:"medical-bag",size:20})," Health Information"]}),(0,C.jsx)(Na,{label:"Veterinarian Name",value:xe,onChangeText:Le(be)}),(0,C.jsx)(Na,{label:"Veterinarian Address",value:je,onChangeText:Le(we),multiline:!0}),(0,C.jsx)(Na,{label:"Veterinarian Phone",value:Se,onChangeText:Le(ve),keyboardType:"phone-pad"}),(0,C.jsx)(Na,{label:"Pet Insurance Provider",value:Be,onChangeText:Le(ze),style:Oa.input}),(0,C.jsx)(O.default,{style:Oa.boldLabel,children:"Veterinary Documents:"}),(0,C.jsxs)(n.default,{style:Oa.documentsContainer,children:[(0,C.jsxs)(i.default,{style:Oa.uploadButton,onPress:async()=>{const e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.All,allowsMultipleSelection:!0,quality:1});e.canceled||ke([...Te,...e.assets])},children:[(0,C.jsx)(g.default,{name:"file-upload",size:24,color:"#666"}),(0,C.jsx)(O.default,{style:Oa.uploadText,children:"Upload Documents"})]}),Te.length>0&&(0,C.jsx)(W.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Oa.documentsList,children:Te.map(((e,t)=>(0,C.jsx)(_.default,{source:{uri:e.uri},style:Oa.documentThumbnail},t)))})]}),(0,C.jsxs)(n.default,{style:Oa.gallerySection&&Oa.scrollViewContent,children:[(0,C.jsxs)(O.default,{style:Oa.sectionHeader,children:[(0,C.jsx)(g.default,{name:"image-multiple",size:20})," Photo Gallery"]}),(0,C.jsxs)(i.default,{style:Oa.uploadButton,onPress:async()=>{try{0;const e=await Ie.launchImageLibraryAsync({mediaTypes:Pe.MediaTypeOptions.Images,allowsMultipleSelection:!0,quality:1,aspect:[1,1]});e.canceled||Re((t=>[...t,...e.assets]))}catch(e){console.error("Error picking images:",e),alert("Error selecting images. Please try again.")}},children:[(0,C.jsx)(g.default,{name:"image-plus",size:24,color:"#666"}),(0,C.jsx)(O.default,{style:Oa.uploadText,children:"Add Photos"})]}),De.length>0&&(0,C.jsx)(n.default,{style:Oa.galleryContainer,children:De.map(((e,t)=>(0,C.jsx)(_.default,{source:{uri:e.uri},style:Oa.galleryThumbnail,resizeMode:"cover"},t)))})]})]})}),(0,C.jsx)(Fe,{visible:K,onSave:()=>{$(!0),Z(!1);const e={petName:s,petType:"Exotic"!==u?u:d,weight:m,breed:y,estimatedBirthday:Ae,age:{years:b,months:w},sex:v,profileImage:q,description:U,adoptionDate:(0,Ut.format)(H,"yyyy-MM-dd"),friendlyWithChildren:k,friendlyWithCats:I,friendlyWithDogs:z,spayedNeutered:R,houseTrained:E,microchipped:M,pottyBreakSchedule:"Custom"===Q?ee:Q,energyLevel:oe,feedingSchedule:"Custom"===ne?ie:ne,leftAlone:"Custom"===le?ce:le,medication:fe?{type:fe,details:ge}:null,additionalInstructions:pe,veterinarian:{name:xe,address:je,phone:Se,documents:Te.map((e=>({uri:e.uri,type:e.type,name:e.fileName||"document"})))},insuranceProvider:Be,galleryImages:De.map((e=>({uri:e.uri,type:e.type,name:e.fileName||"image"})))};console.log("Pet Profile Data:",JSON.stringify(e,null,2)),setTimeout((()=>{$(!1)}),1e3)},btnText:"Save Profile"})]});var He};o(90013);var La=o(27851),Ha=o.n(La),Va=(o(5433),o(62914));o(31943);const Ua=s.default.create({container:{position:"relative"},dropdownContainer:{position:"relative"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:6,borderWidth:1,borderColor:p.colors.border,borderRadius:8,backgroundColor:p.colors.background},dropdown:{position:"absolute",top:"100%",left:0,right:0,maxHeight:200,backgroundColor:p.colors.background,borderWidth:1,borderColor:p.colors.border,borderRadius:8,marginTop:4,elevation:1e3,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,zIndex:9999},scrollView:{maxHeight:200},scrollViewContent:{flexGrow:1},item:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},itemText:{fontSize:p.fontSizes.medium+2,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},placeholderText:{color:p.colors.placeholderText,fontSize:p.fontSizes.medium+2,fontFamily:p.fonts.regular.fontFamily},selectedText:{color:p.colors.text,fontSize:p.fontSizes.medium+2,fontFamily:p.fonts.regular.fontFamily},chipsContainer:{flexDirection:"row",flexWrap:"wrap",gap:8,marginTop:8},chip:{flexDirection:"row",alignItems:"center",backgroundColor:p.colors.background,borderWidth:1,borderColor:p.colors.primary,borderRadius:16,paddingVertical:4,paddingHorizontal:8},chipText:{fontSize:p.fontSizes.small+2,color:p.colors.text,marginRight:4,fontFamily:p.fonts.regular.fontFamily},chipRemove:{padding:2},label:{fontSize:p.fontSizes.medium,color:p.colors.text,marginBottom:p.spacing.small,fontFamily:p.fonts.header.fontFamily}}),Ga=({label:e,data:t,value:o,onChange:s,placeholder:l,isOpen:d,setIsOpen:c,containerStyle:u,zIndex:f=1})=>{const m=(0,a.useRef)(null);(0,a.useEffect)((()=>{{const e=e=>{m.current&&!m.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}}),[c]);return(0,C.jsxs)(n.default,{style:[Ua.container,{zIndex:f},u],children:[e&&(0,C.jsx)(r.default,{style:Ua.label,children:e}),(0,C.jsxs)(n.default,{ref:m,style:Ua.dropdownContainer,children:[(0,C.jsxs)(i.default,{style:Ua.header,onPress:()=>c(!d),children:[(0,C.jsx)(r.default,{style:o.length?Ua.selectedText:Ua.placeholderText,children:(()=>{if(0===o.length)return l;const e=o.map((e=>t.find((t=>t.value===e))?.label||"")),a=e[0];return e.length>1?a.length>30?a.substring(0,30)+"...":a+", ...":a.length>30?a.substring(0,30)+"...":a})()}),(0,C.jsx)(g.default,{name:d?"chevron-up":"chevron-down",size:24,color:p.colors.primary})]}),d&&(0,C.jsx)(n.default,{style:[Ua.dropdown,{zIndex:f+1}],children:(0,C.jsx)(W.default,{nestedScrollEnabled:!0,style:Ua.scrollView,contentContainerStyle:Ua.scrollViewContent,children:t.map((e=>(0,C.jsxs)(i.default,{style:Ua.item,onPress:t=>((e,t)=>{t.preventDefault(),t.stopPropagation();const a=o.includes(e)?o.filter((t=>t!==e)):[...o,e];s(a)})(e.value,t),activeOpacity:.7,children:[(0,C.jsx)(r.default,{style:Ua.itemText,children:e.label}),o.includes(e.value)&&(0,C.jsx)(g.default,{name:"check",size:24,color:p.colors.primary})]},e.value)))})}),!d&&o.length>0&&(0,C.jsx)(n.default,{style:Ua.chipsContainer,children:o.map((e=>{const a=t.find((t=>t.value===e));return a?(0,C.jsxs)(n.default,{style:Ua.chip,children:[(0,C.jsx)(r.default,{style:Ua.chipText,children:a.label}),(0,C.jsx)(i.default,{onPress:t=>((e,t)=>{t.preventDefault(),t.stopPropagation();const a=o.filter((t=>t!==e));s(a)})(e,t),style:Ua.chipRemove,children:(0,C.jsx)(g.default,{name:"close",size:18,color:p.colors.text})})]},e):null}))})]})]})},qa=ee.map((e=>({label:e,value:e.toLowerCase().replace(/\s+/g,"-")}))),Ya=({value:e,onChange:t,suggestions:o,onSuggestionSelect:s})=>{const l=(0,a.useRef)(null),[d,c]=(0,a.useState)(!1),u=(0,a.useCallback)((0,Va.debounce)((async e=>{if(!(e.length<1))try{const t=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(e,"&countrycodes=us&limit=5"),{headers:{Accept:"application/json","User-Agent":"ZenExotics Mobile App"}}),o=(await t.json()).map((e=>({display_name:e.display_name,lat:e.lat,lon:e.lon})));s(o)}catch(t){console.error("Error fetching locations:",t),s([])}}),300),[s]);return(0,C.jsxs)(n.default,{style:[Ja.locationInputWrapper,{zIndex:2}],children:[(0,C.jsx)(N.default,{ref:l,style:Ja.locationInput,placeholder:"Enter city, state, or zip",value:e,onChangeText:e=>{t(e),e.length<1?s([]):u(e)}}),o.length>0&&(0,C.jsx)(n.default,{style:Ja.suggestionsWrapper,children:(0,C.jsx)(W.default,{style:Ja.suggestionsContainer,keyboardShouldPersistTaps:"always",nestedScrollEnabled:!0,children:o.map(((e,o)=>(0,C.jsx)(i.default,{style:Ja.suggestionItem,onPress:()=>{t(e.display_name),s([])},children:(0,C.jsx)(r.default,{children:e.display_name})},o)))})})]})},Ja=s.default.create({container:{padding:p.spacing.medium,backgroundColor:p.colors.background,borderRightWidth:1,borderRightColor:p.colors.border,height:"100%"},title:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text,marginBottom:p.spacing.large,fontFamily:p.fonts.header.fontFamily},section:{marginBottom:p.spacing.large,position:"relative"},label:{fontSize:p.fontSizes.medium+2,color:p.colors.text,marginBottom:p.spacing.small,fontFamily:p.fonts.regular.fontFamily},dropdown:{height:50,backgroundColor:p.colors.background,borderRadius:8,padding:p.spacing.small,borderWidth:1,borderColor:p.colors.border},datePickerContainer:{flexDirection:"column",gap:p.spacing.small},datePickerWrapper:{maxWidth:200},dateLabel:{fontSize:p.fontSizes.small+2,color:p.colors.text,marginBottom:4,fontFamily:p.fonts.regular.fontFamily},dateInput:{flex:1,height:50,backgroundColor:p.colors.inputBackground,borderRadius:8,padding:p.spacing.small,borderWidth:1,borderColor:p.colors.border},rateContainer:{flexDirection:"row",alignItems:"center",gap:p.spacing.small},rateInput:{flex:1,height:50,backgroundColor:p.colors.inputBackground,borderRadius:8,padding:p.spacing.small,borderWidth:1,borderColor:p.colors.border},priceRangeContainer:{flexDirection:"row",alignItems:"center",gap:p.spacing.small},slider:{flex:1,height:40,marginHorizontal:10},locationInputWrapper:{position:"relative",marginBottom:p.spacing.small},locationInput:{height:40,borderWidth:1,borderColor:p.colors.border,borderRadius:8,paddingHorizontal:p.spacing.small,backgroundColor:p.colors.background},suggestionsWrapper:{position:"absolute",top:"100%",left:0,right:0,maxHeight:200,backgroundColor:p.colors.background,borderWidth:1,borderColor:p.colors.border,borderRadius:8,zIndex:1e3},suggestionsContainer:{flex:1},suggestionItem:{padding:p.spacing.small,borderBottomWidth:1,borderBottomColor:p.colors.border},datePickersContainer:{flexDirection:"column",gap:p.spacing.small},selectedText:{fontSize:p.fontSizes.large+2,color:"#000000",fontWeight:"1200",fontFamily:p.fonts.regular.fontFamily},placeholderText:{fontSize:p.fontSizes.medium+2,color:p.colors.placeholderText,fontFamily:p.fonts.regular.fontFamily},selectedItem:{borderRadius:8,backgroundColor:p.colors.background,borderWidth:8,borderColor:p.colors.primary},dropdownIcon:{width:20,height:20},itemContainer:{padding:p.spacing.small,borderBottomWidth:1,borderBottomColor:p.colors.border},itemText:{fontSize:p.fontSizes.medium+2,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},selectedChip:{flexDirection:"row",alignItems:"center",backgroundColor:p.colors.background,borderWidth:1,borderColor:p.colors.primary,borderRadius:8,padding:p.spacing.small,marginRight:p.spacing.small,marginBottom:p.spacing.small},selectedChipText:{fontSize:p.fontSizes.medium+2,color:"#000000",marginRight:p.spacing.small,fontFamily:p.fonts.regular.fontFamily},dropdownItem:{padding:p.spacing.small},dropdownItemSelected:{backgroundColor:"white",borderWidth:1,borderColor:p.colors.primary,borderRadius:4,margin:2},dropdownItemText:{fontSize:p.fontSizes.medium+2,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},dropdownItemTextSelected:{color:p.colors.text,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},dropdownContainer:{backgroundColor:p.colors.background,borderRadius:8,borderWidth:1,borderColor:p.colors.border}}),$a=({onFiltersChange:e})=>{const[t,o]=(0,a.useState)({category:"",location:"",animalType:"",service:"",startDate:new Date,endDate:new Date,selectedPets:[],minRate:0,maxRate:250}),[i,s]=(0,a.useState)(""),[l,d]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[f,m]=(0,a.useState)([]),[g,h]=(0,a.useState)([]),[y,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),v=K.map((e=>({label:e,value:e.toLowerCase().replace(/\s+/g,"-").replace(/[()]/g,"")}))),T=(a,n)=>{const r=Object.assign({},t,{[a]:n});o(r),e(r)};return(0,C.jsxs)(W.default,{style:Ja.container,children:[(0,C.jsx)(r.default,{style:Ja.title,children:"Refine Search"}),(0,C.jsxs)(n.default,{style:[Ja.section,{zIndex:4e3}],children:[(0,C.jsx)(r.default,{style:Ja.label,children:"Location"}),(0,C.jsx)(Ya,{value:i,onChange:s,suggestions:l,onSuggestionSelect:d})]}),(0,C.jsx)(n.default,{style:[Ja.section,{zIndex:3001}],children:(0,C.jsx)(Ga,{label:"General Categories",data:qa,value:f,onChange:e=>{m(e),T("general",e)},placeholder:"Select general categories",isOpen:w,setIsOpen:S,zIndex:3e3})}),(0,C.jsx)(n.default,{style:[Ja.section,{zIndex:3e3}],children:(0,C.jsx)(Ga,{label:"Animal Types",data:[{label:"Dogs",value:"dog"},{label:"Cats",value:"cat"},{label:"Birds",value:"bird"},{label:"Small Animals",value:"small-animal"}],value:g,onChange:e=>{h(e),T("animalTypes",e)},placeholder:"Select animal types",isOpen:b,setIsOpen:j,zIndex:2e3})}),(0,C.jsx)(n.default,{style:[Ja.section,{zIndex:2e3}],children:(0,C.jsx)(Ga,{label:"Service Categories",data:v,value:c,onChange:e=>{u(e),T("services",e)},placeholder:"Select services",isOpen:y,setIsOpen:x,zIndex:3e3})}),(0,C.jsx)(n.default,{style:[Ja.section,{zIndex:1}],children:(0,C.jsx)(n.default,{style:Ja.section,children:(0,C.jsxs)(n.default,{style:Ja.datePickersContainer,children:[(0,C.jsxs)(n.default,{style:Ja.datePickerWrapper,children:[(0,C.jsx)(r.default,{style:Ja.dateLabel,children:"Start Date"}),(0,C.jsx)(Ze,{value:t.startDate,onChange:e=>T("startDate",e)})]}),(0,C.jsxs)(n.default,{style:Ja.datePickerWrapper,children:[(0,C.jsx)(r.default,{style:Ja.dateLabel,children:"End Date"}),(0,C.jsx)(Ze,{value:t.endDate,onChange:e=>T("endDate",e)})]})]})})}),(0,C.jsx)(n.default,{style:[Ja.section,{zIndex:1}],children:(0,C.jsxs)(n.default,{style:Ja.section,children:[(0,C.jsx)(r.default,{style:Ja.label,children:"Rate Range"}),(0,C.jsxs)(n.default,{style:Ja.priceRangeContainer,children:[(0,C.jsxs)(r.default,{children:["$",t.minRate]}),(0,C.jsx)(Ha(),{style:Ja.slider,minimumValue:0,maximumValue:250,step:5,value:t.maxRate,onValueChange:e=>T("maxRate",e),minimumTrackTintColor:p.colors.primary,maximumTrackTintColor:p.colors.border}),(0,C.jsxs)(r.default,{children:["$",t.maxRate]})]})]})})]})},Ka=({professional:e,onPress:t})=>{const o=(0,A.useNavigation)();return(0,C.jsxs)(i.default,{style:Za.listItem,onPress:()=>{o.navigate("ProfessionalProfile",{professional:e})},children:[(0,C.jsx)(_.default,{source:{uri:e.profilePicture},style:Za.profileImage}),(0,C.jsxs)(n.default,{style:Za.infoContainer,children:[(0,C.jsxs)(n.default,{style:Za.header,children:[(0,C.jsxs)(r.default,{style:Za.name,children:[e.id,". ",e.name]}),(0,C.jsx)(n.default,{style:Za.starProfessionalBadge,children:(0,C.jsxs)(r.default,{style:Za.price,children:["from $",e.price,"/night"]})})]}),(0,C.jsx)(r.default,{style:Za.location,children:e.location}),(0,C.jsx)(n.default,{style:Za.stats,children:(0,C.jsxs)(n.default,{style:Za.rating,children:[(0,C.jsx)(g.default,{name:"star",size:16,color:p.colors.primary}),(0,C.jsx)(r.default,{style:Za.ratingText,children:e.rating?e.rating:"4.5"}),(0,C.jsxs)(r.default,{style:Za.reviews,children:["- ",e.reviewCount?e.reviewCount:"52"," reviews"]})]})})]})]})},Za=s.default.create({container:{flex:1,overflow:"hidden",height:"100%",maxHeight:"100%"},list:{flex:1,height:"100%"},listContent:{flexGrow:1},listItem:{flexDirection:"row",padding:p.spacing.medium,borderBottomWidth:1,borderBottomColor:p.colors.border,backgroundColor:p.colors.background},profileImage:{width:80,height:80,borderRadius:40,marginRight:p.spacing.medium},infoContainer:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:p.spacing.small},name:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text,fontFamily:p.fonts.header.fontFamily},location:{fontSize:p.fontSizes.medium+2,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},starProfessionalBadge:{backgroundColor:p.colors.primary,padding:4,borderRadius:4,marginLeft:8},starProfessionalText:{fontSize:p.fontSizes.small+2,fontWeight:"bold",color:p.colors.surface,fontFamily:p.fonts.regular.fontFamily},stats:{flexDirection:"row",alignItems:"center",gap:8},rating:{flexDirection:"row",alignItems:"center",gap:4},ratingText:{fontSize:p.fontSizes.small+2,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily,lineHeight:1.5*(p.fontSizes.small+2)},reviews:{fontSize:p.fontSizes.small+2,color:p.colors.text,marginLeft:2,fontFamily:p.fonts.regular.fontFamily,lineHeight:1.5*(p.fontSizes.small+2)},repeats:{flexDirection:"row",alignItems:"center",gap:4},price:{fontSize:p.fontSizes.medium+2,fontWeight:"bold",color:p.colors.whiteText,fontFamily:p.fonts.regular.fontFamily}}),Qa=({professionals:e,onLoadMore:t,onProfessionalSelect:o})=>(0,C.jsx)(n.default,{style:Za.container,children:(0,C.jsx)(Ae.default,{data:e,renderItem:({item:e})=>(0,C.jsx)(Ka,{professional:e,onPress:o}),keyExtractor:e=>e.id,onEndReached:t,onEndReachedThreshold:.5,contentContainerStyle:Za.listContent,style:Za.list})});var Xa=o(12391),en=o(72321),tn=o(74400),on=o(12906),an=(o(1297),o(14918)),nn=o.n(an);delete nn().Icon.Default.prototype._getIconUrl,nn().Icon.Default.mergeOptions({iconRetinaUrl:o(18249),iconUrl:o(37024),shadowUrl:o(91071)});const rn=({professionals:e,onMarkerPress:t,region:o})=>(0,C.jsx)("div",{style:sn.mapContainer,children:(0,C.jsxs)(Xa.MapContainer,{center:[o.latitude,o.longitude],zoom:13,style:{height:"calc(100vh - 64px)",width:"100%"},children:[(0,C.jsx)(en.TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e.map(((e,o)=>{return(0,C.jsx)(tn.Marker,{position:[e.coordinates.latitude,e.coordinates.longitude],icon:(a=o+1,nn().divIcon({className:"custom-marker",html:'<div style="\n        background-color: '.concat(p.colors.primary,';\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: bold;\n      ">').concat(a,"</div>")})),eventHandlers:{click:()=>t(e)},children:(0,C.jsx)(on.Popup,{children:(0,C.jsxs)("div",{style:sn.popupContent,children:[(0,C.jsxs)("h3",{children:[o+1,". ",e.name]}),(0,C.jsx)("p",{children:e.location}),(0,C.jsxs)("p",{children:["Starting at $",e.startingRate,"/night"]})]})})},e.id);var a}))]})}),sn=s.default.create({mapContainer:{flex:1,backgroundColor:p.colors.background,borderLeftWidth:1,borderLeftColor:p.colors.border},map:{flex:1},markerContainer:{backgroundColor:p.colors.primary,borderRadius:20,padding:p.spacing.small,borderWidth:2,borderColor:"white"},markerText:{color:p.colors.whiteText,fontWeight:"bold"},calloutContainer:{backgroundColor:p.colors.surface,padding:p.spacing.small,borderRadius:8,borderWidth:1,borderColor:p.colors.border},calloutText:{color:p.colors.text,fontSize:p.fontSizes.small},popupContent:{padding:10}}),ln=({professionals:e,onMarkerPress:t,region:o})=>(0,C.jsx)(rn,{professionals:e,onMarkerPress:t,region:o});var dn=o(49377);const cn=s.default.create({container:{flex:1,flexDirection:"row",backgroundColor:p.colors.background,height:"calc(100vh - 64px)",maxHeight:"calc(100vh - 64px)",overflow:"hidden"},column:{flex:1},filterColumn:{flex:.25,borderRightWidth:1,borderRightColor:p.colors.border,backgroundColor:p.colors.background},listColumn:{flex:.4,backgroundColor:p.colors.background,overflow:"hidden",height:"100%",maxHeight:"100%"},mapColumn:{flex:.35,borderLeftWidth:1,borderLeftColor:p.colors.border,backgroundColor:p.colors.background},mobileNav:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",backgroundColor:p.colors.primary,padding:10},navButton:{flex:1,padding:10,alignItems:"center"},activeNavButton:{backgroundColor:p.colors.secondary,borderRadius:5},navButtonText:{color:p.colors.whiteText,fontSize:p.fontSizes.medium+2,fontFamily:p.fonts.regular.fontFamily},containerMobile:{flex:1,backgroundColor:p.colors.background},mobileHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:2,padding:10,marginHorizontal:10,backgroundColor:p.colors.background},mobileHeaderText:{fontSize:p.fontSizes.large,fontWeight:"500",fontFamily:p.fonts.header.fontFamily},mobileHeaderRight:{flexDirection:"row",alignItems:"center"},headerIcon:{padding:8,marginLeft:16},mapButton:{marginLeft:20},searchButton:{backgroundColor:p.colors.primary,padding:10,alignItems:"center",borderRadius:5},searchButtonText:{color:p.colors.whiteText,fontSize:p.fontSizes.medium+2,fontFamily:p.fonts.regular.fontFamily}}),un=({navigation:e,route:t})=>{const{width:o}=(0,we.default)(),s=o<1e3,[l,d]=(0,a.useState)(s?"filters":"all"),[c,u]=(0,a.useState)(oe),[f,m]=(0,a.useState)({}),[g,h]=(0,a.useState)({latitude:38.8339,longitude:-104.8214,latitudeDelta:.0922,longitudeDelta:.0421});(0,a.useEffect)((()=>{d(o<1e3?"filters":"all")}),[o]),(0,a.useEffect)((()=>e.addListener("focus",(()=>{s&&d("filters")}))),[e,s]);const y=e=>{m(e)},x=()=>{},b=t=>{e.navigate("ProfessionalProfile",{professional:t})};return s?(0,C.jsxs)(n.default,{style:cn.containerMobile,children:["filters"===l&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)($a,{onFiltersChange:y}),(0,C.jsx)(i.default,{style:cn.searchButton,onPress:()=>d("list"),children:(0,C.jsx)(r.default,{style:cn.searchButtonText,children:"Search"})})]}),"list"===l&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(n.default,{style:cn.mobileHeader,children:[(0,C.jsx)(r.default,{style:cn.mobileHeaderText,children:"Professionals"}),(0,C.jsxs)(n.default,{style:cn.mobileHeaderRight,children:[(0,C.jsx)(i.default,{onPress:()=>d("filters"),style:cn.headerIcon,children:(0,C.jsx)(dn.default,{name:"filter",size:24,color:p.colors.primary})}),(0,C.jsx)(i.default,{onPress:()=>d("map"),style:cn.headerIcon,children:(0,C.jsx)(dn.default,{name:"map",size:24,color:p.colors.primary})})]})]}),(0,C.jsx)(Qa,{professionals:c,onLoadMore:x,onProfessionalSelect:b})]}),"map"===l&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.default,{style:cn.mobileHeader,children:(0,C.jsx)(i.default,{onPress:()=>d("list"),children:(0,C.jsx)(dn.default,{name:"arrow-left",size:24,color:p.colors.primary})})}),(0,C.jsx)(ln,{professionals:c,onMarkerPress:b,region:g})]})]}):(0,C.jsxs)(n.default,{style:cn.container,children:[(0,C.jsx)(n.default,{style:cn.filterColumn,children:(0,C.jsx)($a,{onFiltersChange:y})}),(0,C.jsx)(n.default,{style:cn.listColumn,children:(0,C.jsx)(Qa,{professionals:c,onLoadMore:x,onProfessionalSelect:b})}),(0,C.jsx)(n.default,{style:cn.mapColumn,children:(0,C.jsx)(ln,{professionals:c,onMarkerPress:b,region:g})})]})},fn=s.default.create({card:{backgroundColor:p.colors.surface,borderRadius:8,padding:16,marginBottom:16,borderWidth:1,borderColor:p.colors.border},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},bookingId:{fontSize:p.fontSizes.medium,fontWeight:"bold",color:p.colors.primary,fontFamily:p.fonts.header.fontFamily},status:{fontSize:p.fontSizes.smallMedium,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},name:{fontSize:p.fontSizes.medium,marginBottom:4,fontFamily:p.fonts.regular.fontFamily},datetime:{fontSize:p.fontSizes.smallMedium,color:p.colors.placeholder,marginBottom:16,fontFamily:p.fonts.regular.fontFamily},buttonContainer:{flexDirection:"row",justifyContent:"space-between",gap:8},button:{flex:1,padding:8,borderRadius:4,alignItems:"center"},viewButton:{backgroundColor:p.colors.primary},cancelButton:{backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.error},buttonText:{color:p.colors.surface,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},cancelButtonText:{color:p.colors.error,fontFamily:p.fonts.regular.fontFamily}}),mn=({booking:e,type:t,onViewDetails:o,onCancel:a})=>{const{id:s,status:l,date:d,time:c}=e,u="professional"===t?e.clientName:e.professionalName;return(0,C.jsx)(i.default,{style:fn.card,onPress:()=>o(),activeOpacity:.7,children:(0,C.jsxs)(n.default,{children:[(0,C.jsxs)(n.default,{style:fn.header,children:[(0,C.jsxs)(r.default,{style:fn.bookingId,children:["Booking #",s]}),(0,C.jsx)(r.default,{style:[fn.status,{color:"Confirmed"===l?p.colors.success:p.colors.warning}],children:l})]}),(0,C.jsxs)(r.default,{style:fn.name,children:["professional"===t?"Client: ":"Professional: ",u]}),(0,C.jsxs)(r.default,{style:fn.datetime,children:[d," at ",c]}),(0,C.jsxs)(n.default,{style:fn.buttonContainer,children:[(0,C.jsx)(i.default,{style:[fn.button,fn.viewButton],onPress:e=>{e.stopPropagation(),o()},children:(0,C.jsx)(r.default,{style:fn.buttonText,children:"View Details"})}),(0,C.jsx)(i.default,{style:[fn.button,fn.cancelButton],onPress:e=>{e.stopPropagation(),a()},children:(0,C.jsx)(r.default,{style:[fn.buttonText,fn.cancelButtonText],children:"Cancel Booking"})})]})]})})},gn=s.default.create({container:{flex:1,width:"100%",maxWidth:632,alignSelf:"center",padding:16,height:"calc(100vh - 124px)",maxHeight:"calc(100vh - 124px)",overflow:"auto",backgroundColor:p.colors.background},tabContainer:{flexDirection:"row",marginBottom:16,borderRadius:8,overflow:"hidden",borderWidth:1,borderColor:p.colors.primary},tab:{flex:1,padding:12,alignItems:"center",backgroundColor:p.colors.surface},activeTab:{backgroundColor:p.colors.primary},tabText:{color:p.colors.primary,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},activeTabText:{color:p.colors.surface},searchContainer:{flexDirection:"row",alignItems:"center",backgroundColor:p.colors.surface,borderRadius:8,padding:8,marginBottom:16,borderWidth:1,borderColor:p.colors.border},searchInput:{flex:1,marginLeft:8,fontSize:16,fontFamily:p.fonts.regular.fontFamily},listContainer:{paddingBottom:16,paddingHorizontal:16},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},emptyStateContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:24},emptyStateTitle:{fontSize:p.fontSizes.large,fontWeight:"600",color:p.colors.text,marginTop:16,textAlign:"center",fontFamily:p.fonts.header.fontFamily},emptyStateSubtitle:{fontSize:16,color:p.colors.placeholder,textAlign:"center",marginTop:8,marginBottom:24,fontFamily:p.fonts.regular.fontFamily},createServiceButton:{backgroundColor:p.colors.primary,paddingHorizontal:24,paddingVertical:12,borderRadius:8,marginTop:8},createServiceButtonText:{color:p.colors.surface,fontSize:16,fontWeight:"600",fontFamily:p.fonts.regular.fontFamily},retryButton:{backgroundColor:p.colors.error,paddingHorizontal:24,paddingVertical:12,borderRadius:8,marginTop:8},retryButtonText:{color:p.colors.surface,fontSize:16,fontWeight:"600",fontFamily:p.fonts.regular.fontFamily}}),hn=()=>{const e=(0,A.useNavigation)(),{is_prototype:t,isApprovedProfessional:o,userRole:s,is_DEBUG:l}=(0,a.useContext)(v),[d,c]=(0,a.useState)("professional"===s?"professional":"client"),[u,f]=(0,a.useState)(""),[m,h]=(0,a.useState)([]),[y,j]=(0,a.useState)(!0),[w,S]=(0,a.useState)(null);(0,a.useEffect)((()=>{"professional"===s&&o&&c("professional")}),[s,o]);const T=async()=>{j(!0),S(null);try{if(t)l&&console.log("Fetching mock bookings:",{isApprovedProfessional:o,userRole:s,activeTab:d}),h("professional"===d&&o?ie:le);else{let e=sessionStorage.getItem("userToken");if(!e)throw new Error("No authentication token found");l&&console.log("Fetching real bookings:",{isApprovedProfessional:o,userRole:s,activeTab:d});const t=await x.default.get("".concat(b,"/api/bookings/v1/"),{headers:{Authorization:"Bearer ".concat(e)}});h("professional"===d?t.data.bookings.professional_bookings||[]:t.data.bookings.client_bookings||[])}}catch(w){console.error("Error fetching bookings:",w),S("Failed to fetch bookings")}finally{j(!1)}};(0,a.useEffect)((()=>{l&&console.log("Fetching bookings due to dependency change:",{activeTab:d,userRole:s,isApprovedProfessional:o,is_prototype:t}),T()}),[d,s,o,t]);return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"My Bookings",onBackPress:()=>z(e)}),(0,C.jsxs)(n.default,{style:gn.container,children:[o&&(0,C.jsxs)(n.default,{style:gn.tabContainer,children:[(0,C.jsx)(i.default,{style:[gn.tab,"professional"===d&&gn.activeTab],onPress:()=>c("professional"),children:(0,C.jsx)(r.default,{style:[gn.tabText,"professional"===d&&gn.activeTabText],children:"Professional Bookings"})}),(0,C.jsx)(i.default,{style:[gn.tab,"client"===d&&gn.activeTab],onPress:()=>c("client"),children:(0,C.jsx)(r.default,{style:[gn.tabText,"client"===d&&gn.activeTabText],children:"Client Bookings"})})]}),(0,C.jsxs)(n.default,{style:gn.searchContainer,children:[(0,C.jsx)(g.default,{name:"magnify",size:24,color:p.colors.placeholder}),(0,C.jsx)(N.default,{style:gn.searchInput,placeholder:"Search by Booking ID or Name",value:u,onChangeText:e=>{if(f(e),!e.trim())return void T();const t=e.toLowerCase(),o=m.filter((e=>"professional"===d?e.id.toLowerCase().includes(t)||e.clientName.toLowerCase().includes(t):e.id.toLowerCase().includes(t)||e.professionalName.toLowerCase().includes(t)));h(o)}})]}),y?(0,C.jsx)(n.default,{style:gn.loadingContainer,children:(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary})}):m.length>0?(0,C.jsx)(Ae.default,{data:m,renderItem:({item:t})=>(0,C.jsx)(mn,{booking:{id:t.booking_id||t.id,clientName:t.client_name||t.clientName,professionalName:t.professional_name||t.professionalName,serviceName:t.service_type||t.serviceName,date:t.start_date||t.date,time:t.start_time||t.time,status:t.status},type:d,onViewDetails:()=>(async t=>{l&&console.log("Navigating to booking details:",{bookingId:t.booking_id||t.id,isProfessional:"professional"===d}),await D(e,"BookingDetails","MyBookings",{bookingId:t.booking_id||t.id,isProfessional:"professional"===d})})(t),onCancel:()=>(async e=>{l&&console.log("Cancel booking:",e)})(t.booking_id||t.id)}),keyExtractor:e=>(e.booking_id||e.id||Math.random().toString()).toString(),contentContainerStyle:gn.listContainer}):(0,C.jsx)((()=>(0,C.jsxs)(n.default,{style:gn.emptyStateContainer,children:[(0,C.jsx)(g.default,{name:w?"alert-circle-outline":"calendar-blank-outline",size:64,color:w?p.colors.error:p.colors.primary}),(0,C.jsx)(r.default,{style:gn.emptyStateTitle,children:w?"Error Getting Bookings":"No Bookings Found"}),(0,C.jsx)(r.default,{style:gn.emptyStateSubtitle,children:w?"There was an error fetching your bookings. Please try again later.":"professional"===d?o?"Create a service to start receiving bookings":"Apply to become a professional to start receiving bookings":"Browse available services to make your first booking"}),!w&&(0,C.jsx)(i.default,{style:gn.createServiceButton,onPress:()=>e.navigate("professional"===d?o?"ServiceManager":"BecomeProfessional":"SearchProfessionalsListing"),children:(0,C.jsx)(r.default,{style:gn.createServiceButtonText,children:"professional"===d?o?"Create Service":"Become Professional":"Browse Services"})}),w&&(0,C.jsx)(i.default,{style:gn.retryButton,onPress:T,children:(0,C.jsx)(r.default,{style:gn.retryButtonText,children:"Retry"})})]})),{})]})]})},pn=s.default.create({modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:p.colors.surface,borderRadius:8,padding:20,width:"90%",maxWidth:500},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},modalTitle:{fontSize:p.fontSizes.large,fontWeight:"bold",color:p.colors.text},closeButton:{padding:5},inputContainer:{marginBottom:15},label:{marginBottom:5,color:p.colors.text},input:{borderWidth:1,borderColor:p.colors.border,borderRadius:4,padding:10,backgroundColor:p.colors.surface},descriptionInput:{height:100,textAlignVertical:"top"},addButton:{backgroundColor:p.colors.primary,padding:12,borderRadius:4,alignItems:"center",marginTop:10},addButtonText:{color:p.colors.surface,fontWeight:"bold"},disabledButton:{opacity:.5}}),yn=({visible:e,onClose:t,onAdd:o})=>{const[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,f]=(0,a.useState)("");return(0,C.jsx)(H.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:t,children:(0,C.jsx)(n.default,{style:pn.modalOverlay,children:(0,C.jsxs)(n.default,{style:pn.modalContent,children:[(0,C.jsxs)(n.default,{style:pn.modalHeader,children:[(0,C.jsx)(r.default,{style:pn.modalTitle,children:"Add New Rate"}),(0,C.jsx)(i.default,{onPress:t,style:pn.closeButton,children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.text})})]}),(0,C.jsxs)(n.default,{style:pn.inputContainer,children:[(0,C.jsx)(r.default,{style:pn.label,children:"Rate Name *"}),(0,C.jsx)(N.default,{style:pn.input,value:s,onChangeText:l,placeholder:"Enter rate name"})]}),(0,C.jsxs)(n.default,{style:pn.inputContainer,children:[(0,C.jsx)(r.default,{style:pn.label,children:"Amount *"}),(0,C.jsx)(N.default,{style:pn.input,value:d,onChangeText:c,keyboardType:"numeric",placeholder:"Enter amount"})]}),(0,C.jsxs)(n.default,{style:pn.inputContainer,children:[(0,C.jsx)(r.default,{style:pn.label,children:"Description (optional)"}),(0,C.jsx)(N.default,{style:[pn.input,pn.descriptionInput],value:u,onChangeText:f,placeholder:"Enter description",multiline:!0})]}),(0,C.jsx)(i.default,{style:[pn.addButton,(!s||!d)&&pn.disabledButton],onPress:()=>{s&&d&&(o({name:s,amount:parseFloat(d),description:u}),l(""),c(""),f(""),t())},disabled:!s||!d,children:(0,C.jsx)(r.default,{style:pn.addButtonText,children:"Add Rate"})})]})})})},xn="last_viewed_booking_id",bn=["Dog Walking","Pet Sitting","House Sitting","Drop-In Visits"],jn=[{id:"dog1",name:"Max",type:"Dog",breed:"Golden Retriever"},{id:"cat1",name:"Luna",type:"Cat",breed:"Siamese"}],wn=e=>{if(!e)return new Date;const[t,o,a]=e.split("-").map((e=>parseInt(e,10)));return new Date(t,o-1,a)},Cn=({visible:e,onClose:t,onSubmit:o,loading:s})=>{const[l,d]=(0,a.useState)("");return(0,C.jsx)(H.default,{visible:e,transparent:!0,animationType:"fade",children:(0,C.jsx)(n.default,{style:Sn.modalContainer,children:(0,C.jsxs)(n.default,{style:Sn.modalContent,children:[(0,C.jsx)(r.default,{style:Sn.modalTitle,children:"Request Changes"}),(0,C.jsx)(N.default,{style:Sn.reasonInput,placeholder:"Enter reason for changes...",value:l,onChangeText:d,multiline:!0,numberOfLines:4}),(0,C.jsxs)(n.default,{style:Sn.modalButtons,children:[(0,C.jsx)(i.default,{style:[Sn.modalButton,Sn.cancelButton],onPress:t,children:(0,C.jsx)(r.default,{style:Sn.cancelButtonText,children:"Cancel"})}),(0,C.jsx)(i.default,{style:[Sn.modalButton,Sn.submitButton],onPress:()=>o(l),disabled:s,children:s?(0,C.jsx)(Oe.default,{size:"small",color:"#fff"}):(0,C.jsx)(r.default,{style:Sn.submitButtonText,children:"Submit"})})]})]})})})},Sn=s.default.create({container:{flex:1,padding:16},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},statusBadge:{alignSelf:"flex-start",paddingHorizontal:12,paddingVertical:6,borderRadius:16},statusText:{fontSize:14,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},section:{marginBottom:24,backgroundColor:p.colors.surface,padding:16,borderRadius:8,borderWidth:1,borderColor:p.colors.border,position:"relative"},sectionTitle:{fontSize:18,fontWeight:"bold",color:p.colors.primary,marginBottom:12,fontFamily:p.fonts.header.fontFamily},label:{fontSize:p.fontSizes.mediumLarge,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily,alignSelf:"center",fontWeight:"500"},value:{fontSize:p.fontSizes.mediumLarge,color:p.colors.text,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily,alignSelf:"center"},text:{fontSize:16,marginBottom:8,fontFamily:p.fonts.regular.fontFamily},costRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},totalRow:{borderTopWidth:1,borderTopColor:p.colors.border,paddingTop:8,marginTop:8},totalLabel:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},totalAmount:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},payoutRow:{marginTop:12,paddingTop:12,borderTopWidth:1,borderTopColor:p.colors.border},payoutLabel:{fontSize:16,fontWeight:"500",color:p.colors.success,fontFamily:p.fonts.regular.fontFamily},payoutAmount:{fontSize:16,fontWeight:"600",color:p.colors.success,fontFamily:p.fonts.regular.fontFamily},policyText:{fontSize:14,lineHeight:20,fontFamily:p.fonts.regular.fontFamily},button:{padding:16,borderRadius:8,alignItems:"center"},buttonText:{color:p.colors.surface,fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},cancelButtonText:{color:p.colors.error,borderWidth:1,borderColor:p.colors.error,padding:8,borderRadius:8,fontFamily:p.fonts.regular.fontFamily},errorContainer:{flex:1,justifyContent:"center",alignItems:"center"},errorText:{fontSize:p.fontSizes.largeLarge,color:p.colors.error,fontFamily:p.fonts.regular.fontFamily},statusContainer:{flexDirection:"row",alignItems:"center",marginBottom:16},statusLabel:{fontSize:16,marginRight:8,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:16,fontFamily:p.fonts.header.fontFamily},dateText:{fontSize:16,fontWeight:"500",marginBottom:4,fontFamily:p.fonts.regular.fontFamily},timeText:{fontSize:14,color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},addOccurrenceText:{marginLeft:8,color:p.colors.primary,fontSize:16,fontFamily:p.fonts.regular.fontFamily},occurrenceCost:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},petName:{fontSize:16,fontWeight:"500",marginBottom:4,fontFamily:p.fonts.regular.fontFamily},noContentText:{fontSize:14,color:p.colors.placeholder,fontStyle:"italic",fontFamily:p.fonts.regular.fontFamily},saveButtonText:{color:"white",fontWeight:"600",fontFamily:p.fonts.regular.fontFamily},editButton:{},editField:{padding:16,borderWidth:1,borderColor:p.colors.border,borderRadius:8,alignItems:"center"},editableServiceRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},removeServiceButton:{marginLeft:8},editRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12,position:"relative"},editInput:{borderWidth:1,borderColor:p.colors.border,borderRadius:4,padding:8,width:80,textAlign:"right"},addRateButton:{flexDirection:"row",alignItems:"center",padding:12,marginTop:8},addRateText:{marginLeft:8,color:p.colors.primary,fontSize:16},dropdownContainer:{position:"relative",width:150},dropdownInput:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:p.colors.border,borderRadius:4,padding:4,backgroundColor:p.colors.surface},timeDropdownList:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#FFFFFF",borderWidth:1,borderColor:p.colors.border,borderRadius:4,maxHeight:200,zIndex:1001,elevation:5,marginTop:4},dropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border,backgroundColor:"#FFFFFF"},dropdownText:{color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},selectedOption:{color:p.colors.primary,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},bookingDatesSection:{marginTop:20,marginBottom:20},sectionSubtitle:{fontSize:16,fontWeight:"500",marginBottom:10,fontFamily:p.fonts.regular.fontFamily},dateTimeRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:15},datePickerContainer:{flex:1,marginRight:10},timePickerContainer:{width:120},timePickerButton:{borderWidth:1,borderColor:p.colors.border,borderRadius:4,padding:8,backgroundColor:p.colors.surface},dropdownList:{position:"absolute",left:0,right:0,top:"100%",backgroundColor:p.colors.surface,borderWidth:1,borderColor:p.colors.border,borderRadius:4,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},rateSection:{marginBottom:20,padding:12,borderWidth:1,borderColor:p.colors.border,borderRadius:8,backgroundColor:p.colors.surface},rateSectionTitle:{fontSize:16,fontWeight:"600",marginBottom:12,color:p.colors.primary,fontFamily:p.fonts.header.fontFamily},rateInputRow:{flexDirection:"row",justifyContent:"space-between",gap:8},rateInputGroup:{flex:1},inputLabel:{fontSize:p.fontSizes.largeLarge,color:p.colors.text,flex:1,fontFamily:p.fonts.regular.fontFamily},rateInput:{borderWidth:1,borderColor:p.colors.border,borderRadius:4,padding:8,fontSize:14},additionalRateRow:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:8,borderBottomWidth:1,borderBottomColor:p.colors.border,paddingBottom:8},removeButton:{padding:4},summarySection:{marginTop:20,paddingTop:20,borderTopWidth:1,borderTopColor:p.colors.border},summaryRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},rateHeaderRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:8,paddingHorizontal:4},columnHeader:{fontSize:12,color:p.colors.placeholder,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},rateAmountColumn:{alignItems:"flex-start"},rateActionButtons:{flexDirection:"row",alignItems:"center",width:72,gap:8},infoButton:{padding:4},actionButtonsContainer:{padding:16,backgroundColor:p.colors.surface,borderTopWidth:1,borderTopColor:p.colors.border,gap:12},modalContainer:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",padding:16},modalContent:{backgroundColor:p.colors.surface,borderRadius:8,padding:16},reasonInput:{borderWidth:1,borderColor:p.colors.border,borderRadius:8,padding:12,marginBottom:16,minHeight:100,textAlignVertical:"top"},modalButtons:{flexDirection:"row",justifyContent:"flex-end",gap:12},modalButton:{paddingVertical:8,paddingHorizontal:16,borderRadius:8},submitButton:{backgroundColor:p.colors.primary},submitButtonText:{color:p.colors.surface,fontWeight:"500"},primaryButton:{backgroundColor:p.colors.primary},denyButton:{backgroundColor:p.colors.error},serviceEditContainer:{gap:16},serviceInputRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},inputLabel:{fontSize:p.fontSizes.largeLarge,color:p.colors.text,flex:1},inputContainer:{width:150},numberInput:{height:40,width:150,borderWidth:1,borderColor:p.colors.border,borderRadius:8,paddingHorizontal:12,fontSize:16},serviceDetailsContainer:{gap:12},serviceDetailRow:{flexDirection:"row",alignItems:"center",marginBottom:8},value:{fontSize:p.fontSizes.mediumLarge,color:p.colors.text,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily,alignSelf:"center"},occurrenceActions:{flexDirection:"row",alignItems:"center",gap:12},actionButton:{padding:8},saveButton:{backgroundColor:p.colors.primary,paddingHorizontal:16,paddingVertical:8,borderRadius:8,minWidth:140,justifyContent:"center",alignItems:"center"},saveButtonText:{color:p.colors.surface,fontWeight:"600",fontSize:14,fontFamily:p.fonts.regular.fontFamily},actionButtons:{width:72},additionalRateRow:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:8,borderBottomWidth:1,borderBottomColor:p.colors.border,paddingBottom:8},occurrenceCard:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:p.colors.surface,borderRadius:8,marginBottom:10,borderWidth:1,borderColor:p.colors.border},occurrenceDetails:{flex:1},dateText:{fontSize:16,fontWeight:"500",marginBottom:4,fontFamily:p.fonts.regular.fontFamily},timeText:{fontSize:14,color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},editOccurrenceButton:{flexDirection:"row",alignItems:"center",marginLeft:20},editOccurrenceText:{color:p.colors.primary,marginLeft:5},addOccurrenceButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:16,borderWidth:1,borderColor:p.colors.primary,borderRadius:8,marginTop:12},addOccurrenceText:{marginLeft:8,color:p.colors.primary,fontSize:16},occurrenceCostRow:{borderBottomWidth:1,borderBottomColor:p.colors.border,paddingVertical:12},occurrenceCostHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},occurrenceCostHeaderText:{fontSize:16,fontFamily:p.fonts.regular.fontFamily},costAndIcon:{flexDirection:"row",alignItems:"center",gap:8},occurrenceCost:{fontSize:16,fontWeight:"500"},costSummary:{marginTop:20,paddingTop:20,borderTopWidth:1,borderTopColor:p.colors.border},expandedCostDetails:{marginTop:10,paddingTop:10,borderTopWidth:1,borderTopColor:p.colors.border},costDetailRow:{flexDirection:"row",justifyContent:"space-between",paddingVertical:4},costDetailText:{fontFamily:p.fonts.regular.fontFamily},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},sectionEditButton:{padding:8},petItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:p.colors.border},petInfo:{flex:1},petDetails:{fontSize:14,color:p.colors.placeholder},addPetButton:{flexDirection:"row",alignItems:"center",padding:12,marginTop:8,borderWidth:1,borderColor:p.colors.border,borderRadius:8,justifyContent:"center"},addPetText:{marginLeft:8,color:p.colors.primary,fontSize:16},petDropdown:{maxHeight:200,borderWidth:1,borderColor:p.colors.border,borderRadius:8,marginTop:8,backgroundColor:p.colors.surface,position:"absolute",top:"100%",left:0,right:0,zIndex:1e3},dropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},dropdownPetName:{fontSize:16,fontWeight:"500"},dropdownPetDetails:{fontSize:14,color:p.colors.placeholder,marginTop:2},noPetsText:{fontSize:14,color:p.colors.placeholder,fontStyle:"italic"},petsSection:{zIndex:3,elevation:3},dateTimeSection:{zIndex:1,elevation:1},payoutRow:{marginTop:12,paddingTop:12,borderTopWidth:1,borderTopColor:p.colors.border},payoutLabel:{fontSize:16,fontWeight:"500",color:p.colors.success},payoutAmount:{fontSize:16,fontWeight:"600",color:p.colors.success},clientName:{fontSize:18,fontWeight:"normal",marginBottom:4,fontFamily:p.fonts.header.fontFamily},proName:{fontSize:18,fontWeight:"normal",marginBottom:4,fontFamily:p.fonts.header.fontFamily},serviceTypeLabel:{fontSize:p.fontSizes.mediumLarge,color:p.colors.text,fontFamily:p.fonts.header.fontFamily,fontWeight:"normal"},petListTitle:{fontSize:16,fontWeight:"900",marginBottom:8,fontFamily:p.fonts.header.fontFamily},petInfo:{fontSize:14,color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},occurrenceTitle:{fontSize:18,fontWeight:"bold",marginBottom:12,fontFamily:p.fonts.header.fontFamily},occurrenceDate:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},occurrenceTime:{fontSize:14,color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},costBreakdownTitle:{fontSize:18,fontWeight:"bold",marginBottom:12,fontFamily:p.fonts.header.fontFamily},costLabel:{fontSize:16,fontFamily:p.fonts.regular.fontFamily},costAmount:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},additionalRateLabel:{fontSize:14,color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},additionalRateAmount:{fontSize:14,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},serviceDetailLabel:{fontSize:16,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},serviceDetailValue:{fontSize:16,fontWeight:"500",color:p.colors.text,fontFamily:p.fonts.regular.fontFamily},occurrenceCardTitle:{fontSize:16,fontWeight:"500",marginBottom:4,fontFamily:p.fonts.header.fontFamily},occurrenceCardDate:{fontSize:16,fontWeight:"500",marginBottom:4,fontFamily:p.fonts.regular.fontFamily},occurrenceCardTime:{fontSize:14,color:p.colors.placeholder,fontFamily:p.fonts.regular.fontFamily},editOccurrenceText:{color:p.colors.primary,marginLeft:5,fontFamily:p.fonts.regular.fontFamily},summaryRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},summaryText:{fontSize:16,fontFamily:p.fonts.regular.fontFamily},dropdownText:{color:p.colors.text,fontSize:16,fontFamily:p.fonts.regular.fontFamily},dropdownItem:{padding:12,borderBottomWidth:1,borderBottomColor:p.colors.border},dropdownItemText:{fontSize:16,fontFamily:p.fonts.regular.fontFamily},occurrenceCardText:{fontSize:16,fontFamily:p.fonts.regular.fontFamily}}),vn=()=>{const e=(0,A.useNavigation)(),t=(0,A.useRoute)(),{is_prototype:o,currentUser:s,is_DEBUG:l}=(0,a.useContext)(v),[d,c]=(0,a.useState)(null),[u,f]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[S,T]=(0,a.useState)(!1),[k,B]=(0,a.useState)(!1),[I,P]=(0,a.useState)({serviceDetails:{type:"",animalType:"",numberOfPets:0},rates:{additionalPetRate:0,holidayFee:0,weekendFee:0,extraServices:[]}}),[D,R]=(0,a.useState)(!1),[F,_]=(0,a.useState)({top:0,left:0,width:0}),[E,N]=((0,a.useRef)(null),(0,a.useState)(!1)),[O,M]=(0,a.useState)(!1),[L,H]=(0,a.useState)(!1),[V,U]=(0,a.useState)(!1),[G,q]=(0,a.useState)(!1),[Y,$]=(0,a.useState)(!1),[K,Z]=(0,a.useState)(!0),[Q,X]=(0,a.useState)(!0),[ee,te]=(0,a.useState)(!0),[oe,ae]=(0,a.useState)(null),[ne,ie]=(0,a.useState)(!1),[le,fe]=(0,a.useState)(null),[me,ge]=(0,a.useState)([]),[he,pe]=(0,a.useState)(!1),[ye,xe]=(0,a.useState)(!1),[be,je]=(0,a.useState)(!1),[we,Ce]=(0,a.useState)(!1),[ve,Te]=(0,a.useState)(!1),[ke,Be]=(0,a.useState)(!1),[Ie,Pe]=(0,a.useState)({visible:!1,actionText:"",onConfirm:null,isLoading:!1}),[ze,De]=(0,a.useState)([]),[Re,Fe]=(0,a.useState)(!1),[Ae,We]=(0,a.useState)([]),[_e,Ee]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{f(!0);try{let a=t.params?.bookingId,n=t.params?.initialData,r=t.params?.isProfessional;if(w(r),l&&console.log("BookingDetails: Fetching booking with params:",{bookingId:a,initialData:n,isProfessional:r}),o){if(!a&&n&&(a=await se(n.clientId||"client123",n.professionalId||"professional123",n)),a||(a=await y.default.getItem(xn)),!a)return void e.replace("MyBookings");l&&console.log("BookingDetails: Fetching booking with ID:",a),await y.default.setItem(xn,a);const t=await(async e=>{await new Promise((e=>setTimeout(e,1e3)));const t=re[e];if(!t)throw console.error("Booking not found:",{requestedId:e,availableBookings:Object.keys(re)}),new Error("Booking not found");return t})(a);l&&console.log("BookingDetails: Fetched booking data:",t),c(t)}else{if(!a)return void e.replace("MyBookings");let t=sessionStorage.getItem("userToken");if(!t)throw new Error("No authentication token found");const o=await x.default.get("".concat(b,"/api/bookings/v1/").concat(a,"/?is_prorated=true"),{headers:{Authorization:"Bearer ".concat(t)}}),n=Object.assign({},o.data,{id:o.data.booking_id,clientName:o.data.client_name,professionalName:o.data.professional_name,serviceType:o.data.service_details.service_type,animalType:o.data.service_details.animal_type,numberOfPets:o.data.service_details.num_pets,costs:o.data.cost_summary,status:o.data.status});l&&console.log("BookingDetails: Fetched and transformed booking data:",n),c(n)}}catch(m){console.error("Error fetching booking details:",m),Se.default.alert("Error","Unable to load booking details. Please try again.",[{text:"OK",onPress:()=>e.replace("MyBookings")}])}finally{f(!1)}})()}),[t.params?.bookingId,e,o]);const Ne=(e,t="TBD")=>null===e||void 0===e||""===e?t:e;(0,a.useEffect)((()=>{T(!1),B(!1)}),[]),(0,a.useEffect)((()=>{d&&(l&&console.log("BookingDetails: Booking updated, current value:",d),P(Object.assign({},d,{serviceDetails:{type:d.serviceType||"",animalType:d.animalType||"",numberOfPets:(d.pets||[]).length},rates:{additionalPetRate:d.rates?.additionalPetRate??0,holidayFee:d.rates?.holidayFee??0,weekendFee:d.rates?.weekendFee??0,extraServices:d.rates?.extraServices||[]}})))}),[d]);const Me=()=>d?!!o||(l&&console.log("Booking edit ability:",d.can_edit),d.can_edit):(console.log("BookingDetails: Booking is undefined"),!1),He=async()=>{if(S)try{if(xe(!0),o)c((e=>Object.assign({},e,{pets:me})));else{const e=sessionStorage.getItem("userToken");if(!e)throw new Error("No authentication token found");const t=await x.default.patch("".concat(b,"/api/booking-drafts/v1/").concat(d.booking_id,"/update/"),{pets:me.map((e=>({pet_id:e.pet_id,name:e.name,species:e.species,breed:e.breed})))},{headers:{Authorization:"Bearer ".concat(e)}});t.data.booking_status&&c((e=>Object.assign({},e,{status:t.data.booking_status,pets:me})))}T(!1)}catch(m){console.error("Error updating pets:",m),Se.default.alert("Error","Failed to update pets")}finally{xe(!1)}else ge(d.pets||[]),T(!0)},Ve=e=>{const t={Pending:{backgroundColor:p.colors.warning+"20",textColor:p.colors.warning},Confirmed:{backgroundColor:p.colors.success+"20",textColor:p.colors.success},Canceled:{backgroundColor:p.colors.error+"20",textColor:p.colors.error},Completed:{backgroundColor:p.colors.primary+"20",textColor:p.colors.primary}};return t[e]||t.Pending},Ue=async()=>{try{const e=I.rates.baseRate*I.quantity,t=I.rates.extraServices.reduce(((e,t)=>e+t.amount),0),o=I.rates.holidayFee||0,a=I.rates.weekendFee||0,n=Math.max(0,I.numberOfPets-1)*(I.rates.additionalPetRate||0),r=e+t+o+a+n,i=.1*r,s=.09*r,l=r+i+s,d=.9*r;P((o=>Object.assign({},o,{costs:{baseTotal:e,extraServicesTotal:t,additionalPetTotal:n,subtotal:r,clientFee:i,taxes:s,totalClientCost:l,professionalPayout:d}})))}catch(m){console.error("Error recalculating totals:",m)}},Ge=e=>{const t=e.reduce(((e,t)=>e+parseFloat(t.calculated_cost||0)),0),o=.1*t,a=.09*(t+o);return{subtotal:t,platform_fee:o,taxes:a,total_client_cost:t+o+a,total_sitter_payout:.9*t}},qe=async()=>{if(!d)return;if([J.PENDING_PROFESSIONAL_CHANGES,J.PENDING_INITIAL_PROFESSIONAL_CHANGES,J.CONFIRMED_PENDING_PROFESSIONAL_CHANGES].includes(d.status))return;let e;e=d.status===J.CONFIRMED?J.CONFIRMED_PENDING_PROFESSIONAL_CHANGES:J.PENDING_PROFESSIONAL_CHANGES,await Ke(e)},Ye=e=>{if(l&&console.log("Original occurrence:",e),o){const t={id:e.occurrence_id,occurrence_id:e.occurrence_id,startDate:e.start_date,endDate:e.end_date,startTime:e.start_time,endTime:e.end_time,rates:{baseRate:e.rates.base_rate,additionalAnimalRate:e.rates.additional_animal_rate,appliesAfterAnimals:e.rates.applies_after.toString(),holidayRate:e.rates.holiday_rate,timeUnit:e.rates.unit_of_time.toLowerCase().replace(/_/g," "),additionalRates:e.rates.additional_rates.filter((e=>"Booking Details Cost"!==e.title)).map((e=>({name:e.title,description:e.description,amount:e.amount.replace(/[^0-9.]/g,"")})))},totalCost:e.calculated_cost,baseTotal:e.base_total.replace(/[^0-9.]/g,""),multiple:$e(e.base_total,e.rates.base_rate)};return l&&console.log("Transformed occurrence for modal (prototype):",t),ae(t),void ie(!0)}const t={id:e.occurrence_id,occurrence_id:e.occurrence_id,startDate:e.start_date,endDate:e.end_date,startTime:e.start_time,endTime:e.end_time,rates:{baseRate:e.rates?.base_rate?.toString()||"0",additionalAnimalRate:e.rates?.additional_animal_rate?.toString()||"0",appliesAfterAnimals:e.rates?.applies_after?.toString()||"1",holidayRate:e.rates?.holiday_rate?.toString()||"0",timeUnit:e.rates?.unit_of_time?.toLowerCase().replace(/_/g," ")||"per visit",additionalRates:(e.rates?.additional_rates||[]).filter((e=>"Booking Details Cost"!==e.title)).map((e=>({name:e.title,description:e.description||"",amount:(e.amount?.replace(/[^0-9.]/g,"")||"0").toString()})))},totalCost:e.calculated_cost?.toString()||"0",baseTotal:(e.base_total?.replace(/[^0-9.]/g,"")||"0").toString(),multiple:$e(e.base_total,e.rates?.base_rate)};l&&console.log("Transformed occurrence for modal:",t),ae(t),ie(!0)},Je=e=>{if(!e)return"per visit";return e.toLowerCase().replace("_"," ")},$e=(e,t)=>{if(!t||0===t)return 0;return(parseFloat(e.replace("$",""))/parseFloat(t)).toFixed(2)},Ke=async(e,t="",o={})=>{Pe((e=>Object.assign({},e,{isLoading:!0})));try{if(e===J.PENDING_CLIENT_APPROVAL){const e=await(async(e,t,o)=>{try{if(!d)throw new Error("No booking data available");l&&console.log("Sending booking message:",{bookingId:e,recipientId:t,messageType:o,booking:d});const a="conv_2";l&&console.log("Using existing conversation:",a);const n={message_id:Date.now().toString(),participant1_id:de,participant2_id:t,sender:de,type:"booking_request",data:{bookingId:e,messageType:o,serviceType:d.serviceType,dates:d.occurrences.map((e=>({startDate:e.start_date,endDate:e.end_date,startTime:e.start_time,endTime:e.end_time}))),totalCost:d.costs.totalClientCost,status:d.status},timestamp:(new Date).toISOString(),status:"sent",is_booking_request:!0,metadata:{}};ue[a]||(ue[a]=[]),ue[a].push(n);const r=ce.find((e=>e.id===a));return r&&(r.lastMessage="Booking update sent",r.timestamp=(new Date).toISOString(),r.unread=!0),l&&(console.log("Message sent successfully to conversation:",a),console.log("Updated conversation messages:",ue[a])),!0}catch(m){return console.error("Error sending booking message:",m),!1}})(d.id,d.clientId||"client123","professional_changes");if(!e)throw new Error("Failed to send booking message")}l&&console.log("Updating booking status:",{bookingId:d.id,currentStatus:d.status,newStatus:e,reason:t,metadata:o});const a=await(async(e,t,o="",a={})=>{console.log("updateBookingStatus called with:",{bookingId:e,newStatus:t,reason:o,metadata:a,availableBookings:Object.keys(re)}),await new Promise((e=>setTimeout(e,1e3)));const n=Object.keys(re).find((t=>re[t].id===e));if(!n)throw console.error("Booking not found in mockBookingDetails. Available bookings:",Object.keys(re),"\nFull mockBookingDetails:",re),new Error("Booking not found");return re[n]=Object.assign({},re[n],{status:t,statusReason:o,updated_at:(new Date).toISOString()},a),console.log("Updated booking:",re[n]),re[n]})(d.id,e,t,Object.assign({},o,{occurrences:d.occurrences,costs:d.costs}));c(a),Be(!1),Se.default.alert("Success","Booking ".concat(e.toLowerCase()," successfully"))}catch(m){console.error("Error updating booking status:",m),Se.default.alert("Error","Failed to update booking status")}finally{Pe((e=>Object.assign({},e,{isLoading:!1,visible:!1})))}},Ze=(e,t)=>{Pe({visible:!0,actionText:e,onConfirm:t,isLoading:!1})};(0,a.useEffect)((()=>{d&&P(d)}),[d]);const Qe=e=>{Pe({visible:!0,actionText:"delete this occurrence",onConfirm:()=>(async e=>{Pe((e=>Object.assign({},e,{isLoading:!0})));try{await new Promise((e=>setTimeout(e,1e3)));const t=d.occurrences.filter((t=>t.occurrence_id!==e));c((e=>Object.assign({},e,{occurrences:t,costs:Ge(t)}))),qe()}catch(m){console.error("Error deleting occurrence:",m),Se.default.alert("Error","Failed to delete occurrence")}finally{Pe((e=>Object.assign({},e,{isLoading:!1,visible:!1}))),setTimeout((()=>{Pe({visible:!1,actionText:"",onConfirm:null,isLoading:!1})}),300)}})(e),isLoading:!1})};return(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Booking Details",onBackPress:()=>z(e)}),u?(0,C.jsx)(n.default,{style:Sn.loadingContainer,children:(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary})}):d?(0,C.jsxs)(W.default,{style:Sn.container,children:[(0,C.jsx)((({status:e})=>(0,C.jsxs)(n.default,{style:Sn.statusContainer,children:[(0,C.jsx)(r.default,{style:Sn.statusLabel,children:"Booking Status:"}),(0,C.jsx)(n.default,{style:[Sn.statusBadge,{backgroundColor:Ve(e).backgroundColor}],children:(0,C.jsx)(r.default,{style:[Sn.statusText,{color:Ve(e).textColor}],children:e})})]})),{status:Ne(d?.status,"Pending Professional Changes")}),(0,C.jsxs)(n.default,{style:Sn.section,children:[(0,C.jsx)(r.default,{style:Sn.sectionTitle,children:"Booking Parties"}),(0,C.jsxs)(n.default,{style:Sn.serviceDetailRow,children:[(0,C.jsx)(r.default,{style:Sn.label,children:"Client: "}),(0,C.jsx)(r.default,{style:Sn.value,children:Ne(d?.clientName)})]}),(0,C.jsxs)(n.default,{style:Sn.serviceDetailRow,children:[(0,C.jsx)(r.default,{style:Sn.label,children:"Professional:  "}),(0,C.jsx)(r.default,{style:Sn.value,children:Ne(d?.professionalName)})]})]}),(0,C.jsxs)(n.default,{style:[Sn.section,Sn.petsSection],children:[(0,C.jsxs)(n.default,{style:Sn.sectionHeader,children:[(0,C.jsx)(r.default,{style:Sn.sectionTitle,children:"Booking Pets"}),Me()&&(0,C.jsx)(i.default,{onPress:He,style:[Sn.editButton,S&&Sn.saveButton],testID:"edit-button",disabled:ye,children:ye?(0,C.jsx)(Oe.default,{size:"small",color:p.colors.primary}):S?(0,C.jsx)(r.default,{style:Sn.saveButtonText,children:"Save Pets"}):(0,C.jsx)(g.default,{name:"pencil",size:24,color:p.colors.primary})})]}),S?(0,C.jsxs)(n.default,{children:[me.map(((e,t)=>(0,C.jsxs)(n.default,{style:Sn.petRow,children:[(0,C.jsxs)(r.default,{style:Sn.petName,children:[e.name," \u2022 ",e.species," ",e.breed&&"\u2022 ".concat(e.breed)]}),(0,C.jsx)(i.default,{onPress:()=>ge((e=>e.filter(((e,o)=>o!==t)))),children:(0,C.jsx)(g.default,{name:"close",size:24,color:p.colors.error})})]},t))),(0,C.jsxs)(i.default,{style:Sn.addPetButton,onPress:async()=>{he||o||await(async()=>{l&&console.log("fetching available pets with booking id:",d.booking_id);try{const e=sessionStorage.getItem("userToken");if(!e)throw new Error("No authentication token found");Fe(!0);const t=await x.default.get("".concat(b,"/api/booking-drafts/v1/").concat(d.booking_id,"/available_pets/"),{headers:{Authorization:"Bearer ".concat(e)}});De(t.data),l&&console.log("available pets:",t.data)}catch(m){console.error("Error fetching available pets:",m),Se.default.alert("Error","Failed to fetch available pets")}finally{Fe(!1)}})(),pe(!he)},children:[(0,C.jsx)(r.default,{style:Sn.addPetText,children:"Add Pet"}),(0,C.jsx)(g.default,{name:he?"chevron-up":"chevron-down",size:24,color:p.colors.text})]}),he&&(0,C.jsx)(n.default,{style:Sn.dropdownList,children:(0,C.jsxs)(W.default,{nestedScrollEnabled:!0,style:{maxHeight:200},children:[Re?(0,C.jsx)(Oe.default,{style:{padding:10}}):(o?jn:ze).filter((e=>!me.some((t=>t.pet_id===e.pet_id)))).map((e=>(0,C.jsx)(i.default,{style:Sn.dropdownItem,onPress:()=>{ge((t=>[...t,e])),pe(!1)},children:(0,C.jsxs)(r.default,{style:Sn.dropdownText,children:[e.name," \u2022 ",e.species," ",e.breed&&"\u2022 ".concat(e.breed)]})},e.pet_id||e.id))),!Re&&!o&&0===ze.length&&(0,C.jsx)(r.default,{style:Sn.noContentText,children:"No pets available"})]})})]}):(0,C.jsx)(n.default,{children:d?.pets?.length>0?d.pets.map(((e,t)=>(0,C.jsx)(n.default,{style:Sn.petRow,children:(0,C.jsxs)(r.default,{style:Sn.petName,children:[e.name," \u2022 ",e.species," ",e.breed&&"\u2022 ".concat(e.breed)]})},t))):(0,C.jsx)(r.default,{style:Sn.noContentText,children:"No pets added to this booking"})})]}),(0,C.jsxs)(n.default,{style:[Sn.section,{zIndex:2}],children:[(0,C.jsxs)(n.default,{style:Sn.sectionHeader,children:[(0,C.jsx)(r.default,{style:Sn.sectionTitle,children:"Service Details"}),Me()&&(0,C.jsx)(i.default,{onPress:async()=>{if(k)try{if(je(!0),o)c((e=>Object.assign({},e,{service_details:I.service_details})));else{const e=sessionStorage.getItem("userToken");if(!e)throw new Error("No authentication token found");if(I.service_details.service_id!==d.service_details.service_id){const t=await x.default.patch("".concat(b,"/api/booking-drafts/v1/").concat(d.booking_id,"/update/"),{service_id:I.service_details.service_id},{headers:{Authorization:"Bearer ".concat(e)}});t.data.booking_status&&c((e=>Object.assign({},e,{status:t.data.booking_status,service_details:I.service_details})))}}B(!1)}catch(m){console.error("Error updating service:",m),Se.default.alert("Error","Failed to update service details")}finally{je(!1)}else P((e=>Object.assign({},e,{service_details:Object.assign({},d.service_details)}))),o||await(async()=>{l&&console.log("fetching available services with booking id:",d.booking_id);try{const e=sessionStorage.getItem("userToken");if(!e)throw new Error("No authentication token found");Ee(!0);const t=await x.default.get("".concat(b,"/api/bookings/v1/").concat(d.booking_id,"/available_services/"),{headers:{Authorization:"Bearer ".concat(e)}});We(t.data),l&&console.log("available services:",t.data)}catch(m){console.error("Error fetching available services:",m),Se.default.alert("Error","Failed to fetch available services")}finally{Ee(!1)}})(),B(!0)},style:[Sn.sectionEditButton,k&&Sn.saveButton],disabled:be,testID:"edit-button",children:k?be?(0,C.jsx)(Oe.default,{size:"small",color:p.colors.surface}):(0,C.jsx)(r.default,{style:Sn.saveButtonText,children:"Save Service Details"}):(0,C.jsx)(g.default,{name:"pencil",size:24,color:p.colors.primary})})]}),k?(0,C.jsx)(n.default,{style:Sn.serviceEditContainer,children:(0,C.jsxs)(n.default,{style:[Sn.serviceInputRow,{zIndex:3}],children:[(0,C.jsx)(r.default,{style:Sn.inputLabel,children:"Service Type:"}),(0,C.jsx)(n.default,{style:Sn.inputContainer,children:(0,C.jsxs)(n.default,{style:Sn.dropdownContainer,children:[(0,C.jsxs)(i.default,{style:Sn.dropdownInput,onPress:()=>U(!V),children:[(0,C.jsx)(r.default,{children:I?.service_details?.service_type||"Select Service Type"}),(0,C.jsx)(g.default,{name:V?"chevron-up":"chevron-down",size:24,color:p.colors.text})]}),V&&(0,C.jsx)(n.default,{style:Sn.dropdownList,children:(0,C.jsxs)(W.default,{nestedScrollEnabled:!0,children:[_e?(0,C.jsx)(Oe.default,{style:{padding:10}}):(o?bn:Ae).map((e=>(0,C.jsx)(i.default,{style:Sn.dropdownItem,onPress:()=>{P((t=>Object.assign({},t,{service_details:Object.assign({},t.service_details,{service_type:o?e:e.service_name,service_id:o?null:e.service_id})}))),U(!1)},children:(0,C.jsx)(r.default,{style:[Sn.dropdownText,I?.service_details?.service_type===(o?e:e.service_name)&&Sn.selectedOption],children:o?e:e.service_name})},o?e:e.service_id))),!_e&&!o&&0===Ae.length&&(0,C.jsx)(r.default,{style:Sn.noContentText,children:"No services available"})]})})]})})]})}):(0,C.jsx)(n.default,{style:Sn.serviceDetailsContainer,children:(0,C.jsxs)(n.default,{style:Sn.serviceDetailRow,children:[(0,C.jsx)(r.default,{style:Sn.label,children:"Service Type: "}),(0,C.jsx)(r.default,{style:Sn.value,children:d.service_details.service_type})]})})]}),(0,C.jsx)(n.default,{style:[Sn.section,Sn.dateTimeSection],children:(0,C.jsxs)(n.default,{children:[(0,C.jsx)(r.default,{style:Sn.sectionTitle,children:Me()?"Dates & Times (Set Rates for Dates)":"Dates & Times"}),(d?.occurrences||[]).map(((e,t)=>Me()?(0,C.jsxs)(i.default,{style:Sn.occurrenceCard,onPress:()=>Ye(e),children:[(0,C.jsxs)(n.default,{style:Sn.occurrenceDetails,children:[(0,C.jsx)(r.default,{style:Sn.dateText,children:e.end_date&&e.start_date!==e.end_date?"".concat((0,Ut.format)(wn(e.start_date),"MMM d, yyyy")," - ").concat((0,Ut.format)(wn(e.end_date),"MMM d, yyyy")):(0,Ut.format)(wn(e.start_date),"MMM d, yyyy")}),(0,C.jsx)(r.default,{style:Sn.timeText,children:"".concat(e.start_time," - ").concat(e.end_time)})]}),(0,C.jsxs)(n.default,{style:Sn.occurrenceActions,children:[(0,C.jsx)(i.default,{style:Sn.actionButton,onPress:()=>Qe(e.occurrence_id),children:(0,C.jsx)(g.default,{name:"trash-can-outline",size:20,color:p.colors.error})}),(0,C.jsx)(i.default,{style:Sn.actionButton,onPress:()=>Ye(e),children:(0,C.jsx)(g.default,{name:"pencil",size:20,color:p.colors.primary})})]})]},t):(0,C.jsx)(n.default,{style:Sn.occurrenceCard,children:(0,C.jsxs)(n.default,{style:Sn.occurrenceDetails,children:[(0,C.jsx)(r.default,{style:Sn.dateText,children:e.end_date&&e.start_date!==e.end_date?"".concat((0,Ut.format)(wn(e.start_date),"MMM d, yyyy")," - ").concat((0,Ut.format)(wn(e.end_date),"MMM d, yyyy")):(0,Ut.format)(wn(e.start_date),"MMM d, yyyy")}),(0,C.jsx)(r.default,{style:Sn.timeText,children:"".concat(e.start_time," - ").concat(e.end_time)})]})},t))),Me()&&(0,C.jsxs)(i.default,{style:Sn.addOccurrenceButton,onPress:()=>{ae(null),ie(!0)},children:[(0,C.jsx)(g.default,{name:"plus",size:24,color:p.colors.primary}),(0,C.jsx)(r.default,{style:Sn.addOccurrenceText,children:"Add Occurrence"})]})]})}),(0,C.jsxs)(n.default,{style:Sn.section,children:[(0,C.jsx)(r.default,{style:Sn.sectionTitle,children:"Cost Breakdown"}),(d?.occurrences||[]).map(((e,t)=>(0,C.jsxs)(i.default,{style:Sn.occurrenceCostRow,onPress:()=>fe(le===e.occurrence_id?null:e.occurrence_id),children:[(0,C.jsxs)(n.default,{style:Sn.occurrenceCostHeader,children:[(0,C.jsx)(r.default,{style:Sn.occurrenceCostHeaderText,children:e.end_date&&e.start_date!==e.end_date?"".concat((0,Ut.format)(wn(e.start_date),"MMM d, yyyy")," - ").concat((0,Ut.format)(wn(e.end_date),"MMM d, yyyy")):(0,Ut.format)(wn(e.start_date),"MMM d, yyyy")}),(0,C.jsxs)(n.default,{style:Sn.costAndIcon,children:[(0,C.jsxs)(r.default,{style:Sn.occurrenceCost,children:["$",parseFloat(e.calculated_cost||0).toFixed(2)]}),(0,C.jsx)(g.default,{name:le===e.occurrence_id?"chevron-up":"chevron-down",size:20,color:p.colors.text})]})]}),le===e.occurrence_id&&(0,C.jsxs)(n.default,{style:Sn.expandedCostDetails,children:[(0,C.jsxs)(n.default,{style:Sn.costDetailRow,children:[(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["Base Rate (",Je(e.rates?.unit_of_time),"):"]}),(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["$",parseFloat(e.rates?.base_rate||0).toFixed(2)," \xd7 ",$e(e.base_total,e.rates?.base_rate)," = $",parseFloat(e.base_total.replace("$","")).toFixed(2)]})]}),e.rates?.additional_animal_rate_applies&&e.rates?.additional_animal_rate>0&&(0,C.jsxs)(n.default,{style:Sn.costDetailRow,children:[(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["Additional Animal Rate (after ",e.rates.applies_after," animals):"]}),(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["$",parseFloat(e.rates.additional_animal_rate).toFixed(2)]})]}),e.rates?.holiday_days>0&&e.rates?.holiday_rate>0&&(0,C.jsxs)(n.default,{style:Sn.costDetailRow,children:[(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["Holiday Rate (",e.rates.holiday_days," day",e.rates.holiday_days>1?"s":"","):"]}),(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["$",(parseFloat(e.rates.holiday_rate)*e.rates.holiday_days).toFixed(2)]})]}),(e.rates?.additional_rates||[]).filter((e=>"Booking Details Cost"!==e.title)).map(((e,t)=>(0,C.jsxs)(n.default,{style:Sn.costDetailRow,children:[(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:[e.title,":"]}),(0,C.jsxs)(r.default,{style:Sn.costDetailText,children:["$",parseFloat(e.amount.replace("$","")).toFixed(2)]})]},t)))]})]},t))),(0,C.jsxs)(n.default,{style:Sn.costSummary,children:[(0,C.jsxs)(n.default,{style:Sn.summaryRow,children:[(0,C.jsx)(r.default,{style:Sn.summaryText,children:"Subtotal:"}),(0,C.jsxs)(r.default,{style:Sn.summaryText,children:["$",(d?.cost_summary?.subtotal||0).toFixed(2)]})]}),!o&&(0,C.jsxs)(n.default,{style:Sn.summaryRow,children:[(0,C.jsx)(r.default,{style:Sn.summaryText,children:"Platform Fee (10%):"}),(0,C.jsxs)(r.default,{style:Sn.summaryText,children:["$",(d?.cost_summary?.platform_fee||0).toFixed(2)]})]}),(0,C.jsxs)(n.default,{style:Sn.summaryRow,children:[(0,C.jsx)(r.default,{style:Sn.summaryText,children:"Taxes (8%):"}),(0,C.jsxs)(r.default,{style:Sn.summaryText,children:["$",(d?.cost_summary?.taxes||0).toFixed(2)]})]}),(0,C.jsxs)(n.default,{style:[Sn.summaryRow,Sn.totalRow],children:[(0,C.jsx)(r.default,{style:Sn.totalLabel,children:"Total Cost to Client:"}),(0,C.jsxs)(r.default,{style:Sn.totalAmount,children:["$",(d?.cost_summary?.total_client_cost||0).toFixed(2)]})]}),(0,C.jsxs)(n.default,{style:[Sn.summaryRow,Sn.payoutRow],children:[(0,C.jsx)(r.default,{style:Sn.payoutLabel,children:"Sitter Payout:"}),(0,C.jsxs)(r.default,{style:Sn.payoutAmount,children:["$",(d?.cost_summary?.total_sitter_payout||0).toFixed(2)]})]})]})]}),(0,C.jsxs)(n.default,{style:Sn.section,children:[(0,C.jsx)(r.default,{style:Sn.sectionTitle,children:"Cancellation Policy"}),(0,C.jsxs)(r.default,{style:Sn.policyText,children:["\u2022 No refund if canceled within 1 hour of booking start time","\n","\u2022 50% refund if canceled between 1-24 hours before start time","\n","\u2022 Full refund if canceled more than 24 hours before the booking"]})]}),(()=>{if(!d)return null;const e=[];return j&&([J.PENDING_INITIAL_PROFESSIONAL_CHANGES,J.PENDING_PROFESSIONAL_CHANGES,J.CONFIRMED_PENDING_PROFESSIONAL_CHANGES].includes(d.status)&&e.push((0,C.jsx)(i.default,{style:[Sn.button,Sn.primaryButton],onPress:()=>Ze("send these changes to the client",(()=>Ke(J.PENDING_CLIENT_APPROVAL))),children:(0,C.jsx)(r.default,{style:Sn.buttonText,children:"Send to Client"})},"send")),d.status===J.PENDING_INITIAL_PROFESSIONAL_CHANGES&&e.push((0,C.jsx)(i.default,{style:[Sn.button,Sn.denyButton],onPress:()=>Ze("deny this booking",(()=>Ke(J.DENIED))),children:(0,C.jsx)(r.default,{style:Sn.buttonText,children:"Deny"})},"deny"))),[J.PENDING_PROFESSIONAL_CHANGES,J.CONFIRMED,J.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,J.CONFIRMED_PENDING_CLIENT_APPROVAL].includes(d.status)&&e.push((0,C.jsx)(i.default,{style:[Sn.button,Sn.cancelButton],onPress:()=>Ze("cancel this booking",(()=>Ke(J.CANCELLED))),children:(0,C.jsx)(r.default,{style:Sn.cancelButtonText,children:"Cancel Booking"})},"cancel")),j||[J.PENDING_CLIENT_APPROVAL,J.CONFIRMED_PENDING_CLIENT_APPROVAL].includes(d.status)&&e.push((0,C.jsx)(i.default,{style:[Sn.button,Sn.approveButton],onPress:()=>Ze("approve this booking",(()=>Ke(J.CONFIRMED))),children:(0,C.jsx)(r.default,{style:Sn.buttonText,children:"Approve"})},"approve")),(0,C.jsx)(n.default,{style:Sn.actionButtonsContainer,children:e})})(),(0,C.jsx)(Cn,{visible:we,onClose:()=>Ce(!1),onSubmit:async e=>{await Ke(J.PENDING_PROFESSIONAL_CHANGES,e),Ce(!1)},loading:ve})]}):(0,C.jsx)(n.default,{style:Sn.errorContainer,children:(0,C.jsx)(r.default,{style:Sn.errorText,children:"Unable to load booking details"})}),(0,C.jsx)(yn,{visible:E,onClose:()=>N(!1),onAdd:e=>{P((t=>Object.assign({},t,{rates:Object.assign({},t.rates,{extraServices:[...t.rates.extraServices||[],e]})}))),Ue(),N(!1)}}),(0,C.jsx)(bo,{visible:ne,onClose:()=>{ie(!1),setTimeout((()=>{ae(null)}),300)},onAdd:oe?e=>(async e=>{l&&console.log("Saving occurrence:",e);try{let t=sessionStorage.getItem("userToken");const o={occurrence_id:e.id||e.occurrence_id,start_date:e.startDate,end_date:e.endDate,start_time:e.startTime,end_time:e.endTime,rates:{base_rate:e.rates.baseRate,additional_animal_rate:e.rates.additionalAnimalRate,applies_after:e.rates.appliesAfterAnimals,unit_of_time:e.rates.timeUnit.toUpperCase().replace(/ /g,"_"),holiday_rate:e.rates.holidayRate,holiday_days:0,additional_rates:e.rates.additionalRates.map((e=>({title:e.name,description:e.description||"",amount:"$".concat(e.amount)})))}};if(l&&console.log("Sending occurrence data to backend:",o),!t)throw new Error("No authentication token found");const a=await x.default.patch("".concat(b,"/api/booking-drafts/v1/").concat(d.booking_id,"/update/"),{occurrences:[o]},{headers:{Authorization:"Bearer ".concat(t)}});l&&console.log("Backend update response:",a.data);const n=await x.default.get("".concat(b,"/api/bookings/v1/").concat(d.booking_id,"/?is_prorated=true"),{headers:{Authorization:"Bearer ".concat(t)}});l&&console.log("Fetched updated booking data:",n.data);const r=Object.assign({},n.data,{id:n.data.booking_id,clientName:n.data.client_name,professionalName:n.data.professional_name,serviceType:n.data.service_details.service_type,animalType:n.data.service_details.animal_type,numberOfPets:n.data.service_details.num_pets,costs:n.data.cost_summary,status:n.data.status});c(r),ie(!1)}catch(m){console.error("Error saving occurrence:",m),l&&console.log("Error details:",m.response?.data||m.message),Se.default.alert("Error","Failed to save occurrence details")}})(Object.assign({},e,{occurrence_id:oe.occurrence_id})):async e=>{try{if(!d)return;if(l&&console.log("Adding new occurrence:",e),o){const t={occurrence_id:"occ".concat(d.occurrences.length+1),start_date:e.startDate,end_date:e.endDate,start_time:e.startTime,end_time:e.endTime,rates:{base_rate:e.rates.baseRate,additional_animal_rate:e.rates.additionalAnimalRate,applies_after:e.rates.appliesAfterAnimals,holiday_rate:e.rates.holidayRate,unit_of_time:e.rates.timeUnit.toUpperCase().replace(" ","_"),additional_rates:e.rates.additionalRates.map((e=>({title:e.name,description:e.description||"",amount:"$".concat(parseFloat(e.amount).toFixed(2))})))},calculated_cost:e.totalCost,base_total:"$".concat(parseFloat(e.baseTotal||e.rates.baseRate).toFixed(2))},o=[...d.occurrences,t];return c((e=>Object.assign({},e,{occurrences:o,cost_summary:Ge(o)}))),qe(),void ie(!1)}const t=sessionStorage.getItem("userToken");if(!t)throw new Error("No authentication token found");const a={start_date:e.startDate,end_date:e.endDate,start_time:e.startTime,end_time:e.endTime,rates:{base_rate:e.rates.baseRate,additional_animal_rate:e.rates.additionalAnimalRate,applies_after:e.rates.appliesAfterAnimals,holiday_rate:e.rates.holidayRate,unit_of_time:e.rates.timeUnit.toUpperCase().replace(" ","_"),additional_rates:e.rates.additionalRates.map((e=>({title:e.name,description:e.description||"",amount:"$".concat(parseFloat(e.amount).toFixed(2))})))}};l&&console.log("Sending new occurrence data to backend:",a);const n=await x.default.patch("".concat(b,"/api/booking-drafts/v1/").concat(d.booking_id,"/update/"),{occurrences:[a]},{headers:{Authorization:"Bearer ".concat(t)}});l&&console.log("Backend response:",n.data),n.data.booking_status&&c((e=>Object.assign({},e,{status:n.data.booking_status}))),ie(!1)}catch(m){console.error("Error adding occurrence:",m),l&&console.log("Error details:",m.response?.data||m.message),Se.default.alert("Error","Failed to add occurrence")}},defaultRates:d?.rates,initialOccurrence:oe,isEditing:!!oe}),(0,C.jsx)(Le,{visible:Ie.visible,actionText:Ie.actionText,onClose:()=>{Ie.isLoading||Pe({visible:!1,actionText:Ie.actionText,onConfirm:null,isLoading:!1})},onConfirm:Ie.onConfirm,isLoading:Ie.isLoading})]})},Tn=s.default.create({container:{flex:1,position:"relative",zIndex:1},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},emptyText:{fontSize:18,color:p.colors.text},addButton:{paddingHorizontal:20}}),kn=()=>{const e=(0,A.useNavigation)(),[t,o]=(0,a.useState)([]),[r,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{await new Promise((e=>setTimeout(e,1e3))),o(fe),l(!1)}catch(e){console.error("Error fetching services:",e),l(!1)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{const e="ServiceManager";let t;t=sessionStorage.getItem("previousRoute"),sessionStorage.setItem("previousRoute",t||""),sessionStorage.setItem("currentRoute",e),t||(t="ProfessionalDashboard",e="ServiceManager",sessionStorage.setItem("previousRoute",t||""),sessionStorage.setItem("currentRoute",e))})()}),[]);return s?(0,C.jsxs)(ot,{fullWidthHeader:!0,children:[(0,C.jsx)(Xe,{title:"Service Manager",onBackPress:()=>e.navigate("More")}),(0,C.jsx)(n.default,{style:Tn.loadingContainer,children:(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary})})]}):(0,C.jsxs)(ot,{fullWidthHeader:!0,style:{position:"relative",zIndex:1},children:[(0,C.jsx)(n.default,{style:{position:"relative",zIndex:1},children:(0,C.jsx)(Xe,{title:"Service Manager",onBackPress:()=>z(e),style:{zIndex:1}})}),(0,C.jsx)(n.default,{style:[Tn.container,{marginTop:20,position:"relative",zIndex:2}],children:(0,C.jsx)(Ve,{services:t||[],setServices:o,setHasUnsavedChanges:i,isProfessionalTab:!1})})]})},Bn=s.default.create({container:{flex:1},searchBarContainer:{margin:16},searchBar:{elevation:4,borderRadius:8,backgroundColor:p.colors.surface,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,flexDirection:"row",alignItems:"center",padding:8},searchInput:{fontSize:16,color:p.colors.text},scrollView:{flex:1},blogCard:{margin:16,padding:16,borderRadius:12,elevation:4,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},authorContainer:{flexDirection:"row"},authorImage:{width:40,height:40,borderRadius:20,marginRight:12},blogContent:{flex:1},title:{fontSize:20,fontWeight:"bold",marginBottom:8,fontFamily:p.fonts.header.fontFamily},authorInfo:{flexDirection:"row",alignItems:"center",marginBottom:8},authorName:{fontSize:14,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},dot:{marginHorizontal:4,fontFamily:p.fonts.regular.fontFamily},readTime:{fontSize:14,color:"#666",fontFamily:p.fonts.regular.fontFamily},preview:{fontSize:14,lineHeight:20,marginBottom:12,color:"#444",fontFamily:p.fonts.regular.fontFamily},tags:{flexDirection:"row",flexWrap:"wrap",marginBottom:12},tag:{paddingHorizontal:8,paddingVertical:4,borderRadius:16,marginRight:8,marginBottom:8},tagText:{fontSize:12,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},stats:{flexDirection:"row",justifyContent:"flex-start",marginTop:8},stat:{flexDirection:"row",alignItems:"center",marginRight:16},statText:{marginLeft:4,color:"#666",fontFamily:p.fonts.regular.fontFamily},noResultsContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20,marginTop:40},noResultsText:{fontSize:18,fontWeight:"500",marginTop:16,fontFamily:p.fonts.regular.fontFamily},webSearchInput:{flex:1,padding:8,fontSize:16,color:p.colors.text,border:"none",backgroundColor:"transparent",WebkitTapHighlightColor:"transparent",outlineWidth:0,outlineStyle:"none",boxShadow:"none",borderColor:"transparent",fontFamily:p.fonts.regular.fontFamily}}),In=({navigation:e})=>{const t=(0,h.useTheme)(),[o,s]=(0,a.useState)(""),[l,d]=(0,a.useState)(he),c=(0,a.useCallback)((e=>{s(e);const t=e.toLowerCase(),o=he.filter((e=>e.title.toLowerCase().includes(t)||e.author.name.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)));d(o)}),[]);return(0,C.jsxs)(n.default,{style:[Bn.container,{backgroundColor:t.colors.background}],children:[(0,C.jsx)(Xe,{title:"Blog",onBackPress:()=>{e.navigate("More")}}),(0,C.jsx)(n.default,{style:Bn.searchBarContainer,children:(0,C.jsxs)(n.default,{style:[Bn.searchBar,{backgroundColor:t.colors.surface}],children:[(0,C.jsx)(g.default,{name:"magnify",size:24,color:t.colors.primary}),(0,C.jsx)(N.default,{placeholder:"Search by title, author, or content",onChangeText:c,value:o,style:Bn.webSearchInput}),o?(0,C.jsx)(i.default,{onPress:()=>c(""),children:(0,C.jsx)(g.default,{name:"close-circle",size:24,color:t.colors.primary})}):null]})}),(0,C.jsx)(W.default,{style:Bn.scrollView,children:l.length>0?l.map((o=>{const a=o.content.slice(0,200)+"...";return(0,C.jsx)(i.default,{style:[Bn.blogCard,{backgroundColor:t.colors.surface}],onPress:()=>D(e,"Blog","BlogPost",{post:o}),children:(0,C.jsxs)(n.default,{style:Bn.authorContainer,children:[(0,C.jsx)(_.default,{source:{uri:o.author.profilePicture},style:Bn.authorImage}),(0,C.jsxs)(n.default,{style:Bn.blogContent,children:[(0,C.jsx)(r.default,{style:[Bn.title,{color:t.colors.primary}],children:o.title}),(0,C.jsxs)(n.default,{style:Bn.authorInfo,children:[(0,C.jsx)(r.default,{style:[Bn.authorName,{color:t.colors.secondary}],children:o.author.name}),(0,C.jsx)(r.default,{style:Bn.dot,children:" \u2022 "}),(0,C.jsx)(r.default,{style:Bn.readTime,children:o.readTime})]}),(0,C.jsx)(r.default,{style:Bn.preview,numberOfLines:3,children:a}),(0,C.jsx)(n.default,{style:Bn.tags,children:o.tags.map(((e,o)=>(0,C.jsx)(n.default,{style:[Bn.tag,{backgroundColor:t.colors.primary+"20"}],children:(0,C.jsx)(r.default,{style:[Bn.tagText,{color:t.colors.primary}],children:e})},o)))}),(0,C.jsxs)(n.default,{style:Bn.stats,children:[(0,C.jsxs)(n.default,{style:Bn.stat,children:[(0,C.jsx)(g.default,{name:"heart-outline",size:20,color:t.colors.secondary}),(0,C.jsx)(r.default,{style:Bn.statText,children:o.likes})]}),(0,C.jsxs)(n.default,{style:Bn.stat,children:[(0,C.jsx)(g.default,{name:"comment-outline",size:20,color:t.colors.secondary}),(0,C.jsx)(r.default,{style:Bn.statText,children:o.comments})]}),(0,C.jsxs)(n.default,{style:Bn.stat,children:[(0,C.jsx)(g.default,{name:"share-outline",size:20,color:t.colors.secondary}),(0,C.jsx)(r.default,{style:Bn.statText,children:o.shares})]})]})]})]})},o.id)})):(0,C.jsxs)(n.default,{style:Bn.noResultsContainer,children:[(0,C.jsx)(g.default,{name:"magnify-close",size:48,color:t.colors.secondary}),(0,C.jsx)(r.default,{style:[Bn.noResultsText,{color:t.colors.secondary}],children:"No blog posts found"})]})})]})},Pn=s.default.create({mainContainer:{flex:1},container:{flex:1},header:{padding:16},authorContainer:{flexDirection:"row",marginBottom:16},authorImage:{width:50,height:50,borderRadius:25,marginRight:12},authorInfo:{flex:1},authorName:{fontSize:16,fontWeight:"600",marginBottom:4,fontFamily:p.fonts.header.fontFamily},authorBio:{fontSize:14,color:"#666",marginBottom:4,fontFamily:p.fonts.regular.fontFamily},postInfo:{flexDirection:"row",alignItems:"center"},date:{fontSize:14,color:"#666",fontFamily:p.fonts.regular.fontFamily},dot:{marginHorizontal:4,color:"#666",fontFamily:p.fonts.regular.fontFamily},readTime:{fontSize:14,color:"#666",fontFamily:p.fonts.regular.fontFamily},tags:{flexDirection:"row",flexWrap:"wrap",padding:16,paddingTop:0},tag:{paddingHorizontal:12,paddingVertical:6,borderRadius:16,marginRight:8,marginBottom:8},tagText:{fontSize:14,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily},content:{fontSize:16,lineHeight:24,padding:16,fontFamily:p.fonts.regular.fontFamily},stats:{flexDirection:"row",justifyContent:"space-around",padding:16,borderTopWidth:1,borderBottomWidth:1,borderColor:"#eee"},stat:{flexDirection:"row",alignItems:"center"},statText:{marginLeft:8,fontSize:16,color:"#666",fontFamily:p.fonts.regular.fontFamily},references:{padding:16},referencesTitle:{fontSize:20,fontWeight:"bold",marginBottom:12,fontFamily:p.fonts.header.fontFamily},reference:{marginBottom:12},referenceText:{fontSize:14,color:"#444",lineHeight:20,fontFamily:p.fonts.regular.fontFamily},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:18,fontWeight:"500",marginTop:16,marginBottom:24,fontFamily:p.fonts.regular.fontFamily},errorButton:{paddingHorizontal:20,paddingVertical:10,borderRadius:8},errorButtonText:{fontSize:16,fontWeight:"500",fontFamily:p.fonts.regular.fontFamily}}),zn=({route:e,navigation:t})=>{const[o,s]=(0,a.useState)(null),l=(0,h.useTheme)(),d=e=>e&&"object"===typeof e&&e.author&&"object"===typeof e.author&&e.author.name&&e.author.profilePicture&&e.author.bio&&e.title&&e.content&&Array.isArray(e.tags);if((0,a.useEffect)((()=>{(async()=>{try{if(e?.params?.post&&d(e.params.post))return s(e.params.post),void sessionStorage.setItem("currentBlogPost",JSON.stringify(e.params.post));let o;if(o=sessionStorage.getItem("currentBlogPost"),o){const e=JSON.parse(o);if(d(e))return void s(e)}if(e?.params?.postId){const t=he.find((t=>t.id===e.params.postId));if(t&&d(t))return void s(t)}D(t,"Blog","BlogPost")}catch(o){console.error("Error loading blog post:",o),D(t,"Blog","BlogPost")}})()}),[e?.params]),!o||!d(o))return(0,C.jsxs)(n.default,{style:[Pn.mainContainer,{backgroundColor:l.colors.background}],children:[(0,C.jsx)(Xe,{title:"Blog Post",onBackPress:()=>z(t)}),(0,C.jsxs)(n.default,{style:Pn.errorContainer,children:[(0,C.jsx)(g.default,{name:"alert-circle-outline",size:48,color:l.colors.error}),(0,C.jsx)(r.default,{style:[Pn.errorText,{color:l.colors.error}],children:"Blog post not found or invalid"}),(0,C.jsx)(i.default,{style:[Pn.errorButton,{backgroundColor:l.colors.primary}],onPress:()=>D(t,"Blog","BlogPost"),children:(0,C.jsx)(r.default,{style:[Pn.errorButtonText,{color:l.colors.surface}],children:"Go to Blog List"})})]})]});return(0,C.jsxs)(n.default,{style:[Pn.mainContainer,{backgroundColor:l.colors.background}],children:[(0,C.jsx)(Xe,{title:o.title,onBackPress:()=>z(t)}),(0,C.jsxs)(W.default,{style:Pn.container,children:[(0,C.jsx)(n.default,{style:Pn.header,children:(0,C.jsxs)(n.default,{style:Pn.authorContainer,children:[(0,C.jsx)(_.default,{source:{uri:o.author.profilePicture},style:Pn.authorImage}),(0,C.jsxs)(n.default,{style:Pn.authorInfo,children:[(0,C.jsx)(r.default,{style:[Pn.authorName,{color:l.colors.secondary}],children:o.author.name}),(0,C.jsx)(r.default,{style:Pn.authorBio,children:o.author.bio}),(0,C.jsxs)(n.default,{style:Pn.postInfo,children:[(0,C.jsx)(r.default,{style:Pn.date,children:o.publishDate}),(0,C.jsx)(r.default,{style:Pn.dot,children:" \u2022 "}),(0,C.jsx)(r.default,{style:Pn.readTime,children:o.readTime})]})]})]})}),(0,C.jsx)(n.default,{style:Pn.tags,children:o.tags.map(((e,t)=>(0,C.jsx)(n.default,{style:[Pn.tag,{backgroundColor:l.colors.primary+"20"}],children:(0,C.jsx)(r.default,{style:[Pn.tagText,{color:l.colors.primary}],children:e})},t)))}),(0,C.jsx)(r.default,{style:[Pn.content,{color:l.colors.text}],children:o.content}),(0,C.jsxs)(n.default,{style:Pn.stats,children:[(0,C.jsxs)(i.default,{style:Pn.stat,children:[(0,C.jsx)(g.default,{name:"heart-outline",size:24,color:l.colors.secondary}),(0,C.jsx)(r.default,{style:Pn.statText,children:o.likes})]}),(0,C.jsxs)(i.default,{style:Pn.stat,children:[(0,C.jsx)(g.default,{name:"comment-outline",size:24,color:l.colors.secondary}),(0,C.jsx)(r.default,{style:Pn.statText,children:o.comments})]}),(0,C.jsxs)(i.default,{style:Pn.stat,children:[(0,C.jsx)(g.default,{name:"share-outline",size:24,color:l.colors.secondary}),(0,C.jsx)(r.default,{style:Pn.statText,children:o.shares})]})]}),(0,C.jsxs)(n.default,{style:Pn.references,children:[(0,C.jsx)(r.default,{style:[Pn.referencesTitle,{color:l.colors.primary}],children:"References"}),o.references.map(((e,t)=>(0,C.jsx)(i.default,{style:Pn.reference,onPress:()=>(e=>{e.url?E.default.openURL(e.url):e.doi&&E.default.openURL("https://doi.org/".concat(e.doi))})(e),children:(0,C.jsxs)(r.default,{style:Pn.referenceText,children:[e.authors," (",e.year||"n.d.","). ",e.title,". ",e.publication,".",e.doi&&" DOI: ".concat(e.doi)]})},t)))]})]})]})},Dn=s.default.create({scrollView:{flex:1},container:{flex:1,alignItems:"center",paddingVertical:20},contentWrapper:{padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},title:{fontSize:p.fontSizes.largeLarge,fontWeight:"bold",marginBottom:10,color:p.colors.primary,fontFamily:p.fonts.header.fontFamily,textAlign:"center"},description:{fontSize:p.fontSizes.medium,marginBottom:20,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily,textAlign:"center",lineHeight:24},formSection:{width:"100%"},nameContainer:{flexDirection:"row",gap:10,marginBottom:15},nameField:{flex:1},label:{fontSize:p.fontSizes.medium,marginBottom:5,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily,fontWeight:"500"},input:{backgroundColor:p.colors.surface,borderRadius:5,borderColor:p.colors.border,borderWidth:1,padding:15,marginBottom:15,fontSize:p.fontSizes.medium,width:"100%",fontFamily:p.fonts.regular.fontFamily},textArea:{height:100,textAlignVertical:"top"},checkboxGroup:{marginBottom:15},checkboxContainer:{flexDirection:"row",alignItems:"flex-start",marginBottom:10,paddingRight:10},checkboxIcon:{marginRight:10},checkboxLabel:{flex:1,fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},radioGroup:{marginBottom:15},radioContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},radio:{width:20,height:20,borderRadius:10,borderWidth:2,borderColor:p.colors.primary,marginRight:10},radioSelected:{backgroundColor:p.colors.primary},radioLabel:{fontSize:p.fontSizes.medium,fontFamily:p.fonts.regular.fontFamily},submitButton:{backgroundColor:p.colors.primary,padding:15,borderRadius:5,alignItems:"center",width:"100%",marginTop:20},submitButtonText:{color:p.colors.whiteText,fontSize:p.fontSizes.mediumLarge,fontWeight:"bold",fontFamily:p.fonts.regular.fontFamily},disabledButton:{opacity:.7},successMessage:{fontSize:p.fontSizes.medium,color:p.colors.text,fontFamily:p.fonts.regular.fontFamily,textAlign:"center",marginBottom:15,lineHeight:24},otherInputContainer:{paddingLeft:34,width:"100%"},otherInput:{marginTop:5,marginBottom:10,width:"90%"}}),Rn=()=>{const e=(0,A.useNavigation)(),{is_prototype:t,screenWidth:o}=(0,a.useContext)(v),[s,l]=(0,G.useForm)("mkgobpro"),[d,c]=(0,a.useState)(""),[u,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[y,x]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[w,S]=(0,a.useState)([]),[T,k]=(0,a.useState)(""),[B,I]=(0,a.useState)(""),[P,D]=(0,a.useState)(""),[R,F]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),[O,M]=(0,a.useState)(!1),[L,H]=(0,a.useState)(""),[V,U]=(0,a.useState)(!1),q=o<768,Y=q?"90%":"600px",J=q?"100%":"800px";return s.succeeded?(0,C.jsxs)(ot,{fullWidthHeader:!0,contentWidth:J,children:[(0,C.jsx)(Xe,{title:"Join Waitlist",onBackPress:()=>z(e)}),(0,C.jsx)(n.default,{style:Dn.container,children:(0,C.jsxs)(n.default,{style:[Dn.contentWrapper,{width:Y}],children:[(0,C.jsx)(r.default,{style:[Dn.title,{color:p.colors.primary}],children:"Thank you for joining the CrittrCove waitlist!"}),(0,C.jsx)(r.default,{style:Dn.successMessage,children:"Whether you're a pet owner looking for trusted pet services or a specialist offering your expertise, you're now part of a community that supports independent animal specialists and small businesses."}),(0,C.jsx)(r.default,{style:Dn.successMessage,children:"As a waitlist member, you'll enjoy exclusive early access to the app, priority placement, special gifts, and a unique profile badge to highlight your role as a founding member of CrittrCove."}),(0,C.jsx)(r.default,{style:Dn.successMessage,children:"Stay tuned for exciting updates!"})]})})]}):(0,C.jsxs)(ot,{fullWidthHeader:!0,contentWidth:J,children:[(0,C.jsx)(Xe,{title:"Join Waitlist",onBackPress:()=>z(e)}),(0,C.jsx)(W.default,{style:Dn.scrollView,children:(0,C.jsx)(n.default,{style:Dn.container,children:(0,C.jsxs)(n.default,{style:[Dn.contentWrapper,{width:Y}],children:[(0,C.jsx)(r.default,{style:Dn.title,children:"Join the CrittrCove Waitlist!"}),(0,C.jsx)(r.default,{style:Dn.description,children:"Welcome to Critter Cove's early sign-up, the ultimate pet care marketplace for all pets\u2014whether furry, feathery, or scaly! Our app connects local pet care specialists with pet owners, offering reliable and loving care for your beloved companions."}),(0,C.jsx)(r.default,{style:Dn.description,children:"By joining our waitlist, you'll gain early access to exclusive features, special gifts, and a profile badge as a founding member of the Critter Cove community."}),(0,C.jsxs)(n.default,{style:Dn.formSection,children:[(0,C.jsxs)(n.default,{style:Dn.nameContainer,children:[(0,C.jsxs)(n.default,{style:Dn.nameField,children:[(0,C.jsx)(r.default,{style:Dn.label,children:"First Name *"}),(0,C.jsx)(N.default,{style:Dn.input,value:d,onChangeText:c,placeholder:"First Name"})]}),(0,C.jsxs)(n.default,{style:Dn.nameField,children:[(0,C.jsx)(r.default,{style:Dn.label,children:"Last Name *"}),(0,C.jsx)(N.default,{style:Dn.input,value:u,onChangeText:f,placeholder:"Last Name"})]})]}),(0,C.jsx)(r.default,{style:Dn.label,children:"Email *"}),(0,C.jsx)(N.default,{style:Dn.input,value:m,onChangeText:h,placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none"}),(0,C.jsx)(r.default,{style:Dn.label,children:"Phone Number *"}),(0,C.jsx)(N.default,{style:Dn.input,value:y,onChangeText:x,placeholder:"Phone Number",keyboardType:"phone-pad"}),(0,C.jsx)(r.default,{style:Dn.label,children:"Do you currently own pets? If yes, tell us all about them! *"}),(0,C.jsx)(N.default,{style:[Dn.input,Dn.textArea],value:b,onChangeText:j,placeholder:"Tell us about your pets",multiline:!0,numberOfLines:4}),(0,C.jsx)(r.default,{style:Dn.label,children:"What kind of pet care services are you most interested in? *"}),(0,C.jsx)(n.default,{style:Dn.checkboxGroup,children:["Pet Sitting","Grooming","Training","Veterinary Services","Farm/Homestead Care","Care Consulting","Other"].map((e=>(0,C.jsxs)(n.default,{children:[(0,C.jsxs)(i.default,{style:Dn.checkboxContainer,onPress:()=>(e=>{S((t=>("Other"===e&&U(!t.includes("Other")),t.includes(e)?t.filter((t=>t!==e)):[...t,e])))})(e),children:[(0,C.jsx)(g.default,{name:w.includes(e)?"checkbox-marked":"checkbox-blank-outline",size:24,color:p.colors.primary,style:Dn.checkboxIcon}),(0,C.jsx)(r.default,{style:Dn.checkboxLabel,children:e})]}),"Other"===e&&w.includes("Other")&&(0,C.jsx)(n.default,{style:Dn.otherInputContainer,children:(0,C.jsx)(N.default,{style:[Dn.input,Dn.otherInput],value:L,onChangeText:H,placeholder:"Please specify other service"})})]},e)))}),(0,C.jsx)(r.default,{style:Dn.label,children:"Are you signing up as a: *"}),(0,C.jsx)(n.default,{style:Dn.radioGroup,children:["Pet owner in need of services","Care specialist (sitter, groomer, ferrier, fish tank cleaner, etc)","Both"].map((e=>(0,C.jsxs)(i.default,{style:Dn.radioContainer,onPress:()=>k(e),children:[(0,C.jsx)(n.default,{style:[Dn.radio,T===e&&Dn.radioSelected]}),(0,C.jsx)(r.default,{style:Dn.radioLabel,children:e})]},e)))}),(0,C.jsx)(r.default,{style:Dn.label,children:"What hesitations do you have about using an app to connect your to local pet care?"}),(0,C.jsx)(N.default,{style:[Dn.input,Dn.textArea],value:B,onChangeText:I,placeholder:"Share your concerns",multiline:!0,numberOfLines:4}),(0,C.jsx)(r.default,{style:Dn.label,children:"What features or tools would make Critter Cove perfect for you?"}),(0,C.jsx)(N.default,{style:[Dn.input,Dn.textArea],value:P,onChangeText:D,placeholder:"Share your ideas",multiline:!0,numberOfLines:4}),(0,C.jsxs)(i.default,{style:Dn.checkboxContainer,onPress:()=>F(!R),children:[(0,C.jsx)(g.default,{name:R?"checkbox-marked":"checkbox-blank-outline",size:24,color:p.colors.primary,style:Dn.checkboxIcon}),(0,C.jsx)(r.default,{style:Dn.checkboxLabel,children:"Would you like to be added to the email newsletter for updates on the app, pet care tips, discounts and more? *"})]}),(0,C.jsxs)(i.default,{style:Dn.checkboxContainer,onPress:()=>E(!_),children:[(0,C.jsx)(g.default,{name:_?"checkbox-marked":"checkbox-blank-outline",size:24,color:p.colors.primary,style:Dn.checkboxIcon}),(0,C.jsx)(r.default,{style:Dn.checkboxLabel,children:"I agree to the terms and conditions and understand my data will be used to improve the app experience. *"})]}),(0,C.jsx)(i.default,{style:[Dn.submitButton,(O||!_)&&Dn.disabledButton],onPress:async e=>{if(e.preventDefault(),m&&d&&u&&y&&b&&0!==w.length&&T&&_){M(!0);try{const e={firstName:d,lastName:u,email:m,phone:y,petInfo:b,services:w.includes("Other")?[...w.filter((e=>"Other"!==e)),"Other: ".concat(L)]:w,userType:T,hesitations:B,desiredFeatures:P,newsletter:R,agreeToTerms:_};await l(e),s.succeeded&&(c(""),f(""),h(""),x(""),j(""),S([]),H(""),U(!1),k(""),I(""),D(""),F(!1),E(!1))}catch(t){console.error("Error submitting form:",t)}finally{M(!1)}}else alert("Please fill in all required fields")},disabled:O||!_,children:(0,C.jsx)(r.default,{style:Dn.submitButtonText,children:O?"Submitting...":"Join Waitlist"})})]})]})})})]})},Fn=(0,c.default)(),An=((0,f.default)(),[{name:"Home",component:function({navigation:e}){const{colors:t}=(0,h.useTheme)(),[r,s]=(0,a.useState)(!1),l=({data:e,renderItem:t,title:o,cardWidth:r=320})=>{const s=a.useRef(null),[l,d]=(0,a.useState)(0),[c,u]=(0,a.useState)(!1),f=a.useRef(null);(0,a.useEffect)((()=>(c||(f.current=setInterval((()=>{if(s.current){const t=(l+1)%e.length;m(t)}}),3e3)),()=>{f.current&&clearInterval(f.current)})),[l,c,e.length]);const m=e=>{s.current&&(s.current.scrollTo({x:e*r,animated:!0}),d(e))},g=()=>{setTimeout((()=>{u(!1)}),1e3)};return(0,C.jsxs)(n.default,{style:je.section,children:[(0,C.jsx)(O.default,{style:je.sectionTitle,children:o}),(0,C.jsxs)(n.default,{style:je.scrollContainer,children:[(0,C.jsx)(W.default,{ref:s,horizontal:!0,showsHorizontalScrollIndicator:!0,style:[je.scrollContainer,{WebkitOverflowScrolling:"touch"}],contentContainerStyle:je.scrollContent,onScroll:e=>{const t=e.nativeEvent.contentOffset.x,o=Math.round(t/r);d(o)},scrollEventThrottle:16,pagingEnabled:!1,onScrollBeginDrag:()=>{u(!0),f.current&&clearInterval(f.current)},onScrollEndDrag:g,onMomentumScrollEnd:g,children:e.map(((e,o)=>t(e,o)))}),(0,C.jsx)(n.default,{style:je.scrollIndicators,children:e.map(((e,t)=>(0,C.jsx)(i.default,{onPress:()=>(e=>{u(!0),m(e),setTimeout((()=>{u(!1)}),1e3)})(t),style:je.scrollIndicatorButton,children:(0,C.jsx)(n.default,{style:[je.scrollIndicator,l===t&&je.scrollIndicatorActive]})},t)))}),!1]})]})};return(0,C.jsxs)(W.default,{style:je.container,children:[(0,C.jsxs)(n.default,{style:je.heroSection,children:[(0,C.jsx)(_.default,{source:o(32571),style:je.heroImage,resizeMode:"cover"}),(0,C.jsx)(O.default,{style:je.heroText,children:"Welcome to CrittrCove"})]}),(0,C.jsx)((()=>{const[t,o]=(0,a.useState)("owners"),r=["#515d6c","#516a6c","#516C61","#6A6C51"],s={flexDirection:"row",marginBottom:20,alignItems:"flex-start",width:"100%"},l={flex:1,marginLeft:5};return(0,C.jsxs)(n.default,{style:je.featuresSection,children:[(0,C.jsx)(O.default,{style:je.sectionTitle,children:"How It Works"}),(0,C.jsxs)(n.default,{style:je.toggleContainer,children:[(0,C.jsx)(i.default,{style:[je.toggleButton,"owners"===t&&je.toggleButtonActive],onPress:()=>o("owners"),children:(0,C.jsx)(O.default,{style:[je.toggleButtonText,"owners"===t&&je.toggleButtonTextActive],children:"For Pet Owners"})}),(0,C.jsx)(i.default,{style:[je.toggleButton,"sitters"===t&&je.toggleButtonActive],onPress:()=>o("sitters"),children:(0,C.jsx)(O.default,{style:[je.toggleButtonText,"sitters"===t&&je.toggleButtonTextActive],children:"For Pet Professionals"})})]}),(0,C.jsxs)(n.default,{style:je.featuresContainer,children:["owners"===t&&(0,C.jsxs)(n.default,{style:je.featureColumn,children:[(0,C.jsx)(O.default,{style:je.columnTitle,children:"For Pet Owners"}),(0,C.jsxs)(n.default,{style:je.featuresList,children:[(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[0]}],children:(0,C.jsx)(q.default,{name:"person-running",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Complete Your Profile"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Submit details about you and your requirements."})]})]}),(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[1]}],children:(0,C.jsx)(g.default,{name:"horse-human",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Complete Pet Profile"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Submit details about your pet and sitting requirements."})]})]}),(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[2]}],children:(0,C.jsx)(g.default,{name:"professional-hexagon",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Search for Pro's"}),(0,C.jsx)(O.default,{style:je.featureText,children:"You can use our marketplace to find the best pro for your desired service."})]})]}),(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[3]}],children:(0,C.jsx)(L.default,{name:"calendar-check",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Confirm Your Booking"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Coordinate directly with your professional to finalize details."})]})]})]}),(0,C.jsx)(n.default,{style:je.buttonContainer,children:(0,C.jsx)(i.default,{style:je.actionButton,onPress:()=>D(e,"Waitlist","Home"),children:(0,C.jsx)(O.default,{style:je.buttonText,children:"Sign up Today!"})})})]}),"sitters"===t&&(0,C.jsxs)(n.default,{style:je.featureColumn,children:[(0,C.jsx)(O.default,{style:je.columnTitle,children:"For Pet Professionals"}),(0,C.jsxs)(n.default,{style:je.featuresList,children:[(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[0]}],children:(0,C.jsx)(M.default,{name:"sign-in",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Apply to Join Pro Community"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Submit your specialties, documents, bio, and availability to begin."})]})]}),(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[1]}],children:(0,C.jsx)(g.default,{name:"plus-circle",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Create Services"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Create services to offer to pet owners."})]})]}),(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[2]}],children:(0,C.jsx)(q.default,{name:"handshake-simple",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Get Matched with Clients"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Pet owners in your area will reach out to you for yourservices."})]})]}),(0,C.jsxs)(n.default,{style:s,children:[(0,C.jsx)(n.default,{style:[je.featureIconCircle,{backgroundColor:r[3]}],children:(0,C.jsx)(Y.default,{name:"auto-graph",size:24,color:"white"})}),(0,C.jsxs)(n.default,{style:l,children:[(0,C.jsx)(O.default,{style:je.featureTitle,children:"Grow Your Business"}),(0,C.jsx)(O.default,{style:je.featureText,children:"Manage bookings and get support as you build your pet service business."})]})]})]}),(0,C.jsx)(n.default,{style:je.buttonContainer,children:(0,C.jsx)(i.default,{style:je.actionButton,onPress:()=>D(e,"Waitlist","Home"),children:(0,C.jsx)(O.default,{style:je.buttonText,children:"Become a Professional"})})})]})]})]})}),{}),(0,C.jsx)((()=>(0,C.jsx)(l,{data:xe,renderItem:(e,t)=>(0,C.jsxs)(n.default,{style:je.reviewCard,children:[(0,C.jsx)(O.default,{style:je.reviewText,children:e.text}),(0,C.jsxs)(n.default,{style:je.reviewAuthorContainer,children:[(0,C.jsx)(be,{source:e.image,style:je.reviewerImage}),(0,C.jsxs)(n.default,{children:[(0,C.jsx)(O.default,{style:je.reviewAuthorName,children:e.author}),(0,C.jsx)(O.default,{style:je.reviewAuthorTitle,children:"Client Review"}),(0,C.jsx)(n.default,{style:je.starsContainer,children:[1,2,3,4,5].map(((e,t)=>(0,C.jsx)(g.default,{name:"star",size:16,color:p.colors.primary,style:je.starIcon},t)))})]})]})]},t),title:"Kind Words From Users"})),{}),(0,C.jsx)((()=>(0,C.jsx)(l,{data:he,renderItem:(t,o)=>(0,C.jsx)(i.default,{style:[je.blogCard,{marginRight:o===he.length-1?0:10}],onPress:()=>D(e,"BlogPost","Home",{post:t}),children:(0,C.jsxs)(n.default,{style:je.authorContainer,children:[(0,C.jsx)(_.default,{source:{uri:t.author.profilePicture},style:je.authorImage}),(0,C.jsxs)(n.default,{style:je.blogContent,children:[(0,C.jsx)(O.default,{style:[je.title,{color:p.colors.primary}],numberOfLines:2,children:t.title}),(0,C.jsxs)(n.default,{style:je.authorInfo,children:[(0,C.jsx)(O.default,{style:[je.authorName,{color:p.colors.secondary}],children:t.author.name}),(0,C.jsx)(O.default,{style:je.dot,children:" \u2022 "}),(0,C.jsx)(O.default,{style:je.readTime,children:t.readTime})]}),(0,C.jsxs)(O.default,{style:je.preview,numberOfLines:3,children:[t.content.slice(0,100),"..."]}),(0,C.jsx)(n.default,{style:je.tags,children:t.tags.slice(0,2).map(((e,t)=>(0,C.jsx)(n.default,{style:[je.tag,{backgroundColor:p.colors.primary+"20"}],children:(0,C.jsx)(O.default,{style:[je.tagText,{color:p.colors.primary}],children:e})},t)))}),(0,C.jsxs)(n.default,{style:je.stats,children:[(0,C.jsxs)(n.default,{style:je.stat,children:[(0,C.jsx)(g.default,{name:"heart-outline",size:16,color:p.colors.secondary}),(0,C.jsx)(O.default,{style:je.statText,children:t.likes})]}),(0,C.jsxs)(n.default,{style:je.stat,children:[(0,C.jsx)(g.default,{name:"comment-outline",size:16,color:p.colors.secondary}),(0,C.jsx)(O.default,{style:je.statText,children:t.comments})]}),(0,C.jsxs)(n.default,{style:je.stat,children:[(0,C.jsx)(g.default,{name:"share-outline",size:16,color:p.colors.secondary}),(0,C.jsx)(O.default,{style:je.statText,children:t.shares})]})]})]})]})},t.id),title:"Blog",cardWidth:320})),{}),(0,C.jsx)(U,{}),(0,C.jsxs)(n.default,{style:[je.section,je.waitlistSection],children:[(0,C.jsx)(O.default,{style:je.sectionTitle,children:"Join Our Waitlist"}),(0,C.jsx)(O.default,{style:je.waitlistDescription,children:"Get exclusive bonus offers, promotions, and discounts when the app and website launches by signing up on our waitlist today!"}),(0,C.jsx)(i.default,{style:[je.actionButton,je.waitlistButton],onPress:()=>D(e,"Waitlist","Home"),children:(0,C.jsx)(O.default,{style:je.buttonText,children:"Join Waitlist"})})]}),(0,C.jsx)((()=>{const[e,t]=(0,G.useForm)("mkgobpro"),[o,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)("");return e.succeeded?(0,C.jsx)(n.default,{style:je.contactSection,children:(0,C.jsxs)(n.default,{style:je.contactContainer,children:[(0,C.jsx)(O.default,{style:[je.sectionTitle,{color:p.colors.primary}],children:"Thanks for reaching out!"}),(0,C.jsx)(O.default,{style:je.successMessage,children:"We'll get back to you soon."})]})}):(0,C.jsx)(n.default,{style:je.contactSection,children:(0,C.jsxs)(n.default,{style:je.contactContainer,children:[(0,C.jsx)(O.default,{style:je.sectionTitle,children:"Contact Us"}),(0,C.jsx)(N.default,{placeholder:"Your Name",style:je.input,value:o,onChangeText:r,name:"name"}),(0,C.jsx)(G.ValidationError,{prefix:"Name",field:"name",errors:e.errors}),(0,C.jsx)(N.default,{placeholder:"Your Email",style:je.input,value:s,onChangeText:l,keyboardType:"email-address",name:"email",autoCapitalize:"none"}),(0,C.jsx)(G.ValidationError,{prefix:"Email",field:"email",errors:e.errors}),(0,C.jsx)(N.default,{placeholder:"Your Message",style:[je.input,je.messageInput],value:d,onChangeText:c,multiline:!0,name:"message"}),(0,C.jsx)(G.ValidationError,{prefix:"Message",field:"message",errors:e.errors}),(0,C.jsx)(n.default,{style:je.buttonContainer,children:(0,C.jsx)(i.default,{style:[je.actionButton,e.submitting&&je.disabledButton],onPress:async a=>{a.preventDefault();const n={name:o,email:s,message:d};await t(n),e.succeeded&&(r(""),l(""),c(""))},disabled:e.submitting,children:(0,C.jsx)(O.default,{style:je.buttonText,children:e.submitting?"Sending...":"Send"})})})]})})}),{}),(0,C.jsxs)(n.default,{style:je.footer,children:[(0,C.jsxs)(n.default,{style:je.socialIconsRow,children:[(0,C.jsx)(i.default,{style:je.socialIcon,onPress:()=>E.default.openURL("https://instagram.com/thezensitter"),children:(0,C.jsx)(M.default,{name:"instagram",size:24,color:"white"})}),(0,C.jsx)(i.default,{style:je.socialIcon,onPress:()=>E.default.openURL("https://discord.com/your-profile"),children:(0,C.jsx)(L.default,{name:"discord",size:24,color:"white"})})]}),(0,C.jsxs)(n.default,{style:je.footerLinksRow,children:[(0,C.jsx)(O.default,{style:je.footerLink,onPress:()=>D(e,"PrivacyPolicy","Home"),children:"Privacy Policy"}),(0,C.jsx)(O.default,{style:je.footerLink,onPress:()=>D(e,"TermsOfService","Home"),children:"Terms of Service"})]})]})]})}},{name:"About",component:function(){return(0,C.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,C.jsx)(O.default,{children:"About Screen"})})}},{name:"ClientProfile",component:De},{name:"MyProfile",component:nt},{name:"SignIn",component:function(){const[e,t]=(0,a.useState)(""),[o,s]=(0,a.useState)(""),[l,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!0),[f,m]=(0,a.useState)(!1),[g,h]=(0,a.useState)(""),y=(0,A.useNavigation)(),{signIn:j,is_prototype:w}=(0,a.useContext)(v),S=async()=>{m(!0);try{if(w){const e="mock_access_token",t="mock_refresh_token",o=await j(e,t);return console.log("Sign in status (prototype):",o),void(o&&"professional"===o.userRole?y.navigate("ProfessionalDashboard"):y.navigate("Dashboard"))}const t=await x.default.post("".concat(b,"/api/token/"),{email:e.toLowerCase(),password:o}),{access:a,refresh:n}=t.data,r=await j(a,n);console.log("Sign in status:",r),r&&"professional"===r.userRole?y.navigate("ProfessionalDashboard"):y.navigate("Dashboard")}catch(t){console.error("Login failed",t);const e=t.response&&401===t.response.status?"Invalid credentials. Please try again.":"An unexpected error occurred.";h("Login Failed: ".concat(e)),d(!1),u(!1)}finally{m(!1)}};(0,a.useEffect)((()=>{{const e=e=>{"Enter"===e.key&&S()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[e,o]);const T=e=>{"Enter"===e.nativeEvent.key&&S()};return(0,C.jsxs)(n.default,{style:lt.container,children:[(0,C.jsx)(r.default,{style:lt.title,children:"Sign In"}),w&&(0,C.jsx)(r.default,{style:lt.prototypeWarning,children:"Prototype Mode: You can sign in with anything for email and password"}),(0,C.jsx)(N.default,{style:[lt.input,!l&&lt.invalidInput],placeholder:"Email",value:e,onChangeText:e=>{t(e),d(!0)},autoCapitalize:"none",onKeyPress:T}),(0,C.jsx)(N.default,{style:[lt.input,!c&&lt.invalidInput],placeholder:"Password",secureTextEntry:!0,value:o,onChangeText:e=>{s(e),u(!0)},onKeyPress:T}),(0,C.jsx)(rt,{title:"Login",onPress:S}),f&&(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary}),g?(0,C.jsx)(r.default,{style:lt.message,children:g}):null,(0,C.jsx)(i.default,{onPress:()=>y.navigate("ResetPassword"),children:(0,C.jsx)(r.default,{style:lt.link,children:"Forgot Password?"})}),(0,C.jsx)(i.default,{onPress:()=>y.navigate("SignUp"),children:(0,C.jsx)(r.default,{style:lt.link,children:"Sign Up"})})]})}},{name:"SignUp",component:function(){const e=(0,A.useNavigation)(),{setIsSignedIn:t}=(0,a.useContext)(v),[o,n]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(!1),[y,j]=(0,a.useState)("");return(0,C.jsx)(dt.default,{style:ut.container,behavior:"height",keyboardVerticalOffset:0,children:(0,C.jsxs)(W.default,{contentContainerStyle:ut.scrollContainer,children:[(0,C.jsx)(r.default,{style:ut.title,children:"Sign Up"}),[{placeholder:"First Name",value:o,onChangeText:n},{placeholder:"Last Name",value:i,onChangeText:s},{placeholder:"Email",value:l,onChangeText:d,keyboardType:"email-address",autoCapitalize:"none"},{placeholder:"Password",value:c,onChangeText:u,secureTextEntry:!0},{placeholder:"Confirm Password",value:f,onChangeText:m,secureTextEntry:!0}].map(((e,t)=>(0,C.jsx)(N.default,{style:ut.input,placeholder:e.placeholder,value:e.value,onChangeText:e.onChangeText,keyboardType:e.keyboardType,autoCapitalize:e.autoCapitalize,secureTextEntry:e.secureTextEntry},t))),(0,C.jsx)(rt,{title:"Sign Up",onPress:async()=>{if(c!==f)return void j("Passwords do not match.");const a={name:"".concat(o.trim()," ").concat(i.trim()),email:l.trim().toLowerCase(),password:c,password2:f,phone_number:""};h(!0);try{await x.default.post("".concat(b,"/api/users/v1/register/"),a);j("Account created successfully!"),setTimeout((()=>{e.navigate("MyProfile")}),1500),t(!0)}catch(n){let e="Signup Failed: An error occurred during signup.";if(n.response){const t=n.response.data;if(t){const o=Object.entries(t)[0];if(o){const[t,a]=o;e="".concat(t,": ").concat(Array.isArray(a)?a[0]:a)}}}j(e)}finally{h(!1)}}}),g&&(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary}),y?(0,C.jsx)(r.default,{style:ut.message,children:y}):null]})})}},{name:"ResetPassword",component:function(){const[e,t]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),u=(0,A.useNavigation)();return(0,C.jsxs)(n.default,{style:mt.container,children:[(0,C.jsx)(r.default,{style:mt.title,children:"Reset Password"}),(0,C.jsx)(N.default,{style:[mt.input,o&&mt.inputError],placeholder:"Email",value:e,onChangeText:e=>{t(e),i(!1)},keyboardType:"email-address",autoCapitalize:"none"}),(0,C.jsx)(rt,{title:"Reset Password",onPress:async()=>{if(e){l(!0);try{await x.default.post("".concat(b,"/api/users/v1/reset-password/"),{email:e});c("A reset password link has been sent to your email."),setTimeout((()=>{u.navigate("Home")}),2e3)}catch(t){t.response&&404===t.response.status?(i(!0),c("Error: Email is not associated with any user.")):c("Error: Failed to send reset password email. Please try again later.")}finally{l(!1)}}else c("Error: Please enter your email address.")}}),s&&(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary}),d?(0,C.jsx)(r.default,{style:mt.message,children:d}):null]})}},{name:"ResetPasswordConfirm",component:function({route:e}){const{uid:t,token:o}=e.params,[i,s]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),g=(0,A.useNavigation)();return(0,C.jsxs)(n.default,{style:ht.container,children:[(0,C.jsx)(r.default,{style:ht.title,children:"Reset Password"}),(0,C.jsx)(N.default,{style:ht.input,placeholder:"New Password",value:i,onChangeText:s,secureTextEntry:!0}),(0,C.jsx)(N.default,{style:ht.input,placeholder:"Confirm Password",value:l,onChangeText:d,secureTextEntry:!0}),(0,C.jsx)(rt,{title:"Reset Password",onPress:async()=>{if(i===l){u(!0);try{await x.default.post("".concat(b,"/api/users/v1/reset-password-confirm/").concat(t,"/").concat(o,"/"),{new_password:i});m("Your password has been reset."),setTimeout((()=>{D(g,"SignIn","ResetPasswordConfirm")}),2e3)}catch(e){m("Failed to reset password. Please try again later.")}finally{u(!1)}}else m("Passwords do not match.")}}),c&&(0,C.jsx)(Oe.default,{size:"large",color:p.colors.primary}),f?(0,C.jsx)(r.default,{style:ht.message,children:f}):null]})}},{name:"Dashboard",component:Tt},{name:"SearchProfessionals",component:It},{name:"SearchProfessionalsListing",component:un},{name:"ClientHistory",component:mo},{name:"MessageHistory",component:Co},{name:"ProfessionalDashboard",component:At},{name:"BecomeProfessional",component:_t},{name:"More",component:Ot},{name:"Clients",component:ca},{name:"AvailabilitySettings",component:io},{name:"MyPets",component:co},{name:"PaymentMethods",component:Lo},{name:"Settings",component:Uo},{name:"PrivacyPolicy",component:Yo},{name:"ProfessionalSettings",component:$o},{name:"TermsOfService",component:Qo},{name:"HelpFAQ",component:ea},{name:"ContactUs",component:oa},{name:"ProfessionalProfile",component:xa},{name:"MyContracts",component:Aa},{name:"ChangePassword",component:_a},{name:"AddPet",component:Ma},{name:"MyBookings",component:hn},{name:"BookingDetails",component:vn},{name:"ServiceManager",component:kn},{name:"Blog",component:In},{name:"BlogPost",component:zn},{name:"Waitlist",component:Rn}]),Wn={enabled:!0,prefixes:["https://staging.crittrcove.com","http://staging.crittrcove.com","".concat(b)],config:{screens:{Home:"*",About:"about",ClientProfile:"client-profile",MyProfile:"my-profile",SignIn:"signin",SignUp:"signup",ResetPassword:"reset-password",ResetPasswordConfirm:"reset-password/:uid/:token",Dashboard:"dashboard",SearchProfessionals:"search-professionals",SearchProfessionalsListing:"search-professionals-listing",ClientHistory:"client-history",MessageHistory:{path:"message-history",parse:{messageId:e=>e||null,senderName:e=>e||"Unknown User"}},ProfessionalDashboard:"professional-dashboard",BecomeProfessional:"become-professional",More:"more",Clients:"clients",AvailabilitySettings:"availability-settings",MyPets:"my-pets",PaymentMethods:"payment-methods",Settings:"settings",PrivacyPolicy:"privacy-policy",ProfessionalSettings:"professional-settings",TermsOfService:"terms-of-service",HelpFAQ:"help-faq",ContactUs:"contact-us",ProfessionalProfile:{path:"professional-profile",parse:{professional:e=>{}}},MyContracts:"my-contracts",ChangePassword:"change-password",AddPet:{path:"add-pet",parse:{pet:()=>{}}},MyBookings:"my-bookings",BookingDetails:"booking-details",ServiceManager:"service-manager",Blog:"blog",BlogPost:"blog-post",Waitlist:"waitlist"}}},_n=(0,A.createNavigationContainerRef)();function En(e,t){_n.isReady()&&_n.navigate(e,t)}const Nn=()=>{const[e,t]=(0,a.useState)(!0),o=(0,A.useNavigation)();(0,a.useEffect)((()=>{(async()=>{"true"===sessionStorage.getItem("prototype_banner_hidden")&&t(!1)})()}),[]);return e?(0,C.jsx)(n.default,{style:Mn.warningBanner,children:(0,C.jsxs)(n.default,{style:Mn.warningContent,children:[(0,C.jsx)(i.default,{style:Mn.closeButton,onPress:async()=>{sessionStorage.setItem("prototype_banner_hidden","true"),t(!1)},children:(0,C.jsx)(r.default,{style:Mn.closeButtonText,children:"\u2715"})}),(0,C.jsx)(r.default,{style:Mn.warningText,children:"\ud83d\udea7 MBA Staging MVP Mode: All features are currently under development. Join our waitlist for the full version to receive exclusive discounts, bonuses, and early-access promotions!"}),(0,C.jsx)(i.default,{style:Mn.waitlistButton,onPress:()=>D(o,"Waitlist","Home"),children:(0,C.jsx)(r.default,{style:Mn.waitlistButtonText,children:"Join Waitlist"})})]})}):null};function On(){const{checkAuthStatus:e,is_DEBUG:t,is_prototype:o}=(0,a.useContext)(v),[r,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const o=await e();let a="Home";o.isSignedIn?(t&&console.log("Auth status on init:",o),a="professional"===o.userRole&&o.isApprovedProfessional?"ProfessionalDashboard":"Dashboard"):a="Home";{const e=window.location.pathname;if("/"===e||""===e);else{const t=e.slice(1).split("/")[0].toLowerCase();if("home"===t);else{const e=An.find((e=>e.name.toLowerCase()===t));e&&(a=e.name)}}}i(a)}catch(o){console.error("Error initializing app:",o),i("Home")}finally{l(!1)}})()}),[]),(0,a.useEffect)((()=>{0}),[r,s]),s||!r?null:(0,C.jsx)(d.default,{ref:_n,linking:Wn,onStateChange:async e=>{0},children:(0,C.jsxs)(n.default,{style:Mn.container,children:[o&&(0,C.jsx)(Nn,{}),(0,C.jsx)(Fn.Navigator,{initialRouteName:r,screenOptions:Object.assign({headerShown:!0,header:({navigation:e})=>(0,C.jsx)(R,{navigation:e})},u.SlideFromRightIOS,{presentation:"card",animation:"slide_from_right"}),children:An.map((e=>(0,C.jsx)(Fn.Screen,{name:e.name,component:e.component,options:{headerShown:!0,animation:"slide_from_right"}},e.name)))})]})})}const Mn=s.default.create({container:{flex:1,display:"flex",flexDirection:"column",height:"100%"},warningBanner:{backgroundColor:"#ffebee",padding:12,borderBottomWidth:1,borderBottomColor:"#ef5350",width:"100%",flexShrink:0},warningContent:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:10,maxWidth:1200,marginHorizontal:"auto",width:"100%"},warningText:{color:"#c62828",textAlign:"center",fontSize:15,flexShrink:1,flex:1,marginHorizontal:15},waitlistButton:{backgroundColor:"#ef5350",paddingHorizontal:15,paddingVertical:8,borderRadius:20,marginLeft:"auto"},waitlistButtonText:{color:"white",fontSize:14,fontWeight:"600"},closeButton:{width:24,height:24,justifyContent:"center",alignItems:"center",marginRight:5},closeButtonText:{color:"#c62828",fontSize:18,fontWeight:"600"}});function Ln(){return(0,C.jsx)(T,{children:(0,C.jsx)(l.default,{theme:p,children:(0,C.jsx)(On,{})})})}},35358:(e,t,o)=>{var a={"./af":17582,"./af.js":17582,"./ar":93042,"./ar-dz":54265,"./ar-dz.js":54265,"./ar-kw":92553,"./ar-kw.js":92553,"./ar-ly":85352,"./ar-ly.js":85352,"./ar-ma":67097,"./ar-ma.js":67097,"./ar-ps":76150,"./ar-ps.js":76150,"./ar-sa":84427,"./ar-sa.js":84427,"./ar-tn":7221,"./ar-tn.js":7221,"./ar.js":93042,"./az":60458,"./az.js":60458,"./be":17596,"./be.js":17596,"./bg":93830,"./bg.js":93830,"./bm":27044,"./bm.js":27044,"./bn":58573,"./bn-bd":13296,"./bn-bd.js":13296,"./bn.js":58573,"./bo":25614,"./bo.js":25614,"./br":62041,"./br.js":62041,"./bs":91786,"./bs.js":91786,"./ca":75833,"./ca.js":75833,"./cs":52711,"./cs.js":52711,"./cv":71036,"./cv.js":71036,"./cy":84977,"./cy.js":84977,"./da":8770,"./da.js":8770,"./de":67342,"./de-at":81566,"./de-at.js":81566,"./de-ch":87544,"./de-ch.js":87544,"./de.js":67342,"./dv":82875,"./dv.js":82875,"./el":78536,"./el.js":78536,"./en-au":38617,"./en-au.js":38617,"./en-ca":79227,"./en-ca.js":79227,"./en-gb":59754,"./en-gb.js":59754,"./en-ie":37217,"./en-ie.js":37217,"./en-il":85418,"./en-il.js":85418,"./en-in":80800,"./en-in.js":80800,"./en-nz":67299,"./en-nz.js":67299,"./en-sg":76305,"./en-sg.js":76305,"./eo":8673,"./eo.js":8673,"./es":71301,"./es-do":3187,"./es-do.js":3187,"./es-mx":48223,"./es-mx.js":48223,"./es-us":37634,"./es-us.js":37634,"./es.js":71301,"./et":4976,"./et.js":4976,"./eu":11847,"./eu.js":11847,"./fa":74372,"./fa.js":74372,"./fi":41628,"./fi.js":41628,"./fil":56802,"./fil.js":56802,"./fo":42874,"./fo.js":42874,"./fr":9853,"./fr-ca":87170,"./fr-ca.js":87170,"./fr-ch":22825,"./fr-ch.js":22825,"./fr.js":9853,"./fy":68876,"./fy.js":68876,"./ga":93533,"./ga.js":93533,"./gd":82770,"./gd.js":82770,"./gl":98602,"./gl.js":98602,"./gom-deva":63059,"./gom-deva.js":63059,"./gom-latn":48212,"./gom-latn.js":48212,"./gu":23409,"./gu.js":23409,"./he":17210,"./he.js":17210,"./hi":4750,"./hi.js":4750,"./hr":51315,"./hr.js":51315,"./hu":47626,"./hu.js":47626,"./hy-am":91317,"./hy-am.js":91317,"./id":26892,"./id.js":26892,"./is":97577,"./is.js":97577,"./it":57628,"./it-ch":3046,"./it-ch.js":3046,"./it.js":57628,"./ja":92504,"./ja.js":92504,"./jv":25917,"./jv.js":25917,"./ka":64513,"./ka.js":64513,"./kk":94935,"./kk.js":94935,"./km":96661,"./km.js":96661,"./kn":89964,"./kn.js":89964,"./ko":98067,"./ko.js":98067,"./ku":61165,"./ku-kmr":85158,"./ku-kmr.js":85158,"./ku.js":61165,"./ky":11177,"./ky.js":11177,"./lb":2967,"./lb.js":2967,"./lo":81972,"./lo.js":81972,"./lt":58469,"./lt.js":58469,"./lv":33155,"./lv.js":33155,"./me":87935,"./me.js":87935,"./mi":74483,"./mi.js":74483,"./mk":32501,"./mk.js":32501,"./ml":73120,"./ml.js":73120,"./mn":20266,"./mn.js":20266,"./mr":19406,"./mr.js":19406,"./ms":80109,"./ms-my":90864,"./ms-my.js":90864,"./ms.js":80109,"./mt":22904,"./mt.js":22904,"./my":44067,"./my.js":44067,"./nb":21301,"./nb.js":21301,"./ne":81152,"./ne.js":81152,"./nl":76735,"./nl-be":97761,"./nl-be.js":97761,"./nl.js":76735,"./nn":37569,"./nn.js":37569,"./oc-lnc":20833,"./oc-lnc.js":20833,"./pa-in":3044,"./pa-in.js":3044,"./pl":34249,"./pl.js":34249,"./pt":87585,"./pt-br":26826,"./pt-br.js":26826,"./pt.js":87585,"./ro":62526,"./ro.js":62526,"./ru":62204,"./ru.js":62204,"./sd":43270,"./sd.js":43270,"./se":61541,"./se.js":61541,"./si":71921,"./si.js":71921,"./sk":49935,"./sk.js":49935,"./sl":46254,"./sl.js":46254,"./sq":59897,"./sq.js":59897,"./sr":42496,"./sr-cyrl":11135,"./sr-cyrl.js":11135,"./sr.js":42496,"./ss":32215,"./ss.js":32215,"./sv":84716,"./sv.js":84716,"./sw":50803,"./sw.js":50803,"./ta":31538,"./ta.js":31538,"./te":2302,"./te.js":2302,"./tet":25280,"./tet.js":25280,"./tg":14100,"./tg.js":14100,"./th":95385,"./th.js":95385,"./tk":736,"./tk.js":736,"./tl-ph":79726,"./tl-ph.js":79726,"./tlh":41873,"./tlh.js":41873,"./tr":36463,"./tr.js":36463,"./tzl":27491,"./tzl.js":27491,"./tzm":29500,"./tzm-latn":80196,"./tzm-latn.js":80196,"./tzm.js":29500,"./ug-cn":91287,"./ug-cn.js":91287,"./uk":35341,"./uk.js":35341,"./ur":36246,"./ur.js":36246,"./uz":55550,"./uz-latn":77254,"./uz-latn.js":77254,"./uz.js":55550,"./vi":78796,"./vi.js":78796,"./x-pseudo":22736,"./x-pseudo.js":22736,"./yo":28621,"./yo.js":28621,"./zh-cn":67601,"./zh-cn.js":67601,"./zh-hk":39053,"./zh-hk.js":39053,"./zh-mo":71248,"./zh-mo.js":71248,"./zh-tw":74725,"./zh-tw.js":74725};function n(e){var t=r(e);return o(t)}function r(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id=35358},58162:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/ZEGN_USER.ab7ee48e98c0856bd407.jpeg"},32571:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/hero-image.87d2e51026c41214df0e.jpg"},81029:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user1.7a2574d2f5544235a6c5.png"},24289:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user10.55bbb564f3b12d6a736e.png"},53198:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user2.2356c55dbde8d97f60f2.png"},52695:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user3.ceef543650ca617d5e9e.png"},30552:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user4.58378ed25cf9bc79aeb4.png"},51681:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user5.6e041c0f826063afc158.png"},10602:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user6.943d36e020756a238d35.png"},26163:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user7.1431674f298a9f88bd16.png"},244:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user8.fb62e9c497f7a3d39de8.png"},21373:(e,t,o)=>{"use strict";e.exports=o.p+"static/media/user9.fdb12560d3f0a8511959.png"}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,(()=>{var e=[];o.O=(t,a,n,r)=>{if(!a){var i=1/0;for(c=0;c<e.length;c++){for(var[a,n,r]=e[c],s=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(o.O).every((e=>o.O[e](a[l])))?a.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var r=Object.create(null);o.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&a;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>a[e]));return i.default=()=>a,o.d(r,i),r}})(),o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[])),o.u=e=>"static/js/"+e+".aaed7a5a.chunk.js",o.miniCssF=e=>{},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";o.l=(a,n,r,i)=>{if(e[a])e[a].push(n);else{var s,l;if(void 0!==r)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+r),s.src=a),e[a]=[n];var f=(t,o)=>{s.onerror=s.onload=null,clearTimeout(m);var n=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(o))),t)return t(o)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{var e={792:0};o.f.j=(t,a)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise(((o,a)=>n=e[t]=[o,a]));a.push(n[2]=r);var i=o.p+o.u(t),s=new Error;o.l(i,(a=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[i,s,l]=a,d=0;if(i.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var c=l(o)}for(t&&t(a);d<i.length;d++)r=i[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},a=self.webpackChunkweb=self.webpackChunkweb||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[619],(()=>o(55819)));a=o.O(a)})();
//# sourceMappingURL=main.848c81e8.js.map