{"version":3,"file":"static/js/main.1a088fe4.js","mappings":"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","sources":["src/styles/theme.js","src/config/config.js","src/utils/StripeService.js","src/utils/StripePlatform.js","src/context/AuthContext.js","src/components/Navigation.js","src/components/RoadmapSection.js","src/data/mockData.js","src/screens/HomeScreen.js","src/screens/ClientProfile.js","src/components/FloatingSaveButton.js","src/components/AddServiceModal.js","src/components/ProfessionalServiceCard.js","src/components/ConfirmationModal.js","src/components/ServiceManager.js","src/components/RecordedPets.js","src/components/EditableSection.js","src/components/ProfessionalTab.js","src/components/DatePicker.js","src/components/BackHeader.js","src/components/CrossPlatformView.js","src/screens/MyProfile.js","src/components/CustomButton.js","src/screens/SignIn.js","src/screens/SignUp.js","src/screens/ResetPassword.js","src/screens/ResetPasswordConfirm.js","src/screens/Dashboard.js","src/screens/SearchProfessionals.js","src/screens/ProfessionalDashboard.js","src/screens/BecomeProfessional.js","src/screens/MoreScreen.js","src/components/UnavailableTimeSlot.js","src/components/AvailabilityBookingCard.js","src/components/TimePicker.js","src/components/AddAvailabilityModal.js","src/components/DefaultSettingsModal.js","src/components/AvailabilityBottomSheet.js","src/components/UnavailableTimesModal.js","src/screens/AvailabilitySettings.js","src/screens/MyPets.js","src/screens/ClientHistory.js","src/utils/dateTimeValidation.js","src/components/AddOccurrenceModal.js","src/components/RequestBookingModal.js","src/screens/MessageHistory.js","src/components/StripeCardElement.js","src/screens/PaymentMethods.js","src/screens/Settings.js","src/screens/PrivacyPolicy.js","src/screens/ProfessionalSettings.js","src/screens/TermsOfService.js","src/screens/HelpFAQ.js","src/screens/ContactUs.js","src/components/SearchBar.js","src/screens/Clients.js","src/components/CostCalculationModal.js","src/components/ServiceCard.js","src/screens/ProfessionalProfile.js","src/components/ContractList.js","src/components/ClientPicker.js","src/components/ContractTemplate.js","src/components/ChronicleSummary.js","src/components/QuestionInput.js","src/components/ChronicleForm.js","src/screens/MyContracts.js","src/screens/ChangePassword.js","src/screens/AddPet.js","src/components/CustomMultiSelect.js","src/components/SearchRefiner.js","src/components/ProfessionalList.js","src/components/MapView.js","src/screens/SearchProfessionalsListing.js","src/components/BookingCard.js","src/screens/MyBookings.js","src/components/AddRateModal.js","src/screens/BookingDetails.js","src/screens/ServiceManagerScreen.js","src/screens/BlogScreen.js","src/screens/BlogPost.js","src/screens/Waitlist.js","App.js","src/screens/AboutScreen.js","node_modules/moment/locale|sync|/^/.//.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// theme.js\nimport { DefaultTheme } from 'react-native-paper';\n\nexport const theme = {\n  ...DefaultTheme,\n  // the regular and header fonts are the fonts used in the app\n  fonts: {\n    ...DefaultTheme.fonts,\n    regular: {\n      fontFamily: 'PlayfairDisplay',\n    },\n    header: {\n      fontFamily: 'Futura',\n    }\n  },\n  typography: {\n    header: {\n      fontFamily: 'Futura',\n    },\n    body: {\n      fontFamily: 'PlayfairDisplay',\n    }\n  },\n  colors: {\n    ...DefaultTheme.colors,\n    mainColors: {\n      main: '#6A6C51',\n      secondary: '#5D6C51',\n      tertiary: '#516C53',\n      quaternary: '#516C61',\n      quinary: '#516A6C',\n      senary: '#515D6C',\n    },\n    primary: '#6A6C51', // Primary color for buttons and header background\n    secondary: '#516C61',\n    background: '#f6f6f6',\n    backgroundContrast: '#F6F3FC',\n    calendarColor: '#A99E6B', // Olive (yellowish) color for calendar (partially unavailable, available)\n    calendarColorYellowBrown: '#8A8C6D', // Yellow-brown color for calendar (booked today, but time is available)\n    text: 'black', // Text color for text bodies\n    whiteText: 'white', // Text color for headers and buttons\n    placeHolderText: '#A9A9A9',\n    accent: '#03dac4', // Accent color if needed\n    error: '#B00020',\n    surface: '#f6f6f6',\n    border: '#6A6C51',\n    inputBackground: '#f6f6f6',\n    receivedMessage: '#e7eae6',\n    // headerBorder: '#e0e0e0',\n    danger: '#A52A2A',\n  },\n  fontSizes: {\n    small: 12,\n    smallMedium: 14,\n    medium: 16,\n    mediumLarge: 18,\n    large: 20,\n    largeLarge: 24,\n    extraLarge: 26,\n  },\n  spacing: {\n    small: 8,\n    medium: 16,\n    large: 24,\n  },\n};","// src/config/config.js\nimport { Platform } from 'react-native';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\n\nlet API_BASE_URL;\n\nif (Platform.OS === 'android') {\n  API_BASE_URL = API_BASE_URL_ANDROID;\n} else if (Platform.OS === 'ios') {\n  API_BASE_URL = API_BASE_URL_IOS;\n} else {\n  API_BASE_URL = API_BASE_URL_WEB;\n}\n\nexport { API_BASE_URL };\n","import { Platform } from 'react-native';\nimport { getStripeModule } from './StripePlatform';\nimport { API_BASE_URL_ANDROID, API_BASE_URL_IOS, API_BASE_URL_WEB } from '@env';\nimport axios from 'axios';\n\nlet stripeInstance = null;\n\n// Get the appropriate base URL based on platform\nconst getBaseUrl = () => {\n  if (Platform.OS === 'android') {\n    return API_BASE_URL_ANDROID;\n  } else if (Platform.OS === 'ios') {\n    return API_BASE_URL_IOS;\n  }\n  return API_BASE_URL_WEB;\n};\n\nexport const initStripe = async () => {\n  if (!stripeInstance) {\n    stripeInstance = await getStripeModule();\n  }\n  return stripeInstance;\n};\n\nexport const createPaymentMethod = async (paymentDetails) => {\n  try {\n    // This function now only handles native platform\n    if (Platform.OS === 'web') {\n      throw new Error('Web platform should use stripe.createPaymentMethod directly');\n    }\n\n    const stripe = await initStripe();\n    const result = await stripe.createPaymentMethod({\n      type: 'card',\n      card: paymentDetails.card,\n    });\n    \n    if (result.error) {\n      console.error('Stripe error:', result.error);\n      throw new Error(result.error.message);\n    }\n\n    return {\n      paymentMethod: {\n        id: result.paymentMethod.id,\n        last4: result.paymentMethod.card.last4,\n        brand: result.paymentMethod.card.brand,\n        type: 'card'\n      },\n      error: null,\n    };\n  } catch (error) {\n    console.error('Payment method creation error:', error);\n    return {\n      paymentMethod: null,\n      error: {\n        message: error.message || 'Failed to create payment method',\n      },\n    };\n  }\n};\n\nexport const useStripe = () => {\n  if (Platform.OS === 'web') {\n    return {\n      createPaymentMethod: async (options) => {\n        const stripe = await initStripe();\n        return stripe.createPaymentMethod(options);\n      },\n    };\n  }\n  return stripeInstance;\n}; ","import { Platform } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\n\nexport const getStripeModule = async () => {\n  if (Platform.OS === 'web') {\n    const { loadStripe } = await import('@stripe/stripe-js');\n    const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n    if (!stripe) {\n      throw new Error('Failed to initialize Stripe');\n    }\n    return stripe;\n  } else {\n    const { useStripe } = await import('@stripe/stripe-react-native');\n    return useStripe();\n  }\n}; ","import React, { createContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { Dimensions, Platform } from 'react-native';\nimport { navigate } from '../../App';\nimport { initStripe } from '../utils/StripeService';\n\nexport const SCREEN_WIDTH = Dimensions.get('window').width;\nexport const SCREEN_HEIGHT = Dimensions.get('window').height;\n\nexport const AuthContext = createContext();\n\n// Add getStorage function\nexport const getStorage = async (key) => {\n  try {\n    if (Platform.OS === 'web') {\n      return sessionStorage.getItem(key);\n    } else {\n      return await AsyncStorage.getItem(key);\n    }\n  } catch (error) {\n    console.error('Error getting from storage:', error);\n    return null;\n  }\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [isApprovedProfessional, setIsApprovedProfessional] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [screenWidth, setScreenWidth] = useState(Dimensions.get('window').width);\n  const [firstName, setFirstName] = useState('');\n\n  // SET TO \"true\" FOR NO API CALLS\n  const [is_prototype, setIsPrototype] = useState(true);\n\n  // Set is_DEBUG to false by default in prototype mode\n  const [is_DEBUG, setIsDebug] = useState(false);\n\n  // Preload Stripe modules when user signs in\n  useEffect(() => {\n    if (isSignedIn && !is_prototype) {\n      initStripe();\n    }\n  }, [isSignedIn, is_prototype]);\n\n  // Separate screen width handling from auth\n  useEffect(() => {\n    const handleDimensionsChange = ({ window }) => {\n      setScreenWidth(window.width);\n    };\n\n    const subscription = Dimensions.addEventListener('change', handleDimensionsChange);\n\n    return () => {\n      if (subscription?.remove) {\n        subscription.remove();\n      }\n    };\n  }, []); // No dependencies needed for dimension changes\n\n  // Handle initial auth state separately\n  useEffect(() => {\n    const loadInitialAuth = async () => {\n      try {\n        if (is_prototype) {\n          // In prototype mode, set default professional state\n          setIsSignedIn(true);\n          setUserRole('professional');\n          setIsApprovedProfessional(true);\n          await AsyncStorage.multiSet([\n            ['userRole', 'professional'],\n            ['isApprovedProfessional', 'true']\n          ]);\n          return;\n        }\n\n        const authStatus = await checkAuthStatus();\n        if (authStatus.isSignedIn) {\n          await fetchUserName();\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadInitialAuth();\n  }, []); // Only run on mount\n\n  const fetchUserName = async () => {\n    if (is_prototype) {\n      // In prototype mode, set a default name\n      setFirstName('John');\n      return;\n    }\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        if (is_DEBUG) {\n          console.error('No token found');\n        }\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/users/v1/get-name/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setFirstName(response.data.first_name);\n    } catch (error) {\n      console.error('Error fetching user name:', error.response ? error.response.data : error.message);\n    }\n  };\n\n  // Single useEffect for auth state management\n  useEffect(() => {\n    const loadAuthState = async () => {\n      try {\n        // Ensure storedApproval is retrieved correctly and handle null or undefined values\n        let token, storedRole, storedApproval;\n\n        if (Platform.OS === \"web\") {\n          token = sessionStorage.getItem('userToken');\n          storedRole = sessionStorage.getItem('userRole');\n          storedApproval = sessionStorage.getItem('isApprovedProfessional');\n          if (is_DEBUG) {\n            console.log(\"MBA got token:\", token, \"storedRole:\", storedRole, \"StoredApproval:\", storedApproval);\n          }\n        } else {\n          [token, storedRole, storedApproval] = await AsyncStorage.multiGet([\n            'userToken',\n            'userRole',\n            'isApprovedProfessional'\n          ]);\n        }\n\n        // Handle null or undefined storedApproval\n        const isApproved = storedApproval ? storedApproval[1] === 'true' : false;\n\n        // If we have stored values, use them\n        if (token) {\n          if (is_DEBUG) {\n            console.log(\"MBA got into load auth state if token. storedRole:\", storedRole);\n          }\n          setIsSignedIn(true);\n          setUserRole(storedRole || 'petOwner');\n          setIsApprovedProfessional(isApproved);\n\n          if (is_DEBUG) {\n            console.log('Initial auth state set:', {\n              role: storedRole || 'petOwner',\n              isApproved: isApproved\n            });\n          }\n        } else {\n          if (is_DEBUG) {\n            console.log('No token found, setting to signed out state');\n          }\n          setIsSignedIn(false);\n          setUserRole(null);\n          setIsApprovedProfessional(false);\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setLoading(false);\n        if (is_DEBUG) {\n          console.log('Finished loadAuthState');\n        }\n      }\n    };\n\n    loadAuthState();\n  }, []); // Only run on mount\n\n  useEffect(() => {\n    if (isSignedIn) {\n      fetchUserName();\n    }\n  }, [isSignedIn]);\n\n  const getProfessionalStatus = async (token) => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/professional-status/v1/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      console.log('Professional status response:', response.data);\n      \n      const { is_approved } = response.data;\n      \n      // Set approval status only\n      setIsApprovedProfessional(is_approved);\n      await AsyncStorage.setItem('isApprovedProfessional', String(is_approved));\n      \n      // Just return the status without modifying roles\n      return {\n        isApprovedProfessional: is_approved,\n        suggestedRole: is_approved ? 'professional' : 'petOwner'\n      };\n    } catch (error) {\n      console.error('Error getting professional status:', error.response?.data || error);\n      return {\n        isApprovedProfessional: false,\n        suggestedRole: 'petOwner'\n      };\n    }\n  };\n\n  const signIn = async (token, refreshTokenValue) => {\n    try {\n      if (Platform.OS === \"web\") {\n        sessionStorage.setItem('userToken', token);\n        sessionStorage.setItem('refreshToken', refreshTokenValue);\n      } else {\n        await AsyncStorage.multiSet([\n          ['userToken', token],\n          ['refreshToken', refreshTokenValue],\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log('MBA sign in token', token, 'refreshToken', refreshTokenValue);\n      }\n      setIsSignedIn(true);\n      \n      if (is_prototype) {\n        // In prototype mode, set default values without API calls\n        const initialRole = 'professional';\n        setUserRole(initialRole);\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('userRole', initialRole);\n        } else {\n          await AsyncStorage.setItem('userRole', initialRole);\n        }\n        setIsApprovedProfessional(true);\n        return {\n          userRole: initialRole,\n          isApprovedProfessional: true\n        };\n      }\n      \n      // Get professional status and set initial role\n      const status = await getProfessionalStatus(token);\n\n      const initialRole = status.suggestedRole;\n      \n      // Set and store the role\n      setUserRole(initialRole);\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userRole', initialRole);\n      } else {\n        await AsyncStorage.setItem('userRole', initialRole);\n      }\n      \n      // Add logging to track access and refresh tokens during signIn\n      if (is_DEBUG) {\n        console.log('Access token stored:', token);\n        console.log('Refresh token stored:', refreshTokenValue);\n      }\n\n      return {\n        userRole: initialRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error during sign in:', error);\n      throw error;\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await AsyncStorage.multiRemove([\n        'userToken', \n        'refreshToken', \n        'userRole', \n        'isApprovedProfessional'\n      ]);\n\n      await sessionStorage.removeItem('userToken');\n      await sessionStorage.removeItem('refreshToken');\n      await sessionStorage.removeItem('userRole');\n      await sessionStorage.removeItem('isApprovedProfessional');\n    } catch (error) {\n      console.error('Error clearing storage:', error);\n    }\n\n    // Set state updates\n    setIsSignedIn(false);\n    setIsApprovedProfessional(false);\n    setUserRole(null);\n\n    // Ensure state updates are processed before navigation\n    setTimeout(() => {\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('explicitSignOut', 'true');\n      }\n      navigate('SignIn');\n    }, 0);\n  };\n\n  const switchRole = async () => {\n    if (isApprovedProfessional) {\n      if (is_DEBUG) {\n        console.log(\"MBA userRole\", userRole);\n      }\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      setUserRole(newRole);\n      try {\n        if (Platform.OS === \"web\") {\n          sessionStorage.setItem('userRole', newRole);\n        } else {\n          await AsyncStorage.setItem('userRole', newRole);\n        }\n        \n        // Verify the role was stored correctly\n        const storedRole = Platform.OS === \"web\" ? sessionStorage.getItem('userRole') : await AsyncStorage.getItem('userRole');\n        console.log(\"MBA Stored role:\", storedRole);\n\n        console.log(\"MBA New role:\", newRole);\n\n      } catch (error) {\n        console.error('Error updating role in storage:', error);\n      }\n    } else {\n      console.log('User is not an approved professional, cannot switch roles');\n    }\n\n    // Add logging in switchRole to track isApprovedProfessional state\n    console.log('Switching role. Current isApprovedProfessional:', isApprovedProfessional);\n  };\n\n  const validateToken = async (token) => {\n    try {\n      if (is_prototype) {\n        // In prototype mode, always return true for token validation\n        if (is_DEBUG) {\n          console.log('Prototype mode: Mock token validation successful');\n        }\n        return true;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/verify/`, {\n        token: token\n      });\n\n      return true;\n    } catch (error) {\n      console.log('Token validation error:', error.response?.status);\n      return false;\n    }\n  };\n\n  const refreshUserToken = async (refreshToken) => {\n    try {\n      if (is_prototype) {\n        // In prototype mode, return a mock token\n        if (is_DEBUG) {\n          console.log('Prototype mode: Mock token refresh successful');\n        }\n        const mockNewToken = 'mock_refreshed_token';\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('userToken', mockNewToken);\n        } else {\n          await AsyncStorage.setItem('userToken', mockNewToken);\n        }\n        return mockNewToken;\n      }\n\n      // Ensure refresh token is retrieved correctly in refreshUserToken\n      const refreshToken = Platform.OS === \"web\" ? sessionStorage.getItem('refreshToken') : await AsyncStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        console.error('No refresh token found');\n        return null;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken\n      });\n      const newToken = response.data.access;\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('userToken', newToken);\n      } else {\n        await AsyncStorage.setItem('userToken', newToken);\n      }\n      return newToken;\n    } catch (error) {\n      console.error('Error refreshing token:', error.response?.status);\n      return null;\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      // Check for explicit sign out flag first\n      if (Platform.OS === 'web') {\n        const wasExplicitSignOut = sessionStorage.getItem('explicitSignOut') === 'true';\n        if (wasExplicitSignOut) {\n          // Clear the flag\n          sessionStorage.removeItem('explicitSignOut');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n      }\n\n      // Get current route/path\n      let currentPath = '';\n      if (Platform.OS === 'web') {\n        currentPath = window.location.pathname.slice(1);\n      } else {\n        currentPath = await AsyncStorage.getItem('currentRoute');\n      }\n\n      // Check if we're on the home page or root URL\n      const isHomePage = !currentPath || currentPath === '' || currentPath.toLowerCase() === 'home';\n\n      if (is_prototype) {\n        const token = Platform.OS === \"web\" ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n        if (!token) {\n          if (is_DEBUG) {\n            console.log('Prototype mode: No token found, signing out');\n          }\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n\n        if (is_DEBUG) {\n          console.log('Prototype mode: Token found, setting signed in state');\n        }\n        setIsSignedIn(true);\n        const storedRole = Platform.OS === \"web\" ? sessionStorage.getItem('userRole') : await AsyncStorage.getItem('userRole');\n\n        if (is_DEBUG) {\n          console.log(\"MBA setting user role\", storedRole);\n        }\n        setUserRole(storedRole === 'professional' || storedRole === 'petOwner' ? storedRole : 'petOwner');\n        setIsApprovedProfessional(true);\n        return {\n          isSignedIn: true,\n          userRole: storedRole === 'professional' || storedRole === 'petOwner' ? storedRole : 'petOwner',\n          isApprovedProfessional: true\n        };\n      }\n\n      let token, refreshToken, storedRole, storedApproval;\n\n      if (Platform.OS === \"web\") {\n        token = sessionStorage.getItem('userToken');\n        refreshToken = sessionStorage.getItem('refreshToken');\n        storedRole = sessionStorage.getItem('userRole');\n        storedApproval = sessionStorage.getItem('isApprovedProfessional');\n      } else {\n        [token, refreshToken, storedRole, storedApproval] = await AsyncStorage.multiGet([\n          'userToken',\n          'refreshToken',\n          'userRole',\n          'isApprovedProfessional'\n        ]);\n      }\n\n      if (is_DEBUG) {\n        console.log(\"MBA userToken:\", token);\n        console.log(\"MBA refreshToken:\", refreshToken);\n        console.log(\"MBA storedRole:\", storedRole);\n        console.log(\"MBA isApprovedProfessional:\", isApprovedProfessional);\n        console.log(\"MBA storedApproval:\", storedApproval);\n        console.log(\"Current path:\", currentPath);\n        console.log(\"Is home page:\", isHomePage);\n      }\n\n      // Handle no tokens scenario\n      if (!token || !refreshToken) {\n        console.log('No tokens found - handling based on current route');\n        \n        // If we're on the home page or root URL, just return unauthenticated state\n        if (isHomePage) {\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        \n        // For any other page, sign out and redirect\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // Rest of the existing token validation logic\n      let currentToken = token;\n      let isValid = false;\n\n      if (currentToken) {\n        isValid = await validateToken(currentToken);\n      }\n\n      if (!isValid && refreshToken) {\n        const newToken = await refreshUserToken(refreshToken);\n        if (newToken) {\n          currentToken = newToken;\n          isValid = true;\n        }\n      }\n\n      if (!isValid) {\n        console.log('No valid token available - handling based on current route');\n        if (isHomePage) {\n          navigate('Home');\n          return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n        }\n        await signOut();\n        return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n      }\n\n      // At this point we have a valid token\n      console.log('Token validation successful, checking professional status with token:', currentToken);\n      const status = await getProfessionalStatus(currentToken);\n      console.log('Professional status check result:', status);\n\n      setIsSignedIn(true);\n      setIsApprovedProfessional(status.isApprovedProfessional);\n\n      // If on SearchProfessionalsListing, force petOwner role but don't store it\n      if (currentPath === 'SearchProfessionalsListing') {\n        setUserRole('petOwner');\n        return {\n          isSignedIn: true,\n          userRole: 'petOwner',\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // For all other cases, use the stored role if it exists\n      if (storedRole) {\n        const role = storedRole;\n\n        setUserRole(role);\n        return {\n          isSignedIn: true,\n          userRole: role,\n          isApprovedProfessional: status.isApprovedProfessional\n        };\n      }\n\n      // Only set a new role if we don't have one stored (first login)\n\n      const newRole = status.suggestedRole || 'petOwner';\n\n      setUserRole(newRole);\n      await AsyncStorage.setItem('userRole', newRole);\n\n      return {\n        isSignedIn: true,\n        userRole: newRole,\n        isApprovedProfessional: status.isApprovedProfessional\n      };\n    } catch (error) {\n      console.error('Error in checkAuthStatus:', error);\n      await signOut();\n      return { isSignedIn: false, userRole: null, isApprovedProfessional: false };\n    } finally {\n      if (is_DEBUG) {\n        console.log('=== Ending checkAuthStatus ===');\n      }\n    }\n  };\n\n  // Add useEffect to persist role changes\n  useEffect(() => {\n    if (is_prototype && isSignedIn) {\n      AsyncStorage.setItem('userRole', userRole || 'professional');\n      AsyncStorage.setItem('isApprovedProfessional', String(isApprovedProfessional));\n    }\n  }, [is_prototype, isSignedIn, userRole, isApprovedProfessional]);\n\n  // Ensure isApprovedProfessional is set to true in prototype mode\n  useEffect(() => {\n    if (is_prototype) {\n      setIsApprovedProfessional(true);\n      if (is_DEBUG) {\n        console.log('Prototype mode: isApprovedProfessional set to true');\n      }\n    }\n  }, [is_prototype]);\n\n  return (\n    <AuthContext.Provider value={{ \n      isSignedIn, \n      setIsSignedIn,\n      userRole,\n      setUserRole,\n      isApprovedProfessional, \n      setIsApprovedProfessional,\n      loading,\n      signIn,\n      signOut,\n      switchRole,\n      screenWidth,\n      checkAuthStatus,\n      firstName,\n      is_prototype,\n      setIsPrototype,\n      is_DEBUG,\n      setIsDebug\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Dimensions, Platform, SafeAreaView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Appbar, Menu, useTheme } from 'react-native-paper';\n\nlet previousRoute, currentRoute;\n\nexport const handleBack = async (navigation) => {\n  try {\n    if (Platform.OS === 'web') {\n      previousRoute = sessionStorage.getItem('previousRoute');\n      currentRoute = sessionStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        sessionStorage.setItem('currentRoute', previousRoute);\n        sessionStorage.setItem('previousRoute', currentRoute);\n        // if (is_DEBUG) {\n        //   console.log('Previous Route:', previousRoute);\n        //   console.log('Current Route:', currentRoute);\n        // }\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    } else {\n      previousRoute = await AsyncStorage.getItem('previousRoute');\n      currentRoute = await AsyncStorage.getItem('currentRoute');\n      \n      if (previousRoute) {\n        await AsyncStorage.setItem('currentRoute', previousRoute);\n        await AsyncStorage.setItem('previousRoute', currentRoute);\n        // console.log('Previous Route:', previousRoute);\n        // console.log('Current Route:', currentRoute);\n        navigation.navigate(previousRoute);\n      } else {\n        // Default to More screen if no previous route\n        navigation.navigate('More');\n      }\n    }\n\n    if (previousRoute === currentRoute) {\n      // console.log('Two routes are the same');\n      navigation.navigate('More');\n      return;\n    }\n  } catch (error) {\n    console.error('Error handling back navigation:', error);\n    navigation.navigate('More');\n  }\n};\n\nexport const navigateToFrom = async (navigation, toLocation, fromLocation, params = {}) => {\n  try {\n    // if (is_DEBUG) {\n    //   console.log('Navigating from:', fromLocation, 'to:', toLocation);\n    // }\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('previousRoute', fromLocation);\n      sessionStorage.setItem('currentRoute', toLocation);\n      // console.log('Web - Set previousRoute:', fromLocation);\n      // console.log('Web - Set currentRoute:', toLocation);\n    } else {\n      await AsyncStorage.setItem('previousRoute', fromLocation);\n      await AsyncStorage.setItem('currentRoute', toLocation);\n      // console.log('Mobile - Set previousRoute:', fromLocation);\n      // console.log('Mobile - Set currentRoute:', toLocation);\n    }\n    setTimeout(() => {\n      navigation.navigate(toLocation, params);\n    }, 50);\n  } catch (error) {\n    console.error('Error navigating:', error);\n    navigation.navigate(toLocation, params);\n  }\n};\n\nexport default function Navigation({ navigation }) {\n  const [visible, setVisible] = useState(false);\n  const [isMobile, setIsMobile] = useState(Dimensions.get('window').width < 900);\n  const { colors } = useTheme();\n  const { isSignedIn, is_DEBUG, userRole } = useContext(AuthContext);\n\n  const openMenu = () => setVisible(true);\n  const closeMenu = () => setVisible(false);\n\n  useEffect(() => {\n    const updateLayout = () => {\n      setIsMobile(Dimensions.get('window').width < 900);\n    };\n\n    const subscription = Dimensions.addEventListener('change', updateLayout);\n\n    return () => {\n      subscription?.remove();\n    };\n  }, []);\n\n  const professionalsTitle = Platform.OS === 'web' ? 'Search Pros' : 'Professionals';\n\n  const handleNavigation = async (screenName) => {\n    closeMenu();\n    if (is_DEBUG) {\n      console.log('Screen name:', screenName);\n    }\n    try {\n      if (Platform.OS === 'web') {\n        // Web: Use sessionStorage\n        const currentRoute = sessionStorage.getItem('currentRoute');\n        if (currentRoute) {\n          sessionStorage.setItem('previousRoute', currentRoute);\n        }\n        sessionStorage.setItem('currentRoute', screenName);\n      } else {\n        // Mobile: Use AsyncStorage\n        const currentRoute = await AsyncStorage.getItem('currentRoute');\n        if (currentRoute) {\n          await AsyncStorage.setItem('previousRoute', currentRoute);\n        }\n        await AsyncStorage.setItem('currentRoute', screenName);\n      }\n      navigation.navigate(screenName);\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(screenName);\n    }\n  };\n\n  // Initialize route tracking on component mount\n  useEffect(() => {\n    const initializeRouteTracking = async () => {\n      try {\n        if (Platform.OS === 'web') {\n          // Web: Use sessionStorage\n          const currentRoute = sessionStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            sessionStorage.setItem('currentRoute', initialRoute);\n          }\n        } else {\n          // Mobile: Use AsyncStorage\n          const currentRoute = await AsyncStorage.getItem('currentRoute');\n          if (!currentRoute) {\n            const initialRoute = isSignedIn \n              ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n              : 'Home';\n            await AsyncStorage.setItem('currentRoute', initialRoute);\n          }\n        }\n      } catch (error) {\n        console.error('Error initializing route tracking:', error);\n      }\n    };\n\n    initializeRouteTracking();\n  }, [isSignedIn, userRole]);\n\n  const renderMenuItems = () => {\n    if (!isSignedIn) {\n      return [\n        { title: 'Home', icon: 'home', route: 'Home' },\n        { title: 'Sign In', icon: 'login', route: 'SignIn' },\n        { title: 'Sign Up', icon: 'account-plus', route: 'SignUp' },\n        { title: 'Become Pro', icon: 'clipboard-text-outline', route: 'Waitlist' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else if (userRole === 'professional') {\n      return [\n        { title: 'Pro Dashboard', icon: 'view-dashboard', route: 'ProfessionalDashboard' },\n        { title: 'MyBookings', icon: 'account-group', route: 'MyBookings' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Availability', icon: 'clock-outline', route: 'AvailabilitySettings' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    } else {\n      return [\n        { title: 'Dashboard', icon: 'view-dashboard', route: 'Dashboard' },\n        { title: professionalsTitle, icon: 'magnify', route: 'SearchProfessionalsListing' },\n        { title: 'Messages', icon: 'message-text', route: 'MessageHistory' },\n        { title: 'Become a Pro', icon: 'paw', route: 'BecomeProfessional' },\n        { title: 'More', icon: 'dots-horizontal', route: 'More' },\n      ];\n    }\n  };\n\n  const renderMobileNavBar = () => {\n    const menuItems = renderMenuItems();\n    const itemWidth = Dimensions.get('window').width / menuItems.length;\n    return (\n      <View style={styles.customNavBar}>\n        {menuItems.map((item, index) => (\n          <TouchableOpacity\n            key={index}\n            style={[styles.navButton, { width: itemWidth }]}\n            onPress={() => handleNavigation(item.route)}\n          >\n            <MaterialCommunityIcons \n              name={item.icon} \n              size={24} \n              color={theme.colors.whiteText} \n            />\n            <Text style={styles.navText} numberOfLines={2} ellipsizeMode=\"tail\">\n              {item.title}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  };\n\n  const renderWebNavItems = () => {\n    const menuItems = renderMenuItems();\n    return menuItems.map((item, index) => (\n      <TouchableOpacity\n        key={index}\n        style={styles.webNavItem}\n        onPress={() => handleNavigation(item.route)}\n      >\n        <Text style={styles.webNavText}>{item.title}</Text>\n      </TouchableOpacity>\n    ));\n  };\n\n  return (\n    <>\n      {Platform.OS === 'web' ? (\n        <Appbar.Header style={[styles.header, { backgroundColor: colors.primary }]}>\n          <View style={styles.titleContainer}>\n            <TouchableOpacity onPress={() => handleNavigation('Home')} style={{ width: 150 }}>\n              <Text style={[styles.title, { color: colors.whiteText, width: 110 }]}>CrittrCove</Text>\n            </TouchableOpacity>\n          </View>\n          {isMobile ? (\n            <Menu\n              visible={visible}\n              onDismiss={closeMenu}\n              anchor={\n                <Appbar.Action\n                  icon={() => <MaterialCommunityIcons name=\"menu\" size={24} color={colors.whiteText} />}\n                  onPress={openMenu}\n                />\n              }\n            >\n              {renderMenuItems().map((item, index) => (\n                <Menu.Item \n                  key={index} \n                  onPress={() => handleNavigation(item.route)} \n                  title={item.title}\n                  titleStyle={{ fontFamily: theme.fonts.regular.fontFamily, fontWeight: '600' }}\n                />\n              ))}\n            </Menu>\n          ) : (\n            <View style={styles.desktopNav}>\n              {renderWebNavItems()}\n            </View>\n          )}\n        </Appbar.Header>\n      ) : (\n        <View style={styles.container}>\n          {renderMobileNavBar()}\n        </View>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    backgroundColor: theme.colors.primary,\n  },\n  content: {\n    flex: 1,\n  },\n  header: {\n    backgroundColor: theme.colors.primary,\n  },\n  titleContainer: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  title: {\n    textAlign: 'left',\n    marginLeft: theme.spacing.medium,\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  desktopNav: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  navItem: {\n    marginHorizontal: theme.spacing.medium,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    cursor: 'pointer',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  customNavBar: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    paddingVertical: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  navButton: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 60,\n    paddingHorizontal: 5,\n  },\n  navText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n    marginTop: 5,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n  webNavItem: {\n    marginHorizontal: theme.spacing.medium,\n  },\n  webNavText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  },\n});\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet, Modal, Platform } from 'react-native';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\n\nconst RoadmapSection = () => {\n  const [selectedMilestone, setSelectedMilestone] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const { screenWidth } = useContext(AuthContext);\n  const isMobile = screenWidth < 768;\n\n  const roadmapData = [\n    {\n      id: 1,\n    //   number: '01',\n      title: 'Prototype Launch',\n      description: 'Initial release of CrittrCove webpage and landing page with no signup or app functionality.',\n      icon: 'dog',\n      color: theme.colors.mainColors.senary // Royal Blue\n    },\n    {\n      id: 2,\n    //   number: '02',\n      title: 'Launch of MVP',\n      description: 'This is when users will be able to sign up and use the app fully for the first time on the website! For a full feature list, please check our blog or discord.',\n      icon: 'dragon',\n      color: theme.colors.mainColors.quinary // Medium Purple\n    },\n    {\n      id: 3,\n    //   number: '03',\n      title: 'Launch of App',\n      description: 'Mobile app release with real-time messaging, notifications, and payment integration. For a full feature list, please check our blog or discord.',\n      icon: 'cat',\n      color: theme.colors.mainColors.quaternary // Royal Blue\n    },\n    {\n      id: 4,\n    //   number: '04',\n      title: 'Community Features',\n      description: 'Adding social features, pet communities, and expert advice forums.',\n      icon: 'fish',\n      color: theme.colors.mainColors.main // Medium Purple\n    }\n  ];\n\n  const handleMilestonePress = (milestone) => {\n    setSelectedMilestone(milestone);\n    setModalVisible(true);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Roadmap</Text>\n      \n      {isMobile ? (\n        // Mobile Layout\n        <View style={styles.mobileContainer}>\n          {roadmapData.map((milestone, index) => (\n            <View key={milestone.id} style={[\n              styles.mobileItemContainer,\n              index === roadmapData.length - 1 ? { marginBottom: 0 } : null\n            ]}>\n              <TouchableOpacity\n                style={styles.mobileMarker}\n                onPress={() => handleMilestonePress(milestone)}\n              >\n                <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                  <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n                </View>\n              </TouchableOpacity>\n              <Text style={styles.mobileMilestoneTitle}>{milestone.title}</Text>\n              {index < roadmapData.length - 1 && (\n                <View style={styles.mobileDashedLine} />\n              )}\n            </View>\n          ))}\n        </View>\n      ) : (\n        // Web Layout\n        <View style={styles.webContainer}>\n          <View style={[styles.dashedLine, {\n            width: '80%',\n            left: '10%'\n          }]} />\n          {roadmapData.map((milestone, index) => (\n            <TouchableOpacity\n              key={milestone.id}\n              style={[\n                styles.webMarker,\n                { \n                  left: `${10 + (index * (80 / (roadmapData.length - 1)))}%`,\n                }\n              ]}\n              onPress={() => handleMilestonePress(milestone)}\n            >\n              <View style={[styles.markerContainer, { backgroundColor: milestone.color }]}>\n                <FontAwesome5 name={milestone.icon} size={24} color=\"white\" />\n              </View>\n              <Text style={styles.webMilestoneTitle}>{milestone.title}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      )}\n\n      {/* Modal for milestone details */}\n      <Modal\n        visible={modalVisible}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalOverlay}>\n          <View style={styles.modalContent}>\n            {selectedMilestone && (\n              <>\n                <View style={[styles.modalIconContainer, { backgroundColor: selectedMilestone.color }]}>\n                  <Text style={styles.modalNumber}>{selectedMilestone.number}</Text>\n                  <FontAwesome5 \n                    name={selectedMilestone.icon} \n                    size={40} \n                    color=\"white\"\n                  />\n                </View>\n                <Text style={styles.modalTitle}>{selectedMilestone.title}</Text>\n                <Text style={styles.modalDescription}>\n                  {selectedMilestone.description}\n                </Text>\n                <TouchableOpacity\n                  style={[styles.closeButton, { backgroundColor: selectedMilestone.color }]}\n                  onPress={() => setModalVisible(false)}\n                >\n                  <Text style={styles.closeButtonText}>Close</Text>\n                </TouchableOpacity>\n              </>\n            )}\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 40,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileContainer: {\n    width: '100%',\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  mobileItemContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 80,\n    position: 'relative',\n  },\n  mobileMarker: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  mobileMilestoneTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    marginTop: 15,\n    textAlign: 'center',\n    marginBottom: 30,\n  },\n  mobileDashedLine: {\n    position: 'absolute',\n    width: 2,\n    height: 60,\n    bottom: -50,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webContainer: {\n    // height: 200,\n    position: 'relative',\n    marginTop: 20,\n    marginBottom: 120,\n    width: '100%',\n  },\n  dashedLine: {\n    position: 'absolute',\n    height: 2,\n    top: 30,\n    borderStyle: 'dashed',\n    borderWidth: 1,\n    borderColor: '#333',\n  },\n  webMarker: {\n    position: 'absolute',\n    alignItems: 'center',\n    width: 120,\n    transform: [{ translateX: -60 }], // Center the marker\n  },\n  webMilestoneTitle: {\n    marginTop: 10,\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    textAlign: 'center',\n  },\n  markerContainer: {\n    width: 60,\n    height: 60,\n    borderRadius: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 15,\n    width: '90%',\n    maxWidth: 400,\n    alignItems: 'center',\n  },\n  modalIconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalNumber: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: 'bold',\n    position: 'absolute',\n    top: 10,\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    lineHeight: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  closeButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '100%',\n    alignItems: 'center',\n  },\n  closeButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\nexport default RoadmapSection; ","// First, declare the BOOKING_STATES constant\nexport const BOOKING_STATES = {\n  // # Initial States\n  DRAFT: 'Draft',\n  PENDING_INITIAL_PROFESSIONAL_CHANGES: 'Pending initial Professional Changes',\n    \n  // # Review States\n  PENDING_PROFESSIONAL_CHANGES: 'Pending Professional Changes',\n  PENDING_CLIENT_APPROVAL: 'Pending Client Approval',\n    \n  // # Active States\n  CONFIRMED: 'Confirmed',\n  CONFIRMED_PENDING_PROFESSIONAL_CHANGES: 'Confirmed Pending Professional Changes',\n  CONFIRMED_PENDING_CLIENT_APPROVAL: 'Confirmed Pending Client Approval',\n    \n  // # Terminal States\n  COMPLETED: 'Completed',\n  DENIED: 'Denied',\n  CANCELLED: 'Cancelled',\n\n  // # States where professionals can edit\n  PROFESSIONAL_EDITABLE_STATES: [\n    'Draft',\n    'Pending initial Professional Changes',\n    'Pending Professional Changes',\n    'Confirmed Pending Professional Changes',\n    'Confirmed'\n  ]\n};\n\nexport const ALL_SERVICES = \"All Services\";\nexport const SERVICE_TYPES = [\n  ALL_SERVICES,\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\",\n];\n\nexport const TIME_OPTIONS = [\n  '15 min',\n  '30 min',\n  '45 min',\n  '1 hr',\n  '2 hr',\n  '4 hr',\n  '8 hr',\n  '24 hr',\n  'overnight',\n  'per day',\n  'per visit'\n];\n\nexport const mockAdditionalRates = {\n  'Fish Tank Cleaning': [\n    { title: 'Extended Stay (7+ days)', amount: 15 },\n    { title: 'Pickup/Dropoff Service', amount: 25 },\n    { title: 'Special Diet Handling', amount: 10 },\n    { title: 'Medication Administration', amount: 15 },\n  ],\n  'Ferrier': [\n    { title: 'Extended Hours', amount: 20 },\n    { title: 'Training Session', amount: 30 },\n    { title: 'Grooming', amount: 25 },\n  ],\n  'Dog Walking': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Plant Watering', amount: 5 },\n    { title: 'Photo Updates', amount: 5 },\n  ],\n  'Reptile Boarding & Habitat Maintenance': [\n    { title: 'Plant Watering', amount: 10 },\n    { title: 'Mail Collection', amount: 5 },\n    { title: 'Extended Visit (4+ hrs)', amount: 30 },\n  ],\n  'Bird Feeding': [\n    { title: 'Extra 15 Minutes', amount: 10 },\n    { title: 'Multiple Route Options', amount: 5 },\n    { title: 'Training During Walk', amount: 20 },\n  ],\n};\n\nexport const mockServicesForCards = [\n  {\n    id: 1,\n    name: 'Fish Tank Cleaning',\n    startingPrice: 25,\n    animalTypes: ['Fish'],\n    icon: 'fish',\n    additionalRates: mockAdditionalRates['Fish Tank Cleaning']\n  },\n  {\n    id: 2,\n    name: 'Ferrier',\n    startingPrice: 30,\n    animalTypes: ['Dogs'],\n    icon: 'horse',\n    additionalRates: mockAdditionalRates['Ferrier']\n  },\n  {\n    id: 3,\n    name: 'Dog Walking',\n    startingPrice: 40,\n    animalTypes: ['Dogs'],\n    icon: 'dog',\n    additionalRates: mockAdditionalRates['Dog Walking']\n  },\n  {\n    id: 4,\n    name: 'Reptile Boarding & Habitat Maintenance',\n    startingPrice: 35,\n    animalTypes: ['Reptiles'],\n    icon: 'snake',\n    additionalRates: mockAdditionalRates['Reptile Boarding & Habitat Maintenance']\n  },\n  {\n    id: 5,\n    name: 'Bird Feeding',\n    startingPrice: 45,\n    animalTypes: ['Birds'],\n    icon: 'bird',\n    additionalRates: mockAdditionalRates['Bird Feeding']\n  }\n];\n\nexport const GENERAL_CATEGORIES = [\n  'Farm Animals', \n  'Domestic',\n  'Exotic',\n  'Aquatic',\n  'Invertibrates',\n];\n\nexport const mockPets = [\n  {\n    id: '1',\n    name: 'Max',\n    animal_type: 'Dog',\n    breed: 'border collie',\n    age: {\n      months: 0,\n      years: 5,\n    },\n    weight: 32,\n    sex: 'Male',\n    friendlyWithChildren: true,\n    friendlyWithCats: false,\n    friendlyWithDogs: true,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: true,\n    adoptionDate: '2020-01-15',\n    description: 'Loves to play fetch and go for walks.',\n    energyLevel: 'High',\n    feedingSchedule: 'Morning',\n    leftAlone: '1-4 hours',\n    medication: null,\n    additionalInstructions: 'Needs daily exercise.',\n    vetName: 'Dr. Smith',\n    vetAddress: '123 Vet St.',\n    vetPhone: '555-1234',\n    insuranceProvider: 'Pet Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '2',\n    name: 'Whiskers',\n    animal_type: 'Cat',\n    breed: 'tammy ammy',\n    age: {\n      months: 3,\n      years: 4,\n    },\n    weight: 16,\n    sex: 'Female',\n    friendlyWithChildren: true,\n    friendlyWithCats: true,\n    friendlyWithDogs: false,\n    spayedNeutered: true,\n    houseTrained: true,\n    microchipped: false,\n    adoptionDate: '2019-05-20',\n    description: 'Enjoys lounging in the sun.',\n    energyLevel: 'Low',\n    feedingSchedule: 'Twice a day',\n    leftAlone: '4-8 hours',\n    medication: null,\n    additionalInstructions: 'Prefers quiet environments.',\n    vetName: 'Dr. Jones',\n    vetAddress: '456 Vet Ave.',\n    vetPhone: '555-5678',\n    insuranceProvider: 'Pet Health Insurance',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n  {\n    id: '3',\n    name: 'Buddy',\n    animal_type: 'snake',\n    breed: 'leopard gecko',\n    age: {\n      months: 0,\n      years: 2,\n    },\n    weight: 1,\n    sex: 'Male',\n    friendlyWithChildren: false,\n    friendlyWithCats: false,\n    friendlyWithDogs: false,\n    spayedNeutered: false,\n    houseTrained: false,\n    microchipped: false,\n    adoptionDate: '2021-08-10',\n    description: 'A calm and quiet pet.',\n    energyLevel: 'Low',\n    feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n    leftAlone: 'Can be left alone indefinitely',\n    medication: null,\n    additionalInstructions: 'Keep in a warm environment.',\n    vetName: 'Dr. Green',\n    vetAddress: '789 Vet Blvd.',\n    vetPhone: '555-9012',\n    insuranceProvider: 'Reptile Insurance Co.',\n    vetDocuments: [],\n    galleryImages: [],\n  },\n];\n\nexport const mockProfessionals = [\n  {\n    id: '1',\n    name: 'John Doe',\n    profilePicture: require('../../assets/user1.png'),\n    reviews: 4.5,\n    price: 25,\n    bio: 'Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.Experienced with all types of pets.',\n    location: 'Colorado Springs, CO',\n    coordinates: { latitude: 38.8339, longitude: -104.8214 },\n    serviceTypes: ['House Sitting', 'Dog Walking'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '2',\n    name: 'Jane Smith',\n    profilePicture: require('../../assets/user2.png'),\n    reviews: 4.8,\n    price: 30,\n    bio: 'Specialized in exotic pets.',\n    location: 'Manitou Springs, CO',\n    coordinates: { latitude: 38.8597, longitude: -104.9172 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '3',\n    name: 'Mike Wilson',\n    profilePicture: require('../../assets/user3.png'),\n    reviews: 4.7,\n    price: 28,\n    bio: 'Dog trainer with 5 years experience.',\n    location: 'Security-Widefield, CO',\n    coordinates: { latitude: 38.7478, longitude: -104.7288 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '4',\n    name: 'Sarah Johnson',\n    profilePicture: require('../../assets/user4.png'),\n    reviews: 4.9,\n    price: 35,\n    bio: 'Veterinary technician, great with medical needs.',\n    location: 'Fountain, CO',\n    coordinates: { latitude: 38.6822, longitude: -104.7008 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats', 'exotics'],\n  },\n  {\n    id: '5',\n    name: 'Tom Brown',\n    profilePicture: require('../../assets/user5.png'),\n    reviews: 4.6,\n    price: 27,\n    bio: 'Experienced with large breeds.',\n    location: 'Black Forest, CO',\n    coordinates: { latitude: 39.0128, longitude: -104.7008 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  // Additional professionals further out\n  {\n    id: '6',\n    name: 'Lisa Anderson',\n    profilePicture: require('../../assets/user6.png'),\n    reviews: 4.4,\n    price: 32,\n    bio: 'Experienced with birds and small animals.',\n    location: 'Monument, CO',\n    coordinates: { latitude: 39.0917, longitude: -104.8722 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics', 'cats'],\n  },\n  {\n    id: '7',\n    name: 'David Clark',\n    profilePicture: require('../../assets/user7.png'),\n    reviews: 4.7,\n    price: 29,\n    bio: 'Specializing in puppy care and training.',\n    location: 'Woodland Park, CO',\n    coordinates: { latitude: 38.9939, longitude: -105.0569 },\n    serviceTypes: ['Dog Walking', 'Training'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '8',\n    name: 'Emma White',\n    profilePicture: require('../../assets/user8.png'),\n    reviews: 4.8,\n    price: 33,\n    bio: 'Experienced with senior pets.',\n    location: 'Pueblo West, CO',\n    coordinates: { latitude: 38.3494, longitude: -104.7224 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['dogs', 'cats'],\n  },\n  {\n    id: '9',\n    name: 'James Miller',\n    profilePicture: require('../../assets/user9.png'),\n    reviews: 4.5,\n    price: 26,\n    bio: 'Great with high-energy dogs.',\n    location: 'Castle Rock, CO',\n    coordinates: { latitude: 39.3722, longitude: -104.8561 },\n    serviceTypes: ['Dog Walking', 'House Sitting'],\n    animalTypes: ['dogs'],\n  },\n  {\n    id: '10',\n    name: 'Rachel Green',\n    profilePicture: require('../../assets/user10.png'),\n    reviews: 4.9,\n    price: 34,\n    bio: 'Experienced with reptiles and amphibians.',\n    location: 'Palmer Lake, CO',\n    coordinates: { latitude: 39.1153, longitude: -104.9158 },\n    serviceTypes: ['House Sitting', 'Drop-ins'],\n    animalTypes: ['exotics'],\n  }\n];\n\nexport const mockClients = [\n  {\n    id: '1',\n    name: 'Alice Johnson',\n    pet_types: ['Dog', 'Cat'],\n    last_booking: '2024-01-15',\n    pets: ['1', '2'], // References to pet IDs\n    email: 'alice@example.com',\n    phone: '555-0101',\n    address: '123 Pine St, Colorado Springs, CO',\n  },\n  {\n    id: '2',\n    name: 'Bob Wilson',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-01',\n    pets: ['3'],\n    email: 'bob@example.com',\n    phone: '555-0102',\n    address: '456 Oak Ave, Colorado Springs, CO',\n  },\n  {\n    id: '3',\n    name: 'Carol Martinez',\n    pet_types: ['Cat', 'Exotic'],\n    last_booking: '2024-01-28',\n    pets: ['4', '5'],\n    email: 'carol@example.com',\n    phone: '555-0103',\n    address: '789 Maple Dr, Colorado Springs, CO',\n  },\n  {\n    id: '4',\n    name: 'David Brown',\n    pet_types: ['Dog'],\n    last_booking: '2024-02-05',\n    pets: ['6'],\n    email: 'david@example.com',\n    phone: '555-0104',\n    address: '321 Elm St, Colorado Springs, CO',\n  },\n  {\n    id: '5',\n    name: 'Eva Garcia',\n    pet_types: ['Exotic'],\n    last_booking: '2024-01-20',\n    pets: ['7'],\n    email: 'eva@example.com',\n    phone: '555-0105',\n    address: '654 Birch Ln, Colorado Springs, CO',\n  }\n];\n\n// Availability Tab\nexport const fetchAvailabilityData = () => {\n  return new Promise((resolve) => {\n    // to get the bookings, we need to fetch the booking table on backend\n    // to get available/unavailable dates we need to fetch the availability table on backend\n    setTimeout(() => {\n      resolve({\n        availableDates: {\n          '2025-02-01': { startTime: '09:00', endTime: '17:00' },\n          '2025-02-02': { startTime: '10:00', endTime: '18:00' },\n          '2025-02-03': { startTime: '09:00', endTime: '17:00' },\n        },\n        unavailableDates: {\n          '2025-02-04': { startTime: '00:00', endTime: '24:00' },\n          '2025-02-05': { startTime: '10:00', endTime: '18:00' },\n        },\n        bookings: {\n          '2025-02-06': [\n            { id: 'bk1', startTime: '14:00', endTime: '16:00', client_name: 'Charlie', service_type: 'Dog Walking' },\n            { id: 'bk2', startTime: '16:00', endTime: '18:00', client_name: 'Bob', service_type: 'Dog Walking' },\n            { id: 'bk3', startTime: '18:00', endTime: '20:00', client_name: 'Nick', service_type: 'Pet Boarding' },\n            { id: 'bk4', startTime: '20:00', endTime: '22:00', client_name: 'Alfred', service_type: 'Drop-In Visits (30 min)' }\n          ],\n          '2025-02-07': [\n            { id: 'bk5', startTime: '10:00', endTime: '12:00', client_name: 'Uhtred', service_type: 'Dog Walking' }\n          ],\n        },\n      });\n    }, 1000);\n  });\n};\n\n// Add mock update functions\nexport const updateAvailability = (updates) => {\n  console.log(\"updateAvailability\", updates);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: updates });\n    }, 500);\n  });\n};\n\nexport const updateBooking = (bookingData) => {\n  console.log(\"updateBooking\", bookingData);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true, data: bookingData });\n    }, 500);\n  });\n};\n\nconst sharedBookingDetails = {\n  booking_id: 'bk1',\n  status: 'Confirmed',\n  client_name: 'matt aertker',\n  professional_name: 'matt2 aertker2',\n  service_details: {\n    service_type: 'Ferrier'\n  },\n  pets: [\n    {\n      pet_id: 3,\n      name: 'Jack',\n      species: 'DOG',\n      breed: 'Golden'\n    }\n  ],\n  occurrences: [\n    {\n      occurrence_id: 10,\n      start_date: '2025-02-01',\n      end_date: '2025-02-02',\n      start_time: '15:06',\n      end_time: '16:06',\n      calculated_cost: '61.04',\n      base_total: '$26.04',\n      rates: {\n        base_rate: '25.00',\n        additional_animal_rate: '5.00',\n        additional_animal_rate_applies: false,\n        applies_after: 2,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '35.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$5.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$5.00'\n          }\n        ]\n      }\n    },\n    {\n      occurrence_id: 9,\n      start_date: '2025-03-13',\n      end_date: '2025-03-14',\n      start_time: '09:00',\n      end_time: '14:00',\n      calculated_cost: '120.08',\n      base_total: '$35.04',\n      rates: {\n        base_rate: '29.00',\n        additional_animal_rate: '8.00',\n        additional_animal_rate_applies: false,\n        applies_after: 1,\n        unit_of_time: 'PER_DAY',\n        holiday_rate: '40.00',\n        holiday_days: 0,\n        additional_rates: [\n          {\n            title: 'Extra Travel Time Rate',\n            description: 'Far Drive rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Poops Inside Rate',\n            description: 'Dog Poops Inside rate for service',\n            amount: '$25.00'\n          },\n          {\n            title: 'Dog Separation rate',\n            description: 'When we need to separate the dog from other animals in the house',\n            amount: '$35.04'\n          }\n        ]\n      }\n    }\n  ],\n  cost_summary: {\n    subtotal: 181.12,\n    platform_fee: 18.11,\n    taxes: 15.94,\n    total_client_cost: 215.17,\n    total_sitter_payout: 163.01,\n    is_prorated: true\n  }\n};\n\n// Initialize mockBookingDetails with existing mock data\nconst mockBookingDetails = {\n  '1234': {\n    ...sharedBookingDetails,\n    id: '1234',\n    clientName: 'John Doe',\n    status: BOOKING_STATES.CONFIRMED,\n    startDate: '2024-02-20',\n    startTime: '14:00',\n  },\n  '5678': {\n    ...sharedBookingDetails,\n    id: '5678',\n    clientName: 'Margarett Laporte',\n    status: BOOKING_STATES.CANCELLED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56782': {\n    ...sharedBookingDetails,\n    id: '56782',\n    clientName: 'Zoe Aerial',\n    status: BOOKING_STATES.DENIED,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5673': {\n    ...sharedBookingDetails,\n    id: '5673',\n    clientName: 'Matt Clark',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5674': {\n    ...sharedBookingDetails,\n    id: '5674',\n    clientName: 'Mark Smith',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '5675',\n    clientName: 'Lauren Smith',\n    status: BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '5675': {\n    ...sharedBookingDetails,\n    id: '56712',\n    clientName: 'Matt Smith',\n    status: BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n    startDate: '2024-02-21',\n    startTime: '15:30',\n  },\n  '56713': {\n    ...sharedBookingDetails,\n    id: '567123',\n    clientName: 'Albert Einstein',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '3749': {...sharedBookingDetails,\n    id: '567132',\n    clientName: 'Dr. Mike Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91011': {\n    ...sharedBookingDetails,\n    id: '91011',\n    clientName: 'Dr. Bla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  },\n  '91012': {\n    ...sharedBookingDetails,\n    id: '91012',\n    clientName: 'Dr. Blabla Johnson',\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    startDate: '2025-02-21',\n    startTime: '15:30',\n  }\n};\n\n// Map mockProfessionalBookings from mockBookingDetails\nexport const mockProfessionalBookings = Object.values(mockBookingDetails)\n  .map(booking => ({\n    id: booking.id,\n    clientName: booking.clientName,\n    status: booking.status,\n    date: booking.startDate,\n    time: booking.startTime,\n    serviceType: booking.serviceType,\n    numberOfPets: booking.numberOfPets || 1,\n    totalCost: booking.costs?.totalClientCost || 0,\n    professionalPayout: booking.costs?.professionalPayout || 0\n  }));\n\n// Add the createBooking function\nexport const createBooking = async (clientId, freelancerId, initialData = {}) => {\n  const newBookingId = `booking_${Date.now()}`;\n  \n  const newBooking = {\n    id: newBookingId,\n    clientId: clientId,\n    freelancerId: freelancerId,\n    status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n    clientName: initialData.clientName || 'TBD',\n    professionalName: initialData.professionalName || 'TBD',\n    serviceType: initialData.serviceType || 'TBD',\n    animalType: initialData.animalType || 'TBD',\n    numberOfPets: initialData.numberOfPets || 0,\n    duration: initialData.duration || 0,\n    occurrences: initialData.occurrences || [],\n    rates: {\n      baseRate: 0,\n      additionalPetRate: 0,\n      extraServices: []\n    },\n    costs: {\n      baseTotal: 0,\n      additionalPetTotal: 0,\n      extraServicesTotal: 0,\n      subtotal: 0,\n      clientFee: 0,\n      taxes: 0,\n      totalClientCost: 0,\n      professionalPayout: 0\n    },\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    ...initialData\n  };\n\n  // Add to mock database\n  mockBookingDetails[newBookingId] = newBooking;\n  \n  console.log('Created new booking:', {\n    bookingId: newBookingId,\n    booking: newBooking,\n    allBookings: Object.keys(mockBookingDetails)\n  });\n\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 500));\n  return newBookingId;\n};\n\n// Update fetchBookingDetails with better logging\nexport const fetchBookingDetails = async (bookingId) => {\n  // console.log('Fetching booking details');\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  const bookingDetails = mockBookingDetails[bookingId];\n  if (!bookingDetails) {\n    console.error('Booking not found:', {\n      requestedId: bookingId,\n      availableBookings: Object.keys(mockBookingDetails)\n    });\n    throw new Error('Booking not found');\n  }\n  \n  return bookingDetails;\n};\n\n// Export mockBookingDetails for debugging\nexport const _mockBookingDetails = mockBookingDetails;\n\n// Add new mock function for updating booking status\nexport const updateBookingStatus = async (bookingId, newStatus, reason = '', metadata = {}) => {\n  console.log('updateBookingStatus called with:', {\n    bookingId,\n    newStatus,\n    reason,\n    metadata,\n    availableBookings: Object.keys(mockBookingDetails)\n  });\n  \n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  \n  // Find the booking by ID regardless of the key\n  const bookingKey = Object.keys(mockBookingDetails).find(key => \n    mockBookingDetails[key].id === bookingId\n  );\n  \n  if (!bookingKey) {\n    console.error('Booking not found in mockBookingDetails. Available bookings:', \n      Object.keys(mockBookingDetails),\n      '\\nFull mockBookingDetails:', mockBookingDetails\n    );\n    throw new Error('Booking not found');\n  }\n  \n  // Create updated booking object\n  mockBookingDetails[bookingKey] = {\n    ...mockBookingDetails[bookingKey],\n    status: newStatus,\n    statusReason: reason,\n    updated_at: new Date().toISOString(),\n    ...metadata\n  };\n\n  console.log('Updated booking:', mockBookingDetails[bookingKey]);\n  return mockBookingDetails[bookingKey];\n};\n\n// Make sure to update MyBookings.js to use the same BOOKING_STATES constant\nexport const mockClientBookings = [\n  {\n    id: '91011',\n    professionalName: 'Sarah Wilson',\n    status: BOOKING_STATES.CONFIRMED,\n    date: '2024-02-22',\n    time: '10:00',\n    serviceType: 'Dog Walking',\n    numberOfPets: 2,\n    totalCost: 75.00,\n  },\n  {\n    id: '91012',\n    professionalName: 'Mike Johnson',\n    status: BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n    date: '2024-02-23',\n    time: '11:00',\n    serviceType: 'Pet Sitting',\n    numberOfPets: 1,\n    totalCost: 50.00,\n  },\n];\n\n// Assuming current user ID is 101 for testing\nexport const CURRENT_USER_ID = 101;\n\nexport const mockConversations = [\n  {\n    id: 'conv_1',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 202,\n    name: \"Dr. Sarah Smith\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'd be happy to help! What kind of pet do you have?\",\n    timestamp: \"2024-02-21T07:05:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_2',\n    participant1_id: 303,\n    participant2_id: CURRENT_USER_ID,\n    name: \"Dr. Mike Johnson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"I'm available! Let's set up a booking\",\n    timestamp: \"2024-02-21T15:35:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_3',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 204,\n    name: \"Dr. Emily Wilson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your cat's checkup is scheduled\",\n    timestamp: \"2024-02-20T10:15:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_4',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 205,\n    name: \"Dr. James Anderson\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"See you tomorrow at 2 PM\",\n    timestamp: \"2024-02-19T16:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_5',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 206,\n    name: \"Dr. Lisa Brown\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How is Max doing today?\",\n    timestamp: \"2024-02-18T09:30:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_6',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 207,\n    name: \"Dr. Robert Taylor\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The medication has been prescribed\",\n    timestamp: \"2024-02-17T14:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_7',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 208,\n    name: \"Dr. Maria Garcia\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Your appointment is confirmed\",\n    timestamp: \"2024-02-16T11:25:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_8',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 209,\n    name: \"Dr. David Lee\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Let's schedule a follow-up\",\n    timestamp: \"2024-02-15T13:40:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_9',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 210,\n    name: \"Dr. Sarah Martinez\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"The test results are ready\",\n    timestamp: \"2024-02-14T15:55:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_10',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 211,\n    name: \"Dr. John White\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"How's the new diet working?\",\n    timestamp: \"2024-02-13T08:15:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_11',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 212,\n    name: \"Dr. Anna Clark\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Vaccination reminder\",\n    timestamp: \"2024-02-12T10:30:00Z\",\n    unread: true\n  },\n  {\n    id: 'conv_12',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 213,\n    name: \"Dr. Thomas Wright\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Surgery scheduled for next week\",\n    timestamp: \"2024-02-11T12:45:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_13',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 214,\n    name: \"Dr. Patricia Moore\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Emergency consultation available\",\n    timestamp: \"2024-02-10T17:20:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_14',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 215,\n    name: \"Dr. Kevin Hall\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Treatment plan updated\",\n    timestamp: \"2024-02-09T14:10:00Z\",\n    unread: false\n  },\n  {\n    id: 'conv_15',\n    participant1_id: CURRENT_USER_ID,\n    participant2_id: 216,\n    name: \"Dr. Rachel Green\",\n    role_map: {\n      participant1_role: \"client\",\n      participant2_role: \"professional\"\n    },\n    lastMessage: \"Prescription ready for pickup\",\n    timestamp: \"2024-02-08T16:35:00Z\",\n    unread: true\n  }\n];\n\nexport const mockMessages = {\n  'conv_1': [\n    {\n      message_id: 1,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Hi, I'm interested in your pet sitting services\",\n      timestamp: \"2024-02-21T14:00:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 2,\n      participant1_id: CURRENT_USER_ID,\n      participant2_id: 202,\n      sender: 202,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'd be happy to help! What kind of pet do you have?\",\n      timestamp: \"2024-02-21T14:05:00Z\",\n      booking_id: null,\n      status: \"sent\",\n      is_booking_request: false,\n      metadata: {}\n    }\n  ],\n  'conv_2': [\n    {\n      message_id: 3,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"Looking for a dog walker next week\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n    {\n      message_id: 4,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: 303,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      type: 'booking_request',\n      data: {\n        serviceType: \"Dog Walking\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' }\n        ],\n        occurrences: [\n          {\n            startDate: '2024-02-28',\n            endDate: '2024-02-28',\n            startTime: '14:00',\n            endTime: '15:00'\n          }\n        ]\n      },\n      timestamp: \"2024-02-21T15:35:00Z\",\n      status: \"sent\",\n      is_booking_request: true,\n      metadata: {}\n    },\n    {\n      message_id: 5,\n      participant1_id: 303,\n      participant2_id: CURRENT_USER_ID,\n      sender: CURRENT_USER_ID,\n      role_map: {\n        participant1_role: \"client\",\n        participant2_role: \"professional\"\n      },\n      content: \"I'll take a look!\",\n      timestamp: \"2024-02-21T15:30:00Z\",\n      booking_id: null,\n      status: \"read\",\n      is_booking_request: false,\n      metadata: {}\n    },\n  ]\n};\n\n// Helper function to create a new conversation\nexport const createNewConversation = (professionalId, professionalName, clientId, clientName) => {\n  const conversationId = `conv_${Date.now()}`;\n  const isCurrentUserClient = clientId === CURRENT_USER_ID;\n  \n  return {\n    id: conversationId,\n    participant1_id: isCurrentUserClient ? clientId : professionalId,\n    participant2_id: isCurrentUserClient ? professionalId : clientId,\n    role_map: {\n      participant1_role: isCurrentUserClient ? \"client\" : \"professional\",\n      participant2_role: isCurrentUserClient ? \"professional\" : \"client\"\n    },\n    lastMessage: \"\",\n    timestamp: new Date().toISOString(),\n    unread: false,\n    bookingStatus: null\n  };\n};\n\nexport const DEFAULT_SERVICES = [\n  {\n    serviceName: 'Dog Walking',\n    animalTypes: 'Dogs',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '10',\n  },\n  {\n    serviceName: 'Cat Sitting',\n    animalTypes: 'Cats',\n    rates: { base_rate: '20' },\n    additionalAnimalRate: '5',\n  },\n  {\n    serviceName: 'Exotic Pet Care',\n    animalTypes: 'Lizards, Birds',\n    rates: { base_rate: '25' },\n    additionalAnimalRate: '15',\n  },\n];\n\nexport const SERVICE_TYPE_SUGGESTIONS = [\n  \"Overnight Cat Sitting (Client's Home)\",\n  \"Cat Boarding\",\n  \"Drop-In Visits (30 min)\",\n  \"Drop-In Visits (60 min)\",\n  \"Dog Walking\",\n  \"Doggy Day Care\",\n  \"Pet Boarding\",\n  \"Exotic Pet Care\",\n  \"Daytime Pet Sitting\",\n  \"Ferrier\", \n];\n\nexport const ANIMAL_TYPE_SUGGESTIONS = [\n  'Dog',\n  'Cat',\n  'Cow',\n  'Calf',\n  'Lizard',\n  'Bird',\n  'Rabbit',\n  'Fish',\n];\n\nexport const BLOG_POSTS = [\n  {\n    id: 'blog_1',\n    title: 'What Your Dog is Really Saying',\n    author: {\n      id: 'author_1',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Professional dog trainer and animal behavior specialist with over 10 years of experience.'\n    },\n    publishDate: '2024-02-22',\n    readTime: '8 min',\n    tags: ['Dogs', 'Behavior', 'Training', 'Pet Care'],\n    content: `You know that moment when your dog tilts their head at you like you just asked them to solve a calculus problem? Turns out, they're not the only ones trying to understand you—they've been communicating with you this whole time, and you probably didn't even realize it.\n\nDogs may not speak English (yet—give them time), but they have an entire language built on tail wags, ear positions, and those big, soulful eyes they use to manipulate you into giving them extra treats. Learning to read their body language isn't just a party trick—it can help prevent stress, deepen your bond, and maybe even stop your dog from embarrassing you at the dog park. So, let's finally crack the code on what your dog has been trying to tell you.\n\nTail Wagging: Not Always a Sign of Happiness\nOne of the biggest myths out there is that a wagging tail means a happy dog. Nope. Not always. A dog's tail is basically their mood ring, and the way they wag tells a whole different story.\nLoose, full-body wag (with bonus butt wiggles): This is the classic \"OMG YOU'RE HOME!!\" happy dance. A+ vibes.\nSlow wag, tail held high: The \"I'm analyzing this situation\" wag. Suspicious, calculating, possibly deciding if you're worth their energy.\nStiff, fast wag with a raised tail: Yikes. This is \"I'm on edge, don't mess with me\" energy. Proceed with caution.\nLow, fast wag: \"I'm nervous, and I don't know what's happening, so I'm just gonna keep wiggling and hope for the best.\"\nTucked tail: Fear. If the tail is all the way tucked under, your dog is basically saying, \"I regret everything, please don't yell at me.\"\nEven the direction of the wag matters—researchers found that dogs wag more to the right when they're happy and to the left when they're unsure or stressed (Quaranta et al., 2007). Yes, your dog's tail literally has anxiety tells.\n\nEars and Eyes: The Silent Storytellers\nDogs don't just talk with their tails—they also use their ears and eyes like tiny, furry actors in a silent film.\nSoft eyes, relaxed ears: Your dog is living their best life. No stress, just vibes.\nWide eyes, whites showing (a.k.a. \"whale eye\"): \"I am uncomfortable with the energy we have created in this room.\" This is a warning sign—your dog feels uneasy or trapped.\nPerked-up ears: \"I heard something, and I will investigate.\" Could be excitement, curiosity, or them preparing to bark at absolutely nothing.\nEars pinned back: \"I'm nervous\" or \"I did something bad, and I hope you don't notice.\" Classic guilty dog move.\nEver notice how some dogs do a little squint when they're happy? It's their version of a smile. On the flip side, prolonged direct eye contact—especially with an unfamiliar dog—can be a challenge. So, if you're having a staring contest with a dog you just met…maybe don't.\n\nThe Freeze: When Your Dog Hits Pause (And You Should Pay Attention)\nIf a dog suddenly stops moving and stiffens, pay attention. Freezing is often their last warning before things escalate to growling, snapping, or biting. A lot of people miss this and then wonder why their dog \"suddenly\" lashed out.\nYou might see this when:\nA child is hugging a dog (which, fun fact, most dogs hate).\nSomeone is petting a dog too aggressively.\nThe dog feels cornered and has no escape route.\nResearch by Rooney Clark and Casey (2016) helped show that when a dog freezes, in some way or another they are stressed, its best to give them space in that moment and take a mental note of your newest training goal! Sometimes, they just need a minute to de-escalate, like when you have to breathe through a customer service call that's not going well.\n\nMouth Matters: Smiles vs. Stress\nDogs can technically smile, but it's not always what you think.\nLoose, open mouth, tongue hanging out: Happy, relaxed, living their best life.\nClosed mouth, tight lips: Alert or unsure. They're analyzing the situation.\nLips pulled back, slight teeth showing: Some dogs do a \"submissive grin,\" which isn't aggression—it's their way of saying, \"Hey, I'm friendly!\"\nWrinkled nose, full teeth bared: This is aggression. Back off.\nExcessive yawning in a new situation: Dogs don't just yawn when they're tired—they also yawn when they're stressed. To put it simply, they are overstimulated. (Glenk, 2020) Don't be fooled by the parrot dog, sometimes they yawn because they saw you yawn first! (D'Aniello, 2019)\n\nConclusion: Your Dog Has Been Sending You Texts—Now You Can Finally Read Them\nDogs may not be able to talk (yet), but they've been communicating loud and clear this whole time. That tail wag? Could be excitement, could be stress. That little squint? Doggy love. The full-body freeze? That's a big ol' \"DO NOT DISTURB\" sign.\nThe more you pay attention, the better you'll understand your dog—and the fewer awkward misunderstandings you'll have (like mistaking a stress yawn for a nap cue). As we said in the beginning, your dog already knows exactly how to read you. They know your routine, when you're about to leave the house, and how to guilt-trip you into sharing your snacks. The least you can do is return the favor.\nSo next time your dog gives you the side-eye, perks their ears, or flops over dramatically after a single walk, you'll finally know what they're saying. And let's be honest—it's probably, \"I love you… now give me a treat.\"`,\n    references: [\n      {\n        title: '7 tips for canine body language',\n        authors: 'American Society for the Prevention of Cruelty to Animals (ASPCA)',\n        publication: 'ASPCApro',\n        url: 'https://www.aspcapro.org/resource/7-tips-canine-body-language'\n      },\n      {\n        title: \"Therapy dogs' salivary cortisol levels vary during animal-assisted interventions\",\n        authors: 'Glenk, L. M., Kothgassner, O. D., Stetina, B. U., Palme, R., & Kepplinger, B.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2020,\n        doi: '10.3389/fvets.2020.564201'\n      },\n      {\n        title: 'The importance of associative learning in cross-species social bonding: Dogs and humans',\n        authors: \"D'Aniello, B., Scandurra, A., Alterisio, A., Aria, M., & Siniscalchi, M.\",\n        publication: 'Frontiers in Psychology',\n        year: 2019,\n        doi: '10.3389/fpsyg.2019.01678'\n      },\n      {\n        title: 'Oxytocin-gaze positive loop and the coevolution of human-dog bonds',\n        authors: 'Nagasawa, M., Mitsui, S., En, S., Ohtani, N., Ohta, M., Sakuma, Y., Onaka, T., Mogi, K., & Kikusui, T.',\n        publication: 'Science',\n        year: 2015,\n        doi: '10.1126/science.1261022'\n      },\n      {\n        title: 'Asymmetric tail-wagging responses by dogs to different emotive stimuli',\n        authors: 'Quaranta, A., Siniscalchi, M., & Vallortigara, G.',\n        publication: 'Current Biology',\n        year: 2007,\n        doi: '10.1016/j.cub.2007.02.008'\n      },\n      {\n        title: 'Minimizing fear and anxiety in working dogs: A review',\n        authors: 'Rooney, N. J., Clark, C. C. A., & Casey, R. A.',\n        publication: 'Journal of Veterinary Behavior',\n        year: 2016,\n        doi: '10.1016/j.jveb.2016.11.001'\n      }\n    ],\n    likes: 245,\n    comments: 56,\n    shares: 89\n  },\n  {\n    id: 'blog_2',\n    title: 'What Your Cat is Really Saying',\n    author: {\n      id: 'author_2',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Feline behavior specialist and veterinarian with a focus on cat-human relationships.'\n    },\n    publishDate: '2024-02-23',\n    readTime: '7 min',\n    tags: ['Cats', 'Behavior', 'Pet Care', 'Communication'],\n    content: `Ever wonder why your cat stares at you before slowly blinking or why they randomly sprint across the house at 2 AM? While cats may seem mysterious, they actually have a complex system of communication—if you know what to look for. Unlike dogs, who wear their emotions on their tails (literally), cats are more subtle. But once you learn their signals, you'll start to see what your cat has been trying to tell you all along.\n\nThe Myth of the Aloof Cat: Do They Actually Care About You?\nMany people think cats are independent and don't bond with their owners the way dogs do. But research suggests otherwise. A study by Vitale et al. (2019) found that cats form secure attachments to their owners, much like infants do with their caregivers. In an experiment where cats were briefly separated from their owners, many showed signs of distress when left alone and relief upon their owner's return. So yes, your cat does care about you—they just have their own way of showing it.\n\nThe Slow Blink: A Feline \"I Love You\"\nOne of the best-kept secrets of cat communication is the slow blink. If your cat locks eyes with you and then slowly closes and opens their eyes, congratulations! You've just received a cat's version of a smile. Research completed in 2020 (Humphrey) found that when humans slowly blink at their cats, the cats are more likely to return the gesture and approach them in a friendly manner. So, next time you want to say \"I love you\" to your cat, skip the baby talk and try a slow blink instead.\n\nTail Talk: Not Just for Dogs\nA cat's tail is like a built-in mood ring. Learning to read tail signals can help you avoid scratches and strengthen your bond.\nTail up, tip curved: A friendly, confident cat greeting. If your cat walks toward you with their tail high, they're happy to see you.\nPuffed-up tail: This is a defensive reaction. Your cat is startled or feels threatened.\nLow, slow-wagging tail: Unlike dogs, a slow-wagging cat tail isn't a good sign—it often signals irritation or mild aggression.\nTail wrapped around you or another cat: This is a sign of affection, almost like holding hands.\n\nPurring: More Than Just Happiness\nEveryone loves the soothing sound of a purring cat, but did you know cats don't just purr when they're happy? While contentment is a common reason, studies suggest cats also purr when they're stressed, in pain, or even trying to heal themselves. The frequency of cat purrs (between 25 and 150 Hz) has been linked to tissue regeneration and bone healing in studies on vibrational therapy (Muggenthaler, 2001). So, if your cat is purring at the vet's office, they may not be enjoying themselves—they might just be self-soothing.\n\nHeadbutting and Kneading: Strange but Sweet Gestures\nHeadbutting (bunting): When your cat gently bumps their head against you, they're not just being cute—they're marking you with their scent glands, claiming you as their own (Rodan, 2015).\nKneading: The rhythmic pressing of paws against a soft surface (or your lap) is a behavior kittens use to stimulate milk flow. In adult cats, it's a sign of comfort and contentment (Brown & Bradshaw, 2016).\n\nDo Cats Really Ignore Their Names?\nIf you've ever called your cat and been met with a flick of the ear but no movement, you might think they don't recognize their name. But research says otherwise. A study by Saito & Shinozuka (2013) found that cats can distinguish their names from other words, even in a household with multiple cats. They just don't always feel the need to respond. Unlike dogs, who evolved to seek human approval, cats evolved as solitary hunters. They hear you—they're just deciding whether you're worth getting up for.\n\nThe Zoomies: Science Behind the 2 AM Sprints\nThose sudden, chaotic bursts of energy—also known as \"zoomies\"—are actually a by normal part of feline behavior. Cats are natural hunters, and their instincts tell them to be most active at dawn and dusk. If your cat has zoomies at odd hours, they might just be burning off excess energy. Providing interactive play during the day can help prevent nighttime sprints (Turner, 2021).\n\nConclusion: The More You Watch, the More You Understand\nCats may seem mysterious, but once you learn their language, they're basically tiny, furry drama queens with very specific ways of expressing love (and judgment). That slow blink? A kiss. That tail flick? A warning. The 2 AM zoomies? Either pent-up energy or an exorcism—we may never know.\n\nThe more you pay attention to their signals, the better you'll understand them. And honestly your cat already understands you. They know exactly how to guilt-trip you into giving extra treats, how to wake you up precisely one minute before your alarm, and how to act like they don't care—right before curling up in your lap.\n\nAt the end of the day, cats aren't ignoring us. They're just selectively participating. And now that you can read their signals, you're officially part of their very exclusive club.`,\n    references: [\n      {\n        title: 'Communication in the domestic cat: within- and between-species',\n        authors: 'Brown, S. L., & Bradshaw, J. W. S.',\n        publication: 'Animal Behaviour',\n        year: 2016,\n        doi: '10.1016/j.anbehav.2016.05.015'\n      },\n      {\n        title: 'Feline Behavioral Health and Welfare',\n        authors: 'Rodan, I., & Heath, S.',\n        publication: 'Elsevier Health Sciences',\n        year: 2015\n      },\n      {\n        title: 'The felid purr: A healing mechanism?',\n        authors: 'Muggenthaler, E. von.',\n        publication: 'Proceedings of the 12th International Conference on Low Frequency Noise and Vibration',\n        year: 2001,\n        url: 'https://www.researchgate.net/publication/272259095_The_felid_purr_A_healing_mechanism'\n      },\n      {\n        title: 'Vocal recognition of owners by domestic cats (Felis catus)',\n        authors: 'Saito, A., & Shinozuka, K.',\n        publication: 'Animal Cognition',\n        year: 2013,\n        doi: '10.1007/s10071-013-0620-4'\n      },\n      {\n        title: 'The mechanics of social interactions between cats and their owners',\n        authors: 'Turner, D. C.',\n        publication: 'Frontiers in Veterinary Science',\n        year: 2021,\n        doi: '10.3389/fvets.2021.650143'\n      },\n      {\n        title: 'Attachment bonds between domestic cats and humans',\n        authors: 'Vitale, K. R., Behnke, A. C., & Udell, M. A. R.',\n        publication: 'Current Biology',\n        year: 2019,\n        doi: '10.1016/j.cub.2019.08.036'\n      },\n      {\n        title: 'The role of cat eye narrowing movements in cat–human communication',\n        authors: 'Humphrey, T., Proops, L., & McComb, K.',\n        publication: 'Scientific Reports',\n        year: 2020,\n        doi: '10.1038/s41598-020-73426-0'\n      }\n    ],\n    likes: 312,\n    comments: 78,\n    shares: 102\n  },\n  {\n    id: 'blog_3',\n    title: 'What Your Bird is Really Saying',\n    author: {\n      id: 'author_3',\n      name: 'Zoe Neale',\n      profilePicture: require('../../assets/ZEGN_USER.jpeg'),\n      bio: 'Avian specialist and researcher focusing on bird behavior and communication.'\n    },\n    publishDate: '2024-02-24',\n    readTime: '6 min',\n    tags: ['Birds', 'Behavior', 'Pet Care', 'Avian Communication'],\n    content: `Ever look at your bird and think, What's going on in that tiny dinosaur brain of yours? Well, good news—birds may not text, but they do have an entire language made up of wing flutters, tail flicks, and the occasional judgmental stare. And if you learn to read these signals, you'll finally understand what your feathered friend has been trying to tell you all along.\n\nLet's break down the mysterious world of bird body language so you can stop guessing and start actually communicating with your avian BFF.\n\nThe Head Tilt: Curious or Plotting Something?\nThat adorable head tilt your bird does isn't just to make you go aww—it's actually their way of getting a better look at something. Birds process images differently than we do, so when they tilt their head, they're adjusting their angle to see more clearly (Massen et al., 2014).\n\nSlow, curious head tilt: They're interested in what's happening and trying to analyze the situation. Basically, they're bird detectives.\nFrequent or extreme tilting: Could indicate a vision issue or neurological problem—if it looks excessive, a vet visit is a good idea (Massen et al., 2014).\nOne-eye stare, body stiffened: A sign they're feeling cautious or potentially threatened. If they were a human, this would be the equivalent of side-eye.\n\nFeather Fluffing: Cozy or Cranky?\nFeather movements say a lot about how a bird is feeling. Think of them as mood indicators, kind of like how we use facial expressions—except, you know, with more feathers.\n\nFluffed-up feathers for a few seconds: Just getting comfortable. If your bird puffs up and then smooths back down, they're basically stretching.\nConstantly fluffed-up feathers: Not good. This can be a sign of illness, stress, or even feeling cold (Massen et al., 2014).\nFeathers sleeked back tight to the body: Your bird is nervous or possibly feeling aggressive. Approach with caution (Pika & Bugnyar, 2011).\n\nThe Wing Flutter: Excitement or Back Off?\nBirds use their wings for way more than just flying—they also use them to communicate. Unfortunately, no sign language because birds dont have thumbs\n\nExcited, quick flutters: Happiness! Your bird is basically doing a little happy dance (Osaka University, 2023).\nSlow, controlled wing movements: This can be a \"stay away\" signal, kind of like putting up a hand to say \"not now.\"\nOne wing slightly drooped: Could be a sign of injury—time to check in with your vet.\n\nBunting: Love, Not a Headbutt Attack\nIf your bird presses or rubs their beak against you, congratulations—they're bunting, which is a sign of affection (Pika & Bugnyar, 2011).\n\nGentle beak rubbing: They're marking you as part of their flock. You're officially theirs now.\nAggressive, sudden beak nudging: Might mean \"Hey, stop that\" or \"Give me attention NOW.\"\n\nThe Stare-Down: Challenge or Trust?\nUnlike with dogs, where prolonged eye contact can be a dominance move, birds love staring at their favorite humans. It's actually a good thing—eye contact helps strengthen bonds (Osaka University, 2023).\n\nSoft, relaxed eyes: A sign of trust and comfort. They're chilling.\nWide eyes with pinning pupils: Intense excitement—or potential aggression. If they suddenly go from relaxed to laser-focused, read the room.\n\nTail Wagging: A Whole Different Story Than Dogs\nIf you thought tail wagging only meant happiness (like with dogs), think again—birds have their own unique tail signals.\n\nFast, side-to-side tail wagging: Happy and excited! Your bird is feeling good.\nSlow, deliberate tail flick: Annoyed or getting ready to give you a warning. Think of this as their way of saying \"I'm this close to losing it.\"\nTail fanned out: Displaying dominance or excitement—this is common in birds like parrots when they're trying to show off.\n\nThe Playful Side: Hanging Upside Down & Wing Spreading\nSome birds (especially parrots) love hanging upside down like little acrobats. This is usually a sign of happiness and playfulness. If your bird does this often, they're feeling safe and confident.\n\nUpside-down hanging: Your bird is comfortable with you and their surroundings. They trust you.\nOne wing slightly lifted while playing: This can be an invitation to interact—kind of like a bird's version of waving at you.\n\nConclusion: Your Bird Has Been Speaking—Now You're Fluent\nBirds may not use words the way we do (unless you have a talkative parrot), but their body language speaks volumes. From fluffed feathers to head tilts and beak bunts, every little movement is a clue to how they're feeling.\n\nThe more you watch and learn, the better you'll understand their unique way of communicating. And let's be real—your bird already knows exactly how to get your attention. Whether it's staring at you until you feel guilty enough to offer a treat or flapping their wings dramatically for no reason, they've got you trained.\n\nNow that you can finally read their signals, you're one step closer to becoming the ultimate bird whisperer. Just don't be surprised if they start giving you even more attitude now that you know what's up.`,\n    references: [\n      {\n        title: 'Facial display and blushing: Means of visual communication in blue-and-yellow macaws',\n        authors: 'Massen, J. J. M., Vermunt, D. A., & Sterck, E. H. M.',\n        publication: 'PLoS ONE',\n        year: 2014,\n        doi: '10.1371/journal.pone.0108794'\n      },\n      {\n        title: 'The use of referential gestures in ravens (Corvus corax) in the wild',\n        authors: 'Pika, S., & Bugnyar, T.',\n        publication: 'Nature Communications',\n        year: 2011,\n        doi: '10.1038/ncomms1567'\n      },\n      {\n        title: 'Wild birds gesture \"after you\" to insist their mate go first',\n        authors: 'Osaka University',\n        publication: 'Scientific American',\n        year: 2023,\n        url: 'https://www.scientificamerican.com/article/wild-birds-gesture-after-you-to-insist-their-mate-go-first/'\n      }\n    ],\n    likes: 198,\n    comments: 45,\n    shares: 67\n  }\n];","import React, { useState, useEffect } from 'react';\nimport { View, ScrollView, Image, StyleSheet, Linking, Dimensions, Platform, TouchableOpacity, TextInput } from 'react-native';\nimport { Button, Text, Card, Title, Paragraph, useTheme } from 'react-native-paper';\nimport { ImageBackground } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport RoadmapSection from '../components/RoadmapSection';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { FontAwesome6 } from '@expo/vector-icons';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { BLOG_POSTS } from '../data/mockData';\n\nconst { width: windowWidth, height: windowHeight } = Dimensions.get('window');\n\n// Define a sample reviews array\nconst reviews = [\n  {\n    image: require('../../assets/user1.png'),\n    text: \"\\\"CrittrCove has been amazing for finding reliable pet professionals!\",\n    author: \"John Smith\"\n  },\n  {\n    image: require('../../assets/user2.png'),\n    text: \"\\\"Great experience with pet sitting services!\",\n    author: \"Jane Doe\"\n  },\n  {\n    image: require('../../assets/user3.png'),\n    text: \"\\\"Found the perfect sitter for my exotic pets!\",\n    author: \"Sudhakar Vuluvala\"\n  },\n  {\n    image: require('../../assets/user4.png'),\n    text: \"\\\"I've had a fantastic experience with CrittrCove's pet grooming services!\",\n    author: \"Alice Brown\"\n  }\n];\n\n// Define the ReviewImage component\nconst ReviewImage = ({ source, style }) => {\n  if (Platform.OS === 'web') {\n    return <img src={source} style={style} alt=\"\" />;\n  }\n  return <Image source={source} style={style} />;\n};\n\nexport default function HomeScreen({ navigation }) {\n  const { colors } = useTheme();\n  const openAppStore = (url) => {\n    Linking.openURL(url);\n  };\n\n  // Add state for social media popup visibility\n  const [isUserScrolling, setIsUserScrolling] = useState(false);\n\n  const AutoScrollSection = ({ data, renderItem, title, cardWidth = 320 }) => {\n    const scrollViewRef = React.useRef(null);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [userScrolling, setUserScrolling] = useState(false);\n    const autoScrollTimerRef = React.useRef(null);\n\n    // Auto-scroll effect\n    useEffect(() => {\n      if (!userScrolling) {\n        autoScrollTimerRef.current = setInterval(() => {\n          if (scrollViewRef.current) {\n            const nextIndex = (currentIndex + 1) % data.length;\n            scrollToIndex(nextIndex);\n          }\n        }, 3000);\n      }\n\n      return () => {\n        if (autoScrollTimerRef.current) {\n          clearInterval(autoScrollTimerRef.current);\n        }\n      };\n    }, [currentIndex, userScrolling, data.length]);\n\n    const scrollToIndex = (index) => {\n      if (scrollViewRef.current) {\n        scrollViewRef.current.scrollTo({\n          x: index * cardWidth,\n          animated: true\n        });\n        setCurrentIndex(index);\n      }\n    };\n\n    const handleScroll = (event) => {\n      const contentOffset = event.nativeEvent.contentOffset.x;\n      const index = Math.round(contentOffset / cardWidth);\n      setCurrentIndex(index);\n    };\n\n    const handleScrollBegin = () => {\n      setUserScrolling(true);\n      if (autoScrollTimerRef.current) {\n        clearInterval(autoScrollTimerRef.current);\n      }\n    };\n\n    const handleScrollEnd = () => {\n      // Reset after a short delay to prevent immediate auto-scroll\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    const handleDotPress = (index) => {\n      setUserScrolling(true);\n      scrollToIndex(index);\n      // Reset auto-scroll after a delay\n      setTimeout(() => {\n        setUserScrolling(false);\n      }, 1000);\n    };\n\n    return (\n      <View style={styles.section}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <View style={styles.scrollContainer}>\n          <ScrollView\n            ref={scrollViewRef}\n            horizontal\n            showsHorizontalScrollIndicator={true}\n            style={[styles.scrollContainer, { WebkitOverflowScrolling: 'touch' }]}\n            contentContainerStyle={styles.scrollContent}\n            onScroll={handleScroll}\n            scrollEventThrottle={16}\n            pagingEnabled={Platform.OS !== 'web'}\n            onScrollBeginDrag={handleScrollBegin}\n            onScrollEndDrag={handleScrollEnd}\n            onMomentumScrollEnd={handleScrollEnd}\n          >\n            {data.map((item, index) => renderItem(item, index))}\n          </ScrollView>\n          {/* Clickable scroll indicators */}\n          <View style={styles.scrollIndicators}>\n            {data.map((_, index) => (\n              <TouchableOpacity\n                key={index}\n                onPress={() => handleDotPress(index)}\n                style={styles.scrollIndicatorButton}\n              >\n                <View\n                  style={[\n                    styles.scrollIndicator,\n                    currentIndex === index && styles.scrollIndicatorActive\n                  ]}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n          {/* Scroll hint for mobile */}\n          {Platform.OS !== 'web' && (\n            <View style={styles.scrollHint}>\n              <Text style={styles.scrollHintText}>Swipe for more</Text>\n              <MaterialCommunityIcons name=\"gesture-swipe-horizontal\" size={24} color={theme.colors.primary} />\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ReviewsSection = () => {\n    const renderReview = (review, index) => (\n      <View key={index} style={styles.reviewCard}>\n        <Text style={styles.reviewText}>{review.text}</Text>\n        <View style={styles.reviewAuthorContainer}>\n          <ReviewImage\n            source={review.image}\n            style={styles.reviewerImage}\n          />\n          <View>\n            <Text style={styles.reviewAuthorName}>{review.author}</Text>\n            <Text style={styles.reviewAuthorTitle}>Client Review</Text>\n            <View style={styles.starsContainer}>\n              {[1, 2, 3, 4, 5].map((_, index) => (\n                <MaterialCommunityIcons \n                  key={index}\n                  name=\"star\"\n                  size={16}\n                  color={theme.colors.primary}\n                  style={styles.starIcon}\n                />\n              ))}\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n\n    return (\n      <AutoScrollSection\n        data={reviews}\n        renderItem={renderReview}\n        title=\"Kind Words From Users\"\n      />\n    );\n  };\n\n  const BlogSection = () => {\n    const renderBlogPost = (post, index) => (\n      <TouchableOpacity \n        key={post.id} \n        style={[\n          styles.blogCard,\n          { marginRight: index === BLOG_POSTS.length - 1 ? 0 : 10 }\n        ]} \n        onPress={() => navigateToFrom(navigation, 'BlogPost', 'Home', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]} numberOfLines={2}>\n              {post.title}\n            </Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}> • </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {post.content.slice(0, 100)}...\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.slice(0, 2).map((tag, tagIndex) => (\n                <View \n                  key={tagIndex} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={16} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n\n    return (\n      <AutoScrollSection\n        data={BLOG_POSTS}\n        renderItem={renderBlogPost}\n        title=\"Blog\"\n        cardWidth={320}\n      />\n    );\n  };\n\n  const Features = () => {\n    const [activeTab, setActiveTab] = useState('owners'); // Default to owners tab\n\n    // Add roadmap colors array\n    const roadmapColors = ['#515d6c', '#516a6c', '#516C61', '#6A6C51'];\n\n    // Update the feature item structure and styles\n    const featureItemStyle = {\n      flexDirection: 'row',\n      marginBottom: 20,\n      alignItems: 'flex-start',\n      width: '100%',\n    };\n\n    const featureContentStyle = {\n      flex: 1,\n      marginLeft: 5,\n    };\n\n    return (\n      <View style={styles.featuresSection}>\n        <Text style={styles.sectionTitle}>How It Works</Text>\n        <View style={styles.toggleContainer}>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'owners' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('owners')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'owners' && styles.toggleButtonTextActive]}>For Pet Owners</Text>\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={[styles.toggleButton, activeTab === 'sitters' && styles.toggleButtonActive]}\n            onPress={() => setActiveTab('sitters')}\n          >\n            <Text style={[styles.toggleButtonText, activeTab === 'sitters' && styles.toggleButtonTextActive]}>For Pet Professionals</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.featuresContainer}>\n          {activeTab === 'owners' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Owners</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome6 name=\"person-running\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Your Profile</Text>\n                    <Text style={styles.featureText}>Submit details about you and your requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"horse-human\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Complete Pet Profile</Text>\n                    <Text style={styles.featureText}>Submit details about your pet and sitting requirements.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <MaterialCommunityIcons name=\"professional-hexagon\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Search for Pro's</Text>\n                    <Text style={styles.featureText}>You can use our marketplace to find the best pro for your desired service.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <FontAwesome5 name=\"calendar-check\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Confirm Your Booking</Text>\n                    <Text style={styles.featureText}>Coordinate directly with your professional to finalize details.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Sign up Today!</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n          {activeTab === 'sitters' && (\n            <View style={styles.featureColumn}>\n              <Text style={styles.columnTitle}>For Pet Professionals</Text>\n              <View style={styles.featuresList}>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[0] }]}>\n                    <FontAwesome name=\"sign-in\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Apply to Join Pro Community</Text>\n                    <Text style={styles.featureText}>Submit your specialties, documents, bio, and availability to begin.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[1] }]}>\n                    <MaterialCommunityIcons name=\"plus-circle\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Create Services</Text>\n                    <Text style={styles.featureText}>Create services to offer to pet owners.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[2] }]}>\n                    <FontAwesome6 name=\"handshake-simple\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Get Matched with Clients</Text>\n                    <Text style={styles.featureText}>Pet owners in your area will reach out to you for yourservices.</Text>\n                  </View>\n                </View>\n                <View style={featureItemStyle}>\n                  <View style={[styles.featureIconCircle, { backgroundColor: roadmapColors[3] }]}>\n                    <MaterialIcons name=\"auto-graph\" size={24} color=\"white\" />\n                  </View>\n                  <View style={featureContentStyle}>\n                    <Text style={styles.featureTitle}>Grow Your Business</Text>\n                    <Text style={styles.featureText}>Manage bookings and get support as you build your pet service business.</Text>\n                  </View>\n                </View>\n              </View>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity style={styles.actionButton} onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}>\n                  <Text style={styles.buttonText}>Become a Professional</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  };\n\n  const ContactSection = () => {\n    const [state, handleSubmit] = useForm(\"mkgobpro\");\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleFormSubmit = async (e) => {\n      e.preventDefault();\n      const formData = {\n        name: name,\n        email: email,\n        message: message\n      };\n      \n      await handleSubmit(formData);\n      \n      if (state.succeeded) {\n        setName('');\n        setEmail('');\n        setMessage('');\n      }\n    };\n\n    if (state.succeeded) {\n      return (\n        <View style={styles.contactSection}>\n          <View style={styles.contactContainer}>\n            <Text style={[styles.sectionTitle, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.contactSection}>\n        <View style={styles.contactContainer}>\n          <Text style={styles.sectionTitle}>Contact Us</Text>\n          <TextInput\n            placeholder=\"Your Name\"\n            style={styles.input}\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Email\"\n            style={styles.input}\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />\n          \n          <TextInput\n            placeholder=\"Your Message\"\n            style={[styles.input, styles.messageInput]}\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[\n                styles.actionButton,\n                state.submitting && styles.disabledButton\n              ]}\n              onPress={handleFormSubmit}\n              disabled={state.submitting}\n            >\n              <Text style={styles.buttonText}>\n                {state.submitting ? 'Sending...' : 'Send'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.heroSection}>\n        <Image\n          source={require('../../assets/hero-image.jpg')} // Replace with your image\n          style={styles.heroImage}\n          resizeMode=\"cover\"\n        />\n        <Text style={styles.heroText}>Welcome to CrittrCove</Text>\n      </View>\n\n      <Features />\n      <ReviewsSection />\n      <BlogSection />\n\n      {/* Roadmap Section */}\n      <RoadmapSection />\n\n      {/* FAQ Section */}\n      {/* <View style={styles.section}>\n        <Text style={styles.sectionTitle}>FAQs</Text>\n         {faqs.map((faq, index) => (\n          <View key={index} style={styles.faqItem}>\n            <TouchableOpacity \n              style={styles.faqButton}\n              onPress={() => setSelectedFaq(selectedFaq === index ? null : index)}\n            >\n              <Text style={styles.faqQuestion}>{faq.question}</Text>\n              <Text style={styles.faqToggle}>{selectedFaq === index ? '-' : '+'}</Text>\n            </TouchableOpacity>\n            {selectedFaq === index && (\n              <Text style={styles.faqAnswer}>{faq.answer}</Text>\n            )}\n          </View>\n        ))} \n      </View> */}\n\n      {/* Waitlist Section */}\n      <View style={[styles.section, styles.waitlistSection]}>\n        <Text style={styles.sectionTitle}>Join Our Waitlist</Text>\n        <Text style={styles.waitlistDescription}>\n          Get exclusive bonus offers, promotions, and discounts when the app and website launches by signing up on our waitlist today!\n        </Text>\n        <TouchableOpacity \n          style={[styles.actionButton, styles.waitlistButton]} \n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.buttonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n\n      {/* Contact Us Section */}\n      <ContactSection />\n\n      {/* Footer */}\n      <View style={styles.footer}>\n        <View style={styles.socialIconsRow}>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://instagram.com/thezensitter')}\n          >\n            <FontAwesome name=\"instagram\" size={24} color=\"white\" />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.socialIcon} \n            onPress={() => Linking.openURL('https://discord.com/your-profile')}\n          >\n            <FontAwesome5 name=\"discord\" size={24} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.footerLinksRow}>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'PrivacyPolicy', 'Home')}>Privacy Policy</Text>\n          <Text style={styles.footerLink} onPress={() => navigateToFrom(navigation, 'TermsOfService', 'Home')}>Terms of Service</Text>\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    paddingBottom: 80, // Add padding to the bottom of the content\n  },\n  heroSection: {\n    height: Platform.OS === 'web' ? '70vh' : windowHeight * 0.5,\n    justifyContent: 'center',\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  heroImage: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n  },\n  heroText: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n    color: 'white',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: {width: -1, height: 1},\n    textShadowRadius: 10\n  },\n  section: {\n    padding: 20,\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    alignItems: 'center',\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 10,\n    textAlign: 'center',\n    color: 'black',\n  },\n  card: {\n    marginBottom: 10,\n  },\n  appButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 10,\n  },\n  appButton: {\n    width: '45%',\n  },\n  reviewsSection: {\n    // height: 350,\n    marginBottom: 20,\n  },\n  reviewsBackground: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewsOverlay: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  reviewsSubtitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 20,\n    textAlign: 'center',\n    width: '100%',\n  },\n  reviewsContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  reviewsContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40, // Add space for indicators\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  reviewCard: {\n    width: 300,\n    height: 200,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginRight: 10,\n  },\n  reviewCardMobile: {\n    width: '100%',\n    height: '100%',\n  },\n  reviewQuote: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n    marginBottom: 10,\n  },\n  reviewText: {\n    fontSize: 18,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginBottom: 15,\n    flex: 1,\n  },\n  reviewAuthorContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  reviewerImage: {\n    width: 45,\n    height: 60,\n    borderRadius: 8,\n    marginRight: 10,\n    objectFit: 'cover',\n  },\n  reviewAuthorName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewAuthorTitle: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginTop: 2,\n  },\n  paginationDots: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 10,\n  },\n  paginationDot: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    backgroundColor: 'white',\n    margin: 5,\n  },\n  paginationDotActive: {\n    backgroundColor: 'black',\n  },\n  featuresSection: {\n    marginBottom: 20,\n    marginTop: 20,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 10,\n  },\n  toggleButton: {\n    padding: 10,\n    backgroundColor: 'white',\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleButtonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  featuresContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  featureColumn: {\n    width: SCREEN_WIDTH < 768 ? '90%' : '100%',\n    maxWidth: 600,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  columnTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: 'black',\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featuresList: {\n    width: '100%',\n    fontFamily: theme.fonts.header.fontFamily,\n    marginBottom: 20,\n  },\n  featureItem: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    alignItems: 'flex-start',\n    width: '100%',\n  },\n  featureIconCircle: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 5,\n  },\n  featureIcon: {\n    fontSize: 40,\n  },\n  featureTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: 'black',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  featureText: {\n    fontSize: theme.fontSizes.mediumLarge + 2,\n    color: 'black',\n    lineHeight: 22,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    backgroundColor: '#6A6C51',\n    width: '50%',\n    padding: 5,\n    borderRadius: 5,\n    alignItems: 'center',\n  },\n  buttonContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  buttonText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  blogSection: {\n    marginBottom: 20,\n    alignItems: 'center',\n  },\n  blogCard: {\n    width: 300,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    padding: 15,\n    marginRight: 10,\n  },\n  authorContainer: {\n    flexDirection: 'column',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginBottom: 10,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n  },\n  readTime: {\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 16,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  roadmapSection: {\n    marginBottom: 20,\n  },\n  roadmapImage: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  roadmapOverlayText: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'black',\n  },\n  faqSection: {\n    marginBottom: 20,\n  },\n  faqItem: {\n    marginBottom: 10,\n  },\n  faqButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  faqQuestion: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  faqToggle: {\n    fontSize: 14,\n    color: 'gray',\n  },\n  faqAnswer: {\n    fontSize: 16,\n  },\n  contactSection: {\n    // maxWidth: 800,\n    width: '100%',\n    // display: 'flex',\n    // flexDirection: 'column',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: 20,\n  },\n  contactContainer: {\n    width: '100%',\n    maxWidth: 600,\n  },\n  input: {\n    padding: 10,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 5,\n  },\n  footer: {\n    padding: 20,\n    backgroundColor: theme.colors.primary,\n    alignItems: 'center',\n  },\n  socialIconsRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 15,\n  },\n  socialIcon: {\n    marginHorizontal: 15,\n    padding: 5,\n  },\n  footerLinksRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  footerLink: {\n    color: 'white',\n    fontFamily: theme.fonts.regular.fontFamily,\n    marginHorizontal: 15,\n    textDecorationLine: 'underline',\n  },\n  successMessage: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginTop: 10,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 100,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  validationError: {\n    color: 'red',\n    fontSize: 16,\n    marginTop: -5,\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: 4,\n  },\n  starIcon: {\n    marginRight: 2,\n  },\n  waitlistSection: {\n    // backgroundColor: '#f5f5f5',\n    marginVertical: 20,\n    borderRadius: 10,\n  },\n  waitlistDescription: {\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n    paddingHorizontal: 20,\n    lineHeight: 24,\n  },\n  waitlistButton: {\n    marginTop: 10,\n    width: '80%',\n    maxWidth: 300,\n    padding: 15,\n  },\n  scrollIndicators: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 10,\n    marginBottom: 20,\n  },\n  scrollIndicatorButton: {\n    padding: 10, // Increase touch target\n    marginHorizontal: -6, // Compensate for padding while maintaining visual spacing\n  },\n  scrollIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: theme.colors.border,\n    marginHorizontal: 4,\n  },\n  scrollIndicatorActive: {\n    backgroundColor: theme.colors.primary,\n    width: 24,\n  },\n  scrollHint: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 10,\n  },\n  scrollHintText: {\n    color: theme.colors.primary,\n    marginRight: 5,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  scrollContainer: {\n    width: '100%',\n    maxWidth: 1200,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    overflowX: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    msOverflowStyle: 'auto',\n    scrollbarWidth: 'auto',\n    scrollbarColor: `${theme.colors.primary} transparent`,\n  },\n  scrollContent: {\n    flexDirection: 'row',\n    minWidth: 'min-content',\n    gap: 10,\n    padding: 20,\n    paddingBottom: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, SafeAreaView, StatusBar, Alert } from 'react-native';\nimport { Text, TextInput, Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\n\nconst fetchClientProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        name: 'Alice Johnson',\n        email: 'alice@example.com',\n        phone: '(555) 123-4567',\n        age: '32',\n        address: '123 Main St',\n        city: 'San Francisco',\n        state: 'CA',\n        zip: '94122',\n        country: 'USA',\n        bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n        pets: [\n          { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://example.com/max.jpg' },\n          { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n          { id: '3', name: 'Rocky', type: 'Dog', breed: 'Beagle', age: 2, photo: 'https://example.com/rocky.jpg' },\n        ],\n        emergencyContact: {\n          name: 'John Smith',\n          phone: '(555) 987-6543',\n        },\n        authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n      });\n    }, 1000);\n  });\n};\n\nconst ClientProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({});\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const { isApprovedProfessional, switchRole } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n\n  useEffect(() => {\n    fetchClientProfileData().then((data) => {\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n    }\n  };\n\n  const saveProfile = async () => {\n    const profileData = {\n      profilePhoto,\n      name,\n      email,\n      phone,\n      age,\n      address,\n      city,\n      state,\n      zip,\n      country,\n      bio,\n      pets,\n      emergencyContact,\n      authorizedHouseholdMembers,\n    };\n\n    setIsLoading(true);\n\n    // Simulate API call to save profile data\n    setTimeout(() => {\n      console.log(\"Profile data saved:\", profileData);\n      setIsLoading(false);\n      Alert.alert(\"Success\", \"Profile saved successfully!\");\n    }, 1000);\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode(prevState => ({...prevState, [section]: !prevState[section]}));\n  };\n\n  const renderEditableField = (label, value, onChangeText, section) => {\n    return editMode[section] ? (\n      <TextInput\n        label={label}\n        value={value}\n        onChangeText={onChangeText}\n        style={styles.input}\n      />\n    ) : (\n      <Text style={styles.fieldText}>{label}: {value}</Text>\n    );\n  };\n\n  const addHouseholdMember = () => {\n    if (editMode.household) {\n      setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, '']);\n    }\n  };\n\n  const updateHouseholdMember = (index, value) => {\n    if (editMode.household) {\n      const updatedMembers = [...authorizedHouseholdMembers];\n      updatedMembers[index] = value;\n      setAuthorizedHouseholdMembers(updatedMembers);\n    }\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300; // Adjust this value based on your popup width\n            const popupHeight = 200; // Adjust this value based on your popup height\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight,\n              left: px - scrollViewX - (popupWidth - width) / 2,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const renderIcon = (name, size, color, onPress) => {\n    return (\n      <TouchableOpacity onPress={onPress}>\n        <Ionicons name={name} size={size} color={color} />\n      </TouchableOpacity>\n    );\n  };\n\n  const ContentWrapper = Platform.OS === 'ios' ? SafeAreaView : View;\n\n  const saveSection = (section) => {\n    // Implement the save logic for each section\n    console.log(`Saving ${section} section`);\n    Alert.alert(\"Success\", `${section} information saved successfully!`);\n    toggleEditMode(section);\n  };\n\n  const handleSwitchToProfessional = () => {\n    switchRole();\n    navigation.navigate('ProfessionalProfile');\n  };\n\n  const handleGoBack = () => {\n    navigation.goBack();\n  };\n\n  const renderSaveButton = (section) => {\n    if (editMode[section]) {\n      return (\n        <Button \n          mode=\"contained\" \n          onPress={() => saveSection(section)}\n          style={styles.sectionSaveButton}\n        >\n          Save {section}\n        </Button>\n      );\n    }\n    return null;\n  };\n\n  const renderProfilePhoto = () => {\n    if (profilePhoto) {\n      return <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />;\n    } else {\n      return (\n        <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n          <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n        </View>\n      );\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return windowWidth < 600 ? '90%' : '60%';\n    }\n    return '90%';\n  };\n\n  // Use isApprovedProfessional from context or localIsApprovedProfessional from AsyncStorage\n  const showSwitchToProfessionalButton = isApprovedProfessional || localIsApprovedProfessional;\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <View style={styles.headerLeft}>\n          <TouchableOpacity onPress={() => navigation.navigate('More')} style={styles.backButton}>\n            <Ionicons name=\"chevron-back\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n          <Text style={styles.headerText}>Client Profile</Text>\n        </View>\n        {showSwitchToProfessionalButton && (\n          <Button \n            mode=\"contained\" \n            onPress={handleSwitchToProfessional}\n            style={styles.switchProfileButton}\n          >\n            Switch to Professional\n          </Button>\n        )}\n      </View>\n      <ScrollView \n        ref={scrollViewRef}\n        contentContainerStyle={styles.scrollViewContent}\n      >\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={styles.profileHeader}>\n            <TouchableOpacity onPress={pickImage}>\n              {renderProfilePhoto()}\n            </TouchableOpacity>\n            <View style={styles.profileInfo}>\n              <Text style={styles.name}>{name}</Text>\n              <Text style={styles.location}>{city}, {state}</Text>\n            </View>\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Personal Information</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('personal'))}\n            </View>\n            {renderEditableField('Name', name, setName, 'personal')}\n            {renderEditableField('Email', email, setEmail, 'personal')}\n            {renderEditableField('Phone', phone, setPhone, 'personal')}\n            {renderEditableField('Age', age, setAge, 'personal')}\n            {renderSaveButton('personal')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Address</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('address'))}\n            </View>\n            {renderEditableField('Address', address, setAddress, 'address')}\n            {renderEditableField('City', city, setCity, 'address')}\n            {renderEditableField('State', state, setState, 'address')}\n            {renderEditableField('ZIP', zip, setZip, 'address')}\n            {renderEditableField('Country', country, setCountry, 'address')}\n            {renderSaveButton('address')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>About Me</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('bio'))}\n            </View>\n            {editMode.bio ? (\n              <TextInput\n                multiline\n                numberOfLines={4}\n                value={bio}\n                onChangeText={setBio}\n                style={styles.bioInput}\n              />\n            ) : (\n              <Text style={styles.fieldText}>{bio}</Text>\n            )}\n            {renderSaveButton('bio')}\n          </View>\n\n          <View style={styles.section}>\n            <TouchableOpacity onPress={() => navigation.navigate('MyPets')}>\n              <Text style={styles.sectionTitle}>My Pets</Text>\n            </TouchableOpacity>\n            {pets.map((pet) => (\n              <TouchableOpacity \n                key={pet.id} \n                style={styles.petItem}\n                onPress={() => navigation.navigate('PetProfile', { petId: pet.id })}\n              >\n                <View style={styles.petItemContent}>\n                  <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n                  <View style={styles.petInfo}>\n                    <Text style={styles.petName}>{pet.name}</Text>\n                    <Text style={styles.petDetails}>{pet.type} • {pet.breed} • {pet.age} years old</Text>\n                  </View>\n                </View>\n              </TouchableOpacity>\n            ))}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Emergency Contact</Text>\n              {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('emergency'))}\n            </View>\n            {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({...emergencyContact, name: text}), 'emergency')}\n            {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({...emergencyContact, phone: text}), 'emergency')}\n            {renderSaveButton('emergency')}\n          </View>\n\n          <View style={styles.section}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n              <View style={styles.iconContainer}>\n                <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                  <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n                {renderIcon('pencil', 20, theme.colors.primary, () => toggleEditMode('household'))}\n              </View>\n            </View>\n            {authorizedHouseholdMembers.map((member, index) => (\n              editMode.household ? (\n                <TextInput\n                  key={index}\n                  label={`Member ${index + 1}`}\n                  value={member}\n                  onChangeText={(text) => updateHouseholdMember(index, text)}\n                  style={styles.input}\n                />\n              ) : (\n                <Text key={index} style={styles.fieldText}>{member}</Text>\n              )\n            ))}\n            {editMode.household && (\n              <Button mode=\"outlined\" onPress={addHouseholdMember} style={styles.addButton}>\n                Add Household Member\n              </Button>\n            )}\n            {renderSaveButton('household')}\n          </View>\n        </View>\n      </ScrollView>\n\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  content: {\n    alignSelf: 'center',\n    maxWidth: 800,\n    paddingTop: 16, // Add some padding at the top\n  },\n  switchProfileButton: {\n    alignSelf: 'flex-end',\n    marginBottom: 16,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  sectionSaveButton: {\n    marginTop: 16,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginTop: 10,\n    color: theme.colors.primary,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  fieldText: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  iconContainer: {\n    flexDirection: 'row',\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 10,\n  },\n  modalContent: {\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  modalText: {\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  profileInfo: {\n    alignItems: 'center',\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  headerLeft: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  switchProfileButton: {\n    backgroundColor: theme.colors.primary,\n  },\n});\n\nexport default ClientProfile;\n","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { theme } from '../styles/theme';\n\nconst FloatingSaveButton = ({ visible, onSave, btnText }) => {\n  if (!visible) return null;\n//   console.log('visible: ', visible)\n\n  return (\n    <View style={[\n      styles.floatingButtonContainer,\n      Platform.OS === 'web' ? styles.webButton : styles.mobileButton\n    ]}>\n      <Button \n        mode=\"contained\" \n        onPress={onSave}\n        style={styles.floatingButton}\n      >\n        {btnText}\n      </Button>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  floatingButtonContainer: {\n    left: 0,\n    right: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 16,\n    zIndex: 9999,\n  },\n  webButton: {\n    position: 'sticky',\n    bottom: 20,\n    backgroundColor: 'transparent',\n  },\n  mobileButton: {\n    position: 'absolute',\n    bottom: Platform.OS === 'web' ? 80 : 100,\n    paddingBottom: Platform.OS === 'web' ? 20 : 20,\n  },\n  floatingButton: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 25,\n    paddingHorizontal: 20,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    maxWidth: 600,\n  },\n});\n\nexport default FloatingSaveButton;","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  Alert,\n  ScrollView,\n  Platform,\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { TIME_OPTIONS, GENERAL_CATEGORIES, SERVICE_TYPE_SUGGESTIONS, ANIMAL_TYPE_SUGGESTIONS } from '../data/mockData';\n\nconst AddServiceModal = ({ \n  visible, \n  onClose, \n  onSave,\n  initialService = null,\n  setHasUnsavedChanges \n}) => {\n  const [currentService, setCurrentService] = useState({\n    serviceName: '',\n    serviceDescription: '',\n    animalTypes: '',\n    rates: { \n      base_rate: '',\n      additionalAnimalRate: '',\n      holidayRate: ''\n    },\n    lengthOfService: '',\n    categories: [],\n  });\n  const [additionalRates, setAdditionalRates] = useState([]);\n  const [showValidationErrors, setShowValidationErrors] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [serviceDropdownPosition, setServiceDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [animalDropdownPosition, setAnimalDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const [categoryDropdownPosition, setCategoryDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n\n  const serviceInputRef = useRef(null);\n  const animalInputRef = useRef(null);\n  const categoryInputRef = useRef(null);\n  const timeInputRef = useRef(null);\n\n  const categoryDropdownRef = useRef(null);\n  const animalDropdownRef = useRef(null);\n  const serviceDropdownRef = useRef(null);\n  const timeDropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (initialService) {\n      setCurrentService(initialService);\n      setSelectedCategories(initialService.categories || []);\n      setAdditionalRates(initialService.additionalRates || []);\n    }\n  }, [initialService]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showCategoryDropdown && \n          categoryDropdownRef.current && \n          !categoryDropdownRef.current.contains(event.target)) {\n        setShowCategoryDropdown(false);\n      }\n      if (showAnimalDropdown && \n          animalDropdownRef.current && \n          !animalDropdownRef.current.contains(event.target)) {\n        setShowAnimalDropdown(false);\n      }\n      if (showServiceDropdown && \n          serviceDropdownRef.current && \n          !serviceDropdownRef.current.contains(event.target)) {\n        setShowServiceDropdown(false);\n      }\n      if (showTimeDropdown && \n          timeDropdownRef.current && \n          !timeDropdownRef.current.contains(event.target)) {\n        setShowTimeDropdown(false);\n      }\n    };\n\n    if (visible) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showCategoryDropdown, showAnimalDropdown, showServiceDropdown, showTimeDropdown, visible]);\n\n  const measureDropdown = (inputRef, setPosition, inputType) => {\n    if (inputRef.current) {\n      inputRef.current.measure((x, y, width, height, pageX, pageY) => {\n        setPosition({ \n          top: y + height - 6,\n          left: x, \n          width: '100%',\n        });\n      });\n    }\n  };\n\n  const handleServiceTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, serviceName: text }));\n  };\n\n  const handleAnimalTypeChange = (text) => {\n    setCurrentService((prev) => ({ ...prev, animalTypes: text }));\n  };\n\n  const handleCategorySelect = (category) => {\n    setSelectedCategories(prev => {\n      if (prev.includes(category)) {\n        return prev.filter(c => c !== category);\n      }\n      return [...prev, category];\n    });\n  };\n\n  const getFilteredServiceSuggestions = () => {\n    if (!currentService?.serviceName) return SERVICE_TYPE_SUGGESTIONS;\n    return SERVICE_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.serviceName.toLowerCase())\n    );\n  };\n\n  const getFilteredAnimalSuggestions = () => {\n    if (!currentService?.animalTypes) return ANIMAL_TYPE_SUGGESTIONS;\n    return ANIMAL_TYPE_SUGGESTIONS.filter(suggestion =>\n      suggestion.toLowerCase().includes(currentService.animalTypes.toLowerCase())\n    );\n  };\n\n  const addAdditionalRate = () => {\n    setAdditionalRates(prev => [...prev, { label: '', value: '', description: '' }]);\n  };\n\n  const updateAdditionalRate = (index, key, value) => {\n    setAdditionalRates(prev =>\n      prev.map((rate, i) => (i === index ? { ...rate, [key]: value } : rate))\n    );\n  };\n\n  const handleAddService = async () => {\n    if (!currentService.serviceName?.trim() ||\n        !currentService.animalTypes?.trim() ||\n        !currentService.rates.base_rate?.trim() ||\n        !currentService.rates.additionalAnimalRate?.trim() ||\n        !currentService.rates.holidayRate?.trim() ||\n        !currentService.lengthOfService?.trim()) {\n      setShowValidationErrors(true);\n      return;\n    }\n\n    try {\n      const serviceToSave = {\n        ...currentService,\n        additionalRates,\n        categories: selectedCategories,\n      };\n\n      await onSave(serviceToSave);\n      setHasUnsavedChanges(true);\n      resetForm();\n      onClose();\n    } catch (error) {\n      console.error('Error saving service:', error);\n      Alert.alert('Error', 'Failed to save service');\n    }\n  };\n\n  const resetForm = () => {\n    setCurrentService({\n      serviceName: '',\n      serviceDescription: '',\n      animalTypes: '',\n      rates: { \n        base_rate: '',\n        additionalAnimalRate: '',\n        holidayRate: ''\n      },\n      lengthOfService: '',\n      categories: [],\n    });\n    setSelectedCategories([]);\n    setAdditionalRates([]);\n    setShowValidationErrors(false);\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"slide\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <ScrollView style={styles.modalScroll}>\n            <Text style={styles.modalTitle}>\n              {initialService ? 'Edit Service' : 'Add New Service'}\n            </Text>\n            \n            <View style={[styles.inputWrapper, { zIndex: 4 }]}>\n              <Text style={styles.inputLabel}>General Categories</Text>\n              <TouchableOpacity\n                ref={categoryInputRef}\n                style={[styles.input, styles.categoryInput]}\n                onPress={() => {\n                  measureDropdown(categoryInputRef, setCategoryDropdownPosition, 'category');\n                  setShowCategoryDropdown(!showCategoryDropdown);\n                }}\n              >\n                <Text style={selectedCategories.length ? styles.selectedText : styles.placeholderText}>\n                  {selectedCategories.length ? selectedCategories.join(', ') : 'Select categories'}\n                </Text>\n                <MaterialCommunityIcons \n                  name={showCategoryDropdown ? \"chevron-up\" : \"chevron-down\"} \n                  size={24} \n                  color={theme.colors.primary} \n                />\n              </TouchableOpacity>\n              {showCategoryDropdown && (\n                <View \n                  ref={categoryDropdownRef}\n                  style={[styles.categoryDropdownContainer, categoryDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.categoryScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {GENERAL_CATEGORIES.map((category, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => handleCategorySelect(category)}\n                        style={styles.categoryItem}\n                      >\n                        <Text style={styles.categoryText}>{category}</Text>\n                        <View style={styles.checkmarkContainer}>\n                          {selectedCategories.includes(category) && (\n                            <MaterialCommunityIcons \n                              name=\"check\" \n                              size={20} \n                              color={theme.colors.primary} \n                            />\n                          )}\n                        </View>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 3 }]}>\n              <Text style={styles.inputLabel}>Animal Type</Text>\n              <TextInput\n                ref={animalInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.animalTypes?.trim() && styles.inputError\n                ]}\n                placeholder=\"Animal Type\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.animalTypes}\n                onChangeText={handleAnimalTypeChange}\n                onFocus={() => {\n                  setShowAnimalDropdown(true);\n                  measureDropdown(animalInputRef, setAnimalDropdownPosition, 'animal');\n                }}\n              />\n              {showAnimalDropdown && (\n                <View \n                  ref={animalDropdownRef}\n                  style={[styles.suggestionsContainer, animalDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredAnimalSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, animalTypes: suggestion }));\n                          setShowAnimalDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 2 }]}>\n              <Text style={styles.inputLabel}>Service Name</Text>\n              <TextInput\n                ref={serviceInputRef}\n                style={[\n                  styles.input,\n                  showValidationErrors && !currentService?.serviceName?.trim() && styles.inputError\n                ]}\n                placeholder=\"Service Name\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceName}\n                onChangeText={handleServiceTypeChange}\n                onFocus={() => {\n                  setShowServiceDropdown(true);\n                  measureDropdown(serviceInputRef, setServiceDropdownPosition, 'service');\n                }}\n              />\n              {showServiceDropdown && (\n                <View \n                  ref={serviceDropdownRef}\n                  style={[styles.suggestionsContainer, serviceDropdownPosition]}\n                >\n                  <ScrollView \n                    style={styles.suggestionScrollView}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {getFilteredServiceSuggestions().map((suggestion, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, serviceName: suggestion }));\n                          setShowServiceDropdown(false);\n                        }}\n                      >\n                        <Text style={styles.suggestionText}>{suggestion}</Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Service Description</Text>\n              <TextInput\n                style={[styles.input, styles.descriptionInput]}\n                placeholder=\"Service Description\"\n                placeholderTextColor={theme.colors.placeHolderText}\n                value={currentService?.serviceDescription}\n                onChangeText={(text) =>\n                  setCurrentService((prev) => ({ ...prev, serviceDescription: text }))\n                }\n                multiline\n              />\n            </View>\n\n            <View style={[styles.inputWrapper, { zIndex: 1 }]}>\n              <Text style={styles.inputLabel}>Length of Service</Text>\n              <TouchableOpacity\n                ref={timeInputRef}\n                style={[\n                  styles.input,\n                  styles.timeInput,\n                  showValidationErrors && !currentService?.lengthOfService?.trim() && styles.inputError\n                ]}\n                onPress={() => setShowTimeDropdown(!showTimeDropdown)}\n              >\n                <Text style={currentService?.lengthOfService ? styles.selectedText : styles.placeholderText}>\n                  {currentService?.lengthOfService || 'Select length of service'}\n                </Text>\n                <MaterialCommunityIcons\n                  name={showTimeDropdown ? 'chevron-up' : 'chevron-down'}\n                  size={24}\n                  color={theme.colors.primary}\n                />\n              </TouchableOpacity>\n              {showTimeDropdown && (\n                <View \n                  ref={timeDropdownRef}\n                  style={styles.timeDropdownContainer}\n                >\n                  <ScrollView\n                    style={{ maxHeight: 200 }}\n                    nestedScrollEnabled={true}\n                    showsVerticalScrollIndicator={true}\n                    persistentScrollbar={true}\n                  >\n                    {TIME_OPTIONS.map((option, index) => (\n                      <TouchableOpacity\n                        key={index}\n                        style={styles.timeDropdownItem}\n                        onPress={() => {\n                          setCurrentService((prev) => ({ ...prev, lengthOfService: option }));\n                          setShowTimeDropdown(false);\n                        }}\n                      >\n                        <Text\n                          style={[\n                            styles.timeDropdownText,\n                            currentService?.lengthOfService === option && styles.selectedTimeOption,\n                          ]}\n                        >\n                          {option}\n                        </Text>\n                      </TouchableOpacity>\n                    ))}\n                  </ScrollView>\n                </View>\n              )}\n            </View>\n\n            <Text style={styles.inputLabel}>Base Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.base_rate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 25\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.base_rate ? `$${currentService.rates.base_rate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    base_rate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Additional Animal Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.additionalAnimalRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 20\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.additionalAnimalRate ? `$${currentService.rates.additionalAnimalRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    additionalAnimalRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            <Text style={styles.inputLabel}>Holiday Rate</Text>\n            <TextInput\n              style={[\n                styles.input,\n                showValidationErrors && !currentService?.rates?.holidayRate?.trim() && styles.inputError\n              ]}\n              placeholder=\"$ Ex. 30\"\n              placeholderTextColor={theme.colors.placeHolderText}\n              keyboardType=\"decimal-pad\"\n              value={currentService?.rates?.holidayRate ? `$${currentService.rates.holidayRate}` : ''}\n              onChangeText={(value) =>\n                setCurrentService((prev) => ({ \n                  ...prev, \n                  rates: {\n                    ...prev.rates,\n                    holidayRate: value.replace(/[^0-9.]/g, '').replace('$', '')\n                  }\n                }))\n              }\n            />\n\n            {additionalRates.map((rate, idx) => (\n              <View key={idx} style={styles.additionalRateRow}>\n                <Text style={styles.additionalRateTitle}>Rate #{idx + 1}</Text>\n                <Text style={styles.inputLabel}>Rate Title</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.label?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Animal with medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.label || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'label', text)}\n                />\n                <Text style={styles.inputLabel}>Rate Amount</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.value?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"$ Ex. 20\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  keyboardType=\"decimal-pad\"\n                  value={rate.value ? `$${rate.value}` : ''}\n                  onChangeText={(value) => updateAdditionalRate(idx, 'value', value.replace(/[^0-9.]/g, '').replace('$', ''))}\n                />\n                <Text style={styles.inputLabel}>Rate Description</Text>\n                <TextInput\n                  style={[\n                    styles.input,\n                    showValidationErrors && !rate.description?.trim() && styles.inputError\n                  ]}\n                  placeholder=\"Rate for animal needing medication\"\n                  placeholderTextColor={theme.colors.placeHolderText}\n                  value={rate.description || ''}\n                  onChangeText={(text) => updateAdditionalRate(idx, 'description', text)}\n                />\n                <TouchableOpacity \n                  onPress={() => {\n                    setAdditionalRates(prevRates => prevRates.filter((_, i) => i !== idx));\n                  }}\n                  style={styles.deleteRateButton}\n                >\n                  <Text style={styles.deleteRateButtonText}>Delete Additional Rate</Text>\n                </TouchableOpacity>\n              </View>\n            ))}\n\n            <TouchableOpacity onPress={addAdditionalRate} style={styles.addRateButton}>\n              <Text style={styles.addRateText}>+ Add Additional Rate</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.modalButtons}>\n            <TouchableOpacity\n              style={styles.cancelButton}\n              onPress={() => {\n                resetForm();\n                onClose();\n              }}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.saveButton} onPress={handleAddService}>\n              <Text style={styles.saveButtonText}>\n                {initialService ? 'Save Changes' : 'Add Service'}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '50%',\n  },\n  modalScroll: {\n    maxHeight: '90%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  inputWrapper: {\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.surface,\n    color: theme.colors.text,\n  },\n  inputError: {\n    borderColor: theme.colors.error,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    marginTop: 15,\n    fontWeight: '500',\n  },\n  categoryInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  timeInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  selectedText: {\n    color: theme.colors.text,\n  },\n  placeholderText: {\n    color: theme.colors.placeHolderText,\n  },\n  categoryDropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  categoryScrollView: {\n    maxHeight: 200,\n  },\n  categoryItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  categoryText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  checkmarkContainer: {\n    width: 24,\n    alignItems: 'center',\n  },\n  suggestionsContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  suggestionScrollView: {\n    maxHeight: 200,\n  },\n  suggestionText: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    color: theme.colors.text,\n  },\n  timeDropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  timeDropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  timeDropdownText: {\n    color: theme.colors.text,\n  },\n  selectedTimeOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  descriptionInput: {\n    height: 80,\n    textAlignVertical: 'top',\n    paddingTop: 10,\n  },\n  additionalRateRow: {\n    marginTop: 20,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  additionalRateTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  deleteRateButton: {\n    backgroundColor: theme.colors.error,\n    padding: 10,\n    borderRadius: 5,\n    marginTop: 10,\n    alignItems: 'center',\n  },\n  deleteRateButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  addRateButton: {\n    marginTop: 15,\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    alignItems: 'center',\n  },\n  addRateText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 20,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    marginLeft: 10,\n  },\n  saveButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default AddServiceModal;\n","import React, { useContext } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ProfessionalServiceCard = ({ \n  item, \n  index, \n  isCollapsed, \n  onEdit, \n  onDelete, \n  onToggleCollapse \n}) => {\n  const { screenWidth } = useContext(AuthContext);\n\n  return (\n    <View style={styles.serviceCard}>\n      <View style={styles.topRow}>\n        <Text style={styles.serviceName}>{item.serviceName}</Text>\n        <View style={styles.topRowIcons}>\n          <TouchableOpacity onPress={() => onDelete(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"trash-can\" size={24} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => onEdit(index)} style={styles.iconButton}>\n            <MaterialCommunityIcons name=\"pencil\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </View>\n      \n      {isCollapsed ? (\n        <View style={styles.collapsedContent}>\n          <Text style={styles.rateText}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n        </View>\n      ) : (\n        <View style={styles.contentRow}>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Base Rate: ${item.rates.base_rate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Additional Animal: ${item.rates.additionalAnimalRate || 'N/A'}</Text>\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Holiday Rate: ${item.rates.holidayRate || 'N/A'}</Text>\n          {item.additionalRates && item.additionalRates.map((rate, idx) => (\n            <Text key={idx} style={[styles.rateText, { \n              fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n            }]}>\n              {rate.label}: ${rate.value} {rate.description ? `(${rate.description})` : ''}\n            </Text>\n          ))}\n          <Text style={[styles.rateText, { \n            fontSize: screenWidth <= 600 ? theme.fontSizes.small : theme.fontSizes.medium \n          }]}>Duration: {item.lengthOfService || 'N/A'}</Text>\n        </View>\n      )}\n\n      <TouchableOpacity \n        onPress={() => onToggleCollapse(index)} \n        style={styles.collapseButton}\n      >\n        <MaterialCommunityIcons \n          name={isCollapsed ? \"chevron-down\" : \"chevron-up\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    marginVertical: 8,\n    padding: 12,\n    position: 'relative',\n  },\n  topRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  topRowIcons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  iconButton: {\n    padding: 4,\n  },\n  contentRow: {\n    gap: 4,\n  },\n  collapsedContent: {\n    marginTop: 4,\n  },\n  rateText: {\n    color: theme.colors.text,\n  },\n  collapseButton: {\n    position: 'absolute',\n    bottom: 8,\n    right: 8,\n    padding: 4,\n  },\n});\n\nexport default ProfessionalServiceCard;","import React from 'react';\nimport { Modal, View, Text, TouchableOpacity, StyleSheet, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ConfirmationModal = ({ \n  visible, \n  onClose, \n  onConfirm, \n  actionText,\n  isLoading = false\n}) => {\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalText}>\n            Are you sure you want to {actionText}?\n          </Text>\n          \n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.cancelButton]}\n              onPress={onClose}\n              disabled={isLoading}\n            >\n              <Text style={[\n                styles.cancelButtonText,\n                isLoading && styles.disabledText\n              ]}>\n                Cancel\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              style={[\n                styles.button, \n                styles.confirmButton,\n                isLoading && styles.disabledButton\n              ]}\n              onPress={onConfirm}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n              ) : (\n                <Text style={styles.confirmButtonText}>Confirm</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 400,\n  },\n  modalText: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    textAlign: 'center',\n    color: theme.colors.text,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  confirmButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  confirmButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  disabledText: {\n    opacity: 0.5,\n  },\n});\n\nexport default ConfirmationModal;","import React, { useState, useRef } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, FlatList } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddServiceModal from './AddServiceModal';\nimport ProfessionalServiceCard from './ProfessionalServiceCard';\nimport ConfirmationModal from './ConfirmationModal';\nimport { Portal } from 'react-native-paper';\n\nconst ServiceManager = ({ services, setServices, setHasUnsavedChanges, isProfessionalTab = false }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [editingService, setEditingService] = useState(null);\n  const [collapsedServices, setCollapsedServices] = useState([]);\n  const [allCollapsed, setAllCollapsed] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [serviceToDelete, setServiceToDelete] = useState(null);\n  const [hoveredButton, setHoveredButton] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState(null);\n  const [collapseTooltipPosition, setCollapseTooltipPosition] = useState(null);\n  const buttonRef = useRef(null);\n  const collapseButtonRef = useRef(null);\n\n  const toggleCollapseAll = () => {\n    if (allCollapsed) {\n      setCollapsedServices([]);\n    } else {\n      setCollapsedServices(services.map((_, index) => index));\n    }\n    setAllCollapsed(!allCollapsed);\n  };\n\n  const handleEditService = (index) => {\n    const serviceToEdit = { ...services[index], index };\n    setEditingService(serviceToEdit);\n    setShowModal(true);\n  };\n\n  const handleDeleteService = (index) => {\n    setServiceToDelete(index);\n    setShowDeleteModal(true);\n  };\n\n  const handleSaveService = (updatedService) => {\n    if (editingService !== null) {\n      setServices(prev => \n        prev.map((service, index) => \n          index === editingService.index ? updatedService : service\n        )\n      );\n    } else {\n      setServices(prev => [...prev, updatedService]);\n    }\n    setHasUnsavedChanges(true);\n    setEditingService(null);\n  };\n\n  const toggleCollapse = (index) => {\n    setCollapsedServices((prev) =>\n      prev.includes(index)\n        ? prev.filter((i) => i !== index)\n        : [...prev, index]\n    );\n  };\n\n  const confirmDelete = () => {\n    setServices(prevServices => \n      prevServices.filter((_, i) => i !== serviceToDelete)\n    );\n    setHasUnsavedChanges(true);\n    setShowDeleteModal(false);\n  };\n\n  const showTooltip = (ref, tooltipText, setPosition) => {\n    if (ref.current) {\n      setTimeout(() => {\n        // Get the button's DOM element\n        const element = ref.current;\n        // Get the button's bounding rectangle relative to the viewport\n        const rect = element.getBoundingClientRect();\n        \n        \n        setPosition({\n          x: rect.left + (rect.width / 2),\n          y: rect.top, // Position tooltip at the top of the button\n          text: tooltipText\n        });\n        \n        \n        setHoveredButton(tooltipText);\n      }, 0);\n    }\n  };\n\n  // {console.log('Services:', services)}\n\n  return (\n    <View style={styles.container}>\n      <View style={[styles.serviceListContainer, { paddingHorizontal: isProfessionalTab ? 0 : 20 }]}>\n        <View style={styles.headerButtons}>\n          <Text style={styles.sectionTitle}>Services</Text>\n          <View style={styles.headerActions}>\n            <TouchableOpacity \n              ref={collapseButtonRef}\n              onPress={toggleCollapseAll} \n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(\n                    collapseButtonRef, \n                    allCollapsed ? 'Expand All' : 'Collapse All', \n                    setCollapseTooltipPosition\n                  );\n                } catch (error) {\n                  console.error('Error showing collapse tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setCollapseTooltipPosition(null);\n              }}\n            >\n              <MaterialCommunityIcons \n                name={allCollapsed ? \"chevron-down\" : \"chevron-up\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              ref={buttonRef}\n              style={styles.headerButton}\n              onMouseEnter={() => {\n                try {\n                  showTooltip(buttonRef, 'Add Service', setTooltipPosition);\n                } catch (error) {\n                  console.error('Error showing add tooltip:', error);\n                }\n              }}\n              onMouseLeave={() => {\n                setHoveredButton(null);\n                setTooltipPosition(null);\n              }}\n              onPress={() => {\n                setEditingService(null);\n                setShowModal(true);\n              }}\n            >\n              <MaterialCommunityIcons \n                name=\"plus\" \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        {(Array.isArray(services) && services.length > 0) ? (\n          <FlatList\n            data={services}\n            renderItem={({ item, index }) => {\n              // console.log('Before ProfessionalServiceCard render:', { item, index });\n              \n              if (!item || typeof item !== 'object') {\n                console.warn('Invalid item detected:', item);\n                return null;\n              }\n              \n              return (\n                <ProfessionalServiceCard\n                  key={`service-${index}`}\n                  item={item}\n                  {...item}\n                  service={item}\n                  onEdit={() => handleEditService(index)}\n                  onDelete={() => handleDeleteService(index)}\n                  isCollapsed={collapsedServices.includes(index)}\n                  onToggleCollapse={() => toggleCollapse(index)}\n                  isProfessionalTab={isProfessionalTab}\n                />\n              );\n            }}\n            keyExtractor={(item, index) => `service-${index}`}\n          />\n        ) : (\n          <View style={styles.emptyContainer}>\n            <Text style={styles.emptyText}>No services yet</Text>\n            <TouchableOpacity \n              style={styles.addButton}\n              onPress={() => setShowModal(true)}\n            >\n              <Text style={styles.addButtonText}>Add Services</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      </View>\n      \n\n      <AddServiceModal\n        visible={showModal}\n        onClose={() => {\n          setShowModal(false);\n          setEditingService(null);\n        }}\n        onSave={handleSaveService}\n        initialService={editingService}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n      />\n\n      <ConfirmationModal\n        visible={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        onConfirm={confirmDelete}\n        actionText=\"delete this service\"\n      />\n\n      {tooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: tooltipPosition.y - 40,\n                left: tooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{tooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n\n      {collapseTooltipPosition && (\n        <Portal>\n          <View \n            style={[\n              styles.portalTooltip,\n              {\n                position: 'fixed',\n                top: collapseTooltipPosition.y - 40,\n                left: collapseTooltipPosition.x - 35,\n              }\n            ]}\n          >\n            <Text style={styles.tooltipText}>{collapseTooltipPosition.text}</Text>\n          </View>\n        </Portal>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 9998,\n    elevation: 9998,\n  },\n  serviceListContainer: {\n    flex: 1,\n    paddingVertical: 0,\n  },\n  headerButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  headerButton: {\n    marginLeft: 20,\n    padding: 8,\n    position: 'relative',\n    zIndex: 9999,\n    elevation: 9999,\n  },\n  buttonTooltip: {\n    position: 'absolute',\n    bottom: '100%',\n    left: '50%',\n    transform: [{ translateX: -35 }],\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    width: 70,\n    textAlign: 'center',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -1,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 10000,\n    elevation: 10000,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  portalTooltip: {\n    backgroundColor: theme.colors.surface,\n    padding: 8,\n    borderRadius: 4,\n    width: 70,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  tooltipText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  emptyText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    marginBottom: 20,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n});\n\nexport default ServiceManager;\n","import React from 'react';\nimport { View, Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst RecordedPets = ({ pets }) => {\n  return (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>My Pets</Text>\n      {pets.map((pet) => (\n        <TouchableOpacity key={pet.id} style={styles.petItem}>\n          <View style={styles.petItemContent}>\n            <Image source={{ uri: pet.photo }} style={styles.petPhoto} />\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type} • {pet.breed} • {pet.age} years old</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      ))}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n});\n\nexport default RecordedPets;","import React from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst EditableSection = ({ \n  title, \n  value, \n  onChangeText, \n  editMode, \n  toggleEditMode, \n  setHasUnsavedChanges,\n  getContentWidth,\n  multiline = true \n}) => {\n  const renderEditableField = () => {\n    return editMode ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${title.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  return (\n    <View style={styles.section}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>{title}</Text>\n        <TouchableOpacity onPress={toggleEditMode}>\n          <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n        </TouchableOpacity>\n      </View>\n      {renderEditableField()}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    // marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n});\n\nexport default EditableSection;","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  Image,\n  TouchableOpacity,\n  ScrollView,\n  StyleSheet,\n  Modal,\n} from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport ServiceManager from './ServiceManager';\nimport { theme } from '../styles/theme';\nimport RecordedPets from './RecordedPets';\nimport EditableSection from './EditableSection';\nimport * as ImagePicker from 'expo-image-picker';\n\nconst ProfessionalTab = ({ \n  services, \n  setServices, \n  setHasUnsavedChanges,\n  getContentWidth,\n  pets,\n  editMode,\n  toggleEditMode\n}) => {\n  const [professionalPhoto, setProfessionalPhoto] = useState(null);\n  const [professionalBio, setProfessionalBio] = useState('');\n  const [portfolioPhotos, setPortfolioPhotos] = useState([]);\n  const [facilities, setFacilities] = useState('');\n  const [skills, setSkills] = useState({\n    certifications: [],\n    experience: '',\n    specialties: [],\n  });\n  const [selectedFacilities, setSelectedFacilities] = useState([]);\n  const [facilitiesModalVisible, setFacilitiesModalVisible] = useState(false);\n  const [tempSelectedFacilities, setTempSelectedFacilities] = useState([]);\n\n  const FACILITY_OPTIONS = [\n    // Living Situation\n    { id: 'apartment', label: 'Lives in an apartment' },\n    { id: 'house', label: 'Lives in a house' },\n    { id: 'fenced_yard', label: 'Has a fenced yard' },\n    \n    // Household Environment\n    { id: 'non_smoking', label: 'Non-smoking household' },\n    { id: 'no_children', label: 'No children present' },\n    { id: 'has_children', label: 'Children present' },\n    { id: 'security_system', label: 'Has security system' },\n    \n    // Pet Policies\n    { id: 'dogs_bed', label: 'Dogs allowed on bed' },\n    { id: 'dogs_furniture', label: 'Dogs allowed on furniture' },\n    { id: 'crate_available', label: 'Crate available' },\n    { id: 'separate_areas', label: 'Can separate pets' },\n    \n    // Care Details\n    { id: 'potty_0_2', label: 'Potty breaks every 0-2 hours' },\n    { id: 'potty_2_4', label: 'Potty breaks every 2-4 hours' },\n    { id: 'potty_4_6', label: 'Potty breaks every 4-6 hours' },\n    \n    // Resident Pets\n    { id: 'no_pets', label: 'No resident pets' },\n    { id: 'has_dogs', label: 'Has resident dogs' },\n    { id: 'has_cats', label: 'Has resident cats' },\n    \n    // Additional Features\n    { id: 'air_conditioned', label: 'Air-conditioned' },\n    { id: 'outdoor_area', label: 'Has outdoor play area' },\n    { id: 'emergency_transport', label: 'Emergency transport available' },\n  ];\n\n  const pickProfessionalPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfessionalPhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const addPortfolioPhoto = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: false,\n      quality: 1,\n      aspect: [4, 3],\n      allowsMultipleSelection: true,\n      selectionLimit: 10,\n    });\n\n    if (!result.canceled) {\n      const newPhotos = result.assets.map(asset => ({\n        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n        uri: asset.uri,\n        caption: 'New portfolio photo'\n      }));\n      \n      setPortfolioPhotos(prev => [...prev, ...newPhotos]);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, multiline = false) => {\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          multiline && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={multiline}\n        numberOfLines={multiline ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {value || `No ${label.toLowerCase()} provided`}\n      </Text>\n    );\n  };\n\n  const toggleFacility = (facilityId) => {\n    setSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n    setHasUnsavedChanges(true);\n  };\n\n  const openFacilitiesModal = () => {\n    setTempSelectedFacilities([...selectedFacilities]);\n    setFacilitiesModalVisible(true);\n  };\n\n  const saveFacilities = () => {\n    setSelectedFacilities(tempSelectedFacilities);\n    setFacilitiesModalVisible(false);\n    setHasUnsavedChanges(true);\n  };\n\n  const toggleTempFacility = (facilityId) => {\n    setTempSelectedFacilities(prev => {\n      if (prev.includes(facilityId)) {\n        return prev.filter(id => id !== facilityId);\n      } else {\n        return [...prev, facilityId];\n      }\n    });\n  };\n\n  return (\n    <View style={styles.centeredContent}>\n      {/* Professional Photo Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Profile Photo (Professional)</Text>\n        </View>\n        <View style={styles.profileHeader}>\n          <TouchableOpacity onPress={pickProfessionalPhoto}>\n            {professionalPhoto ? (\n              <Image source={{ uri: professionalPhoto }} style={styles.profilePhoto} />\n            ) : (\n              <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n              </View>\n            )}\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      {/* Professional Bio Section */}\n      <EditableSection\n        title=\"Professional Bio\"\n        value={professionalBio}\n        onChangeText={setProfessionalBio}\n        editMode={editMode.professionalBio}\n        toggleEditMode={() => toggleEditMode('professionalBio')}\n        setHasUnsavedChanges={setHasUnsavedChanges}\n        getContentWidth={getContentWidth}\n      />\n\n      {/* Services Section */}\n      <View style={styles.section}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={true}\n        />\n      </View>\n\n      {/* Portfolio Photos Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Portfolio Photos</Text>\n          <TouchableOpacity onPress={addPortfolioPhoto}>\n            <MaterialCommunityIcons \n              name=\"plus\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.portfolioGrid}>\n          {portfolioPhotos.map((photo) => (\n            <TouchableOpacity \n              key={photo.id} \n              style={styles.portfolioCard}\n              onPress={() => {\n                // Handle photo edit/view\n                // Could add modal to edit caption or view full size\n              }}\n            >\n              <View style={styles.portfolioImageContainer}>\n                <Image \n                  source={{ uri: photo.uri }} \n                  style={styles.portfolioPhoto} \n                />\n              </View>\n              <Text style={styles.portfolioCaption}>{photo.caption}</Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n        {portfolioPhotos.length === 0 && (\n          <Text style={styles.emptyText}>\n            No portfolio photos added yet\n          </Text>\n        )}\n      </View>\n        \n      { /* My Pets Section (Read-Only) */}\n      <RecordedPets pets={pets} />\n\n      {/* Home & Facilities Section */}\n      <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Home & Facilities</Text>\n          <TouchableOpacity onPress={openFacilitiesModal}>\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.facilitiesContainer}>\n          {selectedFacilities.map((facilityId) => {\n            const facility = FACILITY_OPTIONS.find(f => f.id === facilityId);\n            return (\n              <View key={facilityId} style={styles.facilityTag}>\n                <Text style={styles.facilityTagText}>{facility.label}</Text>\n              </View>\n            );\n          })}\n          {selectedFacilities.length === 0 && (\n            <Text style={styles.emptyText}>No facilities selected</Text>\n          )}\n        </View>\n\n        {/* Facilities Selection Modal */}\n        <Modal\n          visible={facilitiesModalVisible}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setFacilitiesModalVisible(false)}\n        >\n          <View style={styles.modalOverlay}>\n            <View style={styles.modalContent}>\n              <View style={styles.modalHeader}>\n                <Text style={styles.modalTitle}>Select Home & Facilities</Text>\n                <TouchableOpacity onPress={() => setFacilitiesModalVisible(false)}>\n                  <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n                </TouchableOpacity>\n              </View>\n              \n              <ScrollView style={styles.modalScroll}>\n                {FACILITY_OPTIONS.map((facility) => (\n                  <TouchableOpacity\n                    key={facility.id}\n                    style={[\n                      styles.modalFacilityTag,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagSelected\n                    ]}\n                    onPress={() => toggleTempFacility(facility.id)}\n                  >\n                    <Text style={[\n                      styles.modalFacilityText,\n                      tempSelectedFacilities.includes(facility.id) && styles.facilityTagTextSelected\n                    ]}>\n                      {facility.label}\n                    </Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n\n              <View style={styles.modalFooter}>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.cancelButton]}\n                  onPress={() => setFacilitiesModalVisible(false)}\n                >\n                  <Text style={styles.modalButtonText}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity \n                  style={[styles.modalButton, styles.saveButton]}\n                  onPress={saveFacilities}\n                >\n                  <Text style={styles.modalButtonText2}>Save</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </Modal>\n      </View>\n\n      {/* Skills & Experience Section */}\n      {/* <View style={styles.section}>\n        <View style={styles.sectionHeader}>\n          <Text style={styles.sectionTitle}>Skills & Experience</Text>\n          <TouchableOpacity onPress={() => toggleEditMode('skills')}>\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n        {renderEditableField('Experience', skills.experience, \n          (text) => setSkills(prev => ({ ...prev, experience: text })), \n          'skills', \n          true\n        )}\n      </View> */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 20,\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    marginBottom: 10,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n    width: '100%',\n    maxWidth: 600,\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  input: {\n    width: '100%',\n    maxWidth: 600,\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n  },\n  fieldText: {\n    width: '100%',\n    maxWidth: 600,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  portfolioGrid: {\n    width: '100%',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  portfolioCard: {\n    width: '48%',\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    overflow: 'hidden',\n    elevation: 2,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.23,\n    shadowRadius: 2.62,\n  },\n  portfolioImageContainer: {\n    aspectRatio: 4/3,\n    width: '100%',\n  },\n  portfolioPhoto: {\n    width: '100%',\n    height: '100%',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n  },\n  portfolioCaption: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    padding: 8,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.placeholder,\n    marginTop: 16,\n  },\n  facilitiesContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    paddingHorizontal: 4,\n  },\n  facilityTag: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  facilityTagSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  facilityTagText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.small,\n  },\n  facilityTagTextSelected: {\n    color: theme.colors.surface,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 500,\n    backgroundColor: theme.colors.background,\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  modalScroll: {\n    maxHeight: '70%',\n  },\n  modalFacilityTag: {\n    padding: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    marginBottom: 8,\n  },\n  modalFacilityText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.primary,\n  },\n  modalFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n  },\n  modalButton: {\n    padding: 12,\n    borderRadius: 8,\n    width: '48%',\n    alignItems: 'center',\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  modalButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  modalButtonText2: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ProfessionalTab;","import React, { useState } from 'react';\nimport { Platform, TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\n\n// Called in DefaultSettingsModal.js\n// Called in MyProfile.js\n// Called in BookingDetails.js\n\nconst DatePicker = ({ \n  value, \n  onChange, \n  placeholder = 'Select Date',\n  displayFormat = (date) => date // Optional custom display format\n}) => {\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const dateValue = value ? new Date(value) : new Date();\n\n  const handleChange = (event, selectedDate) => {\n    if (Platform.OS === 'android') {\n      setShowDatePicker(false);\n    }\n    if (selectedDate) {\n      onChange(selectedDate.toISOString().split('T')[0]);\n    }\n  };\n\n  if (Platform.OS === 'web') {\n    return (\n      <input\n        type=\"date\"\n        value={value || ''}\n        onChange={(e) => onChange(e.target.value)}\n        style={styles.webDatePicker}\n      />\n    );\n  } else if (Platform.OS === 'ios') {\n    return (\n      <DateTimePicker\n        value={dateValue}\n        mode=\"date\"\n        display=\"default\"\n        onChange={handleChange}\n      />\n    );\n  } else {\n    return (\n      <>\n        <TouchableOpacity \n          onPress={() => setShowDatePicker(true)}\n          style={styles.androidButton}\n        >\n          <Text style={styles.dateText}>\n            {value ? displayFormat(value) : placeholder}\n          </Text>\n        </TouchableOpacity>\n        {Platform.OS === 'android' && showDatePicker && (\n          <DateTimePicker\n            value={dateValue}\n            mode=\"date\"\n            display=\"default\"\n            onChange={handleChange}\n          />\n        )}\n      </>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  webDatePicker: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontSize: theme.fontSizes.medium,\n  },\n  androidButton: {\n    padding: 8,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default DatePicker;","import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst BackHeader = ({ \n  title, \n  onBackPress, \n  rightIcon = null, // Optional right icon\n  onRightPress = null, // Optional right icon press handler\n  rightComponent = null, // Add this prop\n  customStyles = {} \n}) => {\n  const navigation = useNavigation();\n\n  return (\n    <View style={[styles.header, customStyles]}>\n      <TouchableOpacity onPress={onBackPress} style={styles.backButton}>\n        <MaterialCommunityIcons \n          name=\"arrow-left\" \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity>\n      \n      <Text style={styles.headerText}>{title}</Text>\n      \n      {rightComponent ? rightComponent : (\n        rightIcon && (\n          <TouchableOpacity \n            onPress={onRightPress} \n            style={styles.rightButton}\n          >\n            <MaterialCommunityIcons \n              name={rightIcon} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        )\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n    zIndex: 100,\n    elevation: 100,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    flex: 1, // This allows the title to take up remaining space\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rightButton: {\n    marginLeft: 16,\n  },\n});\n\nexport default BackHeader;","import React, { useState, useEffect } from 'react';\nimport { View, SafeAreaView, Platform, StatusBar, StyleSheet, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst CrossPlatformView = ({ \n  children, \n  style,\n  useSafeArea = true,\n  backgroundColor = theme.colors.background,\n  fullWidthHeader = false,\n  contentWidth = '800px'\n}) => {\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  // For web platform\n  if (Platform.OS === 'web') {\n    // Split children into header and content if fullWidthHeader is true\n    const headerContent = fullWidthHeader ? children[0] : null;\n    const mainContent = fullWidthHeader ? children.slice(1) : children;\n\n    return (\n      <div style={{ \n        backgroundColor, \n        width: '100%',\n        maxWidth: '100vw',\n        overflowX: 'hidden'\n      }}>\n        {fullWidthHeader && (\n          <div style={{ \n            width: '100%', \n            backgroundColor,\n            maxWidth: '100vw',\n            overflowX: 'hidden'\n          }}>\n            {headerContent}\n          </div>\n        )}\n        <div style={{\n          ...styles.webContainer,\n          ...style,\n          maxWidth: contentWidth,\n          margin: '0 auto',\n          width: '100%',\n          overflowX: 'hidden'\n        }}>\n          {mainContent}\n        </div>\n      </div>\n    );\n  }\n\n  // For iOS\n  if (Platform.OS === 'ios' && useSafeArea) {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor }, style]}>\n        {children}\n      </SafeAreaView>\n    );\n  }\n\n  // For Android or when SafeAreaView is disabled\n  return (\n    <View style={[\n      styles.container,\n      { \n        paddingTop: useSafeArea ? StatusBar.currentHeight : 0,\n        backgroundColor \n      },\n      style\n    ]}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n    width: '100%',\n    maxWidth: '100%',\n    overflow: 'hidden',\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default CrossPlatformView;","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { View, ScrollView, StyleSheet, Text, TextInput, TouchableOpacity, Image, Platform, StatusBar, Alert, useWindowDimensions } from 'react-native';\nimport { MaterialCommunityIcons, Ionicons } from '@expo/vector-icons';\nimport { Button, Portal, Dialog, Paragraph } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport ServiceManager from '../components/ServiceManager';\nimport ProfessionalTab from '../components/ProfessionalTab';\nimport RecordedPets from '../components/RecordedPets';\nimport EditableSection from '../components/EditableSection';\nimport DatePicker from '../components/DatePicker';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { DEFAULT_SERVICES } from '../data/mockData';\n\nconst MyProfile = () => {\n  const navigation = useNavigation();\n  const { width: windowWidth } = useWindowDimensions();\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [age, setAge] = useState('');\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('');\n  const [bio, setBio] = useState('');\n  const [pets, setPets] = useState([]);\n  const [emergencyContact, setEmergencyContact] = useState({ name: '', phone: '' });\n  const [authorizedHouseholdMembers, setAuthorizedHouseholdMembers] = useState(['']);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editMode, setEditMode] = useState({\n    professional: false,\n    services: false,\n    bio: false,\n    professionalBio: false,\n    portfolio: false,\n    facilities: false,\n    skills: false,\n  });\n\n  const [services, setServices] = useState(DEFAULT_SERVICES);\n  \n  const [activeTab, setActiveTab] = useState('client');\n  const [rates, setRates] = useState({\n    inHouse: '',\n    overnight: '',\n    dropBys: '',\n    boarding: '',\n    dayCare: '',\n  });\n  const { isApprovedProfessional } = useContext(AuthContext);\n  const [localIsApprovedProfessional, setLocalIsApprovedProfessional] = useState(false);\n  const [showAuthorizedMembersInfo, setShowAuthorizedMembersInfo] = useState(false);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const questionMarkRef = useRef(null);\n  const scrollViewRef = useRef(null);\n  const [photoNeedsSaving, setPhotoNeedsSaving] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [birthday, setBirthday] = useState('');\n  const [calculatedAge, setCalculatedAge] = useState(null);\n\n  useEffect(() => {\n    const fetchMyProfileData = async () => {\n      // Simulate fetching profile data\n      const data = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            name: 'Alice Johnson',\n            email: 'alice@example.com',\n            phone: '(555) 123-4567',\n            age: '32',\n            address: '123 Main St',\n            city: 'San Francisco',\n            state: 'CA',\n            zip: '94122',\n            country: 'USA',\n            bio: \"I'm a proud pet parent of two dogs and a cat. I love animals and am always looking for the best care for my furry friends!\",\n            pets: [\n              { id: '1', name: 'Max', type: 'Dog', breed: 'Golden Retriever', age: 5, photo: 'https://www.google.com/imgres?q=dog%20photo%20with%20https%20url&imgurl=https%3A%2F%2Fdog.ceo%2Fimg%2Fdog-api-fb.jpg&imgrefurl=https%3A%2F%2Fdog.ceo%2Fdog-api%2F&docid=BfjWdSj7jNl2rM&tbnid=gvZ-PT7ESUiKRM&vet=12ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA..i&w=1200&h=630&hcb=2&ved=2ahUKEwjytNDT5siJAxXFGjQIHe5WPdwQM3oECBUQAA' },\n              { id: '2', name: 'Luna', type: 'Cat', breed: 'Siamese', age: 3, photo: 'https://example.com/luna.jpg' },\n              { id: '3', name: 'Rocky', type: 'Exotic', breed: 'Lizard Gecko', age: 2, photo: 'https://example.com/rocky.jpg' },\n            ],\n            emergencyContact: {\n              name: 'John Smith',\n              phone: '(555) 987-6543',\n            },\n            authorizedHouseholdMembers: ['Sarah Johnson', 'Mike Johnson'],\n          });\n        }, 1000);\n      });\n\n      setName(data.name);\n      setEmail(data.email);\n      setPhone(data.phone);\n      setAge(data.age);\n      setAddress(data.address);\n      setCity(data.city);\n      setState(data.state);\n      setZip(data.zip);\n      setCountry(data.country);\n      setBio(data.bio);\n      setPets(data.pets);\n      setEmergencyContact(data.emergencyContact);\n      setAuthorizedHouseholdMembers(data.authorizedHouseholdMembers);\n      setIsLoading(false);\n    };\n\n    fetchMyProfileData();\n  }, []);\n\n  useEffect(() => {\n    const fetchProfessionalStatus = async () => {\n      const storedIsApprovedProfessional = await AsyncStorage.getItem('isApprovedProfessional');\n      setLocalIsApprovedProfessional(JSON.parse(storedIsApprovedProfessional));\n    };\n    fetchProfessionalStatus();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfilePhoto(result.assets[0].uri);\n      setHasUnsavedChanges(true);\n    }\n  };\n\n  const saveProfilePhoto = () => {\n    setPhotoNeedsSaving(false);\n    Alert.alert('Success', 'Profile photo updated successfully');\n  };\n\n  const showAuthorizedMembersPopup = () => {\n    if (Platform.OS === 'web') {\n      if (questionMarkRef.current && scrollViewRef.current) {\n        questionMarkRef.current.measure((fx, fy, width, height, px, py) => {\n          scrollViewRef.current.measure((_, __, ___, ____, scrollViewX, scrollViewY) => {\n            const popupWidth = 300;\n            const popupHeight = 200;\n            \n            // Calculate position relative to window width to prevent overflow\n            const maxLeftPosition = windowWidth - popupWidth - 20; // 20px safety margin\n            const calculatedLeft = px - (popupWidth / 2);\n            const safeLeft = Math.min(maxLeftPosition, Math.max(20, calculatedLeft));\n            \n            setPopupPosition({\n              top: py - scrollViewY - popupHeight - 10, // 10px gap above the icon\n              left: safeLeft,\n            });\n            setShowAuthorizedMembersInfo(true);\n          });\n        });\n      }\n    } else {\n      setShowAuthorizedMembersInfo(true);\n    }\n  };\n\n  const toggleEditMode = (section) => {\n    setEditMode((prevState) => ({ ...prevState, [section]: !prevState[section] }));\n  };\n\n  const getContentWidth = () => {\n    // For web, cap at 600px, for mobile use window width minus padding\n    if (Platform.OS === 'web') {\n      return '100%';\n    }\n    // For mobile, account for safe areas and padding\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const renderEditableField = (label, value, onChangeText, section, type = 'text') => {\n    const isBio = label.toLowerCase() === 'bio';\n    \n    if (type === 'birthday') {\n      return editMode[section] ? (\n        <View style={[styles.input, { width: getContentWidth() }]}>\n          <DatePicker\n            value={birthday}\n            onChange={updateBirthday} // TODO: need to implement the backend call here\n            placeholder=\"Select Birthday\"\n          />\n        </View>\n      ) : (\n        <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n          {`Age: ${calculatedAge || age || 'Not specified'}`}\n        </Text>\n      );\n    }\n\n    return editMode[section] ? (\n      <TextInput\n        value={value}\n        onChangeText={(text) => {\n          onChangeText(text);\n          setHasUnsavedChanges(true);\n        }}\n        style={[\n          styles.input,\n          { width: getContentWidth() },\n          isBio && { height: 100, textAlignVertical: 'top' }\n        ]}\n        multiline={isBio}\n        numberOfLines={isBio ? 4 : 1}\n      />\n    ) : (\n      <Text style={[styles.fieldText, { width: getContentWidth() }]}>\n        {isBio ? value : `${label}: ${value || 'Not specified'}`}\n      </Text>\n    );\n  };\n\n  const saveChanges = () => {\n    setHasUnsavedChanges(false);\n    setEditMode({}); // Reset all edit modes to false\n    Alert.alert('Success', 'Changes saved successfully');\n  };\n\n  const updateBirthday = async (date) => {\n    setBirthday(date);\n    setHasUnsavedChanges(true);\n    \n    try {\n      // Replace with your actual API endpoint\n      const response = await fetch('/api/calculate-age', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ birthday: date }),\n      });\n      \n      const data = await response.json();\n      setCalculatedAge(data.age);\n    } catch (error) {\n      console.error('Error calculating age:', error);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <View style={[styles.container, styles.centered]}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"My Profile\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView \n        ref={scrollViewRef} \n        contentContainerStyle={styles.scrollViewContent}\n        style={styles.scrollView}\n      >\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n            style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n            <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>Account Info</Text>\n          </TouchableOpacity>\n          {isApprovedProfessional && (\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n              onPress={() => setActiveTab('professional')}\n            >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>Professional</Text>\n            </TouchableOpacity>\n          )}\n        </View>\n        {activeTab === 'client' && (\n          <View style={styles.centeredContent}>\n            <View style={styles.profileHeader}>\n              <Text style={styles.name}>Profile Photo</Text>\n              <TouchableOpacity onPress={pickImage}>\n                {profilePhoto ? (\n                  <Image source={{ uri: profilePhoto }} style={styles.profilePhoto} />\n                ) : (\n                  <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n                    <Ionicons name=\"person\" size={60} color={theme.colors.placeholder} />\n                  </View>\n                )}\n              </TouchableOpacity>\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Personal Information</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('personal')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', name, setName, 'personal')}\n              {renderEditableField('Email', email, setEmail, 'personal')}\n              {renderEditableField('Phone', phone, setPhone, 'personal')}\n              {renderEditableField('Birthday', birthday, setBirthday, 'personal', 'birthday')}\n            </View>\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Address</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('address')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Address', address, setAddress, 'address')}\n              {renderEditableField('City', city, setCity, 'address')}\n              {renderEditableField('State', state, setState, 'address')}\n              {renderEditableField('ZIP', zip, setZip, 'address')}\n              {renderEditableField('Country', country, setCountry, 'address')}\n              {/* {editMode.address && <Button mode=\"contained\" onPress={() => toggleEditMode('address')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <EditableSection\n              title=\"About Me\"\n              value={bio}\n              onChangeText={setBio}\n              editMode={editMode.bio}\n              toggleEditMode={() => toggleEditMode('bio')}\n              setHasUnsavedChanges={setHasUnsavedChanges}\n              getContentWidth={getContentWidth}\n            />\n            <RecordedPets pets={pets} />\n            <View style={styles.section}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Emergency Contact</Text>\n                <TouchableOpacity onPress={() => toggleEditMode('emergency')}>\n                  <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n              {renderEditableField('Name', emergencyContact.name, (text) => setEmergencyContact({ ...emergencyContact, name: text }), 'emergency')}\n              {renderEditableField('Phone', emergencyContact.phone, (text) => setEmergencyContact({ ...emergencyContact, phone: text }), 'emergency')}\n              {/* {editMode.emergency && <Button mode=\"contained\" onPress={() => toggleEditMode('emergency')} style={styles.saveButton}>Save</Button>} */}\n            </View>\n            <View style={[\n              styles.section, \n              Platform.OS !== 'web' && styles.lastSection\n            ]}>\n              <View style={styles.sectionHeader}>\n                <Text style={styles.sectionTitle}>Authorized Household Members</Text>\n                <View style={styles.iconContainer}>\n                  <TouchableOpacity onPress={showAuthorizedMembersPopup} ref={questionMarkRef}>\n                    <Ionicons name=\"help-circle-outline\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                  <TouchableOpacity onPress={() => toggleEditMode('household')}>\n                    <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n                  </TouchableOpacity>\n                </View>\n              </View>\n              {authorizedHouseholdMembers.map((member, index) => (\n                editMode.household ? (\n                  <TextInput\n                    key={index}\n                    value={member}\n                    onChangeText={(text) => {\n                      const updatedMembers = [...authorizedHouseholdMembers];\n                      updatedMembers[index] = text;\n                      setHasUnsavedChanges(true);\n                      setAuthorizedHouseholdMembers(updatedMembers);\n                    }}\n                    style={[styles.input, { width: getContentWidth() }]}\n                  />\n                ) : (\n                  <Text key={index} style={[styles.fieldText, { width: getContentWidth() }]}>{member}</Text>\n                )\n              ))}\n              {editMode.household && (\n                <View style={{ width: getContentWidth() }}>\n                  <Button \n                    mode=\"outlined\" \n                    onPress={() => setAuthorizedHouseholdMembers([...authorizedHouseholdMembers, ''])} \n                    style={styles.addButton}\n                  >\n                    Add Household Member\n                  </Button>\n                </View>\n              )}\n            </View>\n          </View>\n        )}\n        {activeTab === 'professional' && (\n          <ProfessionalTab\n            services={services}\n            setServices={setServices}\n            setHasUnsavedChanges={setHasUnsavedChanges}\n            getContentWidth={getContentWidth}\n            pets={pets}\n            editMode={editMode}\n            toggleEditMode={toggleEditMode}\n          />\n        )}\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={saveChanges}\n        btnText={'Save Changes'}\n      />\n      <Portal>\n        {Platform.OS === 'web' ? (\n          showAuthorizedMembersInfo && (\n            <View\n              style={[\n                styles.webPopup,\n                { top: popupPosition.top, left: popupPosition.left },\n              ]}\n            >\n              <Text style={styles.webPopupTitle}>Authorized Household Members</Text>\n              <Text style={styles.webPopupText}>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Text>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </View>\n          )\n        ) : (\n          <Dialog visible={showAuthorizedMembersInfo} onDismiss={() => setShowAuthorizedMembersInfo(false)}>\n            <Dialog.Title>Authorized Household Members</Dialog.Title>\n            <Dialog.Content>\n              <Paragraph>\n                Authorized household members are individuals who are allowed to make decisions about your pets in your absence. \n                This may include family members, roommates, or trusted friends who have access to your home and can care for your pets if needed.\n              </Paragraph>\n            </Dialog.Content>\n            <Dialog.Actions>\n              <Button onPress={() => setShowAuthorizedMembersInfo(false)}>Got it</Button>\n            </Dialog.Actions>\n          </Dialog>\n        )}\n      </Portal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    padding: 16,\n    alignItems: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n    // borderWidth: 1,\n    // borderColor: theme.colors.border,\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    marginHorizontal: 5,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  profileHeader: {\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  profilePhoto: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: '#fff',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: '#fff',\n    borderWidth: 1,\n    borderColor: theme.colors.placeholder,\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 10,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n  },\n  section: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    paddingVertical: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  lastSection: {\n    marginBottom: 100, // Extra padding for last section on mobile\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 10,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n    backgroundColor: theme.colors.surface,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 10,\n    borderRadius: 5,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    width: '100%',\n    maxWidth: 600,\n  },\n  petItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 10,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    flexWrap: 'wrap',\n  },\n  addButton: {\n    marginTop: 10,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    marginTop: 10,\n  },\n  centered: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  webPopup: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    padding: 20,\n    borderRadius: 10,\n    width: 300,\n    maxWidth: '90vw', // Ensure popup doesn't exceed viewport width\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    zIndex: 1000,\n  },\n  webPopupTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    // marginBottom: 10,\n  },\n  webPopupText: {\n    marginBottom: 20,\n  },\n  fieldText: {\n    marginBottom: 10,\n  },\n  centeredContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignItems: 'center',\n    alignSelf: 'center',\n  },\n  fieldContainer: {\n    marginBottom: 16,\n  },\n  fieldLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 4,\n  },\n  birthdayContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 16,\n  },\n  ageText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default MyProfile;\n","import React from 'react';\nimport { TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nexport default function CustomButton({ title, onPress }) {\n  return (\n    <TouchableOpacity style={styles.button} onPress={onPress}>\n      <Text style={styles.buttonText}>{title}</Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingVertical: theme.spacing.small,\n    paddingHorizontal: theme.spacing.medium,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginVertical: theme.spacing.small,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useContext, useEffect } from 'react';\nimport { View, TextInput, Text, StyleSheet, TouchableOpacity, Dimensions, Alert, ActivityIndicator, Platform, Keyboard } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { AuthContext } from '../context/AuthContext';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n  const { signIn, is_prototype } = useContext(AuthContext);\n\n  const handleLogin = async () => {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      Keyboard.dismiss();\n    }\n\n    setLoading(true);\n    try {\n      if (is_prototype) {\n        // Mock tokens for prototype mode\n        const mockAccess = 'mock_access_token';\n        const mockRefresh = 'mock_refresh_token';\n        \n        // Pass mock tokens to signIn and get the status\n        const status = await signIn(mockAccess, mockRefresh);\n        console.log('Sign in status (prototype):', status);\n        \n        // Navigate based on status\n        if (status && status.userRole === 'professional') {\n          navigation.navigate('ProfessionalDashboard');\n        } else {\n          navigation.navigate('Dashboard');\n        }\n        return;\n      }\n\n      const response = await axios.post(`${API_BASE_URL}/api/token/`, {\n        email: email.toLowerCase(),\n        password: password,\n      });\n\n      const { access, refresh } = response.data;\n      \n      // Pass both tokens to signIn and get the status\n      const status = await signIn(access, refresh);\n      console.log('Sign in status:', status);\n      \n      // Navigate based on status\n      if (status && status.userRole === 'professional') {\n        navigation.navigate('ProfessionalDashboard');\n      } else {\n        navigation.navigate('Dashboard');\n      }\n    } catch (error) {\n      console.error('Login failed', error);\n      const errorMessage = error.response && error.response.status === 401\n        ? 'Invalid credentials. Please try again.'\n        : 'An unexpected error occurred.';\n\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Login Failed', errorMessage);\n      } else {\n        setSuccessMessage(`Login Failed: ${errorMessage}`);\n      }\n\n      setIsEmailValid(false);\n      setIsPasswordValid(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add useEffect to handle document-wide keyboard events\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleDocumentKeyPress = (e) => {\n        if (e.key === 'Enter') {\n          handleLogin();\n        }\n      };\n\n      document.addEventListener('keydown', handleDocumentKeyPress);\n\n      // Cleanup listener when component unmounts\n      return () => {\n        document.removeEventListener('keydown', handleDocumentKeyPress);\n      };\n    }\n  }, [email, password]); // Dependencies ensure we have latest state values\n\n  // Keep the existing handleKeyPress for input fields\n  const handleKeyPress = (e) => {\n    if (Platform.OS === 'web' && e.nativeEvent.key === 'Enter') {\n      handleLogin();\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Sign In</Text>\n      {is_prototype && (\n        <Text style={styles.prototypeWarning}>\n          Prototype Mode: You can sign in with anything for email and password\n        </Text>\n      )}\n      <TextInput\n        style={[styles.input, !isEmailValid && styles.invalidInput]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setIsEmailValid(true);\n        }}\n        autoCapitalize=\"none\"\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <TextInput\n        style={[styles.input, !isPasswordValid && styles.invalidInput]}\n        placeholder=\"Password\"\n        secureTextEntry\n        value={password}\n        onChangeText={(text) => {\n          setPassword(text);\n          setIsPasswordValid(true);\n        }}\n        onKeyPress={Platform.OS === 'web' ? handleKeyPress : undefined}\n      />\n      <CustomButton title=\"Login\" onPress={handleLogin} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      <TouchableOpacity onPress={() => navigation.navigate('ResetPassword')}>\n        <Text style={styles.link}>Forgot Password?</Text>\n      </TouchableOpacity>\n      <TouchableOpacity onPress={() => navigation.navigate('SignUp')}>\n        <Text style={styles.link}>Sign Up</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center', // Center the content horizontally\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  invalidInput: {\n    borderColor: 'red',\n  },\n  link: {\n    color: theme.colors.primary,\n    marginTop: theme.spacing.small,\n    textAlign: 'center',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  prototypeWarning: {\n    backgroundColor: '#FFF3CD',\n    color: '#856404',\n    padding: theme.spacing.small,\n    marginBottom: theme.spacing.medium,\n    borderRadius: 4,\n    textAlign: 'center',\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n  },\n});\n","import React, { useState, useContext } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, KeyboardAvoidingView, Platform, ScrollView, Alert } from 'react-native';\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext'; // Import AuthContext\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function SignUp() {\n  const navigation = useNavigation();\n  const { setIsSignedIn } = useContext(AuthContext); // Use AuthContext to update auth state\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleSignUp = async () => {\n    if (password !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    // Updated data structure to match new backend expectations\n    const userData = {\n      name: `${firstName.trim()} ${lastName.trim()}`, // Combine first and last name\n      email: email.trim().toLowerCase(),\n      password: password,\n      password2: confirmPassword, // Add confirmation password\n      phone_number: '', // Add empty phone number for now\n    };\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/register/`, userData);\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Account created successfully!', [\n          { text: 'OK', onPress: () => navigation.navigate('MyProfile') }\n        ]);\n      } else {\n        setSuccessMessage('Account created successfully!');\n        setTimeout(() => {\n          navigation.navigate('MyProfile');\n        }, 1500);\n      }\n      setIsSignedIn(true);\n    } catch (error) {\n      let errorMessage = 'Signup Failed: An error occurred during signup.';\n      if (error.response) {\n        const errorData = error.response.data;\n        // Handle specific field errors\n        if (errorData) {\n          const firstError = Object.entries(errorData)[0];\n          if (firstError) {\n            const [field, messages] = firstError;\n            errorMessage = `${field}: ${Array.isArray(messages) ? messages[0] : messages}`;\n          }\n        }\n      }\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      keyboardVerticalOffset={Platform.OS === 'ios' ? 64 : 0}\n    >\n      <ScrollView contentContainerStyle={styles.scrollContainer}>\n        <Text style={styles.title}>Sign Up</Text>\n        {[\n          { placeholder: \"First Name\", value: firstName, onChangeText: setFirstName },\n          { placeholder: \"Last Name\", value: lastName, onChangeText: setLastName },\n          { placeholder: \"Email\", value: email, onChangeText: setEmail, keyboardType: \"email-address\", autoCapitalize: \"none\" },\n          { placeholder: \"Password\", value: password, onChangeText: setPassword, secureTextEntry: true },\n          { placeholder: \"Confirm Password\", value: confirmPassword, onChangeText: setConfirmPassword, secureTextEntry: true }\n        ].map((input, index) => (\n          <TextInput\n            key={index}\n            style={styles.input}\n            placeholder={input.placeholder}\n            value={input.value}\n            onChangeText={input.onChangeText}\n            keyboardType={input.keyboardType}\n            autoCapitalize={input.autoCapitalize}\n            secureTextEntry={input.secureTextEntry}\n          />\n        ))}\n        <CustomButton title=\"Sign Up\" onPress={handleSignUp} />\n        {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n        {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContainer: {\n    padding: theme.spacing.medium,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexGrow: 1, // Ensure the ScrollView takes up the full height\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, Alert, ActivityIndicator, Dimensions, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPassword() {\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handleResetPassword = async () => {\n    if (!email) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Please enter your email address.');\n      } else {\n        setSuccessMessage('Error: Please enter your email address.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password/`, { email });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'A reset password link has been sent to your email.', [\n          { text: 'OK', onPress: () => navigation.navigate('Home') }\n        ]);\n      } else {\n        setSuccessMessage('A reset password link has been sent to your email.');\n        setTimeout(() => {\n          navigation.navigate('Home');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 404) {\n        setEmailError(true);\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Email is not associated with any user.');\n        } else {\n          setSuccessMessage('Error: Email is not associated with any user.');\n        }\n      } else {\n        if (Platform.OS === 'ios' || Platform.OS === 'android') {\n          Alert.alert('Error', 'Failed to send reset password email. Please try again later.');\n        } else {\n          setSuccessMessage('Error: Failed to send reset password email. Please try again later.');\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={[styles.input, emailError && styles.inputError]}\n        placeholder=\"Email\"\n        value={email}\n        onChangeText={(text) => {\n          setEmail(text);\n          setEmailError(false);\n        }}\n        keyboardType=\"email-address\"\n        autoCapitalize=\"none\"\n      />\n      <CustomButton title=\"Reset Password\" onPress={handleResetPassword} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  inputError: {\n    borderColor: 'red',\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});\n","import React, { useState } from 'react';\nimport { View, TextInput, Text, StyleSheet, ActivityIndicator, Dimensions, Alert, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CustomButton from '../components/CustomButton';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nexport default function ResetPasswordConfirm({ route }) {\n  const { uid, token } = route.params;\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigation = useNavigation();\n\n  const handlePasswordReset = async () => {\n    if (newPassword !== confirmPassword) {\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', 'Passwords do not match.');\n      } else {\n        setSuccessMessage('Passwords do not match.');\n      }\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/users/v1/reset-password-confirm/${uid}/${token}/`, {\n        new_password: newPassword,\n      });\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Success', 'Your password has been reset.', [\n          { text: 'OK', onPress: () => navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm') }\n        ]);\n      } else {\n        setSuccessMessage('Your password has been reset.');\n        setTimeout(() => {\n          navigateToFrom(navigation, 'SignIn', 'ResetPasswordConfirm');\n        }, 2000); // Navigate after 2 seconds\n      }\n    } catch (error) {\n      const errorMessage = 'Failed to reset password. Please try again later.';\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\n        Alert.alert('Error', errorMessage);\n      } else {\n        setSuccessMessage(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Reset Password</Text>\n      <TextInput\n        style={styles.input}\n        placeholder=\"New Password\"\n        value={newPassword}\n        onChangeText={setNewPassword}\n        secureTextEntry\n      />\n      <TextInput\n        style={styles.input}\n        placeholder=\"Confirm Password\"\n        value={confirmPassword}\n        onChangeText={setConfirmPassword}\n        secureTextEntry\n      />\n      <CustomButton title=\"Reset Password\" onPress={handlePasswordReset} />\n      {loading && <ActivityIndicator size=\"large\" color={theme.colors.primary} />}\n      {successMessage ? <Text style={styles.message}>{successMessage}</Text> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.primary,\n    marginBottom: theme.spacing.medium,\n  },\n  input: {\n    width: screenWidth > 600 ? 600 : '100%',\n    maxWidth: 600,\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: theme.spacing.small,\n    paddingHorizontal: theme.spacing.small,\n  },\n  message: {\n    marginTop: theme.spacing.small,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n});","import React, { useState, useEffect, useContext } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst Dashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { firstName, screenWidth } = useContext(AuthContext);\n  const { signOut } = useContext(AuthContext);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  // Mock data - replace with actual API calls\n  const upcomingBookings = [\n    { id: '56782', profepsronalsional: 'Jane Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', profepsronalsional: 'John Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming pet care services.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {upcomingBookings.map((booking) => (\n              <TouchableOpacity\n                key={booking.id}\n                onPress={() => navigateToFrom(navigation, 'BookingDetails', 'Dashboard', { bookingId: booking.id })}\n                style={styles.bookingItem}\n              >\n                <List.Item\n                  titleStyle={dynamicStyles.listItemTitle}\n                  descriptionStyle={dynamicStyles.listItemDescription}\n                  title={`${booking.pet} with ${booking.profepsronalsional}`}\n                  description={`${booking.date} at ${booking.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button \n              labelStyle={dynamicStyles.buttonText} \n              onPress={() => navigateToFrom(navigation, 'MyBookings', 'Dashboard')}\n            >\n              View All Bookings\n            </Button>\n          </Card.Actions>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"magnify\" size={size} color={color} /> : \"magnify\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'SearchProfessionalsListing', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                Find a Professional\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"paw\" size={size} color={color} /> : \"paw\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'MyPets', 'Dashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Pets\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 4 : 0,\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n});\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { \n  View, \n  Text, \n  ScrollView, \n  TouchableOpacity, \n  TextInput, \n  KeyboardAvoidingView, \n  Platform, \n  Dimensions,\n  ActivityIndicator,\n  Alert,\n  StyleSheet\n} from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { Picker } from '@react-native-picker/picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport * as Location from 'expo-location';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { mockProfessionals } from '../data/mockData';\n\nconst SearchProfessionals = ({ navigation }) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [showStartDatePicker, setShowStartDatePicker] = useState(false);\n  const [showEndDatePicker, setShowEndDatePicker] = useState(false);\n  const [location, setLocation] = useState({ country: 'USA', state: '', city: 'Colorado Springs' });\n  const [animalType, setAnimalType] = useState('');\n  const [exoticType, setExoticType] = useState('');\n  const [serviceType, setServiceType] = useState('');\n  const [petCount, setPetCount] = useState({ dogs: 0, cats: 0, exotics: 0 });\n  const [repeatService, setRepeatService] = useState('');\n  const [showServicePicker, setShowServicePicker] = useState(false);\n  const [showAnimalTypePicker, setShowAnimalTypePicker] = useState(false);\n  const [showRepeatServicePicker, setShowRepeatServicePicker] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(Dimensions.get('window').width);\n\n  const styles = StyleSheet.create({\n    contentContainer: {\n      flex: 1,\n      width: '100%',\n      maxWidth: 600,\n      alignSelf: 'center',\n    },\n    scrollContent: {\n      flexGrow: 1,\n      padding: 20,\n    },\n    filtersContainer: {\n      padding: 16,\n    },\n    picker: {\n      marginBottom: 10,\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterInput: {\n      borderColor: theme.colors.border,\n      borderWidth: 1,\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterButton: {\n      marginBottom: 10,\n      padding: 10,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      backgroundColor: theme.colors.inputBackground,\n    },\n    filterText: {\n      color: theme.colors.text,\n    },\n    petCountContainer: {\n      marginBottom: 20,\n    },\n    petCounter: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginBottom: 10,\n    },\n    petType: {\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    counterControls: {\n      flexDirection: 'row',\n      alignItems: 'center',\n    },\n    petCount: {\n      marginHorizontal: 10,\n      fontSize: theme.fontSizes.medium,\n      color: theme.colors.text,\n    },\n    searchButton: {\n      backgroundColor: theme.colors.primary,\n      padding: 12,\n      borderRadius: 5,\n      alignItems: 'center',\n      marginTop: 20,\n    },\n    searchButtonText: {\n      color: '#fff',\n      fontSize: theme.fontSizes.medium,\n    },\n    datePickerContainer: {\n      marginBottom: 10,\n    },\n    webDatePicker: {\n      padding: 5,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 5,\n      width: '100%',\n    },\n    webHeader: {\n      maxWidth: 1200,\n      width: '100%',\n      alignSelf: 'center',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  });\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const updateDimensions = () => {\n        setWindowWidth(Dimensions.get('window').width);\n      };\n\n      window.addEventListener('resize', updateDimensions);\n      return () => {\n        window.removeEventListener('resize', updateDimensions);\n      };\n    }\n  }, []);\n\n  const handleSearch = async () => {\n    setIsLoading(true);\n    try {\n      const { status } = await Location.requestForegroundPermissionsAsync();\n      let userLocation;\n      \n      if (status === 'granted') {\n        const location = await Location.getCurrentPositionAsync({});\n        userLocation = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      } else {\n        userLocation = {\n          latitude: 38.8339,\n          longitude: -104.8214,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        };\n      }\n\n      const searchParams = {\n        startDate: startDate.toISOString(),\n        endDate: endDate.toISOString(),\n        location: userLocation,\n        animalType,\n        exoticType,\n        serviceType,\n        petCount,\n        repeatService,\n        initialProfessionals: mockProfessionals.filter(professional => \n          (!serviceType || professional.serviceTypes.includes(serviceType)) &&\n          (!animalType || professional.animalTypes.includes(animalType))\n        )\n      };\n\n      // Store data based on platform\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('searchParams', JSON.stringify(searchParams));\n      } else {\n        await AsyncStorage.setItem('searchParams', JSON.stringify(searchParams));\n      }\n\n      navigation.navigate('SearchProfessionalsListing');\n    } catch (error) {\n      console.error('Error getting location:', error);\n      Alert.alert('Error', 'Failed to get location. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDateChange = (setter) => (event, date) => {\n    if (Platform.OS !== 'web') {\n      setter(date || new Date());\n    }\n  };\n\n  const renderDatePicker = (date, setDate, showPicker, setShowPicker, label) => {\n    if (Platform.OS === 'web') {\n      return (\n        <View style={styles.datePickerContainer}>\n          <Text>{label}:</Text>\n          <input\n            type=\"date\"\n            value={date.toISOString().split('T')[0]}\n            onChange={(e) => setDate(new Date(e.target.value))}\n            style={styles.webDatePicker}\n          />\n        </View>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n            <Text style={styles.filterText}>{label}: {date.toDateString()}</Text>\n          </TouchableOpacity>\n          {showPicker && (\n            <DateTimePicker\n              value={date}\n              mode=\"date\"\n              display={Platform.OS === 'ios' ? 'spinner' : 'default'}\n              onChange={(event, selectedDate) => {\n                setShowPicker(false);\n                if (selectedDate) setDate(selectedDate);\n              }}\n              style={styles.datePicker}\n            />\n          )}\n        </View>\n      );\n    }\n  };\n\n  const renderPicker = (selectedValue, setSelectedValue, showPicker, setShowPicker, label, options) => (\n    <View>\n      <TouchableOpacity onPress={() => setShowPicker(true)} style={styles.filterButton}>\n        <Text style={styles.filterText}>{label}: {selectedValue || 'Select'}</Text>\n      </TouchableOpacity>\n      {showPicker && (\n        <Picker\n          selectedValue={selectedValue}\n          onValueChange={(itemValue) => {\n            setSelectedValue(itemValue);\n            setShowPicker(false);\n          }}\n          style={styles.picker}\n        >\n          {options.map((option, index) => (\n            <Picker.Item key={index} label={option.label} value={option.value} />\n          ))}\n        </Picker>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Search Professionals\" \n        onBackPress={() => navigation.goBack()}\n      />\n      <KeyboardAvoidingView \n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'} \n        style={styles.contentContainer}\n      >        \n        <ScrollView contentContainerStyle={styles.scrollContent}>\n          <View style={styles.filtersContainer}>\n            {renderPicker(serviceType, setServiceType, showServicePicker, setShowServicePicker, 'Service Type', [\n              { label: 'Select Service Type', value: '' },\n              { label: 'House Sitting', value: 'House Sitting' },\n              { label: 'Dog Walking', value: 'Dog Walking' },\n              { label: 'Drop-ins', value: 'Drop-ins' },\n              { label: 'Boarding', value: 'Boarding' },\n              { label: 'Day Care', value: 'Day Care' },\n              { label: 'Training', value: 'Training' },\n            ])}\n\n            <View style={styles.petCountContainer}>\n              <Text style={styles.label}>Number of Pets:</Text>\n              {['dogs', 'cats', 'exotics'].map((type) => (\n                <View key={type} style={styles.petCounter}>\n                  <Text style={styles.petType}>{type.charAt(0).toUpperCase() + type.slice(1)}</Text>\n                  <View style={styles.counterControls}>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: Math.max(0, petCount[type] - 1) })}>\n                      <MaterialCommunityIcons name=\"minus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                    <Text style={styles.petCount}>{petCount[type]}</Text>\n                    <TouchableOpacity onPress={() => setPetCount({ ...petCount, [type]: petCount[type] + 1 })}>\n                      <MaterialCommunityIcons name=\"plus-circle\" size={24} color={theme.colors.primary} />\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              ))}\n            </View>\n\n            {animalType === 'exotic' && (\n              <TextInput\n                style={styles.filterInput}\n                placeholder=\"Type of Exotic Pet\"\n                value={exoticType}\n                onChangeText={setExoticType}\n              />\n            )}\n\n            {renderDatePicker(startDate, setStartDate, showStartDatePicker, setShowStartDatePicker, 'Start Date')}\n            {renderDatePicker(endDate, setEndDate, showEndDatePicker, setShowEndDatePicker, 'End Date')}\n\n            {renderPicker(repeatService, setRepeatService, showRepeatServicePicker, setShowRepeatServicePicker, 'One-time or Repeat?', [\n              { label: 'One-time or Repeat?', value: '' },\n              { label: 'One-time', value: 'One-time' },\n              { label: 'Repeat Weekly', value: 'Repeat Weekly' },\n            ])}\n\n            <TouchableOpacity \n              style={[styles.searchButton, isLoading && styles.searchButtonDisabled]} \n              onPress={handleSearch}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <ActivityIndicator color=\"#fff\" />\n              ) : (\n                <Text style={styles.searchButtonText}>Search</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </CrossPlatformView>\n  );\n};\n\nexport default SearchProfessionals;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { View, ScrollView, StyleSheet, Platform, SafeAreaView, Dimensions, StatusBar, TouchableOpacity, Text } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme, Appbar, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst { width: screenWidth, height: screenHeight } = Dimensions.get('window');\n\nconst ProfessionalDashboard = ({ navigation }) => {\n  const { colors } = useTheme();\n  const { signOut, firstName, is_prototype, screenWidth, is_DEBUG } = useContext(AuthContext);\n  const [upcomingBookings, setUpcomingBookings] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isLargeScreen = screenWidth > 600;\n\n  // Dynamic styles based on screen size\n  const dynamicStyles = {\n    headerTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.extraLarge : theme.fontSizes.large,\n      fontWeight: '500',\n      color: theme.colors.text,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    emptyStateText: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.smallMedium,\n      marginBottom: 16,\n      textAlign: 'center',\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    cardTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.largeLarge : theme.fontSizes.large,\n      fontFamily: theme.fonts.header.fontFamily,\n    },\n    cardParagraph: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemTitle: {\n      fontSize: isLargeScreen ? theme.fontSizes.large : theme.fontSizes.medium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    listItemDescription: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n    buttonText: {\n      fontSize: isLargeScreen ? theme.fontSizes.mediumLarge : theme.fontSizes.smallMedium,\n      fontFamily: theme.fonts.regular.fontFamily,\n    },\n  };\n\n  const refreshToken = async () => {\n    try {\n      const refreshToken = await AsyncStorage.getItem('refreshToken');\n      const response = await axios.post(`${API_BASE_URL}/api/token/refresh/`, {\n        refresh: refreshToken,\n      });\n      const { access } = response.data;\n      await AsyncStorage.setItem('userToken', access);\n      return access;\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      await signOut();\n      navigation.navigate('SignIn');\n    }\n  };\n\n  // Prototype data\n  const prototypeBookings = [\n    { id: '56782', client: 'John Doe', pet: 'Max (Dog)', date: '2023-05-15', time: '14:00' },\n    { id: '5678', client: 'Jane Smith', pet: 'Whiskers (Cat)', date: '2023-05-17', time: '10:00' },\n  ];\n\n  const fetchDashboardData = async () => {\n    if (is_prototype) {\n      setUpcomingBookings(prototypeBookings);\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setUpcomingBookings(response.data.upcoming_bookings || []);\n    } catch (error) {\n      if (error.response?.status === 401) {\n        const newToken = await refreshToken();\n        if (newToken) {\n          try {\n            const response = await axios.get(`${API_BASE_URL}/api/professionals/v1/dashboard/`, {\n              headers: { Authorization: `Bearer ${newToken}` }\n            });\n            setUpcomingBookings(response.data.upcoming_bookings || []);\n          } catch (retryError) {\n            console.error('Error fetching dashboard data after token refresh:', retryError);\n          }\n        }\n      } else {\n        console.error('Error fetching dashboard data:', error);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, [is_prototype]);\n\n  // TODO: Fetch client requests from the backend\n  const clientRequests = [\n    { id: '1', client: 'Alice Johnson', pet: 'Fluffy (Rabbit)', date: '2023-05-20', time: '09:00' },\n    { id: '2', client: 'Bob Williams', pet: 'Spike (Iguana)', date: '2023-05-22', time: '16:00' },\n  ];\n\n  const IconComponent = Platform.OS === 'web'\n    ? ({ name, ...props }) => <MaterialCommunityIcons name={name} {...props} />\n    : List.Icon;\n\n  const navigateToServiceManager = async () => {\n    if (is_DEBUG) {\n      console.log('Setting previousRoute to:', 'ProfessionalDashboard');\n      console.log('Setting currentRoute to:', 'ServiceManager');\n    }\n    setTimeout(async () => {\n      await navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard');\n    }, 100);\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.contentContainer}>\n      <View style={styles.cardContainer}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Welcome back, {is_prototype ? 'John Doe' : firstName}!</Title>\n            <Paragraph style={dynamicStyles.cardParagraph}>Here's an overview of your upcoming activities.</Paragraph>\n          </Card.Content>\n        </Card>\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Upcoming Bookings</Title>\n            {isLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"small\" color={colors.primary} />\n              </View>\n            ) : upcomingBookings.length > 0 ? (\n              upcomingBookings.map((booking) => (\n                <TouchableOpacity\n                  key={is_prototype ? booking.id : booking.booking_id}\n                  onPress={() => navigateToFrom(navigation, 'BookingDetails', 'ProfessionalDashboard', { \n                    bookingId: is_prototype ? booking.id : booking.booking_id \n                  })}\n                  style={styles.bookingItem}\n                >\n                  <List.Item\n                    titleStyle={dynamicStyles.listItemTitle}\n                    descriptionStyle={dynamicStyles.listItemDescription}\n                    title={is_prototype ? \n                      `${booking.client} - ${booking.pet}` :\n                      `${booking.client_name} - ${booking.pets.slice(0, 3).map(pet => pet.name).join(', ')}${booking.pets.length > 3 ? '...' : ''} (${booking.pets.slice(0, 3).map(pet => pet.species).join(', ')}${booking.pets.length > 3 ? '...' : ''})`\n                    }\n                    description={is_prototype ?\n                      `${booking.date} at ${booking.time}` :\n                      `${booking.start_date} at ${booking.start_time}`\n                    }\n                    left={(props) => <IconComponent {...props} icon=\"calendar\" name=\"calendar\" />}\n                    right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                  />\n                </TouchableOpacity>\n              ))\n            ) : (\n              <View style={styles.emptyStateContainer}>\n                <Paragraph style={dynamicStyles.emptyStateText}>No bookings yet!</Paragraph>\n                <Button \n                  mode=\"contained\" \n                  onPress={() => navigateToFrom(navigation, 'ServiceManager', 'ProfessionalDashboard')}\n                  style={styles.createServiceButton}\n                  labelStyle={dynamicStyles.buttonText}\n                >\n                  Create Services\n                </Button>\n              </View>\n            )}\n          </Card.Content>\n          {upcomingBookings.length > 0 && (\n            <Card.Actions>\n              <Button \n                onPress={() => navigateToFrom(navigation, 'MyBookings', 'ProfessionalDashboard')}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                View All Bookings\n              </Button>\n            </Card.Actions>\n          )}\n        </Card>\n\n        {/* <Card style={styles.card}>\n          <Card.Content>\n            <Title>Client Requests</Title>\n            {clientRequests.map((request) => (\n              <TouchableOpacity\n                key={request.id}\n                onPress={() => navigation.navigate('RequestDetails', { requestId: request.id })}\n              >\n                <List.Item\n                  title={`${request.client} - ${request.pet}`}\n                  description={`${request.date} at ${request.time}`}\n                  left={(props) => <IconComponent {...props} icon=\"account-clock\" name=\"account-clock\" />}\n                  right={(props) => <IconComponent {...props} icon=\"chevron-right\" name=\"chevron-right\" />}\n                />\n              </TouchableOpacity>\n            ))}\n          </Card.Content>\n          <Card.Actions>\n            <Button onPress={() => navigation.navigate('ClientRequests')}>View All Requests</Button>\n          </Card.Actions>\n        </Card> */}\n\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={dynamicStyles.cardTitle}>Quick Actions</Title>\n            <View style={styles.quickActions}>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"clock\" size={size} color={color} /> : \"clock\"}\n                mode=\"outlined\" \n                onPress={() => navigateToFrom(navigation, 'AvailabilitySettings', 'ProfessionalDashboard')}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                {Platform.OS === 'web' ? 'Update Availability' : 'Availability'}\n              </Button>\n              <Button \n                icon={Platform.OS === 'web' ? ({ size, color }) => <MaterialCommunityIcons name=\"briefcase\" size={size} color={color} /> : \"briefcase\"}\n                mode=\"outlined\" \n                onPress={navigateToServiceManager}\n                style={styles.quickActionButton}\n                labelStyle={dynamicStyles.buttonText}\n              >\n                My Services\n              </Button>\n            </View>\n          </Card.Content>\n        </Card>\n      </View>\n    </ScrollView>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <View style={styles.header}>\n        <Text style={dynamicStyles.headerTitle}>Professional Dashboard</Text>\n      </View>\n      <Content />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n  },\n  safeArea: {\n    flex: 0,\n    backgroundColor: '#f0f0f0',\n  },\n  bookingItem: {\n    padding: 6,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    elevation: 3,\n    marginVertical: 4,\n    borderRadius: 4,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  contentContainer: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 0 : 80,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 16,\n  },\n  cardContainer: {\n    maxWidth: Platform.OS === 'web' ? 800 : '100%',\n    alignSelf: 'center',\n    width: '100%',\n  },\n  card: {\n    marginBottom: 16,\n  },\n  quickActions: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start',\n    gap: 8,\n    marginTop: 16,\n  },\n  quickActionButton: {\n    marginVertical: Platform.OS === 'web' ? 0 : 8,\n    marginHorizontal: Platform.OS === 'web' ? 0 : 0,\n    flex: Platform.OS === 'web' ? 1 : 0,\n    minWidth: Platform.OS === 'web' ? 200 : 'auto',\n  },\n  header: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    justifyContent: 'center',\n    alignItems: Platform.OS === 'web' ? undefined : 'center',\n  },\n  loadingContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  createServiceButton: {\n    marginTop: 8,\n  },\n});\n\nexport default ProfessionalDashboard;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, TextInput, StyleSheet, ScrollView, SafeAreaView, Platform, StatusBar, TouchableOpacity, ActivityIndicator, Alert, Dimensions, Image } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport * as ImagePicker from 'expo-image-picker';\nimport { AuthContext } from '../context/AuthContext';\nimport { navigateToFrom, handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useForm, ValidationError } from '@formspree/react';\n\n\n// TODO: mention to user initially we are doing a manual verification process, will implement automation later.\nconst BecomeProfessional = ({ navigation }) => {\n  const [selectedPets, setSelectedPets] = useState({\n    dog: false,\n    cat: false,\n    exotics: false,\n  });\n  const [about, setAbout] = useState('');\n  const [certifications, setCertifications] = useState([]);\n  const [insuranceProof, setInsuranceProof] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { is_DEBUG, is_prototype } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n\n  useEffect(() => {\n    const initializeNavigation = async () => {\n      const currentRoute = Platform.OS === 'web' ? sessionStorage.getItem('currentRoute') : await AsyncStorage.getItem('currentRoute');\n      if (currentRoute !== 'BecomeProfessional') {\n        await navigateToFrom(navigation, 'BecomeProfessional', currentRoute);\n      } else {\n        if (is_DEBUG) {\n          console.log('Error, currentRoute is BecomeProfessional');\n        }\n      }\n    };\n    initializeNavigation();\n  }, []);\n\n  const handleBackPress = () => {\n    handleBack(navigation);\n  };\n\n  const togglePetSelection = (pet) => {\n    setSelectedPets({ ...selectedPets, [pet]: !selectedPets[pet] });\n  };\n\n  const pickCertification = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newCertification = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setCertifications([...certifications, newCertification]);\n    }\n  };\n\n  const pickInsuranceProof = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64: true,\n    });\n\n    if (!result.canceled) {\n      const newProof = {\n        uri: result.assets[0].uri,\n        base64: result.assets[0].base64,\n        name: result.assets[0].uri.split('/').pop()\n      };\n      setInsuranceProof([...insuranceProof, newProof]);\n    }\n  };\n\n  const removeCertification = (index) => {\n    setCertifications(certifications.filter((_, i) => i !== index));\n  };\n\n  const removeInsuranceProof = (index) => {\n    setInsuranceProof(insuranceProof.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n\n    if (is_prototype) {\n      try {\n        // Create form data object\n        const formData = new FormData();\n        \n        // Add text fields\n        formData.append('type', 'Professional Application');\n        formData.append('selectedPets', Object.entries(selectedPets)\n          .filter(([_, value]) => value)\n          .map(([pet]) => pet)\n          .join(', '));\n        formData.append('about', about);\n\n        // Add certifications as files\n        certifications.forEach((cert, index) => {\n          // Create file name\n          const fileName = cert.name || `certification${index + 1}.jpg`;\n          \n          // Create file object\n          const fileData = {\n            uri: Platform.OS === 'ios' ? cert.uri.replace('file://', '') : cert.uri,\n            type: 'image/jpeg',\n            name: fileName,\n          };\n          \n          formData.append(`certification_${index + 1}`, fileData);\n        });\n\n        // Add insurance proofs as files\n        insuranceProof.forEach((proof, index) => {\n          // Create file name\n          const fileName = proof.name || `insurance${index + 1}.jpg`;\n          \n          // Create file object\n          const fileData = {\n            uri: Platform.OS === 'ios' ? proof.uri.replace('file://', '') : proof.uri,\n            type: 'image/jpeg',\n            name: fileName,\n          };\n          \n          formData.append(`insurance_${index + 1}`, fileData);\n        });\n\n        // Send as multipart form data\n        await handleFormspreeSubmit(formData);\n        \n        if (state.succeeded) {\n          setSelectedPets({\n            dog: false,\n            cat: false,\n            exotics: false,\n          });\n          setAbout('');\n          setCertifications([]);\n          setInsuranceProof([]);\n\n          if (Platform.OS === 'web') {\n            window.confirm('Success: Your application has been submitted successfully!') && navigation.navigate('More');\n          } else {\n            Alert.alert('Success', 'Your application has been submitted successfully!', [\n              { text: 'OK', onPress: () => navigation.navigate('More', { screen: 'More', transition: 'slide' }) },\n            ]);\n          }\n        }\n      } catch (error) {\n        console.error('Error submitting form:', error);\n        Alert.alert('Error', 'Failed to submit application. Please try again.');\n      } finally {\n        setIsSubmitting(false);\n      }\n    } else {\n      // Original submission logic for non-prototype mode\n      setTimeout(() => {\n        setIsSubmitting(false);\n        setSelectedPets({\n          dog: false,\n          cat: false,\n          exotics: false,\n        });\n        setAbout('');\n        setCertifications([]);\n        setInsuranceProof([]);\n        if (Platform.OS === 'web') {\n          window.confirm('Success: Your application has been submitted successfully!') && navigation.navigate('More');\n        } else {\n          Alert.alert('Success', 'Your application has been submitted successfully!', [\n            { text: 'OK', onPress: () => navigation.navigate('More', { screen: 'More', transition: 'slide' }) },\n          ]);\n        }\n      }, 2000);\n    }\n  };\n\n  // Show success message if form submission succeeded in prototype mode\n  if (is_prototype && state.succeeded) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.header}>\n          <TouchableOpacity onPress={handleBackPress} style={styles.backButton}>\n            <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n          </TouchableOpacity>\n          <Text style={styles.headerText}>Become a Professional</Text>\n        </View>\n        <View style={[styles.container, { justifyContent: 'center', alignItems: 'center' }]}>\n          <Text style={[styles.title, { color: theme.colors.primary }]}>\n            Thanks for applying!\n          </Text>\n          <Text style={styles.subtitle}>\n            We'll review your application and get back to you soon.\n          </Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={handleBackPress} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>Become a Professional</Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <Text style={styles.title}>Become a Professional</Text>\n        \n        <Text style={styles.label}>Select Pets You Can Sit:</Text>\n        <View style={styles.checkboxContainer}>\n          {['dog', 'cat', 'exotics'].map((pet) => (\n            <TouchableOpacity\n              key={pet}\n              style={[\n                styles.petButton,\n                selectedPets[pet] && styles.selectedPetButton,\n              ]}\n              onPress={() => togglePetSelection(pet)}\n            >\n              <MaterialCommunityIcons\n                name={pet === 'exotics' ? 'turtle' : pet}\n                size={24}\n                color={selectedPets[pet] ? '#fff' : theme.colors.primary}\n              />\n              <Text style={[styles.petButtonText, selectedPets[pet] && styles.selectedPetButtonText]}>\n                {pet.charAt(0).toUpperCase() + pet.slice(1)}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        <Text style={styles.label}>About You:</Text>\n        <TextInput\n          style={styles.textInput}\n          multiline\n          numberOfLines={4}\n          placeholder=\"Write a little about yourself...\"\n          value={about}\n          onChangeText={setAbout}\n        />\n\n        <Text style={styles.label}>Upload Certifications/Resume:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickCertification}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Documents</Text>\n        </TouchableOpacity>\n        {certifications.map((cert, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: cert.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {cert.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeCertification(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <Text style={styles.label}>Upload Insurance Proof:</Text>\n        <TouchableOpacity style={styles.uploadButton} onPress={pickInsuranceProof}>\n          <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n          <Text style={styles.uploadText}>Upload Insurance</Text>\n        </TouchableOpacity>\n        {insuranceProof.map((proof, index) => (\n          <View key={index} style={styles.uploadedFileContainer}>\n            <Image source={{ uri: proof.uri }} style={styles.uploadedFilePreview} />\n            <Text style={styles.certificationText} numberOfLines={1}>\n              {proof.name}\n            </Text>\n            <TouchableOpacity \n              style={styles.removeFileButton}\n              onPress={() => removeInsuranceProof(index)}\n            >\n              <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity style={styles.submitButton} onPress={handleSubmit} disabled={isSubmitting}>\n          <Text style={styles.submitButtonText}>Submit Application</Text>\n        </TouchableOpacity>\n        {isSubmitting && <ActivityIndicator style={styles.loadingIndicator} size=\"small\" color={theme.colors.primary} />}\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 20,\n    width: Platform.OS === 'web' && Dimensions.get('window').width > 600 ? '40%' : '90%',\n    alignSelf: 'center',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 10,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  petButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 5,\n    backgroundColor: '#fff',\n  },\n  selectedPetButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  petButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n  },\n  selectedPetButtonText: {\n    color: '#fff',\n  },\n  textInput: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 20,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  certificationText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginTop: 5,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 5,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: '#fff',\n    fontSize: theme.fontSizes.medium,\n  },\n  loadingIndicator: {\n    marginTop: 10, // Add margin to separate the loading indicator from the submit button\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  uploadedFileContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 8,\n  },\n  uploadedFilePreview: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n    marginRight: 8,\n  },\n  removeFileButton: {\n    padding: 4,\n    marginLeft: 'auto',\n  },\n});\n\nexport default BecomeProfessional;\n","import React, { useContext, useEffect } from 'react';\nimport { View, StyleSheet, Alert, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { List, Divider, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst MoreScreen = ({ navigation }) => {\n  const { isSignedIn, isApprovedProfessional, userRole, switchRole, signOut } = useContext(AuthContext);\n\n  useEffect(() => {\n    const initializeRoutes = async () => {\n      try {\n        const initialRoute = isSignedIn \n          ? (userRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard')\n          : 'Home';\n\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('currentRoute', initialRoute);\n          sessionStorage.setItem('previousRoute', 'More');\n        } else {\n          await AsyncStorage.setItem('currentRoute', initialRoute);\n          await AsyncStorage.setItem('previousRoute', 'More');\n        }\n      } catch (error) {\n        console.error('Error initializing routes:', error);\n      }\n    };\n\n    initializeRoutes();\n  }, [isSignedIn, userRole]);\n\n  const handleNavigation = async (route) => {\n    try {\n      await navigateToFrom(navigation, route, 'More');\n    } catch (error) {\n      console.error('Error handling navigation:', error);\n      navigation.navigate(route);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut();\n      // Clear navigation history on logout\n      if (Platform.OS === 'web') {\n        sessionStorage.removeItem('currentRoute');\n        sessionStorage.removeItem('previousRoute');\n      } else {\n        await AsyncStorage.multiRemove(['currentRoute', 'previousRoute']);\n      }\n      Alert.alert('Logged Out', 'You have been successfully logged out.');\n      navigation.navigate('Home');\n    } catch (error) {\n      console.error('Logout failed', error);\n      Alert.alert('Logout Failed', 'An error occurred while logging out.');\n    }\n  };\n\n  const handleSwitchRole = async () => {\n    if (isApprovedProfessional) {\n      const newRole = userRole === 'professional' ? 'petOwner' : 'professional';\n      // console.log('Current role:', userRole);\n      // console.log('Switching to:', newRole);\n      \n      await switchRole();\n      \n      // Store new route before navigating\n      const newRoute = newRole === 'professional' ? 'ProfessionalDashboard' : 'Dashboard';\n      if (Platform.OS === 'web') {\n        sessionStorage.setItem('currentRoute', newRoute);\n      } else {\n        await AsyncStorage.setItem('currentRoute', newRoute);\n      }\n      \n      // Add a small delay to ensure state is updated before navigation\n      setTimeout(() => {\n        // console.log('Navigating to:', newRoute);\n        navigation.navigate(newRoute);\n      }, 0);\n    } else {\n      Alert.alert('Not Approved', 'You are not approved as a professional yet.');\n      handleNavigation('BecomeProfessional');\n    }\n  };\n\n  const menuItems = {\n    notSignedIn: [\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      // ADD after MVP is released\n    //   { title: 'Help/FAQ', icon: 'help-circle', route: 'HelpFAQ' },\n    //   { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    //   { title: 'Settings', icon: 'cog', route: 'Settings' },\n    ],\n    petOwner: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Become a Professional', icon: 'account-tie', route: 'BecomeProfessional' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n    professional: [\n      { title: 'Profile', icon: 'account', route: 'MyProfile' },\n      { title: 'My Services', icon: 'briefcase-outline', route: 'ServiceManager' },\n      { title: 'My Bookings', icon: 'calendar-clock', route: 'MyBookings' },\n      { title: 'My Pets', icon: 'paw', route: 'MyPets' },\n      { title: 'Payment Methods', icon: 'credit-card', route: 'PaymentMethods' },\n      { title: 'Settings', icon: 'cog', route: 'Settings' },\n      { title: 'Blog', icon: 'post', route: 'Blog' },\n      { title: 'Privacy Policy', icon: 'shield-account', route: 'PrivacyPolicy' },\n      { title: 'Terms of Service', icon: 'file-document', route: 'TermsOfService' },\n      { title: 'Contact Us', icon: 'email', route: 'ContactUs' },\n    ],\n  };\n\n  const renderMenuItems = () => {\n    let items;\n    if (!isSignedIn) {\n      items = menuItems.notSignedIn;\n    } else if (userRole === 'professional') {\n      items = menuItems.professional;\n    } else {\n      items = menuItems.petOwner;\n    }\n\n    return items.map((item, index) => (\n      <List.Item\n        key={index}\n        title={item.title}\n        titleStyle={styles.listItemTitle}\n        left={props => \n          Platform.OS === 'web' \n            ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n            : <List.Icon {...props} icon={item.icon} />}\n        onPress={() => handleNavigation(item.route)}\n        style={Platform.OS === 'web' ? styles.webListItem : null}\n      />\n    ));\n  };\n\n  const renderWebView = () => (\n    <View style={styles.webContainer}>\n      <View style={styles.webContent}>\n        <List.Section style={styles.webListSection}>\n          {renderMenuItems()}\n        </List.Section>\n        {isSignedIn && isApprovedProfessional && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"outlined\" \n              onPress={handleSwitchRole} \n              style={styles.webButton}\n              labelStyle={styles.buttonText}\n            >\n              Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n            </Button>\n          </View>\n        )}\n        {isSignedIn && (\n          <View style={styles.webButtonContainer}>\n            <Button \n              mode=\"contained\" \n              onPress={handleLogout} \n              style={[styles.webButton, styles.logoutButton]}\n              labelStyle={styles.buttonText}\n            >\n              Log Out\n            </Button>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  const renderMobileView = () => (\n    <SafeAreaView style={styles.container}>\n      <List.Section>\n        {renderMenuItems()}\n      </List.Section>\n      {isSignedIn && isApprovedProfessional && (\n        <View style={styles.switchRoleButtonContainer}>\n          <Button mode=\"outlined\" onPress={handleSwitchRole} style={styles.switchRoleButton}>\n            Switch to {userRole === 'professional' ? 'Pet Owner' : 'Professional'} Mode\n          </Button>\n        </View>\n      )}\n      {isSignedIn && (\n        <View style={styles.logoutButtonContainer}>\n          <Button mode=\"contained\" onPress={handleLogout} style={styles.logoutButton}>\n            Log Out\n          </Button>\n        </View>\n      )}\n    </SafeAreaView>\n  );\n\n  return Platform.OS === 'web' ? renderWebView() : renderMobileView();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  logoutButtonContainer: {\n    padding: 16,\n  },\n  logoutButton: {\n    backgroundColor: theme.colors.error,\n  },\n  switchRoleButtonContainer: {\n    padding: 16,\n  },\n  switchRoleButton: {\n    borderColor: theme.colors.primary,\n  },\n  // Web-specific styles\n  webContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    padding: 16,\n  },\n  webListSection: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  webButtonContainer: {\n    marginBottom: 16,\n  },\n  webButton: {\n    width: '100%',\n  },\n  listItemTitle: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n    fontSize: 16,\n  },\n  buttonText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '600',\n  }\n});\n\nexport default MoreScreen;\n","import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\n\nconst UnavailableTimeSlot = ({ startTime, endTime, reason, onPress, onRemove }) => {\n  const [showAllServices, setShowAllServices] = useState(false);\n  \n  const isAllDay = startTime === '00:00' && endTime === '24:00';\n\n  const formatTime = (time) => {\n    if (isAllDay) {\n      return 'All Day';\n    }\n    \n    if (typeof time === 'string') {\n      try {\n        const date = parse(time, 'HH:mm', new Date());\n        return format(date, 'h:mm a');\n      } catch (error) {\n        console.warn(`Invalid time format: ${time}`);\n        return 'Invalid Time';\n      }\n    } else if (time instanceof Date) {\n      return format(time, 'h:mm a');\n    } else {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const formatServicesDisplay = () => {\n    const services = reason?.replace('Unavailable for: ', '').split(', ') || [];\n    \n    if (services.length === 0) return 'No services specified';\n    if (services.length === 10) return 'All Services';\n    return `${services.length} ${services.length === 1 ? 'Service' : 'Services'}`;\n  };\n\n  return (\n    <>\n      <View style={styles.container}>\n        <TouchableOpacity \n          style={styles.removeButton} \n          onPress={onRemove}\n        >\n          <MaterialCommunityIcons name=\"close\" size={20} color={theme.colors.error} />\n        </TouchableOpacity>\n        \n        <View style={styles.contentContainer}>\n          <Text style={styles.time}>\n            {isAllDay ? 'All Day' : `${formatTime(startTime)} - ${formatTime(endTime)}`}\n          </Text>\n          <View style={styles.serviceContainer}>\n            <Text style={styles.reason}>{formatServicesDisplay()}</Text>\n            {reason && (\n              <TouchableOpacity \n                onPress={() => setShowAllServices(true)}\n                style={styles.seeMoreButton}\n              >\n                <Text style={styles.seeMoreText}>See All</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n        </View>\n      </View>\n\n      <Modal\n        visible={showAllServices}\n        transparent={true}\n        animationType=\"fade\"\n        onRequestClose={() => setShowAllServices(false)}\n      >\n        <TouchableOpacity \n          style={styles.modalOverlay}\n          activeOpacity={1}\n          onPress={() => setShowAllServices(false)}\n        >\n          <View style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Unavailable Services</Text>\n              <TouchableOpacity onPress={() => setShowAllServices(false)}>\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <Text style={styles.modalTime}>\n              {formatTime(startTime)} - {formatTime(endTime)}\n            </Text>\n            {reason?.replace('Unavailable for: ', '').split(', ').map((service, index) => (\n              <Text key={index} style={styles.serviceItem}>• {service}</Text>\n            ))}\n          </View>\n        </TouchableOpacity>\n      </Modal>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 10,\n    backgroundColor: theme.colors.lightGrey,\n    borderRadius: 5,\n    marginBottom: 5,\n  },\n  removeButton: {\n    padding: 5,\n    marginRight: 5,\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  time: {\n    fontSize: theme.fontSizes.small,\n    fontWeight: 'bold',\n    flex: 1,\n  },\n  serviceContainer: {\n    flex: 2,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  reason: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n    marginRight: 8,\n  },\n  seeMoreButton: {\n    padding: 4,\n    borderRadius: 4,\n    backgroundColor: theme.colors.primary,\n  },\n  seeMoreText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.small,\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '80%',\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  modalTime: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 12,\n  },\n  serviceItem: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    paddingVertical: 4,\n  },\n});\n\nexport default UnavailableTimeSlot;\n","// First, create a new BookingCard component\n// src/components/BookingCard.js\n\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\n\nconst AvailabilityBookingCard = ({ booking, onPress, onEdit }) => {\n  const navigation = useNavigation();\n  const formatTime = (time) => {\n    try {\n      const date = parse(time, 'HH:mm', new Date());\n      return format(date, 'h:mm a');\n    } catch (error) {\n      console.warn(`Invalid time format: ${time}`);\n      return 'Invalid Time';\n    }\n  };\n\n  const handlePress = () => {\n    if (onPress) {\n      onPress(booking);\n    }\n  };\n\n  return (\n    <TouchableOpacity \n      style={styles.card} \n      onPress={handlePress}\n    >\n      <View style={styles.cardContent}>\n        <View style={styles.timeContainer}>\n          <MaterialCommunityIcons name=\"clock-outline\" size={20} color={theme.colors.primary} />\n          <Text style={styles.timeText}>\n            {formatTime(booking.startTime)} - {formatTime(booking.endTime)}\n          </Text>\n        </View>\n        <Text style={styles.clientName}>Booked with {booking.client_name}</Text>\n      </View>\n      <TouchableOpacity \n        style={styles.editButton} \n        onPress={handlePress}\n      >\n        <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n      </TouchableOpacity>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n  },\n  cardContent: {\n    flex: 1,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  timeText: {\n    marginLeft: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontWeight: '500',\n  },\n  clientName: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.textSecondary,\n  },\n  editButton: {\n    padding: 8,\n  },\n});\n\nexport default AvailabilityBookingCard;","import React from 'react';\nimport { View, Text, StyleSheet, Platform, TouchableOpacity } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst TimePicker = ({ label, value, onChange, fullWidth = false, containerStyle }) => {\n  const [showPicker, setShowPicker] = React.useState(false);\n\n  const handleChange = (event, selectedDate) => {\n    setShowPicker(Platform.OS === 'ios');\n    if (selectedDate) {\n      onChange(selectedDate);\n    }\n  };\n\n  const showTimepicker = () => {\n    setShowPicker(true);\n  };\n\n  const renderTimeDisplay = () => (\n    <TouchableOpacity \n      onPress={showTimepicker}\n      style={[styles.timeButton, !fullWidth && styles.compactTimeButton]}\n    >\n      <Text style={styles.timeText}>\n        {value.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n      </Text>\n      <MaterialCommunityIcons name=\"clock-outline\" size={24} color={theme.colors.text} />\n    </TouchableOpacity>\n  );\n\n  if (Platform.OS === 'web') {\n    const webInputStyle = {\n      padding: 12,\n      borderWidth: 1,\n      borderColor: theme.colors.border,\n      borderRadius: 8,\n      backgroundColor: theme.colors.whiteText,\n      fontSize: theme.fontSizes.medium,\n      width: fullWidth ? '' : '90%',\n    };\n\n    return (\n      <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n        {label && <Text style={styles.label}>{label}</Text>}\n        <input\n          type=\"time\"\n          value={value.toTimeString().slice(0, 5)}\n          onChange={(e) => onChange(new Date(`2000-01-01T${e.target.value}`))}\n          style={webInputStyle}\n        />\n      </View>\n    );\n  }\n\n  return (\n    <View style={[styles.container, fullWidth && styles.fullWidth, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      {renderTimeDisplay()}\n      {showPicker && (\n        <DateTimePicker\n          value={value}\n          mode=\"time\"\n          is24Hour={true}\n          display=\"default\"\n          onChange={handleChange}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    // marginVertical: 8,\n  },\n  fullWidth: {\n    // width: '100%',\n  },\n  label: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 4,\n  },\n  timeButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    // backgroundColor: 'black',\n    minHeight: 48,\n  },\n  compactTimeButton: {\n    width: 150,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  }\n});\n\nexport default TimePicker;\n\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, Platform, Dimensions, ScrollView } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport UnavailableTimeSlot from './UnavailableTimeSlot';\nimport { format, parse } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBookingCard from './AvailabilityBookingCard';\nimport { useNavigation } from '@react-navigation/native';\nimport TimePicker from './TimePicker';\n\nconst { width, height: SCREEN_HEIGHT } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst AddAvailabilityModal = ({ isVisible: propIsVisible, onClose, onSave, selectedDates, currentAvailability, bookings, onRemoveTimeSlot }) => {\n  const [isVisible, setIsVisible] = useState(propIsVisible);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [modalWidth, setModalWidth] = useState(getModalWidth());\n  const [activeView, setActiveView] = useState('bookings');\n  const [editingBooking, setEditingBooking] = useState(null);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    setIsVisible(propIsVisible);\n  }, [propIsVisible]);\n\n  function getModalWidth() {\n    const { width } = Dimensions.get('window');\n    return width < 600 ? width * 0.9 : width * 0.4;\n  }\n\n  useEffect(() => {\n    const updateWidth = () => {\n      setModalWidth(getModalWidth());\n    };\n\n    const dimensionsHandler = Dimensions.addEventListener('change', updateWidth);\n\n    return () => {\n      dimensionsHandler.remove();\n    };\n  }, []);\n\n  const isTimeSlotUnavailable = () => {\n    if (!startTime || !endTime || isAllDay) return false;\n    \n    return selectedDates.some(date => {\n      const existingTimes = currentAvailability[date]?.unavailableTimes || [];\n      return existingTimes.some(time => {\n        const [existingStartHour, existingStartMin] = time.startTime.split(':').map(Number);\n        const [existingEndHour, existingEndMin] = time.endTime.split(':').map(Number);\n        const newStartStr = format(startTime, 'HH:mm');\n        const newEndStr = format(endTime, 'HH:mm');\n        const [newStartHour, newStartMin] = newStartStr.split(':').map(Number);\n        const [newEndHour, newEndMin] = newEndStr.split(':').map(Number);\n        \n        return newStartHour === existingStartHour && \n               newStartMin === existingStartMin && \n               newEndHour === existingEndHour && \n               newEndMin === existingEndMin;\n      });\n    });\n  };\n\n  const handleMarkUnavailable = () => {\n    if (selectedServices.length === 0 || isTimeSlotUnavailable()) return;\n    \n    const services = selectedServices.includes(ALL_SERVICES) \n      ? SERVICE_TYPES.filter(service => service !== ALL_SERVICES) \n      : selectedServices;\n\n    onSave({\n      dates: selectedDates,\n      isAllDay,\n      startTime: isAllDay ? null : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? null : format(endTime, 'HH:mm'),\n      isUnavailable: true,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n  };\n\n  const handleMarkAvailable = () => {\n    if (selectedServices.length === 0 || !isTimeSlotUnavailable()) return;\n\n    const newStartStr = format(startTime, 'HH:mm');\n    const newEndStr = format(endTime, 'HH:mm');\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== newStartStr || time.endTime !== newEndStr\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(selectedDates[0], { startTime: newStartStr, endTime: newEndStr }, updatedAvailability, selectedDates);\n  };\n\n  const handleRemoveTimeSlot = (date, timeSlot) => {\n    if (selectedDates.length === 1) {\n      onRemoveTimeSlot(date, timeSlot);\n      return;\n    }\n\n    const updatedAvailability = {};\n    \n    selectedDates.forEach(selectedDate => {\n      if (currentAvailability[selectedDate]?.unavailableTimes) {\n        const currentTimes = currentAvailability[selectedDate].unavailableTimes;\n        const filteredTimes = currentTimes.filter(time => \n          time.startTime !== timeSlot.startTime || time.endTime !== timeSlot.endTime\n        );\n\n        updatedAvailability[selectedDate] = {\n          ...currentAvailability[selectedDate],\n          unavailableTimes: filteredTimes\n        };\n      }\n    });\n\n    onRemoveTimeSlot(date, timeSlot, updatedAvailability, selectedDates);\n  };\n\n  const renderUnavailableTimes = () => {\n    if (selectedDates.length === 0) return null;\n\n    const date = selectedDates[0];\n    const unavailableTimes = currentAvailability[date]?.unavailableTimes || [];\n\n    if (unavailableTimes.length === 0) return null;\n\n    return (\n      <View style={styles.unavailableTimesContainer}>\n        <Text style={styles.sectionTitle}>Unavailable Times:</Text>\n        <ScrollView>\n          {unavailableTimes.map((time, index) => (\n            <UnavailableTimeSlot\n              key={index}\n              startTime={time.startTime}\n              endTime={time.endTime}\n              reason={time.reason}\n              onRemove={() => handleRemoveTimeSlot(date, time)}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    );\n  };\n\nconst renderTimePicker = () => (\n  <>\n    <View style={styles.timePickerContainer}>\n      <Text>Start Time:</Text>\n      <TimePicker\n        value={startTime}\n        onChange={setStartTime}\n        showPicker={showStartTimePicker}\n        setShowPicker={setShowStartTimePicker}\n        fullWidth\n      />\n    </View>\n    <View style={styles.timePickerContainer}>\n      <Text>End Time:</Text>\n      <TimePicker\n        value={endTime}\n        onChange={setEndTime}\n        showPicker={showEndTimePicker}\n        setShowPicker={setShowEndTimePicker}\n        fullWidth\n      />\n    </View>\n  </>\n);\n\nconst formatSelectedDates = () => {\n  if (!selectedDates || selectedDates.length === 0) return '';\n  \n  const startDate = selectedDates[0];\n  const endDate = selectedDates[selectedDates.length - 1];\n  \n  if (startDate === endDate) {\n    return startDate;\n  }\n  \n  return `${startDate} - ${endDate}`;\n};\n\nconst handleEditBooking = async (booking) => {\n  setEditingBooking(booking);\n  // Implement your booking edit logic here\n  try {\n    const response = await updateBooking({\n      ...booking,\n      // Add your updated booking data\n    });\n    \n    if (response.success) {\n      // Update local state\n      // Implement your state update logic\n    }\n  } catch (error) {\n    console.error('Failed to update booking:', error);\n  }\n};\n\nconst renderToggleButtons = () => (\n  <View style={styles.toggleContainer}>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'unavailable' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('unavailable')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'unavailable' && styles.activeToggleText\n      ]}>\n        Unavailable Times\n      </Text>\n    </TouchableOpacity>\n    <TouchableOpacity\n      style={[\n        styles.toggleButton,\n        activeView === 'bookings' && styles.activeToggle\n      ]}\n      onPress={() => setActiveView('bookings')}\n    >\n      <Text style={[\n        styles.toggleText,\n        activeView === 'bookings' && styles.activeToggleText\n      ]}>\n        Bookings\n      </Text>\n    </TouchableOpacity>\n  </View>\n);\n\nconst renderBookings = () => {\n  const dateBookings = selectedDates.reduce((acc, date) => {\n    if (bookings[date]) {\n      acc.push(...bookings[date].map(booking => ({\n        ...booking,\n        date\n      })));\n    }\n    return acc;\n  }, []);\n\n  if (dateBookings.length === 0) {\n    return (\n      <View style={styles.emptyState}>\n        <MaterialCommunityIcons \n          name=\"calendar-blank\" \n          size={48} \n          color={theme.colors.textSecondary} \n        />\n        <Text style={styles.emptyStateText}>No bookings for selected dates</Text>\n      </View>\n    );\n  }\n\n  const handleBookingPress = (booking) => {\n    onClose();\n    \n    // Navigate after a short delay\n    setTimeout(() => {\n      navigation.navigate('BookingDetails', { bookingId: booking.id });\n    }, 300);\n  };\n\n  return (\n    <View style={styles.bookingsContainer}>\n      <ScrollView \n        style={styles.bookingsList}\n        nestedScrollEnabled={true}\n      >\n        {dateBookings.map((booking, index) => (\n          <AvailabilityBookingCard\n            key={index}\n            booking={booking}\n            onPress={() => handleBookingPress(booking)}\n            onEdit={() => handleBookingPress(booking)}\n          />\n        ))}\n      </ScrollView>\n    </View>\n  );\n};\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[styles.modalContent, { width: modalWidth }]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {selectedDates.length > 1 ? 'Edit Multiple Days' : 'Edit Availability'}\n            </Text>\n            <TouchableOpacity \n              style={styles.closeButton} \n              onPress={onClose}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.text} \n              />\n            </TouchableOpacity>\n          </View>\n\n          <Text style={styles.selectedDatesText}>\n            Selected Dates: {formatSelectedDates()}\n          </Text>\n\n          {renderToggleButtons()}\n          \n          <ScrollView \n            style={styles.contentScrollView}\n            nestedScrollEnabled={true}\n          >\n            {activeView === 'unavailable' ? (\n              <View style={styles.unavailableTimesWrapper}>\n                {renderUnavailableTimes()}\n              </View>\n            ) : (\n              <View style={styles.bookingsWrapper}>\n                {renderBookings()}\n              </View>\n            )}\n\n            <View style={styles.availabilityControls}>\n              <View style={styles.inputWrapper}>\n                <Text style={styles.inputLabel}>Service Type(s) *</Text>\n                <TouchableOpacity\n                  style={[\n                    styles.input,\n                    styles.customDropdown,\n                    selectedServices.length === 0 && styles.inputError\n                  ]}\n                  onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n                >\n                  <Text style={{\n                    color: selectedServices.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n                  }}>\n                    {selectedServices.length > 0 \n                      ? selectedServices.includes(ALL_SERVICES)\n                        ? \"All Services\"\n                        : selectedServices.length > 1\n                          ? `${selectedServices.length} services selected`\n                          : selectedServices[0]\n                      : \"Select service type(s)\"\n                    }\n                  </Text>\n                  <MaterialCommunityIcons \n                    name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                    size={24} \n                    color={theme.colors.primary} \n                  />\n                </TouchableOpacity>\n                \n                {showServiceDropdown && (\n                  <View style={styles.dropdownContainer}>\n                    <ScrollView style={styles.dropdownScroll}>\n                      {SERVICE_TYPES.map((service) => (\n                        <TouchableOpacity\n                          key={service}\n                          style={styles.dropdownItem}\n                          onPress={() => {\n                            if (service === ALL_SERVICES) {\n                              setSelectedServices(\n                                selectedServices.includes(ALL_SERVICES) \n                                  ? [] \n                                  : [ALL_SERVICES]\n                              );\n                            } else {\n                              setSelectedServices(prev => {\n                                // Remove \"All Services\" if it was selected\n                                const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                                \n                                if (prev.includes(service)) {\n                                  return withoutAll.filter(s => s !== service);\n                                } else {\n                                  return [...withoutAll, service];\n                                }\n                              });\n                            }\n                          }}\n                        >\n                          <View style={styles.dropdownItemContent}>\n                            <Text style={[\n                              styles.dropdownText,\n                              selectedServices.includes(service) && styles.selectedOption\n                            ]}>\n                              {service}\n                            </Text>\n                            {selectedServices.includes(service) && (\n                              <MaterialCommunityIcons \n                                name=\"check\" \n                                size={20} \n                                color={theme.colors.primary} \n                              />\n                            )}\n                          </View>\n                        </TouchableOpacity>\n                      ))}\n                    </ScrollView>\n                  </View>\n                )}\n              </View>\n\n              <View style={styles.switchContainer}>\n                <Text>All Day</Text>\n                <Switch value={isAllDay} onValueChange={setIsAllDay} />\n              </View>\n\n              {!isAllDay && renderTimePicker()}\n\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.availableButton,\n                    (selectedServices.length === 0 || !isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkAvailable}\n                  disabled={selectedServices.length === 0 || !isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Available\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity\n                  style={[\n                    styles.availabilityButton,\n                    styles.unavailableButton,\n                    (selectedServices.length === 0 || isTimeSlotUnavailable()) && styles.disabledButton\n                  ]}\n                  onPress={handleMarkUnavailable}\n                  disabled={selectedServices.length === 0 || isTimeSlotUnavailable()}\n                >\n                  <Text style={styles.availabilityButtonText}>\n                    Mark Unavailable\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 17,\n    maxHeight: SCREEN_HEIGHT * 0.7,\n    zIndex: 1,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 15,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n  },\n  closeButton: {\n    padding: 5,\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginTop: 20,\n    gap: 10,\n  },\n  availabilityButton: {\n    padding: 10,\n    borderRadius: 5,\n    flex: 1,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  availabilityButtonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n    zIndex: 1,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  unavailableTimesContainer: {\n    marginTop: 20,\n    maxHeight: 200,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  \n  inputLabel: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.text,\n    marginBottom: 5,\n    fontWeight: '500',\n  },\n  \n  input: {\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.inputBackground,\n  },\n  \n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    height: 40,\n  },\n  \n  dropdownContainer: {\n    position: 'absolute',\n    top: '95%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    marginTop: 2,\n    maxHeight: 160,\n    zIndex: 1000,\n    elevation: 5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  \n  dropdownScroll: {\n    maxHeight: 160,\n  },\n  \n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    height: 40,\n  },\n  \n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n  },\n  \n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  \n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  \n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: 10,\n  },\n  toggleContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    padding: 4,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    margin: 2,\n  },\n  activeToggle: {\n    backgroundColor: theme.colors.primary,\n  },\n  toggleText: {\n    textAlign: 'center',\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  activeToggleText: {\n    color: theme.colors.whiteText,\n    fontWeight: '500',\n  },\n  bookingsList: {\n    maxHeight: 300,\n  },\n  emptyState: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 32,\n  },\n  emptyStateText: {\n    marginTop: 16,\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    textAlign: 'center',\n  },\n  contentScrollView: {\n    flex: 1,\n    width: '100%',\n  },\n  availabilityControls: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    width: '100%',\n  },\n  bookingsContainer: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  unavailableTimesWrapper: {\n    maxHeight: 200,\n    marginBottom: 16,\n  },\n  bookingsWrapper: {\n    marginBottom: 16,\n  },\n  selectedDatesText: {\n    marginVertical: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n});\n\nexport default AddAvailabilityModal;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, Switch, ScrollView, Platform, Dimensions } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\n\nconst { width } = Dimensions.get('window');\nconst modalWidth = Platform.OS === 'web' ? width * 0.4 : width * 0.9;\n\nconst ALL_DAYS = \"All Days\";\nconst DAYS_OF_WEEK = [\n  ALL_DAYS,\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n];\n\nconst DefaultSettingsModal = ({ isVisible, onClose, onSave, defaultSettings }) => {\n  const { screenWidth } = useContext(AuthContext);\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [settings, setSettings] = useState(defaultSettings || {\n    Monday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n\n  const [showTimePicker, setShowTimePicker] = useState({ visible: false, type: '', value: '' });\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [isCurrentlyUnavailable, setIsCurrentlyUnavailable] = useState(false);\n  const [showDayDropdown, setShowDayDropdown] = useState(false);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      const dropdownButton = document.getElementById('dropdown-button');\n      const dropdownContainer = document.getElementById('dropdown-container');\n      \n      // If click is not on the button and not inside the dropdown, close it\n      if (showDayDropdown && \n          dropdownContainer && \n          !dropdownContainer.contains(event.target) &&\n          !dropdownButton.contains(event.target)) {\n        setShowDayDropdown(false);\n      }\n    };\n\n    if (Platform.OS === 'web') {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [showDayDropdown]);\n\n  const handleSave = () => {\n    onSave({\n      ...settings,\n      [selectedDays[0]]: {\n        ...settings[selectedDays[0]],\n        isUnavailable: !isCurrentlyUnavailable\n      }\n    });\n  };\n\n  const updateDaySettings = (day, newSettings) => {\n    setSettings(prevSettings => ({\n      ...prevSettings,\n      [day]: { ...prevSettings[day], ...newSettings }\n    }));\n  };\n\n  const handleDaySelection = (day) => {\n    setSelectedDays(current => {\n      if (day === ALL_DAYS) {\n        return current.includes(ALL_DAYS) \n          ? [] \n          : DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n      }\n      \n      const withoutAll = current.filter(d => d !== ALL_DAYS);\n      if (withoutAll.includes(day)) {\n        return withoutAll.filter(d => d !== day);\n      } else {\n        if (withoutAll.length + 1 === DAYS_OF_WEEK.length - 1) {\n          return DAYS_OF_WEEK.filter(d => d !== ALL_DAYS);\n        } else {\n          return [...withoutAll, day];\n        }\n      }\n    });\n  };\n\n  const handleAvailabilityChange = (makeAvailable) => {\n    console.log(\"Selected days:\", selectedDays);\n    if (selectedDays.length === 0) return;\n\n    const daysToUpdate = selectedDays.includes(ALL_DAYS) \n      ? DAYS_OF_WEEK.filter(day => day !== ALL_DAYS)\n      : selectedDays;\n    \n    console.log(\"Days to update:\", daysToUpdate);\n    console.log(\"Current settings:\", settings);\n    console.log(\"Making available:\", makeAvailable);\n\n    const newSettings = { ...settings };\n    daysToUpdate.forEach(day => {\n      console.log(`Updating ${day}`);\n      newSettings[day] = {\n        ...settings[day],\n        isUnavailable: !makeAvailable,\n        startTime: settings[selectedDays[0]].startTime,\n        endTime: settings[selectedDays[0]].endTime,\n        isAllDay: settings[selectedDays[0]].isAllDay,\n        endDate: settings[selectedDays[0]].endDate\n      };\n    });\n    \n    console.log(\"New settings:\", newSettings);\n    setSettings(newSettings);\n    onSave(newSettings);\n    setIsCurrentlyUnavailable(!makeAvailable);\n  };\n\n  const renderTimePicker = (type, value, onChange) => {\n    if (Platform.OS === 'web') {\n      return (\n        <input\n          type=\"time\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          style={styles.webTimePicker}\n        />\n      );\n    } else if (Platform.OS === 'ios') {\n        return (\n            <DateTimePicker\n          value={new Date(`2000-01-01T${value}`)}\n          mode=\"time\"\n          is24Hour={false}\n          display=\"default\"\n          onChange={(event, selectedTime) => {\n            if (selectedTime) {\n              onChange(selectedTime.toTimeString().slice(0, 5));\n            }\n          }}\n        />\n        )\n    } else {\n      return (\n        <>\n          <TouchableOpacity onPress={() => setShowTimePicker({ visible: true, type, value })}>\n            <Text>{value}</Text>\n          </TouchableOpacity>\n          {Platform.OS === 'android' && showTimePicker.visible && showTimePicker.type === type && (\n            <DateTimePicker\n              value={new Date(`2000-01-01T${showTimePicker.value}`)}\n              mode=\"time\"\n              is24Hour={false}\n              display=\"default\"\n              onChange={(event, selectedTime) => {\n                setShowTimePicker({ visible: false, type: '', value: '' });\n                if (selectedTime) {\n                  onChange(selectedTime.toTimeString().slice(0, 5));\n                }\n              }}\n            />\n          )}\n        </>\n      );\n    }\n  };\n\n  const renderEndDatePicker = () => {\n    const daySettings = settings[selectedDays[0]];\n    \n    return (\n      <DatePicker\n        value={daySettings.endDate}\n        onChange={(date) => updateDaySettings(selectedDays[0], { endDate: date })}\n        placeholder=\"Select End Date\"\n      />\n    );\n  };\n\n  const renderDaySettings = () => {\n    const daySettings = settings[selectedDays[0]] || {\n      isAllDay: false,\n      startTime: '09:00',\n      endTime: '17:00',\n      endDate: null\n    };\n    \n    return (\n      <View style={styles.daySettingsContainer}>\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>All Day:</Text>\n          <Switch\n            value={daySettings.isAllDay}\n            onValueChange={(value) => {\n              if (selectedDays.length === 0) return;\n              const newSettings = { ...settings };\n              selectedDays.forEach(day => {\n                newSettings[day] = {\n                  ...newSettings[day],\n                  isAllDay: value\n                };\n              });\n              setSettings(newSettings);\n            }}\n            disabled={selectedDays.length === 0}\n          />\n        </View>\n        {!daySettings.isAllDay && (\n          <>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>Start Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'startTime',\n                  daySettings.startTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        startTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n            <View style={styles.settingRow}>\n              <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Time:</Text>\n              <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n                {renderTimePicker(\n                  'endTime',\n                  daySettings.endTime,\n                  (newTime) => {\n                    if (selectedDays.length === 0) return;\n                    const newSettings = { ...settings };\n                    selectedDays.forEach(day => {\n                      newSettings[day] = {\n                        ...newSettings[day],\n                        endTime: newTime\n                      };\n                    });\n                    setSettings(newSettings);\n                  }\n                )}\n              </View>\n            </View>\n          </>\n        )}\n        <View style={styles.settingRow}>\n          <Text style={selectedDays.length === 0 ? styles.disabledText : styles.enabledText}>End Date:</Text>\n          <View pointerEvents={selectedDays.length === 0 ? 'none' : 'auto'}>\n            <DatePicker\n              value={daySettings.endDate}\n              onChange={(date) => {\n                if (selectedDays.length === 0) return;\n                const newSettings = { ...settings };\n                selectedDays.forEach(day => {\n                  newSettings[day] = {\n                    ...newSettings[day],\n                    endDate: date\n                  };\n                });\n                setSettings(newSettings);\n              }}\n              placeholder=\"Select End Date\"\n              disabled={selectedDays.length === 0}\n            />\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const checkCurrentAvailability = (days, settings) => {\n    if (!days || days.length === 0) return false;\n    \n    return days.some(day => settings[day]?.isUnavailable);\n  };\n\n  useEffect(() => {\n    if (selectedDays.length > 0) {\n      const isUnavailable = checkCurrentAvailability(selectedDays, settings);\n      setIsCurrentlyUnavailable(isUnavailable);\n    } else {\n      setIsCurrentlyUnavailable(false);\n    }\n  }, [selectedDays, settings]);\n\n  const renderDaySelector = () => (\n    <View style={styles.inputWrapper}>\n      <Text style={styles.inputLabel}>Day(s) *</Text>\n      <TouchableOpacity\n        id=\"dropdown-button\"\n        style={[\n          styles.input,\n          styles.customDropdown,\n          selectedDays.length === 0 && styles.inputError\n        ]}\n        onPress={() => setShowDayDropdown(!showDayDropdown)}\n      >\n        <Text style={{\n          color: selectedDays.length > 0 ? theme.colors.text : theme.colors.placeHolderText\n        }}>\n          {selectedDays.length === 0 \n            ? 'Select Days' \n            : selectedDays.includes(ALL_DAYS)\n              ? 'All Days'\n              : selectedDays.length > 2\n                ? `${selectedDays.length} Days Selected`\n                : selectedDays.join(', ')}\n        </Text>\n        <MaterialCommunityIcons \n          name={showDayDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n      \n      {showDayDropdown && (\n        <View \n          id=\"dropdown-container\"\n          style={styles.dropdownContainer}\n        >\n          <ScrollView style={styles.dropdownScroll}>\n            {DAYS_OF_WEEK.map((day) => (\n              <TouchableOpacity\n                key={day}\n                style={styles.dropdownItem}\n                onPress={() => handleDaySelection(day)}\n              >\n                <View style={styles.dropdownItemContent}>\n                  <Text style={[\n                    styles.dropdownText,\n                    selectedDays.includes(day) && styles.selectedOption\n                  ]}>\n                    {day}\n                  </Text>\n                  {selectedDays.includes(day) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={20} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </View>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={isVisible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={[\n          styles.modalContent,\n          { width: screenWidth < 600 ? '90%' : 600 }\n        ]}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Default Settings</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          {renderDaySelector()}\n          {renderDaySettings()}\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => handleAvailabilityChange(true)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => handleAvailabilityChange(false)}\n              disabled={selectedDays.length === 0}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    padding: 22,\n    borderRadius: 17,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  settingContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 10,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dayContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    marginVertical: 5,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 12,\n    marginTop: 20,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 15,\n  },\n  tab: {\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderBottomWidth: 2,\n    borderBottomColor: 'transparent',\n  },\n  selectedTab: {\n    borderBottomColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedTabText: {\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  daySettingsContainer: {\n    marginBottom: 15,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  webTimePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  webDatePicker: {\n    padding: 5,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n  },\n  inputWrapper: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 15,\n    zIndex: 2,\n  },\n  inputLabel: {\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  customDropdown: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 5,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputError: {\n    borderColor: theme.colors.danger,\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n  disabledText: {\n    color: theme.colors.placeHolderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  enabledText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default DefaultSettingsModal;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Platform, Switch, Animated } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport TimePicker from './TimePicker';\nimport { SERVICE_TYPES, ALL_SERVICES } from '../data/mockData';\n\nconst AvailabilityBottomSheet = ({ \n  selectedDates, \n  currentAvailability,\n  onClose,\n  onViewUnavailableTimes,\n  onSave\n}) => {\n  const [startTime, setStartTime] = useState(new Date());\n  const [endTime, setEndTime] = useState(new Date());\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [error, setError] = useState(null);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const animatedHeight = useRef(new Animated.Value(1)).current;\n  const animatedOpacity = useRef(new Animated.Value(1)).current;\n\n  const getAvailabilityStatus = () => {\n    if (!selectedDates || selectedDates.length === 0) return 'Unknown';\n\n    const date = selectedDates[0];\n    const dateAvailability = currentAvailability[date];\n\n    if (!dateAvailability) return 'Available';\n    if (!dateAvailability.isAvailable) return 'Unavailable';\n    if (dateAvailability.unavailableTimes?.length > 0) return 'Partially Available';\n    return 'Available';\n  };\n\n  const getStatusColor = () => {\n    const status = getAvailabilityStatus();\n    switch (status) {\n      case 'Available':\n        return theme.colors.success;\n      case 'Partially Available':\n        return theme.colors.warning;\n      case 'Unavailable':\n        return theme.colors.error;\n      default:\n        return theme.colors.text;\n    }\n  };\n\n  const formatDateRange = () => {\n    if (!selectedDates || selectedDates.length === 0) return '';\n    \n    if (selectedDates.length === 1) {\n      return format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy');\n    }\n\n    return `${format(parse(selectedDates[0], 'yyyy-MM-dd', new Date()), 'MMM dd')} - ${format(parse(selectedDates[selectedDates.length - 1], 'yyyy-MM-dd', new Date()), 'MMM dd, yyyy')}`;\n  };\n\n  const validateAndSave = (isAvailable) => {\n    if (selectedServices.length === 0) {\n      setError('Please select at least one service type');\n      return;\n    }\n    setError(null);\n    onSave({ \n      startTime: isAllDay ? '00:00' : format(startTime, 'HH:mm'),\n      endTime: isAllDay ? '24:00' : format(endTime, 'HH:mm'),\n      services: selectedServices,\n      isAvailable,\n      isAllDay\n    });\n  };\n\n  const toggleMinimized = () => {\n    const toValue = isMinimized ? 1 : 0;\n    \n    Animated.parallel([\n      Animated.timing(animatedHeight, {\n        toValue,\n        duration: 300,\n        useNativeDriver: false\n      }),\n      Animated.timing(animatedOpacity, {\n        toValue,\n        duration: 200,\n        useNativeDriver: false\n      })\n    ]).start();\n\n    setIsMinimized(!isMinimized);\n  };\n\n  const maxHeight = 600; // Adjust this value based on your content\n  const minHeight = 80;\n\n  const containerHeight = animatedHeight.interpolate({\n    inputRange: [0, 1],\n    outputRange: [minHeight, maxHeight]\n  });\n\n  return (\n    <View style={styles.overlay}>\n      <Animated.View \n        style={[\n          styles.container,\n          { height: containerHeight }\n        ]}\n      >\n        <TouchableOpacity \n          onPress={toggleMinimized}\n          style={styles.handleContainer}\n        >\n          <View style={styles.handle} />\n        </TouchableOpacity>\n        \n        <View style={[styles.header, isMinimized && styles.headerMinimized]}>\n          <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n            <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n          <View style={styles.headerCenter}>\n            <Text style={styles.dateText}>{formatDateRange()}</Text>\n            <Text style={[styles.statusText, { color: getStatusColor() }]}>\n              {getAvailabilityStatus()}\n            </Text>\n          </View>\n          <Animated.View style={{ opacity: animatedOpacity }}>\n            <TouchableOpacity \n              style={styles.actionButton}\n              onPress={onViewUnavailableTimes}\n            >\n              <MaterialCommunityIcons \n                name=\"clock-outline\" \n                size={24} \n                color={theme.colors.primary} \n              />\n              <Text style={styles.actionButtonText}>\n                {'Unavailable\\nTimes'}\n              </Text>\n            </TouchableOpacity>\n          </Animated.View>\n        </View>\n\n        <Animated.View \n          style={[\n            styles.content,\n            { opacity: animatedOpacity }\n          ]}\n        >\n          <View style={styles.serviceSection}>\n            <Text style={styles.label}>Service Type(s)</Text>\n            <TouchableOpacity\n              style={[styles.serviceSelector, error && selectedServices.length <= 0 && styles.serviceSelectorError]}\n              onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n            >\n              <Text style={styles.serviceSelectorText}>\n                {selectedServices.length > 0 \n                  ? selectedServices.includes(ALL_SERVICES)\n                    ? \"All Services\"\n                    : selectedServices.length > 1\n                      ? `${selectedServices.length} services selected`\n                      : selectedServices[0]\n                  : \"Select service type(s)\"\n                }\n              </Text>\n              <MaterialCommunityIcons \n                name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {error && selectedServices.length <= 0 && !showServiceDropdown && <Text style={styles.errorText}>{error}</Text>}\n\n            {showServiceDropdown && (\n              <View style={styles.dropdownContainer}>\n                <ScrollView style={styles.dropdownScroll}>\n                  {SERVICE_TYPES.map((service) => (\n                    <TouchableOpacity\n                      key={service}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        if (service === ALL_SERVICES) {\n                          setSelectedServices(\n                            selectedServices.includes(ALL_SERVICES) \n                              ? [] \n                              : [ALL_SERVICES]\n                          );\n                        } else {\n                          setSelectedServices(prev => {\n                            const withoutAll = prev.filter(s => s !== ALL_SERVICES);\n                            if (prev.includes(service)) {\n                              return withoutAll.filter(s => s !== service);\n                            } else {\n                              return [...withoutAll, service];\n                            }\n                          });\n                        }\n                      }}\n                    >\n                      <View style={styles.dropdownItemContent}>\n                        <Text style={[\n                          styles.dropdownText,\n                          selectedServices.includes(service) && styles.selectedOption\n                        ]}>\n                          {service}\n                        </Text>\n                        {selectedServices.includes(service) && (\n                          <MaterialCommunityIcons \n                            name=\"check\" \n                            size={20} \n                            color={theme.colors.primary} \n                          />\n                        )}\n                      </View>\n                    </TouchableOpacity>\n                  ))}\n                </ScrollView>\n              </View>\n            )}\n          </View>\n\n          <View style={styles.timeToggleContainer}>\n            <Text style={styles.label}>Time Selection</Text>\n            <View style={styles.customToggle}>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(true)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  isAllDay && styles.toggleButtonTextActive\n                ]}>All Day</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={[\n                  styles.toggleButton,\n                  !isAllDay ? styles.toggleButtonActive : styles.toggleButtonInactive\n                ]}\n                onPress={() => setIsAllDay(false)}\n              >\n                <Text style={[\n                  styles.toggleButtonText,\n                  !isAllDay && styles.toggleButtonTextActive\n                ]}>Custom Hours</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          {!isAllDay && (\n            <View style={styles.timeSection}>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>Start Time</Text>\n                <TimePicker\n                  value={startTime}\n                  onChange={setStartTime}\n                  fullWidth\n                />\n              </View>\n              <View style={styles.timeContainer}>\n                <Text style={styles.label}>End Time</Text>\n                <TimePicker\n                  value={endTime}\n                  onChange={setEndTime}\n                  fullWidth\n                />\n              </View>\n            </View>\n          )}\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, styles.availableButton]}\n              onPress={() => validateAndSave(true)}\n            >\n              <Text style={styles.buttonText}>Mark Available</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.button, styles.unavailableButton]}\n              onPress={() => validateAndSave(false)}\n            >\n              <Text style={styles.buttonText}>Mark Unavailable</Text>\n            </TouchableOpacity>\n          </View>\n        </Animated.View>\n      </Animated.View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    width: '100%',\n  },\n  container: {\n    backgroundColor: theme.colors.surface,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n    paddingBottom: Platform.OS === 'ios' ? 40 : 16,\n    maxWidth: 800,\n    width: '100%',\n    alignSelf: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: -2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    overflow: 'hidden',\n  },\n  handleContainer: {\n    width: '100%',\n    height: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 4,\n  },\n  handle: {\n    width: 40,\n    height: 4,\n    backgroundColor: theme.colors.border,\n    borderRadius: 2,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 24,\n    paddingRight: 8,\n  },\n  headerMinimized: {\n    marginBottom: 0,\n    justifyContent: 'space-between',\n  },\n  headerCenter: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  closeButton: {\n    width: 60,\n    height: 40,\n    marginBottom: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  dateText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  statusText: {\n    fontSize: theme.fontSizes.medium,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButton: {\n    width: 60,\n    alignItems: 'center',\n  },\n  actionButtonText: {\n    fontSize: theme.fontSizes.small,\n    color: theme.colors.primary,\n    marginTop: 4,\n    textAlign: 'center',\n    lineHeight: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    gap: 24,\n  },\n  timeToggleContainer: {\n    // marginBottom: 8,\n  },\n  customToggle: {\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 4,\n    // marginTop: 8,\n    gap: 8,\n  },\n  toggleButton: {\n    flex: 1,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  toggleButtonActive: {\n    backgroundColor: theme.colors.primary,\n    borderColor: theme.colors.primary,\n  },\n  toggleButtonInactive: {\n    backgroundColor: 'transparent',\n  },\n  toggleButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  toggleButtonTextActive: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeSection: {\n    flexDirection: 'row',\n    gap: 16,\n  },\n  timeContainer: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSection: {\n    position: 'relative',\n    zIndex: 1,\n  },\n  serviceSelector: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.background,\n  },\n  serviceSelectorText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n  },\n  dropdownScroll: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    gap: 12,\n    marginTop: 24,\n  },\n  button: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  availableButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  unavailableButton: {\n    backgroundColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceSelectorError: {\n    borderColor: theme.colors.error,\n    borderWidth: 1,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AvailabilityBottomSheet; ","import React from 'react';\nimport { View, Text, StyleSheet, Modal, TouchableOpacity, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { format, parse } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst UnavailableTimesModal = ({ \n  visible, \n  onClose, \n  selectedDates,\n  currentAvailability,\n  onRemoveTimeSlot,\n  bookings\n}) => {\n  const navigation = useNavigation();\n\n  const formatTime = (time) => {\n    const [hours, minutes] = time.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours), parseInt(minutes));\n    return format(date, 'h:mm a');\n  };\n\n  const handleBookingPress = async (bookingId) => {\n    onClose(); // Close the modal first\n    await navigateToFrom(navigation, 'BookingDetails', 'AvailabilitySettings', { bookingId });\n  };\n\n  const getUnavailableTimes = () => {\n    if (!selectedDates || selectedDates.length === 0) return [];\n\n    const allTimes = [];\n    const processedTimes = new Set(); // Track processed time slots\n\n    selectedDates.forEach(date => {\n      const dateBookings = bookings[date] || [];\n      const dateAvailability = currentAvailability[date];\n\n      // Add bookings first\n      dateBookings.forEach(booking => {\n        const timeKey = `${date}-${booking.startTime}-${booking.endTime}`;\n        if (!processedTimes.has(timeKey)) {\n          allTimes.push({\n            date,\n            startTime: booking.startTime,\n            endTime: booking.endTime,\n            reason: `${booking.service_type}\\nBooked with ${booking.client_name}`,\n            isBooking: true,\n            clientId: booking.clientId\n          });\n          processedTimes.add(timeKey);\n        }\n      });\n\n      // Add personal unavailable times, excluding any that overlap with bookings\n      if (dateAvailability?.unavailableTimes) {\n        dateAvailability.unavailableTimes\n          .filter(time => !time.clientId) // Only include non-booking unavailable times\n          .forEach(time => {\n            const timeKey = `${date}-${time.startTime}-${time.endTime}`;\n            if (!processedTimes.has(timeKey)) {\n              allTimes.push({\n                date,\n                startTime: time.startTime,\n                endTime: time.endTime,\n                reason: time.reason,\n                isBooking: false\n              });\n              processedTimes.add(timeKey);\n            }\n          });\n      }\n    });\n\n    // Sort by date and then by start time\n    return allTimes.sort((a, b) => {\n      if (a.date !== b.date) return a.date.localeCompare(b.date);\n      return a.startTime.localeCompare(b.startTime);\n    });\n  };\n\n  const renderActionButton = (item) => {\n    if (item.isBooking) {\n      return (\n        <TouchableOpacity\n          style={styles.bookingButton}\n          onPress={() => handleBookingPress(item.clientId)}\n        >\n          <MaterialCommunityIcons name=\"arrow-right\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n      );\n    }\n    \n    return (\n      <TouchableOpacity\n        style={styles.removeButton}\n        onPress={() => onRemoveTimeSlot(item.date, item)}\n      >\n        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n      </TouchableOpacity>\n    );\n  };\n\n  const renderTimeSlot = (item, index) => {\n    const formattedDate = format(parse(item.date, 'yyyy-MM-dd', new Date()), 'MMM d, yyyy');\n    const formattedStartTime = formatTime(item.startTime);\n    const formattedEndTime = formatTime(item.endTime);\n\n    return (\n      <View key={index} style={styles.timeSlotContainer}>\n        <View style={styles.dateHeader}>\n          <Text style={styles.dateText}>{formattedDate}</Text>\n        </View>\n        <View style={[\n          styles.timeSlotContent,\n          item.isBooking && styles.bookingContent\n        ]}>\n          <View style={styles.timeAndReason}>\n            <Text style={styles.timeText}>\n              {formattedStartTime} - {formattedEndTime}\n            </Text>\n            <Text style={styles.reasonText}>\n              {item.reason}\n            </Text>\n          </View>\n          {renderActionButton(item)}\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Unavailable Times</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n          \n          <ScrollView style={styles.timesList}>\n            {getUnavailableTimes().map((item, index) => renderTimeSlot(item, index))}\n            {getUnavailableTimes().length === 0 && (\n              <Text style={styles.emptyText}>No unavailable times for selected date(s)</Text>\n            )}\n          </ScrollView>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  timesList: {\n    maxHeight: '90%',\n  },\n  timeSlotContainer: {\n    marginBottom: 15,\n  },\n  dateHeader: {\n    marginBottom: 8,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  timeSlotContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    backgroundColor: theme.colors.background,\n    padding: 12,\n    borderRadius: 8,\n  },\n  bookingContent: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 2,\n  },\n  timeAndReason: {\n    flex: 1,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reasonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.textSecondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  removeButton: {\n    padding: 5,\n    marginLeft: 10,\n  },\n  bookingButton: {\n    padding: 5,\n    marginLeft: 10,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 20,\n    width: 34,\n    height: 34,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 1,\n    elevation: 2,\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: theme.colors.textSecondary,\n    fontSize: theme.fontSizes.medium,\n    marginTop: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default UnavailableTimesModal; ","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, ScrollView, Platform, StatusBar, Dimensions, ActivityIndicator } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { Calendar } from 'react-native-calendars';\nimport moment from 'moment';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport AddAvailabilityModal from '../components/AddAvailabilityModal';\nimport DefaultSettingsModal from '../components/DefaultSettingsModal';\nimport { format, parse } from 'date-fns';\nimport { SERVICE_TYPES, fetchAvailabilityData, ALL_SERVICES } from '../data/mockData';\nimport AvailabilityBottomSheet from '../components/AvailabilityBottomSheet';\nimport UnavailableTimesModal from '../components/UnavailableTimesModal';\nimport { useNavigation } from '@react-navigation/native';\n\nconst daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nconst AvailabilitySettings = () => {\n  const [markedDates, setMarkedDates] = useState({});\n  const [selectedDates, setSelectedDates] = useState([]);\n  const [isAddModalVisible, setIsAddModalVisible] = useState(false);\n  const [isSettingsModalVisible, setIsSettingsModalVisible] = useState(false);\n  const [defaultAvailability, setDefaultAvailability] = useState('available');\n  const [currentAvailability, setCurrentAvailability] = useState({});\n  const [bookings, setBookings] = useState({});\n  const [defaultSettings, setDefaultSettings] = useState({\n    Monday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Tuesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Wednesday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Thursday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Friday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Saturday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n    Sunday: { isAllDay: false, isUnavailable: false, startTime: '09:00', endTime: '17:00', endDate: null },\n  });\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showBottomSheet, setShowBottomSheet] = useState(false);\n  const [showUnavailableTimesModal, setShowUnavailableTimesModal] = useState(false);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const loadAvailabilityData = async () => {\n      try {\n        setIsLoading(true);\n        const data = await fetchAvailabilityData();\n        updateMarkedDates(data.availableDates, data.unavailableDates, data.bookings);\n        \n        const combinedAvailability = {};\n        Object.keys(data.availableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: true,\n            unavailableTimes: [] // Initialize empty array for partially unavailable times\n          };\n        });\n        Object.keys(data.unavailableDates).forEach(date => {\n          combinedAvailability[date] = { \n            isAvailable: false,\n            unavailableTimes: [{\n              startTime: data.unavailableDates[date].startTime,\n              endTime: data.unavailableDates[date].endTime,\n              reason: ' Personal Time'\n            }]\n          };\n        });\n        Object.keys(data.bookings).forEach(date => {\n          if (!combinedAvailability[date]) {\n            combinedAvailability[date] = { \n              isAvailable: true,\n              unavailableTimes: []\n            };\n          }\n          combinedAvailability[date].unavailableTimes = [\n            ...combinedAvailability[date].unavailableTimes,\n            ...data.bookings[date].map(booking => ({\n              startTime: booking.startTime,\n              endTime: booking.endTime,\n              reason: ` Booked with ${booking.client_name}`,\n              clientId: booking.clientId // Assuming each booking has a clientId\n            }))\n          ];\n        });\n        setCurrentAvailability(combinedAvailability);\n        setBookings(data.bookings);\n      } catch (err) {\n        setError('Failed to load availability data');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadAvailabilityData();\n  }, []);\n\n  const updateMarkedDates = (availableDates, unavailableDates, bookings) => {\n    const newMarkedDates = {};\n\n    // Helper function to check if all services are selected for a time slot\n    const hasAllServices = (reason) => {\n      if (!reason) return false;\n      const services = reason.replace('Unavailable for: ', '').split(', ');\n      return services.length === (SERVICE_TYPES.length - 1);\n    };\n\n    Object.entries(unavailableDates).forEach(([date, time]) => {\n      const isFullDay = time.startTime === '00:00' && time.endTime === '24:00';\n      const allServicesSelected = hasAllServices(time.reason);\n      \n      newMarkedDates[date] = {\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    Object.entries(availableDates).forEach(([date, time]) => {\n      if (!newMarkedDates[date]) {\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    Object.entries(bookings).forEach(([date, bookingList]) => {\n      const isFullDay = bookingList.some(booking => \n        booking.startTime === '00:00' && booking.endTime === '24:00'\n      );\n      newMarkedDates[date] = { \n        marked: true,\n        dotColor: theme.colors.primary,\n        customStyles: {\n          container: { \n            backgroundColor: isFullDay ? theme.colors.primary : theme.colors.calendarColorYellowBrown,\n            width: 35,\n            height: 35,\n            borderRadius: 17.5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          text: { color: 'white' }\n        }\n      };\n    });\n\n    setMarkedDates(newMarkedDates);\n  };\n\n  const onDayPress = (day) => {\n    const { dateString } = day;\n    const selectedDate = new Date(dateString);\n    selectedDate.setDate(selectedDate.getDate() + 1); // Adjust for timezone offset\n    selectedDate.setHours(0, 0, 0, 0);\n  \n\n    if (selectedDates.length === 0) {\n      setSelectedDates([dateString]);\n      setShowBottomSheet(true);\n    } else if (selectedDates.length >= 1) {\n      const firstDate = new Date(selectedDates[0]);\n      firstDate.setDate(firstDate.getDate() + 1); // Adjust for timezone offset\n      firstDate.setHours(0, 0, 0, 0);    \n\n      if (selectedDate.getTime() === firstDate.getTime()) {\n        return;\n      }\n\n      if (selectedDate < firstDate) {\n        setSelectedDates([dateString]);\n        setShowBottomSheet(true);\n        return;\n      }\n\n      const range = [];\n      const currentDate = new Date(firstDate);\n      const endDate = new Date(selectedDate);\n\n      while (currentDate <= endDate) {\n        range.push(format(currentDate, 'yyyy-MM-dd'));\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    \n      setSelectedDates(range);\n    }\n  };\n\n  const handleAddAvailability = (availabilityData) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n\n    availabilityData.dates.forEach(date => {\n      const allServicesSelected = availabilityData.serviceTypes.includes(ALL_SERVICES) || \n                                 availabilityData.serviceTypes.length === SERVICE_TYPES.length - 1;\n\n      if (!availabilityData.isAvailable) {\n        newCurrentAvailability[date] = {\n          isAvailable: false,\n          unavailableTimes: [{\n            startTime: availabilityData.startTime,\n            endTime: availabilityData.endTime,\n            reason: availabilityData.reason\n          }]\n        };\n\n        newMarkedDates[date] = {\n          customStyles: {\n            container: {\n              backgroundColor: availabilityData.isAllDay && allServicesSelected ? 'lightgrey' : theme.colors.calendarColor,\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'white' }\n          }\n        };\n      } else {\n        newCurrentAvailability[date] = {\n          isAvailable: true,\n          unavailableTimes: []\n        };\n        newMarkedDates[date] = {\n          customStyles: {\n            container: { \n              backgroundColor: 'white',\n              width: 35,\n              height: 35,\n              borderRadius: 17.5,\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            text: { color: 'black' }\n          }\n        };\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n    setIsAddModalVisible(false);\n    setSelectedDates([]);\n  };\n\n  const applyDefaultSettingsToCalendar = (settings) => {\n    const newMarkedDates = { ...markedDates };\n    const newCurrentAvailability = { ...currentAvailability };\n    \n    const today = new Date();\n    const oneYearFromNow = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());\n\n    const daysMapping = {\n      'Sunday': 0,\n      'Monday': 1,\n      'Tuesday': 2,\n      'Wednesday': 3,\n      'Thursday': 4,\n      'Friday': 5,\n      'Saturday': 6\n    };\n\n    Object.entries(settings).forEach(([day, daySettings]) => {\n      let currentDate = new Date(Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()));\n      const targetDayNumber = daysMapping[day];\n      \n      while (currentDate <= (daySettings.endDate ? new Date(daySettings.endDate) : oneYearFromNow)) {\n        const currentDayNumber = currentDate.getUTCDay();\n        const dateString = currentDate.toISOString().split('T')[0];\n        \n        if (currentDayNumber === targetDayNumber) {\n          if (daySettings.isUnavailable) {\n            if (daySettings.isAllDay) {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: 'lightgrey' },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: false,\n                unavailableTimes: [{ startTime: '00:00', endTime: '24:00', reason: 'Default Setting' }]\n              };\n            } else {\n              newMarkedDates[dateString] = {\n                customStyles: {\n                  container: { backgroundColor: theme.colors.calendarColor },\n                  text: { color: 'white' }\n                }\n              };\n              newCurrentAvailability[dateString] = {\n                isAvailable: true,\n                unavailableTimes: [{\n                  startTime: daySettings.startTime,\n                  endTime: daySettings.endTime,\n                  reason: 'Default Setting'\n                }]\n              };\n            }\n          } else {\n            // Reset to available\n            delete newMarkedDates[dateString];\n            delete newCurrentAvailability[dateString];\n          }\n        }\n        currentDate.setUTCDate(currentDate.getUTCDate() + 1);\n      }\n    });\n\n    setMarkedDates(newMarkedDates);\n    setCurrentAvailability(newCurrentAvailability);\n  };\n\n  //TODO: implement this in future for making clients on bookings clickable\n  // const handleClientPress = (clientId) => {\n  //   // Navigate to the client history page\n  //   // You'll need to implement this navigation logic\n  //   console.log(`Navigating to client history for client ID: ${clientId}`);\n  // };\n\n  const IconComponent = Platform.OS === 'web' ? MaterialCommunityIcons : Icon;\n\n  const renderArrow = (direction) => {\n    let iconName;\n    if (Platform.OS === 'web') {\n      iconName = direction === 'left' ? 'chevron-left' : 'chevron-right';\n    } else {\n      iconName = direction === 'left' ? 'chevron-back' : 'chevron-forward';\n    }\n    return (\n      <IconComponent \n        name={iconName} \n        size={24} \n        color={theme.colors.primary}\n      />\n    );\n  };\n\n  const handleDefaultSettingsSave = (newSettings) => {\n    console.log(\"Before updating defaultSettings:\", defaultSettings);\n    console.log(\"New settings to be applied:\", newSettings);\n    setDefaultSettings(newSettings);\n    \n    // Add a setTimeout to check the state after update\n    setTimeout(() => {\n      console.log(\"After updating defaultSettings:\", defaultSettings);\n    }, 0);\n    \n    // Call applyDefaultSettingsToCalendar to update the calendar view\n    applyDefaultSettingsToCalendar(newSettings);\n    setIsSettingsModalVisible(false);\n  };\n\n  const handleSaveAvailability = (data) => {\n    const { startTime, endTime, services, isAvailable } = data;\n    const isAllDay = startTime === '00:00' && endTime === '24:00';\n    handleAddAvailability({\n      dates: selectedDates,\n      isAllDay,\n      startTime,\n      endTime,\n      isUnavailable: !isAvailable,\n      serviceTypes: services,\n      reason: `Unavailable for: ${services.join(', ')}`,\n    });\n    setShowBottomSheet(false);\n    setSelectedDates([]);\n  };\n\n  // TODO: make this actually remove the timeslot on the backend\n  const handleRemoveTimeSlot = (date, timeSlot, updatedAvailability, selectedDates) => {\n    if (updatedAvailability && selectedDates) {\n      // Handle multiple dates\n      setCurrentAvailability(prev => ({\n        ...prev,\n        ...updatedAvailability\n      }));\n\n      // Update marked dates for multiple dates\n      const newMarkedDates = { ...markedDates };\n      selectedDates.forEach(date => {\n        if (updatedAvailability[date]?.unavailableTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n        }\n      });\n      setMarkedDates(newMarkedDates);\n    } else {\n      // Handle single date (existing functionality)\n      setCurrentAvailability(prev => {\n        const currentDateAvailability = prev[date];\n        if (!currentDateAvailability) return prev;\n\n        const filteredTimes = currentDateAvailability.unavailableTimes.filter(\n          time => !(time.startTime === timeSlot.startTime && time.endTime === timeSlot.endTime)\n        );\n\n        // Update marked dates for single date\n        const newMarkedDates = { ...markedDates };\n        if (filteredTimes.length === 0) {\n          newMarkedDates[date] = {\n            customStyles: {\n              container: { backgroundColor: 'white' },\n              text: { color: 'black' }\n            }\n          };\n          setMarkedDates(newMarkedDates);\n        }\n\n        return {\n          ...prev,\n          [date]: {\n            ...currentDateAvailability,\n            unavailableTimes: filteredTimes\n          }\n        };\n      });\n    }\n  };\n\n  const handleViewBookings = () => {\n    if (selectedDates.length > 0) {\n      navigation.navigate('MyBookings', {\n        selectedDates,\n        initialTab: 'Upcoming'\n      });\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n          <Text style={styles.loadingText}>Loading availability...</Text>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  if (error) {\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <TouchableOpacity \n            style={styles.retryButton}\n            onPress={() => {\n              setError(null);\n              loadAvailabilityData();\n            }}\n          >\n            <Text style={styles.retryButtonText}>Retry</Text>\n          </TouchableOpacity>\n        </View>\n      </SafeAreaView>\n    );\n  }\n\n  return (\n    <View style={styles.mainContainer}>\n      <SafeAreaView style={styles.container}>\n        <ScrollView \n          style={styles.scrollView} \n          contentContainerStyle={styles.scrollContent}\n        >\n          <View style={styles.centeredContainer}>\n            <View style={styles.header}>\n              <Text style={styles.title}>Availability</Text>\n              <TouchableOpacity \n                style={styles.defaultSettingsButton} \n                onPress={() => setIsSettingsModalVisible(true)}\n              >\n                <Text style={styles.defaultSettingsText}>Default Settings</Text>\n                <IconComponent \n                  name={Platform.OS === 'web' ? 'cog' : 'settings-outline'} \n                  size={24} \n                  color={theme.colors.text} \n                />\n              </TouchableOpacity>\n            </View>\n\n            {/* TODO: make the calendar look more user friendly */}\n            <Calendar\n              markedDates={{\n                ...markedDates,\n                ...selectedDates.reduce((acc, date) => ({\n                  ...acc,\n                  [date]: {\n                    ...markedDates[date],\n                    selected: true,\n                    customStyles: {\n                      container: {\n                        backgroundColor: theme.colors.primary,\n                        width: selectedDates.length === 1 ? 35 : '100%',\n                        height: 35,\n                        borderRadius: selectedDates.length === 1 ? 17.5 : 0,\n                        ...(selectedDates.length > 1 && {\n                          borderRadius: 0,\n                          ...(date === selectedDates[0] && {\n                            borderTopLeftRadius: 17.5,\n                            borderBottomLeftRadius: 17.5,\n                          }),\n                          ...(date === selectedDates[selectedDates.length - 1] && {\n                            borderTopRightRadius: 17.5,\n                            borderBottomRightRadius: 17.5,\n                          }),\n                        }),\n                      },\n                      text: { \n                        color: 'white',\n                        fontWeight: 'bold',\n                      }\n                    }\n                  }\n                }), {})\n              }}\n              markingType={'custom'}\n              theme={{\n                'stylesheet.calendar.main': {\n                  week: {\n                    marginVertical: 0,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around',\n                  },\n                  dayContainer: {\n                    flex: 1,\n                    alignItems: 'center',\n                    padding: 0,\n                    margin: 0,\n                  }\n                },\n                'stylesheet.calendar.header': {\n                  header: {\n                    paddingLeft: 10,\n                    paddingRight: 10,\n                    paddingBottom: 20,\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  }\n                }\n              }}\n              style={{\n                paddingBottom: 20,\n                paddingLeft: 10,\n                paddingRight: 10\n              }}\n              onDayPress={onDayPress}\n              renderArrow={renderArrow}\n            />\n\n            {/* Color Code Key */}\n            <View style={styles.colorKeyContainer}>\n              <Text style={styles.colorKeyTitle}>Color Code Key:</Text>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: 'lightgrey' }]} />\n                <Text style={styles.colorKeyText}>Unavailable All Day</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColor }]} />\n                <Text style={styles.colorKeyText}>Partially Unavailable</Text>\n              </View>\n              <View style={styles.colorKeyItem}>\n                <View style={[styles.colorBox, { backgroundColor: theme.colors.calendarColorYellowBrown }]} />\n                <Text style={styles.colorKeyText}>Booked Dates</Text>\n              </View>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n\n      {showBottomSheet && (\n        <View style={styles.bottomSheetOverlay}>\n          <AvailabilityBottomSheet\n            selectedDates={selectedDates}\n            currentAvailability={currentAvailability}\n            onClose={() => {\n              setShowBottomSheet(false);\n              setSelectedDates([]);\n            }}\n            onViewUnavailableTimes={() => {\n              setShowUnavailableTimesModal(true);\n            }}\n            onSave={handleSaveAvailability}\n            onViewBookings={handleViewBookings}\n          />\n        </View>\n      )}\n\n      <UnavailableTimesModal\n        visible={showUnavailableTimesModal}\n        onClose={() => setShowUnavailableTimesModal(false)}\n        selectedDates={selectedDates}\n        currentAvailability={currentAvailability}\n        onRemoveTimeSlot={handleRemoveTimeSlot}\n        bookings={bookings}\n      />\n\n      <DefaultSettingsModal\n        isVisible={isSettingsModalVisible}\n        onClose={() => setIsSettingsModalVisible(false)}\n        onSave={handleDefaultSettingsSave}\n        defaultSettings={defaultSettings}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  container: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    flexGrow: 1,\n  },\n  bottomSheetOverlay: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  centeredContainer: {\n    maxWidth: 1000,\n    width: '100%',\n    alignSelf: 'center',\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  addButton: {\n    position: 'absolute',\n    right: 20,\n    bottom: 20,\n    width: 56,\n    height: 56,\n    borderRadius: 28,\n    backgroundColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  defaultSettingsButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  defaultSettingsText: {\n    marginRight: 8,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  colorKeyContainer: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    elevation: 2,\n  },\n  colorKeyTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  colorKeyItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5,\n  },\n  colorBox: {\n    width: 20,\n    height: 20,\n    borderRadius: 3,\n    marginRight: 10,\n  },\n  colorKeyText: {\n    fontSize: 14,\n    color: 'black',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 10,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.error,\n    textAlign: 'center',\n    marginBottom: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n  },\n  retryButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AvailabilitySettings;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, Image, Platform, SafeAreaView, StatusBar, Dimensions, ActivityIndicator } from 'react-native';\nimport { Card, Title, Paragraph, Button } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst MyPets = ({ navigation }) => {\n  const [pets, setPets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { screenWidth } = useContext(AuthContext);\n\n  useEffect(() => {\n    fetchPets();\n  }, []);\n\n  const fetchPets = async () => {\n    setLoading(true);\n    try {\n      // Simulate network delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // Mock data\n      const mockPets = [\n        {\n          id: '1',\n          name: 'Max',\n          animal_type: 'Dog',\n          breed: 'border collie',\n          age: {\n            months: 0,\n            years: 5,\n          },\n          weight: 32,\n          sex: 'Male',\n          friendlyWithChildren: true,\n          friendlyWithCats: false,\n          friendlyWithDogs: true,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: true,\n          adoptionDate: '2020-01-15',\n          description: 'Loves to play fetch and go for walks.',\n          energyLevel: 'High',\n          feedingSchedule: 'Morning',\n          leftAlone: '1-4 hours',\n          medication: null,\n          additionalInstructions: 'Needs daily exercise.',\n          vetName: 'Dr. Smith',\n          vetAddress: '123 Vet St.',\n          vetPhone: '555-1234',\n          insuranceProvider: 'Pet Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '2',\n          name: 'Whiskers',\n          animal_type: 'Cat',\n          breed: 'tammy ammy',\n          age: {\n            months: 3,\n            years: 4,\n          },\n          weight: 16,\n          sex: 'Female',\n          friendlyWithChildren: true,\n          friendlyWithCats: true,\n          friendlyWithDogs: false,\n          spayedNeutered: true,\n          houseTrained: true,\n          microchipped: false,\n          adoptionDate: '2019-05-20',\n          description: 'Enjoys lounging in the sun.',\n          energyLevel: 'Low',\n          feedingSchedule: 'Twice a day',\n          leftAlone: '4-8 hours',\n          medication: null,\n          additionalInstructions: 'Prefers quiet environments.',\n          vetName: 'Dr. Jones',\n          vetAddress: '456 Vet Ave.',\n          vetPhone: '555-5678',\n          insuranceProvider: 'Pet Health Insurance',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n        {\n          id: '3',\n          name: 'Buddy',\n          animal_type: 'Lizard',\n          breed: 'leopard gecko',\n          age: {\n            months: 0,\n            years: 2,\n          },\n          weight: 1,\n          sex: 'Male',\n          friendlyWithChildren: false,\n          friendlyWithCats: false,\n          friendlyWithDogs: false,\n          spayedNeutered: false,\n          houseTrained: false,\n          microchipped: false,\n          adoptionDate: '2021-08-10',\n          description: 'A calm and quiet pet.',\n          energyLevel: 'Low',\n          feedingSchedule: ['Custom', '3 times a day with liquid food.'],\n          leftAlone: 'Can be left alone indefinitely',\n          medication: null,\n          additionalInstructions: 'Keep in a warm environment.',\n          vetName: 'Dr. Green',\n          vetAddress: '789 Vet Blvd.',\n          vetPhone: '555-9012',\n          insuranceProvider: 'Reptile Insurance Co.',\n          vetDocuments: [],\n          galleryImages: [],\n        },\n      ];\n\n      setPets(mockPets);\n    } catch (error) {\n      console.error('Error fetching pets:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const PetCard = ({ pet }) => (\n    <TouchableOpacity \n      onPress={() => {\n        if (Platform.OS === 'web') {\n          // Store pet data before navigation\n          sessionStorage.setItem('editPetData', JSON.stringify(pet));\n          // Navigate and immediately clean URL\n          navigation.navigate('AddPet');\n          window.history.replaceState({}, '', '/AddPet');\n        } else {\n          navigation.navigate('AddPet', { pet });\n        }\n      }}\n    >\n      <Card style={styles.petCard}>\n        <Card.Content style={styles.petCardContent}>\n          {pet.image ? (\n            <Image source={{ uri: pet.image }} style={styles.petImage} />\n          ) : (\n            <View style={styles.petImagePlaceholder}>\n              <MaterialCommunityIcons \n                name={getAnimalIcon(pet.animal_type ? pet.animal_type : 'paw')} \n                size={40} \n                color={theme.colors.primary} \n              />\n            </View>\n          )}\n          <View style={styles.petInfo}>\n            <Title>{pet.name}</Title>\n            <Paragraph>{pet.animal_type ? pet.animal_type : 'paw'}</Paragraph>\n            <Paragraph>{pet.age.years} years {pet.age.months} months old</Paragraph>\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  );\n\n  const getAnimalIcon = (animalType) => {\n    switch (animalType.toLowerCase()) {\n      case 'dog':\n        return 'dog';\n      case 'cat':\n        return 'cat';\n      case 'rabbit':\n        return 'rabbit';\n      case 'reptile':\n      case 'lizard':\n        return 'snake';\n      case 'snake':\n        return 'snake';\n      case 'turtle':\n        return 'turtle';\n      case 'bird':\n      case 'parrot':\n        return 'bird';\n      case 'horse':\n        return 'horse';\n      case 'fish':\n        return 'fish';\n      default:\n        return 'paw';\n    }\n  };\n\n  const getCardWidth = () => {\n    if (screenWidth <= 600) {\n      return '90%';\n    } else if (screenWidth <= 800) {\n      return '60%';\n    } else {\n      return '30%';\n    }\n  };\n\n  const Content = () => {\n    if (loading) {\n      return (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      );\n    }\n\n    return (\n      <ScrollView contentContainerStyle={[\n        styles.scrollContent,\n        Platform.OS === 'web' && { alignItems: 'center' },\n        { marginBottom: 15 }\n      ]}>\n        <View style={[styles.contentWrapper, { width: getCardWidth() }]}>\n          {pets.map(pet => (\n            <PetCard key={pet.id} pet={pet} />\n          ))}\n          <Button\n            mode=\"contained\"\n            onPress={() => navigation.navigate('AddPet', { pet: {} })}\n            style={styles.addButton}\n            icon={({ size, color }) => (\n              <MaterialCommunityIcons name=\"plus\" size={size} color={color} />\n            )}\n          >\n            Add Pet\n          </Button>\n        </View>\n      </ScrollView>\n    );\n  };\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, { paddingTop: StatusBar.currentHeight }]}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <BackHeader \n          title=\"My Pets\" \n          onBackPress={() => handleBack(navigation)}\n        />\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  scrollContent: {\n    flexGrow: 1,\n    padding: 16,\n  },\n  contentWrapper: {\n    alignSelf: 'center',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    color: theme.colors.text,\n    marginBottom: 16,\n  },\n  petCard: {\n    marginBottom: 16,\n    transform: [{ scale: Platform.OS === 'web' ? (screenWidth <= 800 && screenWidth > 600 ? 1.15 : 1) : 1 }],\n  },\n  petCardContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  petImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n  },\n  petImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: 16,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  petInfo: {\n    flex: 1,\n  },\n  addButton: {\n    marginTop: 5,\n    alignSelf: 'center',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default MyPets;\n","import React from 'react';\nimport { View, StyleSheet, ScrollView, Platform, SafeAreaView, StatusBar } from 'react-native';\nimport { Card, Title, Paragraph, List, Button, useTheme } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst ClientHistory = ({ route, navigation }) => {\n  const { clientId } = route.params;\n  const { colors } = useTheme();\n\n  // Mock data - replace with actual data from your backend\n  const clientData = {\n    id: clientId,\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    phone: '(123) 456-7890',\n    contracts: [\n      { id: '1', date: '2023-05-01', status: 'Completed' },\n      { id: '2', date: '2023-04-15', status: 'Pending' },\n    ],\n    invoices: [\n      { id: '1', date: '2023-05-02', amount: '$100', status: 'Paid' },\n      { id: '2', date: '2023-04-16', amount: '$75', status: 'Unpaid' },\n    ],\n    upcomingBookings: [\n      { id: '1', date: '2023-06-01', service: 'Dog Walking' },\n      { id: '2', date: '2023-06-15', service: 'Cat Sitting' },\n    ],\n  };\n\n  const Content = () => (\n    <ScrollView style={styles.scrollView} contentContainerStyle={styles.scrollViewContent}>\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>{clientData.name}</Title>\n          <Paragraph>Email: {clientData.email}</Paragraph>\n          <Paragraph>Phone: {clientData.phone}</Paragraph>\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Upcoming Bookings</Title>\n          {clientData.upcomingBookings.map(booking => (\n            <List.Item\n              key={booking.id}\n              title={`Booking ${booking.id}`}\n              description={`Date: ${booking.date} - Service: ${booking.service}`}\n              left={props => <List.Icon {...props} icon=\"calendar\" />}\n            />\n          ))}\n        </Card.Content>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Contracts</Title>\n          {clientData.contracts.map(contract => (\n            <List.Item\n              key={contract.id}\n              title={`Contract ${contract.id}`}\n              description={`Date: ${contract.date} - Status: ${contract.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Contracts', 'ClientHistory', { clientId })}>View All Contracts</Button>\n        </Card.Actions>\n      </Card>\n\n      <Card style={styles.card}>\n        <Card.Content>\n          <Title>Invoices</Title>\n          {clientData.invoices.map(invoice => (\n            <List.Item\n              key={invoice.id}\n              title={`Invoice ${invoice.id}`}\n              description={`Date: ${invoice.date} - Amount: ${invoice.amount} - Status: ${invoice.status}`}\n              left={props => <List.Icon {...props} icon=\"file-document-outline\" />}\n            />\n          ))}\n        </Card.Content>\n        <Card.Actions>\n          <Button onPress={() => navigateToFrom(navigation, 'Invoices', 'ClientHistory', { clientId })}>View All Invoices</Button>\n        </Card.Actions>\n      </Card>\n\n      <View style={styles.messageButtonContainer}>\n        <Button \n          mode=\"contained\" \n          onPress={() => navigateToFrom(navigation, 'Messages', 'ClientHistory', { clientId })}\n          style={styles.messageButton}\n        >\n          View Messages\n        </Button>\n      </View>\n    </ScrollView>\n  );\n\n  if (Platform.OS === 'ios') {\n    return (\n      <SafeAreaView style={styles.container}>\n        <Content />\n      </SafeAreaView>\n    );\n  } else if (Platform.OS === 'android') {\n    return (\n      <View style={[styles.container, styles.androidContainer]}>\n        <Content />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.container}>\n        <Content />\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidContainer: {\n    paddingTop: StatusBar.currentHeight,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollViewContent: {\n    padding: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 90, // Extra padding for iOS and Android\n  },\n  card: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  messageButtonContainer: {\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n    marginTop: 16,\n  },\n  messageButton: {\n    width: '100%',\n  },\n});\n\nexport default ClientHistory;\n","/**\n * Validates that the end date/time is not before the start date/time\n * @param {string} startDate - Start date in ISO format\n * @param {string} endDate - End date in ISO format (optional)\n * @param {string} startTime - Start time in HH:mm format\n * @param {string} endTime - End time in HH:mm format\n * @returns {Object} - { isValid: boolean, error: string | null }\n */\nexport const validateDateTimeRange = (startDate, endDate, startTime, endTime) => {\n  // Convert dates and times to comparable format\n  const [startHour, startMinute] = startTime.split(':').map(Number);\n  const [endHour, endMinute] = endTime.split(':').map(Number);\n  \n  const startDateTime = new Date(startDate);\n  startDateTime.setHours(startHour, startMinute, 0);\n  \n  let endDateTime;\n  if (endDate) {\n    endDateTime = new Date(endDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  } else {\n    // If no end date, use start date\n    endDateTime = new Date(startDate);\n    endDateTime.setHours(endHour, endMinute, 0);\n  }\n\n  if (endDateTime < startDateTime) {\n    return {\n      isValid: false,\n      error: 'End date/time cannot be before start date/time'\n    };\n  }\n\n  return {\n    isValid: true,\n    error: null\n  };\n}; ","import React, { useState, useEffect } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet, ScrollView, Picker, ActivityIndicator, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport { format } from 'date-fns';\nimport { TIME_OPTIONS } from '../data/mockData';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst ANIMAL_COUNT_OPTIONS = ['1', '2', '3', '4', '5'];\n\nconst WebScrollStyles = `\n  .modal-scroll-container {\n    max-height: 60vh;\n    overflow-y: scroll !important;\n    padding-right: 16px;\n    display: block;\n    position: relative;\n    scrollbar-width: auto;\n    scrollbar-color: rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1);\n  }\n\n  .modal-scroll-container::-webkit-scrollbar {\n    width: 10px;\n    background-color: #F5F5F5;\n    display: block;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.1);\n    border: 1px solid #ccc;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid #aaa;\n  }\n\n  .modal-scroll-container::-webkit-scrollbar-thumb:hover {\n    background: rgba(0, 0, 0, 0.7);\n  }\n`;\n\nconst ScrollableContent = ({ children }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <>\n        <style>{WebScrollStyles}</style>\n        <div className=\"modal-scroll-container\">\n          {children}\n        </div>\n      </>\n    );\n  }\n  \n  return (\n    <ScrollView showsVerticalScrollIndicator={true} persistentScrollbar={true}>\n      {children}\n    </ScrollView>\n  );\n};\n\nconst AddOccurrenceModal = ({ \n  visible, \n  onClose, \n  onAdd, \n  defaultRates, \n  hideRates = false,\n  initialOccurrence = null,\n  isEditing = false,\n  modalTitle = 'Add New Occurrence'\n}) => {\n\n  // Helper function to create a Date object from a time string\n  const createTimeDate = (timeStr) => {\n    if (timeStr instanceof Date) return timeStr;\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours, 10));\n    date.setMinutes(parseInt(minutes, 10));\n    return date;\n  };\n\n  const [occurrence, setOccurrence] = useState(() => {\n    \n    \n    if (initialOccurrence) {\n      const initialState = {\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      };\n      \n      return initialState;\n    }\n\n    const defaultState = {\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: defaultRates?.additionalRates || []\n      }\n    };\n    \n    return defaultState;\n  });\n\n  // Reset occurrence when initialOccurrence changes or when modal visibility changes\n  useEffect(() => {\n    if (!visible) {\n      // Reset to default state when modal closes\n      if (!initialOccurrence) {\n        setOccurrence({\n          startDate: new Date().toISOString().split('T')[0],\n          endDate: new Date().toISOString().split('T')[0],\n          startTime: new Date(),\n          endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n          rates: {\n            baseRate: defaultRates?.baseRate || '0',\n            additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n            appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n            holidayRate: defaultRates?.holidayRate || '0',\n            timeUnit: defaultRates?.timeUnit || 'per visit',\n            additionalRates: []\n          }\n        });\n        setTimeUnit(defaultRates?.timeUnit || 'per visit');\n      }\n    } else if (initialOccurrence) {\n      // Only set occurrence data if we're editing\n      setOccurrence({\n        startDate: initialOccurrence.startDate,\n        endDate: initialOccurrence.endDate,\n        startTime: createTimeDate(initialOccurrence.startTime),\n        endTime: createTimeDate(initialOccurrence.endTime),\n        rates: {\n          baseRate: initialOccurrence.rates.baseRate || '0',\n          additionalAnimalRate: initialOccurrence.rates.additionalAnimalRate || '0',\n          appliesAfterAnimals: initialOccurrence.rates.appliesAfterAnimals || '1',\n          holidayRate: initialOccurrence.rates.holidayRate || '0',\n          timeUnit: initialOccurrence.rates.timeUnit || 'per visit',\n          additionalRates: (initialOccurrence.rates.additionalRates || []).map(rate => ({\n            name: rate.name,\n            description: rate.description || '',\n            amount: rate.amount.toString()\n          }))\n        },\n        totalCost: initialOccurrence.totalCost || '0',\n        baseTotal: initialOccurrence.baseTotal || '0'\n      });\n      setTimeUnit(initialOccurrence.rates.timeUnit || 'per visit');\n    }\n  }, [visible, initialOccurrence, defaultRates]);\n\n  const [showAddRate, setShowAddRate] = useState(false);\n  const [newRate, setNewRate] = useState({ name: '', amount: '' });\n  const [timeUnit, setTimeUnit] = useState(initialOccurrence?.rates?.timeUnit || occurrence.rates.timeUnit);\n  const [isLoading, setIsLoading] = useState(false);\n  const [validationError, setValidationError] = useState(null);\n\n  const calculateTotal = () => {\n    // If we have a totalCost from the initialOccurrence, use that\n    if (initialOccurrence?.totalCost) {\n      return parseFloat(initialOccurrence.totalCost).toFixed(2);\n    }\n\n    // Otherwise calculate it\n    const baseAmount = parseFloat(occurrence.rates.baseRate) || 0;\n    const additionalAnimalAmount = parseFloat(occurrence.rates.additionalAnimalRate) || 0;\n    const holidayAmount = parseFloat(occurrence.rates.holidayRate) || 0;\n    const customRatesAmount = occurrence.rates.additionalRates?.reduce((sum, rate) => \n      sum + (parseFloat(rate.amount) || 0), 0) || 0;\n\n    const subtotal = baseAmount + additionalAnimalAmount + holidayAmount + customRatesAmount;\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n\n    return totalClientCost.toFixed(2);\n  };\n\n  const handleAdd = async () => {\n    try {\n      setIsLoading(true);\n      \n      const occurrenceData = {\n        ...occurrence,\n        startTime: format(occurrence.startTime, 'HH:mm'),\n        endTime: format(occurrence.endTime, 'HH:mm'),\n        rates: {\n          ...occurrence.rates,\n          baseRate: parseFloat(occurrence.rates.baseRate) || 0,\n          additionalAnimalRate: parseFloat(occurrence.rates.additionalAnimalRate) || 0,\n          appliesAfterAnimals: occurrence.rates.appliesAfterAnimals,\n          holidayRate: parseFloat(occurrence.rates.holidayRate) || 0,\n          additionalRates: occurrence.rates.additionalRates.map(rate => ({\n            ...rate,\n            amount: parseFloat(rate.amount) || 0\n          })),\n          timeUnit,\n        },\n        totalCost: parseFloat(calculateTotal())\n      };\n\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      await onAdd(occurrenceData);\n\n      setOccurrence({\n        startDate: new Date().toISOString().split('T')[0],\n        endDate: new Date().toISOString().split('T')[0],\n        startTime: new Date(),\n        endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n        rates: {\n          baseRate: defaultRates?.baseRate || 0,\n          additionalAnimalRate: defaultRates?.additionalAnimalRate || 0,\n          appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n          holidayRate: defaultRates?.holidayRate || 0,\n          additionalRates: [],\n          timeUnit: 'per visit'\n        }\n      });\n      setShowAddRate(false);\n      setNewRate({ name: '', amount: '' });\n      \n      await new Promise(resolve => setTimeout(resolve, 500));\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n    } finally {\n      setIsLoading(false);\n      onClose();\n    }\n  };\n\n  const handleAddRate = () => {\n    if (newRate.name && newRate.amount) {\n      setOccurrence(prev => ({\n        ...prev,\n        rates: {\n          ...prev.rates,\n          additionalRates: [...prev.rates.additionalRates, {\n            ...newRate,\n            amount: parseFloat(newRate.amount)\n          }]\n        }\n      }));\n      setNewRate({ name: '', amount: '' });\n      setShowAddRate(false);\n    }\n  };\n\n  const handleDeleteRate = (index) => {\n    setOccurrence(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        additionalRates: prev.rates.additionalRates.filter((_, i) => i !== index)\n      }\n    }));\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleSubmit = () => {\n    // Validate the date/time range\n    const validation = validateDateTimeRange(\n      occurrence.startDate,\n      occurrence.endDate,\n      format(occurrence.startTime, 'HH:mm'),\n      format(occurrence.endTime, 'HH:mm')\n    );\n\n    if (!validation.isValid) {\n      setValidationError(validation.error);\n      return;\n    }\n\n    handleAdd();\n  };\n\n  const resetForm = () => {\n    setOccurrence({\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0],\n      startTime: new Date(),\n      endTime: new Date(new Date().setHours(new Date().getHours() + 1)),\n      rates: {\n        baseRate: defaultRates?.baseRate || '0',\n        additionalAnimalRate: defaultRates?.additionalAnimalRate || '0',\n        appliesAfterAnimals: defaultRates?.appliesAfterAnimals || '1',\n        holidayRate: defaultRates?.holidayRate || '0',\n        timeUnit: defaultRates?.timeUnit || 'per visit',\n        additionalRates: []\n      }\n    });\n    setTimeUnit(defaultRates?.timeUnit || 'per visit');\n    setShowAddRate(false);\n    setNewRate({ name: '', amount: '' });\n    setValidationError(null);\n  };\n\n  const renderPickerItems = (options) => {\n    return options.map((option) => (\n      <Picker.Item \n        key={option} \n        label={option} \n        value={option}\n        style={styles.pickerItem}\n      />\n    ));\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={handleClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>\n              {modalTitle}\n            </Text>\n            <TouchableOpacity style={styles.closeButton} onPress={handleClose}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <ScrollableContent>\n            <View style={styles.dateTimeSection}>\n              <Text style={styles.sectionTitle}>Date & Time</Text>\n              \n              <View style={styles.dateTimeContainer}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Date</Text>\n                  <DatePicker\n                    value={occurrence.startDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, startDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>Start Time</Text>\n                  <TimePicker\n                    value={occurrence.startTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, startTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n            <View style={styles.dateTimeSection}>\n              <View style={[styles.dateTimeContainer, {marginTop: 15}]}>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Date</Text>\n                  <DatePicker\n                    value={occurrence.endDate}\n                    onChange={(date) => setOccurrence(prev => ({ ...prev, endDate: date }))}\n                  />\n                </View>\n                <View style={styles.dateTimeColumn}>\n                  <Text style={styles.label}>End Time</Text>\n                  <TimePicker\n                    value={occurrence.endTime}\n                    onChange={(time) => setOccurrence(prev => ({ ...prev, endTime: time }))}\n                    fullWidth\n                  />\n                </View>\n              </View>\n            </View>\n\n            {validationError && (\n              <Text style={styles.errorText}>{validationError}</Text>\n            )}\n\n            {!hideRates && (\n              <>\n                <View style={styles.rateSection}>\n                  <View style={[styles.rateContainer, {marginTop: 15}]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Base Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.baseRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            baseRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Per</Text>\n                      <Picker\n                        selectedValue={timeUnit}\n                        onValueChange={(itemValue) => setTimeUnit(itemValue)}\n                        style={styles.picker}\n                      >\n                        {renderPickerItems(TIME_OPTIONS)}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Additional Animal Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.additionalAnimalRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            additionalAnimalRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                    <View style={styles.timeUnitInput}>\n                      <Text style={styles.label}>Applies After</Text>\n                      <Picker\n                        selectedValue={occurrence.rates.appliesAfterAnimals}\n                        onValueChange={(itemValue) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            appliesAfterAnimals: itemValue\n                          }\n                        }))}\n                        style={styles.picker}\n                      >\n                        {ANIMAL_COUNT_OPTIONS.map((option) => (\n                          <Picker.Item key={option} label={`${option} animal${option === '1' ? '' : 's'}`} value={option} />\n                        ))}\n                      </Picker>\n                    </View>\n                  </View>\n\n                  <View style={[styles.rateContainer, styles.topSpacing]}>\n                    <View style={styles.baseRateInput}>\n                      <Text style={styles.label}>Holiday Rate</Text>\n                      <TextInput\n                        style={styles.input}\n                        value={occurrence.rates.holidayRate.toString()}\n                        onChangeText={(text) => setOccurrence(prev => ({\n                          ...prev,\n                          rates: {\n                            ...prev.rates,\n                            holidayRate: text.replace(/[^0-9.]/g, '')\n                          }\n                        }))}\n                        keyboardType=\"decimal-pad\"\n                        placeholder=\"0.00\"\n                      />\n                    </View>\n                  </View>\n                </View>\n\n                <View style={styles.rateSection}>\n                  <Text style={[styles.label, {marginTop: 10, marginBottom: 0}]}>Additional Rates</Text>\n                  {occurrence.rates.additionalRates.map((rate, index) => (\n                    <View key={index} style={[styles.rateRow, {marginTop: 10, marginBottom: 0}]}>\n                      <TextInput\n                        style={[styles.input, styles.rateInput]}\n                        value={rate.name}\n                        editable={false}\n                      />\n                      <View style={[styles.rateAmountContainer]}>\n                        <TextInput\n                          style={[styles.input, styles.rateAmountInput]}\n                          value={rate.amount.toString()}\n                          editable={false}\n                        />\n                      </View>\n                      <TouchableOpacity onPress={() => handleDeleteRate(index)}>\n                        <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n                      </TouchableOpacity>\n                    </View>\n                  ))}\n\n                  {showAddRate ? (\n                    <>\n                      <View style={styles.rateLabelContainer}>\n                        <Text style={styles.rateTitleLabel}>Rate Title</Text>\n                        <Text style={styles.rateAmountLabel}>Rate Amount</Text>\n                      </View>\n                      <View style={styles.rateRow}>\n                        <TextInput\n                          style={[styles.input, styles.rateInput]}\n                          value={newRate.name}\n                          onChangeText={(text) => setNewRate(prev => ({ ...prev, name: text }))}\n                          placeholder=\"Rate Title\"\n                        />\n                        <View style={[styles.rateAmountContainer]}>\n                          <TextInput\n                            style={[styles.input, styles.rateAmountInput]}\n                            value={newRate.amount}\n                            onChangeText={(text) => setNewRate(prev => ({ \n                              ...prev, \n                              amount: text.replace(/[^0-9.]/g, '') \n                            }))}\n                            keyboardType=\"decimal-pad\"\n                            placeholder=\"0.00\"\n                          />\n                        </View>\n                        <TouchableOpacity onPress={handleAddRate}>\n                          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n                        </TouchableOpacity>\n                      </View>\n                    </>\n                  ) : (\n                    <TouchableOpacity \n                      style={styles.addRateButton}\n                      onPress={() => setShowAddRate(true)}\n                    >\n                      <Text style={styles.addRateButtonText}>Add custom rate</Text>\n                    </TouchableOpacity>\n                  )}\n                </View>\n              \n\n                <View style={styles.totalSection}>\n                  <Text style={styles.totalLabel}>Total:</Text>\n                  <Text style={styles.totalAmount}>${calculateTotal()}</Text>\n                </View>\n\n              </>\n            )}\n\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity\n                style={[styles.button, styles.cancelButton]}\n                onPress={handleClose}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                style={[styles.button, styles.addButton]}\n                onPress={handleSubmit}\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  <ActivityIndicator color={theme.colors.surface} />\n                ) : (\n                  <Text style={styles.addButtonText}>{isEditing ? 'Save' : 'Add'}</Text>\n                )}\n              </TouchableOpacity>\n            </View>\n          </ScrollableContent>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateTimeSection: {\n    // marginBottom: 10,\n  },\n  dateTimeContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 15,\n    // marginBottom: 15,\n  },\n  dateTimeColumn: {\n    flex: 1,\n  },\n  topSpacing: {\n    marginTop: 15,\n  },\n  rateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n    marginBottom: 10,\n  },\n  rateInput: {\n    flex: 2,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountContainer: {\n    flex: 1,\n  },\n  rateAmountInput: {\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addRateButton: {\n    padding: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n    // marginTop: ,\n  },\n  addRateButtonText: {\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n  },\n  dollarSign: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 15,\n  },\n  button: {\n    flex: 1,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButtonText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addButtonText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateLabelContainer: {\n    flexDirection: 'row',\n    marginTop: 10,\n    marginBottom: 5,\n  },\n  rateTitleLabel: {\n    flex: 2,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginLeft: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    gap: 10,\n  },\n  baseRateInput: {\n    flex: 1,\n  },\n  timeUnitInput: {\n    flex: 1,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    height: 39,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalSection: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 8,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedDropdownText: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  pickerItem: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default AddOccurrenceModal;","import React, { useState } from 'react';\nimport { View, StyleSheet, Modal, ScrollView, TouchableOpacity } from 'react-native';\nimport { Button, Text, TextInput } from 'react-native-paper';\nimport { theme } from '../styles/theme';\nimport DatePicker from './DatePicker';\nimport TimePicker from './TimePicker';\nimport AddOccurrenceModal from './AddOccurrenceModal';\nimport { format } from 'date-fns';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { SERVICE_TYPE_SUGGESTIONS, mockPets } from '../data/mockData';\nimport ConfirmationModal from './ConfirmationModal';\nimport { validateDateTimeRange } from '../utils/dateTimeValidation';\n\nconst RequestBookingModal = ({ visible, onClose, onSubmit, services = SERVICE_TYPE_SUGGESTIONS, pets = mockPets }) => {\n  const [selectedService, setSelectedService] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [occurrences, setOccurrences] = useState([]);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [occurrenceErrors, setOccurrenceErrors] = useState({});\n\n  const resetForm = () => {\n    setSelectedService('');\n    setSelectedPets([]);\n    setOccurrences([]);\n    setSelectedOccurrence(null);\n  };\n\n  const validateOccurrences = (occs) => {\n    const errors = {};\n    let isValid = true;\n\n    occs.forEach((occ, index) => {\n      const validation = validateDateTimeRange(\n        occ.startDate,\n        occ.endDate,\n        occ.startTime,\n        occ.endTime\n      );\n\n      if (!validation.isValid) {\n        errors[index] = validation.error;\n        isValid = false;\n      }\n    });\n\n    setOccurrenceErrors(errors);\n    return isValid;\n  };\n\n  const handleSubmit = () => {\n    if (occurrences.length === 0) return;\n\n    // Validate all occurrences before submitting\n    if (!validateOccurrences(occurrences)) {\n      return;\n    }\n\n    const bookingData = {\n      serviceType: selectedService,\n      pets: selectedPets.map(petId => pets.find(p => p.id === petId)),\n      occurrences: occurrences\n    };\n\n    // Create a booking request message\n    const bookingRequestMessage = {\n      type: 'booking_request',\n      data: bookingData,\n      timestamp: new Date().toISOString()\n    };\n\n    onSubmit(bookingRequestMessage);\n    resetForm();\n    onClose();\n  };\n\n  const handleDeleteOccurrence = async (occurrenceToDelete) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      setOccurrences(prev => prev.filter(occ => \n        occ.startDate !== occurrenceToDelete.startDate || \n        occ.startTime !== occurrenceToDelete.startTime\n      ));\n    } finally {\n      setConfirmationModal({ \n        visible: false, \n        actionText: '', \n        onConfirm: null, \n        isLoading: false \n      });\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrence) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrence),\n      isLoading: false\n    });\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const handleOpenOccurrenceModal = () => {\n    setShowServiceDropdown(false);\n    setShowPetDropdown(false);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const handleOccurrenceUpdate = (newOccurrence) => {\n    const { startDate, endDate, startTime, endTime } = newOccurrence;\n    \n    // Validate the new occurrence\n    const validation = validateDateTimeRange(startDate, endDate, startTime, endTime);\n    \n    if (!validation.isValid) {\n      // Show error in the AddOccurrenceModal\n      // You'll need to add error handling in the AddOccurrenceModal component\n      return false;\n    }\n\n    if (selectedOccurrence) {\n      setOccurrences(prev => prev.map(occ => \n        occ === selectedOccurrence ? \n        { startDate, endDate, startTime, endTime } : \n        occ\n      ));\n    } else {\n      setOccurrences(prev => [...prev, { startDate, endDate, startTime, endTime }]);\n    }\n    setSelectedOccurrence(null);\n    setShowAddOccurrenceModal(false);\n    return true;\n  };\n\n  const renderServiceDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{selectedService || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {services.map((service) => (\n              <TouchableOpacity\n                key={service}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setSelectedService(service);\n                  setShowServiceDropdown(false);\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  selectedService === service && styles.selectedOption\n                ]}>\n                  {service}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderPetSelector = () => (\n    <View style={{ zIndex: 2 }}>\n      {selectedPets.map((petId) => {\n        const pet = pets.find(p => p.id === petId);\n        return (\n          <View key={petId} style={styles.petItem}>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petDetails}>{pet.type} • {pet.breed}</Text>\n            </View>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter(id => id !== petId))}\n            >\n              <MaterialCommunityIcons \n                name=\"close\" \n                size={24} \n                color={theme.colors.error} \n              />\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n      \n      <TouchableOpacity\n        style={styles.addPetButton}\n        onPress={() => setShowPetDropdown(!showPetDropdown)}\n      >\n        <MaterialCommunityIcons \n          name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={20} \n          color={theme.colors.primary} \n        />\n        <Text style={styles.addPetText}>\n          {selectedPets.length === 0 ? 'Select Pets' : 'Add Pet'}\n        </Text>\n      </TouchableOpacity>\n      \n      {showPetDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true} style={styles.petDropdown}>\n            {pets\n              .filter(pet => !selectedPets.includes(pet.id))\n              .map((pet) => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setSelectedPets(prev => [...prev, pet.id]);\n                    setShowPetDropdown(false);\n                  }}\n                >\n                  <View>\n                    <Text style={styles.dropdownPetName}>{pet.name}</Text>\n                    <Text style={styles.dropdownPetDetails}>\n                      {pet.type} • {pet.breed}\n                    </Text>\n                  </View>\n                </TouchableOpacity>\n              ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderOccurrenceCard = (occ, index) => (\n    <View key={index}>\n      <TouchableOpacity \n        style={[\n          styles.occurrenceCard,\n          occurrenceErrors[index] && styles.occurrenceCardError\n        ]}\n      >\n        <View style={styles.occurrenceDetails}>\n          <Text style={styles.dateText}>\n            {occ.endDate && occ.startDate !== occ.endDate ? \n              `${format(new Date(occ.startDate), 'MMM d, yyyy')} - ${format(new Date(occ.endDate), 'MMM d, yyyy')}` :\n              format(new Date(occ.startDate), 'MMM d, yyyy')\n            }\n          </Text>\n          <Text style={styles.timeText}>\n            {`${occ.startTime} - ${occ.endTime}`}\n          </Text>\n          {occurrenceErrors[index] && (\n            <Text style={styles.errorText}>{occurrenceErrors[index]}</Text>\n          )}\n        </View>\n        <View style={styles.occurrenceActions}>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => confirmDeleteOccurrence(occ)}\n          >\n            <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n          </TouchableOpacity>\n          <TouchableOpacity \n            style={styles.actionButton}\n            onPress={() => {\n              setSelectedOccurrence(occ);\n              handleOpenOccurrenceModal();\n            }}\n          >\n            <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n          </TouchableOpacity>\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <Modal\n      visible={visible}\n      onRequestClose={handleClose}\n      animationType=\"slide\"\n      transparent={true}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Booking</Text>\n          \n          <ScrollView style={styles.scrollView}>\n            {/* Service Selection */}\n            <Text style={styles.label}>Select Service</Text>\n            {renderServiceDropdown()}\n\n            {/* Pet Selection */}\n            <Text style={styles.label}>Select Pets</Text>\n            {renderPetSelector()}\n\n            {/* Date & Time Selection */}\n            <Text style={styles.label}>Select Date & Time</Text>\n            {occurrences.map((occ, index) => renderOccurrenceCard(occ, index))}\n\n            <TouchableOpacity\n              style={styles.addOccurrenceButton}\n              onPress={() => {\n                setSelectedOccurrence(null);\n                handleOpenOccurrenceModal();\n              }}\n            >\n              <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n              <Text style={styles.addOccurrenceText}>Add Date & Time</Text>\n            </TouchableOpacity>\n          </ScrollView>\n\n          <View style={styles.buttonContainer}>\n            <Button mode=\"outlined\" onPress={handleClose} style={styles.button}>\n              Cancel\n            </Button>\n            <Button \n              mode=\"contained\" \n              onPress={handleSubmit}\n              style={styles.button}\n              disabled={!selectedService || selectedPets.length === 0 || occurrences.length === 0}\n            >\n              Submit\n            </Button>\n          </View>\n        </View>\n      </View>\n\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => setShowAddOccurrenceModal(false)}\n        onAdd={handleOccurrenceUpdate}\n        hideRates={true}\n        initialOccurrence={selectedOccurrence}\n        modalTitle={selectedOccurrence ? 'Edit Occurrence' : 'Add New Occurrence'}\n      />\n\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: '', \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n    maxHeight: '80%',\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    textAlign: 'center',\n  },\n  scrollView: {\n    maxHeight: '70%',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginTop: 15,\n    marginBottom: 10,\n  },\n  serviceOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  serviceButton: {\n    marginBottom: 10,\n  },\n  petOptions: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  petButton: {\n    marginBottom: 10,\n  },\n  dateContainer: {\n    gap: 10,\n  },\n  timeContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 10,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    gap: 10,\n  },\n  button: {\n    flex: 1,\n  },\n  timePickerWrapper: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    marginBottom: 20,\n    zIndex: 3,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    maxHeight: 200,\n    zIndex: 1000,\n    elevation: 5,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petName: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  petDetails: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n    marginBottom: 4,\n  },\n  timeText: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: theme.fontSizes.medium,\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n  },\n  actionButton: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    borderRadius: 4,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n  },\n  detailText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '500',\n  },\n  occurrenceCardError: {\n    borderColor: theme.colors.error,\n  },\n  errorText: {\n    color: theme.colors.error,\n    fontSize: theme.fontSizes.small,\n    marginTop: 4,\n  },\n});\n\nexport default RequestBookingModal; ","import React, { useState, useCallback, useRef, useEffect, useContext } from 'react';\nimport { View, StyleSheet, FlatList, KeyboardAvoidingView, Platform, SafeAreaView, StatusBar, TextInput, Text, TouchableOpacity, Dimensions, Alert } from 'react-native';\nimport { Button, Card, Paragraph, useTheme, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons'; // Import the icon library\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport RequestBookingModal from '../components/RequestBookingModal';\nimport { createBooking, BOOKING_STATES, mockConversations, mockMessages, CURRENT_USER_ID } from '../data/mockData';\nimport { format } from 'date-fns';\nimport { useNavigation } from '@react-navigation/native';\n\n// First, create a function to generate dynamic styles\nconst createStyles = (screenWidth) => StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: screenWidth > 1000 ? 0 : 0,\n    paddingRight: screenWidth > 1000 ? 0 : 0,\n    paddingLeft: screenWidth > 1000 ? 0 : 0,\n    height: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n    position: 'fixed',\n    top: 64,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  filterButton: {\n    marginLeft: 'auto',\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    maxWidth: screenWidth > 1000 ? '100%' : 1000,\n    alignSelf: 'center',\n    width: '100%',\n    overflow: 'hidden',\n    height: '100%',\n  },\n  conversationListContainer: {\n    width: screenWidth <= 1000 ? '100%' : '30%',\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    borderRightWidth: 2,\n    backgroundColor: theme.colors.surface,\n    overflow: 'auto',\n  },\n  conversationItem: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    maxWidth: screenWidth < 1000 ? '' : 600,\n    width: '100%',\n  },\n  selectedConversation: {\n    backgroundColor: theme.colors.primary + '20',\n    borderLeftWidth: 3,\n    borderLeftColor: theme.colors.primary,\n  },\n  conversationName: {\n    fontSize: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  messageSection: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    height: '100%',\n    marginLeft: screenWidth > 1000 ? 0 : 0,\n    maxWidth: Platform.OS === 'web' ? \n      (screenWidth <= 1000 ? '100%' : '70%') : \n      '100%',\n    alignSelf: screenWidth <= 1000 ? 'stretch' : 'flex-start',\n    width: screenWidth <= 1000 ? '100%' : 'auto',\n    overflow: 'hidden',\n    paddingRight: screenWidth > 1000 ? 100 : 0,\n    paddingBottom: 60,\n  },\n  messagesContainer: {\n    flex: 1,\n    overflow: 'auto',\n    width: '100%',\n    position: 'absolute',\n    padding: 16,\n    paddingTop: screenWidth > 1000 ? 72 : 20,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  messageList: {\n    // padding: 16,\n    width: '100%',\n    paddingBottom: 80,\n  },\n  messageInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n  },\n  attachButton: {\n    padding: 8,\n  },\n  messageInput: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    marginHorizontal: 8,\n  },\n  sendButton: {\n    borderRadius: 20,\n  },\n  messageCard: {\n    marginVertical: 4,\n    maxWidth: '80%',\n    borderRadius: 12,\n    overflow: 'hidden',\n  },\n  // This is for the messages that are sent and received\n  messageContent: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n  },\n  sentMessage: {\n    alignSelf: 'flex-end',\n    backgroundColor: theme.colors.primary,\n  },\n  receivedMessage: {\n    alignSelf: 'flex-start',\n    backgroundColor: theme.colors.receivedMessage,\n  },\n  messageText: {\n    fontSize: 16,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentMessageContainer: {\n    alignItems: 'flex-end',\n    marginBottom: 16,\n  },\n  receivedMessageContainer: {\n    alignItems: 'flex-start',\n    marginBottom: 16,\n  },\n  senderAbove: {\n    fontWeight: 'bold',\n    marginBottom: 4,\n    fontSize: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  sentSenderName: {\n    alignSelf: 'flex-end',\n  },\n  receivedSenderName: {\n    alignSelf: 'flex-start',\n  },\n  timestampBelow: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    marginTop: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sentTimestamp: {\n    alignSelf: 'flex-end',\n  },\n  receivedTimestamp: {\n    alignSelf: 'flex-start',\n  },\n  sentMessageText: {\n    color: theme.colors.whiteText,\n  },\n  receivedMessageText: {\n    color: theme.colors.text,\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  input: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    maxHeight: 100,\n  },\n  webInput: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    paddingVertical: '8px',\n    paddingLeft: '12px',\n    height: screenWidth <= 600 ? 36 : 40,\n    border: '1px solid ' + theme.colors.border,\n    borderRadius: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontSize: screenWidth <= 600 ? '14px' : 'inherit',\n    appearance: 'none',\n    touchAction: 'manipulation',\n    WebkitTapHighlightColor: 'transparent',\n    WebkitUserSelect: 'none',\n    userSelect: 'none',\n  },\n  conversationContent: {\n    flex: 1,\n  },\n  conversationHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n  conversationTime: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n  },\n  conversationLastMessage: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  unreadMessage: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  bookingStatusContainer: {\n    backgroundColor: theme.colors.primary + '20',\n    padding: 4,\n    borderRadius: 4,\n    alignSelf: 'flex-start',\n  },\n  bookingStatus: {\n    fontSize: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  requestBookingButton: {\n    marginTop: 4,\n    height: 28,\n    alignSelf: 'flex-start',\n  },\n  requestBookingLabel: {\n    fontSize: 12,\n    marginVertical: 0,\n  },\n  messageListContainer: {\n    flex: 1,\n  },\n  inputWrapper: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    zIndex: 1,\n    width: '100%',\n    padding: screenWidth > 600 ? 16 : 8,\n  },\n  inputInnerContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    marginRight: screenWidth <= 600 ? 4 : 8,\n    \n  },\n  attachButton: {\n    padding: 8,\n    marginRight: 8,\n    backgroundColor: theme.colors.background,\n    borderRadius: 20,\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  sendButton: {\n    marginLeft: 8,\n    borderRadius: 20,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 16,\n  },\n  attachButtonContainer: {\n    position: 'relative',\n    zIndex: 2,\n  },\n  dropdownMenu: {\n    position: 'absolute',\n    bottom: '100%',\n    left: 0,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: -2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    marginBottom: 8,\n    minWidth: 150,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownItem: {\n    padding: 12,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 14,\n    marginLeft: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeConversationText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileMessageView: {\n    flex: 1,\n    width: '100%',\n    height: '100%',\n    position: 'relative',\n    backgroundColor: theme.colors.background,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  backButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n  },\n  backButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  mobileHeader: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    position: 'relative',\n    zIndex: 10,\n  },\n  mobileContent: {\n    flex: 1,\n    position: 'relative',\n    height: 'calc(100% - 56px)',\n  },\n  mobileContainer: {\n    paddingTop: 0,\n    paddingLeft: 0,\n    paddingRight: 0,\n  },\n  sendButtonMobile: {\n    width: 24,\n    height: 24,\n    minWidth: 0,\n    padding: 0,\n    marginLeft: 4,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  messageHeader: {\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 2,\n  },\n  messageHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    paddingVertical: 16,\n    paddingHorizontal: 8,\n  },\n  mobileHeaderName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  backArrow: {\n    position: 'absolute',\n    left: 16,\n    padding: 8,\n  },\n  bookingRequestCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    margin: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    maxWidth: 500,\n  },\n  sentBookingRequest: {\n    alignSelf: 'flex-end',\n    marginLeft: '20%',\n  },\n  receivedBookingRequest: {\n    alignSelf: 'flex-start',\n    marginRight: '20%',\n  },\n  bookingRequestHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8,\n  },\n  bookingRequestTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bookingRequestDetails: {\n    gap: 8,\n  },\n  detailLabel: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  detailText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  acceptButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  acceptButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  viewBookingButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 16,\n  },\n  viewBookingText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    backgroundColor: theme.colors.primary + '15',\n    padding: 8,\n    borderRadius: 4,\n    marginBottom: 12,\n  },\n  statusText: {\n    color: theme.colors.primary,\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nconst MessageHistory = ({ navigation, route }) => {\n  console.log(\"TESTING MVP PUSH TO MVP AND gh-pages-test being deployed\")\n  const { colors } = useTheme();\n  const [screenWidth, setScreenWidth] = useState(Dimensions.get('window').width);\n  const styles = createStyles(screenWidth); // Initialize styles here\n  \n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [selectedConversationData, setSelectedConversationData] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [isSending, setIsSending] = useState(false);\n  const [showRequestModal, setShowRequestModal] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const IS_CLIENT = false; // This should come from your auth context\n  const { is_DEBUG } = useContext(AuthContext);\n  // Use mockConversations instead of local state\n  const [conversations, setConversations] = useState(mockConversations);\n\n  // Add useEffect to set initial selected conversation\n  useEffect(() => {\n    if (conversations.length > 0 && !selectedConversation) {\n      setSelectedConversation(conversations[0].id);\n    }\n  }, [conversations]);\n\n  useEffect(() => {\n    if (selectedConversation) {\n      const conversation = conversations.find(conv => conv.id === selectedConversation);\n      if (conversation) {\n        // Get messages for this conversation from mockData\n        const conversationMessages = mockMessages[selectedConversation] || [];\n        if (is_DEBUG) {\n          console.log('Selected conversation:', selectedConversation);\n          console.log('Available messages:', mockMessages);\n          console.log('Loading messages:', conversationMessages);\n        }\n        \n        setMessages(conversationMessages);\n        setSelectedConversationData(conversation);\n      }\n    }\n  }, [selectedConversation, conversations]);\n\n  useEffect(() => {\n    // Check if we have a selectedConversation from navigation params\n    if (route.params?.selectedConversation) {\n      setSelectedConversation(route.params.selectedConversation);\n      \n      // If this is a new conversation with a professional, update the conversation data\n      if (route.params.professionalId && route.params.professionalName) {\n        const conversation = mockConversations.find(\n          conv => conv.id === route.params.selectedConversation\n        );\n        if (conversation) {\n          conversation.professionalId = route.params.professionalId;\n          conversation.name = route.params.professionalName;\n          conversation.isProfessional = true;\n        }\n      }\n    }\n  }, [route.params]);\n\n  const isCurrentUserMessage = useCallback((message) => {\n    return message.sender === 'Me';\n  }, []);\n\n  const renderBookingRequestMessage = useCallback(({ item }) => {\n    const isFromMe = item.sender === CURRENT_USER_ID;\n    \n    return (\n      <BookingRequestMessage \n        data={item.data}\n        isFromMe={isFromMe}\n        timestamp={item.timestamp}\n        onAccept={() => {\n          navigation.navigate('BookingDetails', {\n            bookingId: null,\n            initialData: {\n              serviceType: item.data.serviceType,\n              pets: item.data.pets,\n              occurrences: item.data.occurrences,\n              status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n              clientName: selectedConversationData.name,\n              professionalName: 'Me'\n            }\n          });\n        }}\n      />\n    );\n  }, [navigation, selectedConversationData, CURRENT_USER_ID]);\n\n  const renderMessage = useCallback(({ item }) => {\n    if (item.type === 'booking_request') {\n      return renderBookingRequestMessage({ item });\n    }\n\n    // Existing message rendering code\n    const isFromMe = item.sender === CURRENT_USER_ID;\n    return (\n      <View style={isFromMe ? styles.sentMessageContainer : styles.receivedMessageContainer}>\n        <Text style={[\n          styles.senderAbove,\n          isFromMe ? styles.sentSenderName : styles.receivedSenderName\n        ]}>\n          {isFromMe ? 'Me' : selectedConversationData?.name}\n        </Text>\n        <View style={[\n          styles.messageCard, \n          isFromMe ? styles.sentMessage : styles.receivedMessage\n        ]}>\n          <View style={styles.messageContent}>\n            <Text style={[\n              styles.messageText,\n              isFromMe ? styles.sentMessageText : styles.receivedMessageText\n            ]}>\n              {item.content}\n            </Text>\n          </View>\n        </View>\n        <Text style={[\n          styles.timestampBelow,\n          isFromMe ? styles.sentTimestamp : styles.receivedTimestamp\n        ]}>\n          {new Date(item.timestamp).toLocaleTimeString()}\n        </Text>\n      </View>\n    );\n  }, [selectedConversationData, renderBookingRequestMessage]);\n\n  const simulateMessageSend = async (messageContent) => {\n    try {\n      const messageData = {\n        content: messageContent,\n        sender: 'Me',\n        timestamp: new Date().toISOString(),\n      };\n\n      const response = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({ status: 200, data: messageData });\n        }, 1000);\n      });\n\n      console.log('Message sent:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Error sending message:', error);\n      throw error;\n    }\n  };\n\n  const WebInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await simulateMessageSend(message.trim());\n          const newMsg = {\n            message_id: Date.now().toString(),\n            participant1_id: selectedConversationData?.participant1_id !== CURRENT_USER_ID ? selectedConversationData?.participant1_id : CURRENT_USER_ID,\n            participant2_id: selectedConversationData?.participant2_id !== CURRENT_USER_ID ? selectedConversationData?.participant2_id : CURRENT_USER_ID,\n            sender: CURRENT_USER_ID,\n            role_map: selectedConversationData?.role_map,\n            content: message.trim(),\n            timestamp: new Date().toISOString(),\n            status: \"sent\",\n            is_booking_request: false,\n            metadata: {}\n          };\n          setMessages(prevMessages => [...prevMessages, newMsg]);\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputInnerContainer}>\n        <input\n          ref={inputRef}\n          type=\"text\"\n          style={styles.webInput}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handleSend();\n            }\n          }}\n          disabled={isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend} \n          disabled={isSending}\n          style={[styles.sendButton, screenWidth <= 600 && styles.sendButtonMobile]}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.whiteText} size=\"small\" />\n          ) : screenWidth <= 600 ? (\n            <MaterialCommunityIcons name=\"arrow-up\" size={16} color={theme.colors.whiteText} />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MobileInput = () => {\n    const [message, setMessage] = useState('');\n    const inputRef = useRef(null);\n\n    const handleSend = async () => {\n      if (message.trim() && !isSending) {\n        setIsSending(true);\n        try {\n          await simulateMessageSend(message.trim());\n          const newMsg = {\n            message_id: Date.now().toString(),\n            participant1_id: selectedConversationData?.participant1_id !== CURRENT_USER_ID ? selectedConversationData?.participant1_id : CURRENT_USER_ID,\n            participant2_id: selectedConversationData?.participant2_id !== CURRENT_USER_ID ? selectedConversationData?.participant2_id : CURRENT_USER_ID,\n            sender: CURRENT_USER_ID,\n            role_map: selectedConversationData?.role_map,\n            content: message.trim(),\n            timestamp: new Date().toISOString(),\n            status: \"sent\",\n            is_booking_request: false,\n            metadata: {}\n          };\n          setMessages(prevMessages => [...prevMessages, newMsg]);\n          setMessage('');\n        } catch (error) {\n          console.error('Failed to send message:', error);\n        } finally {\n          setIsSending(false);\n        }\n      }\n    };\n\n    return (\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={inputRef}\n          style={styles.input}\n          placeholder=\"Type a message...\"\n          value={message}\n          onChangeText={setMessage}\n          multiline\n          blurOnSubmit={false}\n          editable={!isSending}\n        />\n        <Button \n          mode=\"contained\" \n          onPress={handleSend}\n          disabled={isSending}\n        >\n          {isSending ? (\n            <ActivityIndicator color={theme.colors.primary} size=\"small\" />\n          ) : (\n            'Send'\n          )}\n        </Button>\n      </View>\n    );\n  };\n\n  const MessageInput = Platform.OS === 'web' ? <WebInput /> : <MobileInput />;\n  \n  const handleRequestBooking = async () => {\n    const currentConversation = conversations.find(c => c.id === selectedConversation);\n    console.log('Current conversation:', currentConversation);\n    console.log('CURRENT_USER_ID:', CURRENT_USER_ID);\n    console.log('Selected conversation ID:', selectedConversation);\n    \n    if (!currentConversation) {\n      console.log('No conversation found');\n      return;\n    }\n\n    // Log participant and role information\n    console.log('Participant1 ID:', currentConversation.participant1_id);\n    console.log('Participant2 ID:', currentConversation.participant2_id);\n    console.log('Role map:', currentConversation.role_map);\n\n    // Check if current user is the professional by checking their role in the conversation\n    const isProfessional = \n      (currentConversation.participant1_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant1_role === \"professional\") ||\n      (currentConversation.participant2_id === CURRENT_USER_ID && \n       currentConversation.role_map.participant2_role === \"professional\");\n    \n    console.log('Is Professional?', isProfessional);\n\n    if (isProfessional) {\n      console.log('User is professional - creating booking and navigating to details');\n      try {\n        // Get the client ID (the other participant)\n        const clientId = currentConversation.participant1_id === CURRENT_USER_ID ? \n          currentConversation.participant2_id : currentConversation.participant1_id;\n        const professionalId = CURRENT_USER_ID;\n        \n        console.log('Creating booking with:', {\n          clientId,\n          professionalId,\n          clientName: currentConversation.name\n        });\n\n        const bookingId = await createBooking(\n          clientId,\n          professionalId,\n          {\n            clientName: currentConversation.name,\n            professionalName: 'Me',\n            status: BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n          }\n        );\n\n        console.log('Created booking with ID:', bookingId);\n\n        if (bookingId) {\n          console.log('Navigating to BookingDetails with:', {\n            bookingId,\n            initialData: null\n          });\n          \n          navigation.navigate('BookingDetails', {\n            bookingId: bookingId,\n            initialData: null\n          });\n        }\n      } catch (error) {\n        console.error('Error creating booking:', error);\n        Alert.alert('Error', 'Unable to create booking. Please try again.');\n      }\n    } else {\n      console.log('User is client - showing request modal');\n      setShowRequestModal(true);\n    }\n    \n    setShowDropdown(false);\n  };\n\n  const handleModalSubmit = async (modalData) => {\n    try {\n      const bookingId = await createBooking(\n        'client123',\n        'freelancer123',\n        {\n          ...modalData,\n          professionalName: 'Professional Name',\n          clientName: 'Me',\n          status: 'Pending',\n        }\n      );\n\n      console.log('Created booking with ID:', bookingId);\n\n      setShowRequestModal(false);\n      navigation.navigate('BookingDetails', {\n        bookingId: bookingId,\n        initialData: null\n      });\n    } catch (error) {\n      console.error('Error creating booking:', error);\n      Alert.alert(\n        'Error',\n        'Unable to create booking. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new function to handle booking request messages\n  const handleBookingRequest = async (bookingRequestMessage) => {\n    try {\n      // Add the booking request message to the current conversation\n      const newMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: selectedConversationData?.participant1_id,\n        participant2_id: selectedConversationData?.participant2_id,\n        sender: CURRENT_USER_ID,\n        role_map: selectedConversationData?.role_map,\n        type: 'booking_request',\n        data: bookingRequestMessage.data,\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      setMessages(prevMessages => [...prevMessages, newMessage]);\n      setShowRequestModal(false);\n    } catch (error) {\n      console.error('Error sending booking request:', error);\n      Alert.alert(\n        'Error',\n        'Unable to send booking request. Please try again.',\n        [{ text: 'OK' }]\n      );\n    }\n  };\n\n  // Add new header component\n  const renderHeader = () => {\n    if (screenWidth <= 1000 && selectedConversation) {\n      return null;\n    }\n    return (\n      <View style={styles.headerContainer}>\n        <Text style={styles.headerTitle}>Conversations</Text>\n        <Button \n          mode=\"text\" \n          onPress={() => {/* Handle filter */}}\n          style={styles.filterButton}\n        >\n          Filter\n        </Button>\n      </View>\n    );\n  };\n\n  // Update the conversation list component\n  const renderConversationList = () => (\n    <View style={styles.conversationListContainer}>\n      {conversations.map((conv) => {\n        const otherParticipantName = conv.participant1_id === CURRENT_USER_ID ? \n          conv.participant2_name : conv.participant1_name;\n        \n        return (\n          <TouchableOpacity\n            key={conv.id}\n            style={[\n              styles.conversationItem,\n              selectedConversation === conv.id && styles.selectedConversation\n            ]}\n            onPress={() => setSelectedConversation(conv.id)}\n          >\n            <View style={styles.conversationContent}>\n              <View style={styles.conversationHeader}>\n                <Text style={styles.conversationName}>\n                  {otherParticipantName || conv.name || 'Unknown'}\n                </Text>\n                <Text style={styles.conversationTime}>\n                  {new Date(conv.timestamp).toLocaleTimeString()}\n                </Text>\n              </View>\n              <Text \n                style={[\n                  styles.conversationLastMessage,\n                  selectedConversation === conv.id && styles.activeConversationText,\n                  conv.unread && styles.unreadMessage\n                ]} \n                numberOfLines={1}\n              >\n                {conv.lastMessage}\n              </Text>\n              {conv.bookingStatus && (\n                <View style={[\n                  styles.bookingStatusContainer,\n                  styles[`booking${conv.bookingStatus}Status`] || styles.bookingPendingStatus\n                ]}>\n                  <Text style={styles.bookingStatus}>\n                    {conv.bookingStatus}\n                  </Text>\n                </View>\n              )}\n            </View>\n          </TouchableOpacity>\n        );\n      })}\n    </View>\n  );\n\n  // Update the message section to handle empty states\n  const renderMessageSection = () => {\n    if (!selectedConversation) {\n      return null;\n    }\n\n    return (\n      <View style={styles.messageSection}>\n        {screenWidth > 1000 && selectedConversationData && (\n          <View style={styles.messageHeader}>\n            <Text style={styles.messageHeaderName}>\n              {selectedConversationData.name}\n            </Text>\n          </View>\n        )}\n        <View style={styles.messagesContainer}>\n          {messages.length === 0 ? (\n            <Text style={{ padding: 16, color: theme.colors.placeholder }}>\n              No messages yet. Start the conversation!\n            </Text>\n          ) : (\n            <FlatList\n              data={messages}\n              renderItem={renderMessage}\n              keyExtractor={item => (item.message_id || Date.now().toString())}\n              style={styles.messageList}\n            />\n          )}\n        </View>\n        <View style={styles.inputWrapper}>\n          <View style={styles.attachButtonContainer}>\n            <TouchableOpacity \n              style={styles.attachButton}\n              onPress={() => setShowDropdown(!showDropdown)}\n            >\n              <MaterialCommunityIcons \n                name={showDropdown ? \"close\" : \"plus\"} \n                size={24} \n                color={theme.colors.primary} \n              />\n            </TouchableOpacity>\n            {showDropdown && (\n              <View style={styles.dropdownMenu}>\n                <TouchableOpacity \n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    handleRequestBooking();\n                    setShowDropdown(false);\n                  }}\n                >\n                  <MaterialCommunityIcons \n                    name=\"calendar-plus\" \n                    size={20} \n                    color={theme.colors.primary} \n                  />\n                  <Text style={styles.dropdownText}>Request Booking</Text>\n                </TouchableOpacity>\n              </View>\n            )}\n          </View>\n          <View style={styles.inputContainer}>\n            {Platform.OS === 'web' ? <WebInput /> : <MobileInput />}\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  // Update the useEffect for window resize\n  useEffect(() => {\n    const handleResize = () => {\n      const width = Dimensions.get('window').width;\n      setScreenWidth(width);\n    };\n\n    if (Platform.OS === 'web') {\n      window.addEventListener('resize', handleResize);\n      handleResize(); // Call immediately to set initial width\n      \n      // Also listen for orientation changes\n      window.addEventListener('orientationchange', handleResize);\n      \n      return () => {\n        window.removeEventListener('resize', handleResize);\n        window.removeEventListener('orientationchange', handleResize);\n      };\n    }\n  }, []);\n\n  const renderMobileHeader = () => (\n    <View style={styles.mobileHeader}>\n      <View style={styles.mobileHeaderContent}>\n        <TouchableOpacity \n          style={styles.backArrow}\n          onPress={() => setSelectedConversation(null)}\n        >\n          <MaterialCommunityIcons \n            name=\"arrow-left\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Text style={styles.mobileHeaderName}>\n          {selectedConversationData?.name}\n        </Text>\n      </View>\n    </View>\n  );\n\n  // Move BookingRequestMessage inside the component\n  const BookingRequestMessage = ({ data, onAccept, isFromMe, timestamp }) => {\n    const navigation = useNavigation();\n    \n    const handleViewBooking = () => {\n      navigation.navigate('BookingDetails', {\n        bookingId: data.bookingId,\n        readOnly: !isFromMe // Make fields read-only for client\n      });\n    };\n\n    // Handle both old and new message formats\n    const renderDates = () => {\n      if (data.dates) {\n        // New format\n        return data.dates.map((date, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(date.startDate), 'MMM d, yyyy')} {date.startTime} - {date.endTime}\n          </Text>\n        ));\n      } else if (data.occurrences) {\n        // Old format\n        return data.occurrences.map((occ, index) => (\n          <Text key={index} style={styles.detailText}>\n            {format(new Date(occ.startDate), 'MMM d, yyyy')} {occ.startTime} - {occ.endTime}\n          </Text>\n        ));\n      }\n      return null;\n    };\n\n    return (\n      <View style={[\n        styles.bookingRequestCard,\n        isFromMe ? styles.sentBookingRequest : styles.receivedBookingRequest\n      ]}>\n        <View style={styles.bookingRequestHeader}>\n          <MaterialCommunityIcons name=\"calendar-clock\" size={24} color={theme.colors.primary} />\n          <Text style={styles.bookingRequestTitle}>\n            {data.messageType === 'professional_changes' ? 'Booking Update' : \n             data.messageType === 'client_approval' ? 'Booking Approval' : \n             'Booking Request'}\n          </Text>\n        </View>\n        \n        {data.status && (\n          <View style={styles.statusContainer}>\n            <Text style={styles.statusText}>\n              Status: {data.status}\n            </Text>\n          </View>\n        )}\n        \n        <View style={styles.bookingRequestDetails}>\n          <Text style={styles.detailLabel}>Service:</Text>\n          <Text style={styles.detailText}>{data.serviceType}</Text>\n          \n          {data.pets && (\n            <>\n              <Text style={styles.detailLabel}>Pets:</Text>\n              <Text style={styles.detailText}>\n                {data.pets.map(pet => pet.name).join(', ')}\n              </Text>\n            </>\n          )}\n          \n          <Text style={styles.detailLabel}>Dates:</Text>\n          {renderDates()}\n          \n          {data.totalCost !== undefined && (\n            <>\n              <Text style={styles.detailLabel}>Total Cost:</Text>\n              <Text style={styles.detailText}>\n                ${data.totalCost.toFixed(2)}\n              </Text>\n            </>\n          )}\n        </View>\n\n        <TouchableOpacity \n          style={styles.viewBookingButton}\n          onPress={handleViewBooking}\n        >\n          <Text style={styles.viewBookingText}>View Booking Details</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  };\n\n  // Add new component for empty state\n  const renderEmptyState = () => (\n    <View style={{\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 20,\n    }}>\n      <MaterialCommunityIcons \n        name=\"message-text-outline\" \n        size={64} \n        color={theme.colors.placeholder}\n        style={{ marginBottom: 16 }}\n      />\n      <Text style={{\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: theme.colors.text,\n        marginBottom: 8,\n        textAlign: 'center'\n      }}>\n        No Messages Yet\n      </Text>\n      <Text style={{\n        fontSize: 16,\n        color: theme.colors.placeholder,\n        marginBottom: 24,\n        textAlign: 'center'\n      }}>\n        Create services to start getting bookings and messages from clients\n      </Text>\n      <Button\n        mode=\"contained\"\n        onPress={() => navigation.navigate('Services')}\n        style={{ borderRadius: 8 }}\n      >\n        Create Services\n      </Button>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={[\n      styles.container,\n      screenWidth <= 1000 && selectedConversation && styles.mobileContainer\n    ]}>\n      {conversations.length > 0 ? (\n        <>\n          {renderHeader()}\n          <View style={[\n            styles.contentContainer,\n            screenWidth <= 1000 && selectedConversation && styles.mobileContent\n          ]}>\n            {screenWidth <= 1000 ? (\n              selectedConversation ? (\n                <View style={styles.mobileMessageView}>\n                  {renderMobileHeader()}\n                  <View style={styles.mobileContent}>\n                    {renderMessageSection()}\n                  </View>\n                </View>\n              ) : (\n                renderConversationList()\n              )\n            ) : (\n              <>\n                {renderConversationList()}\n                {renderMessageSection()}\n              </>\n            )}\n          </View>\n        </>\n      ) : (\n        renderEmptyState()\n      )}\n      \n      <RequestBookingModal\n        visible={showRequestModal}\n        onClose={() => setShowRequestModal(false)}\n        onSubmit={handleBookingRequest}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default MessageHistory;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, TextInput, StyleSheet } from 'react-native';\nimport { STRIPE_PUBLISHABLE_KEY } from '@env';\nimport { AuthContext } from '../context/AuthContext';\n\n// Only import Stripe-related modules if we're not in prototype mode\nlet stripePromise = null;\nlet Elements = null;\nlet useStripe = null;\nlet useElements = null;\nlet CardElement = null;\nlet IbanElement = null;\n\n// Initialize Stripe conditionally\nconst initializeStripe = async (is_prototype) => {\n  if (!is_prototype && Platform.OS === 'web') {\n    const stripe = await import('@stripe/stripe-js');\n    const stripeReact = await import('@stripe/react-stripe-js');\n    stripePromise = stripe.loadStripe(STRIPE_PUBLISHABLE_KEY);\n    Elements = stripeReact.Elements;\n    useStripe = stripeReact.useStripe;\n    useElements = stripeReact.useElements;\n    CardElement = stripeReact.CardElement;\n    IbanElement = stripeReact.IbanElement;\n  }\n};\n\n// Only import CardField for native platforms\nlet CardField = null;\nif (Platform.OS !== 'web') {\n  // Dynamic import to avoid web compilation issues\n  import('@stripe/stripe-react-native').then(module => {\n    CardField = module.CardField;\n  });\n}\n\nconst ELEMENT_OPTIONS = {\n  supportedCountries: ['US'],\n  style: {\n    base: {\n      color: '#32325d',\n      fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n      fontSmoothing: 'antialiased',\n      fontSize: '16px',\n      '::placeholder': {\n        color: '#aab7c4'\n      }\n    },\n    invalid: {\n      color: '#fa755a',\n      iconColor: '#fa755a'\n    }\n  }\n};\n\nconst WebPaymentForm = ({ onChange, paymentType }) => {\n  const stripe = useStripe && useStripe();\n  const elements = useElements && useElements();\n  const [bankFields, setBankFields] = useState({\n    accountNumber: '',\n    routingNumber: ''\n  });\n\n  useEffect(() => {\n    if (stripe && elements) {\n      onChange({\n        complete: false,\n        stripe,\n        elements,\n        paymentType\n      });\n    }\n  }, [stripe, elements, paymentType]);\n\n  const handleBankFieldChange = (field, value) => {\n    const updatedFields = {\n      ...bankFields,\n      [field]: value\n    };\n    setBankFields(updatedFields);\n\n    const isAccountNumberValid = updatedFields.accountNumber.length >= 9;\n    const isRoutingNumberValid = updatedFields.routingNumber.length === 9;\n\n    onChange({\n      complete: isAccountNumberValid && isRoutingNumberValid,\n      value: updatedFields,\n      stripe,\n      elements,\n      paymentType\n    });\n  };\n\n  return (\n    <div style={{ padding: '10px 0' }}>\n      {paymentType === 'card' ? (\n        <CardElement \n          options={ELEMENT_OPTIONS}\n          onChange={(event) => onChange({\n            ...event,\n            stripe,\n            elements,\n            paymentType\n          })}\n        />\n      ) : (\n        <div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Account Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Account Number\"\n              value={bankFields.accountNumber}\n              onChange={(e) => handleBankFieldChange('accountNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n          <div style={{ \n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            marginBottom: '10px' }}>\n            {/* <label>Routing Number</label> */}\n            <input\n              className=\"stripe-input\"\n              placeholder=\"Routing Number\"\n              value={bankFields.routingNumber}\n              onChange={(e) => handleBankFieldChange('routingNumber', e.target.value)}\n              style={{\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                width: '50%',\n                marginTop: '5px'\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst NativePaymentElement = ({ onChange, paymentType }) => {\n  if (!CardField) {\n    return null;\n  }\n\n  if (paymentType === 'bank') {\n    // For native platforms, use regular inputs for bank accounts\n    return (\n      <View style={[{ marginRight: 20 }]}>\n        <TextInput\n          placeholder=\"Account Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length >= 9,\n            value: { accountNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n        <TextInput\n          placeholder=\"Routing Number\"\n          onChangeText={(text) => onChange({\n            complete: text.length === 9,\n            value: { routingNumber: text }\n          })}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n      </View>\n    );\n  }\n\n  return (\n    <CardField\n      postalCodeEnabled={false}\n      onCardChange={onChange}\n      style={{\n        width: '100%',\n        height: 50,\n        marginVertical: 10,\n      }}\n    />\n  );\n};\n\nexport const StripePaymentElement = ({ onChange, paymentType }) => {\n  const { is_prototype } = useContext(AuthContext);\n\n  useEffect(() => {\n    initializeStripe(is_prototype);\n  }, [is_prototype]);\n\n  if (is_prototype) {\n    // Return simplified input fields for prototype mode\n    return (\n      <View style={styles.container}>\n        {paymentType === 'card' ? (\n          <>\n            <TextInput\n              style={styles.input}\n              placeholder=\"Card Number\"\n              keyboardType=\"numeric\"\n            />\n            <TextInput\n              style={styles.input}\n              placeholder=\"MM/YY\"\n              keyboardType=\"numeric\"\n            />\n            <TextInput\n              style={styles.input}\n              placeholder=\"CVC\"\n              keyboardType=\"numeric\"\n              secureTextEntry\n            />\n          </>\n        ) : (\n          <>\n            <TextInput\n              style={styles.input}\n              placeholder=\"Account Number\"\n              keyboardType=\"numeric\"\n            />\n            <TextInput\n              style={styles.input}\n              placeholder=\"Routing Number\"\n              keyboardType=\"numeric\"\n            />\n          </>\n        )}\n      </View>\n    );\n  }\n\n  if (Platform.OS === 'web' && Elements && stripePromise) {\n    return (\n      <Elements stripe={stripePromise}>\n        <WebPaymentForm onChange={onChange} paymentType={paymentType} />\n      </Elements>\n    );\n  }\n\n  return <NativePaymentElement onChange={onChange} paymentType={paymentType} />;\n};\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 50,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 4,\n    marginVertical: 5,\n    paddingHorizontal: 10,\n  },\n  bankInputsContainer: {\n    marginHorizontal: 16,\n    marginBottom: 16,\n  },\n  bankInput: {\n    marginBottom: 16,\n  },\n  container: {\n    padding: 16,\n  },\n}); ","import React, { useState, useContext, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform, Dimensions } from 'react-native';\nimport { Card, Button, IconButton, TextInput, SegmentedButtons, Dialog, Portal, ActivityIndicator } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { AuthContext } from '../context/AuthContext';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport { useNavigation } from '@react-navigation/native'; \nimport CrossPlatformView from '../components/CrossPlatformView';\nimport STRIPE_PUBLISHABLE_KEY from '../../.env';\nimport axios from 'axios';\nimport { createPaymentMethod } from '../utils/StripeService';\nimport { StripeCardElement } from '../components/StripeCardElement';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { StripePaymentElement } from '../components/StripeCardElement';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\nconst MAX_WIDTH = 500; // Maximum width for web view\n\nconst PaymentMethods = () => {\n  const navigation = useNavigation();\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [confirmPrimaryDialogVisible, setConfirmPrimaryDialogVisible] = useState(false);\n  const [selectedMethod, setSelectedMethod] = useState(null);\n  const [primaryAction, setPrimaryAction] = useState(null); // 'payment' or 'receive'\n  const [newPaymentMethod, setNewPaymentMethod] = useState({\n    type: 'card',\n    cardNumber: '',\n    expiryDate: '',\n    cvc: '',\n    accountNumber: '',\n    routingNumber: '',\n  });\n  const { isApprovedProfessional, is_prototype, is_DEBUG } = useContext(AuthContext);\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [deleteDialogVisible, setDeleteDialogVisible] = useState(false);\n  const [methodToDelete, setMethodToDelete] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const stripe = Platform.OS !== 'web' ? stripeModule()?.useStripe() : null;\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [cardComplete, setCardComplete] = useState(false);\n  const [cardElement, setCardElement] = useState(null);\n  const [stripeElement, setStripeElement] = useState(null);\n  const [bankAccountComplete, setBankAccountComplete] = useState({\n    accountNumber: false,\n    routingNumber: false\n  });\n  const [verificationModalVisible, setVerificationModalVisible] = useState(false);\n  const [verificationAmounts, setVerificationAmounts] = useState({\n    first: '',\n    second: ''\n  });\n  const [verifyingMethod, setVerifyingMethod] = useState(null);\n  const [modalLoading, setModalLoading] = useState(false);\n\n  useEffect(() => {\n    // Fetch payment methods from backend\n    // This is a placeholder. Replace with actual API calls.\n    setPaymentMethods([\n      { \n        id: '1', \n        type: 'bank', \n        accountNumber: '****1234', \n        routingNumber: '123456789', \n        isPrimaryPayment: true,\n        isPrimaryReceive: true,\n        is_verified: true \n      },\n      { \n        id: '2', \n        type: 'card', \n        last4: '4242', \n        brand: 'Visa', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      },\n      { \n        id: '3', \n        type: 'bank', \n        accountNumber: '****5678', \n        routingNumber: '987654321', \n        isPrimaryPayment: false,\n        isPrimaryReceive: false,\n        is_verified: true \n      }\n    ]);\n  }, []);\n\n  // Check if Stripe is ready\n  useEffect(() => {\n    if (!is_prototype && Platform.OS === 'web') {\n      console.log('Stripe loading started');\n      setLoading(true);\n      const checkStripeReady = async () => {\n        try {\n          const stripe = await import('@stripe/stripe-js');\n          const stripeReact = await import('@stripe/react-stripe-js');\n          if (stripe && stripeReact) {\n            console.log('Stripe modules loaded');\n            setLoading(false);\n          }\n        } catch (error) {\n          console.error('Error loading Stripe modules:', error);\n          setLoading(false);\n        }\n      };\n      checkStripeReady();\n    } else {\n      setLoading(false);\n    }\n  }, [is_prototype]);\n\n  if (loading) {\n    if (is_DEBUG) {\n      console.log('Loading indicator should be visible');\n    }\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  const renderPaymentMethod = (method) => (\n    <Card key={method.id} style={styles.card}>\n      <Card.Content>\n        <View style={styles.cardContent}>\n          <View style={styles.methodInfo}>\n            <Text style={styles.methodType}>\n              {method.type === 'card' \n                ? `${method.brand} •••• ${method.last4}` \n                : `Bank Account ${method.accountNumber || '•••• undefined'}`}\n            </Text>\n            {method.bankName && <Text style={styles.bankName}>{method.bankName}</Text>}\n            {!method.is_verified && (\n              <Text style={styles.verificationNeeded}>\n                {method.type === 'card' \n                  ? 'Card Verification In Progress'\n                  : 'Bank Account Verification Required'}\n              </Text>\n            )}\n          </View>\n          <View style={styles.cardActions}>\n            {!method.is_verified && method.type === 'bank' && (\n              <Button\n                onPress={() => handleVerifyBankAccount(method)}\n                mode=\"contained\"\n              >\n                Verify\n              </Button>\n            )}\n            {method.is_verified && (\n              <>\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />}\n                  onPress={() => handleEditMethod(method)}\n                />\n                <IconButton\n                  icon={() => <MaterialCommunityIcons name=\"delete\" size={20} color={theme.colors.error} />}\n                  onPress={() => handleDeleteMethod(method)}\n                />\n              </>\n            )}\n          </View>\n        </View>\n        {method.is_verified && (\n          <View style={styles.primaryOptionsContainer}>\n            <View style={styles.checkboxRow}>\n              <IconButton\n                icon={() => (\n                  <MaterialCommunityIcons \n                    name={method.isPrimaryPayment ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                    size={24} \n                    color={theme.colors.primary}\n                  />\n                )}\n                onPress={() => handleSetPrimary(method.id, 'payment')}\n                style={styles.checkbox}\n              />\n              <Text style={styles.checkboxLabel}>\n                {method.isPrimaryPayment ? \"Primary Payment Method\" : \"Make Primary Payment Method\"}\n              </Text>\n            </View>\n            {(method.type === 'bank' && isApprovedProfessional) && (\n              <View style={styles.checkboxRow}>\n                <IconButton\n                  icon={() => (\n                    <MaterialCommunityIcons \n                      name={method.isPrimaryReceive ? \"checkbox-marked\" : \"checkbox-blank-outline\"} \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                  onPress={() => handleSetPrimary(method.id, 'receive')}\n                  style={styles.checkbox}\n                />\n                <Text style={styles.checkboxLabel}>\n                  {method.isPrimaryReceive ? \"Primary Receive Method\" : \"Make Primary Receive Method\"}\n                </Text>\n              </View>\n            )}\n          </View>\n        )}\n      </Card.Content>\n    </Card>\n  );\n\n  const handleAddMethod = async () => {\n    setError(null);\n    setSelectedMethod(null);\n    setNewPaymentMethod({\n      type: 'card',\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: '',\n      routingNumber: '',\n    });\n    setModalVisible(true);\n    if (is_DEBUG) {\n      console.log('MBA: Setting modalLoading to true');\n    }\n    setModalLoading(true);\n\n    if (!is_prototype && Platform.OS === 'web') {\n      if (is_DEBUG) {\n        console.log('MBA: Initializing Stripe elements for web');\n      }\n      if (!cardElement || !cardElement.stripe || !cardElement.elements) {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements not initialized, setting up now');\n        }\n        try {\n          const { loadStripe } = await import('@stripe/stripe-js');\n          const stripe = await loadStripe(STRIPE_PUBLISHABLE_KEY);\n          if (stripe) {\n            if (is_DEBUG) {\n              console.log('MBA: Stripe loaded successfully');\n            }\n            const elements = stripe.elements();\n            setCardElement({\n              stripe,\n              elements,\n              complete: false,\n              paymentType: 'card',\n              value: {}\n            });\n          }\n        } catch (error) {\n          if (is_DEBUG) {\n            console.error('MBA: Error initializing Stripe elements:', error);\n          }\n        }\n      } else {\n        if (is_DEBUG) {\n          console.log('MBA: Stripe elements already initialized');\n        }\n      }\n    }\n    // Add a short delay before setting modalLoading to false\n    setTimeout(() => {\n      if (is_DEBUG) {\n        console.log('MBA: Setting modalLoading to false');\n      }\n      setModalLoading(false);\n    }, 500); // 500ms delay\n  };\n\n  const handleEditMethod = (method) => {\n    setError('');\n    setSelectedMethod({ ...method });\n    setNewPaymentMethod({\n      type: method.type,\n      cardNumber: '',\n      expiryDate: '',\n      cvc: '',\n      accountNumber: method.accountNumber || '',\n      routingNumber: method.routingNumber || '',\n    });\n    setModalVisible(true);\n  };\n\n  const handleDeleteMethod = (method) => {\n    setMethodToDelete({ ...method });\n    setDeleteError(null);\n    setDeleteDialogVisible(true);\n  };\n\n  const handleSetPrimary = (id, type) => {\n    setSelectedMethod({ id });\n    setPrimaryAction(type);\n    setConfirmPrimaryDialogVisible(true);\n  };\n\n  const confirmSetPrimary = async () => {\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the change\n      setPaymentMethods(prevMethods =>\n        prevMethods.map(method => ({\n          ...method,\n          ...(primaryAction === 'payment' && {\n            isPrimaryPayment: method.id === selectedMethod.id\n          }),\n          ...(primaryAction === 'receive' && {\n            isPrimaryReceive: method.id === selectedMethod.id\n          })\n        }))\n      );\n      \n      console.log('Primary method updated:', selectedMethod);\n    } catch (error) {\n      console.error('Failed to update primary method:', error);\n    } finally {\n      setIsConfirming(false);\n      setConfirmPrimaryDialogVisible(false);\n      setPrimaryAction(null);\n    }\n  };\n\n  const confirmDeleteMethod = async () => {\n    if (methodToDelete.isPrimaryPayment && methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This payment method is set as both your primary payment and receive method. Please select another payment method for both before deleting this one.\");\n      return;\n    }\n    \n    if (methodToDelete.isPrimaryPayment) {\n      setDeleteError(\"This is your primary payment method. Please select another payment method before deleting this one.\");\n      return;\n    }\n\n    if (methodToDelete.isPrimaryReceive) {\n      setDeleteError(\"This is your primary receive method. Please select another receive method before deleting this one.\");\n      return;\n    }\n\n    setIsConfirming(true);\n    try {\n      // Simulating API call\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Update the state to reflect the deletion\n      setPaymentMethods(prevMethods => prevMethods.filter(method => method.id !== methodToDelete.id));\n      \n      console.log('Payment method deleted:', methodToDelete);\n      setDeleteDialogVisible(false);\n    } catch (error) {\n      console.error('Failed to delete payment method:', error);\n      setDeleteError('An error occurred while deleting the payment method. Please try again.');\n    } finally {\n      setIsConfirming(false);\n    }\n  };\n\n  const renderAddMethodModal = () => {\n    if (is_DEBUG) {\n      console.log('MBA: Rendering Add Payment Method Modal');\n      console.log('MBA: modalLoading state:', modalLoading);\n    }\n    return (\n      <Portal>\n        <Dialog visible={modalVisible} onDismiss={() => setModalVisible(false)} style={styles.dialog}>\n          <Dialog.Title>Add Payment Method</Dialog.Title>\n          <IconButton\n            icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n            onPress={() => setModalVisible(false)}\n            style={styles.closeButton}\n          />\n          <Dialog.Content>\n            {modalLoading ? (\n              <View style={styles.loadingContainer}>\n                <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                <Text style={styles.loadingText}>Loading...</Text>\n              </View>\n            ) : (\n              <>\n                <SegmentedButtons\n                  value={newPaymentMethod.type}\n                  onValueChange={(value) => setNewPaymentMethod({ ...newPaymentMethod, type: value })}\n                  buttons={[\n                    { value: 'card', label: 'Credit Card' },\n                    { value: 'bank', label: 'Bank Account' },\n                  ]}\n                  style={styles.segmentedButtons}\n                />\n                <StripePaymentElement \n                  key={newPaymentMethod.type}\n                  onChange={handlePaymentChange}\n                  paymentType={newPaymentMethod.type}\n                />\n                {error && <Text style={styles.errorText}>{error}</Text>}\n              </>\n            )}\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={() => setModalVisible(false)} disabled={loading}>Cancel</Button>\n            <Button \n              onPress={handleSavePaymentMethod} \n              disabled={loading || (\n                (newPaymentMethod.type === 'card' && !cardComplete) ||\n                (newPaymentMethod.type === 'bank' && (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber))\n              )}\n              loading={loading}\n            >\n              Save\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    );\n  };\n\n  const renderConfirmPrimaryDialog = () => (\n    <Portal>\n      <Dialog visible={confirmPrimaryDialogVisible} onDismiss={() => setConfirmPrimaryDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>\n          {primaryAction === 'receive' ? 'Confirm Primary Receive Method' : 'Confirm Primary Payment Method'}\n        </Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setConfirmPrimaryDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text>\n            {primaryAction === 'receive' \n              ? \"Are you sure you want to make this your primary receive method?\"\n              : \"Are you sure you want to make this your primary payment method?\"\n            }\n          </Text>\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>\n                {primaryAction === 'receive' \n                  ? \"Updating primary receive method...\"\n                  : \"Updating primary payment method...\"\n                }\n              </Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setConfirmPrimaryDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmSetPrimary} disabled={isConfirming}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const renderDeleteConfirmDialog = () => (\n    <Portal>\n      <Dialog visible={deleteDialogVisible} onDismiss={() => setDeleteDialogVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Confirm Delete Payment Method</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setDeleteDialogVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          {deleteError ? (\n            <Text style={styles.errorText}>{deleteError}</Text>\n          ) : (\n            <Text>Are you sure you want to delete this payment method?</Text>\n          )}\n          {isConfirming && (\n            <View style={styles.loadingContainer}>\n              <ActivityIndicator animating={true} color={theme.colors.primary} />\n              <Text style={styles.loadingText}>Deleting payment method...</Text>\n            </View>\n          )}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setDeleteDialogVisible(false)} disabled={isConfirming}>Cancel</Button>\n          <Button onPress={confirmDeleteMethod} disabled={isConfirming || deleteError}>Confirm</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerifyBankAccount = (method) => {\n    setVerifyingMethod(method);\n    setVerificationAmounts({ first: '', second: '' });\n    setVerificationModalVisible(true);\n    setError(null);\n  };\n\n  const renderVerificationModal = () => (\n    <Portal>\n      <Dialog visible={verificationModalVisible} onDismiss={() => setVerificationModalVisible(false)} style={styles.dialog}>\n        <Dialog.Title>Verify Bank Account</Dialog.Title>\n        <IconButton\n          icon={() => <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />}\n          onPress={() => setVerificationModalVisible(false)}\n          style={styles.closeButton}\n        />\n        <Dialog.Content>\n          <Text style={styles.verificationText}>\n            A deposit will be made to your bank account in 1-2 business days of adding your bank account. Please enter the two small deposit amounts that were made to your account:\n          </Text>\n          <View style={styles.amountsContainer}>\n            <TextInput\n              label=\"First Amount (cents)\"\n              value={verificationAmounts.first}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, first: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"32\"\n            />\n            <TextInput\n              label=\"Second Amount (cents)\"\n              value={verificationAmounts.second}\n              onChangeText={(text) => setVerificationAmounts(prev => ({ ...prev, second: text }))}\n              keyboardType=\"numeric\"\n              style={styles.amountInput}\n              mode=\"outlined\"\n              placeholder=\"45\"\n            />\n          </View>\n          {error && <Text style={styles.errorText}>{error}</Text>}\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={() => setVerificationModalVisible(false)} disabled={loading}>\n            Cancel\n          </Button>\n          <Button\n            onPress={handleVerificationSubmit}\n            loading={loading}\n            disabled={loading || !verificationAmounts.first || !verificationAmounts.second}\n          >\n            Verify\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n\n  const handleVerificationSubmit = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!verifyingMethod) {\n        throw new Error('Missing required verification data');\n      }\n\n      const firstAmount = parseInt(verificationAmounts.first);\n      const secondAmount = parseInt(verificationAmounts.second);\n\n      if ([firstAmount, secondAmount].some(amount => isNaN(amount) || amount < 1 || amount > 99)) {\n        throw new Error('Please enter valid amounts between 1 and 99 cents');\n      }\n\n      // Simulate backend API call\n      const simulateBackendVerification = () => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          // Simulate success for amounts 32 and 45, fail for others\n          if (firstAmount === 12 && secondAmount === 12) {\n            resolve({ success: true });\n          } else {\n            reject(new Error('The amounts entered do not match our records. Please verify the amounts and try again.'));\n          }\n        }, 1000);\n      });\n\n      const result = await simulateBackendVerification();\n\n      // Update the UI if verification succeeds\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === verifyingMethod.id\n            ? { ...m, is_verified: true }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setVerificationModalVisible(false);\n      setVerifyingMethod(null);\n      setVerificationAmounts({ first: '', second: '' });\n      setError('Bank account successfully verified!');\n    } catch (err) {\n      console.error('Verification error:', err);\n      setError(err.message || 'Failed to verify bank account. Please check the amounts and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add card verification handler\n  const handleVerifyCard = async (method) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Create a SetupIntent on your backend\n      const setupIntent = await axios.post('/api/create-setup-intent', {\n        payment_method_id: method.id\n      });\n\n      // Confirm the SetupIntent with Stripe\n      const result = await cardElement.stripe.confirmCardSetup(\n        setupIntent.client_secret,\n        {\n          payment_method: method.id\n        }\n      );\n\n      console.log('Card verification result:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n\n      // Update the payment method status in your lists\n      const updateMethod = (methods) =>\n        methods.map(m =>\n          m.id === method.id\n            ? { ...m, status: 'verified', verificationNeeded: false }\n            : m\n        );\n\n      setPaymentMethods(prev => updateMethod(prev));\n\n      setError('Card successfully verified!');\n    } catch (err) {\n      console.error('Card verification error:', err);\n      setError(err.message || 'Failed to verify card');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Add these functions back after handleAddMethod\n  const handlePaymentChange = (event) => {\n    console.log('Payment change event:', event);\n    if (Platform.OS === 'web') {\n      if (newPaymentMethod.type === 'card') {\n        setCardComplete(event.complete);\n      } else {\n        // For bank accounts, track both fields\n        if (event.value) {\n          setBankAccountComplete(prev => ({\n            ...prev,\n            accountNumber: event.value.accountNumber?.length >= 9 || prev.accountNumber,\n            routingNumber: event.value.routingNumber?.length === 9 || prev.routingNumber\n          }));\n        }\n        setCardComplete(bankAccountComplete.accountNumber && bankAccountComplete.routingNumber);\n      }\n\n      setCardElement({\n        stripe: event.stripe,\n        elements: event.elements,\n        complete: event.complete,\n        paymentType: newPaymentMethod.type,\n        value: event.value\n      });\n\n      // Update newPaymentMethod state if it's a bank account\n      if (newPaymentMethod.type === 'bank' && event.value) {\n        setNewPaymentMethod(prev => ({\n          ...prev,\n          accountNumber: event.value.accountNumber || prev.accountNumber,\n          routingNumber: event.value.routingNumber || prev.routingNumber,\n        }));\n      }\n    } else {\n      setCardComplete(event.complete);\n      setCardElement(event);\n    }\n  };\n\n  const handleSavePaymentMethod = async () => {\n    if (newPaymentMethod.type === 'card') {\n      if (!cardComplete) {\n        setError('Please complete card details');\n        return;\n      }\n    } else if (newPaymentMethod.type === 'bank') {\n      if (!bankAccountComplete.accountNumber || !bankAccountComplete.routingNumber) {\n        setError('Please complete both account number and routing number');\n        return;\n      }\n    }\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      if (Platform.OS === 'web') {\n        if (!cardElement.stripe || !cardElement.elements) {\n          throw new Error('Stripe not initialized');\n        }\n\n        let result;\n        if (newPaymentMethod.type === 'card') {\n          // Handle credit card\n          result = await cardElement.stripe.createPaymentMethod({\n            type: 'card',\n            card: cardElement.elements.getElement(CardElement),\n          });\n\n          console.log('Card payment method result:', result);\n\n          if (result.error) {\n            throw new Error(result.error.message);\n          }\n\n          const paymentMethodData = {\n            id: result.paymentMethod.id,\n            type: 'card',\n            last4: result.paymentMethod.card.last4,\n            brand: result.paymentMethod.card.brand,\n            is_verified: false\n          };\n\n          // Only add to payForServicesMethods since cards can't be used for receiving\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n        } else {\n          // Handle bank account\n          result = await cardElement.stripe.createToken('bank_account', {\n            country: 'US',\n            currency: 'usd',\n            routing_number: cardElement.value.routingNumber,\n            account_number: cardElement.value.accountNumber,\n            account_holder_type: 'individual',\n          });\n          \n          console.log('Bank token creation result:', result);\n\n          if (result.error || !result.token) {\n            throw new Error(result.error?.message || 'Invalid routing number. Please check and try again.');\n          }\n\n          const paymentMethodData = {\n            id: result.token.id,\n            type: 'bank',\n            accountNumber: `****${result.token.bank_account.last4}`,\n            routingNumber: cardElement.value.routingNumber,\n            bankName: result.token.bank_account.bank_name,\n            is_verified: false\n          };\n\n          // Update the appropriate list based on where it was added\n          setPaymentMethods(prev => [...prev, paymentMethodData]);\n\n          setError(\n            'Bank account added but requires verification. Two small deposits will be made to your account in 1-2 business days. ' +\n            'Please check your account and return to verify the amounts.'\n          );\n        }\n\n        setModalVisible(false);\n      } else {\n        // Native platform handling\n        const { paymentMethod, error } = await createPaymentMethod({\n          type: newPaymentMethod.type,\n          card: cardElement,\n          is_receive_payment: selectedMethod?.isPrimaryReceive || false,\n        });\n\n        if (error) {\n          throw new Error(error.message);\n        }\n\n        // Update the appropriate list\n        setPaymentMethods(prev => [...prev, paymentMethod]);\n      }\n\n      setModalVisible(false);\n    } catch (err) {\n      console.error('Payment method error:', err);\n      setError(err.message || 'Failed to save payment method');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Payment Methods\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <ScrollView style={styles.container} contentContainerStyle={styles.contentContainer}>\n        <View style={styles.sectionContainer}>\n          <View style={styles.headerContainer}>\n            <Text style={styles.sectionTitle}>Payment Methods</Text>\n            <IconButton\n              icon={() => <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />}\n              onPress={() => handleAddMethod()}\n              style={styles.addIconButton}\n            />\n          </View>\n          {paymentMethods.map(method => renderPaymentMethod(method))}\n        </View>\n\n        {renderAddMethodModal()}\n        {renderConfirmPrimaryDialog()}\n        {renderDeleteConfirmDialog()}\n        {renderVerificationModal()}\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    overflow: 'hidden',\n  },\n  contentContainer: {\n    padding: 16,\n    alignItems: 'center',\n    width: '100%',\n  },\n  sectionContainer: {\n    width: '100%',\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n  },\n  card: {\n    marginBottom: 16,\n    width: '100%',\n    alignSelf: 'center',\n  },\n  addButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  segmentedButtons: {\n    marginBottom: 16,\n    maxWidth: MAX_WIDTH,\n    alignSelf: 'center',\n    minHeight: 40,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  cardContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  methodInfo: {\n    flex: 1,\n  },\n  methodType: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  primaryOptionsContainer: {\n    marginTop: 8,\n    gap: 4,\n  },\n  checkboxRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  checkbox: {\n    margin: 0,\n    padding: 0,\n  },\n  checkboxLabel: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginLeft: -8,\n  },\n  cardActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  dialog: {\n    width: Platform.OS === 'web' ? '90%' : '100%',\n    alignSelf: 'center',\n    maxWidth: 500,\n    marginHorizontal: Platform.OS === 'web' ? 'auto' : 16,\n  },\n  input: {\n    marginBottom: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginLeft: 8,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: 5,\n    top: 5,\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.7)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bankName: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginTop: 4,\n  },\n  verificationNeeded: {\n    color: theme.colors.error,\n    fontSize: 12,\n    marginTop: 4,\n  },\n  amountsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n    marginBottom: 16,\n  },\n  amountInput: {\n    width: '48%',\n  },\n  verificationText: {\n    marginBottom: 8,\n    fontSize: 14,\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n    width: '100%',\n  },\n  addIconButton: {\n    margin: 0,\n  },\n  webContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '85vh',\n    width: '100%',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n  },\n});\n\nexport default PaymentMethods;\n","import React, { useContext } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, Text, TouchableOpacity, StatusBar } from 'react-native';\nimport { List, Divider } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Settings = ({ navigation }) => {\n  const { is_prototype } = useContext(AuthContext);\n  \n  const settingsItems = [\n    { title: 'Change Password', icon: 'lock-reset', route: 'ChangePassword' },\n    { title: 'Notification Preferences', icon: 'bell-outline', route: 'NotificationPreferences' },\n    { title: 'Privacy Settings', icon: 'shield-account', route: 'PrivacySettings' },\n    { title: 'Language', icon: 'translate', route: 'LanguageSettings' },\n    { title: 'Display & Accessibility', icon: 'palette', route: 'DisplaySettings' },\n    { title: 'Data Usage', icon: 'chart-bar', route: 'DataUsage' },\n    { title: 'About', icon: 'information-outline', route: 'About' },\n  ];\n\n  const renderSettingsItems = () => {\n    return settingsItems.map((item, index) => (\n      <React.Fragment key={index}>\n        <List.Item\n          title={item.title}\n          left={props => \n            Platform.OS === 'web' \n              ? <MaterialCommunityIcons name={item.icon} size={24} color={theme.colors.primary} />\n              : <List.Icon {...props} icon={item.icon} />\n          }\n          onPress={() => navigation.navigate(item.route)}\n          style={Platform.OS === 'web' ? styles.webListItem : null}\n        />\n        {index < settingsItems.length - 1 && <Divider />}\n      </React.Fragment>\n    ));\n  };\n\n  const renderContent = () => (\n    <List.Section style={styles.listSection}>\n      {renderSettingsItems()}\n    </List.Section>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Settings\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      {is_prototype && (\n        <View style={styles.warningContainer}>\n          <Text style={styles.warningText}>\n            Prototype Mode: Only \"Change Password\" is currently functional\n          </Text>\n        </View>\n      )}\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        {renderContent()}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n  },\n  listSection: {\n    backgroundColor: theme.colors.surface,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 16,\n  },\n  webListItem: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  warningContainer: {\n    backgroundColor: '#FFF3CD',\n    padding: theme.spacing.small,\n    marginHorizontal: theme.spacing.small,\n    marginTop: theme.spacing.small,\n    borderRadius: 4,\n  },\n  warningText: {\n    color: '#856404',\n    textAlign: 'center',\n  },\n});\n\nexport default Settings;\n","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { handleBack } from '../components/Navigation';\n\nconst appName = 'Zen Exotics';\n\nconst privacy_policy_info = [\n  {sectionTitle: \"Information We Collect\", \n    paragraph: \"When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\", \n    listItems: {listItem: \"Personal Information: Name, email, phone number, address, and service preferences.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.\",\n                listItem: \"Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.\",\n                listItem: \"Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n                listItem: \"Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.\",\n    }},\n  {}\n];\n\nconst PrivacyPolicy = () => {\n  const navigation = useNavigation();\n  const { is_prototype } = useContext(AuthContext);\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Privacy Policy\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <Text>Privacy Policy coming soon. We collect no data right now other than your email address and name from a contact form.</Text>\n      {is_prototype ? null : (\n        <ScrollView \n          style={styles.container}\n          contentContainerStyle={styles.contentContainer}\n        >\n          <Text style={styles.title}>Privacy Policy for {appName}</Text>\n          <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n          \n          <Text style={styles.paragraph}>\n            By accessing or using {appName}, you agree to the practices described in this Privacy Policy. If you do not agree with these terms, please discontinue the use of our services immediately.\n          </Text>\n\n          <Text style={styles.sectionTitle}>Information We Collect</Text>\n          <Text style={styles.paragraph}>\n            When you use {appName}, we collect several types of information to ensure the best experience for both professionals and pet owners. This includes:\n          </Text>\n          <Text style={styles.listItem}>• Personal Information: Name, email, phone number, address, and service preferences.</Text>\n          <Text style={styles.listItem}>• Payment Information: Card type, expiration date, and the last four digits of your payment card. Complete payment details are managed by third-party processors, and we do not store full card numbers.</Text>\n          <Text style={styles.listItem}>• Health Data: Medical information about your pets (e.g., medical history, medications, vaccinations, behavioral traits). By using this service, you consent to our use of this health data as we deem necessary for analytics, research, marketing, or any other purpose related to improving our services.</Text>\n          <Text style={styles.listItem}>• Device Data: We collect information about your device, including IP address, browser type, operating system, and other usage data.</Text>\n          <Text style={styles.listItem}>• Location Data: With your permission, we collect location information to match professionals and clients more effectively. Disabling location services may limit certain app features.</Text>\n          <Text style={styles.listItem}>• Cookies and Tracking: We use cookies and tracking technologies to improve user experience and monitor traffic patterns. You can disable cookies in your browser settings.</Text>\n\n          <Text style={styles.sectionTitle}>How We Use Your Data</Text>\n          <Text style={styles.paragraph}>We use the data we collect to:</Text>\n          <Text style={styles.listItem}>• Facilitate bookings and transactions between professionals and clients.</Text>\n          <Text style={styles.listItem}>• Verify professional eligibility through background checks.</Text>\n          <Text style={styles.listItem}>• Provide customer support and resolve disputes between users.</Text>\n          <Text style={styles.listItem}>• Improve app functionality through analytics and feedback.</Text>\n          <Text style={styles.listItem}>• Manage communications between professionals and clients.</Text>\n          <Text style={styles.listItem}>• Use health data for internal analysis and marketing purposes. We retain control over how this data is used.</Text>\n\n          <Text style={styles.sectionTitle}>Sharing of Information</Text>\n          <Text style={styles.paragraph}>We may share your data in the following ways:</Text>\n          <Text style={styles.listItem}>• With Other Users: For bookings, we share relevant information between professionals and pet owners.</Text>\n          <Text style={styles.listItem}>• With Third-Party Providers: Payment processors, analytics providers, and background check services may access limited information to perform their services.</Text>\n          <Text style={styles.listItem}>• Legal and Compliance Purposes: We may disclose information if required by law or to protect the safety and security of our users.</Text>\n          <Text style={styles.listItem}>• Business Transfers: In case of a merger, sale, or acquisition, your data may be transferred to a new owner.</Text>\n          <Text style={styles.listItem}>• Aggregated Data: We may share non-identifiable, aggregated data for research or business purposes.</Text>\n\n          <Text style={styles.sectionTitle}>Your Rights and Choices</Text>\n          <Text style={styles.listItem}>• Account Management: You can update or delete your account information through the app settings.</Text>\n          <Text style={styles.listItem}>• Health Data Access: You may review the health data associated with your pets but agree that we control its use.</Text>\n          <Text style={styles.listItem}>• Location Services: Manage your location preferences through your device settings.</Text>\n          <Text style={styles.listItem}>• Cookie Preferences: You can opt out of personalized ads and tracking through your browser settings.</Text>\n\n          <Text style={styles.sectionTitle}>Security and Data Retention</Text>\n          <Text style={styles.paragraph}>\n            We implement reasonable security measures to protect your data, though no system is entirely secure. We retain your data as long as needed for operational purposes or as required by law.\n          </Text>\n\n          <Text style={styles.sectionTitle}>International Data Transfers</Text>\n          <Text style={styles.paragraph}>\n            Your data may be processed or stored in countries outside your own. By using the app, you agree to these transfers, even if those countries have different data protection laws.\n          </Text>\n\n          <Text style={styles.sectionTitle}>Changes to This Privacy Policy</Text>\n          <Text style={styles.paragraph}>\n            We may update this policy from time to time to reflect changes in our practices or services. We will notify you of significant changes through the app or via email. Continued use of the app constitutes acceptance of the revised policy.\n          </Text>\n\n          <Text style={styles.sectionTitle}>Contact Us</Text>\n          <Text style={styles.paragraph}>\n            If you have questions or concerns about this policy, please contact us:\n          </Text>\n          <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n          <Text style={styles.listItem}>Phone: 7195106341</Text>\n        </ScrollView>\n      )}\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    width: '100%',\n    maxWidth: 800,\n    alignSelf: 'center',\n  },\n  contentContainer: {\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n});\n\nexport default PrivacyPolicy;\n","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ProfessionalSettings = () => {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Professional Settings</Text>\n      <Text>Manage your professional profile and preferences here.</Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default ProfessionalSettings;","import React, { useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { handleBack } from '../components/Navigation';\nimport { AuthContext } from '../context/AuthContext';\n\nconst appName = 'Zen Exotics';\n\nconst TermsOfService = () => {\n  const navigation = useNavigation();\n  const { is_prototype } = useContext(AuthContext);\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader \n        title=\"Terms of Service\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <Text>Terms of Service coming soon. Right now we are in prototype mode, so no data is saved except for email/name if you choose to contact us through this platform, then it is saved for marketing purposes.</Text>\n      {is_prototype ? null : (\n        <ScrollView \n          style={styles.container}\n          contentContainerStyle={styles.contentContainer}\n        >\n          <Text style={styles.title}>Terms of Service for {appName}</Text>\n\n          <Text style={styles.date}>Effective Date: 10/21/2024</Text>\n          \n          <Text style={styles.paragraph}>\n            Welcome to {appName}! By using our platform, mobile application, or any services offered through our platform (collectively, \"the Service\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, you must discontinue use of the Service immediately.\n          </Text>\n\n          <Text style={styles.sectionTitle}>1. Description of Service</Text>\n          <Text style={styles.paragraph}>\n            {appName} provides an online platform for connecting pet owners with professionals specializing in exotic animals, as well as dogs and cats. Users can book services, communicate with professionals, and manage pet-related services, including payments and reviews.\n          </Text>\n\n          <Text style={styles.sectionTitle}>2. User Accounts</Text>\n          <Text style={styles.paragraph}>\n            To use certain features of the Service, you must create an account. You are responsible for keeping your account information accurate and secure.\n          </Text>\n          <Text style={styles.listItem}>• Eligibility: Users must be at least 18 years old to create an account.</Text>\n          <Text style={styles.listItem}>• Account Security: You are responsible for all activities under your account. Notify us immediately if you suspect unauthorized use.</Text>\n          <Text style={styles.listItem}>• Account Termination: We reserve the right to suspend or terminate accounts at our sole discretion for violations of these Terms.</Text>\n\n          <Text style={styles.sectionTitle}>3. User Conduct and Acceptable Use</Text>\n          <Text style={styles.paragraph}>By using the Service, you agree:</Text>\n          <Text style={styles.listItem}>• To provide accurate and complete information.</Text>\n          <Text style={styles.listItem}>• Not to engage in fraudulent or unlawful activities.</Text>\n          <Text style={styles.listItem}>• Not to use the Service for spam, harassment, or abusive behavior toward other users.</Text>\n          <Text style={styles.listItem}>• To comply with all local, national, and international laws applicable to your activities on the platform.</Text>\n          <Text style={styles.paragraph}>Failure to comply with these rules may result in account suspension or termination.</Text>\n\n          <Text style={styles.sectionTitle}>4. Pet and Health Information</Text>\n          <Text style={styles.paragraph}>\n            You acknowledge that the Service involves the collection and sharing of health-related data for pets. By using the Service, you agree to provide accurate medical information for your animals and grant us permission to use and share this data as outlined in our Privacy Policy.\n          </Text>\n\n          <Text style={styles.sectionTitle}>5. Payment Terms</Text>\n          <Text style={styles.paragraph}>\n            All transactions between pet owners and professionals must be processed through the platform's payment system, powered by Stripe. You agree to the following:\n          </Text>\n          <Text style={styles.listItem}>• Booking Fees: You will be charged the agreed-upon amount at the time of booking.</Text>\n          <Text style={styles.listItem}>• Cancellations and Refunds: Cancellations are subject to our cancellation policy, which may result in partial or no refunds.</Text>\n          <Text style={styles.listItem}>• Payouts to Professionals: Professionals must provide accurate payment information and comply with local tax regulations.</Text>\n\n          <Text style={styles.sectionTitle}>6. Liability and Disclaimer of Warranties</Text>\n          <Text style={styles.paragraph}>\n            You acknowledge that {appName} does not guarantee the quality or safety of services provided by professionals. Our platform only facilitates connections between users.\n          </Text>\n          <Text style={styles.listItem}>• We are not liable for any injury, damage, or loss caused during the provision of pet care services.</Text>\n          <Text style={styles.listItem}>• The Service is provided \"as is\" and \"as available\" without warranties of any kind, express or implied.</Text>\n\n          <Text style={styles.sectionTitle}>7. Dispute Resolution Between Users</Text>\n          <Text style={styles.paragraph}>\n            Disputes between users (e.g., pet owners and professionals) must first be addressed directly between the parties. If no resolution is reached, {appName} may mediate but is not responsible for the outcome.\n          </Text>\n\n          <Text style={styles.sectionTitle}>8. Limitation of Liability</Text>\n          <Text style={styles.paragraph}>In no event shall {appName}, its affiliates, officers, employees, or partners be liable for:</Text>\n          <Text style={styles.listItem}>• Indirect, incidental, or consequential damages arising from the use of the Service.</Text>\n          <Text style={styles.listItem}>• Any claims exceeding the amount you paid through the Service within the last six months.</Text>\n\n          <Text style={styles.sectionTitle}>9. Termination and Suspension</Text>\n          <Text style={styles.paragraph}>We reserve the right to suspend or terminate access to the Service at any time without notice if:</Text>\n          <Text style={styles.listItem}>• You breach these Terms.</Text>\n          <Text style={styles.listItem}>• Your actions jeopardize the safety or security of the platform or other users.</Text>\n\n          <Text style={styles.sectionTitle}>10. Modifications to the Service and Terms</Text>\n          <Text style={styles.paragraph}>\n            We may modify these Terms or the Service at any time. Significant changes will be communicated via email or in-app notifications. Continued use of the Service after changes constitutes acceptance of the revised Terms.\n          </Text>\n\n          <Text style={styles.sectionTitle}>11. Intellectual Property Rights</Text>\n          <Text style={styles.paragraph}>\n            All content, trademarks, and logos on the platform are owned by or licensed to {appName}. You may not copy, modify, or distribute content without express permission.\n          </Text>\n\n          <Text style={styles.sectionTitle}>12. Governing Law and Dispute Resolution</Text>\n          <Text style={styles.paragraph}>\n            These Terms are governed by the laws of El Paso County, Colorado, without regard to conflict of law principles.\n          </Text>\n          <Text style={styles.listItem}>• Arbitration Clause: All disputes arising under these Terms shall be resolved through binding arbitration in Colorado Springs, Colorado.</Text>\n          <Text style={styles.listItem}>• Class Action Waiver: You agree to waive your right to participate in class action lawsuits.</Text>\n\n          <Text style={styles.sectionTitle}>13. Indemnification</Text>\n          <Text style={styles.paragraph}>\n            You agree to indemnify and hold harmless {appName}, its affiliates, officers, and employees from any claims, damages, or liabilities arising from your use of the Service or breach of these Terms.\n          </Text>\n\n          <Text style={styles.sectionTitle}>14. Third-Party Links and Services</Text>\n          <Text style={styles.paragraph}>\n            The platform may contain links to third-party websites or services. {appName} is not responsible for the content or actions of those third parties.\n          </Text>\n\n          <Text style={styles.sectionTitle}>15. Contact Us</Text>\n          <Text style={styles.paragraph}>\n            If you have questions about these Terms, please contact us:\n          </Text>\n          <Text style={styles.listItem}>Email: zam.hh.llc@gmail.com</Text>\n          <Text style={styles.listItem}>Phone: 7195106341</Text>\n\n          <Text style={styles.sectionTitle}>Acknowledgment of Agreement</Text>\n          <Text style={styles.paragraph}>\n            By accessing or using {appName}, you acknowledge that you have read, understood, and agreed to these Terms of Service.\n          </Text>\n        </ScrollView>\n      )}\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n  },\n  contentContainer: {\n    paddingBottom: 80,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  date: {\n    fontSize: 16,\n    marginBottom: 20,\n    color: theme.colors.text,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 20,\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  paragraph: {\n    fontSize: 16,\n    marginBottom: 10,\n    color: theme.colors.text,\n  },\n  listItem: {\n    fontSize: 16,\n    marginBottom: 5,\n    marginLeft: 10,\n    color: theme.colors.text,\n  },\n  testSection: {\n    marginBottom: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    padding: 10,\n    borderRadius: 4,\n  },\n});\n\nexport default TermsOfService;\n","import React from 'react';\nimport { View, Text, StyleSheet, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst HelpFAQ = () => {\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Help / FAQ</Text>\n      <Text>Frequently asked questions and help topics go here...</Text>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: theme.colors.background,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: theme.colors.primary,\n  },\n});\n\nexport default HelpFAQ;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, Dimensions } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\n\nconst ContactUs = () => {\n  const navigation = useNavigation();\n  const { is_prototype, screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const handleSubmit = async () => {\n    if (!name || !email || !message) {\n      setSuccessMessage('Please fill in all fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n    setSuccessMessage('');\n\n    if (is_prototype) {\n      // Use Formspree in prototype mode\n      try {\n        await handleFormspreeSubmit({\n          name,\n          email,\n          message\n        });\n        \n        if (state.succeeded) {\n          setSuccessMessage('Your message has been sent successfully!');\n          setName('');\n          setEmail('');\n          setMessage('');\n        }\n      } catch (error) {\n        setSuccessMessage('Failed to send message. Please try again later.');\n        console.error(error);\n      } finally {\n        setIsSubmitting(false);\n      }\n    } else {\n      // Use backend API in production mode\n      try {\n        const response = await axios.post(`${API_BASE_URL}/api/users/contact/`, {\n          name,\n          email,\n          message\n        });\n\n        if (response.status === 200) {\n          setSuccessMessage('Your message has been sent successfully!');\n          setName('');\n          setEmail('');\n          setMessage('');\n        } else {\n          throw new Error('Failed to send message');\n        }\n      } catch (error) {\n        setSuccessMessage(error.response?.data?.error || 'Failed to send message. Please try again later.');\n        console.error(error);\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  };\n\n  // Show success message from either Formspree or backend\n  if (is_prototype && state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader title=\"Contact Us\" onBackPress={() => navigation.navigate('More')} />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thanks for reaching out!\n            </Text>\n            <Text style={styles.successMessage}>\n              We'll get back to you soon.\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView \n      fullWidthHeader={true}\n      contentWidth={maxContentWidth}\n    >\n      <BackHeader \n        title=\"Contact Us\" \n        onBackPress={() => navigation.navigate('More')} \n      />\n      <View style={styles.container}>\n        <View style={[styles.contentWrapper, { width: contentWidth }]}>\n          <Text style={styles.title}>Contact Us</Text>\n          <Text style={styles.subtitle}>Get in touch with our support team</Text>\n          \n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Name\"\n            value={name}\n            onChangeText={setName}\n            name=\"name\"\n          />\n          {is_prototype && <ValidationError prefix=\"Name\" field=\"name\" errors={state.errors} />}\n          \n          <TextInput\n            style={styles.input}\n            placeholder=\"Your Email\"\n            value={email}\n            onChangeText={setEmail}\n            keyboardType=\"email-address\"\n            name=\"email\"\n            autoCapitalize=\"none\"\n          />\n          {is_prototype && <ValidationError prefix=\"Email\" field=\"email\" errors={state.errors} />}\n          \n          <TextInput\n            style={[styles.input, styles.messageInput]}\n            placeholder=\"Your Message\"\n            value={message}\n            onChangeText={setMessage}\n            multiline\n            name=\"message\"\n          />\n          {is_prototype && <ValidationError prefix=\"Message\" field=\"message\" errors={state.errors} />}\n          \n          {successMessage ? (\n            <Text style={styles.successMessage}>\n              {successMessage}\n            </Text>\n          ) : null}\n          \n          <TouchableOpacity \n            style={[styles.button, isSubmitting && styles.disabledButton]} \n            onPress={handleSubmit}\n            disabled={isSubmitting || (is_prototype && state.submitting)}\n          >\n            <Text style={styles.buttonText}>\n              {isSubmitting || (is_prototype && state.submitting) ? 'Sending...' : 'Send Message'}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  messageInput: {\n    height: 120,\n    textAlignVertical: 'top',\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 10,\n  },\n  buttonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  successMessage: {\n    color: theme.colors.success,\n    textAlign: 'center',\n    marginBottom: 10,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n    width: '100%',\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n});\n\nexport default ContactUs;\n","import React, { useState, useRef, useEffect, forwardRef, memo } from 'react';\nimport { View, TextInput, StyleSheet, Platform } from 'react-native';\nimport { IconButton, useTheme } from 'react-native-paper';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nconst SearchBar = forwardRef(({ placeholder, onChangeText, initialValue = '', style }, ref) => {\n  const { colors } = useTheme();\n  const [value, setValue] = useState(initialValue);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (initialValue !== value) {\n      setValue(initialValue);\n    }\n  }, [initialValue]);\n\n  const handleChangeText = (text) => {\n    if (text !== value) {\n      setValue(text);\n      onChangeText(text);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style, { backgroundColor: colors.surface }]}>\n      <IconButton\n        icon={() => <MaterialIcons name=\"search\" size={24} color={colors.primary} />}\n        onPress={() => inputRef.current?.focus()}\n      />\n      <TextInput\n        ref={inputRef}\n        style={[styles.input, { color: colors.text }]}\n        placeholder={placeholder}\n        placeholderTextColor={colors.placeholder}\n        value={value}\n        onChangeText={handleChangeText}\n        autoFocus={true}\n        keyboardType=\"default\"\n        returnKeyType=\"search\"\n        blurOnSubmit={false}\n      />\n    </View>\n  );\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 25, // Make it circular\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    paddingVertical: 8,\n    paddingRight: 8,\n  },\n});\n\nexport default memo(SearchBar);\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { View, StyleSheet, FlatList, TouchableOpacity, Platform, SafeAreaView, StatusBar, TouchableWithoutFeedback } from 'react-native';\nimport { Chip, Card, Title, Paragraph, Button, Portal, Modal, useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport SearchBar from '../components/SearchBar';\nimport { mockClients } from '../data/mockData';\n\nconst Clients = ({ navigation }) => {\n  const { colors } = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilters, setSelectedFilters] = useState([]);\n  const [tempFilters, setTempFilters] = useState([]);\n  const [isFilterModalVisible, setIsFilterModalVisible] = useState(false);\n  const [clients, setClients] = useState([]);\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      setClients(mockClients);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const filters = [\n    { label: 'Dog Sitting', value: 'Dog' },\n    { label: 'Cat Sitting', value: 'Cat' },\n    { label: 'Exotic Sitting', value: 'Exotic' },\n    { label: 'Last Week', value: 'week' },\n    { label: 'Last Month', value: 'month' },\n    { label: 'Last Year', value: 'year' },\n  ];\n\n  const toggleFilter = useCallback((filter) => {\n    setTempFilters(prevFilters =>\n      prevFilters.includes(filter)\n        ? prevFilters.filter(f => f !== filter)\n        : [...prevFilters, filter]\n    );\n  }, []);\n\n  const applyFilters = useCallback(() => {\n    setSelectedFilters(tempFilters);\n    setIsFilterModalVisible(false);\n  }, [tempFilters]);\n\n  const filteredClients = useMemo(() => {\n    return clients.filter(client => {\n      const matchesSearch = client.name.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesFilters = selectedFilters.length === 0 || selectedFilters.every(filter => {\n        if (['Dog', 'Cat', 'Exotic'].includes(filter)) {\n          return client.pet_types.includes(filter);\n        }\n        const lastBookingDate = new Date(client.last_booking);\n        const currentDate = new Date();\n        switch (filter) {\n          case 'week':\n            const weekAgo = new Date();\n            weekAgo.setDate(currentDate.getDate() - 7);\n            return lastBookingDate >= weekAgo;\n          case 'month':\n            const monthAgo = new Date();\n            monthAgo.setMonth(currentDate.getMonth() - 1);\n            return lastBookingDate >= monthAgo;\n          case 'year':\n            const yearAgo = new Date();\n            yearAgo.setFullYear(currentDate.getFullYear() - 1);\n            return lastBookingDate >= yearAgo;\n          default:\n            return true;\n        }\n      });\n      return matchesSearch && matchesFilters;\n    });\n  }, [clients, searchQuery, selectedFilters]);\n\n  const renderClient = useCallback(({ item }) => (\n    <TouchableOpacity onPress={() => navigation.navigate('ClientHistory', { clientId: item.id })}>\n      <Card style={styles.clientCard}>\n        <Card.Content>\n          <Title>{item.name}</Title>\n          <Paragraph>Last booking: {item.last_booking}</Paragraph>\n          <View style={styles.petTypes}>\n            {item.pet_types.map(pet => (\n              <Chip key={pet} style={styles.petChip}>{pet}</Chip>\n            ))}\n          </View>\n        </Card.Content>\n      </Card>\n    </TouchableOpacity>\n  ), [navigation]);\n\n  const handleSearchChange = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n\n  return Platform.OS === 'web' ? (\n    <View style={styles.container}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </View>\n  ) : (\n    <SafeAreaView style={[styles.container, styles.androidSafeArea]}>\n      <View style={styles.searchAndFilterContainer}>\n        <TouchableWithoutFeedback onPress={() => {}}>\n          <SearchBar\n            placeholder=\"Search clients\"\n            onChangeText={handleSearchChange}\n            initialValue={searchQuery}\n            style={styles.searchBar}\n          />\n        </TouchableWithoutFeedback>\n        <Button \n          mode=\"outlined\" \n          onPress={() => {\n            setTempFilters(selectedFilters);\n            setIsFilterModalVisible(true);\n          }}\n          style={styles.filterButton}\n        >\n          Filters\n        </Button>\n      </View>\n      {filteredClients.length > 0 ? (\n        <FlatList\n          data={filteredClients}\n          renderItem={renderClient}\n          keyExtractor={item => item.id}\n          contentContainerStyle={styles.clientList}\n          keyboardShouldPersistTaps=\"handled\"\n          removeClippedSubviews={false}\n        />\n      ) : (\n        <View style={styles.noClientsContainer}>\n          <Paragraph>No clients match your search or filters.</Paragraph>\n        </View>\n      )}\n      <Portal>\n        <Modal visible={isFilterModalVisible} onDismiss={() => setIsFilterModalVisible(false)} contentContainerStyle={styles.modalContainer}>\n          <TouchableOpacity onPress={() => setIsFilterModalVisible(false)} style={styles.closeIcon}>\n            <MaterialCommunityIcons name=\"close\" size={24} color=\"black\" />\n          </TouchableOpacity>\n          <Title style={styles.modalTitle}>Filters</Title>\n          <View style={styles.filtersContainer}>\n            {filters.map(filter => (\n              <Chip\n                key={filter.value}\n                style={styles.filterChip}\n                selected={tempFilters.includes(filter.value)}\n                onPress={() => toggleFilter(filter.value)}\n                icon={tempFilters.includes(filter.value) ? ({size, color}) => (\n                  <MaterialCommunityIcons name=\"check\" size={size} color={color} />\n                ) : undefined}\n              >\n                {filter.label}\n              </Chip>\n            ))}\n          </View>\n          <Button mode=\"contained\" onPress={applyFilters} style={styles.applyButton}>\n            Apply Filters\n          </Button>\n        </Modal>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  androidSafeArea: {\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  searchAndFilterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    margin: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  searchBar: {\n    flex: 1,\n    marginRight: 8,\n    marginLeft: Platform.OS === 'web' ? 0 : 8,\n  },\n  filterButton: {\n    minWidth: 80,\n    marginRight: Platform.OS === 'web' ? 0 : 8,\n  },\n  clientList: {\n    padding: 16,\n  },\n  clientCard: {\n    marginBottom: 16,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '100%',\n  },\n  petTypes: {\n    flexDirection: 'row',\n    marginTop: 8,\n  },\n  petChip: {\n    marginRight: 8,\n  },\n  noClientsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContainer: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 5,\n    maxWidth: 600,\n    alignSelf: 'center',\n    width: '90%',\n  },\n  modalTitle: {\n    marginBottom: 10,\n  },\n  filtersContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 20,\n  },\n  filterChip: {\n    margin: 4,\n  },\n  applyButton: {\n    marginTop: 10,\n  },\n  closeButton: {\n    marginTop: 10,\n    alignSelf: 'flex-end',\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 10,\n    right: 10,\n    zIndex: 1,\n  },\n});\n\nexport default Clients;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Modal,\n  View,\n  Text,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  Switch,\n} from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport DatePicker from './DatePicker';\nimport { theme } from '../styles/theme';\nimport { MaterialIcons } from '@expo/vector-icons';\n\nexport const CostCalculationModal = ({\n  visible,\n  onClose,\n  serviceName,\n  additionalRates = [],\n  professionalName = \"Professional\",\n  onContactPress,\n}) => {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [additionalAnimals, setAdditionalAnimals] = useState(0);\n  const [isHolidayRate, setIsHolidayRate] = useState(false);\n  const [selectedRates, setSelectedRates] = useState({});\n  const [totalCost, setTotalCost] = useState(0);\n  const [platformFees, setPlatformFees] = useState(0);\n\n  const BASE_RATE = 20;\n  const ADDITIONAL_ANIMAL_RATE = 10;\n  const HOLIDAY_RATE = 40;\n  const PLATFORM_FEE_PERCENTAGE = 0.10;\n\n  const calculateTotalCost = () => {\n    // Start with either holiday rate or base rate\n    let subtotal = isHolidayRate ? HOLIDAY_RATE : BASE_RATE;\n    \n    // Add additional animal costs\n    subtotal += additionalAnimals * ADDITIONAL_ANIMAL_RATE;\n    \n    // Add any selected additional rates\n    Object.entries(selectedRates).forEach(([_, rate]) => {\n      if (rate.selected) {\n        subtotal += rate.amount;\n      }\n    });\n\n    setTotalCost(subtotal);\n    setPlatformFees(subtotal * PLATFORM_FEE_PERCENTAGE);\n  };\n\n  useEffect(() => {\n    // Initialize selectedRates object\n    const ratesObj = {};\n    additionalRates.forEach(rate => {\n      ratesObj[rate.title] = { ...rate, selected: false };\n    });\n    setSelectedRates(ratesObj);\n  }, [additionalRates]);\n\n  useEffect(() => {\n    calculateTotalCost();\n  }, [additionalAnimals, isHolidayRate, selectedRates]);\n\n  return (\n    <Modal\n      visible={visible}\n      animationType=\"slide\"\n      transparent={true}\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <TouchableOpacity \n            style={styles.closeIcon} \n            onPress={onClose}\n          >\n            <MaterialIcons name=\"close\" size={24} color={theme.colors.text} />\n          </TouchableOpacity>\n\n          <Text style={styles.modalTitle}>{serviceName}</Text>\n          \n          <ScrollView \n            style={styles.scrollContent} \n            showsVerticalScrollIndicator={true}\n            persistentScrollbar={true}\n          >\n            {/* Date Selection\n            <View style={styles.dateSection}>\n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>Start Date:</Text>\n                <DatePicker\n                  value={startDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setStartDate(date);\n                  }}\n                />\n              </View>\n              \n              <View style={styles.dateColumn}>\n                <Text style={styles.dateLabel}>End Date:</Text>\n                <DatePicker\n                  value={endDate}\n                  mode=\"date\"\n                  onChange={(event, date) => {\n                    if (date) setEndDate(date);\n                  }}\n                />\n              </View>\n            </View> */}\n\n            {/* Base Rate */}\n            <View style={styles.rateItem}>\n              <Text>Base Rate</Text>\n              <Text>${BASE_RATE}</Text>\n            </View>\n\n            {/* Additional Animals */}\n            <View style={styles.rateItem}>\n              <Text>Additional Animals (${ADDITIONAL_ANIMAL_RATE} each)</Text>\n              <View style={styles.counterContainer}>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(Math.max(0, additionalAnimals - 1))}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"remove\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <Text style={styles.counterText}>{additionalAnimals}</Text>\n                <TouchableOpacity \n                  onPress={() => setAdditionalAnimals(additionalAnimals + 1)}\n                  style={styles.counterButton}\n                >\n                  <MaterialIcons name=\"add\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n\n            {/* Holiday Rate */}\n            <View style={styles.rateItem}>\n              <Text>Holiday Rate (${HOLIDAY_RATE})</Text>\n              <Switch\n                value={isHolidayRate}\n                onValueChange={setIsHolidayRate}\n                trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n              />\n            </View>\n\n            {/* Additional Rates */}\n            {Object.entries(selectedRates).map(([title, rate]) => (\n              <View key={title} style={styles.rateItem}>\n                <Text>{title} (${rate.amount})</Text>\n                <Switch\n                  value={rate.selected}\n                  onValueChange={(value) => {\n                    setSelectedRates({\n                      ...selectedRates,\n                      [title]: { ...rate, selected: value },\n                    });\n                  }}\n                  trackColor={{ false: \"#767577\", true: theme.colors.primary }}\n                />\n              </View>\n            ))}\n\n            {/* Total and Fees */}\n            <View style={styles.totalSection}>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Subtotal:</Text>\n                <Text style={styles.totalAmount}>${totalCost}</Text>\n              </View>\n              <View style={styles.totalItem}>\n                <Text style={styles.totalLabel}>Service Fees (10%):</Text>\n                <Text style={styles.totalAmount}>${platformFees.toFixed(2)}</Text>\n              </View>\n              <View style={[styles.totalItem, styles.finalTotal]}>\n                <Text style={[styles.totalLabel, styles.finalTotalText]}>Total Cost:</Text>\n                <Text style={[styles.totalAmount, styles.finalTotalText]}>${(totalCost + platformFees).toFixed(2)}</Text>\n              </View>\n            </View>\n          </ScrollView>\n\n          <TouchableOpacity \n            style={styles.contactButton} \n            onPress={onContactPress}\n          >\n            <Text style={styles.contactButtonText}>Contact {professionalName}</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 20,\n    paddingRight: 15,\n    width: '90%',\n    maxHeight: '43%',\n    maxWidth: 400,\n  },\n  scrollContent: {\n    flexGrow: 0,\n    marginBottom: 10,\n    paddingRight: 12,\n    marginRight: -7,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    marginBottom: 15,\n    textAlign: 'center',\n    marginTop: 5,\n    paddingHorizontal: 30,\n  },\n  dateSection: {\n    marginBottom: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 16,\n  },\n  dateColumn: {\n    flex: 1,\n  },\n  dateLabel: {\n    marginBottom: 8,\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.text,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  counterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  counterButton: {\n    padding: 5,\n  },\n  counterText: {\n    marginHorizontal: 10,\n    fontSize: theme.fontSizes.medium,\n  },\n  totalSection: {\n    marginTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 15,\n  },\n  totalItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  finalTotal: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 10,\n    marginTop: 5,\n  },\n  totalLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  totalAmount: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n  },\n  finalTotalText: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  closeButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  closeButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n  closeIcon: {\n    position: 'absolute',\n    right: 15,\n    top: 15,\n    zIndex: 1,\n    padding: 5,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  contactButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n  },\n});\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { CostCalculationModal } from './CostCalculationModal';\nimport { mockConversations, mockMessages, createNewConversation } from '../data/mockData';\n\nexport const ServiceCard = ({ \n  service, \n  onHeartPress, \n  isFavorite, \n  professionalName,\n  professionalId,\n  navigation\n}) => {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalId\n    );\n\n    if (existingConversation) {\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    } else {\n      // Create new conversation using the helper function\n      const newConversation = createNewConversation(\n        professionalId,\n        professionalName,\n        'current_user_id', // Replace with actual current user ID\n        'Me' // Current user name\n      );\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Navigate directly to MessageHistory\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id,\n        professionalName: professionalName,\n        professionalId: professionalId\n      });\n    }\n    setIsModalVisible(false);\n  };\n\n  return (\n    <View style={styles.serviceCard}>\n      {/* <TouchableOpacity \n        style={styles.heartButton}\n        onPress={() => onHeartPress(service.id)}\n      >\n        <MaterialIcons \n          name={isFavorite ? \"favorite\" : \"favorite-border\"} \n          size={24} \n          color={theme.colors.primary} \n        />\n      </TouchableOpacity> */}\n      \n      <View style={styles.contentContainer}>\n        <MaterialCommunityIcons name={service.icon} size={30} color={theme.colors.primary} />\n        <Text numberOfLines={2} style={styles.serviceName}>{service.name}</Text>\n        <Text style={styles.startingPrice}>Starting at ${service.startingPrice}</Text>\n        <View style={styles.animalTypeContainer}>\n          {service.animalTypes.map((type, index) => (\n            <Text key={index} style={styles.animalType}>{type}</Text>\n          ))}\n        </View>\n      </View>\n\n      <TouchableOpacity \n        style={styles.calculateButton}\n        onPress={() => setIsModalVisible(true)}\n      >\n        <Text style={styles.calculateButtonText}>Calculate Cost</Text>\n      </TouchableOpacity>\n\n      <CostCalculationModal\n        visible={isModalVisible}\n        onClose={() => setIsModalVisible(false)}\n        serviceName={service.name}\n        additionalRates={service.additionalRates || []}\n        professionalName={professionalName}\n        professionalId={professionalId}\n        onContactPress={handleContactPress}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  serviceCard: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n    padding: 12,\n    marginRight: 12,\n    width: 280,\n    height: 220,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    position: 'relative',\n    justifyContent: 'space-between',\n  },\n  heartButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    zIndex: 1,\n  },\n  serviceName: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: '600',\n    marginTop: 8,\n    marginBottom: 6,\n    fontFamily: theme.fonts.header.fontFamily,\n    flexShrink: 1,\n  },\n  startingPrice: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.secondary,\n    marginBottom: 6,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  animalTypeContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 4,\n    marginBottom: 8,\n  },\n  animalType: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.secondary,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calculateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 'auto',\n  },\n  calculateButtonText: {\n    color: theme.colors.surface,\n    fontSize: theme.fontSizes.medium,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n});\n\nexport default ServiceCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, Image, TouchableOpacity, Platform, useWindowDimensions, Modal } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { Calendar } from 'react-native-calendars';\nimport { mockPets } from '../data/mockData';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\nimport ServiceCard from '../components/ServiceCard';\nimport { mockServicesForCards } from '../data/mockData';\nimport { mockConversations, mockMessages } from '../data/mockData';\n// Conditionally import WebMap component\nconst WebMap = Platform.OS === 'web' ? require('react-leaflet').MapContainer : null;\n\n// Mock API function to fetch profile data\nconst fetchProfileData = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        // profilePhoto: 'https://example.com/profile-photo.jpg',\n        bio: \"Hi! I'm an experienced pet professional who loves all animals. I have 5 years of experience caring for dogs, cats, and exotic pets.\",\n        petPhotos: [\n          // 'https://example.com/pet-photo-1.jpg',\n          // 'https://example.com/pet-photo-2.jpg',\n        ],\n        services: ['Dog Boarding', 'Dog Walking', 'Drop-In Visits', 'House Sitting'],\n        rates: {\n          boarding: '35',\n          daycare: '25',\n          houseSitting: '40',\n          dropInVisits: '20',\n          dogWalking: '15'\n        },\n        name: 'John Doe',\n        location: 'New York, NY'\n      });\n    }, 1000);\n  });\n};\n\nconst mockReviews = [\n  {\n    id: 1,\n    name: 'Noah M.',\n    service: 'Fish Tank Cleaning',\n    date: 'Dec 02, 2024',\n    rating: 5,\n    text: 'Dina was fantastic with our dog! Sent lots of photos and clearly made sure she was comfortable. Will definitely use again!',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 2,\n    name: 'Kaily J.',\n    service: 'Ferrier',\n    date: 'Nov 26, 2024',\n    rating: 4,\n    text: 'Dina always takes such good care of Elijah. He was having tummy problems today and she kept me updated all day on how he was doing.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 3,\n    name: 'Nadia U.',\n    service: 'Reptile Boarding & Habitat Maintenance',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'She took such great care of our puppy! Sent pictures and videos the whole time, her backyard was super nice and clean ❤️ my puppy was definitely in great hands! Bonus her dogs were so sweet with our puppy.',\n    photo: 'https://via.placeholder.com/50'\n  },\n  {\n    id: 4,\n    name: 'Vanessa G.',\n    service: 'Bird Feeding',\n    date: 'Nov 19, 2024',\n    rating: 5,\n    text: 'Dina was great! She communicated through the whole stay and sent plenty of videos and photos. 10/10',\n    photo: 'https://via.placeholder.com/50'\n  }\n];\n\nconst useResponsiveLayout = () => {\n  const { width } = useWindowDimensions();\n  const [isWideScreen, setIsWideScreen] = useState(true);\n\n  useEffect(() => {\n    setIsWideScreen(Platform.OS === 'web' && width >= 900);\n  }, [width]);\n\n  return isWideScreen;\n};\n\n// Move this outside the component\nif (Platform.OS === 'web') {\n  const style = document.createElement('style');\n  style.textContent = `\n    .services-scroll::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    .services-scroll::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar:horizontal {\n      height: 11px;\n    }\n\n    .services-scroll::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid white;\n      background-color: rgba(0, 0, 0, .5);\n    }\n  `;\n  document.head.appendChild(style);\n}\n\nconst ProfessionalProfile = ({ route, navigation }) => {\n  const { width: windowWidth } = useWindowDimensions();\n  const [professionalData, setProfessionalData] = useState(null);\n  const [canGoBack, setCanGoBack] = useState(false);\n  const [bioModalVisible, setBioModalVisible] = useState(false);\n  const [reviewsModalVisible, setReviewsModalVisible] = useState(false);\n  const [specialistModalVisible, setSpecialistModalVisible] = useState(false);\n  const [favoriteServices, setFavoriteServices] = useState([]);\n  const [servicesModalVisible, setServicesModalVisible] = useState(false);\n  const isWideScreen = useResponsiveLayout();\n  const { is_prototype } = useContext(AuthContext);\n  const dynamicStyles = {\n    profileSection: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      display: windowWidth >= 600 ? 'flex' : 'block',\n    },\n    profileSectionMobile: {\n      backgroundColor: theme.colors.surface,\n      borderRadius: 12,\n      padding: 16,\n      marginBottom: 16,\n      alignItems: 'center',\n      width: '100%',\n      maxWidth: 500,\n      alignSelf: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    servicesBox: {\n      backgroundColor: theme.colors.surface,\n      padding: 24,\n      paddingTop: 0,\n      borderRadius: 12,\n      marginTop: 24,\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 2 },\n      shadowOpacity: 0.2,\n      shadowRadius: 4,\n      elevation: 3,\n      width: '100%',\n      maxWidth: Platform.OS === 'web' ? 600 : undefined,\n      alignSelf: 'center',\n    },\n  };\n\n  useEffect(() => {\n    // Check if we can go back and if SearchProfessionalsListing exists in history\n    const state = navigation.getState();\n    const hasHistory = state.routes.some(route => route.name === 'SearchProfessionalsListing');\n    setCanGoBack(navigation.canGoBack() && hasHistory);\n  }, [navigation]);\n\n  const handleBack = () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.removeItem('currentProfessional');\n      // Always use navigate to ensure consistent behavior\n      navigation.navigate('SearchProfessionalsListing');\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  // Handle browser back button\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handlePopState = () => {\n        handleBack();\n      };\n\n      window.addEventListener('popstate', handlePopState);\n      return () => window.removeEventListener('popstate', handlePopState);\n    }\n  }, []);\n\n  useEffect(() => {\n    const loadProfessionalData = async () => {\n      if (route?.params?.professional) {\n        setProfessionalData(route.params.professional);\n      } else if (Platform.OS === 'web') {\n        // Try to get professional data from sessionStorage on web reload\n        const storedProfessional = sessionStorage.getItem('currentProfessional');\n        if (storedProfessional) {\n          setProfessionalData(JSON.parse(storedProfessional));\n        } else {\n          // If no data, redirect back to search\n          navigation.replace('SearchProfessionalsListing');\n        }\n      }\n    };\n\n    loadProfessionalData();\n  }, [route?.params?.professional]);\n\n  // Store professional data in AsyncStorage for mobile\n  useEffect(() => {\n    if (Platform.OS !== 'web' && professionalData) {\n      AsyncStorage.setItem('currentProfessional', JSON.stringify(professionalData));\n    }\n  }, [professionalData]);\n\n  const getContentWidth = () => {\n    if (Platform.OS === 'web') {\n      return Math.min(1000, windowWidth - 32); // 32px for padding\n    }\n    return windowWidth - 32; // 16px padding on each side\n  };\n\n  const toggleFavorite = (serviceId) => {\n    setFavoriteServices(prev => \n      prev.includes(serviceId) \n        ? prev.filter(id => id !== serviceId)\n        : [...prev, serviceId]\n    );\n  };\n\n  const renderServices = () => (\n    <View style={styles.servicesSection}>\n      <View style={styles.sectionHeader}>\n        <Text style={styles.sectionTitle}>Services</Text>\n        <TouchableOpacity \n          style={styles.seeAllButton}\n          onPress={() => setServicesModalVisible(true)}\n        >\n          <Text style={styles.seeAllButtonText}>See All</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={styles.servicesWrapper}>\n        <ScrollView \n          horizontal\n          showsHorizontalScrollIndicator={true}\n          style={[\n            styles.servicesScroll,\n            Platform.OS === 'web' && { \n              className: 'services-scroll',\n              overflowX: 'scroll'\n            }\n          ]}\n          contentContainerStyle={styles.servicesScrollContent}\n          persistentScrollbar={true}\n        >\n          {mockServicesForCards.slice(0, 5).map(service => (\n            <ServiceCard \n              key={service.id}\n              service={service}\n              onHeartPress={toggleFavorite}\n              isFavorite={favoriteServices.includes(service.id)}\n              professionalName={professionalData.name}\n              professionalId={professionalData.id}\n              navigation={navigation}\n            />\n          ))}\n        </ScrollView>\n      </View>\n    </View>\n  );\n\n  if (!professionalData) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Professional Profile\" \n          onBackPress={handleBack}\n        />\n        <View style={styles.centered}>\n          <Text>Loading...</Text>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  const renderProfilePhoto = () => {\n    if (professionalData.profilePicture) {\n      return <Image source={{ uri: professionalData.profilePicture }} style={styles.profilePhoto} />;\n    }\n    return (\n      <View style={[styles.profilePhoto, styles.profilePhotoPlaceholder]}>\n        <MaterialCommunityIcons name=\"account\" size={80} color={theme.colors.primary} />\n      </View>\n    );\n  };\n\n  const renderSpecialistExperience = () => (\n    <View style={styles.specialistSection}>\n      <Text style={styles.sectionTitle}>Specialist Experience</Text>\n      <TruncatedText text={professionalData?.bio || ''} />\n    </View>\n  );\n\n  const renderRatingStars = () => (\n    <View style={styles.ratingContainer}>\n      <MaterialCommunityIcons name=\"star\" size={24} color={theme.colors.primary} />\n      <Text style={styles.rating}>{professionalData.reviews}</Text>\n      <Text style={[styles.reviewCount, { marginLeft: 12 }]}>({professionalData.reviewCount || 50} reviews)</Text>\n    </View>\n  );\n\n  // Add new component for truncated text with Read More\n  const TruncatedText = ({ text, maxLines = 3 }) => (\n    <View>\n      <Text \n        numberOfLines={maxLines} \n        style={styles.specialistText}\n      >\n        {text}\n      </Text>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setSpecialistModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderMap = () => {\n    if (Platform.OS === 'web' && WebMap) {\n      const { MapContainer, TileLayer, Marker } = require('react-leaflet');\n      return (\n        <View style={styles.mapContainer}>\n          <MapContainer\n            center={[38.8339, -104.8214]} // Default coordinates\n            zoom={13}\n            style={{ height: 400, width: '100%' }}\n          >\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            <Marker position={[38.8339, -104.8214]} />\n          </MapContainer>\n        </View>\n      );\n    }\n    // For mobile, return null or a placeholder\n    return null;\n  };\n\n  const renderPets = () => {\n    if (!mockPets || mockPets.length === 0) return null;\n    \n    return (\n      <View style={styles.petsSection}>\n        <Text style={styles.sectionTitle}>Pets</Text>\n        {mockPets.map((pet, index) => (\n          <View key={pet.id} style={styles.petItem}>\n            <View style={styles.petPhoto}>\n              <MaterialCommunityIcons \n                name={pet.animal_type.toLowerCase() === 'dog' ? 'dog' : \n                      pet.animal_type.toLowerCase() === 'cat' ? 'cat' : 'snake'} \n                size={30} \n                color={theme.colors.primary} \n              />\n            </View>\n            <View style={styles.petInfo}>\n              <Text style={styles.petName}>{pet.name}</Text>\n              <Text style={styles.petBreed}>{pet.breed}</Text>\n              <Text style={styles.petDetails}>\n                {`${pet.weight} lbs, ${pet.age.years} years${pet.age.months ? ` ${pet.age.months} months` : ''}`}\n              </Text>\n            </View>\n          </View>\n        ))}\n      </View>\n    );\n  };\n\n  const styles2 = StyleSheet.create({\n    modalContent: {\n      backgroundColor: theme.colors.background,\n      padding: 24,\n      borderRadius: 12,\n      width: Platform.OS === 'web' ? \n        (windowWidth <= 650 ? '90%' : '60%') : \n        '90%',\n      maxWidth: 800,\n      maxHeight: '90%',\n    },\n  });\n\n  // Create services array from professionalData\n  const services = [\n    { name: 'Boarding', price: \"25\" },\n    { name: 'Doggy Day Care', price: \"30\" },\n    { name: 'House Sitting', price: \"40\" },\n    { name: 'Drop-In Visits', price: \"35\" },\n    { name: 'Dog Walking', price: \"45\" }\n  ];\n\n  const HomeFeature = ({ text }) => (\n    <View style={styles.featureBubble}>\n      <Text style={styles.featureText}>{text}</Text>\n    </View>\n  );\n\n  const renderReviews = () => (\n    <View style={styles.reviewsSection}>\n      <Text style={styles.sectionTitle}>Reviews</Text>\n      <View style={styles.reviewsGrid}>\n        {mockReviews.slice(0, 4).map(renderReview)}\n      </View>\n      <TouchableOpacity \n        style={styles.readMoreButton}\n        onPress={() => setReviewsModalVisible(true)}\n      >\n        <Text style={styles.readMoreText}>Read more reviews</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderReview = (review) => (\n    <View key={review.id} style={styles.reviewItem}>\n      <View style={styles.reviewHeader}>\n        <Image source={{ uri: review.photo }} style={styles.reviewerPhoto} />\n        <View style={styles.reviewerInfo}>\n          <Text style={styles.reviewerName}>{review.name}</Text>\n          <View style={styles.reviewMeta}>\n            <View style={styles.starContainer}>\n              {[...Array(5)].map((_, index) => (\n                <MaterialCommunityIcons\n                  key={index}\n                  name={index < review.rating ? \"star\" : \"star-outline\"}\n                  size={16}\n                  color={theme.colors.primary}\n                />\n              ))}\n            </View>\n            <View style={styles.serviceInfo}>\n              <MaterialCommunityIcons name=\"home\" size={16} color={theme.colors.secondary} />\n              <Text style={styles.serviceText}>{review.service} • {review.date}</Text>\n            </View>\n          </View>\n        </View>\n      </View>\n      <Text style={styles.reviewText}>{review.text}</Text>\n    </View>\n  );\n\n  const renderHomeSection = () => (\n    <View style={styles.homeSection}>\n      <Text style={styles.sectionTitle}>Home</Text>\n      <View style={styles.homeFeaturesGrid}>\n        <HomeFeature text=\"No children present\" />\n        <HomeFeature text=\"Has security system\" />\n        <HomeFeature text=\"Non-smoking household\" />\n        <HomeFeature text=\"Has 2 dogs\" />\n        <HomeFeature text=\"Dogs allowed on bed\" />\n        <HomeFeature text=\"Dogs allowed on furniture\" />\n        <HomeFeature text=\"Potty breaks every 0-2 hours\" />\n      </View>\n    </View>\n\n  );\n\n  const renderAboutSection = () => (\n    <View style={styles.aboutSection}>\n      <Text style={styles.sectionTitle}>About {professionalData.name}</Text>\n      <View style={styles.aboutSubsections}>\n        <View style={styles.communicationSection}>\n          <Text style={styles.subsectionTitle}>Communication</Text>\n          <Text>22 repeat pet parents</Text>\n          <Text>100% response rate</Text>\n          <Text>Usually responds in a few minutes</Text>\n          <Text>90% bookings with photo updates</Text>\n        </View>\n        <View style={styles.skillsSection}>\n          <Text style={styles.subsectionTitle}>Skills</Text>\n          <Text>3 years of experience</Text>\n        </View>\n      </View> \n    </View>\n  );\n\n  const renderAvailability = () => (\n    <View style={dynamicStyles.servicesBox}>\n      <View style={styles.calendarSection}>\n        <Text style={[styles.sectionTitle, { marginBottom: 0 }]}>Availability</Text>\n        <Calendar\n          style={styles.calendar}\n          theme={{\n            calendarBackground: theme.colors.surface,\n            selectedDayBackgroundColor: theme.colors.primary,\n            selectedDayTextColor: '#ffffff',\n            todayTextColor: theme.colors.primary,\n          }}\n        />\n      </View>\n    </View>\n  );\n\n  const renderGallery = () => {\n    if (is_prototype) return null;\n    return (\n      <View style={styles.gallerySection}>\n        <Text style={styles.sectionTitle}>53 Photos</Text>\n        <View style={styles.photoGrid}>\n          {[1, 2, 3, 4].map((_, index) => (\n            <Image \n              key={index}\n              source={{ uri: 'https://via.placeholder.com/150' }}\n              style={styles.galleryPhoto}\n                      />\n          ))}\n        </View>\n      </View>\n    );\n  };\n\n  const additionalStyles = StyleSheet.create({\n    servicesSection: {\n      marginBottom: 24,\n    },\n    sectionHeader: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 16,\n    },\n    seeAllButton: {\n      borderWidth: 1,\n      borderColor: theme.colors.primary,\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 8,\n      alignSelf: 'flex-start',\n      minWidth: 'auto',\n      width: 'auto',\n    },\n    seeAllButtonText: {\n      color: theme.colors.primary,\n      fontSize: 16,\n      fontWeight: '600',\n      textAlign: 'center',\n    },\n    servicesScroll: {\n      marginHorizontal: -24, // To counteract parent padding\n      paddingHorizontal: 24,\n    },\n    modalServicesGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: 16,\n      justifyContent: 'center',\n      padding: 16,\n    },\n  });\n\n  const handleContactPress = () => {\n    // Check if conversation already exists\n    const existingConversation = mockConversations.find(\n      conv => conv.professionalId === professionalData.id\n    );\n\n    if (existingConversation) {\n      // Use replace instead of navigate to avoid navigation stack issues\n      navigation.replace('MessageHistory', {\n        selectedConversation: existingConversation.id\n      });\n    } else {\n      // Create new conversation\n      const newConversation = {\n        id: `conv_${Date.now()}`,\n        name: professionalData.name,\n        professionalId: professionalData.id,\n        lastMessage: '',\n        timestamp: new Date().toISOString(),\n        unread: false,\n        bookingStatus: null\n      };\n\n      // Add new conversation to mockConversations\n      mockConversations.unshift(newConversation);\n\n      // Initialize empty messages array for this conversation\n      mockMessages[newConversation.id] = [];\n\n      // Use replace instead of navigate\n      navigation.replace('MessageHistory', {\n        selectedConversation: newConversation.id\n      });\n    }\n  };\n\n  // Add this new function to render profile section based on screen size\n  const renderProfileSection = () => {\n    if (windowWidth >= 600) {\n      // Web version - original layout\n      return (\n        <View style={[styles.leftColumn, !isWideScreen && styles.leftColumnMobile]}>\n          <View style={[styles.profileSection, !isWideScreen && styles.profileSectionMobile]}>\n            {renderProfilePhoto()}\n            <Text style={styles.name}>{professionalData.name}</Text>\n            <Text style={styles.location}>{professionalData.location}</Text>\n            {renderRatingStars()}\n            <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n              <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n            </TouchableOpacity>\n          </View>\n          {isWideScreen && renderAvailability()}\n          {isWideScreen && renderMap()}\n          {isWideScreen && mockPets && mockPets.length > 0 && renderPets()}\n        </View>\n      );\n    } else {\n      // Mobile version - fixed layout\n      return (\n        <View style={[dynamicStyles.profileSection, dynamicStyles.profileSectionMobile]}>\n          {renderProfilePhoto()}\n          <Text style={styles.name}>{professionalData.name}</Text>\n          <Text style={styles.location}>{professionalData.location}</Text>\n          {renderRatingStars()}\n          <TouchableOpacity style={styles.contactButton} onPress={handleContactPress}>\n            <Text style={styles.contactButtonText}>Contact {professionalData.name}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth=\"1200px\">\n      <BackHeader \n        title=\"Professional Profile\" \n        onBackPress={handleBack}\n      />\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={[styles.content, { width: getContentWidth() }]}>\n          <View style={[styles.twoColumnLayout, !isWideScreen && styles.singleColumnLayout]}>\n            {renderProfileSection()}\n            <View style={styles.rightColumn}>\n              {renderGallery()}\n              {renderServices()}\n              {!isWideScreen && renderAvailability()}\n              {renderSpecialistExperience()}\n              {renderReviews()}\n              {renderHomeSection()}\n              {!isWideScreen && renderMap()}\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n\n      {/* Bio Modal */}\n      <Modal\n        visible={bioModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setBioModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <Text style={styles.bioText}>{professionalData.bio}</Text>\n            <TouchableOpacity \n              style={styles.closeButton}\n              onPress={() => setBioModalVisible(false)}\n            >\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Reviews Modal */}\n      <Modal\n        visible={reviewsModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setReviewsModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Reviews</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setReviewsModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              {mockReviews.map((review) => (\n                <View key={review.id} style={styles.modalReviewItem}>\n                  {renderReview(review)}\n                </View>\n              ))}\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Specialist Experience Modal */}\n      <Modal\n        visible={specialistModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setSpecialistModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Specialist Experience</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setSpecialistModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <Text style={styles.bioText}>{professionalData?.bio}</Text>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Services Modal */}\n      <Modal\n        visible={servicesModalVisible}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => setServicesModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles2.modalContent}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>All Services</Text>\n              <TouchableOpacity \n                style={styles.modalCloseIcon}\n                onPress={() => setServicesModalVisible(false)}\n              >\n                <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n              </TouchableOpacity>\n            </View>\n            <ScrollView \n              style={styles.modalScroll}\n              contentContainerStyle={styles.modalScrollContent}\n            >\n              <View style={styles.modalServicesGrid}>\n                {mockServicesForCards.map(service => (\n                  <ServiceCard \n                    key={service.id}\n                    service={service}\n                    onHeartPress={toggleFavorite}\n                    isFavorite={favoriteServices.includes(service.id)}\n                    professionalName={professionalData.name}\n                    professionalId={professionalData.id}\n                    navigation={navigation}\n                  />\n                ))}\n              </View>\n            </ScrollView>\n          </View>\n        </View>\n      </Modal>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollViewContent: {\n    flexGrow: 1,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: 'auto',\n  },\n  content: {\n    alignSelf: 'center',\n    padding: 24,\n  },\n  topSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n    marginBottom: 24,\n  },\n  gallerySection: {\n    maxHeight: 400,\n    overflow: 'hidden',\n    marginBottom: 24,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    maxHeight: 320,\n    overflow: 'auto',\n  },\n  bottomSection: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  servicesSection: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    backgroundColor: theme.colors.background,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  aboutSection: {\n    maxHeight: 300,\n    overflow: 'auto',\n    marginBottom: 24,\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 12,\n  },\n  profileHeader: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  profileInfo: {\n    alignItems: Platform.OS === 'web' ? 'flex-start' : 'center',\n  },\n  hostingSection: {\n    marginTop: 24,\n  },\n  hostTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  weightRanges: {\n    gap: 8,\n  },\n  weightRange: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  galleryPhoto: {\n    width: Platform.OS === 'web' ? 100 : 50,\n    height: Platform.OS === 'web' ? 100 : 50,\n    borderRadius: 8,\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  profilePhoto: {\n    width: 120,\n    height: 120,\n    borderRadius: 60,\n    marginBottom: 16,\n    alignSelf: 'center',\n  },\n  profilePhotoPlaceholder: {\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 4,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    marginBottom: 8,\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  bioInput: {\n    backgroundColor: theme.colors.surface,\n  },\n  service: {\n    fontSize: 16,\n    marginBottom: 5,\n  },\n  rateItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  rateLabel: {\n    flex: 1,\n    fontSize: 16,\n  },\n  rateInput: {\n    flex: 1,\n    backgroundColor: theme.colors.surface,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  petPhoto: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: theme.colors.surface,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  addPhotoButton: {\n    width: 100,\n    height: 100,\n    margin: 5,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButton: {\n    margin: 20,\n  },\n  ratingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  rating: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginLeft: 5,\n  },\n  reviewCount: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginLeft: 4,\n  },\n  contactButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 8,\n    alignSelf: 'center',\n  },\n  contactButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    textAlign: 'center',\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20,\n  },\n  statItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 10,\n  },\n  statText: {\n    fontSize: 16,\n    marginLeft: 5,\n  },\n  bioText: {\n    fontSize: 18,\n    lineHeight: 28,\n    color: theme.colors.text,\n    overflow: 'hidden',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  serviceText: {\n    fontSize: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  servicePrice: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  skillsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  skillBadge: {\n    backgroundColor: theme.colors.surface,\n    padding: 10,\n    borderRadius: 5,\n    margin: 5,\n  },\n  skillText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  photoGallery: {\n    flexDirection: 'row',\n  },\n  calculatorText: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRatesButton: {\n    marginTop: 16,\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    borderRadius: 6,\n    backgroundColor: theme.colors.surface,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  additionalRatesText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  calendarSection: {\n    marginTop: 24,\n  },\n  readMoreButton: {\n    marginTop: 8,\n  },\n  readMoreText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewsSection: {\n    marginVertical: 32,\n    width: '100%',\n    backgroundColor: theme.colors.background,\n  },\n  reviewItem: {\n    marginBottom: 16,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    maxWidth: Platform.OS === 'web' ? 600 : undefined,\n  },\n  servicesSection: {\n    backgroundColor: theme.colors.surface,\n    padding: 24,\n    borderRadius: 12,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n    marginBottom: 24,\n  },\n  mapContainer: {\n    height: 400,\n    width: '100%',\n    marginVertical: 24,\n  },\n  map: {\n    flex: 1,\n  },\n  petsSection: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  petItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    padding: 12,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  petInfo: {\n    marginLeft: 12,\n    flex: 1,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 2,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petBreed: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    marginBottom: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.secondary,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  aboutSubsections: {\n    flexDirection: Platform.OS === 'web' ? 'row' : 'column',\n    gap: 24,\n  },\n  communicationSection: {\n    flex: 1,\n  },\n  skillsSection: {\n    flex: 1,\n  },\n  homeDetails: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n  },\n  noReviews: {\n    fontSize: 16,\n    color: theme.colors.secondary,\n    fontStyle: 'italic',\n    textAlign: 'center',\n    marginTop: 16,\n  },\n  twoColumnLayout: {\n    flexDirection: 'row',\n    gap: 24,\n  },\n  singleColumnLayout: {\n    flexDirection: 'column',\n  },\n  leftColumn: {\n    flex: Platform.OS === 'web' ? 1 : undefined,\n    maxWidth: Platform.OS === 'web' ? 400 : undefined,\n  },\n  rightColumn: {\n    flex: Platform.OS === 'web' ? 2 : undefined,\n  },\n  calendar: {\n    height: 300,\n    marginTop: 16,\n  },\n  serviceText: {\n    fontSize: 12,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '100',\n  },\n  homeFeaturesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    marginTop: 16,\n  },\n  featureBubble: {\n    backgroundColor: theme.colors.surface,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: theme.colors.outline,\n  },\n  featureText: {\n    fontSize: 14,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  reviewItem: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  reviewHeader: {\n    flexDirection: 'row',\n    marginBottom: 12,\n  },\n  reviewerPhoto: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  reviewerInfo: {\n    flex: 1,\n  },\n  reviewerName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  reviewText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '600',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  modalScroll: {\n    maxHeight: Platform.OS === 'web' ? '70vh' : '80%',\n  },\n  closeButton: {\n    marginTop: 16,\n    alignItems: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 8,\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalCloseIcon: {\n    padding: 8,\n  },\n  modalScrollContent: {\n    paddingBottom: 24,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: Platform.OS === 'web' ? 40 : 20,\n  },\n  reviewsGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    marginTop: 16,\n  },\n  reviewItem: {\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n    flex: 1,\n    minWidth: Platform.OS === 'web' ? 300 : '100%',\n    // maxWidth: Platform.OS === 'web' ? 'calc(50% - 8px)' : undefined,\n    marginBottom: 0, // Remove default margin since we're using gap\n  },\n  specialistSection: {\n    marginTop: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 12,\n  },\n  specialistText: {\n    fontSize: 16,\n    lineHeight: 24,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalReviewItem: {\n    marginBottom: 16,\n    width: '100%',\n  },\n  leftColumnMobile: {\n    maxWidth: '100%',\n    alignItems: 'center',\n  },\n  seeAllButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8,\n    alignSelf: 'flex-start',\n    minWidth: 'auto',\n    width: 'auto',\n  },\n  seeAllButtonText: {\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontWeight: '600',\n    textAlign: 'center',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalServicesGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 16,\n    justifyContent: 'center',\n    padding: 16,\n  },\n  reviewMeta: {\n    gap: 4,\n  },\n  starContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 4,\n  },\n});\n\nexport default ProfessionalProfile;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst ContractList = () => {\n  const [contracts, setContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchContracts();\n  }, []);\n\n  const fetchContracts = async () => {\n    setLoading(true);\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setContracts(response.data);\n    } catch (error) {\n      console.error('Error fetching contracts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Contracts</Text>\n      {contracts.length === 0 ? (\n        <Text style={styles.noContractsText}>No contracts yet</Text>\n      ) : (\n        contracts.map((contract) => (\n          <View key={contract.id} style={styles.card}>\n            <Text style={styles.contractTitle}>{contract.title}</Text>\n            <Text style={styles.clientName}>Client: {contract.client_name}</Text>\n            <View style={styles.buttonContainer}>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Share</Text>\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.button}>\n                <Text style={styles.buttonText}>Edit</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        ))\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 50,\n  },\n  sectionTitle: {\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  noContractsText: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  contractTitle: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractList;\n","import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, Modal, Platform, StyleSheet } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst ClientPicker = ({ clients, selectedClient, onSelectClient }) => {\n  const [showClientPicker, setShowClientPicker] = useState(false);\n\n  if (Platform.OS === 'web') {\n    return (\n      <Picker\n        selectedValue={selectedClient}\n        onValueChange={(itemValue) => onSelectClient(itemValue)}\n        style={styles.picker}\n      >\n        <Picker.Item label=\"Select a client...\" value=\"\" />\n        {clients.map(client => (\n          <Picker.Item key={client.id} label={client.name} value={client.name} />\n        ))}\n      </Picker>\n    );\n  } else {\n    return (\n      <View>\n        <TouchableOpacity\n          style={styles.dropdownButton}\n          onPress={() => setShowClientPicker(true)}\n        >\n          <Text style={styles.dropdownButtonText}>\n            {selectedClient || \"Select a client...\"}\n          </Text>\n          <MaterialCommunityIcons \n            name=\"chevron-down\" \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n        <Modal\n          visible={showClientPicker}\n          transparent={true}\n          animationType=\"slide\"\n          onRequestClose={() => setShowClientPicker(false)}\n        >\n          <View style={styles.pickerModalContainer}>\n            <View style={styles.pickerContainer}>\n              <Picker\n                selectedValue={selectedClient}\n                onValueChange={(itemValue) => {\n                  onSelectClient(itemValue);\n                  setShowClientPicker(false);\n                }}\n                style={styles.modalPicker}\n              >\n                <Picker.Item label=\"Select a client...\" value=\"\" />\n                {clients.map(client => (\n                  <Picker.Item key={client.id} label={client.name} value={client.name} />\n                ))}\n              </Picker>\n            </View>\n            <TouchableOpacity\n              style={styles.pickerCloseButton}\n              onPress={() => setShowClientPicker(false)}\n            >\n              <Text style={styles.pickerCloseButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </Modal>\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n    width: '90%',\n  },\n  modalPicker: {\n    width: '90%',\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ClientPicker;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Modal, TextInput, ScrollView, Platform } from 'react-native';\nimport { theme } from '../styles/theme';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\nimport ClientPicker from './ClientPicker'; // Import the new component\n\nconst ContractTemplate = ({ templates }) => {\n  const [isTemplateModalVisible, setTemplateModalVisible] = useState(false);\n  const [isEditModalVisible, setEditModalVisible] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [contractContent, setContractContent] = useState('');\n  const [clients, setClients] = useState([]);\n  const [selectedClient, setSelectedClient] = useState('');\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/clients/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setClients(response.data);\n    } catch (error) {\n      console.error('Error fetching clients:', error);\n    }\n  };\n\n  const handleTemplateSelect = (template) => {\n    setSelectedTemplate(template);\n    setContractContent(template.description);\n    setTemplateModalVisible(false);\n    setEditModalVisible(true);\n  };\n\n  const handleAddSignableField = () => {\n    setContractContent((prevContent) => `${prevContent}\\n[signable] ___________ [end signable]`);\n  };\n\n  const handleSubmitContract = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.post(\n        `${API_BASE_URL}/api/contracts/`,\n        {\n          template: selectedTemplate.id,\n          content: contractContent,\n          client: selectedClient,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log('Contract submitted:', response.data);\n      setEditModalVisible(false);\n    } catch (error) {\n      console.error('Error submitting contract:', error);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Create New Contract</Text>\n      <TouchableOpacity style={styles.button} onPress={() => setTemplateModalVisible(true)}>\n        <Text style={styles.buttonText}>Use Template</Text>\n      </TouchableOpacity>\n\n      {/* Template Selection Modal */}\n      <Modal\n        visible={isTemplateModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setTemplateModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Select a Template</Text>\n            <ScrollView contentContainerStyle={styles.templateGrid}>\n              {templates.length === 0 ? (\n                <Text style={styles.noTemplatesText}>No templates yet</Text>\n              ) : (\n                templates.map((template) => (\n                  <TouchableOpacity\n                    key={template.id}\n                    style={styles.templateBox}\n                    onPress={() => handleTemplateSelect(template)}\n                  >\n                    <Text style={styles.templateTitle}>{template.title}</Text>\n                  </TouchableOpacity>\n                ))\n              )}\n            </ScrollView>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setTemplateModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n\n      {/* Edit Contract Modal */}\n      <Modal\n        visible={isEditModalVisible}\n        transparent={true}\n        animationType=\"slide\"\n        onRequestClose={() => setEditModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <Text style={styles.modalTitle}>Edit Contract</Text>\n            <View style={styles.clientPickerContainer}>\n              <Text style={styles.sectionTitle}>Select a Client</Text>\n              <ClientPicker\n                clients={clients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n            </View>\n            <TextInput\n              style={styles.textArea}\n              placeholder=\"Contract Content\"\n              value={contractContent}\n              onChangeText={setContractContent}\n              multiline\n            />\n            <TouchableOpacity style={styles.button} onPress={handleAddSignableField}>\n              <Text style={styles.buttonText}>Add Signable Field</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button} onPress={handleSubmitContract}>\n              <Text style={styles.buttonText}>Submit Contract</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.closeButton} onPress={() => setEditModalVisible(false)}>\n              <Text style={styles.closeButtonText}>Close</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  noTemplatesText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n    marginTop: 20,\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  textArea: {\n    width: '100%',\n    height: 100,\n    padding: 10,\n    borderColor: theme.colors.primary,\n    borderWidth: 1,\n    borderRadius: 5,\n    marginBottom: 10,\n    textAlignVertical: 'top',\n  },\n  clientPickerContainer: {\n    width: '100%', // Ensure the client picker container takes full width\n    marginBottom: 10,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ContractTemplate;\n","import React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst ChronicleSummary = ({ chronicles }) => {\n  if (!chronicles || chronicles.length === 0) {\n    return (\n      <View style={styles.emptyContainer}>\n        <Text style={styles.emptyText}>No chronicles yet</Text>\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.sectionTitle}>Your Chronicles</Text>\n      {chronicles.map((chronicle) => (\n        <View key={chronicle.id} style={styles.card}>\n          <Text style={styles.chronicleTitle}>{chronicle.title}</Text>\n          <Text style={styles.clientName}>Client: {chronicle.client}</Text>\n          <Text style={styles.petName}>Pet: {chronicle.pets.join(', ')}</Text>\n          <Text style={styles.summary}>{chronicle.summary}</Text>\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Edit</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={styles.button}>\n              <Text style={styles.buttonText}>Send to Client</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      ))}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    marginTop: 16,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    textAlign: 'center',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n  },\n  chronicleTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  clientName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 4,\n  },\n  petName: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 2,\n  },\n  summary: {\n    fontSize: 14,\n    color: theme.colors.text,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 8,\n  },\n  button: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  buttonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default ChronicleSummary;\n","import React, { useState, useRef, useLayoutEffect } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, ScrollView, StyleSheet, Platform, Modal, Dimensions } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst { width: SCREEN_WIDTH } = Dimensions.get('window');\n\nconst QuestionInput = ({ value, onChange }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [dropdownPosition, setDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const inputRef = useRef(null);\n\n  const [layout, setLayout] = useState(null);\n\nconst handleLayout = (event) => {\n  const { x, y, width, height } = event.nativeEvent.layout;\n    setLayout({ x, y, width, height });\n  };\n\n  const presetQuestions = [\n    \"What is your favorite animal?\",\n    \"How many pets do you have?\",\n    \"What's your experience with exotic pets?\",\n    \"Do you have any allergies to animals?\",\n    \"What type of exotic pet are you interested in?\",\n    \"Have you owned an exotic pet before?\",\n    \"Are you familiar with the care requirements for exotic pets?\",\n    \"Do you have a veterinarian experienced with exotic animals?\",\n    \"What's your living situation? (House, apartment, etc.)\",\n    \"Are there any local regulations about exotic pet ownership in your area?\",\n  ];\n\n  const handleChange = (text) => {\n    onChange(text);\n  };\n\n  useLayoutEffect(() => {\n    if (showDropdown && inputRef.current) {\n      inputRef.current.measure((fx, fy, width, height, px, py) => {\n        if (!isNaN(py) && !isNaN(height)) {\n          const newTop = py + height;\n          const newLeft = px;\n          const newWidth = width;\n            \n          setDropdownPosition({ top: newTop, left: newLeft, width: newWidth });\n        }\n      });\n    }\n\n    // Lock/unlock scrolling\n    if (Platform.OS === 'web') {\n      document.body.style.overflow = showDropdown ? 'hidden' : 'auto';\n    }\n\n    return () => {\n      if (Platform.OS === 'web') {\n        document.body.style.overflow = 'auto';\n      }\n    };\n  }, [showDropdown, layout]);\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  return (\n    <View style={styles.outerContainer}>\n      <View style={styles.container}>\n        <View style={styles.inputContainer} ref={inputRef} onLayout={handleLayout}>\n          <TextInput\n            style={styles.input}\n            value={value}\n            onChangeText={handleChange}\n            placeholder=\"Enter or select a question\"\n            multiline\n          />\n          <TouchableOpacity \n            style={styles.dropdownButton}\n            onPress={toggleDropdown}\n          >\n            <MaterialCommunityIcons \n              name={showDropdown ? \"chevron-up\" : \"chevron-down\"} \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n        </View>\n        <Modal\n          visible={showDropdown}\n          transparent={true}\n          animationType=\"none\"\n          onRequestClose={toggleDropdown}\n        >\n          <TouchableOpacity\n            style={styles.modalOverlay}\n            activeOpacity={1}\n            onPress={toggleDropdown}\n          >\n            <View style={[styles.dropdownContainer, { top: dropdownPosition.top, left: dropdownPosition.left, width: dropdownPosition.width }]}>\n              <ScrollView style={styles.dropdownList}>\n                {presetQuestions.map((q, i) => (\n                  <TouchableOpacity\n                    key={i}\n                    style={styles.dropdownItem}\n                    onPress={() => {\n                      handleChange(q);\n                      toggleDropdown();\n                    }}\n                  >\n                    <Text style={styles.dropdownItemText}>{q}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            </View>\n          </TouchableOpacity>\n        </Modal>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  outerContainer: {\n    width: '100%',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  container: {\n    width: SCREEN_WIDTH - 80, // Match the answer input width\n    maxWidth: 600,\n    alignItems: 'center',\n  },\n  inputContainer: {\n    width: '100%',\n    position: 'relative',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    minHeight: 60,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    padding: 4,\n  },\n  modalOverlay: {\n    flex: 1,\n  },\n  dropdownContainer: {\n    position: 'absolute',\n    backgroundColor: theme.colors.background,\n    borderRadius: 4,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    maxHeight: 200,\n    zIndex: 1000, // Ensure it appears on top\n    ...Platform.select({\n      web: {\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      },\n      default: {\n        elevation: 4,\n      },\n    }),\n  },\n  dropdownList: {\n    maxHeight: 200,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    color: theme.colors.text,\n  },\n});\n\nexport default QuestionInput;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, ScrollView, Modal, Platform, Dimensions, Image, ActivityIndicator, Pressable } from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\nimport * as ImagePicker from 'expo-image-picker';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport QuestionInput from './QuestionInput';\nimport ClientPicker from './ClientPicker';\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst ChronicleForm = ({ onCreateChronicle }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedClient, setSelectedClient] = useState('');\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [questions, setQuestions] = useState([{ question: '', answer: '', isPreset: true }]);\n  const [summary, setSummary] = useState('');\n  const [photos, setPhotos] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [showClientPicker, setShowClientPicker] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n\n  const mockClients = [\n    { id: '1', name: 'John Doe', pets: [{ id: '1', name: 'Max' }, { id: '2', name: 'Bella' }] },\n    { id: '2', name: 'Jane Smith', pets: [{ id: '3', name: 'Luna' }, { id: '4', name: 'Charlie' }] }\n  ];\n\n  const pickImages = async () => {\n    try {\n      setIsUploading(true);\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n      });\n\n      if (!result.canceled) {\n        setPhotos([...photos, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error uploading images:', error);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index] = { ...newQuestions[index], [field]: value };\n    setQuestions(newQuestions);\n  };\n\n  const handleCreateChronicle = () => {\n    setIsCreating(true);\n    const newChronicle = {\n      id: Date.now(),\n      client: selectedClient,\n      pets: selectedPets,\n      summary,\n      questions,\n      photos,\n      title: `Chronicle for ${selectedClient}`,\n    };\n\n    setTimeout(() => {\n      console.log('Sending data to backend:', newChronicle);\n      onCreateChronicle(newChronicle);\n      setIsCreating(false);\n      setModalVisible(false);\n      resetForm();\n    }, 2000);\n  };\n\n  const resetForm = () => {\n    setSelectedClient('');\n    setSelectedPets([]);\n    setSummary('');\n    setQuestions([{ question: '', answer: '' }]);\n    setPhotos([]);\n  };\n\n  const addNewQuestion = () => {\n    setQuestions([...questions, { question: '', answer: '', isPreset: false }]);\n  };\n\n  const renderClientSelection = () => {\n    if (Platform.OS === 'web') {\n      return (\n        <Picker\n          selectedValue={selectedClient}\n          onValueChange={(itemValue) => setSelectedClient(itemValue)}\n          style={styles.picker}\n        >\n          <Picker.Item label=\"Select a client...\" value=\"\" />\n          {mockClients.map(client => (\n            <Picker.Item key={client.id} label={client.name} value={client.name} />\n          ))}\n        </Picker>\n      );\n    } else {\n      return (\n        <View>\n          <TouchableOpacity\n            style={styles.dropdownButton}\n            onPress={() => setShowClientPicker(true)}\n          >\n            <Text style={styles.dropdownButtonText}>\n              {selectedClient || \"Select a client...\"}\n            </Text>\n            <MaterialCommunityIcons \n              name=\"chevron-down\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          </TouchableOpacity>\n          <Modal\n            visible={showClientPicker}\n            transparent={true}\n            animationType=\"slide\"\n          >\n            <View style={styles.pickerModalContainer}>\n              <View style={styles.pickerContainer}>\n                <Picker\n                  selectedValue={selectedClient}\n                  onValueChange={(itemValue) => {\n                    setSelectedClient(itemValue);\n                    setShowClientPicker(false);\n                  }}\n                >\n                  <Picker.Item label=\"Select a client...\" value=\"\" />\n                  {mockClients.map(client => (\n                    <Picker.Item key={client.id} label={client.name} value={client.name} />\n                  ))}\n                </Picker>\n              </View>\n              <TouchableOpacity\n                style={styles.pickerCloseButton}\n                onPress={() => setShowClientPicker(false)}\n              >\n                <Text style={styles.pickerCloseButtonText}>Close</Text>\n              </TouchableOpacity>\n            </View>\n          </Modal>\n        </View>\n      );\n    }\n  };\n\n  const PhotoPreview = ({ photo }) => (\n    <View style={styles.photoContainer}>\n      <Image source={{ uri: photo.uri }} style={styles.photo} />\n    </View>\n  );\n\n  return (\n    <View>\n      <TouchableOpacity style={styles.createButton} onPress={() => setModalVisible(true)}>\n        <Text style={styles.createButtonText}>Create New Chronicle</Text>\n      </TouchableOpacity>\n\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => setModalVisible(false)}\n      >\n        <View style={styles.modalContainer}>\n          <View style={[styles.modalContent, Platform.OS === 'web' && styles.webModalContent]}>\n            <View style={styles.modalHeader}>\n              <Text style={styles.modalTitle}>Create New Chronicle</Text>\n              <TouchableOpacity onPress={() => setModalVisible(false)}>\n                <Text style={styles.closeButtonText}>✕</Text>\n              </TouchableOpacity>\n            </View>\n\n            <ScrollView>\n              <Text style={styles.label}>Select Client</Text>\n              <ClientPicker\n                clients={mockClients}\n                selectedClient={selectedClient}\n                onSelectClient={setSelectedClient}\n              />\n\n              <Text style={styles.label}>Select Pets</Text>\n              {selectedClient && mockClients.find(c => c.name === selectedClient)?.pets.map(pet => (\n                <TouchableOpacity\n                  key={pet.id}\n                  style={[\n                    styles.petOption,\n                    selectedPets.includes(pet.name) && styles.selectedPet\n                  ]}\n                  onPress={() => {\n                    if (selectedPets.includes(pet.name)) {\n                      setSelectedPets(selectedPets.filter(p => p !== pet.name));\n                    } else {\n                      setSelectedPets([...selectedPets, pet.name]);\n                    }\n                  }}\n                >\n                  <Text style={styles.petOptionText}>{pet.name}</Text>\n                </TouchableOpacity>\n              ))}\n\n              <Text style={styles.label}>Summary</Text>\n              <TextInput\n                style={styles.summaryInput}\n                multiline\n                value={summary}\n                onChangeText={setSummary}\n                placeholder=\"Write a summary of the chronicle\"\n                textAlignVertical=\"top\"\n              />\n\n              {questions.map((item, index) => (\n                <View key={index} style={styles.questionContainer}>\n                  <Text style={styles.label}>Question {index + 1}</Text>\n                  <QuestionInput\n                    value={item.question}\n                    onChange={(text) => updateQuestion(index, 'question', text)}\n                  />\n                  <View style={styles.answerInputContainer}>\n                    <TextInput\n                      style={[styles.input, styles.answerInput]}\n                      value={item.answer}\n                      onChangeText={(text) => updateQuestion(index, 'answer', text)}\n                      placeholder=\"Enter answer\"\n                      multiline\n                    />\n                  </View>\n                </View>\n              ))}\n\n              <TouchableOpacity style={styles.addQuestionButton} onPress={addNewQuestion}>\n                <MaterialCommunityIcons name=\"plus\" size={20} color={theme.colors.primary} />\n                <Text style={styles.addQuestionButtonText}>Add Another Question</Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.uploadButton} \n                onPress={pickImages}\n                disabled={isUploading}\n              >\n                <MaterialCommunityIcons \n                  name=\"camera\" \n                  size={24} \n                  color={isUploading ? theme.colors.disabled : theme.colors.primary} \n                />\n                <Text style={[\n                  styles.uploadButtonText,\n                  isUploading && styles.uploadingText\n                ]}>\n                  {isUploading ? 'Uploading...' : 'Upload Photos'}\n                </Text>\n                {isUploading && (\n                  <ActivityIndicator \n                    size=\"small\" \n                    color={theme.colors.primary} \n                    style={styles.uploadingSpinner} \n                  />\n                )}\n              </TouchableOpacity>\n\n              <ScrollView horizontal style={styles.photoPreview}>\n                {photos.map((photo, index) => (\n                  <PhotoPreview key={index} photo={photo} />\n                ))}\n              </ScrollView>\n            </ScrollView>\n\n            <View style={styles.modalButtonContainer}>\n              <TouchableOpacity \n                style={styles.cancelButton} \n                onPress={() => {\n                  setModalVisible(false);\n                  resetForm();\n                }}\n              >\n                <Text style={styles.cancelButtonText}>Cancel</Text>\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.submitButton} \n                onPress={handleCreateChronicle}\n                disabled={isCreating}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isCreating ? 'Creating Chronicle...' : 'Create Chronicle'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  createButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  createButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n    fontSize: 16,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: 16,\n    width: '90%',\n    maxHeight: '80%',\n  },\n  webModalContent: {\n    width: screenWidth > 600 ? '40%' : '90%',\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 8,\n  },\n  closeButtonText: {\n    fontSize: 20,\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: theme.colors.text,\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    minHeight: 20,\n  },\n  picker: {\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n    padding: Platform.OS === 'ios' ? 12 : 0,\n  },\n  petOption: {\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n    marginBottom: 8,\n    borderRadius: 4,\n  },\n  selectedPet: {\n    backgroundColor: theme.colors.primary,\n  },\n  petOptionText: {\n    color: theme.colors.text,\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 16,\n  },\n  uploadButtonText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  photoPreview: {\n    flexDirection: 'row',\n    marginTop: 16,\n  },\n  photoThumbnail: {\n    width: 80,\n    height: 80,\n    marginRight: 8,\n    borderRadius: 4,\n  },\n  questionContainer: {\n    marginBottom: 16,\n    width: '100%',\n    alignItems: 'center',\n  },\n  modalButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginRight: 8,\n  },\n  cancelButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    flex: 1,\n    marginLeft: 8,\n  },\n  submitButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  addQuestionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginTop: 8,\n    marginBottom: 16,\n    zIndex: 1, // Lower than dropdown\n  },\n  addQuestionButtonText: {\n    marginLeft: 8,\n    zIndex: 1, // Lower than dropdown\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n  },\n  answerInputContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n  answerInput: {\n    width: screenWidth - 80,\n    maxWidth: 600,\n    minHeight: 60,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 8,\n    marginTop: 8,\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  summaryInput: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    marginBottom: 8,\n    padding: 8,\n    height: 100, // Set a fixed height\n    textAlignVertical: 'top',\n    ...Platform.select({\n      web: {\n        minHeight: 100,\n      },\n      ios: {\n        paddingTop: 8, // Add some padding to the top for iOS\n      },\n      android: {\n        paddingTop: 8, // Add some padding to the top for Android\n      },\n    }),\n    ...Platform.select({\n      web: {\n        border: `1px solid ${theme.colors.border}`,\n      },\n      default: {\n        borderWidth: 1,\n        borderColor: theme.colors.border,\n      },\n    }),\n  },\n  dropdownButton: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 4,\n    padding: 12,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  dropdownButtonText: {\n    color: theme.colors.text,\n  },\n  pickerModalContainer: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  pickerContainer: {\n    backgroundColor: theme.colors.background,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 16,\n  },\n  pickerCloseButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 16,\n    alignItems: 'center',\n  },\n  pickerCloseButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  photoContainer: {\n    marginRight: 8,\n  },\n  photo: {\n    width: 100,\n    height: 100,\n    borderRadius: 8,\n  },\n});\n\nexport default ChronicleForm;\n","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, SafeAreaView, StatusBar, Platform, ActivityIndicator } from 'react-native';\nimport { theme } from '../styles/theme';\nimport ContractList from '../components/ContractList';\nimport ContractTemplate from '../components/ContractTemplate'; // Import ContractTemplate\nimport ChronicleSummary from '../components/ChronicleSummary';\nimport ChronicleForm from '../components/ChronicleForm';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyContracts = () => {\n  const [activeTab, setActiveTab] = useState('contracts');\n  const [chronicles, setChronicles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [templates, setTemplates] = useState([]);\n\n  useEffect(() => {\n    if (activeTab === 'chronicles') {\n      fetchChronicles();\n    }\n  }, [activeTab]);\n\n  const fetchChronicles = async () => {\n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    const mockChronicles = [\n      {\n        id: 1,\n        title: 'Fluffy\\'s Adventure',\n        client: 'John Doe',\n        pets: ['Fluffy'],\n        summary: 'Fluffy had a great time at the park today!',\n      },\n      {\n        id: 2,\n        title: 'Max\\'s Playdate',\n        client: 'Jane Smith',\n        pets: ['Max'],\n        summary: 'Max enjoyed playing with other dogs at the beach.',\n      },\n    ];\n\n    setChronicles(mockChronicles);\n    setLoading(false);\n  };\n\n  const fetchTemplates = async () => {\n    try {\n      const token = await AsyncStorage.getItem('userToken');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/contracts/templates/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setTemplates(response.data);\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates(); // Fetch templates when component mounts\n  }, []);\n\n  const handleCreateChronicle = (newChronicle) => {\n    setChronicles((prevChronicles) => [...prevChronicles, newChronicle]);\n  };\n\n  return (\n    <SafeAreaView style={styles.safeArea}>\n      <ScrollView contentContainerStyle={styles.scrollViewContent}>\n        <View style={styles.container}>\n          <Text style={styles.title}>My Contracts & Chronicles</Text>\n          \n          <View style={styles.tabContainer}>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'contracts' && styles.activeTab]}\n              onPress={() => setActiveTab('contracts')}\n            >\n              <Text style={[styles.tabText, activeTab === 'contracts' && styles.activeTabText]}>Contracts</Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={[styles.tab, activeTab === 'chronicles' && styles.activeTab]}\n              onPress={() => setActiveTab('chronicles')}\n            >\n              <Text style={[styles.tabText, activeTab === 'chronicles' && styles.activeTabText]}>Critter Chronicles</Text>\n            </TouchableOpacity>\n          </View>\n\n          {activeTab === 'contracts' && (\n            <View style={styles.contentContainer}>\n              <ContractTemplate templates={templates} />\n              <ContractList />\n            </View>\n          )}\n\n          {activeTab === 'chronicles' && (\n            <View style={styles.contentContainer}>\n              {loading ? (\n                <View style={styles.loadingContainer}>\n                  <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n                </View>\n              ) : (\n                <>\n                  <ChronicleForm onCreateChronicle={handleCreateChronicle} />\n                  <ChronicleSummary chronicles={chronicles} />\n                </>\n              )}\n            </View>\n          )}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  safeArea: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  container: {\n    flex: 1,\n    padding: 16,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    color: theme.colors.primary,\n    textAlign: 'center',\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    width: '100%',\n    maxWidth: 500,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginHorizontal: 4,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.text,\n    fontWeight: 'bold',\n  },\n  activeTabText: {\n    color: theme.colors.background,\n  },\n  contentContainer: {\n    width: '100%',\n    maxWidth: 500,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: 200,\n  },\n  useTemplateButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 16,\n    alignItems: 'center',\n  },\n  useTemplateButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  templateGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  templateBox: {\n    width: 100,\n    height: 100,\n    backgroundColor: theme.colors.primary,\n    margin: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  templateTitle: {\n    color: theme.colors.background,\n    textAlign: 'center',\n  },\n  closeButton: {\n    marginTop: 20,\n    padding: 10,\n    backgroundColor: theme.colors.primary,\n    borderRadius: 5,\n  },\n  closeButtonText: {\n    color: theme.colors.background,\n    fontWeight: 'bold',\n  },\n});\n\nexport default MyContracts;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TouchableOpacity, StatusBar } from 'react-native';\nimport { TextInput, Button, Text } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ChangePassword = ({ navigation }) => {\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const { isSignedIn } = useContext(AuthContext);\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    const getToken = async () => {\n      const storedToken = await AsyncStorage.getItem('userToken');\n      setToken(storedToken);\n    };\n    getToken();\n  }, []);\n\n  const handleChangePassword = async () => {\n    setError('');\n    setSuccess('');\n\n    if (newPassword !== confirmPassword) {\n      setError('New passwords do not match');\n      return;\n    }\n\n    if (!isSignedIn || !token) {\n      setError('You are not authenticated. Please log in again.');\n      return;\n    }\n\n    try {\n      console.log('Sending request to:', `${API_BASE_URL}/api/users/change-password/`);\n      console.log('Request payload:', {\n        current_password: currentPassword,\n        new_password: newPassword,\n      });\n      console.log('Auth token:', token);\n\n      const response = await axios.post(\n        `${API_BASE_URL}/api/users/change-password/`,\n        {\n          current_password: currentPassword,\n          new_password: newPassword,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      console.log('Response:', response);\n\n      if (response.status === 200) {\n        setSuccess('Password changed successfully');\n        setCurrentPassword('');\n        setNewPassword('');\n        setConfirmPassword('');\n      }\n    } catch (error) {\n      console.error('Error details:', error);\n      setError(error.response?.data?.error || 'Failed to change password');\n    }\n  };\n\n  const renderHeader = () => (\n    <View style={styles.header}>\n      <TouchableOpacity onPress={() => navigation.navigate('Settings')} style={styles.backButton}>\n        <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n      </TouchableOpacity>\n      <Text style={styles.headerText}>Change Password</Text>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {renderHeader()}\n      <View style={Platform.OS === 'web' ? styles.webContent : styles.content}>\n        <TextInput\n          label=\"Current Password\"\n          value={currentPassword}\n          onChangeText={setCurrentPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"New Password\"\n          value={newPassword}\n          onChangeText={setNewPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TextInput\n          label=\"Confirm New Password\"\n          value={confirmPassword}\n          onChangeText={setConfirmPassword}\n          secureTextEntry\n          style={styles.input}\n        />\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n        {success ? <Text style={styles.successText}>{success}</Text> : null}\n        <Button mode=\"contained\" onPress={handleChangePassword} style={styles.button}>\n          Change Password\n        </Button>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    paddingTop: Platform.OS === 'android' ? StatusBar.currentHeight : 0,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n  },\n  webContent: {\n    width: '100%',\n    maxWidth: 600,\n    alignSelf: 'center',\n    padding: 20,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  input: {\n    marginBottom: 10,\n  },\n  button: {\n    marginTop: 20,\n  },\n  errorText: {\n    color: theme.colors.error,\n    marginBottom: 10,\n  },\n  successText: {\n    color: theme.colors.success,\n    marginBottom: 10,\n  },\n});\n\nexport default ChangePassword;\n","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, SafeAreaView, TextInput as RNTextInput, TouchableOpacity, ScrollView, Image, Dimensions } from 'react-native';\nimport { Text, Appbar, Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { format } from 'date-fns';\nimport { theme } from '../styles/theme';\nimport FloatingSaveButton from '../components/FloatingSaveButton';\nimport DatePicker from '../components/DatePicker';\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst WebInput = ({ label, value, onChangeText, type = 'text', style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <textarea\n        value={value}\n        onChange={(e) => {\n          if (type === 'number' && isNaN(e.target.value)) return;\n          onChangeText(e.target.value);\n        }}\n        style={{ ...styles.webInput, ...style }} // Merge default and custom styles\n        rows={1}\n        maxLength={type === 'text' ? 1000 : undefined}\n      />\n    </View>\n  );\n};\n\nconst MobileInput = ({ label, value, onChangeText, keyboardType = 'default', maxLength, style }) => {\n  return (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>{label}</Text>\n      <RNTextInput\n        value={value}\n        onChangeText={onChangeText}\n        style={[style, styles.input]} // Ensure custom style is applied first\n        keyboardType={keyboardType}\n        maxLength={maxLength}\n        multiline={true}\n      />\n    </View>\n  );\n};\n\nconst TextInput = Platform.OS === 'web' ? WebInput : MobileInput;\n\nconst AddPet = ({ route }) => {\n  const navigation = useNavigation();\n  \n  // Get initial pet data\n  const [petData] = useState(() => {\n    if (Platform.OS === 'web') {\n      const stored = sessionStorage.getItem('editPetData');\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    }\n    return route.params?.pet || {};\n  });\n\n  // Clean URL on mount\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      if (window.location.search) {\n        window.history.replaceState({}, '', '/AddPet');\n      }\n      // Store pet data if it exists in route params\n      if (route.params?.pet) {\n        sessionStorage.setItem('editPetData', JSON.stringify(route.params.pet));\n      }\n    }\n    // Cleanup on unmount\n    return () => {\n      if (Platform.OS === 'web' && !window.location.pathname.includes('AddPet')) {\n        sessionStorage.removeItem('editPetData');\n      }\n    };\n  }, []);\n\n  // Use petData instead of route.params.pet throughout the component\n  const pet = petData;\n\n  const [petName, setPetName] = useState('');\n  const [petType, setPetType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For actual pet type\n  const [animalType, setAnimalType] = useState(pet && pet.animal_type ? pet.animal_type : ''); // For toggle buttons\n  const [weight, setWeight] = useState('');\n  const [breed, setBreed] = useState('');\n  const [ageYears, setAgeYears] = useState('');\n  const [ageMonths, setAgeMonths] = useState('');\n  const [sex, setSex] = useState(null);\n  const [friendlyWithChildren, setFriendlyWithChildren] = useState(null);\n  const [friendlyWithCats, setFriendlyWithCats] = useState(null);\n  const [friendlyWithDogs, setFriendlyWithDogs] = useState(null);\n  const [spayedNeutered, setSpayedNeutered] = useState(null);\n  const [houseTrained, setHouseTrained] = useState(null);\n  const [microchipped, setMicrochipped] = useState(null);\n  const [adoptionDate, setAdoptionDate] = useState(new Date());\n  const [description, setDescription] = useState('');\n  const [profileImage, setProfileImage] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n\n  // New state variables for Care Information\n  const [pottyBreakSchedule, setPottyBreakSchedule] = useState(null);\n  const [customPottyBreak, setCustomPottyBreak] = useState('');\n  const [energyLevel, setEnergyLevel] = useState(null);\n  const [feedingSchedule, setFeedingSchedule] = useState(null);\n  const [customFeedingSchedule, setCustomFeedingSchedule] = useState('');\n  const [leftAlone, setLeftAlone] = useState(null);\n  const [customLeftAlone, setCustomLeftAlone] = useState('');\n  const [medication, setMedication] = useState(null);\n  const [medicationDetails, setMedicationDetails] = useState('');\n  const [additionalInstructions, setAdditionalInstructions] = useState('');\n\n  // Add these new state variables at the top of the AddPet component\n  const [vetName, setVetName] = useState('');\n  const [vetAddress, setVetAddress] = useState('');\n  const [vetPhone, setVetPhone] = useState('');\n  const [vetDocuments, setVetDocuments] = useState([]);\n  const [insuranceProvider, setInsuranceProvider] = useState('');\n  const [galleryImages, setGalleryImages] = useState([]);\n  const [estimatedBirthday, setEstimatedBirthday] = useState(new Date());\n  const [showDatePicker, setShowDatePicker] = useState(false);\n\n  useEffect(() => {\n    setHasUnsavedChanges(false);\n\n    if (pet) {\n      // Populate fields with existing pet data or set to empty string if not available\n      setPetName(pet.name ? pet.name : '');\n      setPetType(pet.animal_type ? pet.animal_type : '');\n      setAnimalType(pet.animal_type === 'Cat' || pet.animal_type === 'Dog' ? pet.animal_type : 'Exotic');\n      setBreed(pet.breed ? pet.breed : '');\n      setWeight(pet.weight ? pet.weight : '');\n      setAgeYears(pet.age && pet.age.years ? pet.age.years : '');\n      setAgeMonths(pet.age && pet.age.months ? pet.age.months : '');\n      setSex(pet.sex ? pet.sex : '');\n      setFriendlyWithChildren(pet.friendlyWithChildren !== undefined ? pet.friendlyWithChildren : null);\n      setFriendlyWithCats(pet.friendlyWithCats !== undefined ? pet.friendlyWithCats : null);\n      setFriendlyWithDogs(pet.friendlyWithDogs !== undefined ? pet.friendlyWithDogs : null);\n      setSpayedNeutered(pet.spayedNeutered !== undefined ? pet.spayedNeutered : null);\n      setHouseTrained(pet.houseTrained !== undefined ? pet.houseTrained : null);\n      setMicrochipped(pet.microchipped !== undefined ? pet.microchipped : null);\n      setAdoptionDate(pet.adoptionDate ? new Date(pet.adoptionDate) : new Date()); // Default to current date if not available\n      setDescription(pet.description ? pet.description : '');\n      setEnergyLevel(pet.energyLevel ? pet.energyLevel : '');\n\n      // Check if feedingSchedule is an array\n      if (Array.isArray(pet.feedingSchedule)) {\n        setFeedingSchedule(pet.feedingSchedule[0]); // Set to 'Custom'\n        setCustomFeedingSchedule(pet.feedingSchedule[1]); // Set custom instructions\n      } else {\n        setFeedingSchedule(pet.feedingSchedule ? pet.feedingSchedule : ''); // Populate feeding schedule\n        setCustomFeedingSchedule(''); // Reset custom feeding schedule\n      }\n\n      setLeftAlone(pet.leftAlone ? pet.leftAlone : '');\n      setMedication(pet.medication ? pet.medication : '');\n      setAdditionalInstructions(pet.additionalInstructions ? pet.additionalInstructions : '');\n      setVetName(pet.vetName ? pet.vetName : '');\n      setVetAddress(pet.vetAddress ? pet.vetAddress : '');\n      setVetPhone(pet.vetPhone ? pet.vetPhone : '');\n      setInsuranceProvider(pet.insuranceProvider ? pet.insuranceProvider : '');\n      setVetDocuments(pet.veterinarian && pet.veterinarian.documents ? pet.veterinarian.documents : []);\n      setGalleryImages(pet.galleryImages ? pet.galleryImages : []);\n      \n      // Set estimated birthday if available\n      if (pet.age) {\n        const today = new Date();\n        const estimatedDate = new Date(today.getFullYear() - pet.age.years, today.getMonth() - pet.age.months);\n        setEstimatedBirthday(estimatedDate);\n      }\n    } else {\n      // If pet is not defined, initialize fields to empty strings\n      setPetName('');\n      setPetType('');\n      setAnimalType('');\n      setWeight('');\n      setAgeYears('');\n      setAgeMonths('');\n      setSex('');\n      setFriendlyWithChildren(null);\n      setFriendlyWithCats(null);\n      setFriendlyWithDogs(null);\n      setSpayedNeutered(null);\n      setHouseTrained(null);\n      setMicrochipped(null);\n      setAdoptionDate(new Date());\n      setDescription('');\n      setEnergyLevel('');\n      setFeedingSchedule(''); // Initialize feeding schedule\n      setCustomFeedingSchedule(''); // Initialize custom feeding schedule\n      setLeftAlone('');\n      setMedication('');\n      setAdditionalInstructions('');\n      setVetName('');\n      setVetAddress('');\n      setVetPhone('');\n      setInsuranceProvider('');\n      setVetDocuments([]);\n      setGalleryImages([]);\n    }\n  }, [pet]);\n\n  useEffect(() => {\n    if (ageYears && ageMonths) {\n      const today = new Date();\n      const estimatedDate = new Date(today.getFullYear() - parseInt(ageYears), today.getMonth() - parseInt(ageMonths));\n      setEstimatedBirthday(estimatedDate);\n    }\n  }, [ageYears, ageMonths]);\n\n  const calculateAge = (birthday) => {\n    const today = new Date();\n    const birthDate = new Date(birthday);\n    let ageYears = today.getFullYear() - birthDate.getFullYear();\n    let ageMonths = today.getMonth() - birthDate.getMonth();\n\n    if (ageMonths < 0) {\n      ageYears--;\n      ageMonths += 12;\n    }\n\n    setAgeYears(ageYears.toString());\n    setAgeMonths(ageMonths.toString());\n  };\n\n  const pickImage = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setProfileImage(result.assets[0].uri);\n    }\n  };\n\n  const renderEstimatedBirthday = () => (\n    <View style={styles.inputContainer}>\n      <Text style={styles.label}>Estimated Birthday:</Text>\n      <TouchableOpacity onPress={() => setShowDatePicker(true)}>\n        <Text style={styles.dateText}>\n          {format(estimatedBirthday, 'yyyy-MM-dd')}\n        </Text>\n      </TouchableOpacity>\n      {showDatePicker && (\n        <DatePicker\n          value={estimatedBirthday}\n          onChange={(date) => {\n            if (date) {\n              setEstimatedBirthday(date);\n              calculateAge(date); // Calculate age when date is selected\n              setHasUnsavedChanges(true); // Set hasUnsavedChanges to true when date is selected\n            }\n            setShowDatePicker(false);\n          }}\n        />\n      )}\n    </View>\n  );\n\n  const renderTab = (type) => (\n    <TouchableOpacity\n      style={[\n        styles.tab,\n        animalType === type && styles.activeTab,\n        type === 'Dog' && styles.leftTab,\n        type === 'Exotic' && styles.rightTab,\n      ]}\n      onPress={() => {\n        setAnimalType(type); // Set the pet type\n        setHasUnsavedChanges(true); // Set hasUnsavedChanges to true\n      }}\n    >\n      <Text style={styles.tabText}>{type}</Text>\n    </TouchableOpacity>\n  );\n\n  const renderToggleButtons = (options, value, setValue, customInput = false, customValue = '', setCustomValue = () => {}) => (\n    <View style={styles.toggleContainer}>\n      <View style={styles.buttonRow}>\n        {options.map((option) => (\n          <TouchableOpacity\n            key={option}\n            style={[styles.yesNoButton, value === option && styles.activeYesNoButton]}\n            onPress={() => setValue(option)}\n          >\n            <Text style={styles.yesNoText}>{option}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n      {((customInput && value === 'Custom') || (options.includes('Pill') && value)) && (\n        Platform.OS === 'web' ? (\n          <View style={styles.inputContainer}>\n            <textarea\n              value={customValue}\n              onChange={(e) => setCustomValue(e.target.value)}\n              style={styles.webInput}\n              placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n            />\n          </View>\n        ) : (\n          <TextInput\n            value={customValue}\n            onChangeText={setCustomValue}\n            style={[styles.customInput, { width: '100%' }]}\n            placeholder={options.includes('Pill') ? \"Enter medication details\" : \"Enter custom time\"}\n          />\n        )\n      )}\n    </View>\n  );\n\n  const renderYesNoButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === true && styles.activeYesNoButton]}\n        onPress={() => setValue(true)}\n      >\n        <Text style={styles.yesNoText}>Yes</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === false && styles.activeYesNoButton]}\n        onPress={() => setValue(false)}\n      >\n        <Text style={styles.yesNoText}>No</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const renderSexButtons = (value, setValue) => (\n    <View style={styles.yesNoContainer}>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Male' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Male'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Male</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.yesNoButton, value === 'Female' && styles.activeYesNoButton]}\n        onPress={() => {\n          setSex('Female'); // Update the sex state\n          setHasUnsavedChanges(true); // Set unsaved changes to true\n        }}\n      >\n        <Text style={styles.yesNoText}>Female</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const handleSaveProfile = () => {\n    setIsSubmitting(true);\n    setHasUnsavedChanges(false);\n\n    const petData = {\n      // Basic Info\n      petName,\n      petType: (animalType !== 'Exotic') ? animalType : petType,\n      weight,\n      breed,\n      estimatedBirthday,\n      age: {\n        years: ageYears,\n        months: ageMonths\n      },\n      sex,\n      profileImage,\n      description,\n      adoptionDate: format(adoptionDate, 'yyyy-MM-dd'),\n\n      // Temperament & Training\n      friendlyWithChildren,\n      friendlyWithCats,\n      friendlyWithDogs,\n      spayedNeutered,\n      houseTrained,\n      microchipped,\n\n      // Care Information\n      pottyBreakSchedule: pottyBreakSchedule === 'Custom' ? customPottyBreak : pottyBreakSchedule,\n      energyLevel,\n      feedingSchedule: feedingSchedule === 'Custom' ? customFeedingSchedule : feedingSchedule,\n      leftAlone: leftAlone === 'Custom' ? customLeftAlone : leftAlone,\n      medication: medication ? {\n        type: medication,\n        details: medicationDetails\n      } : null,\n      additionalInstructions,\n\n      // Health Information\n      veterinarian: {\n        name: vetName,\n        address: vetAddress,\n        phone: vetPhone,\n        documents: vetDocuments.map(doc => ({\n          uri: doc.uri,\n          type: doc.type,\n          name: doc.fileName || 'document'\n        }))\n      },\n      insuranceProvider,\n\n      // Photo Gallery\n      galleryImages: galleryImages.map(img => ({\n        uri: img.uri,\n        type: img.type,\n        name: img.fileName || 'image'\n      }))\n    };\n\n    console.log('Pet Profile Data:', JSON.stringify(petData, null, 2));\n\n    // Simulate API call\n    setTimeout(() => {\n      setIsSubmitting(false);\n      // alert('Pet profile saved successfully!');\n      // Navigate back or clear form\n      // setHasUnsavedChanges(false);\n    }, 1000);\n  };\n\n  const pickVetDocuments = async () => {\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsMultipleSelection: true,\n      quality: 1,\n    });\n\n    if (!result.canceled) {\n      setVetDocuments([...vetDocuments, ...result.assets]);\n    }\n  };\n\n  const pickGalleryImages = async () => {\n    try {\n      // Request permissions first (for iOS)\n      if (Platform.OS !== 'web') {\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n        if (status !== 'granted') {\n          alert('Sorry, we need camera roll permissions to make this work!');\n          return;\n        }\n      }\n\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 1,\n        aspect: [1, 1],\n      });\n\n      if (!result.canceled) {\n        setGalleryImages(prevImages => [...prevImages, ...result.assets]);\n      }\n    } catch (error) {\n      console.error('Error picking images:', error);\n      alert('Error selecting images. Please try again.');\n    }\n  };\n\n  // Function to handle input changes and set unsaved changes\n  const handleInputChange = (setter) => (value) => {\n    setter(value);\n    setHasUnsavedChanges(true);\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => navigation.navigate('MyPets')} style={styles.backButton}>\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n        </TouchableOpacity>\n        <Text style={styles.headerText}>\n          {pet && Object.keys(pet).length > 0 ? 'Edit Pet' : 'Add a New Pet'}\n        </Text>\n      </View>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.formContainer}>\n          {/* Pet Details Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"paw\" size={20} /> Pet Details\n          </Text>\n          {/* Profile Photo */}\n          <Text style={styles.label}>Profile Photo</Text>\n          <TouchableOpacity onPress={pickImage} style={styles.profileImageContainer}>\n            {profileImage ? (\n              <Image source={{ uri: profileImage }} style={styles.profileImage} />\n            ) : (\n              <View style={styles.profileImagePlaceholder}>\n                <MaterialCommunityIcons name=\"camera\" size={40} color=\"#ccc\" />\n              </View>\n            )}\n          </TouchableOpacity>\n          {/* Pet Type Selection */}\n          <View style={styles.tabContainer}>\n            {renderTab('Dog')}\n            {renderTab('Cat')}\n            {renderTab('Exotic')}\n          </View>\n          <TextInput \n            label=\"Pet Name\" \n            value={petName} \n            onChangeText={handleInputChange(setPetName)} \n            placeholder={pet ? pet.name : \"Enter pet name\"} \n          />\n          {animalType === 'Exotic' && (\n            <TextInput \n              label=\"Pet Type\" \n              value={pet.animal_type ? pet.animal_type : ''} \n              onChangeText={handleInputChange(setPetType)} \n              placeholder={pet ? pet.animal_type : \"Enter pet type\"} \n            />\n          )}\n          <TextInput \n            label=\"Weight (lbs)\" \n            value={weight.toString()} \n            onChangeText={handleInputChange(setWeight)} \n            keyboardType=\"numeric\" \n          />\n          {renderEstimatedBirthday()}\n          <TextInput\n            label=\"Age in Years\"\n            value={ageYears.toString() ? ageYears.toString() : ''}\n            onChangeText={handleInputChange(setAgeYears)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput\n            label=\"Age in Months\"\n            value={ageMonths === '' ? '' : ageMonths === '0' ? '0' : ageMonths.toString()}\n            onChangeText={handleInputChange(setAgeMonths)}\n            keyboardType=\"numeric\"\n            maxLength={2}\n          />\n          <TextInput \n            label=\"Breed\" \n            value={breed} \n            onChangeText={handleInputChange(setBreed)} \n          />\n          <Text style={styles.boldLabel}>Sex:</Text>\n          {renderSexButtons(sex, setSex)}\n          {(animalType === 'Dog' || animalType === 'Cat') && (\n            <>\n                <Text style={styles.boldLabel}>Friendly with Children:</Text>\n                {renderYesNoButtons(friendlyWithChildren, setFriendlyWithChildren)}\n                <Text style={styles.boldLabel}>Friendly with Cats:</Text>\n                {renderYesNoButtons(friendlyWithCats, setFriendlyWithCats)}\n                <Text style={styles.boldLabel}>Friendly with Dogs:</Text>\n                {renderYesNoButtons(friendlyWithDogs, setFriendlyWithDogs)}\n                <Text style={styles.boldLabel}>Spayed/Neutered:</Text>\n                {renderYesNoButtons(spayedNeutered, setSpayedNeutered)}\n                <Text style={styles.boldLabel}>House Trained:</Text>\n                {renderYesNoButtons(houseTrained, setHouseTrained)}\n                <Text style={styles.boldLabel}>Microchipped:</Text>\n                {renderYesNoButtons(microchipped, setMicrochipped)}\n            </>\n            )}\n          <Text style={styles.boldLabel}>Adoption Date:</Text>\n          {/* TODO: change this to the DatePicker.js file i have */}\n          {Platform.OS === 'web' ? (\n            <View style={styles.timePickerContainer}>\n              <input\n                type=\"date\"\n                value={format(adoptionDate, 'yyyy-MM-dd')}\n                onChange={(e) => {\n                  const date = new Date(e.target.value);\n                  setAdoptionDate(date);\n                }}\n                style={styles.webTimePicker}\n              />\n            </View>\n          ) : (\n            <DateTimePicker\n              value={adoptionDate}\n              mode=\"date\"\n              display=\"default\"\n              onChange={(event, selectedDate) => {\n                if (selectedDate) {\n                  setAdoptionDate(selectedDate);\n                }\n              }}\n            />\n          )}\n          <View style={{ height: 16 }} />\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Pet Description\"\n              value={description}\n              onChangeText={handleInputChange(setDescription)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n            />\n          </View>\n\n          {/* Care Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"heart\" size={20} /> Care Information\n          </Text>\n          {(petType === 'Dog') && (\n            <>\n              <Text style={styles.boldLabel}>Potty Break Schedule:</Text>\n              {renderToggleButtons(['2 hours', '4 hours', '8 hours', 'Custom'], pottyBreakSchedule, setPottyBreakSchedule, true, customPottyBreak, setCustomPottyBreak)}\n            </>\n          )}\n          <Text style={styles.boldLabel}>Energy Level:</Text>\n          {renderToggleButtons(['High', 'Moderate', 'Low'], energyLevel, setEnergyLevel)}\n          <Text style={styles.boldLabel}>Feeding Schedule:</Text>\n          {renderToggleButtons(['Morning', 'Twice a day', 'Custom'], feedingSchedule, setFeedingSchedule, true, customFeedingSchedule, setCustomFeedingSchedule)}\n          <Text style={styles.boldLabel}>Can Be Left Alone:</Text>\n          {renderToggleButtons(['<1 hour', '1-4 hours', '4-8 hours', 'Custom'], leftAlone, setLeftAlone, true, customLeftAlone, setCustomLeftAlone)}\n          <Text style={styles.boldLabel}>Medication:</Text>\n          {renderToggleButtons(['Pill', 'Topical', 'Injection'], medication, setMedication, true, medicationDetails, setMedicationDetails)}\n          {/* <View style={{ height: 16 }} /> */}\n          <View style={styles.inputContainer}>\n            <TextInput\n              label=\"Anything Else The Professional Should Know\"\n              value={additionalInstructions}\n              onChangeText={handleInputChange(setAdditionalInstructions)}\n              maxLength={1000}\n              multiline\n              style={styles.descriptionInput}\n              placeholder=\"Add custom instructions\"\n            />\n          </View>\n\n          {/* Health Information Section */}\n          <Text style={styles.sectionHeader}>\n            <MaterialCommunityIcons name=\"medical-bag\" size={20} /> Health Information\n          </Text>\n\n          <TextInput \n            label=\"Veterinarian Name\"\n            value={vetName}\n            onChangeText={handleInputChange(setVetName)}\n          />\n\n          <TextInput \n            label=\"Veterinarian Address\"\n            value={vetAddress}\n            onChangeText={handleInputChange(setVetAddress)}\n            multiline\n          />\n\n          <TextInput \n            label=\"Veterinarian Phone\"\n            value={vetPhone}\n            onChangeText={handleInputChange(setVetPhone)}\n            keyboardType=\"phone-pad\"\n          />\n\n          <TextInput \n            label=\"Pet Insurance Provider\"\n            value={insuranceProvider}\n            onChangeText={handleInputChange(setInsuranceProvider)}\n            style={styles.input}\n          />\n\n          <Text style={styles.boldLabel}>Veterinary Documents:</Text>\n          <View style={styles.documentsContainer}>\n            <TouchableOpacity style={styles.uploadButton} onPress={pickVetDocuments}>\n              <MaterialCommunityIcons name=\"file-upload\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Upload Documents</Text>\n            </TouchableOpacity>\n            {vetDocuments.length > 0 && (\n              <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.documentsList}>\n                {vetDocuments.map((doc, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: doc.uri }}\n                    style={styles.documentThumbnail}\n                  />\n                ))}\n              </ScrollView>\n            )}\n          </View>\n\n          {/* Photo Gallery Section */}\n          <View style={styles.gallerySection && styles.scrollViewContent}>\n            <Text style={styles.sectionHeader}>\n              <MaterialCommunityIcons name=\"image-multiple\" size={20} /> Photo Gallery\n            </Text>\n\n            <TouchableOpacity style={styles.uploadButton} onPress={pickGalleryImages}>\n              <MaterialCommunityIcons name=\"image-plus\" size={24} color=\"#666\" />\n              <Text style={styles.uploadText}>Add Photos</Text>\n            </TouchableOpacity>\n\n            {galleryImages.length > 0 && (\n              <View style={styles.galleryContainer}>\n                {galleryImages.map((image, index) => (\n                  <Image \n                    key={index}\n                    source={{ uri: image.uri }}\n                    style={styles.galleryThumbnail}\n                    resizeMode=\"cover\"\n                  />\n                ))}\n              </View>\n            )}\n          </View>\n        </View>\n      </ScrollView>\n      <FloatingSaveButton \n        visible={hasUnsavedChanges}\n        onSave={handleSaveProfile}\n        btnText={'Save Profile'}\n      />\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    paddingVertical: 16,\n    paddingBottom: Platform.OS === 'web' ? 16 : 80,\n  },\n  formContainer: {\n    width: Platform.OS === 'web' && screenWidth > 600 ? '40%' : '90%',\n    alignItems: 'center', // Center horizontally\n    paddingBottom: 16,\n  },\n  profileImageContainer: {\n    marginBottom: 16,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n  },\n  profileImagePlaceholder: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    borderWidth: 2,\n    borderColor: '#ccc',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inputContainer: {\n    // marginBottom: 8,\n    width: '100%', // Ensure the container takes full width\n    alignItems: 'center', // Center the input within the container\n    paddingBottom: Platform.OS === 'web' ? 0 : 40,\n    flex: 1,\n  },\n  label: {\n    fontSize: 16,\n    marginBottom: 8,\n    marginTop: 16,\n    textAlign: 'center', // Center the label text\n  },\n  boldLabel: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    textAlign: 'center',\n  },\n  sectionHeader: {\n    fontSize: 25,\n    fontWeight: 'bold',\n    marginVertical: 16,\n    alignSelf: 'flex-start',\n    textAlign: 'left',\n  },\n  webInput: {\n    width: '100%', // Full width for web input\n    minHeight: 24, // Set a minimum height\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    resize: 'none', // Prevent textarea from being resizable\n  },\n  input: {\n    width: '100%', // Full width for mobile input\n    height: 40, // Set a consistent height for mobile inputs\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n  },\n  descriptionInput: {\n    width: '100%',\n    minHeight: 90, // Increased height for better visibility\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    textAlignVertical: 'center',\n    // marginTop: 32, // Added margin to separate from the adoption date\n  },\n  customInput: {\n    width: '100%',\n    padding: 8,\n    fontSize: 16,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 4,\n    marginBottom: 8, // Add a smaller margin bottom\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  tab: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: '#ccc',\n  },\n  activeTab: {\n    backgroundColor: '#ddd',\n  },\n  leftTab: {\n    borderTopLeftRadius: 10,\n    borderBottomLeftRadius: 10,\n  },\n  rightTab: {\n    borderTopRightRadius: 10,\n    borderBottomRightRadius: 10,\n  },\n  tabText: {\n    fontSize: 16,\n  },\n  toggleContainer: {\n    width: '100%',\n    marginBottom: 8, // Reduce this from 16 to 8\n  },\n  buttonRow: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    marginBottom: 8,\n  },\n  yesNoContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 16,\n  },\n  yesNoButton: {\n    marginHorizontal: 10,\n    padding: 10,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 80, // Ensure the button is wide enough to prevent text wrapping\n  },\n  activeYesNoButton: {\n    backgroundColor: '#ddd',\n  },\n  yesNoText: {\n    fontSize: 16,\n  },\n  datePicker: {\n    marginBottom: 16,\n    padding: 10,\n    // borderWidth: 1,\n    // borderColor: '#ccc',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  dateText: {\n    fontSize: 16,\n    color: theme.colors.text,\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    textAlign: 'center',\n  },\n  saveButton: {\n    marginTop: 16,\n    width: '100%',\n  },\n  timePickerContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    marginBottom: 16,\n  },\n  webTimePicker: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    fontSize: 16,\n  },\n  documentsContainer: {\n    marginVertical: 10,\n    width: '100%',\n  },\n  uploadButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 12,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 4,\n    borderStyle: 'dashed',\n    marginBottom: 10,\n  },\n  uploadText: {\n    marginLeft: 8,\n    color: '#666',\n  },\n  documentsList: {\n    minHeight: 100 + 20, // Add fixed height to prevent collapse\n  },\n  documentThumbnail: {\n    width: 100,\n    height: 100,\n    marginRight: 10,\n    borderRadius: 4,\n  },\n  gallerySection: {\n    width: '100%',\n    marginTop: 16,\n  },\n  galleryContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    width: '100%',\n  },\n  galleryThumbnail: {\n    width: 100,\n    height: 100,\n    borderRadius: 4,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  backButton: {\n    marginRight: 16,\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n  scrollViewContent: {\n    paddingBottom: 100, // Add padding to prevent content from being hidden behind the button\n  },\n});\n\nexport default AddPet;\n","import React, { useEffect, useRef } from 'react';\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Platform } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst CustomMultiSelect = ({\n  label,\n  data,\n  value,\n  onChange,\n  placeholder,\n  isOpen,\n  setIsOpen,\n  containerStyle,\n  zIndex = 1,\n}) => {\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === 'web') {\n      const handleClickOutside = (event) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [setIsOpen]);\n\n  const getDisplayText = () => {\n    if (value.length === 0) return placeholder;\n    \n    const selectedItems = value.map(v => data.find(item => item.value === v)?.label || '');\n    const displayText = selectedItems[0];\n    \n    if (selectedItems.length > 1) {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText + ', ...';\n    } else {\n      return displayText.length > 30 \n        ? displayText.substring(0, 30) + '...'\n        : displayText;\n    }\n  };\n\n  const handleRemoveItem = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.filter(v => v !== itemValue);\n    onChange(newValue);\n  };\n\n  const handleItemSelect = (itemValue, event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newValue = value.includes(itemValue)\n      ? value.filter(v => v !== itemValue)\n      : [...value, itemValue];\n    onChange(newValue);\n  };\n\n  return (\n    <View style={[styles.container, { zIndex }, containerStyle]}>\n      {label && <Text style={styles.label}>{label}</Text>}\n      <View ref={dropdownRef} style={styles.dropdownContainer}>\n        <TouchableOpacity\n          style={styles.header}\n          onPress={() => setIsOpen(!isOpen)}\n        >\n          <Text style={value.length ? styles.selectedText : styles.placeholderText}>\n            {getDisplayText()}\n          </Text>\n          <MaterialCommunityIcons \n            name={isOpen ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.primary} \n          />\n        </TouchableOpacity>\n\n        {isOpen && (\n          <View style={[styles.dropdown, { zIndex: zIndex + 1 }]}>\n            <ScrollView \n              nestedScrollEnabled={true}\n              style={styles.scrollView}\n              contentContainerStyle={styles.scrollViewContent}\n            >\n              {data.map((item) => (\n                <TouchableOpacity\n                  key={item.value}\n                  style={styles.item}\n                  onPress={(e) => handleItemSelect(item.value, e)}\n                  activeOpacity={0.7}\n                >\n                  <Text style={styles.itemText}>{item.label}</Text>\n                  {value.includes(item.value) && (\n                    <MaterialCommunityIcons \n                      name=\"check\" \n                      size={24} \n                      color={theme.colors.primary}\n                    />\n                  )}\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n          </View>\n        )}\n\n        {!isOpen && value.length > 0 && (\n          <View style={styles.chipsContainer}>\n            {value.map((v) => {\n              const item = data.find(item => item.value === v);\n              if (!item) return null;\n              return (\n                <View key={v} style={styles.chip}>\n                  <Text style={styles.chipText}>{item.label}</Text>\n                  <TouchableOpacity \n                    onPress={(e) => handleRemoveItem(v, e)}\n                    style={styles.chipRemove}\n                  >\n                    <MaterialCommunityIcons \n                      name=\"close\" \n                      size={18} \n                      color={theme.colors.text} \n                    />\n                  </TouchableOpacity>\n                </View>\n              );\n            })}\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n  },\n  dropdownContainer: {\n    position: 'relative',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    // height: 50,\n    padding: 6,\n    // paddingHorizontal: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n  },\n  dropdown: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 4,\n    elevation: 1000,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    zIndex: 9999,\n  },\n  scrollView: {\n    maxHeight: 200,\n  },\n  scrollViewContent: {\n    flexGrow: 1,\n  },\n  item: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    color: theme.colors.placeholderText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    // padding: 8,\n    gap: 8,\n    marginTop: 8,\n  },\n  chip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 16,\n    paddingVertical: 4,\n    paddingHorizontal: 8,\n  },\n  chipText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginRight: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  chipRemove: {\n    padding: 2,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n});\n\nexport default CustomMultiSelect;","import React, { useState, useRef, useCallback } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Platform, TextInput, ScrollView } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport Dropdown from 'react-native-element-dropdown/src/components/Dropdown';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { theme } from '../styles/theme';\nimport Slider from '@react-native-community/slider';\nimport { GooglePlacesAutocomplete } from 'react-native-google-places-autocomplete';\nimport DatePicker from '../components/DatePicker';\nimport { debounce } from 'lodash';\nimport MultiSelect from 'react-native-element-dropdown/src/components/MultiSelect';\nimport CustomMultiSelect from '../components/CustomMultiSelect';\nimport { SERVICE_TYPES, GENERAL_CATEGORIES } from '../data/mockData';\nimport { SCREEN_WIDTH } from '../context/AuthContext';\n\nconst generalCategoriesData = GENERAL_CATEGORIES.map(category => ({\n  label: category,\n  value: category.toLowerCase().replace(/\\s+/g, '-')\n}));\n\nconst LocationInput = ({ value, onChange, suggestions, onSuggestionSelect }) => {\n  const locationInputRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const debouncedFetch = useCallback(\n    debounce(async (text) => {\n      if (text.length < 1) return;\n      \n      try {\n        const response = await fetch(\n          `https://nominatim.openstreetmap.org/search?format=json&q=${text}&countrycodes=us&limit=5`,\n          {\n            headers: {\n              'Accept': 'application/json',\n              'User-Agent': 'ZenExotics Mobile App'\n            }\n          }\n        );\n        const data = await response.json();\n        const suggestions = data.map(item => ({\n          display_name: item.display_name,\n          lat: item.lat,\n          lon: item.lon\n        }));\n        onSuggestionSelect(suggestions);\n      } catch (error) {\n        console.error('Error fetching locations:', error);\n        onSuggestionSelect([]);\n      }\n    }, 300),\n    [onSuggestionSelect]\n  );\n\n  return (\n    <View style={[styles.locationInputWrapper, { zIndex: 2 }]}>\n      <TextInput\n        ref={locationInputRef}\n        style={styles.locationInput}\n        placeholder=\"Enter city, state, or zip\"\n        value={value}\n        onChangeText={(text) => {\n          onChange(text);\n          if (text.length < 1) {\n            onSuggestionSelect([]);\n          } else {\n            debouncedFetch(text);\n          }\n        }}\n      />\n      {suggestions.length > 0 && (\n        <View style={styles.suggestionsWrapper}>\n          <ScrollView \n            style={styles.suggestionsContainer}\n            keyboardShouldPersistTaps=\"always\"\n            nestedScrollEnabled={true}\n          >\n            {suggestions.map((suggestion, index) => (\n              <TouchableOpacity\n                key={index}\n                style={styles.suggestionItem}\n                onPress={() => {\n                  onChange(suggestion.display_name);\n                  onSuggestionSelect([]);\n                }}\n              >\n                <Text>{suggestion.display_name}</Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst SearchRefiner = ({ onFiltersChange }) => {\n  const [filters, setFilters] = useState({\n    category: '',\n    location: '',\n    animalType: '',\n    service: '',\n    startDate: new Date(),\n    endDate: new Date(),\n    selectedPets: [],\n    minRate: 0,\n    maxRate: 250\n  });\n  const [location, setLocation] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState([]);\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [selectedGeneralCategories, setSelectedGeneralCategories] = useState([]);\n  const [selectedAnimalTypes, setSelectedAnimalTypes] = useState([]);\n  const [isServiceDropdownOpen, setIsServiceDropdownOpen] = useState(false);\n  const [isAnimalDropdownOpen, setIsAnimalDropdownOpen] = useState(false);\n  const [isGeneralDropdownOpen, setIsGeneralDropdownOpen] = useState(false);\n\n  const categories = SERVICE_TYPES.map(service => ({\n    label: service,\n    value: service.toLowerCase().replace(/\\s+/g, '-').replace(/[()]/g, '')\n  }));\n\n  const animalTypes = [\n    { label: 'Dogs', value: 'dog' },\n    { label: 'Cats', value: 'cat' },\n    { label: 'Birds', value: 'bird' },\n    { label: 'Small Animals', value: 'small-animal' }\n  ];\n\n  const handleFilterChange = (key, value) => {\n    const newFilters = { ...filters, [key]: value };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const renderPriceRange = () => (\n    <View style={styles.section}>\n      <Text style={styles.label}>Rate Range</Text>\n      <View style={styles.priceRangeContainer}>\n        <Text>${filters.minRate}</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={250}\n          step={5}\n          value={filters.maxRate}\n          onValueChange={(value) => handleFilterChange('maxRate', value)}\n          minimumTrackTintColor={theme.colors.primary}\n          maximumTrackTintColor={theme.colors.border}\n        />\n        <Text>${filters.maxRate}</Text>\n      </View>\n    </View>\n  );\n\n  const renderLocationInput = () => (\n    <View style={[styles.section, { zIndex: 4000 }]}>\n      <Text style={styles.label}>Location</Text>\n      <LocationInput\n        value={location}\n        onChange={setLocation}\n        suggestions={locationSuggestions}\n        onSuggestionSelect={setLocationSuggestions}\n      />\n    </View>\n  );\n\n  const renderDatePickers = () => (\n    <View style={styles.section}>\n      <View style={styles.datePickersContainer}>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>Start Date</Text>\n          <DatePicker\n            value={filters.startDate}\n            onChange={(date) => handleFilterChange('startDate', date)}\n          />\n        </View>\n        <View style={styles.datePickerWrapper}>\n          <Text style={styles.dateLabel}>End Date</Text>\n          <DatePicker\n            value={filters.endDate}\n            onChange={(date) => handleFilterChange('endDate', date)}\n          />\n        </View>\n      </View>\n    </View>\n  );\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Refine Search</Text>\n      \n      {renderLocationInput()}\n\n      <View style={[styles.section, { zIndex: 3001 }]}>\n        <CustomMultiSelect\n          label=\"General Categories\"\n          data={generalCategoriesData}\n          value={selectedGeneralCategories}\n          onChange={(newValue) => {\n            setSelectedGeneralCategories(newValue);\n            handleFilterChange('general', newValue);\n          }}\n          placeholder=\"Select general categories\"\n          isOpen={isGeneralDropdownOpen}\n          setIsOpen={setIsGeneralDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 3000 }]}>\n        <CustomMultiSelect\n          label=\"Animal Types\"\n          data={animalTypes}\n          value={selectedAnimalTypes}\n          onChange={(newValue) => {\n            setSelectedAnimalTypes(newValue);\n            handleFilterChange('animalTypes', newValue);\n          }}\n          placeholder=\"Select animal types\"\n          isOpen={isAnimalDropdownOpen}\n          setIsOpen={setIsAnimalDropdownOpen}\n          zIndex={2000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 2000 }]}>\n        <CustomMultiSelect\n          label=\"Service Categories\"\n          data={categories}\n          value={selectedServices}\n          onChange={(newValue) => {\n            setSelectedServices(newValue);\n            handleFilterChange('services', newValue);\n          }}\n          placeholder=\"Select services\"\n          isOpen={isServiceDropdownOpen}\n          setIsOpen={setIsServiceDropdownOpen}\n          zIndex={3000}\n        />\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderDatePickers()}\n      </View>\n\n      <View style={[styles.section, { zIndex: 1 }]}>\n        {renderPriceRange()}\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: theme.spacing.medium,\n    backgroundColor: theme.colors.background,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    height: '100%',\n  },\n  title: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: theme.spacing.large,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  section: {\n    marginBottom: theme.spacing.large,\n    position: 'relative',\n  },\n  label: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    marginBottom: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdown: {\n    height: 50,\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  datePickerContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  datePickerWrapper: {\n    maxWidth: 200,\n  },\n  dateLabel: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  rateContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  rateInput: {\n    flex: 1,\n    height: 50,\n    backgroundColor: theme.colors.inputBackground,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  priceRangeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: theme.spacing.small,\n  },\n  slider: {\n    flex: 1,\n    height: 40,\n    marginHorizontal: 10,\n  },\n  locationInputWrapper: {\n    position: 'relative',\n    marginBottom: theme.spacing.small,\n  },\n  locationInput: {\n    height: 40,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: theme.spacing.small,\n    backgroundColor: theme.colors.background,\n  },\n  suggestionsWrapper: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    maxHeight: 200,\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    zIndex: 1000,\n  },\n  suggestionsContainer: {\n    flex: 1,\n  },\n  suggestionItem: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  datePickersContainer: {\n    flexDirection: 'column',\n    gap: theme.spacing.small,\n  },\n  selectedText: {\n    fontSize: theme.fontSizes.large + 2,\n    color: '#000000',\n    fontWeight: '1200',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  placeholderText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.placeholderText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedItem: {\n    borderRadius: 8,\n    backgroundColor: theme.colors.background,\n    borderWidth: 8,\n    borderColor: theme.colors.primary,\n  },\n  dropdownIcon: {\n    width: 20,\n    height: 20,\n  },\n  itemContainer: {\n    padding: theme.spacing.small,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  itemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedChip: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.background,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    padding: theme.spacing.small,\n    marginRight: theme.spacing.small,\n    marginBottom: theme.spacing.small,\n  },\n  selectedChipText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: '#000000',\n    marginRight: theme.spacing.small,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: theme.spacing.small,\n  },\n  dropdownItemSelected: {\n    backgroundColor: 'white',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 4,\n    margin: 2,\n  },\n  dropdownItemText: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItemTextSelected: {\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownContainer: {\n    backgroundColor: theme.colors.background,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n});\n\nexport default SearchRefiner;","import React from 'react';\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport { useNavigation } from '@react-navigation/native';\n\nconst ProfessionalCard = ({ professional, onPress }) => {\n  const navigation = useNavigation();\n  \n  const handlePress = () => {\n    navigation.navigate('ProfessionalProfile', { \n      professional: professional \n    });\n  };\n\n  return (\n    <TouchableOpacity style={styles.listItem} onPress={handlePress}>\n      <Image \n        source={{ uri: professional.profilePicture }} \n        style={styles.profileImage}\n      />\n      <View style={styles.infoContainer}>\n        <View style={styles.header}>\n          <Text style={styles.name}>{professional.id}. {professional.name}</Text>\n          <View style={styles.starProfessionalBadge}>\n            <Text style={styles.price}>from ${professional.price}/night</Text>\n            {/* <Text style={styles.starProfessionalText}>Star Professional</Text> */}\n          </View>\n        </View>\n        <Text style={styles.location}>{professional.location}</Text>\n        <View style={styles.stats}>\n          <View style={styles.rating}>\n            <MaterialCommunityIcons name=\"star\" size={16} color={theme.colors.primary} />\n            <Text style={styles.ratingText}>{professional.rating ? professional.rating : '4.5'}</Text>\n            <Text style={styles.reviews}>- {professional.reviewCount ? professional.reviewCount : '52'} reviews</Text>\n          </View>\n        </View>\n        \n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst ProfessionalList = ({ professionals, onLoadMore, onProfessionalSelect }) => {\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={professionals}\n        renderItem={({ item }) => (\n          <ProfessionalCard \n            professional={item}\n            onPress={onProfessionalSelect}\n          />\n        )}\n        keyExtractor={item => item.id}\n        onEndReached={onLoadMore}\n        onEndReachedThreshold={0.5}\n        contentContainerStyle={styles.listContent}\n        style={styles.list}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  list: {\n    flex: 1,\n    height: '100%',\n  },\n  listContent: {\n    flexGrow: 1,\n  },\n  listItem: {\n    flexDirection: 'row',\n    padding: theme.spacing.medium,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  profileImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    marginRight: theme.spacing.medium,\n  },\n  infoContainer: {\n    flex: 1,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing.small,\n  },\n  name: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  location: {\n    fontSize: theme.fontSizes.medium + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  starProfessionalBadge: {\n    backgroundColor: theme.colors.primary,\n    padding: 4,\n    borderRadius: 4,\n    marginLeft: 8,\n  },\n  starProfessionalText: {\n    fontSize: theme.fontSizes.small + 2,\n    fontWeight: 'bold',\n    color: theme.colors.surface,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  rating: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  ratingText: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  reviews: {\n    fontSize: theme.fontSizes.small + 2,\n    color: theme.colors.text,\n    marginLeft: 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n    lineHeight: (theme.fontSizes.small + 2) * 1.5,\n  },\n  repeats: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  price: {\n    fontSize: theme.fontSizes.medium + 2,\n    fontWeight: 'bold',\n    color: theme.colors.whiteText,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default ProfessionalList;","import React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { theme } from '../styles/theme';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default marker icons in Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nconst MapView = ({ professionals, onMarkerPress, region }) => {\n  if (Platform.OS === 'web') {\n    return (\n      <WebMapComponent\n        professionals={professionals}\n        onMarkerPress={onMarkerPress}\n        region={region}\n      />\n    );\n  }\n\n  return (\n    <NativeMapComponent\n      professionals={professionals}\n      onMarkerPress={onMarkerPress}\n      region={region}\n    />\n  );\n};\n\nconst WebMapComponent = ({ professionals, onMarkerPress, region }) => {\n  const NumberedMarkerIcon = (number) => {\n    return L.divIcon({\n      className: 'custom-marker',\n      html: `<div style=\"\n        background-color: ${theme.colors.primary};\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 12px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: bold;\n      \">${number}</div>`,\n    });\n  };\n\n  return (\n    <div style={styles.mapContainer}>\n      <MapContainer\n        center={[region.latitude, region.longitude]}\n        zoom={13}\n        style={{ height: 'calc(100vh - 64px)', width: '100%' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {professionals.map((professional, index) => (\n          <Marker\n            key={professional.id}\n            position={[professional.coordinates.latitude, professional.coordinates.longitude]}\n            icon={NumberedMarkerIcon(index + 1)}\n            eventHandlers={{\n              click: () => onMarkerPress(professional),\n            }}\n          >\n            <Popup>\n              <div style={styles.popupContent}>\n                <h3>{index + 1}. {professional.name}</h3>\n                <p>{professional.location}</p>\n                <p>Starting at ${professional.startingRate}/night</p>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n      </MapContainer>\n    </div>\n  );\n};\n\nconst NativeMapComponent = ({ professionals, onMarkerPress, region }) => {\n  return (\n    <View style={styles.mapContainer}>\n      {/* Implement native map component here if needed */}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mapContainer: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    // height: 'calc(100vh - 64px)',\n  },\n  map: {\n    flex: 1,\n  },\n  markerContainer: {\n    backgroundColor: theme.colors.primary,\n    borderRadius: 20,\n    padding: theme.spacing.small,\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  markerText: {\n    color: theme.colors.whiteText,\n    fontWeight: 'bold',\n  },\n  calloutContainer: {\n    backgroundColor: theme.colors.surface,\n    padding: theme.spacing.small,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  calloutText: {\n    color: theme.colors.text,\n    fontSize: theme.fontSizes.small,\n  },\n  popupContent: {\n    padding: 10,\n  },\n});\n\nexport default MapView;","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, Platform, Dimensions, TouchableOpacity, Text, useWindowDimensions } from 'react-native';\nimport SearchRefiner from '../components/SearchRefiner';\nimport ProfessionalList from '../components/ProfessionalList';\nimport MapView from '../components/MapView';\nimport { theme } from '../styles/theme';\nimport { mockProfessionals } from '../data/mockData'; // Import mock data\nimport MaterialCommunityIcons from '@expo/vector-icons/MaterialCommunityIcons';\n\nconst SearchProfessionalsListing = ({ navigation, route }) => {\n  const { width } = useWindowDimensions();\n  const isMobile = width < 1000;\n  const [activeView, setActiveView] = useState(isMobile ? 'filters' : 'all');\n  const [professionals, setProfessionals] = useState(mockProfessionals); // Use mock data\n  const [filters, setFilters] = useState({});\n  const [region, setRegion] = useState({\n    latitude: 38.8339,\n    longitude: -104.8214,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421,\n  });\n\n  useEffect(() => {\n    // Update active view when screen size changes\n    setActiveView(width < 1000 ? 'filters' : 'all');\n  }, [width]);\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', () => {\n      if (isMobile) {\n        setActiveView('filters');\n      }\n    });\n\n    return unsubscribe;\n  }, [navigation, isMobile]);\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    // Implement filtering logic here\n  };\n\n  const handleLoadMore = () => {\n    // Implement pagination logic\n  };\n\n  const handleProfessionalSelect = (professional) => {\n    navigation.navigate('ProfessionalProfile', { professional });\n  };\n\n  const renderContent = () => {\n    if (!isMobile) {\n      return (\n        <View style={styles.container}>\n          <View style={styles.filterColumn}>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n          </View>\n          <View style={styles.listColumn}>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </View>\n          <View style={styles.mapColumn}>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </View>\n        </View>\n      );\n    }\n\n    // Mobile view\n    return (\n      <View style={styles.containerMobile}>\n        {activeView === 'filters' && (\n          <>\n            <SearchRefiner onFiltersChange={handleFiltersChange} />\n            <TouchableOpacity \n              style={styles.searchButton}\n              onPress={() => setActiveView('list')}\n            >\n              <Text style={styles.searchButtonText}>Search</Text>\n            </TouchableOpacity>\n          </>\n        )}\n        \n        {activeView === 'list' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <Text style={styles.mobileHeaderText}>Professionals</Text>\n              <View style={styles.mobileHeaderRight}>\n                <TouchableOpacity onPress={() => setActiveView('filters')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"filter\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n                <TouchableOpacity onPress={() => setActiveView('map')} style={styles.headerIcon}>\n                  <MaterialCommunityIcons name=\"map\" size={24} color={theme.colors.primary} />\n                </TouchableOpacity>\n              </View>\n            </View>\n            <ProfessionalList\n              professionals={professionals}\n              onLoadMore={handleLoadMore}\n              onProfessionalSelect={handleProfessionalSelect}\n            />\n          </>\n        )}\n        \n        {activeView === 'map' && (\n          <>\n            <View style={styles.mobileHeader}>\n              <TouchableOpacity onPress={() => setActiveView('list')}>\n                <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n            <MapView\n              professionals={professionals}\n              onMarkerPress={handleProfessionalSelect}\n              region={region}\n            />\n          </>\n        )}\n      </View>\n    );\n  };\n\n  return renderContent();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.background,\n    height: 'calc(100vh - 64px)',\n    maxHeight: 'calc(100vh - 64px)',\n    overflow: 'hidden',\n  },\n  column: {\n    flex: 1,\n  },\n  filterColumn: {\n    flex: Platform.OS === 'web' ? 0.25 : 1,\n    borderRightWidth: 1,\n    borderRightColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  listColumn: {\n    flex: Platform.OS === 'web' ? 0.4 : 1,\n    backgroundColor: theme.colors.background,\n    overflow: 'hidden',\n    height: '100%',\n    maxHeight: '100%',\n  },\n  mapColumn: {\n    flex: Platform.OS === 'web' ? 0.35 : 1,\n    borderLeftWidth: 1,\n    borderLeftColor: theme.colors.border,\n    backgroundColor: theme.colors.background,\n  },\n  mobileNav: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n  },\n  navButton: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center',\n  },\n  activeNavButton: {\n    backgroundColor: theme.colors.secondary,\n    borderRadius: 5,\n  },\n  navButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  containerMobile: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderBottomWidth: 2,\n    padding: 10,\n    marginHorizontal: 10,\n    backgroundColor: theme.colors.background,\n  },\n  mobileHeaderText: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '500',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  mobileHeaderRight: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  headerIcon: {\n    padding: 8,\n    marginLeft: 16,\n  },\n  mapButton: {\n    marginLeft: 20,\n  },\n  searchButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 10,\n    alignItems: 'center',\n    borderRadius: 5,\n  },\n  searchButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.medium + 2,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default SearchProfessionalsListing;\n\n","// components/BookingCard.js\nimport React from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\nimport { theme } from '../styles/theme';\n\nconst BookingCard = ({ booking, type, onViewDetails, onCancel }) => {\n  const { id, status, date, time } = booking;\n  const name = type === 'professional' ? booking.clientName : booking.professionalName;\n\n  return (\n    <TouchableOpacity \n      style={styles.card}\n      onPress={() => onViewDetails()}\n      activeOpacity={0.7}\n    >\n      <View>\n        <View style={styles.header}>\n          <Text style={styles.bookingId}>Booking #{id}</Text>\n          <Text style={[\n            styles.status,\n            { color: status === 'Confirmed' ? theme.colors.success : theme.colors.warning }\n          ]}>\n            {status}\n          </Text>\n        </View>\n\n        <Text style={styles.name}>\n          {type === 'professional' ? 'Client: ' : 'Professional: '}{name}\n        </Text>\n        \n        <Text style={styles.datetime}>\n          {date} at {time}\n        </Text>\n\n        <View style={styles.buttonContainer}>\n          <TouchableOpacity\n            style={[styles.button, styles.viewButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onViewDetails();\n            }}\n          >\n            <Text style={styles.buttonText}>View Details</Text>\n          </TouchableOpacity>\n          \n          <TouchableOpacity\n            style={[styles.button, styles.cancelButton]}\n            onPress={(e) => {\n              e.stopPropagation(); // Prevent card click when button is clicked\n              onCancel();\n            }}\n          >\n            <Text style={[styles.buttonText, styles.cancelButtonText]}>\n              Cancel Booking\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  bookingId: {\n    fontSize: theme.fontSizes.medium,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  status: {\n    fontSize: theme.fontSizes.smallMedium,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  name: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  datetime: {\n    fontSize: theme.fontSizes.smallMedium,\n    color: theme.colors.placeholder,\n    marginBottom: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  button: {\n    flex: 1,\n    padding: 8,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n  viewButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  cancelButton: {\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingCard;","import React, { useState, useEffect, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, FlatList, TouchableOpacity, ActivityIndicator, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport BookingCard from '../components/BookingCard';\nimport { mockProfessionalBookings, mockClientBookings } from '../data/mockData';\nimport { AuthContext } from '../context/AuthContext';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\nimport { API_BASE_URL } from '../config/config';\n\nconst MyBookings = () => {\n  const navigation = useNavigation();\n  const { is_prototype, isApprovedProfessional, userRole, is_DEBUG } = useContext(AuthContext);\n  const [activeTab, setActiveTab] = useState(userRole === 'professional' ? 'professional' : 'client');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Handle role changes\n  useEffect(() => {\n    if (userRole === 'professional' && isApprovedProfessional) {\n      setActiveTab('professional');\n    }\n  }, [userRole, isApprovedProfessional]);\n\n  const fetchBookings = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      if (is_prototype) {\n        if (is_DEBUG) {\n          console.log('Fetching mock bookings:', {\n            isApprovedProfessional,\n            userRole,\n            activeTab\n          });\n        }\n        \n        // In prototype mode, use mock data\n        if (activeTab === 'professional' && isApprovedProfessional) {\n          setBookings(mockProfessionalBookings);\n        } else {\n          setBookings(mockClientBookings);\n        }\n      } else {\n        // Real API call logic\n        let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        if (is_DEBUG) {\n          console.log('Fetching real bookings:', {\n            isApprovedProfessional,\n            userRole,\n            activeTab\n          });\n        }\n\n        const response = await axios.get(\n          `${API_BASE_URL}/api/bookings/v1/`,\n          { headers: { Authorization: `Bearer ${token}` }}\n        );\n\n        if (activeTab === 'professional') {\n          setBookings(response.data.bookings.professional_bookings || []);\n        } else {\n          setBookings(response.data.bookings.client_bookings || []);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching bookings:', error);\n      setError('Failed to fetch bookings');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch bookings when component mounts or when dependencies change\n  useEffect(() => {\n    if (is_DEBUG) {\n      console.log('Fetching bookings due to dependency change:', {\n        activeTab,\n        userRole,\n        isApprovedProfessional,\n        is_prototype\n      });\n    }\n    fetchBookings();\n  }, [activeTab, userRole, isApprovedProfessional, is_prototype]);\n\n  // Handle search\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n    \n    if (!query.trim()) {\n      fetchBookings();\n      return;\n    }\n\n    const searchLower = query.toLowerCase();\n    const filtered = bookings.filter(booking => {\n      if (activeTab === 'professional') {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.clientName.toLowerCase().includes(searchLower)\n        );\n      } else {\n        return (\n          booking.id.toLowerCase().includes(searchLower) ||\n          booking.professionalName.toLowerCase().includes(searchLower)\n        );\n      }\n    });\n\n    setBookings(filtered);\n  };\n\n  const handleViewDetails = async (booking) => {\n    if (is_DEBUG) {\n      console.log('Navigating to booking details:', {\n        bookingId: booking.booking_id || booking.id,\n        isProfessional: activeTab === 'professional'\n      });\n    }\n    \n    await navigateToFrom(navigation, 'BookingDetails', 'MyBookings', {\n      bookingId: booking.booking_id || booking.id,\n      isProfessional: activeTab === 'professional'\n    });\n  };\n\n  const handleCancelBooking = async (bookingId) => {\n    // Implement booking cancellation logic\n    if (is_DEBUG) {\n      console.log('Cancel booking:', bookingId);\n    }\n  };\n\n  const renderBookingCard = ({ item }) => (\n    <BookingCard\n      booking={{\n        id: item.booking_id || item.id,\n        clientName: item.client_name || item.clientName,\n        professionalName: item.professional_name || item.professionalName,\n        serviceName: item.service_type || item.serviceName,\n        date: item.start_date || item.date,\n        time: item.start_time || item.time,\n        status: item.status\n      }}\n      type={activeTab}\n      onViewDetails={() => handleViewDetails(item)}\n      onCancel={() => handleCancelBooking(item.booking_id || item.id)}\n    />\n  );\n\n  const EmptyStateMessage = () => (\n    <View style={styles.emptyStateContainer}>\n      <MaterialCommunityIcons \n        name={error ? \"alert-circle-outline\" : \"calendar-blank-outline\"} \n        size={64} \n        color={error ? theme.colors.error : theme.colors.primary} \n      />\n      <Text style={styles.emptyStateTitle}>\n        {error ? 'Error Getting Bookings' : 'No Bookings Found'}\n      </Text>\n      <Text style={styles.emptyStateSubtitle}>\n        {error \n          ? 'There was an error fetching your bookings. Please try again later.' \n          : activeTab === 'professional' \n            ? isApprovedProfessional \n              ? 'Create a service to start receiving bookings'\n              : 'Apply to become a professional to start receiving bookings'\n            : 'Browse available services to make your first booking'\n        }\n      </Text>\n      {!error && (\n        <TouchableOpacity\n          style={styles.createServiceButton}\n          onPress={() => navigation.navigate(\n            activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'ServiceManager'\n                : 'BecomeProfessional'\n              : 'SearchProfessionalsListing'\n          )}\n        >\n          <Text style={styles.createServiceButtonText}>\n            {activeTab === 'professional'\n              ? isApprovedProfessional\n                ? 'Create Service'\n                : 'Become Professional'\n              : 'Browse Services'\n            }\n          </Text>\n        </TouchableOpacity>\n      )}\n      {error && (\n        <TouchableOpacity\n          style={styles.retryButton}\n          onPress={fetchBookings}\n        >\n          <Text style={styles.retryButtonText}>Retry</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"My Bookings\"\n        onBackPress={() => handleBack(navigation)} // Use default 'More' route\n      />\n      \n      <View style={styles.container}>\n      {isApprovedProfessional && (\n        <View style={styles.tabContainer}>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'professional' && styles.activeTab]}\n            onPress={() => setActiveTab('professional')}\n          >\n              <Text style={[styles.tabText, activeTab === 'professional' && styles.activeTabText]}>\n                Professional Bookings\n              </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n              style={[styles.tab, activeTab === 'client' && styles.activeTab]}\n            onPress={() => setActiveTab('client')}\n          >\n              <Text style={[styles.tabText, activeTab === 'client' && styles.activeTabText]}>\n                Client Bookings\n              </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      <View style={styles.searchContainer}>\n          <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.placeholder} />\n        <TextInput\n          style={styles.searchInput}\n            placeholder=\"Search by Booking ID or Name\"\n          value={searchQuery}\n          onChangeText={handleSearch}\n        />\n      </View>\n\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n        ) : bookings.length > 0 ? (\n        <FlatList\n          data={bookings}\n          renderItem={renderBookingCard}\n          keyExtractor={item => (item.booking_id || item.id || Math.random().toString()).toString()}\n          contentContainerStyle={styles.listContainer}\n        />\n        ) : (\n          <EmptyStateMessage />\n      )}\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: '100%',\n    maxWidth: Platform.OS === 'web' ? 632 : 600, // 600 + padding for scrollbar\n    alignSelf: 'center',\n    padding: 16,\n    height: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    maxHeight: Platform.OS === 'web' ? 'calc(100vh - 124px)' : '100%',\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    backgroundColor: theme.colors.background,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n    borderRadius: 8,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n  },\n  tab: {\n    flex: 1,\n    padding: 12,\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n  },\n  activeTab: {\n    backgroundColor: theme.colors.primary,\n  },\n  tabText: {\n    color: theme.colors.primary,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  activeTabText: {\n    color: theme.colors.surface,\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 8,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  listContainer: {\n    paddingBottom: 16,\n    paddingHorizontal: Platform.OS === 'web' ? 16 : 0, // Space for scrollbar\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyStateContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 24,\n  },\n  emptyStateTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: '600',\n    color: theme.colors.text,\n    marginTop: 16,\n    textAlign: 'center',\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  emptyStateSubtitle: {\n    fontSize: 16,\n    color: theme.colors.placeholder,\n    textAlign: 'center',\n    marginTop: 8,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  createServiceButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  createServiceButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  retryButton: {\n    backgroundColor: theme.colors.error,\n    paddingHorizontal: 24,\n    paddingVertical: 12,\n    borderRadius: 8,\n    marginTop: 8,\n  },\n  retryButtonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default MyBookings;","import React, { useState } from 'react';\nimport { View, Text, Modal, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { theme } from '../styles/theme';\n\nconst AddRateModal = ({ visible, onClose, onAdd }) => {\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleAdd = () => {\n    if (!name || !amount) return;\n    onAdd({\n      name,\n      amount: parseFloat(amount),\n      description\n    });\n    setName('');\n    setAmount('');\n    setDescription('');\n    onClose();\n  };\n\n  return (\n    <Modal\n      visible={visible}\n      transparent={true}\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <View style={styles.modalOverlay}>\n        <View style={styles.modalContent}>\n          <View style={styles.modalHeader}>\n            <Text style={styles.modalTitle}>Add New Rate</Text>\n            <TouchableOpacity onPress={onClose} style={styles.closeButton}>\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.text} />\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Rate Name *</Text>\n            <TextInput\n              style={styles.input}\n              value={name}\n              onChangeText={setName}\n              placeholder=\"Enter rate name\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Amount *</Text>\n            <TextInput\n              style={styles.input}\n              value={amount}\n              onChangeText={setAmount}\n              keyboardType=\"numeric\"\n              placeholder=\"Enter amount\"\n            />\n          </View>\n\n          <View style={styles.inputContainer}>\n            <Text style={styles.label}>Description (optional)</Text>\n            <TextInput\n              style={[styles.input, styles.descriptionInput]}\n              value={description}\n              onChangeText={setDescription}\n              placeholder=\"Enter description\"\n              multiline\n            />\n          </View>\n\n          <TouchableOpacity\n            style={[styles.addButton, (!name || !amount) && styles.disabledButton]}\n            onPress={handleAdd}\n            disabled={!name || !amount}\n          >\n            <Text style={styles.addButtonText}>Add Rate</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 20,\n    width: '90%',\n    maxWidth: 500,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  modalTitle: {\n    fontSize: theme.fontSizes.large,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n  },\n  closeButton: {\n    padding: 5,\n  },\n  inputContainer: {\n    marginBottom: 15,\n  },\n  label: {\n    marginBottom: 5,\n    color: theme.colors.text,\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 10,\n    backgroundColor: theme.colors.surface,\n  },\n  descriptionInput: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  addButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 12,\n    borderRadius: 4,\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  addButtonText: {\n    color: theme.colors.surface,\n    fontWeight: 'bold',\n  },\n  disabledButton: {\n    opacity: 0.5,\n  },\n});\n\nexport default AddRateModal;","import React, { useState, useEffect, useRef, useContext } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity, ActivityIndicator, TextInput, Alert, Platform, Modal } from 'react-native';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { theme } from '../styles/theme';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { fetchBookingDetails, createBooking, updateBookingStatus, mockMessages, mockConversations, CURRENT_USER_ID, BOOKING_STATES } from '../data/mockData';\nimport { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AddRateModal from '../components/AddRateModal';\nimport { format } from 'date-fns';\nimport AddOccurrenceModal from '../components/AddOccurrenceModal';\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../config/config';\nimport { handleBack } from '../components/Navigation';\n\nconst LAST_VIEWED_BOOKING_ID = 'last_viewed_booking_id';\n\n// Replace with Services that professional offers\nconst SERVICE_OPTIONS = ['Dog Walking', 'Pet Sitting', 'House Sitting', 'Drop-In Visits'];\n// Replace with Animal types that the client owns\nconst ANIMAL_OPTIONS = ['Dog', 'Cat', 'Bird', 'Small Animal'];\n// Replace with the pets that the client has in their \"my pets\" tab\nconst PET_OPTIONS = [\n  { id: 'dog1', name: 'Max', type: 'Dog', breed: 'Golden Retriever' },\n  { id: 'cat1', name: 'Luna', type: 'Cat', breed: 'Siamese' },\n  // Add more default options or fetch from an API\n];\n\nconst mockUpdateBookingPets = async (bookingId, pets) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst mockUpdateBookingService = async (bookingId, serviceDetails) => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  return { success: true };\n};\n\nconst formatDateWithoutTimezone = (dateString) => {\n  if (!dateString) return new Date();\n  // Split the date string to avoid timezone issues\n  const [year, month, day] = dateString.split('-').map(num => parseInt(num, 10));\n  return new Date(year, month - 1, day); // month is 0-based in JS Date\n};\n\nconst calculateTimeUnits = (startDate, endDate, startTime, endTime, timeUnit) => {\n  const start = new Date(`${startDate}T${startTime}`);\n  const end = new Date(`${endDate}T${endTime}`);\n  const diffMs = end - start;\n  \n  switch(timeUnit) {\n    case '15 min':\n      return Math.ceil(diffMs / (15 * 60 * 1000));\n    case '30 min':\n      return Math.ceil(diffMs / (30 * 60 * 1000));\n    case '45 min':\n      return Math.ceil(diffMs / (45 * 60 * 1000));\n    case '1 hr':\n      return Math.ceil(diffMs / (60 * 60 * 1000));\n    case '2 hr':\n      return Math.ceil(diffMs / (2 * 60 * 60 * 1000));\n    case '4 hr':\n      return Math.ceil(diffMs / (4 * 60 * 60 * 1000));\n    case '8 hr':\n      return Math.ceil(diffMs / (8 * 60 * 60 * 1000));\n    case '24 hr':\n    case 'per day':\n      return Math.ceil(diffMs / (24 * 60 * 60 * 1000));\n    case 'overnight':\n      return 1; // Overnight is typically counted as one unit\n    case 'per visit':\n      return 1; // Per visit is counted as one unit\n    default:\n      return 1;\n  }\n};\n\nconst calculateOccurrenceCost = (occurrence) => {\n  // If occurrence doesn't have rates, return 0\n  if (!occurrence.rates) {\n    return 0;\n  }\n  \n  const timeUnits = calculateTimeUnits(\n    occurrence.startDate,\n    occurrence.endDate,\n    occurrence.startTime,\n    occurrence.endTime,\n    occurrence.rates.timeUnit\n  );\n  \n  const baseTotal = occurrence.rates.baseRate * timeUnits;\n  const additionalRatesTotal = (occurrence.rates.additionalRates || [])\n    .reduce((sum, rate) => sum + parseFloat(rate.amount || 0), 0);\n    \n  return baseTotal + additionalRatesTotal;\n};\n\nconst RequestChangesModal = ({ visible, onClose, onSubmit, loading }) => {\n  const [reason, setReason] = useState('');\n\n  return (\n    <Modal visible={visible} transparent animationType=\"fade\">\n      <View style={styles.modalContainer}>\n        <View style={styles.modalContent}>\n          <Text style={styles.modalTitle}>Request Changes</Text>\n          <TextInput\n            style={styles.reasonInput}\n            placeholder=\"Enter reason for changes...\"\n            value={reason}\n            onChangeText={setReason}\n            multiline\n            numberOfLines={4}\n          />\n          <View style={styles.modalButtons}>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.cancelButton]}\n              onPress={onClose}\n            >\n              <Text style={styles.cancelButtonText}>Cancel</Text>\n            </TouchableOpacity>\n            <TouchableOpacity \n              style={[styles.modalButton, styles.submitButton]}\n              onPress={() => onSubmit(reason)}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\n              ) : (\n                <Text style={styles.submitButtonText}>Submit</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n    </Modal>\n  );\n};\n\nconst BookingDetails = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { is_prototype, currentUser, is_DEBUG } = useContext(AuthContext);\n  const [booking, setBooking] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isProfessionalView, setIsProfessionalView] = useState(false);\n  const [isPetsEditMode, setIsPetsEditMode] = useState(false);\n  const [isServiceEditMode, setIsServiceEditMode] = useState(false);\n  const [editedBooking, setEditedBooking] = useState({\n    serviceDetails: {\n      type: '',\n      animalType: '',\n      numberOfPets: 0\n    },\n    rates: {\n      additionalPetRate: 0,\n      holidayFee: 0,\n      weekendFee: 0,\n      extraServices: []\n    }\n  });\n  const [showTimeDropdown, setShowTimeDropdown] = useState(false);\n  const [timeDropdownPosition, setTimeDropdownPosition] = useState({ top: 0, left: 0, width: 0 });\n  const timeInputRef = useRef(null);\n  const [showAddRateModal, setShowAddRateModal] = useState(false);\n  const [showStartTimePicker, setShowStartTimePicker] = useState(false);\n  const [showEndTimePicker, setShowEndTimePicker] = useState(false);\n  const [showServiceDropdown, setShowServiceDropdown] = useState(false);\n  const [showAnimalDropdown, setShowAnimalDropdown] = useState(false);\n  const [showPetRateDropdown, setShowPetRateDropdown] = useState(false);\n  const [showAdditionalPetRate, setShowAdditionalPetRate] = useState(true);\n  const [showHolidayRate, setShowHolidayRate] = useState(true);\n  const [showWeekendRate, setShowWeekendRate] = useState(true);\n  const [selectedOccurrence, setSelectedOccurrence] = useState(null);\n  const [showAddOccurrenceModal, setShowAddOccurrenceModal] = useState(false);\n  const [expandedOccurrenceId, setExpandedOccurrenceId] = useState(null);\n  const [selectedPets, setSelectedPets] = useState([]);\n  const [showPetDropdown, setShowPetDropdown] = useState(false);\n  const [isPetsSaving, setIsPetsSaving] = useState(false);\n  const [isServiceSaving, setIsServiceSaving] = useState(false);\n  const [showRequestChangesModal, setShowRequestChangesModal] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [confirmationModal, setConfirmationModal] = useState({\n    visible: false,\n    actionText: '',\n    onConfirm: null,\n    isLoading: false\n  });\n  const [availablePets, setAvailablePets] = useState([]);\n  const [isLoadingPets, setIsLoadingPets] = useState(false);\n  const [availableServices, setAvailableServices] = useState([]);\n  const [isLoadingServices, setIsLoadingServices] = useState(false);\n\n  useEffect(() => {\n    const fetchBooking = async () => {\n      setLoading(true);\n      \n      try {\n        let bookingId = route.params?.bookingId;\n        let initialData = route.params?.initialData;\n        let isProfessional = route.params?.isProfessional;\n        setIsProfessionalView(isProfessional);\n\n        if (is_DEBUG) {\n          console.log('BookingDetails: Fetching booking with params:', {\n            bookingId,\n            initialData,\n            isProfessional\n          });\n        }\n\n        if (is_prototype) {\n          if (!bookingId && initialData) {\n            bookingId = await createBooking(\n              initialData.clientId || 'client123',\n              initialData.professionalId || 'professional123',\n              initialData\n            );\n          }\n\n          if (!bookingId) {\n            bookingId = await AsyncStorage.getItem(LAST_VIEWED_BOOKING_ID);\n          }\n\n          if (!bookingId) {\n            navigation.replace('MyBookings');\n            return;\n          }\n\n          if (is_DEBUG) {\n            console.log('BookingDetails: Fetching booking with ID:', bookingId);\n          }\n          await AsyncStorage.setItem(LAST_VIEWED_BOOKING_ID, bookingId);\n          const bookingData = await fetchBookingDetails(bookingId);\n          if (is_DEBUG) {\n            console.log('BookingDetails: Fetched booking data:', bookingData);\n          }\n          setBooking(bookingData);\n        } else {\n          // Real API call\n          if (!bookingId) {\n            navigation.replace('MyBookings');\n            return;\n          }\n\n          let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n          if (!token) {\n            throw new Error('No authentication token found');\n          }\n          const response = await axios.get(\n            `${API_BASE_URL}/api/bookings/v1/${bookingId}/?is_prorated=true`,\n            { headers: { Authorization: `Bearer ${token}` }}\n          );\n\n          // Transform API response to match the expected format\n          const transformedBooking = {\n            ...response.data,\n            id: response.data.booking_id,\n            clientName: response.data.client_name,\n            professionalName: response.data.professional_name,\n            serviceType: response.data.service_details.service_type,\n            animalType: response.data.service_details.animal_type,\n            numberOfPets: response.data.service_details.num_pets,\n            costs: response.data.cost_summary,\n            status: response.data.status\n          };\n\n          if (is_DEBUG) {\n            console.log('BookingDetails: Fetched and transformed booking data:', transformedBooking);\n          }\n          setBooking(transformedBooking);\n        }\n      } catch (error) {\n        console.error('Error fetching booking details:', error);\n        Alert.alert(\n          'Error',\n          'Unable to load booking details. Please try again.',\n          [{ text: 'OK', onPress: () => navigation.replace('MyBookings') }]\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBooking();\n  }, [route.params?.bookingId, navigation, is_prototype]);\n\n  // Add helper function to safely display data\n  const getDisplayValue = (value, placeholder = 'TBD') => {\n    if (value === null || value === undefined || value === '') {\n      return placeholder;\n    }\n    return value;\n  };\n\n  // Reset edit mode when component mounts or reloads\n  useEffect(() => {\n    setIsPetsEditMode(false);\n    setIsServiceEditMode(false);\n  }, []);\n\n  // Add this useEffect to properly initialize editedBooking\n  useEffect(() => {\n    if (booking) {\n      if (is_DEBUG) {\n        console.log('BookingDetails: Booking updated, current value:', booking);\n      }\n      setEditedBooking({\n        ...booking,\n        serviceDetails: {\n          type: booking.serviceType || '',\n          animalType: booking.animalType || '',\n          numberOfPets: (booking.pets || []).length  // Initialize based on pets array length\n        },\n        rates: {\n          additionalPetRate: booking.rates?.additionalPetRate ?? 0,\n          holidayFee: booking.rates?.holidayFee ?? 0,\n          weekendFee: booking.rates?.weekendFee ?? 0,\n          extraServices: booking.rates?.extraServices || []\n        }\n      });\n    }\n  }, [booking]);\n\n  const canEdit = () => {\n\n    if (!booking) {\n      console.log('BookingDetails: Booking is undefined');\n      return false;\n    }\n\n    // In prototype mode, use the existing logic\n    if (is_prototype) {\n      return true;\n    }\n\n    if (is_DEBUG) {\n      console.log('Booking edit ability:', booking.can_edit);\n    }\n\n    // For real API mode, use the backend's can_edit field\n    return booking.can_edit;\n  };\n\n  // Add function to fetch available pets\n  const fetchAvailablePets = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available pets with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingPets(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/available_pets/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailablePets(response.data);\n      if (is_DEBUG) {\n        console.log('available pets:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available pets:', error);\n      Alert.alert('Error', 'Failed to fetch available pets');\n    } finally {\n      setIsLoadingPets(false);\n    }\n  };\n\n  const togglePetsEditMode = async () => {\n    if (isPetsEditMode) {\n      // Save changes\n      try {\n        setIsPetsSaving(true);\n        if (!is_prototype) {\n          const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n          if (!token) {\n            throw new Error('No authentication token found');\n          }\n          const response = await axios.patch(\n            `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n            { pets: selectedPets.map(pet => ({\n                pet_id: pet.pet_id,\n                name: pet.name,\n                species: pet.species,\n                breed: pet.breed\n              }))\n            },\n            { headers: { Authorization: `Bearer ${token}` }}\n          );\n          // Update booking status and pets from response\n          if (response.data.booking_status) {\n            setBooking(prevBooking => ({\n              ...prevBooking,\n              status: response.data.booking_status,\n              pets: selectedPets\n            }));\n          }\n        } else {\n          setBooking(prev => ({\n            ...prev,\n            pets: selectedPets\n          }));\n        }\n        setIsPetsEditMode(false);\n      } catch (error) {\n        console.error('Error updating pets:', error);\n        Alert.alert('Error', 'Failed to update pets');\n      } finally {\n        setIsPetsSaving(false);\n      }\n    } else {\n      setSelectedPets(booking.pets || []);\n      setIsPetsEditMode(true);\n    }\n  };\n\n  const renderPetSelector = () => {\n    if (!isPetsEditMode) {\n      return (\n        <View>\n          {booking?.pets?.length > 0 ? (\n            booking.pets.map((pet, index) => (\n              <View key={index} style={styles.petRow}>\n                <Text style={styles.petName}>\n                  {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n                </Text>\n              </View>\n            ))\n          ) : (\n            <Text style={styles.noContentText}>No pets added to this booking</Text>\n          )}\n        </View>\n      );\n    }\n\n    return (\n      <View>\n        {selectedPets.map((pet, index) => (\n          <View key={index} style={styles.petRow}>\n            <Text style={styles.petName}>\n              {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n            </Text>\n            <TouchableOpacity\n              onPress={() => setSelectedPets(prev => prev.filter((_, i) => i !== index))}\n            >\n              <MaterialCommunityIcons name=\"close\" size={24} color={theme.colors.error} />\n            </TouchableOpacity>\n          </View>\n        ))}\n\n        <TouchableOpacity\n          style={styles.addPetButton}\n          onPress={async () => {\n            if (!showPetDropdown && !is_prototype) {\n              await fetchAvailablePets();\n            }\n            setShowPetDropdown(!showPetDropdown);\n          }}\n        >\n          <Text style={styles.addPetText}>Add Pet</Text>\n          <MaterialCommunityIcons \n            name={showPetDropdown ? \"chevron-up\" : \"chevron-down\"} \n            size={24} \n            color={theme.colors.text} \n          />\n        </TouchableOpacity>\n\n        {showPetDropdown && (\n          <View style={styles.dropdownList}>\n            <ScrollView nestedScrollEnabled={true} style={{ maxHeight: 200 }}>\n              {isLoadingPets ? (\n                <ActivityIndicator style={{ padding: 10 }} />\n              ) : (\n                (is_prototype ? PET_OPTIONS : availablePets)\n                  .filter(pet => !selectedPets.some(selected => selected.pet_id === pet.pet_id))\n                  .map((pet) => (\n                    <TouchableOpacity\n                      key={pet.pet_id || pet.id}\n                      style={styles.dropdownItem}\n                      onPress={() => {\n                        setSelectedPets(prev => [...prev, pet]);\n                        setShowPetDropdown(false);\n                      }}\n                    >\n                      <Text style={styles.dropdownText}>\n                        {pet.name} • {pet.species} {pet.breed && `• ${pet.breed}`}\n                      </Text>\n                    </TouchableOpacity>\n                  ))\n              )}\n              {!isLoadingPets && !is_prototype && availablePets.length === 0 && (\n                <Text style={styles.noContentText}>No pets available</Text>\n              )}\n            </ScrollView>\n          </View>\n        )}\n      </View>\n    );\n  };\n\n  // Add function to fetch available services\n  const fetchAvailableServices = async () => {\n    if (is_DEBUG) {\n      console.log('fetching available services with booking id:', booking.booking_id);\n    }\n    try {\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      setIsLoadingServices(true);\n      const response = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/available_services/`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n      setAvailableServices(response.data);\n      if (is_DEBUG) {\n        console.log('available services:', response.data);\n      }\n    } catch (error) {\n      console.error('Error fetching available services:', error);\n      Alert.alert('Error', 'Failed to fetch available services');\n    } finally {\n      setIsLoadingServices(false);\n    }\n  };\n\n  const toggleServiceEditMode = async () => {\n    if (isServiceEditMode) {\n      // Save changes\n      try {\n        setIsServiceSaving(true);\n        if (!is_prototype) {\n          const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n          if (!token) {\n            throw new Error('No authentication token found');\n          }\n\n          // Only send update if service has changed\n          if (editedBooking.service_details.service_id !== booking.service_details.service_id) {\n            const response = await axios.patch(\n              `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n              { service_id: editedBooking.service_details.service_id },\n              { headers: { Authorization: `Bearer ${token}` }}\n            );\n            // Update booking status and service from response\n            if (response.data.booking_status) {\n              setBooking(prevBooking => ({\n                ...prevBooking,\n                status: response.data.booking_status,\n                service_details: editedBooking.service_details\n              }));\n            }\n          }\n        } else {\n          setBooking(prev => ({\n            ...prev,\n            service_details: editedBooking.service_details\n          }));\n        }\n        setIsServiceEditMode(false);\n      } catch (error) {\n        console.error('Error updating service:', error);\n        Alert.alert('Error', 'Failed to update service details');\n      } finally {\n        setIsServiceSaving(false);\n      }\n    } else {\n      setEditedBooking(prev => ({\n        ...prev,\n        service_details: {\n          ...booking.service_details\n        }\n      }));\n      if (!is_prototype) {\n        await fetchAvailableServices();\n      }\n      setIsServiceEditMode(true);\n    }\n  };\n\n  const StatusBadge = ({ status }) => (\n    <View style={styles.statusContainer}>\n      <Text style={styles.statusLabel}>Booking Status:</Text>\n      <View style={[\n        styles.statusBadge,\n        { backgroundColor: getStatusColor(status).backgroundColor }\n      ]}>\n        <Text style={[\n          styles.statusText,\n          { color: getStatusColor(status).textColor }\n        ]}>\n          {status}\n        </Text>\n      </View>\n    </View>\n  );\n\n  const getStatusColor = (status) => {\n    const colors = {\n      Pending: { backgroundColor: theme.colors.warning + '20', textColor: theme.colors.warning },\n      Confirmed: { backgroundColor: theme.colors.success + '20', textColor: theme.colors.success },\n      Canceled: { backgroundColor: theme.colors.error + '20', textColor: theme.colors.error },\n      Completed: { backgroundColor: theme.colors.primary + '20', textColor: theme.colors.primary },\n    };\n    return colors[status] || colors.Pending;\n  };\n\n  const handleRemoveService = (index) => {\n    // Add this function since it's referenced in the code\n    if (is_DEBUG) {\n      console.log('Removing service at index:', index);\n    }\n  };\n\n  const renderEditButton = () => (\n    canEdit() && (\n      <TouchableOpacity \n        onPress={togglePetsEditMode}\n        style={[styles.editButton, isPetsEditMode && styles.saveButton]}\n        testID=\"edit-button\"\n        disabled={isPetsSaving}\n      >\n        {isPetsSaving ? (\n          <ActivityIndicator size=\"small\" color={theme.colors.primary} />\n        ) : (\n          isPetsEditMode ? (\n            <Text style={styles.saveButtonText}>Save Pets</Text>\n          ) : (\n            <MaterialCommunityIcons \n              name=\"pencil\" \n              size={24} \n              color={theme.colors.primary} \n            />\n          )\n        )}\n      </TouchableOpacity>\n    )\n  );\n\n  const handleUpdatePets = (text) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      serviceDetails: {\n        ...prev.serviceDetails,\n        numberOfPets: text\n      }\n    }));\n  };\n\n  const handleUpdateDuration = (newDuration) => {\n    setEditedBooking(prev => ({\n      ...prev,\n      duration: parseInt(newDuration),\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const handleRemoveRate = (index) => {\n    const updatedRates = [...editedBooking.rates.extraServices];\n    updatedRates.splice(index, 1);\n    \n    setEditedBooking(prev => ({\n      ...prev,\n      rates: {\n        ...prev.rates,\n        extraServices: updatedRates\n      }\n    }));\n    setHasUnsavedChanges(true);\n    recalculateTotals();\n  };\n\n  const recalculateTotals = async () => {\n    try {\n      const baseTotal = editedBooking.rates.baseRate * editedBooking.quantity;\n      const extraServicesTotal = editedBooking.rates.extraServices.reduce((sum, service) => sum + service.amount, 0);\n      const holidayFee = editedBooking.rates.holidayFee || 0;\n      const weekendFee = editedBooking.rates.weekendFee || 0;\n      \n      // Calculate additional pet fees (assuming 1 pet included in base rate)\n      const additionalPets = Math.max(0, editedBooking.numberOfPets - 1);\n      const additionalPetTotal = additionalPets * (editedBooking.rates.additionalPetRate || 0);\n      \n      const subtotal = baseTotal + extraServicesTotal + holidayFee + weekendFee + additionalPetTotal;\n      const clientFee = subtotal * 0.10;\n      const taxes = subtotal * 0.09;\n      const totalClientCost = subtotal + clientFee + taxes;\n      const professionalPayout = subtotal * 0.90;\n\n      setEditedBooking(prev => ({\n        ...prev,\n        costs: {\n          baseTotal,\n          extraServicesTotal,\n          additionalPetTotal,\n          subtotal,\n          clientFee,\n          taxes,\n          totalClientCost,\n          professionalPayout\n        }\n      }));\n    } catch (error) {\n      console.error('Error recalculating totals:', error);\n    }\n  };\n\n  const calculateTotalCosts = (occurrences) => {\n    const subtotal = occurrences.reduce((sum, occ) => \n      sum + parseFloat(occ.calculated_cost || 0), 0);\n    const platformFee = subtotal * 0.10; // 10% platform fee\n    const taxes = (subtotal + platformFee) * 0.09; // 9% tax\n    const totalClientCost = subtotal + platformFee + taxes;\n    const totalSitterPayout = subtotal * 0.90; // 90% of subtotal goes to sitter\n    \n    return {\n      subtotal,\n      platform_fee: platformFee,\n      taxes,\n      total_client_cost: totalClientCost,\n      total_sitter_payout: totalSitterPayout\n    };\n  };\n\n  const handleSaveOccurrence = async (updatedOccurrence) => {\n    if (is_DEBUG) {\n      console.log('Saving occurrence:', updatedOccurrence);\n    }\n\n    try {\n      let token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n\n      // Transform the occurrence data for the backend\n      const occurrenceData = {\n        occurrence_id: updatedOccurrence.id || updatedOccurrence.occurrence_id,  // Try both id and occurrence_id\n        start_date: updatedOccurrence.startDate,\n        end_date: updatedOccurrence.endDate,\n        start_time: updatedOccurrence.startTime,\n        end_time: updatedOccurrence.endTime,\n        rates: {\n          base_rate: updatedOccurrence.rates.baseRate,\n          additional_animal_rate: updatedOccurrence.rates.additionalAnimalRate,\n          applies_after: updatedOccurrence.rates.appliesAfterAnimals,\n          unit_of_time: updatedOccurrence.rates.timeUnit.toUpperCase().replace(/ /g, '_'),\n          holiday_rate: updatedOccurrence.rates.holidayRate,\n          holiday_days: 0,\n          additional_rates: updatedOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${rate.amount}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending occurrence data to backend:', occurrenceData);\n      }\n\n      // Real API mode\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // First update the occurrence\n      const updateResponse = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend update response:', updateResponse.data);\n      }\n\n      // Then fetch the latest booking data to ensure we have the most up-to-date state\n      const bookingResponse = await axios.get(\n        `${API_BASE_URL}/api/bookings/v1/${booking.booking_id}/?is_prorated=true`,\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Fetched updated booking data:', bookingResponse.data);\n      }\n\n      // Transform API response to match the expected format\n      const transformedBooking = {\n        ...bookingResponse.data,\n        id: bookingResponse.data.booking_id,\n        clientName: bookingResponse.data.client_name,\n        professionalName: bookingResponse.data.professional_name,\n        serviceType: bookingResponse.data.service_details.service_type,\n        animalType: bookingResponse.data.service_details.animal_type,\n        numberOfPets: bookingResponse.data.service_details.num_pets,\n        costs: bookingResponse.data.cost_summary,\n        status: bookingResponse.data.status\n      };\n\n      // Update the booking state with the fresh data\n      setBooking(transformedBooking);\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error saving occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to save occurrence details');\n    }\n  };\n\n  const handleAddOccurrence = async (newOccurrence) => {\n    try {\n      if (!booking) return;\n\n      if (is_DEBUG) {\n        console.log('Adding new occurrence:', newOccurrence);\n      }\n\n      if (is_prototype) {\n        const transformedOccurrence = {\n          occurrence_id: `occ${booking.occurrences.length + 1}`,\n          start_date: newOccurrence.startDate,\n          end_date: newOccurrence.endDate,\n          start_time: newOccurrence.startTime,\n          end_time: newOccurrence.endTime,\n          rates: {\n            base_rate: newOccurrence.rates.baseRate,\n            additional_animal_rate: newOccurrence.rates.additionalAnimalRate,\n            applies_after: newOccurrence.rates.appliesAfterAnimals,\n            holiday_rate: newOccurrence.rates.holidayRate,\n            unit_of_time: newOccurrence.rates.timeUnit.toUpperCase().replace(' ', '_'),\n            additional_rates: newOccurrence.rates.additionalRates.map(rate => ({\n              title: rate.name,\n              description: rate.description || '',\n              amount: `$${parseFloat(rate.amount).toFixed(2)}`\n            }))\n          },\n          calculated_cost: newOccurrence.totalCost,\n          base_total: `$${parseFloat(newOccurrence.baseTotal || newOccurrence.rates.baseRate).toFixed(2)}`\n        };\n\n        const updatedOccurrences = [...booking.occurrences, transformedOccurrence];\n\n        setBooking(prev => ({\n          ...prev,\n          occurrences: updatedOccurrences,\n          cost_summary: calculateTotalCosts(updatedOccurrences)\n        }));\n\n        handleStatusUpdateAfterEdit();\n        setShowAddOccurrenceModal(false);\n        return;\n      }\n\n      // Real API mode\n      const token = Platform.OS === 'web' ? sessionStorage.getItem('userToken') : await AsyncStorage.getItem('userToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Transform the occurrence data to match backend expectations\n      const occurrenceData = {\n        start_date: newOccurrence.startDate,\n        end_date: newOccurrence.endDate,\n        start_time: newOccurrence.startTime,\n        end_time: newOccurrence.endTime,\n        rates: {\n          base_rate: newOccurrence.rates.baseRate,\n          additional_animal_rate: newOccurrence.rates.additionalAnimalRate,\n          applies_after: newOccurrence.rates.appliesAfterAnimals,\n          holiday_rate: newOccurrence.rates.holidayRate,\n          unit_of_time: newOccurrence.rates.timeUnit.toUpperCase().replace(' ', '_'),\n          additional_rates: newOccurrence.rates.additionalRates.map(rate => ({\n            title: rate.name,\n            description: rate.description || '',\n            amount: `$${parseFloat(rate.amount).toFixed(2)}`\n          }))\n        }\n      };\n\n      if (is_DEBUG) {\n        console.log('Sending new occurrence data to backend:', occurrenceData);\n      }\n\n      const response = await axios.patch(\n        `${API_BASE_URL}/api/booking-drafts/v1/${booking.booking_id}/update/`,\n        { occurrences: [occurrenceData] },\n        { headers: { Authorization: `Bearer ${token}` }}\n      );\n\n      if (is_DEBUG) {\n        console.log('Backend response:', response.data);\n      }\n\n      // Update booking status and data from response\n      if (response.data.booking_status) {\n        setBooking(prevBooking => ({\n          ...prevBooking,\n          status: response.data.booking_status\n        }));\n      }\n\n      setShowAddOccurrenceModal(false);\n    } catch (error) {\n      console.error('Error adding occurrence:', error);\n      if (is_DEBUG) {\n        console.log('Error details:', error.response?.data || error.message);\n      }\n      Alert.alert('Error', 'Failed to add occurrence');\n    }\n  };\n\n  const handleStatusUpdateAfterEdit = async () => {\n    if (!booking) return;\n\n    // If booking is already in a pending changes state, no need to update\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n    ].includes(booking.status)) {\n      return;\n    }\n\n    // Update status based on current status\n    let newStatus;\n    if (booking.status === BOOKING_STATES.CONFIRMED) {\n      newStatus = BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES;\n    } else {\n      newStatus = BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES;\n    }\n\n    await handleStatusUpdate(newStatus);\n  };\n\n  const handleDateTimeCardPress = (occurrence) => {\n    if (is_DEBUG) {\n      console.log('Original occurrence:', occurrence);\n    }\n    \n    if (is_prototype) {\n      // In prototype mode, use the same data structure as API\n      const transformedOccurrence = {\n        id: occurrence.occurrence_id,\n        occurrence_id: occurrence.occurrence_id,  // Make sure we set both id and occurrence_id\n        startDate: occurrence.start_date,\n        endDate: occurrence.end_date,\n        startTime: occurrence.start_time,\n        endTime: occurrence.end_time,\n        rates: {\n          baseRate: occurrence.rates.base_rate,\n          additionalAnimalRate: occurrence.rates.additional_animal_rate,\n          appliesAfterAnimals: occurrence.rates.applies_after.toString(),\n          holidayRate: occurrence.rates.holiday_rate,\n          timeUnit: occurrence.rates.unit_of_time.toLowerCase().replace(/_/g, ' '),\n          additionalRates: occurrence.rates.additional_rates\n            .filter(rate => rate.title !== 'Booking Details Cost')\n            .map(rate => ({\n              name: rate.title,\n              description: rate.description,\n              amount: rate.amount.replace(/[^0-9.]/g, '')\n            }))\n        },\n        totalCost: occurrence.calculated_cost,\n        baseTotal: occurrence.base_total.replace(/[^0-9.]/g, ''),\n        multiple: calculateMultiple(occurrence.base_total, occurrence.rates.base_rate)\n      };\n\n      if (is_DEBUG) {\n        console.log('Transformed occurrence for modal (prototype):', transformedOccurrence);\n      }\n      setSelectedOccurrence(transformedOccurrence);\n      setShowAddOccurrenceModal(true);\n      return;\n    }\n\n    // Non-prototype mode - original transformation logic\n    const transformedOccurrence = {\n      id: occurrence.occurrence_id,\n      occurrence_id: occurrence.occurrence_id,  // Make sure we set both id and occurrence_id\n      startDate: occurrence.start_date,\n      endDate: occurrence.end_date,\n      startTime: occurrence.start_time,\n      endTime: occurrence.end_time,\n      rates: {\n        baseRate: occurrence.rates?.base_rate?.toString() || '0',\n        additionalAnimalRate: occurrence.rates?.additional_animal_rate?.toString() || '0',\n        appliesAfterAnimals: occurrence.rates?.applies_after?.toString() || '1',\n        holidayRate: occurrence.rates?.holiday_rate?.toString() || '0',\n        timeUnit: occurrence.rates?.unit_of_time?.toLowerCase().replace(/_/g, ' ') || 'per visit',\n        additionalRates: (occurrence.rates?.additional_rates || [])\n          .filter(rate => rate.title !== 'Booking Details Cost')\n          .map(rate => ({\n            name: rate.title,\n            description: rate.description || '',\n            amount: (rate.amount?.replace(/[^0-9.]/g, '') || '0').toString()\n          }))\n      },\n      totalCost: occurrence.calculated_cost?.toString() || '0',\n      baseTotal: (occurrence.base_total?.replace(/[^0-9.]/g, '') || '0').toString(),\n      multiple: calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n    };\n\n    if (is_DEBUG) {\n      console.log('Transformed occurrence for modal:', transformedOccurrence);\n    }\n    setSelectedOccurrence(transformedOccurrence);\n    setShowAddOccurrenceModal(true);\n  };\n\n  const getTimeUnitDisplay = (unit) => {\n    if (!unit) return 'per visit';\n    const formatted = unit.toLowerCase().replace('_', ' ');\n    return formatted;\n  };\n\n  const calculateMultiple = (baseTotal, baseRate) => {\n    if (!baseRate || baseRate === 0) return 0;\n    const total = parseFloat(baseTotal.replace('$', ''));\n    const rate = parseFloat(baseRate);\n    return (total / rate).toFixed(2);\n  };\n\n  const renderCostBreakdown = () => (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>Cost Breakdown</Text>\n      \n      {(booking?.occurrences || []).map((occurrence, index) => (\n        <TouchableOpacity \n          key={index}\n          style={styles.occurrenceCostRow}\n          onPress={() => setExpandedOccurrenceId(\n            expandedOccurrenceId === occurrence.occurrence_id ? null : occurrence.occurrence_id\n          )}\n        >\n          <View style={styles.occurrenceCostHeader}>\n            <Text style={styles.occurrenceCostHeaderText}>\n              {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n              }\n            </Text>\n            <View style={styles.costAndIcon}>\n              <Text style={styles.occurrenceCost}>\n                ${parseFloat(occurrence.calculated_cost || 0).toFixed(2)}\n              </Text>\n              <MaterialCommunityIcons \n                name={expandedOccurrenceId === occurrence.occurrence_id ? \"chevron-up\" : \"chevron-down\"}\n                size={20} \n                color={theme.colors.text} \n              />\n            </View>\n          </View>\n          \n          {expandedOccurrenceId === occurrence.occurrence_id && (\n            <View style={styles.expandedCostDetails}>\n              <View style={styles.costDetailRow}>\n                <Text style={styles.costDetailText}>Base Rate ({getTimeUnitDisplay(occurrence.rates?.unit_of_time)}):</Text>\n                <Text style={styles.costDetailText}>\n                  ${parseFloat(occurrence.rates?.base_rate || 0).toFixed(2)} × {\n                    calculateMultiple(occurrence.base_total, occurrence.rates?.base_rate)\n                  } = ${parseFloat(occurrence.base_total.replace('$', '')).toFixed(2)}\n                </Text>\n              </View>\n              {occurrence.rates?.additional_animal_rate_applies && occurrence.rates?.additional_animal_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Additional Animal Rate (after {occurrence.rates.applies_after} animals):</Text>\n                  <Text style={styles.costDetailText}>${parseFloat(occurrence.rates.additional_animal_rate).toFixed(2)}</Text>\n                </View>\n              )}\n              {occurrence.rates?.holiday_days > 0 && occurrence.rates?.holiday_rate > 0 && (\n                <View style={styles.costDetailRow}>\n                  <Text style={styles.costDetailText}>Holiday Rate ({occurrence.rates.holiday_days} day{occurrence.rates.holiday_days > 1 ? 's' : ''}):</Text>\n                  <Text style={styles.costDetailText}>${(parseFloat(occurrence.rates.holiday_rate) * occurrence.rates.holiday_days).toFixed(2)}</Text>\n                </View>\n              )}\n              {(occurrence.rates?.additional_rates || [])\n                .filter(rate => rate.title !== 'Booking Details Cost')\n                .map((rate, idx) => (\n                  <View key={idx} style={styles.costDetailRow}>\n                    <Text style={styles.costDetailText}>{rate.title}:</Text>\n                    <Text style={styles.costDetailText}>${parseFloat(rate.amount.replace('$', '')).toFixed(2)}</Text>\n                  </View>\n              ))}\n            </View>\n          )}\n        </TouchableOpacity>\n      ))}\n\n      <View style={styles.costSummary}>\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Subtotal:</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.subtotal || 0).toFixed(2)}</Text>\n        </View>\n        {!is_prototype && (\n          <View style={styles.summaryRow}>\n            <Text style={styles.summaryText}>Platform Fee (10%):</Text>\n            <Text style={styles.summaryText}>${(booking?.cost_summary?.platform_fee || 0).toFixed(2)}</Text>\n          </View>\n        )}\n        <View style={styles.summaryRow}>\n          <Text style={styles.summaryText}>Taxes (8%):</Text>\n          <Text style={styles.summaryText}>${(booking?.cost_summary?.taxes || 0).toFixed(2)}</Text>\n        </View>\n        <View style={[styles.summaryRow, styles.totalRow]}>\n          <Text style={styles.totalLabel}>Total Cost to Client:</Text>\n          <Text style={styles.totalAmount}>\n            ${(booking?.cost_summary?.total_client_cost || 0).toFixed(2)}\n          </Text>\n        </View>\n        <View style={[styles.summaryRow, styles.payoutRow]}>\n          <Text style={styles.payoutLabel}>Sitter Payout:</Text>\n          <Text style={styles.payoutAmount}>\n            ${(booking?.cost_summary?.total_sitter_payout || 0).toFixed(2)}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n\n  const formatTimeString = (dateStr, timeStr) => {\n    if (!dateStr || !timeStr) return '';\n    const [hours, minutes] = timeStr.split(':');\n    const date = new Date(dateStr);\n    date.setHours(parseInt(hours, 10), parseInt(minutes, 10));\n    return format(date, 'h:mm a');\n  };\n\n  const sendBookingMessage = async (bookingId, recipientId, messageType) => {\n    try {\n      if (!booking) {\n        throw new Error('No booking data available');\n      }\n\n      if (is_DEBUG) {\n        console.log('Sending booking message:', {\n          bookingId,\n          recipientId,\n          messageType,\n          booking\n        });\n      }\n\n      // Find the existing conversation with Dr. Mike Johnson\n      const conversationId = 'conv_2'; // This is the existing conversation ID from mockData\n      if (is_DEBUG) {\n        console.log('Using existing conversation:', conversationId);\n      }\n\n      const bookingMessage = {\n        message_id: Date.now().toString(),\n        participant1_id: CURRENT_USER_ID,\n        participant2_id: recipientId,\n        sender: CURRENT_USER_ID,\n        type: 'booking_request',\n        data: {\n          bookingId: bookingId,\n          messageType: messageType,\n          serviceType: booking.serviceType,\n          dates: booking.occurrences.map(occ => ({\n            startDate: occ.start_date,\n            endDate: occ.end_date,\n            startTime: occ.start_time,\n            endTime: occ.end_time\n          })),\n          totalCost: booking.costs.totalClientCost,\n          status: booking.status\n        },\n        timestamp: new Date().toISOString(),\n        status: \"sent\",\n        is_booking_request: true,\n        metadata: {}\n      };\n\n      // Add message to existing conversation\n      if (!mockMessages[conversationId]) {\n        mockMessages[conversationId] = [];\n      }\n      mockMessages[conversationId].push(bookingMessage);\n\n      // Update the conversation's last message\n      const conversation = mockConversations.find(conv => conv.id === conversationId);\n      if (conversation) {\n        conversation.lastMessage = \"Booking update sent\";\n        conversation.timestamp = new Date().toISOString();\n        conversation.unread = true;\n      }\n\n      if (is_DEBUG) {\n        console.log('Message sent successfully to conversation:', conversationId);\n        console.log('Updated conversation messages:', mockMessages[conversationId]);\n      }\n      return true;\n    } catch (error) {\n      console.error('Error sending booking message:', error);\n      return false;\n    }\n  };\n\n  const handleStatusUpdate = async (newStatus, reason = '', metadata = {}) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // First send the message\n      if (newStatus === BOOKING_STATES.PENDING_CLIENT_APPROVAL) {\n        const messageSent = await sendBookingMessage(\n          booking.id,\n          booking.clientId || 'client123',\n          'professional_changes'\n        );\n        if (!messageSent) {\n          throw new Error('Failed to send booking message');\n        }\n      }\n\n      // Then update the booking status\n      if (is_DEBUG) {\n        console.log('Updating booking status:', {\n          bookingId: booking.id,\n          currentStatus: booking.status,\n          newStatus,\n          reason,\n          metadata\n        });\n      }\n\n      const updatedBooking = await updateBookingStatus(\n        booking.id, \n        newStatus, \n        reason, \n        {\n          ...metadata,\n          occurrences: booking.occurrences,\n          costs: booking.costs\n        }\n      );\n\n      setBooking(updatedBooking);\n      setHasUnsavedChanges(false);\n      Alert.alert('Success', `Booking ${newStatus.toLowerCase()} successfully`);\n    } catch (error) {\n      console.error('Error updating booking status:', error);\n      Alert.alert('Error', 'Failed to update booking status');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n    }\n  };\n\n  const handleRequestChanges = async (reason) => {\n    await handleStatusUpdate(BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES, reason);\n    setShowRequestChangesModal(false);\n  };\n\n  const showConfirmation = (actionText, onConfirm) => {\n    setConfirmationModal({\n      visible: true,\n      actionText,\n      onConfirm,\n      isLoading: false\n    });\n  };\n\n  const hideConfirmation = () => {\n    setConfirmationModal({\n      visible: false,\n      actionText: '',\n      onConfirm: null,\n      isLoading: false\n    });\n  };\n\n  const renderActionButtons = () => {\n    if (!booking) return null;\n\n    const buttons = [];\n\n    if (isProfessionalView) {\n      // Send to Client button - Professional Only\n      if ([\n        BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n        BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"send\"\n            style={[styles.button, styles.primaryButton]}\n            onPress={() => showConfirmation(\n              'send these changes to the client',\n              () => handleStatusUpdate(BOOKING_STATES.PENDING_CLIENT_APPROVAL)\n            )}\n          >\n            <Text style={styles.buttonText}>Send to Client</Text>\n          </TouchableOpacity>\n        );\n      }\n\n      // Deny button - Professional Only\n      if (booking.status === BOOKING_STATES.PENDING_INITIAL_PROFESSIONAL_CHANGES) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"deny\"\n            style={[styles.button, styles.denyButton]}\n            onPress={() => showConfirmation(\n              'deny this booking',\n              () => handleStatusUpdate(BOOKING_STATES.DENIED)\n            )}\n          >\n            <Text style={styles.buttonText}>Deny</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    // Cancel button - Both Professional and Client\n    if ([\n      BOOKING_STATES.PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED,\n      BOOKING_STATES.CONFIRMED_PENDING_PROFESSIONAL_CHANGES,\n      BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n    ].includes(booking.status)) {\n      buttons.push(\n        <TouchableOpacity\n          key=\"cancel\"\n          style={[styles.button, styles.cancelButton]}\n          onPress={() => showConfirmation(\n            'cancel this booking',\n            () => handleStatusUpdate(BOOKING_STATES.CANCELLED)\n          )}\n        >\n          <Text style={styles.cancelButtonText}>Cancel Booking</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    // Client-specific buttons\n    if (!isProfessionalView) {\n      // Approve button - Client Only\n      if ([\n        BOOKING_STATES.PENDING_CLIENT_APPROVAL,\n        BOOKING_STATES.CONFIRMED_PENDING_CLIENT_APPROVAL\n      ].includes(booking.status)) {\n        buttons.push(\n          <TouchableOpacity\n            key=\"approve\"\n            style={[styles.button, styles.approveButton]}\n            onPress={() => showConfirmation(\n              'approve this booking',\n              () => handleStatusUpdate(BOOKING_STATES.CONFIRMED)\n            )}\n          >\n            <Text style={styles.buttonText}>Approve</Text>\n          </TouchableOpacity>\n        );\n      }\n    }\n\n    return (\n      <View style={styles.actionButtonsContainer}>\n        {buttons}\n      </View>\n    );\n  };\n\n  // Add this effect to update editedBooking when booking changes\n  useEffect(() => {\n    if (booking) {\n      setEditedBooking(booking);\n    }\n  }, [booking]);\n\n  const handleServiceTypeChange = (newServiceType) => {\n    if (is_DEBUG) {\n      console.log('Previous editedBooking:', editedBooking);\n      console.log('New service type:', newServiceType);\n    }\n    \n    setEditedBooking(prev => {\n      const updated = {\n        ...prev,\n        serviceDetails: {\n          ...prev.serviceDetails,\n          type: newServiceType\n        }\n      };\n      if (is_DEBUG) {\n        console.log('Updated editedBooking:', updated);\n      }\n      return updated;\n    });\n  };\n\n  const renderServiceTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowServiceDropdown(!showServiceDropdown)}\n      >\n        <Text>{editedBooking?.service_details?.service_type || 'Select Service Type'}</Text>\n        <MaterialCommunityIcons \n          name={showServiceDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showServiceDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {isLoadingServices ? (\n              <ActivityIndicator style={{ padding: 10 }} />\n            ) : (\n              (is_prototype ? SERVICE_OPTIONS : availableServices).map((service) => (\n                <TouchableOpacity\n                  key={is_prototype ? service : service.service_id}\n                  style={styles.dropdownItem}\n                  onPress={() => {\n                    setEditedBooking(prev => ({\n                      ...prev,\n                      service_details: {\n                        ...prev.service_details,\n                        service_type: is_prototype ? service : service.service_name,\n                        service_id: is_prototype ? null : service.service_id\n                      }\n                    }));\n                    setShowServiceDropdown(false);\n                  }}\n                >\n                  <Text style={[\n                    styles.dropdownText,\n                    editedBooking?.service_details?.service_type === (is_prototype ? service : service.service_name) && styles.selectedOption\n                  ]}>\n                    {is_prototype ? service : service.service_name}\n                  </Text>\n                </TouchableOpacity>\n              ))\n            )}\n            {!isLoadingServices && !is_prototype && availableServices.length === 0 && (\n              <Text style={styles.noContentText}>No services available</Text>\n            )}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderAnimalTypeDropdown = () => (\n    <View style={styles.dropdownContainer}>\n      <TouchableOpacity\n        style={styles.dropdownInput}\n        onPress={() => setShowAnimalDropdown(!showAnimalDropdown)}\n      >\n        <Text>{editedBooking?.serviceDetails?.animalType || 'Select Animal Type'}</Text>\n        <MaterialCommunityIcons \n          name={showAnimalDropdown ? \"chevron-up\" : \"chevron-down\"} \n          size={24} \n          color={theme.colors.text} \n        />\n      </TouchableOpacity>\n\n      {showAnimalDropdown && (\n        <View style={styles.dropdownList}>\n          <ScrollView nestedScrollEnabled={true}>\n            {ANIMAL_OPTIONS.map((animal) => (\n              <TouchableOpacity\n                key={animal}\n                style={styles.dropdownItem}\n                onPress={() => {\n                  setEditedBooking(prev => ({\n                    ...prev,\n                    serviceDetails: {\n                      ...(prev.serviceDetails || {}),\n                      animalType: animal\n                    }\n                  }));\n                  setShowAnimalDropdown(false);\n                  handleStatusUpdateAfterEdit();\n                }}\n              >\n                <Text style={[\n                  styles.dropdownText,\n                  editedBooking?.serviceDetails?.animalType === animal && styles.selectedOption\n                ]}>\n                  {animal}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </ScrollView>\n        </View>\n      )}\n    </View>\n  );\n\n  const renderDateTimeSection = () => (\n    <View>\n      <Text style={styles.sectionTitle}>\n        {canEdit() ? \"Dates & Times (Set Rates for Dates)\" : \"Dates & Times\"}\n      </Text>\n      {(booking?.occurrences || []).map((occurrence, index) => (\n        canEdit() ? (\n          <TouchableOpacity \n            key={index}\n            style={styles.occurrenceCard}\n            onPress={() => handleDateTimeCardPress(occurrence)}\n          >\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n            <View style={styles.occurrenceActions}>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => confirmDeleteOccurrence(occurrence.occurrence_id)}\n              >\n                <MaterialCommunityIcons name=\"trash-can-outline\" size={20} color={theme.colors.error} />\n              </TouchableOpacity>\n              <TouchableOpacity \n                style={styles.actionButton}\n                onPress={() => handleDateTimeCardPress(occurrence)}\n              >\n                <MaterialCommunityIcons name=\"pencil\" size={20} color={theme.colors.primary} />\n              </TouchableOpacity>\n            </View>\n          </TouchableOpacity>\n        ) : (\n          <View key={index} style={styles.occurrenceCard}>\n            <View style={styles.occurrenceDetails}>\n              <Text style={styles.dateText}>\n                {occurrence.end_date && occurrence.start_date !== occurrence.end_date ? \n                  `${format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')} - ${format(formatDateWithoutTimezone(occurrence.end_date), 'MMM d, yyyy')}` :\n                  format(formatDateWithoutTimezone(occurrence.start_date), 'MMM d, yyyy')\n                }\n              </Text>\n              <Text style={styles.timeText}>\n                {`${occurrence.start_time} - ${occurrence.end_time}`}\n              </Text>\n            </View>\n          </View>\n        )\n      ))}\n      \n      {canEdit() && (\n        <TouchableOpacity\n          style={styles.addOccurrenceButton}\n          onPress={() => {\n            setSelectedOccurrence(null);\n            setShowAddOccurrenceModal(true);\n          }}\n        >\n          <MaterialCommunityIcons name=\"plus\" size={24} color={theme.colors.primary} />\n          <Text style={styles.addOccurrenceText}>Add Occurrence</Text>\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n\n  const handleDeleteOccurrence = async (occurrenceId) => {\n    setConfirmationModal(prev => ({ ...prev, isLoading: true }));\n    \n    try {\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      const updatedOccurrences = booking.occurrences.filter(occ => occ.occurrence_id !== occurrenceId);\n      \n      setBooking(prev => ({\n        ...prev,\n        occurrences: updatedOccurrences,\n        costs: calculateTotalCosts(updatedOccurrences)\n      }));\n      \n      handleStatusUpdateAfterEdit();\n    } catch (error) {\n      console.error('Error deleting occurrence:', error);\n      Alert.alert('Error', 'Failed to delete occurrence');\n    } finally {\n      setConfirmationModal(prev => ({ \n        ...prev, \n        isLoading: false,\n        visible: false\n      }));\n      \n      setTimeout(() => {\n        setConfirmationModal({ \n          visible: false, \n          actionText: '', \n          onConfirm: null, \n          isLoading: false \n        });\n      }, 300);\n    }\n  };\n\n  const confirmDeleteOccurrence = (occurrenceId) => {\n    setConfirmationModal({\n      visible: true,\n      actionText: 'delete this occurrence',\n      onConfirm: () => handleDeleteOccurrence(occurrenceId),\n      isLoading: false\n    });\n  };\n\n  return (\n    <CrossPlatformView fullWidthHeader={true}>\n      <BackHeader\n        title=\"Booking Details\"\n        onBackPress={() => handleBack(navigation)}\n      />\n      {loading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      ) : !booking ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>Unable to load booking details</Text>\n        </View>\n      ) : (\n        <ScrollView style={styles.container}>\n          <StatusBadge status={getDisplayValue(booking?.status, 'Pending Professional Changes')} />\n          \n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Booking Parties</Text>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Client: </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.clientName)}</Text>\n            </View>\n            <View style={styles.serviceDetailRow}>\n              <Text style={styles.label}>Professional:  </Text>\n              <Text style={styles.value}>{getDisplayValue(booking?.professionalName)}</Text>\n            </View>\n          </View>\n\n          <View style={[styles.section, styles.petsSection]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Booking Pets</Text>\n              {renderEditButton()}\n            </View>\n            \n            {renderPetSelector()}\n          </View>\n\n          <View style={[styles.section, { zIndex: 2 }]}>\n            <View style={styles.sectionHeader}>\n              <Text style={styles.sectionTitle}>Service Details</Text>\n              {canEdit() && (\n                <TouchableOpacity \n                  onPress={toggleServiceEditMode}\n                  style={[styles.sectionEditButton, isServiceEditMode && styles.saveButton]}\n                  disabled={isServiceSaving}\n                  testID=\"edit-button\"\n                >\n                  {isServiceEditMode ? (\n                    isServiceSaving ? (\n                      <ActivityIndicator size=\"small\" color={theme.colors.surface} />\n                    ) : (\n                      <Text style={styles.saveButtonText}>Save Service Details</Text>\n                    )\n                  ) : (\n                    <MaterialCommunityIcons \n                      name=\"pencil\"\n                      size={24} \n                      color={theme.colors.primary} \n                    />\n                  )}\n                </TouchableOpacity>\n              )}\n            </View>\n            {isServiceEditMode ? (\n              <View style={styles.serviceEditContainer}>\n                <View style={[styles.serviceInputRow, { zIndex: 3 }]}>\n                  <Text style={styles.inputLabel}>Service Type:</Text>\n                  <View style={styles.inputContainer}>\n                    {renderServiceTypeDropdown()}\n                  </View>\n                </View>\n              </View>\n            ) : (\n              <View style={styles.serviceDetailsContainer}>\n                <View style={styles.serviceDetailRow}>\n                  <Text style={styles.label}>Service Type: </Text>\n                  <Text style={styles.value}>{booking.service_details.service_type}</Text>\n                </View>\n              </View>\n            )}\n          </View>\n\n          <View style={[styles.section, styles.dateTimeSection]}>\n            {renderDateTimeSection()}\n          </View>\n\n          {renderCostBreakdown()}\n\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Cancellation Policy</Text>\n            <Text style={styles.policyText}>\n              • No refund if canceled within 1 hour of booking start time{'\\n'}\n              • 50% refund if canceled between 1-24 hours before start time{'\\n'}\n              • Full refund if canceled more than 24 hours before the booking\n            </Text>\n          </View>\n\n          {renderActionButtons()}\n\n          <RequestChangesModal\n            visible={showRequestChangesModal}\n            onClose={() => setShowRequestChangesModal(false)}\n            onSubmit={handleRequestChanges}\n            loading={actionLoading}\n          />\n        </ScrollView>\n      )}\n      <AddRateModal\n        visible={showAddRateModal}\n        onClose={() => setShowAddRateModal(false)}\n        onAdd={(newRate) => {\n          setEditedBooking(prev => ({\n            ...prev,\n            rates: {\n              ...prev.rates,\n              extraServices: [...(prev.rates.extraServices || []), newRate]\n            }\n          }));\n          recalculateTotals();\n          setShowAddRateModal(false);\n        }}\n      />\n      <AddOccurrenceModal\n        visible={showAddOccurrenceModal}\n        onClose={() => {\n          setShowAddOccurrenceModal(false);\n          setTimeout(() => {\n            setSelectedOccurrence(null);\n          }, 300);\n        }}\n        onAdd={selectedOccurrence ? \n          (updatedData) => handleSaveOccurrence({...updatedData, occurrence_id: selectedOccurrence.occurrence_id}) : \n          handleAddOccurrence}\n        defaultRates={booking?.rates}\n        initialOccurrence={selectedOccurrence}\n        isEditing={!!selectedOccurrence}\n      />\n      <ConfirmationModal\n        visible={confirmationModal.visible}\n        actionText={confirmationModal.actionText}\n        onClose={() => {\n          if (!confirmationModal.isLoading) {\n            setConfirmationModal({ \n              visible: false, \n              actionText: confirmationModal.actionText, \n              onConfirm: null, \n              isLoading: false \n            });\n          }\n        }}\n        onConfirm={confirmationModal.onConfirm}\n        isLoading={confirmationModal.isLoading}\n      />\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  statusBadge: {\n    alignSelf: 'flex-start',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n  },\n  statusText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  section: {\n    marginBottom: 24,\n    backgroundColor: theme.colors.surface,\n    padding: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    position: 'relative',\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  label: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n    fontWeight: '500',\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  text: {\n    fontSize: 16,\n    marginBottom: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  totalRow: {\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    paddingTop: 8,\n    marginTop: 8,\n  },\n  totalLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  totalAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  policyText: {\n    fontSize: 14,\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  button: {\n    padding: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  buttonText: {\n    color: theme.colors.surface,\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  cancelButtonText: {\n    color: theme.colors.error,\n    borderWidth: 1,\n    borderColor: theme.colors.error,\n    padding: 8,\n    borderRadius: 8,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  errorText: {  \n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.error,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  statusLabel: {\n    fontSize: 16,\n    marginRight: 8,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 16,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  petName: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noContentText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  saveButtonText: {\n    color: 'white',\n    fontWeight: '600',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editButton: {\n  },\n  editField: {\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  editableServiceRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  removeServiceButton: {\n    marginLeft: 8,\n  },\n  editRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n    position: 'relative',\n  },\n  editInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    width: 80,\n    textAlign: 'right',\n  },\n  addRateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n  },\n  addRateText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  dropdownContainer: {\n    position: 'relative',\n    width: 150,\n  },\n  dropdownInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 4,\n    backgroundColor: theme.colors.surface,\n  },\n  timeDropdownList: {\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    backgroundColor: '#FFFFFF',\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    maxHeight: 200,\n    zIndex: 1001,\n    elevation: 5,\n    marginTop: 4,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    backgroundColor: '#FFFFFF',\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  selectedOption: {\n    color: theme.colors.primary,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  bookingDatesSection: {\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  sectionSubtitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 10,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dateTimeRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 15,\n  },\n  datePickerContainer: {\n    flex: 1,\n    marginRight: 10,\n  },\n  timePickerContainer: {\n    width: 120,\n  },\n  timePickerButton: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  dropdownList: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: '100%',\n    backgroundColor: theme.colors.surface,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  rateSection: {\n    marginBottom: 20,\n    padding: 12,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n  },\n  rateSectionTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 12,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  rateInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 8,\n  },\n  rateInputGroup: {\n    flex: 1,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 4,\n    padding: 8,\n    fontSize: 14,\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  removeButton: {\n    padding: 4,\n  },\n  summarySection: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  rateHeaderRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n    paddingHorizontal: 4,\n  },\n  columnHeader: {\n    fontSize: 12,\n    color: theme.colors.placeholder,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  rateAmountColumn: {\n    alignItems: 'flex-start',\n  },\n  rateActionButtons: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: 72,\n    gap: 8,\n  },\n  infoButton: {\n    padding: 4,\n  },\n  actionButtonsContainer: {\n    padding: 16,\n    backgroundColor: theme.colors.surface,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n    gap: 12,\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    padding: 16,\n  },\n  modalContent: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    padding: 16,\n  },\n  reasonInput: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 16,\n    minHeight: 100,\n    textAlignVertical: 'top',\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    gap: 12,\n  },\n  modalButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 8,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  submitButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '500',\n  },\n  primaryButton: {\n    backgroundColor: theme.colors.primary,\n  },\n  denyButton: {\n    backgroundColor: theme.colors.error,\n  },\n  serviceEditContainer: {\n    gap: 16,\n  },\n  serviceInputRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 16,\n  },\n  inputLabel: {\n    fontSize: theme.fontSizes.largeLarge,\n    color: theme.colors.text,\n    flex: 1,\n  },\n  inputContainer: {\n    width: 150, // Fixed width for dropdowns and number input\n  },\n  numberInput: {\n    height: 40,\n    width: 150, // Match the width of dropdowns\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    paddingHorizontal: 12,\n    fontSize: 16,\n  },\n  serviceDetailsContainer: {\n    gap: 12,\n  },\n  serviceDetailRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  value: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n    alignSelf: 'center',\n  },\n  occurrenceActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n  },\n  actionButton: {\n    padding: 8,\n  },\n  saveButton: {\n    backgroundColor: theme.colors.primary,\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8,\n    minWidth: 140,  // Ensure enough width for the text\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  saveButtonText: {\n    color: theme.colors.surface,\n    fontWeight: '600',\n    fontSize: 14,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  actionButtons: {\n    width: 72, // Approximate width of both buttons + gap\n  },\n  additionalRateRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingBottom: 8,\n  },\n  occurrenceCard: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 15,\n    backgroundColor: theme.colors.surface,\n    borderRadius: 8,\n    marginBottom: 10,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n  },\n  occurrenceDetails: {\n    flex: 1,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  timeText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginLeft: 20,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n  },\n  addOccurrenceButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderWidth: 1,\n    borderColor: theme.colors.primary,\n    borderRadius: 8,\n    marginTop: 12,\n  },\n  addOccurrenceText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  occurrenceCostRow: {\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n    paddingVertical: 12,\n  },\n  occurrenceCostHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  occurrenceCostHeaderText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAndIcon: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  occurrenceCost: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  costSummary: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  expandedCostDetails: {\n    marginTop: 10,\n    paddingTop: 10,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  costDetailRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 4,\n  },\n  costDetailText: {\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  sectionEditButton: {\n    padding: 8,\n  },\n  petItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  petInfo: {\n    flex: 1,\n  },\n  petDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n  },\n  addPetButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 12,\n    marginTop: 8,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    justifyContent: 'center',\n  },\n  addPetText: {\n    marginLeft: 8,\n    color: theme.colors.primary,\n    fontSize: 16,\n  },\n  petDropdown: {\n    maxHeight: 200,\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    marginTop: 8,\n    backgroundColor: theme.colors.surface,\n    position: 'absolute',\n    top: '100%',\n    left: 0,\n    right: 0,\n    zIndex: 1000,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownPetName: {\n    fontSize: 16,\n    fontWeight: '500',\n  },\n  dropdownPetDetails: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    marginTop: 2,\n  },\n  noPetsText: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontStyle: 'italic',\n  },\n  petsSection: {\n    zIndex: 3,\n    elevation: 3,\n  },\n  dateTimeSection: {\n    zIndex: 1,\n    elevation: 1,\n  },\n  payoutRow: {\n    marginTop: 12,\n    paddingTop: 12,\n    borderTopWidth: 1,\n    borderTopColor: theme.colors.border,\n  },\n  payoutLabel: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.success,\n  },\n  payoutAmount: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: theme.colors.success,\n  },\n  clientName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  proName: {\n    fontSize: 18,\n    fontWeight: 'normal',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  serviceTypeLabel: {\n    fontSize: theme.fontSizes.mediumLarge,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.header.fontFamily,\n    fontWeight: 'normal',\n  },\n  petListTitle: {\n    fontSize: 16,\n    fontWeight: '900',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  petInfo: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costBreakdownTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  costLabel: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  costAmount: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateLabel: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  additionalRateAmount: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailLabel: {\n    fontSize: 16,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  serviceDetailValue: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTitle: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  occurrenceCardDate: {\n    fontSize: 16,\n    fontWeight: '500',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardTime: {\n    fontSize: 14,\n    color: theme.colors.placeholder,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  editOccurrenceText: {\n    color: theme.colors.primary,\n    marginLeft: 5,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  summaryRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8,\n  },\n  summaryText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownText: {\n    color: theme.colors.text,\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dropdownItem: {\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  dropdownItemText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  occurrenceCardText: {\n    fontSize: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BookingDetails;","import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ActivityIndicator, Platform } from 'react-native';\nimport { Button } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport ServiceManager from '../components/ServiceManager';\nimport AddServiceModal from '../components/AddServiceModal';\nimport { theme } from '../styles/theme';\nimport { DEFAULT_SERVICES } from '../data/mockData';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport BackHeader from '../components/BackHeader';\nimport { handleBack } from '../components/Navigation';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst ServiceManagerScreen = () => {\n  const navigation = useNavigation();\n  const [services, setServices] = useState([]);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        setServices(DEFAULT_SERVICES);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        setIsLoading(false);\n      }\n    };\n\n    fetchServices();\n  }, []);\n\n  useEffect(() => {\n    const setRouteHistory = async () => {\n      const currentRoute = 'ServiceManager';\n      let previousRoute;\n\n      if (Platform.OS === 'web') {\n        previousRoute = sessionStorage.getItem('previousRoute');\n        sessionStorage.setItem('previousRoute', previousRoute || '');\n        sessionStorage.setItem('currentRoute', currentRoute);\n      } else {\n        previousRoute = await AsyncStorage.getItem('previousRoute');\n        await AsyncStorage.setItem('previousRoute', previousRoute || '');\n        await AsyncStorage.setItem('currentRoute', currentRoute);\n      }\n\n      if (!previousRoute) {\n        previousRoute = 'ProfessionalDashboard';\n        currentRoute = 'ServiceManager';\n        if (Platform.OS === 'web') {\n          sessionStorage.setItem('previousRoute', previousRoute || '');\n          sessionStorage.setItem('currentRoute', currentRoute);\n        } else {\n          await AsyncStorage.setItem('previousRoute', previousRoute || '');\n          await AsyncStorage.setItem('currentRoute', currentRoute);\n        }\n      }\n    };\n    setRouteHistory();\n  }, []);\n\n  const handleAddService = (newService) => {\n    setServices(prev => [...prev, newService]);\n    setHasUnsavedChanges(true);\n  };\n\n  if (isLoading) {\n    return (\n      <CrossPlatformView fullWidthHeader={true}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => navigation.navigate('More')} \n        />\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color={theme.colors.primary} />\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} style={{ position: 'relative', zIndex: 1 }}>\n      <View style={{ position: 'relative', zIndex: 1 }}>\n        <BackHeader \n          title=\"Service Manager\" \n          onBackPress={() => handleBack(navigation)} \n          style={{ zIndex: 1 }}\n        />\n      </View>\n      <View style={[styles.container, { marginTop: 20, position: 'relative', zIndex: 2 }]}>\n        <ServiceManager\n          services={services || []}\n          setServices={setServices}\n          setHasUnsavedChanges={setHasUnsavedChanges}\n          isProfessionalTab={false}\n        />\n      </View>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative',\n    zIndex: 1,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyText: {\n    fontSize: 18,\n    color: theme.colors.text,\n    // marginBottom: 20,\n  },\n  addButton: {\n    paddingHorizontal: 20,\n  },\n});\n\nexport default ServiceManagerScreen; ","import React, { useState, useCallback } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  Image,\n  Platform,\n  TextInput\n} from 'react-native';\nimport { useTheme, Searchbar } from 'react-native-paper';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport { navigateToFrom } from '../components/Navigation';\n\nconst BlogScreen = ({ navigation }) => {\n  const theme = useTheme();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredPosts, setFilteredPosts] = useState(BLOG_POSTS);\n\n  const handleBack = () => {\n    navigation.navigate('More');\n  };\n\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n    const lowercaseQuery = query.toLowerCase();\n    const filtered = BLOG_POSTS.filter(post => \n      post.title.toLowerCase().includes(lowercaseQuery) ||\n      post.author.name.toLowerCase().includes(lowercaseQuery) ||\n      post.content.toLowerCase().includes(lowercaseQuery)\n    );\n    setFilteredPosts(filtered);\n  }, []);\n\n  const renderBlogPost = (post) => {\n    const truncatedContent = post.content.slice(0, 200) + '...';\n\n    return (\n      <TouchableOpacity\n        key={post.id}\n        style={[styles.blogCard, { backgroundColor: theme.colors.surface }]}\n        onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost', { post })}\n      >\n        <View style={styles.authorContainer}>\n          <Image\n            source={{ uri: post.author.profilePicture }}\n            style={styles.authorImage}\n          />\n          <View style={styles.blogContent}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>{post.title}</Text>\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.dot}> • </Text>\n              <Text style={styles.readTime}>{post.readTime}</Text>\n            </View>\n            <Text style={styles.preview} numberOfLines={3}>\n              {truncatedContent}\n            </Text>\n            <View style={styles.tags}>\n              {post.tags.map((tag, index) => (\n                <View \n                  key={index} \n                  style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n                >\n                  <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n                </View>\n              ))}\n            </View>\n            <View style={styles.stats}>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"heart-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.likes}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"comment-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.comments}</Text>\n              </View>\n              <View style={styles.stat}>\n                <MaterialCommunityIcons name=\"share-outline\" size={20} color={theme.colors.secondary} />\n                <Text style={styles.statText}>{post.shares}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title=\"Blog\" \n        onBackPress={handleBack}\n      />\n      <View style={styles.searchBarContainer}>\n        {Platform.OS === 'web' ? (\n          <View style={[styles.searchBar, { backgroundColor: theme.colors.surface }]}>\n            <MaterialCommunityIcons name=\"magnify\" size={24} color={theme.colors.primary} />\n            <TextInput\n              placeholder=\"Search by title, author, or content\"\n              onChangeText={handleSearch}\n              value={searchQuery}\n              style={styles.webSearchInput}\n            />\n            {searchQuery ? (\n              <TouchableOpacity onPress={() => handleSearch('')}>\n                <MaterialCommunityIcons name=\"close-circle\" size={24} color={theme.colors.primary} />\n              </TouchableOpacity>\n            ) : null}\n          </View>\n        ) : (\n          <Searchbar\n            placeholder=\"Search by title, author, or content\"\n            onChangeText={handleSearch}\n            value={searchQuery}\n            style={styles.searchBar}\n            icon=\"magnify\"\n            clearIcon=\"close-circle\"\n          />\n        )}\n      </View>\n      <ScrollView style={styles.scrollView}>\n        {filteredPosts.length > 0 ? (\n          filteredPosts.map(renderBlogPost)\n        ) : (\n          <View style={styles.noResultsContainer}>\n            <MaterialCommunityIcons \n              name=\"magnify-close\" \n              size={48} \n              color={theme.colors.secondary} \n            />\n            <Text style={[styles.noResultsText, { color: theme.colors.secondary }]}>\n              No blog posts found\n            </Text>\n          </View>\n        )}\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  searchBarContainer: {\n    margin: 16,\n  },\n  searchBar: {\n    elevation: 4,\n    borderRadius: 8,\n    backgroundColor: theme.colors.surface,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n  },\n  searchInput: {\n    fontSize: 16,\n    color: theme.colors.text,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  blogCard: {\n    margin: 16,\n    padding: 16,\n    borderRadius: 12,\n    elevation: 4,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n  },\n  authorImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    marginRight: 12,\n  },\n  blogContent: {\n    flex: 1,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  authorName: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  preview: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 12,\n    color: '#444',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 12,\n  },\n  tag: {\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 12,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginTop: 8,\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: 16,\n  },\n  statText: {\n    marginLeft: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  noResultsContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n    marginTop: 40,\n  },\n  noResultsText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  webSearchInput: {\n    flex: 1,\n    padding: 8,\n    fontSize: 16,\n    color: theme.colors.text,\n    border: 'none',\n    backgroundColor: 'transparent',\n    WebkitTapHighlightColor: 'transparent',\n    outlineWidth: 0,\n    outlineStyle: 'none',\n    boxShadow: 'none',\n    borderColor: 'transparent',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogScreen;","import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  Linking,\n  Platform\n} from 'react-native';\nimport { useTheme } from 'react-native-paper';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport BackHeader from '../components/BackHeader';\nimport { theme } from '../styles/theme';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { BLOG_POSTS } from '../data/mockData';\nimport { handleBack, navigateToFrom } from '../components/Navigation';\n\nconst BlogPost = ({ route, navigation }) => {\n  const [post, setPost] = useState(null);\n  const theme = useTheme();\n\n  // Validate post data structure\n  const isValidPost = (postData) => {\n    return postData && \n           typeof postData === 'object' && \n           postData.author && \n           typeof postData.author === 'object' &&\n           postData.author.name &&\n           postData.author.profilePicture &&\n           postData.author.bio &&\n           postData.title &&\n           postData.content &&\n           Array.isArray(postData.tags);\n  };\n\n  useEffect(() => {\n    const loadPost = async () => {\n      try {\n        // Try to get post from route params first\n        if (route?.params?.post && isValidPost(route.params.post)) {\n          setPost(route.params.post);\n          // Store the post data\n          if (Platform.OS === 'web') {\n            sessionStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          } else {\n            await AsyncStorage.setItem('currentBlogPost', JSON.stringify(route.params.post));\n          }\n          return;\n        }\n\n        // If no route params or invalid post, try to load from storage\n        let storedPost;\n        if (Platform.OS === 'web') {\n          storedPost = sessionStorage.getItem('currentBlogPost');\n        } else {\n          storedPost = await AsyncStorage.getItem('currentBlogPost');\n        }\n\n        if (storedPost) {\n          const parsedPost = JSON.parse(storedPost);\n          if (isValidPost(parsedPost)) {\n            setPost(parsedPost);\n            return;\n          }\n        }\n\n        // If no valid post found in storage, try to find it in BLOG_POSTS\n        if (route?.params?.postId) {\n          const foundPost = BLOG_POSTS.find(p => p.id === route.params.postId);\n          if (foundPost && isValidPost(foundPost)) {\n            setPost(foundPost);\n            return;\n          }\n        }\n\n        // If still no valid post, redirect to blog list\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      } catch (error) {\n        console.error('Error loading blog post:', error);\n        navigateToFrom(navigation, 'Blog', 'BlogPost');\n      }\n    };\n\n    loadPost();\n  }, [route?.params]);\n\n  // If no post data is available, show an error state\n  if (!post || !isValidPost(post)) {\n    return (\n      <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n        <BackHeader \n          title=\"Blog Post\"\n          onBackPress={() => handleBack(navigation)}\n        />\n        <View style={styles.errorContainer}>\n          <MaterialCommunityIcons \n            name=\"alert-circle-outline\" \n            size={48} \n            color={theme.colors.error} \n          />\n          <Text style={[styles.errorText, { color: theme.colors.error }]}>\n            Blog post not found or invalid\n          </Text>\n          <TouchableOpacity\n            style={[styles.errorButton, { backgroundColor: theme.colors.primary }]}\n            onPress={() => navigateToFrom(navigation, 'Blog', 'BlogPost')}\n          >\n            <Text style={[styles.errorButtonText, { color: theme.colors.surface }]}>\n              Go to Blog List\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n\n  const handleReferencePress = (reference) => {\n    if (reference.url) {\n      Linking.openURL(reference.url);\n    } else if (reference.doi) {\n      Linking.openURL(`https://doi.org/${reference.doi}`);\n    }\n  };\n\n  return (\n    <View style={[styles.mainContainer, { backgroundColor: theme.colors.background }]}>\n      <BackHeader \n        title={post.title}\n        onBackPress={() => handleBack(navigation)}\n      />\n      <ScrollView style={styles.container}>\n        <View style={styles.header}>\n          <View style={styles.authorContainer}>\n            <Image\n              source={{ uri: post.author.profilePicture }}\n              style={styles.authorImage}\n            />\n            <View style={styles.authorInfo}>\n              <Text style={[styles.authorName, { color: theme.colors.secondary }]}>\n                {post.author.name}\n              </Text>\n              <Text style={styles.authorBio}>{post.author.bio}</Text>\n              <View style={styles.postInfo}>\n                <Text style={styles.date}>{post.publishDate}</Text>\n                <Text style={styles.dot}> • </Text>\n                <Text style={styles.readTime}>{post.readTime}</Text>\n              </View>\n            </View>\n          </View>\n        </View>\n\n        <View style={styles.tags}>\n          {post.tags.map((tag, index) => (\n            <View \n              key={index} \n              style={[styles.tag, { backgroundColor: theme.colors.primary + '20' }]}\n            >\n              <Text style={[styles.tagText, { color: theme.colors.primary }]}>{tag}</Text>\n            </View>\n          ))}\n        </View>\n\n        <Text style={[styles.content, { color: theme.colors.text }]}>{post.content}</Text>\n\n        <View style={styles.stats}>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"heart-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.likes}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"comment-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.comments}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.stat}>\n            <MaterialCommunityIcons name=\"share-outline\" size={24} color={theme.colors.secondary} />\n            <Text style={styles.statText}>{post.shares}</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.references}>\n          <Text style={[styles.referencesTitle, { color: theme.colors.primary }]}>References</Text>\n          {post.references.map((reference, index) => (\n            <TouchableOpacity\n              key={index}\n              style={styles.reference}\n              onPress={() => handleReferencePress(reference)}\n            >\n              <Text style={styles.referenceText}>\n                {reference.authors} ({reference.year || 'n.d.'}). {reference.title}. {reference.publication}.\n                {reference.doi && ` DOI: ${reference.doi}`}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n  },\n  header: {\n    padding: 16,\n  },\n  authorContainer: {\n    flexDirection: 'row',\n    marginBottom: 16,\n  },\n  authorImage: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    marginRight: 12,\n  },\n  authorInfo: {\n    flex: 1,\n  },\n  authorName: {\n    fontSize: 16,\n    fontWeight: '600',\n    marginBottom: 4,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  authorBio: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 4,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  postInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  date: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  dot: {\n    marginHorizontal: 4,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  readTime: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: 16,\n    paddingTop: 0,\n  },\n  tag: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n  },\n  tagText: {\n    fontSize: 14,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  content: {\n    fontSize: 16,\n    lineHeight: 24,\n    padding: 16,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 16,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#eee',\n  },\n  stat: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  statText: {\n    marginLeft: 8,\n    fontSize: 16,\n    color: '#666',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  references: {\n    padding: 16,\n  },\n  referencesTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 12,\n    fontFamily: theme.fonts.header.fontFamily,\n  },\n  reference: {\n    marginBottom: 12,\n  },\n  referenceText: {\n    fontSize: 14,\n    color: '#444',\n    lineHeight: 20,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    fontWeight: '500',\n    marginTop: 16,\n    marginBottom: 24,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  errorButton: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 8,\n  },\n  errorButtonText: {\n    fontSize: 16,\n    fontWeight: '500',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n});\n\nexport default BlogPost;","import React, { useState, useContext } from 'react';\nimport { View, Text, StyleSheet, TextInput, TouchableOpacity, Platform, ScrollView } from 'react-native';\nimport { theme } from '../styles/theme';\nimport BackHeader from '../components/BackHeader';\nimport CrossPlatformView from '../components/CrossPlatformView';\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../context/AuthContext';\nimport { useForm, ValidationError } from '@formspree/react';\nimport { handleBack } from '../components/Navigation';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\n\nconst Waitlist = () => {\n  const navigation = useNavigation();\n  const { is_prototype, screenWidth } = useContext(AuthContext);\n  const [state, handleFormspreeSubmit] = useForm(\"mkgobpro\");\n  \n  // Form state\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [petInfo, setPetInfo] = useState('');\n  const [selectedServices, setSelectedServices] = useState([]);\n  const [userType, setUserType] = useState('');\n  const [hesitations, setHesitations] = useState('');\n  const [desiredFeatures, setDesiredFeatures] = useState('');\n  const [newsletter, setNewsletter] = useState(false);\n  const [agreeToTerms, setAgreeToTerms] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [otherService, setOtherService] = useState('');\n  const [showOtherInput, setShowOtherInput] = useState(false);\n\n  // Calculate responsive widths\n  const isMobile = screenWidth < 768;\n  const contentWidth = isMobile ? '90%' : '600px';\n  const maxContentWidth = isMobile ? '100%' : '800px';\n\n  const services = [\n    'Pet Sitting',\n    'Grooming',\n    'Training',\n    'Veterinary Services',\n    'Farm/Homestead Care',\n    'Care Consulting',\n    'Other'\n  ];\n\n  const userTypes = [\n    'Pet owner in need of services',\n    'Care specialist (sitter, groomer, ferrier, fish tank cleaner, etc)',\n    'Both'\n  ];\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !firstName || !lastName || !phone || !petInfo || selectedServices.length === 0 || !userType || !agreeToTerms) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const formData = {\n        firstName,\n        lastName,\n        email,\n        phone,\n        petInfo,\n        services: selectedServices.includes('Other') \n          ? [...selectedServices.filter(s => s !== 'Other'), `Other: ${otherService}`]\n          : selectedServices,\n        userType,\n        hesitations,\n        desiredFeatures,\n        newsletter,\n        agreeToTerms\n      };\n\n      await handleFormspreeSubmit(formData);\n\n      if (state.succeeded) {\n        // Reset form\n        setFirstName('');\n        setLastName('');\n        setEmail('');\n        setPhone('');\n        setPetInfo('');\n        setSelectedServices([]);\n        setOtherService('');\n        setShowOtherInput(false);\n        setUserType('');\n        setHesitations('');\n        setDesiredFeatures('');\n        setNewsletter(false);\n        setAgreeToTerms(false);\n      }\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const toggleService = (service) => {\n    setSelectedServices(prev => {\n      if (service === 'Other') {\n        setShowOtherInput(!prev.includes('Other'));\n      }\n      return prev.includes(service)\n        ? prev.filter(s => s !== service)\n        : [...prev, service];\n    });\n  };\n\n  if (state.succeeded) {\n    return (\n      <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n        <BackHeader \n          title=\"Join Waitlist\" \n          onBackPress={() => handleBack(navigation)} \n        />\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={[styles.title, { color: theme.colors.primary }]}>\n              Thank you for joining the CrittrCove waitlist!\n            </Text>\n            <Text style={styles.successMessage}>\n              Whether you're a pet owner looking for trusted pet services or a specialist offering your expertise, \n              you're now part of a community that supports independent animal specialists and small businesses.\n            </Text>\n            <Text style={styles.successMessage}>\n              As a waitlist member, you'll enjoy exclusive early access to the app, priority placement, \n              special gifts, and a unique profile badge to highlight your role as a founding member of CrittrCove.\n            </Text>\n            <Text style={styles.successMessage}>\n              Stay tuned for exciting updates!\n            </Text>\n          </View>\n        </View>\n      </CrossPlatformView>\n    );\n  }\n\n  return (\n    <CrossPlatformView fullWidthHeader={true} contentWidth={maxContentWidth}>\n      <BackHeader \n        title=\"Join Waitlist\" \n        onBackPress={() => handleBack(navigation)} \n      />\n      <ScrollView style={styles.scrollView}>\n        <View style={styles.container}>\n          <View style={[styles.contentWrapper, { width: contentWidth }]}>\n            <Text style={styles.title}>Join the CrittrCove Waitlist!</Text>\n            <Text style={styles.description}>\n              Welcome to Critter Cove's early sign-up, the ultimate pet care marketplace for all pets—whether furry, feathery, or scaly! \n              Our app connects local pet care specialists with pet owners, offering reliable and loving care for your beloved companions.\n            </Text>\n            <Text style={styles.description}>\n              By joining our waitlist, you'll gain early access to exclusive features, special gifts, and a profile badge as a founding member of the Critter Cove community.\n            </Text>\n\n            <View style={styles.formSection}>\n              <View style={styles.nameContainer}>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>First Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={firstName}\n                    onChangeText={setFirstName}\n                    placeholder=\"First Name\"\n                  />\n                </View>\n                <View style={styles.nameField}>\n                  <Text style={styles.label}>Last Name *</Text>\n                  <TextInput\n                    style={styles.input}\n                    value={lastName}\n                    onChangeText={setLastName}\n                    placeholder=\"Last Name\"\n                  />\n                </View>\n              </View>\n\n              <Text style={styles.label}>Email *</Text>\n              <TextInput\n                style={styles.input}\n                value={email}\n                onChangeText={setEmail}\n                placeholder=\"Email\"\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n              />\n\n              <Text style={styles.label}>Phone Number *</Text>\n              <TextInput\n                style={styles.input}\n                value={phone}\n                onChangeText={setPhone}\n                placeholder=\"Phone Number\"\n                keyboardType=\"phone-pad\"\n              />\n\n              <Text style={styles.label}>Do you currently own pets? If yes, tell us all about them! *</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={petInfo}\n                onChangeText={setPetInfo}\n                placeholder=\"Tell us about your pets\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What kind of pet care services are you most interested in? *</Text>\n              <View style={styles.checkboxGroup}>\n                {services.map((service) => (\n                  <View key={service}>\n                    <TouchableOpacity \n                      style={styles.checkboxContainer}\n                      onPress={() => toggleService(service)}\n                    >\n                      <MaterialCommunityIcons\n                        name={selectedServices.includes(service) ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                        size={24}\n                        color={theme.colors.primary}\n                        style={styles.checkboxIcon}\n                      />\n                      <Text style={styles.checkboxLabel}>{service}</Text>\n                    </TouchableOpacity>\n                    {service === 'Other' && selectedServices.includes('Other') && (\n                      <View style={styles.otherInputContainer}>\n                        <TextInput\n                          style={[styles.input, styles.otherInput]}\n                          value={otherService}\n                          onChangeText={setOtherService}\n                          placeholder=\"Please specify other service\"\n                        />\n                      </View>\n                    )}\n                  </View>\n                ))}\n              </View>\n\n              <Text style={styles.label}>Are you signing up as a: *</Text>\n              <View style={styles.radioGroup}>\n                {userTypes.map((type) => (\n                  <TouchableOpacity \n                    key={type}\n                    style={styles.radioContainer}\n                    onPress={() => setUserType(type)}\n                  >\n                    <View style={[styles.radio, userType === type && styles.radioSelected]} />\n                    <Text style={styles.radioLabel}>{type}</Text>\n                  </TouchableOpacity>\n                ))}\n              </View>\n\n              <Text style={styles.label}>What hesitations do you have about using an app to connect your to local pet care?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={hesitations}\n                onChangeText={setHesitations}\n                placeholder=\"Share your concerns\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <Text style={styles.label}>What features or tools would make Critter Cove perfect for you?</Text>\n              <TextInput\n                style={[styles.input, styles.textArea]}\n                value={desiredFeatures}\n                onChangeText={setDesiredFeatures}\n                placeholder=\"Share your ideas\"\n                multiline\n                numberOfLines={4}\n              />\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setNewsletter(!newsletter)}\n              >\n                <MaterialCommunityIcons\n                  name={newsletter ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  Would you like to be added to the email newsletter for updates on the app, pet care tips, discounts and more? *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={styles.checkboxContainer}\n                onPress={() => setAgreeToTerms(!agreeToTerms)}\n              >\n                <MaterialCommunityIcons\n                  name={agreeToTerms ? \"checkbox-marked\" : \"checkbox-blank-outline\"}\n                  size={24}\n                  color={theme.colors.primary}\n                  style={styles.checkboxIcon}\n                />\n                <Text style={styles.checkboxLabel}>\n                  I agree to the terms and conditions and understand my data will be used to improve the app experience. *\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity \n                style={[styles.submitButton, (isSubmitting || !agreeToTerms) && styles.disabledButton]}\n                onPress={handleSubmit}\n                disabled={isSubmitting || !agreeToTerms}\n              >\n                <Text style={styles.submitButtonText}>\n                  {isSubmitting ? 'Submitting...' : 'Join Waitlist'}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </ScrollView>\n    </CrossPlatformView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  scrollView: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    paddingVertical: 20,\n  },\n  contentWrapper: {\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  title: {\n    fontSize: theme.fontSizes.largeLarge,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: theme.colors.primary,\n    fontFamily: theme.fonts.header.fontFamily,\n    textAlign: 'center',\n  },\n  description: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 20,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    lineHeight: 24,\n  },\n  formSection: {\n    width: '100%',\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    gap: 10,\n    marginBottom: 15,\n  },\n  nameField: {\n    flex: 1,\n  },\n  label: {\n    fontSize: theme.fontSizes.medium,\n    marginBottom: 5,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    fontWeight: '500',\n  },\n  input: {\n    backgroundColor: theme.colors.surface,\n    borderRadius: 5,\n    borderColor: theme.colors.border,\n    borderWidth: 1,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: theme.fontSizes.medium,\n    width: '100%',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  textArea: {\n    height: 100,\n    textAlignVertical: 'top',\n  },\n  checkboxGroup: {\n    marginBottom: 15,\n  },\n  checkboxContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 10,\n    paddingRight: 10,\n  },\n  checkboxIcon: {\n    marginRight: 10,\n  },\n  checkboxLabel: {\n    flex: 1,\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  radioGroup: {\n    marginBottom: 15,\n  },\n  radioContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  radio: {\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: theme.colors.primary,\n    marginRight: 10,\n  },\n  radioSelected: {\n    backgroundColor: theme.colors.primary,\n  },\n  radioLabel: {\n    fontSize: theme.fontSizes.medium,\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  submitButton: {\n    backgroundColor: theme.colors.primary,\n    padding: 15,\n    borderRadius: 5,\n    alignItems: 'center',\n    width: '100%',\n    marginTop: 20,\n  },\n  submitButtonText: {\n    color: theme.colors.whiteText,\n    fontSize: theme.fontSizes.mediumLarge,\n    fontWeight: 'bold',\n    fontFamily: theme.fonts.regular.fontFamily,\n  },\n  disabledButton: {\n    opacity: 0.7,\n  },\n  successMessage: {\n    fontSize: theme.fontSizes.medium,\n    color: theme.colors.text,\n    fontFamily: theme.fonts.regular.fontFamily,\n    textAlign: 'center',\n    marginBottom: 15,\n    lineHeight: 24,\n  },\n  otherInputContainer: {\n    paddingLeft: 34,\n    width: '100%',\n  },\n  otherInput: {\n    marginTop: 5,\n    marginBottom: 10,\n    width: '90%',\n  },\n});\n\nexport default Waitlist; ","import React, { useEffect, useState, useContext } from 'react';\nimport { Platform, View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Provider as PaperProvider } from 'react-native-paper';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator, TransitionPresets } from '@react-navigation/stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Navigation from './src/components/Navigation';\nimport { theme } from './src/styles/theme';\nimport { AuthProvider, AuthContext } from './src/context/AuthContext';\nimport { API_BASE_URL } from './src/config/config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { createNavigationContainerRef } from '@react-navigation/native';\nimport { Linking } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { navigateToFrom } from './src/components/Navigation';\n\n// Import all your screen components\nimport HomeScreen from './src/screens/HomeScreen';\nimport AboutScreen from './src/screens/AboutScreen';\nimport ClientProfile from './src/screens/ClientProfile';\nimport MyProfile from './src/screens/MyProfile';\nimport SignIn from './src/screens/SignIn';\nimport SignUp from './src/screens/SignUp';\nimport ResetPassword from './src/screens/ResetPassword';\nimport ResetPasswordConfirm from './src/screens/ResetPasswordConfirm';\nimport Dashboard from './src/screens/Dashboard';\nimport SearchProfessionals from './src/screens/SearchProfessionals';\nimport ProfessionalDashboard from './src/screens/ProfessionalDashboard';\nimport BecomeProfessional from './src/screens/BecomeProfessional';\nimport MoreScreen from './src/screens/MoreScreen';\nimport AvailabilitySettings from './src/screens/AvailabilitySettings';\n// import Messages from './src/screens/Messages';\nimport MyPets from './src/screens/MyPets';\nimport ClientHistory from './src/screens/ClientHistory';\nimport MessageHistory from './src/screens/MessageHistory';\nimport PaymentMethods from './src/screens/PaymentMethods';\nimport Settings from './src/screens/Settings';\nimport PrivacyPolicy from './src/screens/PrivacyPolicy';\nimport ProfessionalSettings from './src/screens/ProfessionalSettings';\nimport TermsOfService from './src/screens/TermsOfService';\nimport HelpFAQ from './src/screens/HelpFAQ';\nimport ContactUs from './src/screens/ContactUs';\nimport Clients from './src/screens/Clients';\nimport ProfessionalProfile from './src/screens/ProfessionalProfile';\nimport MyContracts from './src/screens/MyContracts';\nimport ChangePassword from './src/screens/ChangePassword';\nimport AddPet from './src/screens/AddPet';\nimport SearchProfessionalsListing from './src/screens/SearchProfessionalsListing';\nimport MyBookings from './src/screens/MyBookings';\nimport BookingDetails from './src/screens/BookingDetails';\nimport ServiceManagerScreen from './src/screens/ServiceManagerScreen';\nimport BlogScreen from './src/screens/BlogScreen';\nimport BlogPost from './src/screens/BlogPost';\nimport Waitlist from './src/screens/Waitlist';\n\nconst Stack = createStackNavigator();\nconst Tab = createBottomTabNavigator();\n\nconst screens = [\n  { name: 'Home', component: HomeScreen },\n  { name: 'About', component: AboutScreen },\n  { name: 'ClientProfile', component: ClientProfile },\n  { name: 'MyProfile', component: MyProfile },  \n  { name: 'SignIn', component: SignIn },\n  { name: 'SignUp', component: SignUp },\n  { name: 'ResetPassword', component: ResetPassword },\n  { name: 'ResetPasswordConfirm', component: ResetPasswordConfirm },\n  { name: 'Dashboard', component: Dashboard },\n  { name: 'SearchProfessionals', component: SearchProfessionals },\n  { name: 'SearchProfessionalsListing', component: SearchProfessionalsListing },\n  { name: 'ClientHistory', component: ClientHistory },\n  { name: 'MessageHistory', component: MessageHistory },\n  // { name: 'Messages', component: Messages },\n  { name: 'ProfessionalDashboard', component: ProfessionalDashboard },\n  { name: 'BecomeProfessional', component: BecomeProfessional },\n  { name: 'More', component: MoreScreen },\n  { name: 'Clients', component: Clients },\n  { name: 'AvailabilitySettings', component: AvailabilitySettings },\n  { name: 'MyPets', component: MyPets },\n  { name: 'PaymentMethods', component: PaymentMethods },\n  { name: 'Settings', component: Settings },\n  { name: 'PrivacyPolicy', component: PrivacyPolicy },\n  { name: 'ProfessionalSettings', component: ProfessionalSettings },\n  { name: 'TermsOfService', component: TermsOfService },\n  { name: 'HelpFAQ', component: HelpFAQ },\n  { name: 'ContactUs', component: ContactUs },\n  { name: 'ProfessionalProfile', component: ProfessionalProfile },\n  { name: 'MyContracts', component: MyContracts },\n  { name: 'ChangePassword', component: ChangePassword },\n  { name: 'AddPet', component: AddPet },\n  { name: 'MyBookings', component: MyBookings },\n  { name: 'BookingDetails', component: BookingDetails },\n  { name: 'ServiceManager', component: ServiceManagerScreen },\n  { name: 'Blog', component: BlogScreen },\n  { name: 'BlogPost', component: BlogPost },\n  { name: 'Waitlist', component: Waitlist },\n];\n\nconst linking = {\n  enabled: true,\n  prefixes: [\n    'https://crittrcove.com',\n    'http://crittrcove.com',\n    `${API_BASE_URL}`\n  ],\n  config: {\n    screens: {\n      Home: '*',  // This will catch all unmatched routes\n      About: 'about',\n      ClientProfile: 'client-profile',\n      MyProfile: 'my-profile',\n      SignIn: 'signin',\n      SignUp: 'signup',\n      ResetPassword: 'reset-password',\n      ResetPasswordConfirm: 'reset-password/:uid/:token',\n      Dashboard: 'dashboard',\n      SearchProfessionals: 'search-professionals',\n      SearchProfessionalsListing: 'search-professionals-listing',\n      ClientHistory: 'client-history',\n      MessageHistory: {\n        path: 'message-history',\n        parse: {\n          messageId: (messageId) => messageId || null,\n          senderName: (senderName) => senderName || 'Unknown User'\n        }\n      },\n      ProfessionalDashboard: 'professional-dashboard',\n      BecomeProfessional: 'become-professional',\n      More: 'more',\n      Clients: 'clients',\n      AvailabilitySettings: 'availability-settings',\n      MyPets: 'my-pets',\n      PaymentMethods: 'payment-methods',\n      Settings: 'settings',\n      PrivacyPolicy: 'privacy-policy',\n      ProfessionalSettings: 'professional-settings',\n      TermsOfService: 'terms-of-service',\n      HelpFAQ: 'help-faq',\n      ContactUs: 'contact-us',\n      ProfessionalProfile: {\n        path: 'professional-profile',\n        parse: {\n          professional: (professional) => undefined\n        }\n      },\n      MyContracts: 'my-contracts',\n      ChangePassword: 'change-password',\n      AddPet: {\n        path: 'add-pet',\n        parse: {\n          pet: () => undefined\n        }\n      },\n      MyBookings: 'my-bookings',\n      BookingDetails: 'booking-details',\n      ServiceManager: 'service-manager',\n      Blog: 'blog',\n      BlogPost: 'blog-post',\n      Waitlist: 'waitlist'\n    }\n  }\n};\n\n\nexport const navigationRef = createNavigationContainerRef();\n\nexport function navigate(name, params) {\n  if (navigationRef.isReady()) {\n    navigationRef.navigate(name, params);\n  }\n}\n\nfunction TabNavigator() {\n  return (\n    <Tab.Navigator tabBar={props => <Navigation {...props} />}>\n      {screens.map(screen => (\n        <Tab.Screen \n          key={screen.name}\n          name={screen.name} \n          component={screen.component} \n          options={{ headerShown: false }} \n        />\n      ))}\n    </Tab.Navigator>\n  );\n}\n\nconst PrototypeWarning = () => {\n  const [isVisible, setIsVisible] = useState(true);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const checkBannerStatus = async () => {\n      if (Platform.OS === 'web') {\n        const hidden = sessionStorage.getItem('prototype_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      } else {\n        const hidden = await AsyncStorage.getItem('prototype_banner_hidden');\n        if (hidden === 'true') {\n          setIsVisible(false);\n        }\n      }\n    };\n    checkBannerStatus();\n  }, []);\n\n  const hideBanner = async () => {\n    if (Platform.OS === 'web') {\n      sessionStorage.setItem('prototype_banner_hidden', 'true');\n    } else {\n      await AsyncStorage.setItem('prototype_banner_hidden', 'true');\n    }\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <View style={styles.warningBanner}>\n      <View style={styles.warningContent}>\n        <TouchableOpacity \n          style={styles.closeButton}\n          onPress={hideBanner}\n        >\n          <Text style={styles.closeButtonText}>✕</Text>\n        </TouchableOpacity>\n        <Text style={styles.warningText}>\n          🚧 Prototype Mode: All features are currently under development. Join our waitlist for the full version to receive exclusive discounts, bonuses, and early-access promotions!\n        </Text>\n        <TouchableOpacity \n          style={styles.waitlistButton}\n          onPress={() => navigateToFrom(navigation, 'Waitlist', 'Home')}\n        >\n          <Text style={styles.waitlistButtonText}>Join Waitlist</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nfunction AppContent() {\n  const { checkAuthStatus, is_DEBUG, is_prototype } = useContext(AuthContext);\n  const [initialRoute, setInitialRoute] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        const authStatus = await checkAuthStatus();\n        let route = 'Home';\n\n        // Only change route if user is authenticated\n        if (authStatus.isSignedIn) {\n          if (is_DEBUG) {\n            console.log('Auth status on init:', authStatus);\n          }\n          route = authStatus.userRole === 'professional' && authStatus.isApprovedProfessional\n            ? 'ProfessionalDashboard'\n            : 'Dashboard';\n        } else {\n          route = 'Home';\n        }\n\n        // For web platform\n        if (Platform.OS === 'web') {\n          const path = window.location.pathname;\n          \n          // If we're at the root path, use the route based on auth status\n          if (path === '/' || path === '') {\n            // route is already set based on auth status above\n          } else {\n            // Extract the route from the path\n            const routePath = path.slice(1).split('/')[0].toLowerCase();\n            if (routePath === 'home') {\n              // Use the route based on auth status\n            } else {\n              // Find the matching screen for the current path\n              const matchingScreen = screens.find(screen => \n                screen.name.toLowerCase() === routePath\n              );\n              if (matchingScreen) {\n                route = matchingScreen.name;\n              }\n            }\n          }\n        }\n\n        setInitialRoute(route);\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setInitialRoute('Home');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeApp();\n  }, []);\n\n  // Handle route changes without triggering auth checks\n  useEffect(() => {\n    if (!isLoading && initialRoute && Platform.OS !== 'web') {\n      AsyncStorage.setItem('lastRoute', initialRoute)\n        .catch(error => console.error('Error storing route:', error));\n    }\n  }, [initialRoute, isLoading]);\n\n  if (isLoading || !initialRoute) {\n    return null; // Or a loading spinner component\n  }\n\n  return (\n    <NavigationContainer \n      ref={navigationRef}\n      linking={linking}\n      onStateChange={async (state) => {\n        if (Platform.OS !== 'web' && state?.routes?.length > 0) {\n          const currentRoute = state.routes[state.routes.length - 1].name;\n          await AsyncStorage.setItem('lastRoute', currentRoute)\n            .catch(error => console.error('Error storing route:', error));\n        }\n      }}\n    >\n      <View style={styles.container}>\n        {is_prototype && <PrototypeWarning />}\n        {Platform.OS === 'web' ? (\n          <Stack.Navigator\n            initialRouteName={initialRoute}\n            screenOptions={{\n              headerShown: true,\n              header: ({ navigation }) => <Navigation navigation={navigation} />,\n              ...TransitionPresets.SlideFromRightIOS,\n              presentation: 'card',\n              animation: 'slide_from_right'\n            }}\n          >\n            {screens.map(screen => (\n              <Stack.Screen \n                key={screen.name}\n                name={screen.name} \n                component={screen.component}\n                options={{\n                  headerShown: true,\n                  animation: 'slide_from_right'\n                }}\n              />\n            ))}\n          </Stack.Navigator>\n        ) : (\n          <TabNavigator />\n        )}\n      </View>\n    </NavigationContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  warningBanner: {\n    backgroundColor: '#ffebee',\n    padding: Platform.OS === 'web' ? 12 : 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ef5350',\n    width: '100%',\n    flexShrink: 0, // Prevent banner from shrinking\n  },\n  warningContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    gap: 10,\n    maxWidth: 1200,\n    marginHorizontal: 'auto',\n    width: '100%',\n  },\n  warningText: {\n    color: '#c62828',\n    textAlign: 'center',\n    fontSize: Platform.OS === 'web' ? 15 : 14,\n    flexShrink: 1,\n    flex: 1,\n    marginHorizontal: 15,\n  },\n  waitlistButton: {\n    backgroundColor: '#ef5350',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 20,\n    marginLeft: 'auto',\n  },\n  waitlistButtonText: {\n    color: 'white',\n    fontSize: Platform.OS === 'web' ? 14 : 13,\n    fontWeight: '600',\n  },\n  closeButton: {\n    width: 24,\n    height: 24,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 5,\n  },\n  closeButtonText: {\n    color: '#c62828',\n    fontSize: 18,\n    fontWeight: '600',\n  },\n});\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <PaperProvider theme={theme}>\n        <AppContent />\n      </PaperProvider>\n    </AuthProvider>\n  );\n}\n\n","import React from 'react';\nimport { View } from 'react-native';\nimport { Text } from 'react-native-paper';\n\nexport default function AboutScreen() {\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <Text>About Screen</Text>\n    </View>\n  );\n}","var map = {\n\t\"./af\": 17582,\n\t\"./af.js\": 17582,\n\t\"./ar\": 93042,\n\t\"./ar-dz\": 54265,\n\t\"./ar-dz.js\": 54265,\n\t\"./ar-kw\": 92553,\n\t\"./ar-kw.js\": 92553,\n\t\"./ar-ly\": 85352,\n\t\"./ar-ly.js\": 85352,\n\t\"./ar-ma\": 67097,\n\t\"./ar-ma.js\": 67097,\n\t\"./ar-ps\": 76150,\n\t\"./ar-ps.js\": 76150,\n\t\"./ar-sa\": 84427,\n\t\"./ar-sa.js\": 84427,\n\t\"./ar-tn\": 7221,\n\t\"./ar-tn.js\": 7221,\n\t\"./ar.js\": 93042,\n\t\"./az\": 60458,\n\t\"./az.js\": 60458,\n\t\"./be\": 17596,\n\t\"./be.js\": 17596,\n\t\"./bg\": 93830,\n\t\"./bg.js\": 93830,\n\t\"./bm\": 27044,\n\t\"./bm.js\": 27044,\n\t\"./bn\": 58573,\n\t\"./bn-bd\": 13296,\n\t\"./bn-bd.js\": 13296,\n\t\"./bn.js\": 58573,\n\t\"./bo\": 25614,\n\t\"./bo.js\": 25614,\n\t\"./br\": 62041,\n\t\"./br.js\": 62041,\n\t\"./bs\": 91786,\n\t\"./bs.js\": 91786,\n\t\"./ca\": 75833,\n\t\"./ca.js\": 75833,\n\t\"./cs\": 52711,\n\t\"./cs.js\": 52711,\n\t\"./cv\": 71036,\n\t\"./cv.js\": 71036,\n\t\"./cy\": 84977,\n\t\"./cy.js\": 84977,\n\t\"./da\": 8770,\n\t\"./da.js\": 8770,\n\t\"./de\": 67342,\n\t\"./de-at\": 81566,\n\t\"./de-at.js\": 81566,\n\t\"./de-ch\": 87544,\n\t\"./de-ch.js\": 87544,\n\t\"./de.js\": 67342,\n\t\"./dv\": 82875,\n\t\"./dv.js\": 82875,\n\t\"./el\": 78536,\n\t\"./el.js\": 78536,\n\t\"./en-au\": 38617,\n\t\"./en-au.js\": 38617,\n\t\"./en-ca\": 79227,\n\t\"./en-ca.js\": 79227,\n\t\"./en-gb\": 59754,\n\t\"./en-gb.js\": 59754,\n\t\"./en-ie\": 37217,\n\t\"./en-ie.js\": 37217,\n\t\"./en-il\": 85418,\n\t\"./en-il.js\": 85418,\n\t\"./en-in\": 80800,\n\t\"./en-in.js\": 80800,\n\t\"./en-nz\": 67299,\n\t\"./en-nz.js\": 67299,\n\t\"./en-sg\": 76305,\n\t\"./en-sg.js\": 76305,\n\t\"./eo\": 8673,\n\t\"./eo.js\": 8673,\n\t\"./es\": 71301,\n\t\"./es-do\": 3187,\n\t\"./es-do.js\": 3187,\n\t\"./es-mx\": 48223,\n\t\"./es-mx.js\": 48223,\n\t\"./es-us\": 37634,\n\t\"./es-us.js\": 37634,\n\t\"./es.js\": 71301,\n\t\"./et\": 4976,\n\t\"./et.js\": 4976,\n\t\"./eu\": 11847,\n\t\"./eu.js\": 11847,\n\t\"./fa\": 74372,\n\t\"./fa.js\": 74372,\n\t\"./fi\": 41628,\n\t\"./fi.js\": 41628,\n\t\"./fil\": 56802,\n\t\"./fil.js\": 56802,\n\t\"./fo\": 42874,\n\t\"./fo.js\": 42874,\n\t\"./fr\": 9853,\n\t\"./fr-ca\": 87170,\n\t\"./fr-ca.js\": 87170,\n\t\"./fr-ch\": 22825,\n\t\"./fr-ch.js\": 22825,\n\t\"./fr.js\": 9853,\n\t\"./fy\": 68876,\n\t\"./fy.js\": 68876,\n\t\"./ga\": 93533,\n\t\"./ga.js\": 93533,\n\t\"./gd\": 82770,\n\t\"./gd.js\": 82770,\n\t\"./gl\": 98602,\n\t\"./gl.js\": 98602,\n\t\"./gom-deva\": 63059,\n\t\"./gom-deva.js\": 63059,\n\t\"./gom-latn\": 48212,\n\t\"./gom-latn.js\": 48212,\n\t\"./gu\": 23409,\n\t\"./gu.js\": 23409,\n\t\"./he\": 17210,\n\t\"./he.js\": 17210,\n\t\"./hi\": 4750,\n\t\"./hi.js\": 4750,\n\t\"./hr\": 51315,\n\t\"./hr.js\": 51315,\n\t\"./hu\": 47626,\n\t\"./hu.js\": 47626,\n\t\"./hy-am\": 91317,\n\t\"./hy-am.js\": 91317,\n\t\"./id\": 26892,\n\t\"./id.js\": 26892,\n\t\"./is\": 97577,\n\t\"./is.js\": 97577,\n\t\"./it\": 57628,\n\t\"./it-ch\": 3046,\n\t\"./it-ch.js\": 3046,\n\t\"./it.js\": 57628,\n\t\"./ja\": 92504,\n\t\"./ja.js\": 92504,\n\t\"./jv\": 25917,\n\t\"./jv.js\": 25917,\n\t\"./ka\": 64513,\n\t\"./ka.js\": 64513,\n\t\"./kk\": 94935,\n\t\"./kk.js\": 94935,\n\t\"./km\": 96661,\n\t\"./km.js\": 96661,\n\t\"./kn\": 89964,\n\t\"./kn.js\": 89964,\n\t\"./ko\": 98067,\n\t\"./ko.js\": 98067,\n\t\"./ku\": 61165,\n\t\"./ku-kmr\": 85158,\n\t\"./ku-kmr.js\": 85158,\n\t\"./ku.js\": 61165,\n\t\"./ky\": 11177,\n\t\"./ky.js\": 11177,\n\t\"./lb\": 2967,\n\t\"./lb.js\": 2967,\n\t\"./lo\": 81972,\n\t\"./lo.js\": 81972,\n\t\"./lt\": 58469,\n\t\"./lt.js\": 58469,\n\t\"./lv\": 33155,\n\t\"./lv.js\": 33155,\n\t\"./me\": 87935,\n\t\"./me.js\": 87935,\n\t\"./mi\": 74483,\n\t\"./mi.js\": 74483,\n\t\"./mk\": 32501,\n\t\"./mk.js\": 32501,\n\t\"./ml\": 73120,\n\t\"./ml.js\": 73120,\n\t\"./mn\": 20266,\n\t\"./mn.js\": 20266,\n\t\"./mr\": 19406,\n\t\"./mr.js\": 19406,\n\t\"./ms\": 80109,\n\t\"./ms-my\": 90864,\n\t\"./ms-my.js\": 90864,\n\t\"./ms.js\": 80109,\n\t\"./mt\": 22904,\n\t\"./mt.js\": 22904,\n\t\"./my\": 44067,\n\t\"./my.js\": 44067,\n\t\"./nb\": 21301,\n\t\"./nb.js\": 21301,\n\t\"./ne\": 81152,\n\t\"./ne.js\": 81152,\n\t\"./nl\": 76735,\n\t\"./nl-be\": 97761,\n\t\"./nl-be.js\": 97761,\n\t\"./nl.js\": 76735,\n\t\"./nn\": 37569,\n\t\"./nn.js\": 37569,\n\t\"./oc-lnc\": 20833,\n\t\"./oc-lnc.js\": 20833,\n\t\"./pa-in\": 3044,\n\t\"./pa-in.js\": 3044,\n\t\"./pl\": 34249,\n\t\"./pl.js\": 34249,\n\t\"./pt\": 87585,\n\t\"./pt-br\": 26826,\n\t\"./pt-br.js\": 26826,\n\t\"./pt.js\": 87585,\n\t\"./ro\": 62526,\n\t\"./ro.js\": 62526,\n\t\"./ru\": 62204,\n\t\"./ru.js\": 62204,\n\t\"./sd\": 43270,\n\t\"./sd.js\": 43270,\n\t\"./se\": 61541,\n\t\"./se.js\": 61541,\n\t\"./si\": 71921,\n\t\"./si.js\": 71921,\n\t\"./sk\": 49935,\n\t\"./sk.js\": 49935,\n\t\"./sl\": 46254,\n\t\"./sl.js\": 46254,\n\t\"./sq\": 59897,\n\t\"./sq.js\": 59897,\n\t\"./sr\": 42496,\n\t\"./sr-cyrl\": 11135,\n\t\"./sr-cyrl.js\": 11135,\n\t\"./sr.js\": 42496,\n\t\"./ss\": 32215,\n\t\"./ss.js\": 32215,\n\t\"./sv\": 84716,\n\t\"./sv.js\": 84716,\n\t\"./sw\": 50803,\n\t\"./sw.js\": 50803,\n\t\"./ta\": 31538,\n\t\"./ta.js\": 31538,\n\t\"./te\": 2302,\n\t\"./te.js\": 2302,\n\t\"./tet\": 25280,\n\t\"./tet.js\": 25280,\n\t\"./tg\": 14100,\n\t\"./tg.js\": 14100,\n\t\"./th\": 95385,\n\t\"./th.js\": 95385,\n\t\"./tk\": 736,\n\t\"./tk.js\": 736,\n\t\"./tl-ph\": 79726,\n\t\"./tl-ph.js\": 79726,\n\t\"./tlh\": 41873,\n\t\"./tlh.js\": 41873,\n\t\"./tr\": 36463,\n\t\"./tr.js\": 36463,\n\t\"./tzl\": 27491,\n\t\"./tzl.js\": 27491,\n\t\"./tzm\": 29500,\n\t\"./tzm-latn\": 80196,\n\t\"./tzm-latn.js\": 80196,\n\t\"./tzm.js\": 29500,\n\t\"./ug-cn\": 91287,\n\t\"./ug-cn.js\": 91287,\n\t\"./uk\": 35341,\n\t\"./uk.js\": 35341,\n\t\"./ur\": 36246,\n\t\"./ur.js\": 36246,\n\t\"./uz\": 55550,\n\t\"./uz-latn\": 77254,\n\t\"./uz-latn.js\": 77254,\n\t\"./uz.js\": 55550,\n\t\"./vi\": 78796,\n\t\"./vi.js\": 78796,\n\t\"./x-pseudo\": 22736,\n\t\"./x-pseudo.js\": 22736,\n\t\"./yo\": 28621,\n\t\"./yo.js\": 28621,\n\t\"./zh-cn\": 67601,\n\t\"./zh-cn.js\": 67601,\n\t\"./zh-hk\": 39053,\n\t\"./zh-hk.js\": 39053,\n\t\"./zh-mo\": 71248,\n\t\"./zh-mo.js\": 71248,\n\t\"./zh-tw\": 74725,\n\t\"./zh-tw.js\": 74725\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"aaed7a5a\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [619], () => (__webpack_require__(55819)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["theme","Object","assign","DefaultTheme","fonts","regular","fontFamily","header","typography","body","colors","mainColors","main","secondary","tertiary","quaternary","quinary","senary","primary","background","backgroundContrast","calendarColor","calendarColorYellowBrown","text","whiteText","placeHolderText","accent","error","surface","border","inputBackground","receivedMessage","danger","fontSizes","small","smallMedium","medium","mediumLarge","large","largeLarge","extraLarge","spacing","API_BASE_URL","stripeInstance","initStripe","async","loadStripe","stripe","undefined","Error","getStripeModule","SCREEN_WIDTH","Dimensions","get","width","AuthContext","height","createContext","AuthProvider","children","isSignedIn","setIsSignedIn","useState","userRole","setUserRole","isApprovedProfessional","setIsApprovedProfessional","loading","setLoading","screenWidth","setScreenWidth","firstName","setFirstName","is_prototype","setIsPrototype","is_DEBUG","setIsDebug","useEffect","subscription","addEventListener","handleDimensionsChange","window","remove","AsyncStorage","multiSet","checkAuthStatus","fetchUserName","loadInitialAuth","token","sessionStorage","getItem","console","response","axios","concat","headers","Authorization","data","first_name","message","storedRole","storedApproval","log","isApproved","role","loadAuthState","getProfessionalStatus","is_approved","setItem","String","suggestedRole","signOut","multiRemove","removeItem","setTimeout","navigate","currentPath","location","pathname","slice","isHomePage","toLowerCase","refreshToken","currentToken","isValid","post","status","validateToken","newToken","mockNewToken","refresh","access","refreshUserToken","newRole","_jsx","Provider","value","signIn","refreshTokenValue","initialRole","switchRole","previousRoute","currentRoute","handleBack","navigation","navigateToFrom","toLocation","fromLocation","params","Navigation","visible","setVisible","isMobile","setIsMobile","useTheme","useContext","closeMenu","updateLayout","handleNavigation","screenName","initialRoute","initializeRouteTracking","renderMenuItems","title","icon","route","_Fragment","_jsxs","Appbar","Header","style","styles","backgroundColor","View","titleContainer","TouchableOpacity","onPress","Text","color","Menu","onDismiss","anchor","Action","MaterialCommunityIcons","name","size","openMenu","map","item","index","Item","titleStyle","fontWeight","desktopNav","webNavItem","webNavText","StyleSheet","create","container","display","content","flex","justifyContent","textAlign","marginLeft","fontSize","flexDirection","alignItems","navItem","marginHorizontal","cursor","customNavBar","position","bottom","left","right","paddingVertical","borderTopWidth","borderTopColor","navButton","paddingHorizontal","navText","marginTop","padding","maxWidth","marginRight","marginBottom","mobileContainer","mobileItemContainer","mobileMarker","mobileMilestoneTitle","mobileDashedLine","borderStyle","borderWidth","borderColor","webContainer","dashedLine","top","webMarker","transform","translateX","webMilestoneTitle","markerContainer","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalOverlay","modalContent","modalIconContainer","modalNumber","modalTitle","modalDescription","lineHeight","closeButton","closeButtonText","RoadmapSection","selectedMilestone","setSelectedMilestone","modalVisible","setModalVisible","roadmapData","id","description","handleMilestonePress","milestone","length","FontAwesome5","Modal","transparent","animationType","onRequestClose","number","BOOKING_STATES","DRAFT","PENDING_INITIAL_PROFESSIONAL_CHANGES","PENDING_PROFESSIONAL_CHANGES","PENDING_CLIENT_APPROVAL","CONFIRMED","CONFIRMED_PENDING_PROFESSIONAL_CHANGES","CONFIRMED_PENDING_CLIENT_APPROVAL","COMPLETED","DENIED","CANCELLED","PROFESSIONAL_EDITABLE_STATES","ALL_SERVICES","SERVICE_TYPES","TIME_OPTIONS","mockAdditionalRates","amount","mockServicesForCards","startingPrice","animalTypes","additionalRates","GENERAL_CATEGORIES","mockPets","animal_type","breed","age","months","years","weight","sex","friendlyWithChildren","friendlyWithCats","friendlyWithDogs","spayedNeutered","houseTrained","microchipped","adoptionDate","energyLevel","feedingSchedule","leftAlone","medication","additionalInstructions","vetName","vetAddress","vetPhone","insuranceProvider","vetDocuments","galleryImages","mockProfessionals","profilePicture","require","reviews","price","bio","coordinates","latitude","longitude","serviceTypes","mockClients","pet_types","last_booking","pets","email","phone","address","sharedBookingDetails","booking_id","client_name","professional_name","service_details","service_type","pet_id","species","occurrences","occurrence_id","start_date","end_date","start_time","end_time","calculated_cost","base_total","rates","base_rate","additional_animal_rate","additional_animal_rate_applies","applies_after","unit_of_time","holiday_rate","holiday_days","additional_rates","cost_summary","subtotal","platform_fee","taxes","total_client_cost","total_sitter_payout","is_prorated","mockBookingDetails","clientName","startDate","startTime","mockProfessionalBookings","values","booking","date","time","serviceType","numberOfPets","totalCost","costs","totalClientCost","professionalPayout","createBooking","clientId","freelancerId","initialData","newBookingId","Date","now","newBooking","professionalName","animalType","duration","baseRate","additionalPetRate","extraServices","baseTotal","additionalPetTotal","extraServicesTotal","clientFee","created_at","toISOString","updated_at","bookingId","allBookings","keys","Promise","resolve","mockClientBookings","CURRENT_USER_ID","mockConversations","participant1_id","participant2_id","role_map","participant1_role","participant2_role","lastMessage","timestamp","unread","mockMessages","message_id","sender","is_booking_request","metadata","type","endDate","endTime","DEFAULT_SERVICES","serviceName","additionalAnimalRate","SERVICE_TYPE_SUGGESTIONS","ANIMAL_TYPE_SUGGESTIONS","BLOG_POSTS","author","publishDate","readTime","tags","references","authors","publication","url","year","doi","likes","comments","shares","windowWidth","windowHeight","image","ReviewImage","source","src","alt","scrollView","contentContainer","paddingBottom","heroSection","overflow","heroImage","heroText","textShadowColor","textShadowOffset","textShadowRadius","section","sectionTitle","card","appButtons","appButton","reviewsSection","reviewsBackground","reviewsOverlay","reviewsSubtitle","reviewsTitle","reviewsContainer","overflowX","WebkitOverflowScrolling","msOverflowStyle","scrollbarWidth","scrollbarColor","reviewsContent","minWidth","gap","reviewCard","reviewCardMobile","reviewQuote","reviewText","reviewAuthorContainer","reviewerImage","objectFit","reviewAuthorName","reviewAuthorTitle","paginationDots","paginationDot","margin","paginationDotActive","featuresSection","toggleContainer","toggleButton","toggleButtonActive","toggleButtonText","toggleButtonTextActive","featuresContainer","featureColumn","columnTitle","featuresList","featureItem","featureIconCircle","featureIcon","featureTitle","featureText","actionButton","buttonContainer","buttonText","blogSection","blogCard","authorContainer","authorImage","blogContent","authorInfo","authorName","dot","preview","flexWrap","tag","tagText","stats","stat","statText","roadmapSection","roadmapImage","roadmapOverlayText","faqSection","faqItem","faqButton","faqQuestion","faqToggle","faqAnswer","contactSection","contactContainer","input","footer","socialIconsRow","socialIcon","footerLinksRow","footerLink","textDecorationLine","successMessage","messageInput","textAlignVertical","paddingTop","disabledButton","opacity","validationError","starsContainer","starIcon","waitlistSection","marginVertical","waitlistDescription","waitlistButton","scrollIndicators","scrollIndicatorButton","scrollIndicator","scrollIndicatorActive","scrollHint","scrollHintText","scrollContainer","scrollContent","scrollViewContent","flexGrow","alignSelf","switchProfileButton","profileHeader","sectionSaveButton","borderBottomWidth","borderBottomColor","bioInput","petItem","petName","petInfo","petDetails","placeholder","saveButton","addButton","profilePhoto","profilePhotoPlaceholder","centered","sectionHeader","fieldText","iconContainer","petItemContent","petPhoto","modalContainer","modalText","webPopup","zIndex","webPopupTitle","webPopupText","profileInfo","headerLeft","backButton","headerText","ClientProfile","useNavigation","useWindowDimensions","setProfilePhoto","setName","setEmail","setPhone","setAge","setAddress","city","setCity","state","setState","zip","setZip","country","setCountry","setBio","setPets","emergencyContact","setEmergencyContact","authorizedHouseholdMembers","setAuthorizedHouseholdMembers","isLoading","setIsLoading","editMode","setEditMode","showAuthorizedMembersInfo","setShowAuthorizedMembersInfo","popupPosition","setPopupPosition","questionMarkRef","useRef","scrollViewRef","localIsApprovedProfessional","setLocalIsApprovedProfessional","photo","then","storedIsApprovedProfessional","JSON","parse","fetchProfessionalStatus","toggleEditMode","prevState","renderEditableField","label","onChangeText","TextInput","renderIcon","Ionicons","renderSaveButton","Button","mode","Alert","alert","saveSection","showSwitchToProfessionalButton","SafeAreaView","handleSwitchToProfessional","ScrollView","ref","contentContainerStyle","result","ImagePicker","launchImageLibraryAsync","mediaTypes","Images","allowsEditing","aspect","quality","canceled","assets","uri","Image","multiline","numberOfLines","pet","petId","showAuthorizedMembersPopup","current","measure","fx","fy","px","py","_","__","___","____","scrollViewX","scrollViewY","member","household","updateHouseholdMember","updatedMembers","addHouseholdMember","Portal","floatingButtonContainer","webButton","mobileButton","floatingButton","FloatingSaveButton","onSave","btnText","maxHeight","modalScroll","inputWrapper","inputError","inputLabel","categoryInput","paddingRight","timeInput","selectedText","placeholderText","categoryDropdownContainer","categoryScrollView","categoryItem","categoryText","checkmarkContainer","suggestionsContainer","suggestionScrollView","suggestionText","timeDropdownContainer","timeDropdownItem","timeDropdownText","selectedTimeOption","descriptionInput","additionalRateRow","additionalRateTitle","deleteRateButton","deleteRateButtonText","addRateButton","addRateText","modalButtons","saveButtonText","cancelButton","cancelButtonText","AddServiceModal","onClose","initialService","setHasUnsavedChanges","currentService","setCurrentService","serviceDescription","holidayRate","lengthOfService","categories","setAdditionalRates","showValidationErrors","setShowValidationErrors","showServiceDropdown","setShowServiceDropdown","showAnimalDropdown","setShowAnimalDropdown","showTimeDropdown","setShowTimeDropdown","showCategoryDropdown","setShowCategoryDropdown","selectedCategories","setSelectedCategories","serviceDropdownPosition","setServiceDropdownPosition","animalDropdownPosition","setAnimalDropdownPosition","categoryDropdownPosition","setCategoryDropdownPosition","serviceInputRef","animalInputRef","categoryInputRef","timeInputRef","categoryDropdownRef","animalDropdownRef","serviceDropdownRef","timeDropdownRef","handleClickOutside","event","contains","target","document","removeEventListener","measureDropdown","inputRef","setPosition","inputType","x","y","pageX","pageY","updateAdditionalRate","key","prev","rate","i","resetForm","join","nestedScrollEnabled","showsVerticalScrollIndicator","persistentScrollbar","category","includes","filter","c","handleCategorySelect","trim","placeholderTextColor","onFocus","suggestion","option","keyboardType","replace","idx","prevRates","addAdditionalRate","serviceToSave","serviceCard","topRow","topRowIcons","iconButton","contentRow","collapsedContent","rateText","collapseButton","ProfessionalServiceCard","isCollapsed","onEdit","onDelete","onToggleCollapse","button","confirmButton","confirmButtonText","disabledText","ConfirmationModal","onConfirm","actionText","disabled","ActivityIndicator","serviceListContainer","headerButtons","headerActions","headerButton","buttonTooltip","portalTooltip","tooltipText","emptyContainer","emptyText","addButtonText","ServiceManager","services","setServices","isProfessionalTab","showModal","setShowModal","editingService","setEditingService","collapsedServices","setCollapsedServices","allCollapsed","setAllCollapsed","showDeleteModal","setShowDeleteModal","serviceToDelete","setServiceToDelete","hoveredButton","setHoveredButton","tooltipPosition","setTooltipPosition","collapseTooltipPosition","setCollapseTooltipPosition","buttonRef","collapseButtonRef","showTooltip","rect","getBoundingClientRect","toggleCollapseAll","onMouseEnter","onMouseLeave","Array","isArray","FlatList","renderItem","service","serviceToEdit","handleEditService","handleDeleteService","toggleCollapse","warn","keyExtractor","updatedService","confirmDelete","prevServices","RecordedPets","EditableSection","getContentWidth","centeredContent","portfolioGrid","portfolioCard","portfolioImageContainer","aspectRatio","portfolioPhoto","borderTopLeftRadius","borderTopRightRadius","portfolioCaption","facilitiesContainer","facilityTag","facilityTagSelected","facilityTagText","facilityTagTextSelected","modalHeader","modalFacilityTag","modalFacilityText","modalFooter","modalButton","modalButtonText","modalButtonText2","ProfessionalTab","professionalPhoto","setProfessionalPhoto","professionalBio","setProfessionalBio","portfolioPhotos","setPortfolioPhotos","facilities","setFacilities","skills","setSkills","certifications","experience","specialties","selectedFacilities","setSelectedFacilities","facilitiesModalVisible","setFacilitiesModalVisible","tempSelectedFacilities","setTempSelectedFacilities","FACILITY_OPTIONS","allowsMultipleSelection","selectionLimit","newPhotos","asset","toString","Math","random","substr","caption","openFacilitiesModal","facilityId","facility","find","f","toggleTempFacility","saveFacilities","webDatePicker","androidButton","dateText","DatePicker","onChange","displayFormat","showDatePicker","setShowDatePicker","e","rightButton","BackHeader","onBackPress","rightIcon","onRightPress","rightComponent","customStyles","minHeight","CrossPlatformView","useSafeArea","fullWidthHeader","contentWidth","setWindowWidth","updateDimensions","headerContent","mainContent","tabContainer","tab","activeTab","tabText","activeTabText","lastSection","fieldContainer","fieldLabel","birthdayContainer","ageText","MyProfile","professional","portfolio","setActiveTab","setRates","inHouse","overnight","dropBys","boarding","dayCare","photoNeedsSaving","setPhotoNeedsSaving","hasUnsavedChanges","birthday","setBirthday","calculatedAge","setCalculatedAge","fetchMyProfileData","isBio","updateBirthday","fetch","method","stringify","json","maxLeftPosition","calculatedLeft","popupWidth","safeLeft","min","max","saveChanges","CustomButton","invalidInput","link","prototypeWarning","screenHeight","safeArea","cardContainer","quickActions","quickActionButton","bookingItem","Dashboard","isLargeScreen","dynamicStyles","headerTitle","cardTitle","cardParagraph","listItemTitle","listItemDescription","upcomingBookings","profepsronalsional","IconComponent","_ref","props","_objectWithoutPropertiesLoose","_excluded","Content","Card","Title","Paragraph","List","descriptionStyle","Actions","labelStyle","SearchProfessionals","setStartDate","setEndDate","showStartDatePicker","setShowStartDatePicker","showEndDatePicker","setShowEndDatePicker","setLocation","setAnimalType","exoticType","setExoticType","setServiceType","petCount","setPetCount","dogs","cats","exotics","repeatService","setRepeatService","showServicePicker","setShowServicePicker","showAnimalTypePicker","setShowAnimalTypePicker","showRepeatServicePicker","setShowRepeatServicePicker","filtersContainer","picker","filterInput","filterButton","filterText","petCountContainer","petCounter","petType","counterControls","searchButton","searchButtonText","datePickerContainer","webHeader","renderDatePicker","setDate","showPicker","setShowPicker","split","renderPicker","selectedValue","setSelectedValue","options","Picker","onValueChange","itemValue","goBack","KeyboardAvoidingView","behavior","charAt","toUpperCase","searchButtonDisabled","Location","requestForegroundPermissionsAsync","userLocation","getCurrentPositionAsync","coords","latitudeDelta","longitudeDelta","searchParams","initialProfessionals","loadingContainer","emptyStateContainer","createServiceButton","ProfessionalDashboard","setUpcomingBookings","emptyStateText","prototypeBookings","client","fetchDashboardData","upcoming_bookings","retryError","navigateToServiceManager","checkboxContainer","petButton","selectedPetButton","petButtonText","selectedPetButtonText","textInput","certificationText","uploadButton","uploadText","submitButton","submitButtonText","loadingIndicator","subtitle","uploadedFileContainer","uploadedFilePreview","removeFileButton","BecomeProfessional","selectedPets","setSelectedPets","dog","cat","about","setAbout","setCertifications","insuranceProof","setInsuranceProof","isSubmitting","setIsSubmitting","handleFormspreeSubmit","useForm","initializeNavigation","handleBackPress","succeeded","togglePetSelection","base64","newCertification","pop","cert","removeCertification","newProof","proof","removeInsuranceProof","formData","FormData","append","entries","forEach","fileName","fileData","confirm","logoutButtonContainer","logoutButton","switchRoleButtonContainer","switchRoleButton","webContent","webListSection","webListItem","webButtonContainer","MoreScreen","initializeRoutes","handleLogout","handleSwitchRole","newRoute","menuItems","items","lightGrey","removeButton","serviceContainer","reason","textSecondary","seeMoreButton","seeMoreText","modalTime","serviceItem","cardContent","timeContainer","timeText","editButton","fullWidth","timeButton","compactTimeButton","TimePicker","containerStyle","React","webInputStyle","toTimeString","SCREEN_HEIGHT","switchContainer","availabilityButton","availableButton","unavailableButton","availabilityButtonText","timePickerContainer","webTimePicker","unavailableTimesContainer","customDropdown","dropdownContainer","dropdownScroll","dropdownItem","dropdownText","selectedOption","dropdownItemContent","activeToggle","toggleText","activeToggleText","bookingsList","emptyState","contentScrollView","availabilityControls","bookingsContainer","unavailableTimesWrapper","bookingsWrapper","selectedDatesText","ALL_DAYS","DAYS_OF_WEEK","settingContainer","dayContainer","selectedTab","selectedTabText","daySettingsContainer","settingRow","enabledText","DefaultSettingsModal","isVisible","defaultSettings","selectedDays","setSelectedDays","settings","setSettings","Monday","isAllDay","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","showTimePicker","setShowTimePicker","isCurrentlyUnavailable","setIsCurrentlyUnavailable","showDayDropdown","setShowDayDropdown","dropdownButton","getElementById","handleAvailabilityChange","makeAvailable","daysToUpdate","day","newSettings","isUnavailable","renderTimePicker","checkCurrentAvailability","days","some","d","withoutAll","handleDaySelection","renderDaySettings","daySettings","Switch","pointerEvents","newTime","overlay","handleContainer","handle","headerMinimized","headerCenter","statusText","actionButtonText","timeToggleContainer","customToggle","toggleButtonInactive","timeSection","serviceSection","serviceSelector","serviceSelectorText","serviceSelectorError","errorText","AvailabilityBottomSheet","selectedDates","currentAvailability","onViewUnavailableTimes","setStartTime","setEndTime","selectedServices","setSelectedServices","setIsAllDay","setError","isMinimized","setIsMinimized","animatedHeight","Animated","Value","animatedOpacity","getAvailabilityStatus","dateAvailability","isAvailable","unavailableTimes","validateAndSave","format","containerHeight","interpolate","inputRange","outputRange","toggleMinimized","toValue","parallel","timing","useNativeDriver","start","getStatusColor","success","warning","s","timesList","timeSlotContainer","dateHeader","timeSlotContent","bookingContent","timeAndReason","reasonText","bookingButton","UnavailableTimesModal","onRemoveTimeSlot","bookings","formatTime","hours","minutes","setHours","parseInt","getUnavailableTimes","allTimes","processedTimes","Set","dateBookings","timeKey","has","push","isBooking","add","sort","a","b","localeCompare","renderActionButton","handleBookingPress","renderTimeSlot","formattedDate","formattedStartTime","formattedEndTime","mainContainer","bottomSheetOverlay","centeredContainer","defaultSettingsButton","defaultSettingsText","colorKeyContainer","colorKeyTitle","colorKeyItem","colorBox","colorKeyText","loadingText","errorContainer","retryButton","retryButtonText","AvailabilitySettings","markedDates","setMarkedDates","setSelectedDates","isAddModalVisible","setIsAddModalVisible","isSettingsModalVisible","setIsSettingsModalVisible","defaultAvailability","setDefaultAvailability","setCurrentAvailability","setBookings","setDefaultSettings","showBottomSheet","setShowBottomSheet","showUnavailableTimesModal","setShowUnavailableTimesModal","availableDates","unavailableDates","updateMarkedDates","combinedAvailability","err","loadAvailabilityData","newMarkedDates","isFullDay","allServicesSelected","bookingList","marked","dotColor","Calendar","reduce","acc","selected","borderBottomLeftRadius","borderBottomRightRadius","markingType","week","paddingLeft","onDayPress","dateString","selectedDate","getDate","firstDate","getTime","range","currentDate","renderArrow","direction","iconName","availabilityData","newCurrentAvailability","dates","handleAddAvailability","onViewBookings","handleViewBookings","initialTab","handleRemoveTimeSlot","timeSlot","updatedAvailability","currentDateAvailability","filteredTimes","today","oneYearFromNow","getFullYear","getMonth","daysMapping","UTC","targetDayNumber","currentDayNumber","getUTCDay","setUTCDate","getUTCDate","applyDefaultSettingsToCalendar","contentWrapper","petCard","scale","petCardContent","petImage","petImagePlaceholder","MyPets","fetchPets","PetCard","history","replaceState","getAnimalIcon","androidContainer","StatusBar","currentHeight","messageButtonContainer","messageButton","ClientHistory","clientData","contracts","invoices","contract","invoice","validateDateTimeRange","startHour","startMinute","Number","endHour","endMinute","startDateTime","endDateTime","ANIMAL_COUNT_OPTIONS","ScrollableContent","className","dateTimeSection","dateTimeContainer","dateTimeColumn","topSpacing","rateRow","rateInput","rateAmountContainer","rateAmountInput","addRateButtonText","inputContainer","dollarSign","rateLabelContainer","rateTitleLabel","rateAmountLabel","rateContainer","baseRateInput","timeUnitInput","totalSection","totalLabel","totalAmount","selectedDropdownText","pickerItem","AddOccurrenceModal","onAdd","defaultRates","hideRates","initialOccurrence","isEditing","createTimeDate","timeStr","setMinutes","occurrence","setOccurrence","appliesAfterAnimals","timeUnit","getHours","setTimeUnit","showAddRate","setShowAddRate","newRate","setNewRate","setValidationError","calculateTotal","parseFloat","toFixed","sum","platformFee","handleClose","rateSection","editable","handleDeleteRate","handleAddRate","handleSubmit","validation","occurrenceData","handleAdd","serviceOptions","serviceButton","petOptions","dateContainer","timePickerWrapper","dropdownInput","dropdownList","addPetButton","addPetText","occurrenceCard","occurrenceDetails","addOccurrenceButton","addOccurrenceText","occurrenceActions","bookingRequestCard","bookingRequestHeader","bookingRequestTitle","bookingRequestDetails","detailLabel","detailText","acceptButton","acceptButtonText","occurrenceCardError","RequestBookingModal","onSubmit","selectedService","setSelectedService","showPetDropdown","setShowPetDropdown","showAddOccurrenceModal","setShowAddOccurrenceModal","setOccurrences","selectedOccurrence","setSelectedOccurrence","confirmationModal","setConfirmationModal","occurrenceErrors","setOccurrenceErrors","confirmDeleteOccurrence","occ","occurrenceToDelete","handleDeleteOccurrence","handleOpenOccurrenceModal","p","petDropdown","dropdownPetName","dropdownPetDetails","renderOccurrenceCard","occs","errors","validateOccurrences","bookingRequestMessage","newOccurrence","MessageHistory","headerContainer","conversationListContainer","borderRightWidth","conversationItem","selectedConversation","borderLeftWidth","borderLeftColor","conversationName","messageSection","messagesContainer","messageList","messageInputContainer","attachButton","sendButton","messageCard","messageContent","sentMessage","messageText","sentMessageContainer","receivedMessageContainer","senderAbove","sentSenderName","receivedSenderName","timestampBelow","sentTimestamp","receivedTimestamp","sentMessageText","receivedMessageText","webInput","appearance","touchAction","WebkitTapHighlightColor","WebkitUserSelect","userSelect","conversationContent","conversationHeader","conversationTime","conversationLastMessage","unreadMessage","bookingStatusContainer","bookingStatus","requestBookingButton","requestBookingLabel","messageListContainer","inputInnerContainer","attachButtonContainer","dropdownMenu","activeConversationText","mobileMessageView","backButtonText","mobileHeader","mobileContent","sendButtonMobile","messageHeader","messageHeaderName","mobileHeaderContent","mobileHeaderName","backArrow","sentBookingRequest","receivedBookingRequest","viewBookingButton","viewBookingText","statusContainer","createStyles","setSelectedConversation","selectedConversationData","setSelectedConversationData","messages","setMessages","isSending","setIsSending","showRequestModal","setShowRequestModal","showDropdown","setShowDropdown","conversations","setConversations","conversation","conv","conversationMessages","professionalId","isProfessional","useCallback","renderBookingRequestMessage","isFromMe","BookingRequestMessage","onAccept","renderMessage","toLocaleTimeString","simulateMessageSend","messageData","WebInput","setMessage","handleSend","newMsg","prevMessages","onKeyPress","shiftKey","preventDefault","renderConversationList","otherParticipantName","participant2_name","participant1_name","bookingPendingStatus","renderMessageSection","currentConversation","handleRequestBooking","handleResize","messageType","handleViewBooking","readOnly","newMessage","stripePromise","Elements","useStripe","useElements","CardElement","IbanElement","ELEMENT_OPTIONS","supportedCountries","base","fontSmoothing","invalid","iconColor","WebPaymentForm","paymentType","elements","bankFields","setBankFields","accountNumber","routingNumber","complete","handleBankFieldChange","field","updatedFields","isAccountNumberValid","isRoutingNumberValid","NativePaymentElement","StripePaymentElement","stripeReact","initializeStripe","secureTextEntry","bankInputsContainer","bankInput","sectionContainer","segmentedButtons","methodInfo","methodType","primaryOptionsContainer","checkboxRow","checkbox","checkboxLabel","cardActions","dialog","loadingOverlay","bankName","verificationNeeded","amountsContainer","amountInput","verificationText","addIconButton","PaymentMethods","paymentMethods","setPaymentMethods","confirmPrimaryDialogVisible","setConfirmPrimaryDialogVisible","selectedMethod","setSelectedMethod","primaryAction","setPrimaryAction","newPaymentMethod","setNewPaymentMethod","cardNumber","expiryDate","cvc","isConfirming","setIsConfirming","deleteDialogVisible","setDeleteDialogVisible","methodToDelete","setMethodToDelete","deleteError","setDeleteError","cardComplete","setCardComplete","cardElement","setCardElement","stripeElement","setStripeElement","bankAccountComplete","setBankAccountComplete","verificationModalVisible","setVerificationModalVisible","verificationAmounts","setVerificationAmounts","first","second","verifyingMethod","setVerifyingMethod","modalLoading","setModalLoading","isPrimaryPayment","isPrimaryReceive","is_verified","last4","brand","checkStripeReady","handleEditMethod","handleDeleteMethod","handleSetPrimary","confirmSetPrimary","prevMethods","confirmDeleteMethod","handleVerifyBankAccount","handleVerificationSubmit","firstAmount","secondAmount","isNaN","simulateBackendVerification","reject","updateMethod","methods","m","handlePaymentChange","handleSavePaymentMethod","createPaymentMethod","getElement","paymentMethodData","paymentMethod","createToken","currency","routing_number","account_number","account_holder_type","bank_account","bank_name","IconButton","STRIPE_PUBLISHABLE_KEY","handleAddMethod","renderPaymentMethod","Dialog","SegmentedButtons","buttons","animating","listSection","warningContainer","warningText","Settings","settingsItems","Divider","appName","paragraph","listItem","PrivacyPolicy","ProfessionalSettings","testSection","TermsOfService","HelpFAQ","ContactUs","setSuccessMessage","maxContentWidth","ValidationError","prefix","autoCapitalize","submitting","SearchBar","forwardRef","initialValue","setValue","MaterialIcons","focus","autoFocus","returnKeyType","blurOnSubmit","memo","androidSafeArea","searchAndFilterContainer","searchBar","clientList","clientCard","petTypes","petChip","noClientsContainer","filterChip","applyButton","closeIcon","Clients","searchQuery","setSearchQuery","selectedFilters","setSelectedFilters","tempFilters","setTempFilters","isFilterModalVisible","setIsFilterModalVisible","clients","setClients","fetchClients","toggleFilter","prevFilters","applyFilters","filteredClients","useMemo","matchesSearch","matchesFilters","every","lastBookingDate","weekAgo","monthAgo","setMonth","yearAgo","setFullYear","renderClient","Chip","handleSearchChange","query","TouchableWithoutFeedback","keyboardShouldPersistTaps","removeClippedSubviews","CostCalculationModal","onContactPress","additionalAnimals","setAdditionalAnimals","isHolidayRate","setIsHolidayRate","selectedRates","setSelectedRates","setTotalCost","platformFees","setPlatformFees","ratesObj","calculateTotalCost","rateItem","counterContainer","counterButton","counterText","trackColor","false","true","totalItem","finalTotal","finalTotalText","contactButton","contactButtonText","dateSection","dateColumn","dateLabel","heartButton","flexShrink","animalTypeContainer","calculateButton","calculateButtonText","ServiceCard","onHeartPress","isFavorite","isModalVisible","setIsModalVisible","handleContactPress","existingConversation","newConversation","createNewConversation","conversationId","isCurrentUserClient","unshift","WebMap","mockReviews","rating","createElement","textContent","head","appendChild","topSection","gallerySection","photoGrid","bottomSection","servicesSection","aboutSection","hostingSection","hostTitle","weightRanges","weightRange","galleryPhoto","rateLabel","addPhotoButton","ratingContainer","reviewCount","statsContainer","statItem","bioText","serviceText","servicePrice","skillsGrid","skillBadge","skillText","photoGallery","calculatorText","additionalRatesButton","outline","additionalRatesText","calendarSection","readMoreButton","readMoreText","reviewItem","mapContainer","petsSection","petBreed","aboutSubsections","communicationSection","skillsSection","homeDetails","noReviews","fontStyle","twoColumnLayout","singleColumnLayout","leftColumn","rightColumn","calendar","homeFeaturesGrid","featureBubble","reviewHeader","reviewerPhoto","reviewerInfo","reviewerName","serviceInfo","modalCloseIcon","modalScrollContent","reviewsGrid","specialistSection","specialistText","modalReviewItem","leftColumnMobile","seeAllButton","seeAllButtonText","modalServicesGrid","reviewMeta","starContainer","ProfessionalProfile","professionalData","setProfessionalData","canGoBack","setCanGoBack","bioModalVisible","setBioModalVisible","reviewsModalVisible","setReviewsModalVisible","specialistModalVisible","setSpecialistModalVisible","favoriteServices","setFavoriteServices","servicesModalVisible","setServicesModalVisible","isWideScreen","useResponsiveLayout","setIsWideScreen","profileSection","profileSectionMobile","servicesBox","hasHistory","getState","routes","handlePopState","storedProfessional","loadProfessionalData","toggleFavorite","serviceId","renderProfilePhoto","renderRatingStars","TruncatedText","maxLines","renderMap","MapContainer","TileLayer","Marker","center","zoom","attribution","styles2","HomeFeature","renderReview","review","renderAvailability","calendarBackground","selectedDayBackgroundColor","selectedDayTextColor","todayTextColor","servicesScroll","servicesWrapper","horizontal","showsHorizontalScrollIndicator","servicesScrollContent","homeSection","noContractsText","contractTitle","ContractList","setContracts","fetchContracts","modalPicker","dropdownButtonText","pickerModalContainer","pickerContainer","pickerCloseButton","pickerCloseButtonText","ClientPicker","selectedClient","onSelectClient","showClientPicker","setShowClientPicker","templateGrid","templateBox","templateTitle","noTemplatesText","textArea","clientPickerContainer","ContractTemplate","templates","isTemplateModalVisible","setTemplateModalVisible","isEditModalVisible","setEditModalVisible","selectedTemplate","setSelectedTemplate","contractContent","setContractContent","setSelectedClient","template","handleTemplateSelect","handleAddSignableField","prevContent","chronicleTitle","summary","ChronicleSummary","chronicles","chronicle","outerContainer","boxShadow","dropdownItemText","QuestionInput","dropdownPosition","setDropdownPosition","layout","setLayout","handleChange","useLayoutEffect","toggleDropdown","onLayout","nativeEvent","activeOpacity","q","createButton","createButtonText","webModalContent","petOption","selectedPet","petOptionText","uploadButtonText","photoPreview","photoThumbnail","questionContainer","modalButtonContainer","addQuestionButton","addQuestionButtonText","answerInputContainer","answerInput","summaryInput","photoContainer","ChronicleForm","onCreateChronicle","questions","setQuestions","question","answer","isPreset","setSummary","photos","setPhotos","isUploading","setIsUploading","isCreating","setIsCreating","updateQuestion","newQuestions","PhotoPreview","addNewQuestion","uploadingText","uploadingSpinner","handleCreateChronicle","newChronicle","useTemplateButton","useTemplateButtonText","MyContracts","setChronicles","setTemplates","fetchChronicles","fetchTemplates","prevChronicles","successText","ChangePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","setSuccess","setToken","storedToken","getToken","current_password","new_password","rows","maxLength","formContainer","profileImageContainer","profileImage","profileImagePlaceholder","boldLabel","resize","customInput","leftTab","rightTab","buttonRow","yesNoContainer","yesNoButton","activeYesNoButton","yesNoText","datePicker","documentsContainer","documentsList","documentThumbnail","galleryContainer","galleryThumbnail","AddPet","petData","stored","search","setPetName","setPetType","setWeight","setBreed","ageYears","setAgeYears","ageMonths","setAgeMonths","setSex","setFriendlyWithChildren","setFriendlyWithCats","setFriendlyWithDogs","setSpayedNeutered","setHouseTrained","setMicrochipped","setAdoptionDate","setDescription","setProfileImage","pottyBreakSchedule","setPottyBreakSchedule","customPottyBreak","setCustomPottyBreak","setEnergyLevel","setFeedingSchedule","customFeedingSchedule","setCustomFeedingSchedule","setLeftAlone","customLeftAlone","setCustomLeftAlone","setMedication","medicationDetails","setMedicationDetails","setAdditionalInstructions","setVetName","setVetAddress","setVetPhone","setVetDocuments","setInsuranceProvider","setGalleryImages","estimatedBirthday","setEstimatedBirthday","veterinarian","documents","estimatedDate","renderTab","renderToggleButtons","customValue","setCustomValue","renderYesNoButtons","handleInputChange","setter","birthDate","calculateAge","All","doc","prevImages","resizeMode","handleSaveProfile","details","img","renderSexButtons","dropdown","itemText","chipsContainer","chip","chipText","chipRemove","CustomMultiSelect","isOpen","setIsOpen","dropdownRef","getDisplayText","selectedItems","v","displayText","substring","handleItemSelect","stopPropagation","newValue","handleRemoveItem","generalCategoriesData","LocationInput","suggestions","onSuggestionSelect","locationInputRef","debouncedFetch","debounce","display_name","lat","lon","locationInputWrapper","locationInput","suggestionsWrapper","suggestionItem","borderRightColor","datePickerWrapper","dateInput","priceRangeContainer","slider","datePickersContainer","selectedItem","dropdownIcon","itemContainer","selectedChip","selectedChipText","dropdownItemSelected","dropdownItemTextSelected","SearchRefiner","onFiltersChange","filters","setFilters","minRate","maxRate","locationSuggestions","setLocationSuggestions","selectedGeneralCategories","setSelectedGeneralCategories","selectedAnimalTypes","setSelectedAnimalTypes","isServiceDropdownOpen","setIsServiceDropdownOpen","isAnimalDropdownOpen","setIsAnimalDropdownOpen","isGeneralDropdownOpen","setIsGeneralDropdownOpen","handleFilterChange","newFilters","Slider","minimumValue","maximumValue","step","minimumTrackTintColor","maximumTrackTintColor","ProfessionalCard","handlePress","infoContainer","starProfessionalBadge","ratingText","list","listContent","starProfessionalText","repeats","ProfessionalList","professionals","onLoadMore","onProfessionalSelect","onEndReached","onEndReachedThreshold","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","WebMapComponent","onMarkerPress","region","html","eventHandlers","click","Popup","popupContent","startingRate","markerText","calloutContainer","calloutText","MapView","column","filterColumn","listColumn","mapColumn","mobileNav","activeNavButton","navButtonText","containerMobile","mobileHeaderText","mobileHeaderRight","headerIcon","mapButton","SearchProfessionalsListing","activeView","setActiveView","setProfessionals","setRegion","addListener","handleFiltersChange","handleLoadMore","handleProfessionalSelect","datetime","viewButton","BookingCard","onViewDetails","onCancel","searchContainer","searchInput","listContainer","emptyStateTitle","emptyStateSubtitle","createServiceButtonText","MyBookings","fetchBookings","professional_bookings","client_bookings","searchLower","filtered","renderBookingCard","handleViewDetails","handleCancelBooking","EmptyStateMessage","AddRateModal","setAmount","LAST_VIEWED_BOOKING_ID","SERVICE_OPTIONS","PET_OPTIONS","formatDateWithoutTimezone","month","num","RequestChangesModal","setReason","reasonInput","statusBadge","costRow","totalRow","payoutRow","payoutLabel","payoutAmount","policyText","statusLabel","occurrenceCost","noContentText","editField","editableServiceRow","removeServiceButton","editRow","editInput","timeDropdownList","bookingDatesSection","sectionSubtitle","dateTimeRow","timePickerButton","rateSectionTitle","rateInputRow","rateInputGroup","summarySection","summaryRow","rateHeaderRow","columnHeader","rateAmountColumn","rateActionButtons","infoButton","actionButtonsContainer","primaryButton","denyButton","serviceEditContainer","serviceInputRow","numberInput","serviceDetailsContainer","serviceDetailRow","actionButtons","editOccurrenceButton","editOccurrenceText","occurrenceCostRow","occurrenceCostHeader","occurrenceCostHeaderText","costAndIcon","costSummary","expandedCostDetails","costDetailRow","costDetailText","sectionEditButton","noPetsText","proName","serviceTypeLabel","petListTitle","occurrenceTitle","occurrenceDate","occurrenceTime","costBreakdownTitle","costLabel","costAmount","additionalRateLabel","additionalRateAmount","serviceDetailLabel","serviceDetailValue","occurrenceCardTitle","occurrenceCardDate","occurrenceCardTime","summaryText","occurrenceCardText","BookingDetails","useRoute","currentUser","setBooking","isProfessionalView","setIsProfessionalView","isPetsEditMode","setIsPetsEditMode","isServiceEditMode","setIsServiceEditMode","editedBooking","setEditedBooking","serviceDetails","holidayFee","weekendFee","timeDropdownPosition","setTimeDropdownPosition","showAddRateModal","setShowAddRateModal","showStartTimePicker","setShowStartTimePicker","showEndTimePicker","setShowEndTimePicker","showPetRateDropdown","setShowPetRateDropdown","showAdditionalPetRate","setShowAdditionalPetRate","showHolidayRate","setShowHolidayRate","showWeekendRate","setShowWeekendRate","expandedOccurrenceId","setExpandedOccurrenceId","isPetsSaving","setIsPetsSaving","isServiceSaving","setIsServiceSaving","showRequestChangesModal","setShowRequestChangesModal","actionLoading","setActionLoading","availablePets","setAvailablePets","isLoadingPets","setIsLoadingPets","availableServices","setAvailableServices","isLoadingServices","setIsLoadingServices","bookingData","bookingDetails","requestedId","availableBookings","fetchBookingDetails","transformedBooking","num_pets","fetchBooking","getDisplayValue","canEdit","can_edit","togglePetsEditMode","patch","booking_status","prevBooking","Pending","textColor","Confirmed","Canceled","Completed","recalculateTotals","quantity","calculateTotalCosts","handleStatusUpdateAfterEdit","newStatus","handleStatusUpdate","handleDateTimeCardPress","transformedOccurrence","multiple","calculateMultiple","getTimeUnitDisplay","unit","messageSent","recipientId","bookingMessage","sendBookingMessage","currentStatus","updatedBooking","bookingKey","statusReason","updateBookingStatus","showConfirmation","occurrenceId","updatedOccurrences","StatusBadge","testID","petRow","fetchAvailablePets","service_id","fetchAvailableServices","service_name","renderActionButtons","approveButton","updatedData","updatedOccurrence","updateResponse","bookingResponse","handleSaveOccurrence","ServiceManagerScreen","showAddModal","setShowAddModal","fetchServices","setRouteHistory","searchBarContainer","noResultsContainer","noResultsText","webSearchInput","outlineWidth","outlineStyle","BlogScreen","filteredPosts","setFilteredPosts","handleSearch","lowercaseQuery","truncatedContent","authorBio","postInfo","referencesTitle","reference","referenceText","errorButton","errorButtonText","BlogPost","setPost","isValidPost","postData","storedPost","parsedPost","postId","foundPost","loadPost","Linking","openURL","handleReferencePress","formSection","nameContainer","nameField","checkboxGroup","checkboxIcon","radioGroup","radioContainer","radio","radioSelected","radioLabel","otherInputContainer","otherInput","Waitlist","lastName","setLastName","setPetInfo","userType","setUserType","hesitations","setHesitations","desiredFeatures","setDesiredFeatures","newsletter","setNewsletter","agreeToTerms","setAgreeToTerms","otherService","setOtherService","showOtherInput","setShowOtherInput","toggleService","Stack","createStackNavigator","screens","createBottomTabNavigator","component","isUserScrolling","setIsUserScrolling","AutoScrollSection","cardWidth","currentIndex","setCurrentIndex","userScrolling","setUserScrolling","autoScrollTimerRef","setInterval","nextIndex","scrollToIndex","clearInterval","scrollTo","animated","handleScrollEnd","onScroll","contentOffset","round","scrollEventThrottle","pagingEnabled","onScrollBeginDrag","handleScrollBegin","onScrollEndDrag","onMomentumScrollEnd","handleDotPress","Features","roadmapColors","featureItemStyle","featureContentStyle","FontAwesome6","FontAwesome","ReviewsSection","BlogSection","renderBlogPost","tagIndex","ContactSection","password","setPassword","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLogin","mockAccess","mockRefresh","errorMessage","handleDocumentKeyPress","handleKeyPress","keyboardVerticalOffset","userData","password2","phone_number","errorData","firstError","emailError","setEmailError","uid","linking","enabled","prefixes","config","Home","About","SignIn","SignUp","ResetPassword","ResetPasswordConfirm","path","messageId","senderName","More","Blog","navigationRef","createNavigationContainerRef","isReady","PrototypeWarning","setIsVisible","checkBannerStatus","warningBanner","warningContent","waitlistButtonText","AppContent","setInitialRoute","authStatus","routePath","matchingScreen","screen","initializeApp","NavigationContainer","onStateChange","Navigator","initialRouteName","screenOptions","headerShown","TransitionPresets","SlideFromRightIOS","presentation","animation","Screen","App","PaperProvider","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","splice","r","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","t","this","ns","def","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","all","promises","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","Symbol","toStringTag","nmd","paths","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}